/*! For license information please see vendors~main.9b6818ec.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js":function(module,exports){module.exports=function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach((function(key){desc[key]=descriptor[key]})),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce((function(desc,decorator){return decorator(target,property,desc)||desc}),desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/assertThisInitialized.js":function(module,exports){module.exports=function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(module,exports){module.exports=function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/createClass.js":function(module,exports){function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/get.js":function(module,exports,__webpack_require__){var superPropBase=__webpack_require__("./node_modules/@babel/runtime/helpers/superPropBase.js");function _get(){return"undefined"!=typeof Reflect&&Reflect.get?(module.exports=_get=Reflect.get,module.exports.__esModule=!0,module.exports.default=module.exports):(module.exports=_get=function _get(target,property,receiver){var base=superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},module.exports.__esModule=!0,module.exports.default=module.exports),_get.apply(this,arguments)}module.exports=_get,module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/getPrototypeOf.js":function(module,exports){function _getPrototypeOf(o){return module.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},module.exports.__esModule=!0,module.exports.default=module.exports,_getPrototypeOf(o)}module.exports=_getPrototypeOf,module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/inherits.js":function(module,exports,__webpack_require__){var setPrototypeOf=__webpack_require__("./node_modules/@babel/runtime/helpers/setPrototypeOf.js");module.exports=function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&setPrototypeOf(subClass,superClass)},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/initializerDefineProperty.js":function(module,exports){module.exports=function _initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/initializerWarningHelper.js":function(module,exports){module.exports=function _initializerWarningHelper(descriptor,context){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(module,exports){module.exports=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js":function(module,exports,__webpack_require__){var _typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js").default,assertThisInitialized=__webpack_require__("./node_modules/@babel/runtime/helpers/assertThisInitialized.js");module.exports=function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return assertThisInitialized(self)},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/setPrototypeOf.js":function(module,exports){function _setPrototypeOf(o,p){return module.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},module.exports.__esModule=!0,module.exports.default=module.exports,_setPrototypeOf(o,p)}module.exports=_setPrototypeOf,module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/superPropBase.js":function(module,exports,__webpack_require__){var getPrototypeOf=__webpack_require__("./node_modules/@babel/runtime/helpers/getPrototypeOf.js");module.exports=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=getPrototypeOf(object)););return object},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/taggedTemplateLiteralLoose.js":function(module,exports){module.exports=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings},module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/typeof.js":function(module,exports){function _typeof(obj){return module.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},module.exports.__esModule=!0,module.exports.default=module.exports,_typeof(obj)}module.exports=_typeof,module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@storybook/addon-actions/dist/esm/constants.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return PARAM_KEY})),__webpack_require__.d(__webpack_exports__,"a",(function(){return EVENT_ID}));var PARAM_KEY="actions",EVENT_ID=("".concat("storybook/actions","/panel"),"".concat("storybook/actions","/action-event"))},"./node_modules/@storybook/addon-actions/dist/esm/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/constants.js");var _models__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/models/index.js");__webpack_require__.o(_models__WEBPACK_IMPORTED_MODULE_1__,"action")&&__webpack_require__.d(__webpack_exports__,"action",(function(){return _models__WEBPACK_IMPORTED_MODULE_1__.action})),__webpack_require__.o(_models__WEBPACK_IMPORTED_MODULE_1__,"withActions")&&__webpack_require__.d(__webpack_exports__,"withActions",(function(){return _models__WEBPACK_IMPORTED_MODULE_1__.withActions}));var _preview__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/preview/index.js");__webpack_require__.d(__webpack_exports__,"action",(function(){return _preview__WEBPACK_IMPORTED_MODULE_2__.a})),__webpack_require__.d(__webpack_exports__,"withActions",(function(){return _preview__WEBPACK_IMPORTED_MODULE_2__.b})),module&&module.hot&&module.hot.decline&&module.hot.decline()}).call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./node_modules/@storybook/addon-actions/dist/esm/models/ActionDisplay.js":function(module,exports){},"./node_modules/@storybook/addon-actions/dist/esm/models/ActionOptions.js":function(module,exports){},"./node_modules/@storybook/addon-actions/dist/esm/models/ActionsFunction.js":function(module,exports){},"./node_modules/@storybook/addon-actions/dist/esm/models/ActionsMap.js":function(module,exports){},"./node_modules/@storybook/addon-actions/dist/esm/models/DecoratorFunction.js":function(module,exports){},"./node_modules/@storybook/addon-actions/dist/esm/models/HandlerFunction.js":function(module,exports){},"./node_modules/@storybook/addon-actions/dist/esm/models/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";var _ActionDisplay__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/models/ActionDisplay.js");__webpack_require__.o(_ActionDisplay__WEBPACK_IMPORTED_MODULE_0__,"action")&&__webpack_require__.d(__webpack_exports__,"action",(function(){return _ActionDisplay__WEBPACK_IMPORTED_MODULE_0__.action})),__webpack_require__.o(_ActionDisplay__WEBPACK_IMPORTED_MODULE_0__,"withActions")&&__webpack_require__.d(__webpack_exports__,"withActions",(function(){return _ActionDisplay__WEBPACK_IMPORTED_MODULE_0__.withActions}));var _ActionsFunction__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/models/ActionsFunction.js");__webpack_require__.o(_ActionsFunction__WEBPACK_IMPORTED_MODULE_1__,"action")&&__webpack_require__.d(__webpack_exports__,"action",(function(){return _ActionsFunction__WEBPACK_IMPORTED_MODULE_1__.action})),__webpack_require__.o(_ActionsFunction__WEBPACK_IMPORTED_MODULE_1__,"withActions")&&__webpack_require__.d(__webpack_exports__,"withActions",(function(){return _ActionsFunction__WEBPACK_IMPORTED_MODULE_1__.withActions}));var _ActionOptions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/models/ActionOptions.js");__webpack_require__.o(_ActionOptions__WEBPACK_IMPORTED_MODULE_2__,"action")&&__webpack_require__.d(__webpack_exports__,"action",(function(){return _ActionOptions__WEBPACK_IMPORTED_MODULE_2__.action})),__webpack_require__.o(_ActionOptions__WEBPACK_IMPORTED_MODULE_2__,"withActions")&&__webpack_require__.d(__webpack_exports__,"withActions",(function(){return _ActionOptions__WEBPACK_IMPORTED_MODULE_2__.withActions}));var _ActionsMap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/models/ActionsMap.js");__webpack_require__.o(_ActionsMap__WEBPACK_IMPORTED_MODULE_3__,"action")&&__webpack_require__.d(__webpack_exports__,"action",(function(){return _ActionsMap__WEBPACK_IMPORTED_MODULE_3__.action})),__webpack_require__.o(_ActionsMap__WEBPACK_IMPORTED_MODULE_3__,"withActions")&&__webpack_require__.d(__webpack_exports__,"withActions",(function(){return _ActionsMap__WEBPACK_IMPORTED_MODULE_3__.withActions}));var _DecoratorFunction__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/models/DecoratorFunction.js");__webpack_require__.o(_DecoratorFunction__WEBPACK_IMPORTED_MODULE_4__,"action")&&__webpack_require__.d(__webpack_exports__,"action",(function(){return _DecoratorFunction__WEBPACK_IMPORTED_MODULE_4__.action})),__webpack_require__.o(_DecoratorFunction__WEBPACK_IMPORTED_MODULE_4__,"withActions")&&__webpack_require__.d(__webpack_exports__,"withActions",(function(){return _DecoratorFunction__WEBPACK_IMPORTED_MODULE_4__.withActions}));var _HandlerFunction__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/models/HandlerFunction.js");__webpack_require__.o(_HandlerFunction__WEBPACK_IMPORTED_MODULE_5__,"action")&&__webpack_require__.d(__webpack_exports__,"action",(function(){return _HandlerFunction__WEBPACK_IMPORTED_MODULE_5__.action})),__webpack_require__.o(_HandlerFunction__WEBPACK_IMPORTED_MODULE_5__,"withActions")&&__webpack_require__.d(__webpack_exports__,"withActions",(function(){return _HandlerFunction__WEBPACK_IMPORTED_MODULE_5__.withActions}))},"./node_modules/@storybook/addon-actions/dist/esm/preset/addArgs.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var addArgs_namespaceObject={};__webpack_require__.r(addArgs_namespaceObject),__webpack_require__.d(addArgs_namespaceObject,"argsEnhancers",(function(){return argsEnhancers}));var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),dist_esm=(__webpack_require__("./node_modules/core-js/modules/es.regexp.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"));function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var argsEnhancers=[function addActionsFromArgTypes(context){var initialArgs=context.initialArgs,argTypes=context.argTypes,actions=context.parameters.actions;return null!=actions&&actions.disable||!argTypes?{}:Object.entries(argTypes).filter((function(_ref5){var _ref6=_slicedToArray(_ref5,2);_ref6[0];return!!_ref6[1].action})).reduce((function(acc,_ref7){var _ref8=_slicedToArray(_ref7,2),name=_ref8[0],argType=_ref8[1];return void 0===initialArgs[name]&&(acc[name]=Object(dist_esm.action)("string"==typeof argType.action?argType.action:name)),acc}),{})},function inferActionsFromArgTypesRegex(context){var initialArgs=context.initialArgs,argTypes=context.argTypes,actions=context.parameters.actions;if(!actions||actions.disable||!actions.argTypesRegex||!argTypes)return{};var argTypesRegex=new RegExp(actions.argTypesRegex);return Object.entries(argTypes).filter((function(_ref){var name=_slicedToArray(_ref,1)[0];return!!argTypesRegex.test(name)})).reduce((function(acc,_ref3){var _ref4=_slicedToArray(_ref3,2),name=_ref4[0];_ref4[1];return void 0===initialArgs[name]&&(acc[name]=Object(dist_esm.action)(name)),acc}),{})}];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(addArgs_namespaceObject).forEach((function(key){var value=addArgs_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./node_modules/@storybook/addon-actions/dist/esm/preset/addDecorator.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var addDecorator_namespaceObject={};__webpack_require__.r(addDecorator_namespaceObject),__webpack_require__.d(addDecorator_namespaceObject,"decorators",(function(){return decorators}));var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),decorators=[__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js").withActions];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(addDecorator_namespaceObject).forEach((function(key){var value=addDecorator_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./node_modules/@storybook/addon-actions/dist/esm/preview/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return action})),__webpack_require__.d(__webpack_exports__,"b",(function(){return withActions}));__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js");var v4=__webpack_require__("./node_modules/uuid-browser/v4.js"),v4_default=__webpack_require__.n(v4),esm=__webpack_require__("./node_modules/@storybook/addons/dist/esm/index.js"),constants=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/constants.js"),config={depth:10,clearOnStoryChange:!0,limit:50};function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var findProto=function findProto(obj,callback){var proto=Object.getPrototypeOf(obj);return!proto||callback(proto)?proto:findProto(proto,callback)},isReactSyntheticEvent=function isReactSyntheticEvent(e){return Boolean("object"===_typeof(e)&&e&&findProto(e,(function(proto){return/^Synthetic(?:Base)?Event$/.test(proto.constructor.name)}))&&"function"==typeof e.persist)},serializeArg=function serializeArg(a){if(isReactSyntheticEvent(a)){var e=Object.create(a.constructor.prototype,Object.getOwnPropertyDescriptors(a));e.persist();var viewDescriptor=Object.getOwnPropertyDescriptor(e,"view"),view=null==viewDescriptor?void 0:viewDescriptor.value;return"object"===_typeof(view)&&"Window"===(null==view?void 0:view.constructor.name)&&Object.defineProperty(e,"view",Object.assign({},viewDescriptor,{value:Object.create(view.constructor.prototype)})),e}return a};function action(name){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},actionOptions=Object.assign({},config,options),handler=function actionHandler(){for(var channel=esm.a.getChannel(),id=v4_default()(),minDepth=5,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var serializedArgs=args.map(serializeArg),normalizedArgs=args.length>1?serializedArgs:serializedArgs[0],actionDisplayToEmit={id:id,count:0,data:{name:name,args:normalizedArgs},options:Object.assign({},actionOptions,{maxDepth:minDepth+(actionOptions.depth||3),allowFunction:actionOptions.allowFunction||!1})};channel.emit(constants.a,actionDisplayToEmit)};return handler}__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var actions_actions=function actions(){for(var options=config,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var names=args;if(1===names.length&&Array.isArray(names[0])){var _names=names,_names2=_slicedToArray(_names,1);names=_names2[0]}1!==names.length&&"string"!=typeof names[names.length-1]&&(options=Object.assign({},config,names.pop()));var namesObject=names[0];1===names.length&&"string"!=typeof namesObject||(namesObject={},names.forEach((function(name){namesObject[name]=name})));var actionsObject={};return Object.keys(namesObject).forEach((function(name){actionsObject[name]=action(namesObject[name],options)})),actionsObject},browser=(__webpack_require__("./node_modules/core-js/modules/es.object.freeze.js"),__webpack_require__("./node_modules/util-deprecate/browser.js")),browser_default=__webpack_require__.n(browser),ts_dedent_esm=__webpack_require__("./node_modules/ts-dedent/esm/index.js");browser_default()((function(){}),"decorate.* is no longer supported as of Storybook 6.0."),__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./node_modules/core-js/modules/es.string.match.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js");var withActions_templateObject,global_window=__webpack_require__("./node_modules/global/window.js"),window_default=__webpack_require__.n(global_window),hooks=__webpack_require__("./node_modules/@storybook/addons/dist/esm/hooks.js"),make_decorator=__webpack_require__("./node_modules/@storybook/addons/dist/esm/make-decorator.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return withActions_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||withActions_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function withActions_slicedToArray(arr,i){return function withActions_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function withActions_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||withActions_unsupportedIterableToArray(arr,i)||function withActions_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function withActions_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return withActions_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?withActions_arrayLikeToArray(o,minLen):void 0}}function withActions_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var withActions_document=window_default.a.document,Element=window_default.a.Element,delegateEventSplitter=/^(\S+)\s*(.*)$/,matchesMethod=null!=Element&&!Element.prototype.matches?"msMatchesSelector":"matches",root=withActions_document&&withActions_document.getElementById("root"),hasMatchInAncestry=function hasMatchInAncestry(element,selector){if(element[matchesMethod](selector))return!0;var parent=element.parentElement;return!!parent&&hasMatchInAncestry(parent,selector)},createHandlers=function createHandlers(actionsFn){for(var _len=arguments.length,handles=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)handles[_key-1]=arguments[_key];var actionsObject=actionsFn.apply(void 0,handles);return Object.entries(actionsObject).map((function(_ref){var _ref2=withActions_slicedToArray(_ref,2),key=_ref2[0],action=_ref2[1],_key$match2=withActions_slicedToArray(key.match(delegateEventSplitter),3),eventName=(_key$match2[0],_key$match2[1]),selector=_key$match2[2];return{eventName:eventName,handler:function handler(e){selector&&!hasMatchInAncestry(e.target,selector)||action(e)}}}))},applyEventHandlers=browser_default()((function(actionsFn){for(var _len2=arguments.length,handles=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)handles[_key2-1]=arguments[_key2];Object(hooks.f)((function(){if(null!=root){var handlers=createHandlers.apply(void 0,[actionsFn].concat(handles));return handlers.forEach((function(_ref3){var eventName=_ref3.eventName,handler=_ref3.handler;return root.addEventListener(eventName,handler)})),function(){return handlers.forEach((function(_ref4){var eventName=_ref4.eventName,handler=_ref4.handler;return root.removeEventListener(eventName,handler)}))}}}),[root,actionsFn,handles])}),Object(ts_dedent_esm.a)(withActions_templateObject||(withActions_templateObject=function withActions_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n    withActions(options) is deprecated, please configure addon-actions using the addParameter api:\n\n    addParameters({\n      actions: {\n        handles: options\n      },\n    });\n  "])))),withActions=Object(make_decorator.a)({name:"withActions",parameterName:constants.b,skipIfNoParametersOrOptions:!0,wrapper:function wrapper(getStory,context,_ref5){var parameters=_ref5.parameters,options=_ref5.options;return function applyDeprecatedOptions(actionsFn,options){options&&applyEventHandlers(actionsFn,options)}(actions_actions,options),parameters&&parameters.handles&&applyEventHandlers.apply(void 0,[actions_actions].concat(_toConsumableArray(parameters.handles))),getStory(context)}})},"./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addDecorator.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var addDecorator_namespaceObject={};__webpack_require__.r(addDecorator_namespaceObject),__webpack_require__.d(addDecorator_namespaceObject,"decorators",(function(){return decorators}));var _templateObject,ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),hooks=(__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/@storybook/addons/dist/esm/hooks.js")),global_window=("".concat("storybook/background","/update"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.freeze.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/global/window.js")),window_default=__webpack_require__.n(global_window),ts_dedent_esm=__webpack_require__("./node_modules/ts-dedent/esm/index.js");function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var withGrid_templateObject,helpers_document=window_default.a.document,helpers_window=window_default.a.window,clearStyles=function clearStyles(selector){(Array.isArray(selector)?selector:[selector]).forEach(clearStyle)},clearStyle=function clearStyle(selector){var element=helpers_document.getElementById(selector);element&&element.parentElement.removeChild(element)},browser=__webpack_require__("./node_modules/util-deprecate/browser.js");var deprecatedCellSizeWarning=__webpack_require__.n(browser)()((function(){}),Object(ts_dedent_esm.a)(withGrid_templateObject||(withGrid_templateObject=function withGrid_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n    Backgrounds Addon: The cell size parameter has been changed.\n\n    - parameters.grid.cellSize should now be parameters.backgrounds.grid.cellSize\n    See https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-grid-parameter\n  "])))),decorators=[function withGrid(StoryFn,context){var _globals$BACKGROUNDS_,_parameters$grid,_gridParameters$offse,_gridParameters$offse2,gridSize,globals=context.globals,parameters=context.parameters,gridParameters=parameters.backgrounds.grid,isActive=!0===(null===(_globals$BACKGROUNDS_=globals.backgrounds)||void 0===_globals$BACKGROUNDS_?void 0:_globals$BACKGROUNDS_.grid)&&!0!==gridParameters.disable,cellAmount=gridParameters.cellAmount,cellSize=gridParameters.cellSize,opacity=gridParameters.opacity,isInDocs="docs"===context.viewMode;null!==(_parameters$grid=parameters.grid)&&void 0!==_parameters$grid&&_parameters$grid.cellSize?(gridSize=parameters.grid.cellSize,deprecatedCellSizeWarning()):gridSize=cellSize;var defaultOffset=void 0===parameters.layout||"padded"===parameters.layout?16:0,offsetX=null!==(_gridParameters$offse=gridParameters.offsetX)&&void 0!==_gridParameters$offse?_gridParameters$offse:isInDocs?20:defaultOffset,offsetY=null!==(_gridParameters$offse2=gridParameters.offsetY)&&void 0!==_gridParameters$offse2?_gridParameters$offse2:isInDocs?20:defaultOffset,gridStyles=Object(hooks.h)((function(){var selector="docs"===context.viewMode?"#anchor--".concat(context.id," .docs-story"):".sb-show-main",backgroundSize=["".concat(gridSize*cellAmount,"px ").concat(gridSize*cellAmount,"px"),"".concat(gridSize*cellAmount,"px ").concat(gridSize*cellAmount,"px"),"".concat(gridSize,"px ").concat(gridSize,"px"),"".concat(gridSize,"px ").concat(gridSize,"px")].join(", ");return"\n      ".concat(selector," {\n        background-size: ").concat(backgroundSize," !important;\n        background-position: ").concat(offsetX,"px ").concat(offsetY,"px, ").concat(offsetX,"px ").concat(offsetY,"px, ").concat(offsetX,"px ").concat(offsetY,"px, ").concat(offsetX,"px ").concat(offsetY,"px !important;\n        background-blend-mode: difference !important;\n        background-image: linear-gradient(rgba(130, 130, 130, ").concat(opacity,") 1px, transparent 1px),\n         linear-gradient(90deg, rgba(130, 130, 130, ").concat(opacity,") 1px, transparent 1px),\n         linear-gradient(rgba(130, 130, 130, ").concat(opacity/2,") 1px, transparent 1px),\n         linear-gradient(90deg, rgba(130, 130, 130, ").concat(opacity/2,") 1px, transparent 1px) !important;\n      }\n    ")}),[gridSize]);return Object(hooks.f)((function(){var selectorId="docs"===context.viewMode?"addon-backgrounds-grid-docs-".concat(context.id):"addon-backgrounds-grid";isActive?function addGridStyle(selector,css){var existingStyle=helpers_document.getElementById(selector);if(existingStyle)existingStyle.innerHTML!==css&&(existingStyle.innerHTML=css);else{var style=helpers_document.createElement("style");style.setAttribute("id",selector),style.innerHTML=css,helpers_document.head.appendChild(style)}}(selectorId,gridStyles):clearStyles(selectorId)}),[isActive,gridStyles,context]),StoryFn()},function withBackground(StoryFn,context){var _globals$BACKGROUNDS_,globals=context.globals,parameters=context.parameters,globalsBackgroundColor=null===(_globals$BACKGROUNDS_=globals.backgrounds)||void 0===_globals$BACKGROUNDS_?void 0:_globals$BACKGROUNDS_.value,backgroundsConfig=parameters.backgrounds,selectedBackgroundColor=Object(hooks.h)((function(){return backgroundsConfig.disable?"transparent":function getBackgroundColorByName(currentSelectedValue){var backgrounds=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],defaultName=arguments.length>2?arguments[2]:void 0;if("transparent"===currentSelectedValue)return"transparent";if(backgrounds.find((function(background){return background.value===currentSelectedValue})))return currentSelectedValue;var defaultBackground=backgrounds.find((function(background){return background.name===defaultName}));if(defaultBackground)return defaultBackground.value;if(defaultName){var availableColors=backgrounds.map((function(background){return background.name})).join(", ");esm.logger.warn(Object(ts_dedent_esm.a)(_templateObject||(_templateObject=_taggedTemplateLiteral(['\n        Backgrounds Addon: could not find the default color "','".\n        These are the available colors for your story based on your configuration:\n        ',".\n      "])),defaultName,availableColors))}return"transparent"}(globalsBackgroundColor,backgroundsConfig.values,backgroundsConfig.default)}),[backgroundsConfig,globalsBackgroundColor]),isActive=Object(hooks.h)((function(){return selectedBackgroundColor&&"transparent"!==selectedBackgroundColor}),[selectedBackgroundColor]),selector="docs"===context.viewMode?"#anchor--".concat(context.id," .docs-story"):".sb-show-main",backgroundStyles=Object(hooks.h)((function(){return"\n      ".concat(selector," {\n        background: ").concat(selectedBackgroundColor," !important;\n        ").concat(function isReduceMotionEnabled(){return helpers_window.matchMedia("(prefers-reduced-motion: reduce)").matches}()?"":"transition: background-color 0.3s;","\n      }\n    ")}),[selectedBackgroundColor,selector]);return Object(hooks.f)((function(){var selectorId="docs"===context.viewMode?"addon-backgrounds-docs-".concat(context.id):"addon-backgrounds-color";isActive?function addBackgroundStyle(selector,css,storyId){var existingStyle=helpers_document.getElementById(selector);if(existingStyle)existingStyle.innerHTML!==css&&(existingStyle.innerHTML=css);else{var style=helpers_document.createElement("style");style.setAttribute("id",selector),style.innerHTML=css;var gridStyleSelector="addon-backgrounds-grid".concat(storyId?"-docs-".concat(storyId):""),existingGridStyle=helpers_document.getElementById(gridStyleSelector);existingGridStyle?existingGridStyle.parentElement.insertBefore(style,existingGridStyle):helpers_document.head.appendChild(style)}}(selectorId,backgroundStyles,"docs"===context.viewMode?context.id:null):clearStyles(selectorId)}),[isActive,backgroundStyles,context]),StoryFn()}];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(addDecorator_namespaceObject).forEach((function(key){var value=addDecorator_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addParameter.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var addParameter_namespaceObject={};__webpack_require__.r(addParameter_namespaceObject),__webpack_require__.d(addParameter_namespaceObject,"parameters",(function(){return parameters}));var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),parameters={backgrounds:{grid:{cellSize:20,opacity:.5,cellAmount:5},values:[{name:"light",value:"#F8F8F8"},{name:"dark",value:"#333333"}]}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(addParameter_namespaceObject).forEach((function(key){var value=addParameter_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./node_modules/@storybook/addon-docs/dist/esm/frameworks/common/config.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var config_namespaceObject={};__webpack_require__.r(config_namespaceObject),__webpack_require__.d(config_namespaceObject,"parameters",(function(){return config_parameters})),__webpack_require__.d(config_namespaceObject,"argTypesEnhancers",(function(){return argTypesEnhancers}));var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),parameters=(__webpack_require__("./node_modules/regenerator-runtime/runtime.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/store/dist/esm/parameters.js"));function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var _getPage,_getContainer,config_parameters={docs:{inlineStories:!1,getContainer:(_getContainer=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,__webpack_require__.e(1).then(__webpack_require__.bind(null,"./node_modules/@storybook/addon-docs/dist/esm/blocks/index.js"));case 2:return _context.abrupt("return",_context.sent.DocsContainer);case 3:case"end":return _context.stop()}}),_callee)}))),function getContainer(){return _getContainer.apply(this,arguments)}),getPage:(_getPage=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,__webpack_require__.e(1).then(__webpack_require__.bind(null,"./node_modules/@storybook/addon-docs/dist/esm/blocks/index.js"));case 2:return _context2.abrupt("return",_context2.sent.DocsPage);case 3:case"end":return _context2.stop()}}),_callee2)}))),function getPage(){return _getPage.apply(this,arguments)}),iframeHeight:100}},argTypesEnhancers=[function enhanceArgTypes(context){var component=context.component,userArgTypes=context.argTypes,_context$parameters$d=context.parameters.docs,extractArgTypes=(void 0===_context$parameters$d?{}:_context$parameters$d).extractArgTypes,extractedArgTypes=extractArgTypes&&component?extractArgTypes(component):{};return extractedArgTypes?Object(parameters.a)(extractedArgTypes,userArgTypes):userArgTypes}];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(config_namespaceObject).forEach((function(key){var value=config_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./node_modules/@storybook/addon-docs/dist/esm/frameworks/web-components/config.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var config_namespaceObject={};__webpack_require__.r(config_namespaceObject),__webpack_require__.d(config_namespaceObject,"decorators",(function(){return decorators})),__webpack_require__.d(config_namespaceObject,"parameters",(function(){return parameters}));var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),client=(__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/web-components/dist/esm/client/index.js"));function mapData(data,category){return data&&data.filter((function(item){return item&&item.name})).reduce((function(acc,item){if("method"===item.kind)return acc;if("events"===category)(function mapEvent(item){var name=item.name.replace(/(-|_|:|\.|\s)+(.)?/g,(function(_match,_separator,chr){return chr?chr.toUpperCase():""})).replace(/^([A-Z])/,(function(match){return match.toLowerCase()}));return[{name:name="on".concat(name.charAt(0).toUpperCase()+name.substr(1)),action:{name:item.name},table:{disable:!0}},mapItem(item,"events")]})(item).forEach((function(argType){acc[argType.name]=argType}));else acc[item.name]=mapItem(item,category);return acc}),{})}function mapItem(item,category){var _item$type,_item$type2,type="properties"===category?{name:(null===(_item$type=item.type)||void 0===_item$type?void 0:_item$type.text)||item.type}:{name:"void"};return{name:item.name,required:!1,description:item.description,type:type,table:{category:category,type:{summary:(null===(_item$type2=item.type)||void 0===_item$type2?void 0:_item$type2.text)||item.type},defaultValue:{summary:void 0!==item.default?item.default:item.defaultValue}}}}var getMetaData=function getMetaData(tagName,manifest){return"experimental"===(null==manifest?void 0:manifest.version)?function getMetaDataExperimental(tagName,customElements){if(!Object(client.isValidComponent)(tagName)||!Object(client.isValidMetaData)(customElements))return null;var metaData=customElements.tags.find((function(tag){return tag.name.toUpperCase()===tagName.toUpperCase()}));return metaData||esm.logger.warn("Component not found in custom-elements.json: ".concat(tagName)),metaData}(tagName,manifest):function getMetaDataV1(tagName,customElements){var _customElements$modul,metadata;return Object(client.isValidComponent)(tagName)&&Object(client.isValidMetaData)(customElements)?(null==customElements||null===(_customElements$modul=customElements.modules)||void 0===_customElements$modul||_customElements$modul.forEach((function(_module){var _module$declarations;null==_module||null===(_module$declarations=_module.declarations)||void 0===_module$declarations||_module$declarations.forEach((function(declaration){declaration.tagName===tagName&&(metadata=declaration)}))})),metadata||esm.logger.warn("Component not found in custom-elements.json: ".concat(tagName)),metadata):null}(tagName,manifest)},lit_html=__webpack_require__("./node_modules/lit-html/lit-html.js"),hooks=__webpack_require__("./node_modules/@storybook/addons/dist/esm/hooks.js"),dist_esm=__webpack_require__("./node_modules/@storybook/addons/dist/esm/index.js"),shared=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/shared.js");__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js");var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react);function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var decorators=[function sourceDecorator(storyFn,context){var _context$parameters$d3,_context$parameters$d4,source,story=null!=context&&null!==(_context$parameters$d3=context.parameters.docs)&&void 0!==_context$parameters$d3&&null!==(_context$parameters$d4=_context$parameters$d3.source)&&void 0!==_context$parameters$d4&&_context$parameters$d4.excludeDecorators?context.originalStoryFn(context.args,context):storyFn();if(Object(hooks.f)((function(){source&&dist_esm.a.getChannel().emit(shared.a,context.id,source)})),!function skipSourceRender(context){var _context$parameters$d,sourceParams=null==context||null===(_context$parameters$d=context.parameters.docs)||void 0===_context$parameters$d?void 0:_context$parameters$d.source,isArgsStory=null==context?void 0:context.parameters.__isArgsStory;return(null==sourceParams?void 0:sourceParams.type)!==shared.b.DYNAMIC&&(!isArgsStory||(null==sourceParams?void 0:sourceParams.code)||(null==sourceParams?void 0:sourceParams.type)===shared.b.CODE)}(context)){var container=window.document.createElement("div");Object(lit_html.render)(story,container),source=function applyTransformSource(source,context){var _context$parameters$d2,transformSource=(null!==(_context$parameters$d2=context.parameters.docs)&&void 0!==_context$parameters$d2?_context$parameters$d2:{}).transformSource;return"function"!=typeof transformSource?source:transformSource(source,context)}(container.innerHTML.replace(/<!---->/g,""),context)}return story}],parameters={docs:{extractArgTypes:function extractArgTypes(tagName){return function extractArgTypesFromElements(tagName,customElements){var metaData=getMetaData(tagName,customElements);return metaData&&Object.assign({},mapData(metaData.attributes,"attributes"),mapData(metaData.members,"properties"),mapData(metaData.properties,"properties"),mapData(metaData.events,"events"),mapData(metaData.slots,"slots"),mapData(metaData.cssProperties,"css custom properties"),mapData(metaData.cssParts,"css shadow parts"))}(tagName,Object(client.getCustomElements)())},extractComponentDescription:function extractComponentDescription(tagName){var metaData=getMetaData(tagName,Object(client.getCustomElements)());return metaData&&metaData.description},inlineStories:!0,prepareForInline:function prepareForInline(storyFn){var Story=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Story,_React$Component);var _super=_createSuper(Story);function Story(){var _this;_classCallCheck(this,Story);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).wrapperRef=react_default.a.createRef(),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Story,[{key:"componentDidMount",value:function componentDidMount(){Object(lit_html.render)(storyFn(),this.wrapperRef.current)}},{key:"render",value:function render(){return react_default.a.createElement("div",{ref:this.wrapperRef})}}]),Story}(react_default.a.Component);return react_default.a.createElement(Story)},source:{type:shared.b.DYNAMIC,language:"html"}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(config_namespaceObject).forEach((function(key){var value=config_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./node_modules/@storybook/addon-docs/dist/esm/shared.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SNIPPET_RENDERED})),__webpack_require__.d(__webpack_exports__,"b",(function(){return SourceType}));"".concat("storybook/docs","/panel");var SourceType,SNIPPET_RENDERED="".concat("storybook/docs","/snippet-rendered");!function(SourceType){SourceType.AUTO="auto",SourceType.CODE="code",SourceType.DYNAMIC="dynamic"}(SourceType||(SourceType={}))},"./node_modules/@storybook/addon-links/dist/esm/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.freeze.js"),__webpack_require__("./node_modules/ts-dedent/esm/index.js");var _preview__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/addon-links/dist/esm/preview.js");__webpack_require__.d(__webpack_exports__,"a",(function(){return _preview__WEBPACK_IMPORTED_MODULE_3__.a}));module&&module.hot&&module.hot.decline&&module.hot.decline()}).call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./node_modules/@storybook/addon-links/dist/esm/preset/addDecorator.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var addDecorator_namespaceObject={};__webpack_require__.r(addDecorator_namespaceObject),__webpack_require__.d(addDecorator_namespaceObject,"decorators",(function(){return decorators}));var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),decorators=[__webpack_require__("./node_modules/@storybook/addon-links/dist/esm/index.js").a];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(addDecorator_namespaceObject).forEach((function(key){var value=addDecorator_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./node_modules/@storybook/addon-links/dist/esm/preview.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return withLinks}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.search.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.string.match.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js");var global_window=__webpack_require__("./node_modules/global/window.js"),window_default=__webpack_require__.n(global_window),esm=(__webpack_require__("./node_modules/qs/lib/index.js"),__webpack_require__("./node_modules/@storybook/addons/dist/esm/index.js")),make_decorator=__webpack_require__("./node_modules/@storybook/addons/dist/esm/make-decorator.js"),dist_esm=__webpack_require__("./node_modules/@storybook/core-events/dist/esm/index.js");__webpack_require__("./node_modules/@storybook/csf/dist/index.js"),"".concat("storybook/links","/navigate"),"".concat("storybook/links","/request"),"".concat("storybook/links","/receive");var preview_document=window_default.a.document,HTMLElement=window_default.a.HTMLElement,preview_navigate=function navigate(params){return esm.a.getChannel().emit(dist_esm.SELECT_STORY,params)},linksListener=function linksListener(e){var target=e.target;if(target instanceof HTMLElement){var _element$dataset=target.dataset,kind=_element$dataset.sbKind,story=_element$dataset.sbStory;(kind||story)&&(e.preventDefault(),preview_navigate({kind:kind,story:story}))}},hasListener=!1,off=function off(){hasListener&&(hasListener=!1,preview_document.removeEventListener("click",linksListener))},withLinks=Object(make_decorator.a)({name:"withLinks",parameterName:"links",wrapper:function wrapper(getStory,context){return function on(){hasListener||(hasListener=!0,preview_document.addEventListener("click",linksListener))}(),esm.a.getChannel().once(dist_esm.STORY_CHANGED,off),getStory(context)}})},"./node_modules/@storybook/addon-measure/dist/esm/preset/addDecorator.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var addDecorator_namespaceObject={};__webpack_require__.r(addDecorator_namespaceObject),__webpack_require__.d(addDecorator_namespaceObject,"decorators",(function(){return decorators})),__webpack_require__.d(addDecorator_namespaceObject,"globals",(function(){return globals}));var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),hooks=__webpack_require__("./node_modules/@storybook/addons/dist/esm/hooks.js"),global_window=(__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.number.is-integer.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.number.to-fixed.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/global/window.js")),window_default=__webpack_require__.n(global_window);function getDocumentWidthAndHeight(){var container=window_default.a.document.documentElement,height=Math.max(container.scrollHeight,container.offsetHeight);return{width:Math.max(container.scrollWidth,container.offsetWidth),height:height}}function setCanvasWidthAndHeight(canvas,context,_ref){var width=_ref.width,height=_ref.height;canvas.style.width="".concat(width,"px"),canvas.style.height="".concat(height,"px");var scale=window_default.a.window.devicePixelRatio;canvas.width=Math.floor(width*scale),canvas.height=Math.floor(height*scale),context.scale(scale,scale)}var state={};function init(){state.canvas||(state=function createCanvas(){var canvas=window_default.a.document.createElement("canvas");canvas.id="storybook-addon-measure";var context=canvas.getContext("2d"),_getDocumentWidthAndH=getDocumentWidthAndHeight(),width=_getDocumentWidthAndH.width,height=_getDocumentWidthAndH.height;return setCanvasWidthAndHeight(canvas,context,{width:width,height:height}),canvas.style.position="absolute",canvas.style.left="0",canvas.style.top="0",canvas.style.zIndex="100000",canvas.style.pointerEvents="none",window_default.a.document.body.appendChild(canvas),{canvas:canvas,context:context,width:width,height:height}}())}function clear(){state.context&&state.context.clearRect(0,0,state.width,state.height)}__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js");var colors={margin:"#f6b26b",border:"#ffe599",padding:"#93c47d",content:"#6fa8dc",text:"#232020"};function roundedRect(context,_ref){var x=_ref.x,y=_ref.y,w=_ref.w,h=_ref.h,r=_ref.r;x-=w/2,y-=h/2,w<2*r&&(r=w/2),h<2*r&&(r=h/2),context.beginPath(),context.moveTo(x+r,y),context.arcTo(x+w,y,x+w,y+h,r),context.arcTo(x+w,y+h,x,y+h,r),context.arcTo(x,y+h,x,y,r),context.arcTo(x,y,x+w,y,r),context.closePath()}function positionCoordinate(position,_ref2){var padding=_ref2.padding,border=_ref2.border,width=_ref2.width,height=_ref2.height,top=_ref2.top,left=_ref2.left,contentWidth=width-border.left-border.right-padding.left-padding.right,contentHeight=height-padding.top-padding.bottom-border.top-border.bottom,x=left+border.left+padding.left,y=top+border.top+padding.top;return"top"===position?x+=contentWidth/2:"right"===position?(x+=contentWidth,y+=contentHeight/2):"bottom"===position?(x+=contentWidth/2,y+=contentHeight):"left"===position?y+=contentHeight/2:"center"===position&&(x+=contentWidth/2,y+=contentHeight/2),{x:x,y:y}}function offset(type,position,_ref3,labelPaddingSize,external){var margin=_ref3.margin,border=_ref3.border,padding=_ref3.padding,shift=function shift(dir){return 0},offsetX=0,offsetY=0,locationMultiplier=external?1:.5,labelPaddingShift=external?2*labelPaddingSize:0;return"padding"===type?shift=function shift(dir){return padding[dir]*locationMultiplier+labelPaddingShift}:"border"===type?shift=function shift(dir){return padding[dir]+border[dir]*locationMultiplier+labelPaddingShift}:"margin"===type&&(shift=function shift(dir){return padding[dir]+border[dir]+margin[dir]*locationMultiplier+labelPaddingShift}),"top"===position?offsetY=-shift("top"):"right"===position?offsetX=shift("right"):"bottom"===position?offsetY=shift("bottom"):"left"===position&&(offsetX=-shift("left")),{offsetX:offsetX,offsetY:offsetY}}function collide(a,b){return Math.abs(a.x-b.x)<Math.abs(a.w+b.w)/2&&Math.abs(a.y-b.y)<Math.abs(a.h+b.h)/2}function overlapAdjustment(position,currentRect,prevRect){return"top"===position?currentRect.y=prevRect.y-prevRect.h-6:"right"===position?currentRect.x=prevRect.x+prevRect.w/2+6+currentRect.w/2:"bottom"===position?currentRect.y=prevRect.y+prevRect.h+6:"left"===position&&(currentRect.x=prevRect.x-prevRect.w/2-6-currentRect.w/2),{x:currentRect.x,y:currentRect.y}}function textWithRect(context,type,_ref4,text){var x=_ref4.x,y=_ref4.y,w=_ref4.w,h=_ref4.h;return roundedRect(context,{x:x,y:y,w:w,h:h,r:3}),context.fillStyle="".concat(colors[type],"dd"),context.fill(),context.strokeStyle=colors[type],context.stroke(),context.fillStyle=colors.text,context.fillText(text,x,y),roundedRect(context,{x:x,y:y,w:w,h:h,r:3}),context.fillStyle="".concat(colors[type],"dd"),context.fill(),context.strokeStyle=colors[type],context.stroke(),context.fillStyle=colors.text,context.fillText(text,x,y),{x:x,y:y,w:w,h:h}}function configureText(context,text){context.font="600 12px monospace",context.textBaseline="middle",context.textAlign="center";var metrics=context.measureText(text),actualHeight=metrics.actualBoundingBoxAscent+metrics.actualBoundingBoxDescent;return{w:metrics.width+12,h:actualHeight+12}}function drawStack(context,measurements,stack,external){var rects=[];stack.forEach((function(l,idx){var rect=external&&"center"===l.position?function drawFloatingLabel(context,measurements,_ref7){var type=_ref7.type,text=_ref7.text,floatingAlignment=measurements.floatingAlignment,extremities=measurements.extremities,x=extremities[floatingAlignment.x],y=extremities[floatingAlignment.y],_configureText2=configureText(context,text),w=_configureText2.w,h=_configureText2.h,_floatingOffset=function floatingOffset(alignment,_ref6){var deltaW=.5*_ref6.w+6,deltaH=.5*_ref6.h+6;return{offsetX:("left"===alignment.x?-1:1)*deltaW,offsetY:("top"===alignment.y?-1:1)*deltaH}}(floatingAlignment,{w:w,h:h});return textWithRect(context,type,{x:x+=_floatingOffset.offsetX,y:y+=_floatingOffset.offsetY,w:w,h:h},text)}(context,measurements,l):function drawLabel(context,measurements,_ref5,prevRect){var type=_ref5.type,_ref5$position=_ref5.position,position=void 0===_ref5$position?"center":_ref5$position,text=_ref5.text,external=arguments.length>4&&void 0!==arguments[4]&&arguments[4],_positionCoordinate=positionCoordinate(position,measurements),x=_positionCoordinate.x,y=_positionCoordinate.y,_offset=offset(type,position,measurements,7,external),offsetX=_offset.offsetX,offsetY=_offset.offsetY;x+=offsetX,y+=offsetY;var _configureText=configureText(context,text),w=_configureText.w,h=_configureText.h;if(prevRect&&collide({x:x,y:y,w:w,h:h},prevRect)){var adjusted=overlapAdjustment(position,{x:x,y:y,w:w,h:h},prevRect);x=adjusted.x,y=adjusted.y}return textWithRect(context,type,{x:x,y:y,w:w,h:h},text)}(context,measurements,l,rects[idx-1],external);rects[idx]=rect}))}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var visualizer_colors_margin="#f6b26ba8",visualizer_colors_border="#ffe599a8",visualizer_colors_padding="#93c47d8c",visualizer_colors_content="#6fa8dca8";function pxToNumber(px){return parseInt(px.replace("px",""),10)}function round(value){return Number.isInteger(value)?value:value.toFixed(2)}function filterZeroValues(labels){return labels.filter((function(l){return 0!==l.text&&"0"!==l.text}))}function floatingAlignment(extremities){var windowExtremities_top=window_default.a.window.scrollY,windowExtremities_bottom=window_default.a.window.scrollY+window_default.a.window.innerHeight,windowExtremities_left=window_default.a.window.scrollX,windowExtremities_right=window_default.a.window.scrollX+window_default.a.window.innerWidth,distances_top=Math.abs(windowExtremities_top-extremities.top),distances_bottom=Math.abs(windowExtremities_bottom-extremities.bottom);return{x:Math.abs(windowExtremities_left-extremities.left)>Math.abs(windowExtremities_right-extremities.right)?"left":"right",y:distances_top>distances_bottom?"top":"bottom"}}function drawBoxModel(element){return function(context){if(element&&context){var measurements=function measureElement(element){var style=window_default.a.getComputedStyle(element),_element$getBoundingC=element.getBoundingClientRect(),top=_element$getBoundingC.top,left=_element$getBoundingC.left,right=_element$getBoundingC.right,bottom=_element$getBoundingC.bottom,width=_element$getBoundingC.width,height=_element$getBoundingC.height,marginTop=style.marginTop,marginBottom=style.marginBottom,marginLeft=style.marginLeft,marginRight=style.marginRight,paddingTop=style.paddingTop,paddingBottom=style.paddingBottom,paddingLeft=style.paddingLeft,paddingRight=style.paddingRight,borderBottomWidth=style.borderBottomWidth,borderTopWidth=style.borderTopWidth,borderLeftWidth=style.borderLeftWidth,borderRightWidth=style.borderRightWidth;top+=window_default.a.window.scrollY,left+=window_default.a.window.scrollX,bottom+=window_default.a.window.scrollY,right+=window_default.a.window.scrollX;var margin={top:pxToNumber(marginTop),bottom:pxToNumber(marginBottom),left:pxToNumber(marginLeft),right:pxToNumber(marginRight)},padding={top:pxToNumber(paddingTop),bottom:pxToNumber(paddingBottom),left:pxToNumber(paddingLeft),right:pxToNumber(paddingRight)},border={top:pxToNumber(borderTopWidth),bottom:pxToNumber(borderBottomWidth),left:pxToNumber(borderLeftWidth),right:pxToNumber(borderRightWidth)},extremities={top:top-margin.top,bottom:bottom+margin.bottom,left:left-margin.left,right:right+margin.right};return{margin:margin,padding:padding,border:border,top:top,left:left,bottom:bottom,right:right,width:width,height:height,extremities:extremities,floatingAlignment:floatingAlignment(extremities)}}(element),marginLabels=function drawMargin(context,_ref){var margin=_ref.margin,width=_ref.width,height=_ref.height,top=_ref.top,left=_ref.left,bottom=_ref.bottom,right=_ref.right,marginHeight=height+margin.bottom+margin.top;return context.fillStyle=visualizer_colors_margin,context.fillRect(left,top-margin.top,width,margin.top),context.fillRect(right,top-margin.top,margin.right,marginHeight),context.fillRect(left,bottom,width,margin.bottom),context.fillRect(left-margin.left,top-margin.top,margin.left,marginHeight),filterZeroValues([{type:"margin",text:round(margin.top),position:"top"},{type:"margin",text:round(margin.right),position:"right"},{type:"margin",text:round(margin.bottom),position:"bottom"},{type:"margin",text:round(margin.left),position:"left"}])}(context,measurements),paddingLabels=function drawPadding(context,_ref2){var padding=_ref2.padding,border=_ref2.border,width=_ref2.width,height=_ref2.height,top=_ref2.top,left=_ref2.left,bottom=_ref2.bottom,right=_ref2.right,paddingWidth=width-border.left-border.right,paddingHeight=height-padding.top-padding.bottom-border.top-border.bottom;return context.fillStyle=visualizer_colors_padding,context.fillRect(left+border.left,top+border.top,paddingWidth,padding.top),context.fillRect(right-padding.right-border.right,top+padding.top+border.top,padding.right,paddingHeight),context.fillRect(left+border.left,bottom-padding.bottom-border.bottom,paddingWidth,padding.bottom),context.fillRect(left+border.left,top+padding.top+border.top,padding.left,paddingHeight),filterZeroValues([{type:"padding",text:padding.top,position:"top"},{type:"padding",text:padding.right,position:"right"},{type:"padding",text:padding.bottom,position:"bottom"},{type:"padding",text:padding.left,position:"left"}])}(context,measurements),borderLabels=function drawBorder(context,_ref3){var border=_ref3.border,width=_ref3.width,height=_ref3.height,top=_ref3.top,left=_ref3.left,bottom=_ref3.bottom,right=_ref3.right,borderHeight=height-border.top-border.bottom;return context.fillStyle=visualizer_colors_border,context.fillRect(left,top,width,border.top),context.fillRect(left,bottom-border.bottom,width,border.bottom),context.fillRect(left,top+border.top,border.left,borderHeight),context.fillRect(right-border.right,top+border.top,border.right,borderHeight),filterZeroValues([{type:"border",text:border.top,position:"top"},{type:"border",text:border.right,position:"right"},{type:"border",text:border.bottom,position:"bottom"},{type:"border",text:border.left,position:"left"}])}(context,measurements),contentLabels=function drawContent(context,_ref4){var padding=_ref4.padding,border=_ref4.border,width=_ref4.width,height=_ref4.height,top=_ref4.top,left=_ref4.left,contentWidth=width-border.left-border.right-padding.left-padding.right,contentHeight=height-padding.top-padding.bottom-border.top-border.bottom;return context.fillStyle=visualizer_colors_content,context.fillRect(left+border.left+padding.left,top+border.top+padding.top,contentWidth,contentHeight),[{type:"content",position:"center",text:"".concat(round(contentWidth)," x ").concat(round(contentHeight))}]}(context,measurements),externalLabels=measurements.width<=90||measurements.height<=30;!function labelStacks(context,measurements,labels,externalLabels){var stacks=labels.reduce((function(acc,l){return Object.prototype.hasOwnProperty.call(acc,l.position)||(acc[l.position]=[]),acc[l.position].push(l),acc}),{});stacks.top&&drawStack(context,measurements,stacks.top,externalLabels),stacks.right&&drawStack(context,measurements,stacks.right,externalLabels),stacks.bottom&&drawStack(context,measurements,stacks.bottom,externalLabels),stacks.left&&drawStack(context,measurements,stacks.left,externalLabels),stacks.center&&drawStack(context,measurements,stacks.center,externalLabels)}(context,measurements,[].concat(_toConsumableArray(contentLabels),_toConsumableArray(paddingLabels),_toConsumableArray(borderLabels),_toConsumableArray(marginLabels)),externalLabels)}}}function drawSelectedElement(element){!function draw(callback){clear(),callback(state.context)}(drawBoxModel(element))}var nodeAtPointerRef,pointer={x:0,y:0};function findAndDrawElement(x,y){nodeAtPointerRef=function deepElementFromPoint(x,y){var element=window_default.a.document.elementFromPoint(x,y);return function crawlShadows(node){if(node&&node.shadowRoot){var nestedElement=node.shadowRoot.elementFromPoint(x,y);return node.isEqualNode(nestedElement)?node:nestedElement.shadowRoot?crawlShadows(nestedElement):nestedElement}return node}(element)||element}(x,y),drawSelectedElement(nodeAtPointerRef)}var ADDON_ID="storybook/measure-addon";"".concat(ADDON_ID,"/tool"),"".concat(ADDON_ID,"/result"),"".concat(ADDON_ID,"/request"),"".concat(ADDON_ID,"/clear");var decorators=[function withMeasure(StoryFn,context){var measureEnabled=context.globals.measureEnabled;return Object(hooks.f)((function(){var onMouseMove=function onMouseMove(event){window.requestAnimationFrame((function(){event.stopPropagation(),pointer.x=event.clientX,pointer.y=event.clientY}))};return document.addEventListener("mousemove",onMouseMove),function(){document.removeEventListener("mousemove",onMouseMove)}}),[]),Object(hooks.f)((function(){var onResize=function onResize(){window.requestAnimationFrame((function(){!function rescale(){setCanvasWidthAndHeight(state.canvas,state.context,{width:0,height:0});var _getDocumentWidthAndH2=getDocumentWidthAndHeight(),width=_getDocumentWidthAndH2.width,height=_getDocumentWidthAndH2.height;setCanvasWidthAndHeight(state.canvas,state.context,{width:width,height:height}),state.width=width,state.height=height}()}))};return measureEnabled&&(document.addEventListener("mouseover",(function onMouseOver(event){window.requestAnimationFrame((function(){event.stopPropagation(),findAndDrawElement(event.clientX,event.clientY)}))})),init(),window.addEventListener("resize",onResize),findAndDrawElement(pointer.x,pointer.y)),function(){window.removeEventListener("resize",onResize),function destroy(){state.canvas&&(clear(),state.canvas.parentNode.removeChild(state.canvas),state={})}()}}),[measureEnabled]),StoryFn()}],globals=function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},"measureEnabled",!1);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function addDecorator_js_generated_config_entry_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(addDecorator_namespaceObject).forEach((function(key){var value=addDecorator_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){addDecorator_js_generated_config_entry_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./node_modules/@storybook/addon-outline/dist/esm/preset/addDecorator.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var addDecorator_namespaceObject={};__webpack_require__.r(addDecorator_namespaceObject),__webpack_require__.d(addDecorator_namespaceObject,"decorators",(function(){return decorators})),__webpack_require__.d(addDecorator_namespaceObject,"globals",(function(){return addDecorator_globals}));var _templateObject,ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),hooks=__webpack_require__("./node_modules/@storybook/addons/dist/esm/hooks.js"),global_window=(__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/global/window.js")),window_default=__webpack_require__.n(global_window),clearStyles=function clearStyles(selector){(Array.isArray(selector)?selector:[selector]).forEach(helpers_clearStyle)},helpers_clearStyle=function clearStyle(selector){var element=window_default.a.document.getElementById(selector);element&&element.parentElement&&element.parentElement.removeChild(element)},ts_dedent_esm=(__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.freeze.js"),__webpack_require__("./node_modules/ts-dedent/esm/index.js"));function outlineCSS(selector){return Object(ts_dedent_esm.a)(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n    "," body {\n      outline: 1px solid #2980b9 !important;\n    }\n\n    "," article {\n      outline: 1px solid #3498db !important;\n    }\n\n    "," nav {\n      outline: 1px solid #0088c3 !important;\n    }\n\n    "," aside {\n      outline: 1px solid #33a0ce !important;\n    }\n\n    "," section {\n      outline: 1px solid #66b8da !important;\n    }\n\n    "," header {\n      outline: 1px solid #99cfe7 !important;\n    }\n\n    "," footer {\n      outline: 1px solid #cce7f3 !important;\n    }\n\n    "," h1 {\n      outline: 1px solid #162544 !important;\n    }\n\n    "," h2 {\n      outline: 1px solid #314e6e !important;\n    }\n\n    "," h3 {\n      outline: 1px solid #3e5e85 !important;\n    }\n\n    "," h4 {\n      outline: 1px solid #449baf !important;\n    }\n\n    "," h5 {\n      outline: 1px solid #c7d1cb !important;\n    }\n\n    "," h6 {\n      outline: 1px solid #4371d0 !important;\n    }\n\n    "," main {\n      outline: 1px solid #2f4f90 !important;\n    }\n\n    "," address {\n      outline: 1px solid #1a2c51 !important;\n    }\n\n    "," div {\n      outline: 1px solid #036cdb !important;\n    }\n\n    "," p {\n      outline: 1px solid #ac050b !important;\n    }\n\n    "," hr {\n      outline: 1px solid #ff063f !important;\n    }\n\n    "," pre {\n      outline: 1px solid #850440 !important;\n    }\n\n    "," blockquote {\n      outline: 1px solid #f1b8e7 !important;\n    }\n\n    "," ol {\n      outline: 1px solid #ff050c !important;\n    }\n\n    "," ul {\n      outline: 1px solid #d90416 !important;\n    }\n\n    "," li {\n      outline: 1px solid #d90416 !important;\n    }\n\n    "," dl {\n      outline: 1px solid #fd3427 !important;\n    }\n\n    "," dt {\n      outline: 1px solid #ff0043 !important;\n    }\n\n    "," dd {\n      outline: 1px solid #e80174 !important;\n    }\n\n    "," figure {\n      outline: 1px solid #ff00bb !important;\n    }\n\n    "," figcaption {\n      outline: 1px solid #bf0032 !important;\n    }\n\n    "," table {\n      outline: 1px solid #00cc99 !important;\n    }\n\n    "," caption {\n      outline: 1px solid #37ffc4 !important;\n    }\n\n    "," thead {\n      outline: 1px solid #98daca !important;\n    }\n\n    "," tbody {\n      outline: 1px solid #64a7a0 !important;\n    }\n\n    "," tfoot {\n      outline: 1px solid #22746b !important;\n    }\n\n    "," tr {\n      outline: 1px solid #86c0b2 !important;\n    }\n\n    "," th {\n      outline: 1px solid #a1e7d6 !important;\n    }\n\n    "," td {\n      outline: 1px solid #3f5a54 !important;\n    }\n\n    "," col {\n      outline: 1px solid #6c9a8f !important;\n    }\n\n    "," colgroup {\n      outline: 1px solid #6c9a9d !important;\n    }\n\n    "," button {\n      outline: 1px solid #da8301 !important;\n    }\n\n    "," datalist {\n      outline: 1px solid #c06000 !important;\n    }\n\n    "," fieldset {\n      outline: 1px solid #d95100 !important;\n    }\n\n    "," form {\n      outline: 1px solid #d23600 !important;\n    }\n\n    "," input {\n      outline: 1px solid #fca600 !important;\n    }\n\n    "," keygen {\n      outline: 1px solid #b31e00 !important;\n    }\n\n    "," label {\n      outline: 1px solid #ee8900 !important;\n    }\n\n    "," legend {\n      outline: 1px solid #de6d00 !important;\n    }\n\n    "," meter {\n      outline: 1px solid #e8630c !important;\n    }\n\n    "," optgroup {\n      outline: 1px solid #b33600 !important;\n    }\n\n    "," option {\n      outline: 1px solid #ff8a00 !important;\n    }\n\n    "," output {\n      outline: 1px solid #ff9619 !important;\n    }\n\n    "," progress {\n      outline: 1px solid #e57c00 !important;\n    }\n\n    "," select {\n      outline: 1px solid #e26e0f !important;\n    }\n\n    "," textarea {\n      outline: 1px solid #cc5400 !important;\n    }\n\n    "," details {\n      outline: 1px solid #33848f !important;\n    }\n\n    "," summary {\n      outline: 1px solid #60a1a6 !important;\n    }\n\n    "," command {\n      outline: 1px solid #438da1 !important;\n    }\n\n    "," menu {\n      outline: 1px solid #449da6 !important;\n    }\n\n    "," del {\n      outline: 1px solid #bf0000 !important;\n    }\n\n    "," ins {\n      outline: 1px solid #400000 !important;\n    }\n\n    "," img {\n      outline: 1px solid #22746b !important;\n    }\n\n    "," iframe {\n      outline: 1px solid #64a7a0 !important;\n    }\n\n    "," embed {\n      outline: 1px solid #98daca !important;\n    }\n\n    "," object {\n      outline: 1px solid #00cc99 !important;\n    }\n\n    "," param {\n      outline: 1px solid #37ffc4 !important;\n    }\n\n    "," video {\n      outline: 1px solid #6ee866 !important;\n    }\n\n    "," audio {\n      outline: 1px solid #027353 !important;\n    }\n\n    "," source {\n      outline: 1px solid #012426 !important;\n    }\n\n    "," canvas {\n      outline: 1px solid #a2f570 !important;\n    }\n\n    "," track {\n      outline: 1px solid #59a600 !important;\n    }\n\n    "," map {\n      outline: 1px solid #7be500 !important;\n    }\n\n    "," area {\n      outline: 1px solid #305900 !important;\n    }\n\n    "," a {\n      outline: 1px solid #ff62ab !important;\n    }\n\n    "," em {\n      outline: 1px solid #800b41 !important;\n    }\n\n    "," strong {\n      outline: 1px solid #ff1583 !important;\n    }\n\n    "," i {\n      outline: 1px solid #803156 !important;\n    }\n\n    "," b {\n      outline: 1px solid #cc1169 !important;\n    }\n\n    "," u {\n      outline: 1px solid #ff0430 !important;\n    }\n\n    "," s {\n      outline: 1px solid #f805e3 !important;\n    }\n\n    "," small {\n      outline: 1px solid #d107b2 !important;\n    }\n\n    "," abbr {\n      outline: 1px solid #4a0263 !important;\n    }\n\n    "," q {\n      outline: 1px solid #240018 !important;\n    }\n\n    "," cite {\n      outline: 1px solid #64003c !important;\n    }\n\n    "," dfn {\n      outline: 1px solid #b4005a !important;\n    }\n\n    "," sub {\n      outline: 1px solid #dba0c8 !important;\n    }\n\n    "," sup {\n      outline: 1px solid #cc0256 !important;\n    }\n\n    "," time {\n      outline: 1px solid #d6606d !important;\n    }\n\n    "," code {\n      outline: 1px solid #e04251 !important;\n    }\n\n    "," kbd {\n      outline: 1px solid #5e001f !important;\n    }\n\n    "," samp {\n      outline: 1px solid #9c0033 !important;\n    }\n\n    "," var {\n      outline: 1px solid #d90047 !important;\n    }\n\n    "," mark {\n      outline: 1px solid #ff0053 !important;\n    }\n\n    "," bdi {\n      outline: 1px solid #bf3668 !important;\n    }\n\n    "," bdo {\n      outline: 1px solid #6f1400 !important;\n    }\n\n    "," ruby {\n      outline: 1px solid #ff7b93 !important;\n    }\n\n    "," rt {\n      outline: 1px solid #ff2f54 !important;\n    }\n\n    "," rp {\n      outline: 1px solid #803e49 !important;\n    }\n\n    "," span {\n      outline: 1px solid #cc2643 !important;\n    }\n\n    "," br {\n      outline: 1px solid #db687d !important;\n    }\n\n    "," wbr {\n      outline: 1px solid #db175b !important;\n    }"])),selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector,selector)}var decorators=[function withOutline(StoryFn,context){var isActive=!0===context.globals.outline,isInDocs="docs"===context.viewMode,outlineStyles=Object(hooks.h)((function(){return outlineCSS(isInDocs?"#anchor--".concat(context.id," .docs-story"):".sb-show-main")}),[context]);return Object(hooks.f)((function(){var selectorId=isInDocs?"addon-outline-docs-".concat(context.id):"addon-outline";return isActive?function addOutlineStyles(selector,css){var existingStyle=window_default.a.document.getElementById(selector);if(existingStyle)existingStyle.innerHTML!==css&&(existingStyle.innerHTML=css);else{var style=window_default.a.document.createElement("style");style.setAttribute("id",selector),style.innerHTML=css,window_default.a.document.head.appendChild(style)}}(selectorId,outlineStyles):clearStyles(selectorId),function(){clearStyles(selectorId)}}),[isActive,outlineStyles,context]),StoryFn()}],addDecorator_globals=function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},"outline",!1);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function addDecorator_js_generated_config_entry_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(addDecorator_namespaceObject).forEach((function(key){var value=addDecorator_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){addDecorator_js_generated_config_entry_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./node_modules/@storybook/addons/dist/esm/hooks.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return HooksContext})),__webpack_require__.d(__webpack_exports__,"b",(function(){return applyHooks})),__webpack_require__.d(__webpack_exports__,"h",(function(){return useMemo})),__webpack_require__.d(__webpack_exports__,"d",(function(){return useCallback})),__webpack_require__.d(__webpack_exports__,"k",(function(){return useRef})),__webpack_require__.d(__webpack_exports__,"l",(function(){return useState})),__webpack_require__.d(__webpack_exports__,"j",(function(){return useReducer})),__webpack_require__.d(__webpack_exports__,"f",(function(){return useEffect})),__webpack_require__.d(__webpack_exports__,"e",(function(){return useChannel})),__webpack_require__.d(__webpack_exports__,"m",(function(){return useStoryContext})),__webpack_require__.d(__webpack_exports__,"i",(function(){return useParameter})),__webpack_require__.d(__webpack_exports__,"c",(function(){return useArgs})),__webpack_require__.d(__webpack_exports__,"g",(function(){return useGlobals}));__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.set.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js");var global__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/global/window.js"),global__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(global__WEBPACK_IMPORTED_MODULE_19__),_storybook_client_logger__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),_storybook_core_events__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./node_modules/@storybook/core-events/dist/esm/index.js"),_index__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./node_modules/@storybook/addons/dist/esm/index.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var globalWindow=global__WEBPACK_IMPORTED_MODULE_19___default.a.window,HooksContext=function(){function HooksContext(){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,HooksContext),this.hookListsMap=void 0,this.mountedDecorators=void 0,this.prevMountedDecorators=void 0,this.currentHooks=void 0,this.nextHookIndex=void 0,this.currentPhase=void 0,this.currentEffects=void 0,this.prevEffects=void 0,this.currentDecoratorName=void 0,this.hasUpdates=void 0,this.currentContext=void 0,this.renderListener=function(storyId){storyId===_this.currentContext.id&&(_this.triggerEffects(),_this.currentContext=null,_this.removeRenderListeners())},this.init()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(HooksContext,[{key:"init",value:function init(){this.hookListsMap=new WeakMap,this.mountedDecorators=new Set,this.prevMountedDecorators=this.mountedDecorators,this.currentHooks=[],this.nextHookIndex=0,this.currentPhase="NONE",this.currentEffects=[],this.prevEffects=[],this.currentDecoratorName=null,this.hasUpdates=!1,this.currentContext=null}},{key:"clean",value:function clean(){this.prevEffects.forEach((function(effect){effect.destroy&&effect.destroy()})),this.init(),this.removeRenderListeners()}},{key:"getNextHook",value:function getNextHook(){var hook=this.currentHooks[this.nextHookIndex];return this.nextHookIndex+=1,hook}},{key:"triggerEffects",value:function triggerEffects(){var _this2=this;this.prevEffects.forEach((function(effect){!_this2.currentEffects.includes(effect)&&effect.destroy&&effect.destroy()})),this.currentEffects.forEach((function(effect){_this2.prevEffects.includes(effect)||(effect.destroy=effect.create())})),this.prevEffects=this.currentEffects,this.currentEffects=[]}},{key:"addRenderListeners",value:function addRenderListeners(){this.removeRenderListeners(),_index__WEBPACK_IMPORTED_MODULE_22__.a.getChannel().on(_storybook_core_events__WEBPACK_IMPORTED_MODULE_21__.STORY_RENDERED,this.renderListener)}},{key:"removeRenderListeners",value:function removeRenderListeners(){_index__WEBPACK_IMPORTED_MODULE_22__.a.getChannel().removeListener(_storybook_core_events__WEBPACK_IMPORTED_MODULE_21__.STORY_RENDERED,this.renderListener)}}]),HooksContext}();function hookify(fn){return function(){var _ref="function"==typeof(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:arguments.length<=0?void 0:arguments[0],hooks=_ref.hooks,prevPhase=hooks.currentPhase,prevHooks=hooks.currentHooks,prevNextHookIndex=hooks.nextHookIndex,prevDecoratorName=hooks.currentDecoratorName;hooks.currentDecoratorName=fn.name,hooks.prevMountedDecorators.has(fn)?(hooks.currentPhase="UPDATE",hooks.currentHooks=hooks.hookListsMap.get(fn)||[]):(hooks.currentPhase="MOUNT",hooks.currentHooks=[],hooks.hookListsMap.set(fn,hooks.currentHooks),hooks.prevMountedDecorators.add(fn)),hooks.nextHookIndex=0;var prevContext=globalWindow.STORYBOOK_HOOKS_CONTEXT;globalWindow.STORYBOOK_HOOKS_CONTEXT=hooks;var result=fn.apply(void 0,arguments);if(globalWindow.STORYBOOK_HOOKS_CONTEXT=prevContext,"UPDATE"===hooks.currentPhase&&null!=hooks.getNextHook())throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return hooks.currentPhase=prevPhase,hooks.currentHooks=prevHooks,hooks.nextHookIndex=prevNextHookIndex,hooks.currentDecoratorName=prevDecoratorName,result}}var numberOfRenders=0,applyHooks=function applyHooks(applyDecorators){return function(storyFn,decorators){var decorated=applyDecorators(hookify(storyFn),decorators.map((function(decorator){return hookify(decorator)})));return function(context){var hooks=context.hooks;hooks.prevMountedDecorators=hooks.mountedDecorators,hooks.mountedDecorators=new Set([storyFn].concat(_toConsumableArray(decorators))),hooks.currentContext=context,hooks.hasUpdates=!1;var result=decorated(context);for(numberOfRenders=1;hooks.hasUpdates;)if(hooks.hasUpdates=!1,hooks.currentEffects=[],result=decorated(context),(numberOfRenders+=1)>25)throw new Error("Too many re-renders. Storybook limits the number of renders to prevent an infinite loop.");return hooks.addRenderListeners(),result}}},invalidHooksError=function invalidHooksError(){return new Error("Storybook preview hooks can only be called inside decorators and story functions.")};function getHooksContextOrNull(){return globalWindow.STORYBOOK_HOOKS_CONTEXT||null}function getHooksContextOrThrow(){var hooks=getHooksContextOrNull();if(null==hooks)throw invalidHooksError();return hooks}function useMemoLike(name,nextCreate,deps){var _useHook=function useHook(name,callback,deps){var hooks=getHooksContextOrThrow();if("MOUNT"===hooks.currentPhase){null==deps||Array.isArray(deps)||_storybook_client_logger__WEBPACK_IMPORTED_MODULE_20__.logger.warn("".concat(name," received a final argument that is not an array (instead, received ").concat(deps,"). When specified, the final argument must be an array."));var _hook={name:name,deps:deps};return hooks.currentHooks.push(_hook),callback(_hook),_hook}if("UPDATE"===hooks.currentPhase){var _hook2=hooks.getNextHook();if(null==_hook2)throw new Error("Rendered more hooks than during the previous render.");return _hook2.name!==name&&_storybook_client_logger__WEBPACK_IMPORTED_MODULE_20__.logger.warn("Storybook has detected a change in the order of Hooks".concat(hooks.currentDecoratorName?" called by ".concat(hooks.currentDecoratorName):"",". This will lead to bugs and errors if not fixed.")),null!=deps&&null==_hook2.deps&&_storybook_client_logger__WEBPACK_IMPORTED_MODULE_20__.logger.warn("".concat(name," received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.")),null!=deps&&null!=_hook2.deps&&deps.length!==_hook2.deps.length&&_storybook_client_logger__WEBPACK_IMPORTED_MODULE_20__.logger.warn("The final argument passed to ".concat(name," changed size between renders. The order and size of this array must remain constant.\nPrevious: ").concat(_hook2.deps,"\nIncoming: ").concat(deps)),null!=deps&&null!=_hook2.deps&&function areDepsEqual(deps,nextDeps){return deps.length===nextDeps.length&&deps.every((function(dep,i){return dep===nextDeps[i]}))}(deps,_hook2.deps)||(callback(_hook2),_hook2.deps=deps),_hook2}throw invalidHooksError()}(name,(function(hook){hook.memoizedState=nextCreate()}),deps);return _useHook.memoizedState}function useMemo(nextCreate,deps){return useMemoLike("useMemo",nextCreate,deps)}function useCallback(callback,deps){return useMemoLike("useCallback",(function(){return callback}),deps)}function useRefLike(name,initialValue){return useMemoLike(name,(function(){return{current:initialValue}}),[])}function useRef(initialValue){return useRefLike("useRef",initialValue)}function useStateLike(name,initialState){var stateRef=useRefLike(name,"function"==typeof initialState?initialState():initialState);return[stateRef.current,function setState(update){stateRef.current="function"==typeof update?update(stateRef.current):update,function triggerUpdate(){var hooks=getHooksContextOrNull();if(null!=hooks&&"NONE"!==hooks.currentPhase)hooks.hasUpdates=!0;else try{_index__WEBPACK_IMPORTED_MODULE_22__.a.getChannel().emit(_storybook_core_events__WEBPACK_IMPORTED_MODULE_21__.FORCE_RE_RENDER)}catch(e){_storybook_client_logger__WEBPACK_IMPORTED_MODULE_20__.logger.warn("State updates of Storybook preview hooks work only in browser")}}()}]}function useState(initialState){return useStateLike("useState",initialState)}function useReducer(reducer,initialArg,init){var _useStateLike2=_slicedToArray(useStateLike("useReducer",null!=init?function(){return init(initialArg)}:initialArg),2),state=_useStateLike2[0],setState=_useStateLike2[1];return[state,function dispatch(action){return setState((function(prevState){return reducer(prevState,action)}))}]}function useEffect(create,deps){var hooks=getHooksContextOrThrow(),effect=useMemoLike("useEffect",(function(){return{create:create}}),deps);hooks.currentEffects.includes(effect)||hooks.currentEffects.push(effect)}function useChannel(eventMap){var deps=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],channel=_index__WEBPACK_IMPORTED_MODULE_22__.a.getChannel();return useEffect((function(){return Object.entries(eventMap).forEach((function(_ref3){var _ref4=_slicedToArray(_ref3,2),type=_ref4[0],listener=_ref4[1];return channel.on(type,listener)})),function(){Object.entries(eventMap).forEach((function(_ref5){var _ref6=_slicedToArray(_ref5,2),type=_ref6[0],listener=_ref6[1];return channel.removeListener(type,listener)}))}}),[].concat(_toConsumableArray(Object.keys(eventMap)),_toConsumableArray(deps))),useCallback(channel.emit.bind(channel),[channel])}function useStoryContext(){var currentContext=getHooksContextOrThrow().currentContext;if(null==currentContext)throw invalidHooksError();return currentContext}function useParameter(parameterKey,defaultValue){var _parameters$parameter,parameters=useStoryContext().parameters;if(parameterKey)return null!==(_parameters$parameter=parameters[parameterKey])&&void 0!==_parameters$parameter?_parameters$parameter:defaultValue}function useArgs(){var channel=_index__WEBPACK_IMPORTED_MODULE_22__.a.getChannel(),_useStoryContext2=useStoryContext(),storyId=_useStoryContext2.id;return[_useStoryContext2.args,useCallback((function(updatedArgs){return channel.emit(_storybook_core_events__WEBPACK_IMPORTED_MODULE_21__.UPDATE_STORY_ARGS,{storyId:storyId,updatedArgs:updatedArgs})}),[channel,storyId]),useCallback((function(argNames){return channel.emit(_storybook_core_events__WEBPACK_IMPORTED_MODULE_21__.RESET_STORY_ARGS,{storyId:storyId,argNames:argNames})}),[channel,storyId])]}function useGlobals(){var channel=_index__WEBPACK_IMPORTED_MODULE_22__.a.getChannel();return[useStoryContext().globals,useCallback((function(newGlobals){return channel.emit(_storybook_core_events__WEBPACK_IMPORTED_MODULE_21__.UPDATE_GLOBALS,{globals:newGlobals})}),[channel])]}},"./node_modules/@storybook/addons/dist/esm/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return addons}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.values.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js");var types,global_window=__webpack_require__("./node_modules/global/window.js"),window_default=__webpack_require__.n(global_window),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js");__webpack_require__("./node_modules/core-js/modules/es.array.find.js");!function(types){types.TAB="tab",types.PANEL="panel",types.TOOL="tool",types.TOOLEXTRA="toolextra",types.PREVIEW="preview",types.NOTES_ELEMENT="notes-element"}(types||(types={}));var esm_AddonStore=function AddonStore(){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AddonStore),this.loaders={},this.elements={},this.config={},this.channel=void 0,this.serverChannel=void 0,this.promise=void 0,this.resolve=void 0,this.getChannel=function(){if(!_this.channel)throw new Error("Accessing non-existent addons channel, see https://storybook.js.org/basics/faq/#why-is-there-no-addons-channel");return _this.channel},this.getServerChannel=function(){if(!_this.serverChannel)throw new Error("Accessing non-existent serverChannel");return _this.serverChannel},this.ready=function(){return _this.promise},this.hasChannel=function(){return!!_this.channel},this.hasServerChannel=function(){return!!_this.serverChannel},this.setChannel=function(channel){_this.channel=channel,_this.resolve()},this.setServerChannel=function(channel){_this.serverChannel=channel},this.getElements=function(type){return _this.elements[type]||(_this.elements[type]={}),_this.elements[type]},this.addPanel=function(name,options){_this.add(name,Object.assign({type:types.PANEL},options))},this.add=function(name,addon){var type=addon.type;_this.getElements(type)[name]=Object.assign({id:name},addon)},this.setConfig=function(value){Object.assign(_this.config,value)},this.getConfig=function(){return _this.config},this.register=function(name,registerCallback){_this.loaders[name]&&esm.logger.warn("".concat(name," was loaded twice, this could have bad side-effects")),_this.loaders[name]=registerCallback},this.loadAddons=function(api){Object.values(_this.loaders).forEach((function(value){return value(api)}))},this.promise=new Promise((function(res){_this.resolve=function(){return res(_this.getChannel())}}))},KEY="__STORYBOOK_ADDONS";var addons=function getAddonsStore(){return window_default.a[KEY]||(window_default.a[KEY]=new esm_AddonStore),window_default.a[KEY]}()},"./node_modules/@storybook/addons/dist/esm/make-decorator.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return makeDecorator}));__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js");var makeDecorator=function makeDecorator(_ref){var name=_ref.name,parameterName=_ref.parameterName,wrapper=_ref.wrapper,_ref$skipIfNoParamete=_ref.skipIfNoParametersOrOptions,skipIfNoParametersOrOptions=void 0!==_ref$skipIfNoParamete&&_ref$skipIfNoParamete,decorator=function decorator(options){return function(storyFn,context){var parameters=context.parameters&&context.parameters[parameterName];return parameters&&parameters.disable?storyFn(context):!skipIfNoParametersOrOptions||options||parameters?wrapper(storyFn,context,{options:options,parameters:parameters}):storyFn(context)}};return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return"function"==typeof args[0]?decorator().apply(void 0,args):function(){if(arguments.length>1)return args.length>1?decorator(args).apply(void 0,arguments):decorator.apply(void 0,args).apply(void 0,arguments);throw new Error("Passing stories directly into ".concat(name,"() is not allowed,\n        instead use addDecorator(").concat(name,") and pass options with the '").concat(parameterName,"' parameter"))}}}},"./node_modules/@storybook/channels/dist/esm/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(setImmediate){__webpack_require__("./node_modules/core-js/modules/es.object.freeze.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/web.immediate.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js");var _templateObject,util_deprecate__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/util-deprecate/browser.js"),util_deprecate__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(util_deprecate__WEBPACK_IMPORTED_MODULE_8__),ts_dedent__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/ts-dedent/esm/index.js");function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var generateRandomId=function generateRandomId(){return Math.random().toString(16).slice(2)},Channel=function(){function Channel(){var _this=this,_ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},transport=_ref.transport,_ref$async=_ref.async,async=void 0!==_ref$async&&_ref$async;_classCallCheck(this,Channel),this.isAsync=void 0,this.sender=generateRandomId(),this.events={},this.data={},this.transport=void 0,this.addPeerListener=util_deprecate__WEBPACK_IMPORTED_MODULE_8___default()((function(eventName,listener){_this.addListener(eventName,listener)}),Object(ts_dedent__WEBPACK_IMPORTED_MODULE_9__.a)(_templateObject||(_templateObject=_taggedTemplateLiteral(["\n      channel.addPeerListener is deprecated\n    "])))),this.isAsync=async,transport&&(this.transport=transport,this.transport.setHandler((function(event){return _this.handleEvent(event)})))}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Channel,[{key:"hasTransport",get:function get(){return!!this.transport}},{key:"addListener",value:function addListener(eventName,listener){this.events[eventName]=this.events[eventName]||[],this.events[eventName].push(listener)}},{key:"emit",value:function emit(eventName){for(var _this2=this,_len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];var event={type:eventName,args:args,from:this.sender},options={};args.length>=1&&args[0]&&args[0].options&&(options=args[0].options);var handler=function handler(){_this2.transport&&_this2.transport.send(event,options),_this2.handleEvent(event)};this.isAsync?setImmediate(handler):handler()}},{key:"last",value:function last(eventName){return this.data[eventName]}},{key:"eventNames",value:function eventNames(){return Object.keys(this.events)}},{key:"listenerCount",value:function listenerCount(eventName){var listeners=this.listeners(eventName);return listeners?listeners.length:0}},{key:"listeners",value:function listeners(eventName){var listeners=this.events[eventName];return listeners||void 0}},{key:"once",value:function once(eventName,listener){var onceListener=this.onceListener(eventName,listener);this.addListener(eventName,onceListener)}},{key:"removeAllListeners",value:function removeAllListeners(eventName){eventName?this.events[eventName]&&delete this.events[eventName]:this.events={}}},{key:"removeListener",value:function removeListener(eventName,listener){var listeners=this.listeners(eventName);listeners&&(this.events[eventName]=listeners.filter((function(l){return l!==listener})))}},{key:"on",value:function on(eventName,listener){this.addListener(eventName,listener)}},{key:"off",value:function off(eventName,listener){this.removeListener(eventName,listener)}},{key:"handleEvent",value:function handleEvent(event){var listeners=this.listeners(event.type);listeners&&listeners.length&&listeners.forEach((function(fn){fn.apply(event,event.args)})),this.data[event.type]=event.args}},{key:"onceListener",value:function onceListener(eventName,listener){var _this3=this,onceListener=function onceListener(){return _this3.removeListener(eventName,onceListener),listener.apply(void 0,arguments)};return onceListener}}]),Channel}();__webpack_exports__.a=Channel}).call(this,__webpack_require__("./node_modules/timers-browserify/main.js").setImmediate)},"./node_modules/@storybook/client-api/dist/esm/ClientApi.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return addDecorator})),__webpack_require__.d(__webpack_exports__,"f",(function(){return addParameters})),__webpack_require__.d(__webpack_exports__,"e",(function(){return addLoader})),__webpack_require__.d(__webpack_exports__,"c",(function(){return addArgsEnhancer})),__webpack_require__.d(__webpack_exports__,"b",(function(){return addArgTypesEnhancer})),__webpack_require__.d(__webpack_exports__,"g",(function(){return setGlobalRender})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ClientApi_ClientApi}));__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.freeze.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.set.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.values.js");var _templateObject,browser=__webpack_require__("./node_modules/util-deprecate/browser.js"),browser_default=__webpack_require__.n(browser),esm=__webpack_require__("./node_modules/ts-dedent/esm/index.js"),global_window=__webpack_require__("./node_modules/global/window.js"),window_default=__webpack_require__.n(global_window),dist_esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),dist=__webpack_require__("./node_modules/@storybook/csf/dist/index.js"),esm_parameters=__webpack_require__("./node_modules/@storybook/store/dist/esm/parameters.js"),normalizeInputTypes=__webpack_require__("./node_modules/@storybook/store/dist/esm/normalizeInputTypes.js"),synchronous_promise=(__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/synchronous-promise/index.js")),sortStories=__webpack_require__("./node_modules/@storybook/store/dist/esm/sortStories.js"),autoTitle=__webpack_require__("./node_modules/@storybook/store/dist/esm/autoTitle.js");function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var ClientApi_templateObject,_templateObject2,_templateObject3,_templateObject4,singleton,StoryStoreFacade_StoryStoreFacade=function(){function StoryStoreFacade(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StoryStoreFacade),this.projectAnnotations=void 0,this.stories=void 0,this.csfExports=void 0,this.projectAnnotations={loaders:[],decorators:[],parameters:{},argsEnhancers:[],argTypesEnhancers:[]},this.stories={},this.csfExports={}}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(StoryStoreFacade,[{key:"importFn",value:function importFn(path){var _this=this;return synchronous_promise.SynchronousPromise.resolve().then((function(){var moduleExports=_this.csfExports[path];if(!moduleExports)throw new Error("Unknown path: ".concat(path));return moduleExports}))}},{key:"getStoryIndex",value:function getStoryIndex(store){var _this$projectAnnotati,_this$projectAnnotati2,sortedV7,_this2=this,fileNameOrder=Object.keys(this.csfExports),storySortParameter=null===(_this$projectAnnotati=this.projectAnnotations.parameters)||void 0===_this$projectAnnotati||null===(_this$projectAnnotati2=_this$projectAnnotati.options)||void 0===_this$projectAnnotati2?void 0:_this$projectAnnotati2.storySort,sortableV6=Object.entries(this.stories).map((function(_ref){var _ref2=_slicedToArray(_ref,2),storyId=_ref2[0],importPath=_ref2[1].importPath,exports=_this2.csfExports[importPath],csfFile=store.processCSFFileWithCache(exports,importPath,exports.default.title);return[storyId,store.storyFromCSFFile({storyId:storyId,csfFile:csfFile}),csfFile.meta.parameters,_this2.projectAnnotations.parameters]}));try{sortedV7=Object(sortStories.a)(sortableV6,storySortParameter,fileNameOrder)}catch(err){if("function"==typeof storySortParameter)throw new Error(Object(esm.a)(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n          Error sorting stories with sort parameter ",":\n\n          > ","\n          \n          Are you using a V7-style sort function in V6 compatibility mode?\n          \n          More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#v7-style-story-sort\n        "])),storySortParameter,err.message));throw err}return{v:3,stories:sortedV7.reduce((function(acc,s){return acc[s.id]=_this2.stories[s.id],acc}),{})}}},{key:"clearFilenameExports",value:function clearFilenameExports(fileName){var _this3=this;this.csfExports[fileName]&&(Object.entries(this.stories).forEach((function(_ref3){var _ref4=_slicedToArray(_ref3,2),id=_ref4[0];_ref4[1].importPath===fileName&&delete _this3.stories[id]})),this.csfExports[fileName]={})}},{key:"addStoriesFromExports",value:function addStoriesFromExports(fileName,fileExports){var _this4=this;if(this.csfExports[fileName]!==fileExports){this.clearFilenameExports(fileName);var defaultExport=fileExports.default,__namedExportsOrder=fileExports.__namedExportsOrder,namedExports=_objectWithoutProperties(fileExports,["default","__namedExportsOrder"]),_ref5=defaultExport||{},componentId=_ref5.id,title=_ref5.title;if(title=title||Object(autoTitle.a)(fileName,(window_default.a.STORIES||[]).map((function(specifier){return Object.assign({},specifier,{importPathMatcher:new RegExp(specifier.importPathMatcher)})})))){this.csfExports[fileName]=Object.assign({},fileExports,{default:Object.assign({},defaultExport,{title:title})});var sortedExports=namedExports;Array.isArray(__namedExportsOrder)&&(sortedExports={},__namedExportsOrder.forEach((function(name){var namedExport=namedExports[name];namedExport&&(sortedExports[name]=namedExport)}))),Object.entries(sortedExports).filter((function(_ref6){var key=_slicedToArray(_ref6,1)[0];return Object(dist.isExportStory)(key,defaultExport)})).forEach((function(_ref8){var _storyExport$paramete,_storyExport$story,_ref9=_slicedToArray(_ref8,2),key=_ref9[0],storyExport=_ref9[1],exportName=Object(dist.storyNameFromExport)(key),id=(null===(_storyExport$paramete=storyExport.parameters)||void 0===_storyExport$paramete?void 0:_storyExport$paramete.__id)||Object(dist.toId)(componentId||title,exportName),name="function"!=typeof storyExport&&storyExport.name||storyExport.storyName||(null===(_storyExport$story=storyExport.story)||void 0===_storyExport$story?void 0:_storyExport$story.name)||exportName;_this4.stories[id]={id:id,name:name,title:title,importPath:fileName}}))}else dist_esm.logger.info("Unexpected default export without title in '".concat(fileName,"': ").concat(JSON.stringify(fileExports.default)))}}}]),StoryStoreFacade}();function ClientApi_slicedToArray(arr,i){return function ClientApi_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ClientApi_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function ClientApi_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ClientApi_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ClientApi_arrayLikeToArray(o,minLen)}(arr,i)||function ClientApi_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ClientApi_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ClientApi_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function ClientApi_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function ClientApi_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function ClientApi_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ClientApi_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var warningAlternatives={addDecorator:"Instead, use `export const decorators = [];` in your `preview.js`.",addParameters:"Instead, use `export const parameters = {};` in your `preview.js`.",addLoaders:"Instead, use `export const loaders = [];` in your `preview.js`."},ClientApi_warningMessage=function warningMessage(method){return browser_default()((function(){}),Object(esm.a)(ClientApi_templateObject||(ClientApi_templateObject=ClientApi_taggedTemplateLiteral(["\n  `","` is deprecated, and will be removed in Storybook 7.0.\n\n  ","\n\n  Read more at https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-addparameters-and-adddecorator)."],["\n  \\`","\\` is deprecated, and will be removed in Storybook 7.0.\n\n  ","\n\n  Read more at https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-addparameters-and-adddecorator)."])),method,warningAlternatives[method]))},warnings={addDecorator:ClientApi_warningMessage("addDecorator"),addParameters:ClientApi_warningMessage("addParameters"),addLoaders:ClientApi_warningMessage("addLoaders")},ClientApi_checkMethod=function checkMethod(method,deprecationWarning){var _global$FEATURES;if(null!==(_global$FEATURES=window_default.a.FEATURES)&&void 0!==_global$FEATURES&&_global$FEATURES.storyStoreV7)throw new Error(Object(esm.a)(_templateObject2||(_templateObject2=ClientApi_taggedTemplateLiteral(["You cannot use `","` with the new Story Store.\n      \n      ",""],["You cannot use \\`","\\` with the new Story Store.\n      \n      ",""])),method,warningAlternatives[method]));if(!singleton)throw new Error("Singleton client API not yet initialized, cannot call `".concat(method,"`."));deprecationWarning&&warnings[method]()},addDecorator=function addDecorator(decorator){var deprecationWarning=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ClientApi_checkMethod("addDecorator",deprecationWarning),singleton.addDecorator(decorator)},addParameters=function addParameters(parameters){var deprecationWarning=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ClientApi_checkMethod("addParameters",deprecationWarning),singleton.addParameters(parameters)},addLoader=function addLoader(loader){var deprecationWarning=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ClientApi_checkMethod("addLoader",deprecationWarning),singleton.addLoader(loader)},addArgsEnhancer=function addArgsEnhancer(enhancer){ClientApi_checkMethod("addArgsEnhancer",!1),singleton.addArgsEnhancer(enhancer)},addArgTypesEnhancer=function addArgTypesEnhancer(enhancer){ClientApi_checkMethod("addArgTypesEnhancer",!1),singleton.addArgTypesEnhancer(enhancer)},setGlobalRender=function setGlobalRender(render){ClientApi_checkMethod("setGlobalRender",!1),singleton.facade.projectAnnotations.render=render},invalidStoryTypes=new Set(["string","number","boolean","symbol"]),ClientApi_ClientApi=function(){function ClientApi(){var _this=this,_ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},storyStore=_ref.storyStore;ClientApi_classCallCheck(this,ClientApi),this.facade=void 0,this.storyStore=void 0,this.addons=void 0,this.onImportFnChanged=void 0,this.lastFileName=0,this.setAddon=browser_default()((function(addon){_this.addons=Object.assign({},_this.addons,addon)}),Object(esm.a)(_templateObject3||(_templateObject3=ClientApi_taggedTemplateLiteral(["\n      `setAddon` is deprecated and will be removed in Storybook 7.0.\n\n      https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-setaddon\n    "],["\n      \\`setAddon\\` is deprecated and will be removed in Storybook 7.0.\n\n      https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-setaddon\n    "])))),this.addDecorator=function(decorator){_this.facade.projectAnnotations.decorators.push(decorator)},this.clearDecorators=browser_default()((function(){_this.facade.projectAnnotations.decorators=[]}),Object(esm.a)(_templateObject4||(_templateObject4=ClientApi_taggedTemplateLiteral(["\n      `clearDecorators` is deprecated and will be removed in Storybook 7.0.\n\n      https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-cleardecorators\n    "],["\n      \\`clearDecorators\\` is deprecated and will be removed in Storybook 7.0.\n\n      https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-cleardecorators\n    "])))),this.addParameters=function(_ref2){var globals=_ref2.globals,globalTypes=_ref2.globalTypes,parameters=ClientApi_objectWithoutProperties(_ref2,["globals","globalTypes"]);_this.facade.projectAnnotations.parameters=Object(esm_parameters.a)(_this.facade.projectAnnotations.parameters,parameters),globals&&(_this.facade.projectAnnotations.globals=Object.assign({},_this.facade.projectAnnotations.globals,globals)),globalTypes&&(_this.facade.projectAnnotations.globalTypes=Object.assign({},_this.facade.projectAnnotations.globalTypes,Object(normalizeInputTypes.a)(globalTypes)))},this.addLoader=function(loader){_this.facade.projectAnnotations.loaders.push(loader)},this.addArgsEnhancer=function(enhancer){_this.facade.projectAnnotations.argsEnhancers.push(enhancer)},this.addArgTypesEnhancer=function(enhancer){_this.facade.projectAnnotations.argTypesEnhancers.push(enhancer)},this.storiesOf=function(kind,m){if(!kind&&"string"!=typeof kind)throw new Error("Invalid or missing kind provided for stories, should be a string");if(m||dist_esm.logger.warn("Missing 'module' parameter for story with a kind of '".concat(kind,"'. It will break your HMR")),m){var proto=Object.getPrototypeOf(m);proto.exports&&proto.exports.default&&dist_esm.logger.error("Illegal mix of CSF default export and storiesOf calls in a single file: ".concat(proto.i))}for(var baseFilename=m&&m.id?"".concat(m.id):(_this.lastFileName++).toString(),fileName=baseFilename,i=1;_this.facade.csfExports[fileName]&&Object.keys(_this.facade.csfExports[fileName]).length>0;)i+=1,fileName="".concat(baseFilename,"-").concat(i);m&&m.hot&&m.hot.accept&&(m.hot.accept(),m.hot.dispose((function(){_this.facade.clearFilenameExports(fileName),setTimeout((function(){var _this$onImportFnChang;null===(_this$onImportFnChang=_this.onImportFnChanged)||void 0===_this$onImportFnChang||_this$onImportFnChang.call(_this,{importFn:_this.importFn.bind(_this)})}),0)})));var hasAdded=!1,api={kind:kind.toString(),add:function add(){return api},addDecorator:function addDecorator(){return api},addLoader:function addLoader(){return api},addParameters:function addParameters(){return api}};Object.keys(_this.addons).forEach((function(name){var addon=_this.addons[name];api[name]=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return addon.apply(api,args),api}}));var meta={id:Object(dist.sanitize)(kind),title:kind,decorators:[],loaders:[],parameters:{}};_this.facade.csfExports[fileName]={default:meta};var counter=0;return api.add=function(storyName,storyFn){var parameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(hasAdded=!0,"string"!=typeof storyName)throw new Error('Invalid or missing storyName provided for a "'.concat(kind,'" story.'));if(!storyFn||Array.isArray(storyFn)||invalidStoryTypes.has(_typeof(storyFn)))throw new Error('Cannot load story "'.concat(storyName,'" in "').concat(kind,'" due to invalid format. Storybook expected a function/object but received ').concat(_typeof(storyFn)," instead."));var decorators=parameters.decorators,loaders=parameters.loaders,component=parameters.component,args=parameters.args,argTypes=parameters.argTypes,storyParameters=ClientApi_objectWithoutProperties(parameters,["decorators","loaders","component","args","argTypes"]),storyId=parameters.__id||Object(dist.toId)(kind,storyName),csfExports=_this.facade.csfExports[fileName];return csfExports["story".concat(counter)]={name:storyName,parameters:Object.assign({fileName:fileName,__id:storyId},storyParameters),decorators:decorators,loaders:loaders,args:args,argTypes:argTypes,component:component,render:storyFn},counter+=1,_this.facade.stories[storyId]={id:storyId,title:csfExports.default.title,name:storyName,importPath:fileName},api},api.addDecorator=function(decorator){if(hasAdded)throw new Error("You cannot add a decorator after the first story for a kind.\nRead more here: https://github.com/storybookjs/storybook/blob/master/MIGRATION.md#can-no-longer-add-decoratorsparameters-after-stories");return meta.decorators.push(decorator),api},api.addLoader=function(loader){if(hasAdded)throw new Error("You cannot add a loader after the first story for a kind.");return meta.loaders.push(loader),api},api.addParameters=function(_ref3){var component=_ref3.component,args=_ref3.args,argTypes=_ref3.argTypes,parameters=ClientApi_objectWithoutProperties(_ref3,["component","args","argTypes"]);if(hasAdded)throw new Error("You cannot add parameters after the first story for a kind.\nRead more here: https://github.com/storybookjs/storybook/blob/master/MIGRATION.md#can-no-longer-add-decoratorsparameters-after-stories");return meta.parameters=Object(esm_parameters.a)(meta.parameters,parameters),component&&(meta.component=component),args&&(meta.args=Object.assign({},meta.args,args)),argTypes&&(meta.argTypes=Object.assign({},meta.argTypes,argTypes)),api},api},this.getStorybook=function(){var stories=_this.storyStore.storyIndex.stories,kinds={};return Object.entries(stories).forEach((function(_ref4){var _ref5=ClientApi_slicedToArray(_ref4,2),storyId=_ref5[0],_ref5$=_ref5[1],title=_ref5$.title,name=_ref5$.name,importPath=_ref5$.importPath;kinds[title]||(kinds[title]={kind:title,fileName:importPath,stories:[]});var storyFn=_this.storyStore.fromId(storyId).storyFn;kinds[title].stories.push({name:name,render:storyFn})})),Object.values(kinds)},this.raw=function(){return _this.storyStore.raw()},this.facade=new StoryStoreFacade_StoryStoreFacade,this.addons={},this.storyStore=storyStore,singleton=this}return function ClientApi_createClass(Constructor,protoProps,staticProps){return protoProps&&ClientApi_defineProperties(Constructor.prototype,protoProps),staticProps&&ClientApi_defineProperties(Constructor,staticProps),Constructor}(ClientApi,[{key:"importFn",value:function importFn(path){return this.facade.importFn(path)}},{key:"getStoryIndex",value:function getStoryIndex(){if(!this.storyStore)throw new Error("Cannot get story index before setting storyStore");return this.facade.getStoryIndex(this.storyStore)}},{key:"_storyStore",get:function get(){return this.storyStore}}]),ClientApi}()},"./node_modules/@storybook/client-api/dist/esm/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _ClientApi__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js");__webpack_require__.d(__webpack_exports__,"addArgsEnhancer",(function(){return _ClientApi__WEBPACK_IMPORTED_MODULE_0__.c})),__webpack_require__.d(__webpack_exports__,"addArgTypesEnhancer",(function(){return _ClientApi__WEBPACK_IMPORTED_MODULE_0__.b})),__webpack_require__.d(__webpack_exports__,"addDecorator",(function(){return _ClientApi__WEBPACK_IMPORTED_MODULE_0__.d})),__webpack_require__.d(__webpack_exports__,"addLoader",(function(){return _ClientApi__WEBPACK_IMPORTED_MODULE_0__.e})),__webpack_require__.d(__webpack_exports__,"addParameters",(function(){return _ClientApi__WEBPACK_IMPORTED_MODULE_0__.f})),__webpack_require__.d(__webpack_exports__,"setGlobalRender",(function(){return _ClientApi__WEBPACK_IMPORTED_MODULE_0__.g})),__webpack_require__.d(__webpack_exports__,"ClientApi",(function(){return _ClientApi__WEBPACK_IMPORTED_MODULE_0__.a}));var _types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/types.js");for(var __WEBPACK_IMPORT_KEY__ in _types__WEBPACK_IMPORTED_MODULE_1__)["default","addArgsEnhancer","addArgTypesEnhancer","addDecorator","addLoader","addParameters","setGlobalRender","ClientApi"].indexOf(__WEBPACK_IMPORT_KEY__)<0&&function(key){__webpack_require__.d(__webpack_exports__,key,(function(){return _types__WEBPACK_IMPORTED_MODULE_1__[key]}))}(__WEBPACK_IMPORT_KEY__);var _queryparams__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/queryparams.js");__webpack_require__.d(__webpack_exports__,"getQueryParams",(function(){return _queryparams__WEBPACK_IMPORTED_MODULE_2__.b})),__webpack_require__.d(__webpack_exports__,"getQueryParam",(function(){return _queryparams__WEBPACK_IMPORTED_MODULE_2__.a}));var _storybook_store__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/store/dist/esm/index.js");for(var __WEBPACK_IMPORT_KEY__ in _storybook_store__WEBPACK_IMPORTED_MODULE_3__)["default","addArgsEnhancer","addArgTypesEnhancer","addDecorator","addLoader","addParameters","setGlobalRender","ClientApi","getQueryParams","getQueryParam"].indexOf(__WEBPACK_IMPORT_KEY__)<0&&function(key){__webpack_require__.d(__webpack_exports__,key,(function(){return _storybook_store__WEBPACK_IMPORTED_MODULE_3__[key]}))}(__WEBPACK_IMPORT_KEY__)},"./node_modules/@storybook/client-api/dist/esm/queryparams.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getQueryParams})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getQueryParam}));__webpack_require__("./node_modules/core-js/modules/es.string.search.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js");var global__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/global/window.js"),global__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(global__WEBPACK_IMPORTED_MODULE_2__),qs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/qs/lib/index.js"),document=global__WEBPACK_IMPORTED_MODULE_2___default.a.document,getQueryParams=function getQueryParams(){return document&&document.location&&document.location.search?Object(qs__WEBPACK_IMPORTED_MODULE_3__.parse)(document.location.search,{ignoreQueryPrefix:!0}):{}},getQueryParam=function getQueryParam(key){return getQueryParams()[key]}},"./node_modules/@storybook/client-api/dist/esm/types.js":function(module,exports){},"./node_modules/@storybook/client-logger/dist/esm/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"logger",(function(){return logger})),__webpack_require__.d(__webpack_exports__,"once",(function(){return once})),__webpack_require__.d(__webpack_exports__,"pretty",(function(){return pretty}));__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.set.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js");var global__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/global/window.js"),global__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(global__WEBPACK_IMPORTED_MODULE_8__),LOGLEVEL=global__WEBPACK_IMPORTED_MODULE_8___default.a.LOGLEVEL,console=global__WEBPACK_IMPORTED_MODULE_8___default.a.console,levels={trace:1,debug:2,info:3,warn:4,error:5,silent:10},currentLogLevelNumber=levels[LOGLEVEL]||levels.info,logger={trace:function trace(message){for(var _len=arguments.length,rest=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)rest[_key-1]=arguments[_key];return currentLogLevelNumber<=levels.trace&&console.trace.apply(console,[message].concat(rest))},debug:function debug(message){for(var _len2=arguments.length,rest=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)rest[_key2-1]=arguments[_key2];return currentLogLevelNumber<=levels.debug&&console.debug.apply(console,[message].concat(rest))},info:function info(message){for(var _len3=arguments.length,rest=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)rest[_key3-1]=arguments[_key3];return currentLogLevelNumber<=levels.info&&console.info.apply(console,[message].concat(rest))},warn:function warn(message){for(var _len4=arguments.length,rest=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++)rest[_key4-1]=arguments[_key4];return currentLogLevelNumber<=levels.warn&&console.warn.apply(console,[message].concat(rest))},error:function error(message){for(var _len5=arguments.length,rest=new Array(_len5>1?_len5-1:0),_key5=1;_key5<_len5;_key5++)rest[_key5-1]=arguments[_key5];return currentLogLevelNumber<=levels.error&&console.error.apply(console,[message].concat(rest))},log:function log(message){for(var _len6=arguments.length,rest=new Array(_len6>1?_len6-1:0),_key6=1;_key6<_len6;_key6++)rest[_key6-1]=arguments[_key6];return currentLogLevelNumber<levels.silent&&console.log.apply(console,[message].concat(rest))}},logged=new Set,once=function once(type){return function(message){if(!logged.has(message)){logged.add(message);for(var _len7=arguments.length,rest=new Array(_len7>1?_len7-1:0),_key7=1;_key7<_len7;_key7++)rest[_key7-1]=arguments[_key7];return logger[type].apply(logger,[message].concat(rest))}}};once.clear=function(){return logged.clear()},once.trace=once("trace"),once.debug=once("debug"),once.info=once("info"),once.warn=once("warn"),once.error=once("error"),once.log=once("log");var pretty=function pretty(type){return function(){for(var argArray=[],_len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++)args[_key8]=arguments[_key8];if(args.length){var reResultArray,startTagRe=/<span\s+style=(['"])([^'"]*)\1\s*>/gi,endTagRe=/<\/span>/gi;for(argArray.push(args[0].replace(startTagRe,"%c").replace(endTagRe,"%c"));reResultArray=startTagRe.exec(args[0]);)argArray.push(reResultArray[2]),argArray.push("");for(var j=1;j<args.length;j++)argArray.push(args[j])}logger[type].apply(logger,argArray)}};pretty.trace=pretty("trace"),pretty.debug=pretty("debug"),pretty.info=pretty("info"),pretty.warn=pretty("warn"),pretty.error=pretty("error")},"./node_modules/@storybook/core-client/dist/esm/globals/globals.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var global__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/global/window.js");__webpack_require__.n(global__WEBPACK_IMPORTED_MODULE_0__).a.window.STORYBOOK_REACT_CLASSES={}},"./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/regenerator-runtime/runtime.js"),__webpack_require__("./node_modules/airbnb-js-shims/index.js"),__webpack_require__("./node_modules/core-js/features/symbol/index.js")},"./node_modules/@storybook/core-client/dist/esm/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";var _preview__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/core-client/dist/esm/preview/index.js");__webpack_require__.d(__webpack_exports__,"start",(function(){return _preview__WEBPACK_IMPORTED_MODULE_0__.a}));__webpack_require__("./node_modules/@storybook/core-client/dist/esm/preview/types.js")},"./node_modules/@storybook/core-client/dist/esm/preview/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return start}));var _templateObject,ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),StoryStore=__webpack_require__("./node_modules/@storybook/store/dist/esm/StoryStore.js"),dist=__webpack_require__("./node_modules/@storybook/csf/dist/index.js"),global_window=(__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/global/window.js")),window_default=__webpack_require__.n(global_window),browser=__webpack_require__("./node_modules/util-deprecate/browser.js"),browser_default=__webpack_require__.n(browser),esm=(__webpack_require__("./node_modules/core-js/modules/es.object.freeze.js"),__webpack_require__("./node_modules/regenerator-runtime/runtime.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/ts-dedent/esm/index.js")),synchronous_promise=__webpack_require__("./node_modules/synchronous-promise/index.js"),dist_esm=__webpack_require__("./node_modules/@storybook/core-events/dist/esm/index.js"),client_logger_dist_esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),addons_dist_esm=__webpack_require__("./node_modules/@storybook/addons/dist/esm/index.js"),lib=(__webpack_require__("./node_modules/core-js/modules/es.string.match.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.string.search.js"),__webpack_require__("./node_modules/core-js/modules/es.object.values.js"),__webpack_require__("./node_modules/qs/lib/index.js")),lib_default=__webpack_require__.n(lib),isPlainObject=(__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("./node_modules/core-js/modules/es.string.ends-with.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/lodash/isPlainObject.js")),isPlainObject_default=__webpack_require__.n(isPlainObject);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var VALIDATION_REGEXP=/^[a-zA-Z0-9 _-]*$/,NUMBER_REGEXP=/^-?[0-9]+(\.[0-9]+)?$/,HEX_REGEXP=/^#([a-f0-9]{3,4}|[a-f0-9]{6}|[a-f0-9]{8})$/i,COLOR_REGEXP=/^(rgba?|hsla?)\(([0-9]{1,3}),\s?([0-9]{1,3})%?,\s?([0-9]{1,3})%?,?\s?([0-9](\.[0-9]{1,2})?)?\)$/i,parseArgsParam_validateArgs=function validateArgs(){var key=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",value=arguments.length>1?arguments[1]:void 0;return null!==key&&(!(""===key||!VALIDATION_REGEXP.test(key))&&(null==value||(value instanceof Date||("number"==typeof value||"boolean"==typeof value||("string"==typeof value?VALIDATION_REGEXP.test(value)||NUMBER_REGEXP.test(value)||HEX_REGEXP.test(value)||COLOR_REGEXP.test(value):Array.isArray(value)?value.every((function(v){return validateArgs(key,v)})):!!isPlainObject_default()(value)&&Object.entries(value).every((function(_ref){var _ref2=_slicedToArray(_ref,2),k=_ref2[0],v=_ref2[1];return validateArgs(k,v)})))))))},QS_OPTIONS={delimiter:";",allowDots:!0,allowSparse:!0,decoder:function(_decoder){function decoder(_x,_x2,_x3,_x4){return _decoder.apply(this,arguments)}return decoder.toString=function(){return _decoder.toString()},decoder}((function(str,defaultDecoder,charset,type){if("value"===type&&str.startsWith("!")){if("!undefined"===str)return;if("!null"===str)return null;if(str.startsWith("!date(")&&str.endsWith(")"))return new Date(str.slice(6,-1));if(str.startsWith("!hex(")&&str.endsWith(")"))return"#".concat(str.slice(5,-1));var color=str.slice(1).match(COLOR_REGEXP);if(color)return str.startsWith("!rgba")?"".concat(color[1],"(").concat(color[2],", ").concat(color[3],", ").concat(color[4],", ").concat(color[5],")"):str.startsWith("!hsla")?"".concat(color[1],"(").concat(color[2],", ").concat(color[3],"%, ").concat(color[4],"%, ").concat(color[5],")"):str.startsWith("!rgb")?"".concat(color[1],"(").concat(color[2],", ").concat(color[3],", ").concat(color[4],")"):"".concat(color[1],"(").concat(color[2],", ").concat(color[3],"%, ").concat(color[4],"%)")}return"value"===type&&NUMBER_REGEXP.test(str)?Number(str):defaultDecoder(str,defaultDecoder,charset)}))},parseArgsParam_parseArgsParam=function parseArgsParam(argsString){var parts=argsString.split(";").map((function(part){return part.replace("=","~").replace(":","=")}));return Object.entries(lib_default.a.parse(parts.join(";"),QS_OPTIONS)).reduce((function(acc,_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];return parseArgsParam_validateArgs(key,value)?Object.assign(acc,function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},key,value)):(client_logger_dist_esm.once.warn(Object(esm.a)(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n      Omitted potentially unsafe URL args.\n\n      More info: https://storybook.js.org/docs/react/writing-stories/args#setting-args-through-the-url\n    "])))),acc)}),{})};function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var UrlStore_history=window_default.a.history,UrlStore_document=window_default.a.document;var WebView_templateObject,UrlStore_getQueryString=function getQueryString(_ref){var selection=_ref.selection,extraParams=_ref.extraParams,_document$location$se=UrlStore_document.location.search,search=void 0===_document$location$se?"":_document$location$se,_qs$parse=lib_default.a.parse(search,{ignoreQueryPrefix:!0}),rest=(_qs$parse.path,_qs$parse.selectedKind,_qs$parse.selectedStory,_objectWithoutProperties(_qs$parse,["path","selectedKind","selectedStory"]));return lib_default.a.stringify(Object.assign({},rest,extraParams,selection&&{id:selection.storyId,viewMode:selection.viewMode}),{encode:!1,addQueryPrefix:!0})},getFirstString=function getFirstString(v){return"string"==typeof v?v:Array.isArray(v)?getFirstString(v[0]):function isObject(val){return null!=val&&"object"===_typeof(val)&&!1===Array.isArray(val)}(v)?getFirstString(Object.values(v)):void 0},deprecatedLegacyQuery=browser_default()((function(){return 0}),"URL formats with `selectedKind` and `selectedName` query parameters are deprecated.\nUse `id=$storyId` instead.\nSee https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#new-url-structure"),UrlStore_getSelectionSpecifierFromPath=function getSelectionSpecifierFromPath(){var query=lib_default.a.parse(UrlStore_document.location.search,{ignoreQueryPrefix:!0}),args="string"==typeof query.args?parseArgsParam_parseArgsParam(query.args):void 0,globals="string"==typeof query.globals?parseArgsParam_parseArgsParam(query.globals):void 0,viewMode=getFirstString(query.viewMode);"string"==typeof viewMode&&viewMode.match(/docs|story/)||(viewMode="story");var path=getFirstString(query.path),storyId=path?function pathToId(path){var match=(path||"").match(/^\/story\/(.+)/);if(!match)throw new Error("Invalid path '".concat(path,"',  must start with '/story/'"));return match[1]}(path):getFirstString(query.id);if(storyId)return{storySpecifier:storyId,args:args,globals:globals,viewMode:viewMode};var title=getFirstString(query.selectedKind),name=getFirstString(query.selectedStory);return title&&name?(deprecatedLegacyQuery(),{storySpecifier:{title:title,name:name},args:args,globals:globals,viewMode:viewMode}):null},UrlStore=function(){function UrlStore(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,UrlStore),this.selectionSpecifier=void 0,this.selection=void 0,this.selectionSpecifier=UrlStore_getSelectionSpecifierFromPath()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(UrlStore,[{key:"setSelection",value:function setSelection(selection){this.selection=selection,function setPath(selection){if(selection){var query=UrlStore_getQueryString({selection:selection}),_document$location$ha=UrlStore_document.location.hash,hash=void 0===_document$location$ha?"":_document$location$ha;UrlStore_history.replaceState({},"","".concat(UrlStore_document.location.pathname).concat(query).concat(hash))}}(this.selection)}},{key:"setQueryParams",value:function setQueryParams(queryParams){var query=UrlStore_getQueryString({extraParams:queryParams}),_document$location$ha2=UrlStore_document.location.hash,hash=void 0===_document$location$ha2?"":_document$location$ha2;UrlStore_history.replaceState({},"","".concat(UrlStore_document.location.pathname).concat(query).concat(hash))}}]),UrlStore}(),ansi_to_html=__webpack_require__("./node_modules/ansi-to-html/lib/ansi_to_html.js"),ansi_to_html_default=__webpack_require__.n(ansi_to_html);function WebView_slicedToArray(arr,i){return function WebView_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function WebView_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function WebView_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return WebView_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WebView_arrayLikeToArray(o,minLen)}(arr,i)||function WebView_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WebView_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function WebView_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Mode,WebView_document=window_default.a.document,layoutClassMap={centered:"sb-main-centered",fullscreen:"sb-main-fullscreen",padded:"sb-main-padded"};!function(Mode){Mode.MAIN="MAIN",Mode.NOPREVIEW="NOPREVIEW",Mode.PREPARING_STORY="PREPARING_STORY",Mode.PREPARING_DOCS="PREPARING_DOCS",Mode.ERROR="ERROR"}(Mode||(Mode={}));var PreviewWeb_templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,classes={PREPARING_STORY:"sb-show-preparing-story",PREPARING_DOCS:"sb-show-preparing-docs",MAIN:"sb-show-main",NOPREVIEW:"sb-show-nopreview",ERROR:"sb-show-errordisplay"},ansiConverter=new ansi_to_html_default.a({escapeXML:!0}),WebView_WebView=function(){function WebView(){switch(function WebView_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WebView),this.currentLayoutClass=void 0,this.testing=!1,lib_default.a.parse(WebView_document.location.search,{ignoreQueryPrefix:!0}).__SPECIAL_TEST_PARAMETER__){case"preparing-story":this.showPreparingStory(),this.testing=!0;break;case"preparing-docs":this.showPreparingDocs(),this.testing=!0}}return function WebView_createClass(Constructor,protoProps,staticProps){return protoProps&&WebView_defineProperties(Constructor.prototype,protoProps),staticProps&&WebView_defineProperties(Constructor,staticProps),Constructor}(WebView,[{key:"prepareForStory",value:function prepareForStory(story){return this.showStory(),this.applyLayout(story.parameters.layout),WebView_document.documentElement.scrollTop=0,WebView_document.documentElement.scrollLeft=0,this.storyRoot()}},{key:"storyRoot",value:function storyRoot(){return WebView_document.getElementById("root")}},{key:"prepareForDocs",value:function prepareForDocs(){return this.showMain(),this.showDocs(),this.applyLayout("fullscreen"),this.docsRoot()}},{key:"docsRoot",value:function docsRoot(){return WebView_document.getElementById("docs-root")}},{key:"applyLayout",value:function applyLayout(){var layout=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"padded";if("none"===layout)return WebView_document.body.classList.remove(this.currentLayoutClass),void(this.currentLayoutClass=null);this.checkIfLayoutExists(layout);var layoutClass=layoutClassMap[layout];WebView_document.body.classList.remove(this.currentLayoutClass),WebView_document.body.classList.add(layoutClass),this.currentLayoutClass=layoutClass}},{key:"checkIfLayoutExists",value:function checkIfLayoutExists(layout){layoutClassMap[layout]||client_logger_dist_esm.logger.warn(Object(esm.a)(WebView_templateObject||(WebView_templateObject=function WebView_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["The desired layout: "," is not a valid option.\n         The possible options are: ",", none."])),layout,Object.keys(layoutClassMap).join(", ")))}},{key:"showMode",value:function showMode(mode){Object.keys(Mode).forEach((function(otherMode){otherMode===mode?WebView_document.body.classList.add(classes[otherMode]):WebView_document.body.classList.remove(classes[otherMode])}))}},{key:"showErrorDisplay",value:function showErrorDisplay(_ref){var _ref$message=_ref.message,message=void 0===_ref$message?"":_ref$message,_ref$stack=_ref.stack,header=message,detail=void 0===_ref$stack?"":_ref$stack,parts=message.split("\n");parts.length>1&&(header=WebView_slicedToArray(parts,1)[0],detail=parts.slice(1).join("\n"));WebView_document.getElementById("error-message").innerHTML=ansiConverter.toHtml(header),WebView_document.getElementById("error-stack").innerHTML=ansiConverter.toHtml(detail),this.showMode(Mode.ERROR)}},{key:"showNoPreview",value:function showNoPreview(){var _this$storyRoot,_this$docsRoot;this.testing||(this.showMode(Mode.NOPREVIEW),null===(_this$storyRoot=this.storyRoot())||void 0===_this$storyRoot||_this$storyRoot.setAttribute("hidden","true"),null===(_this$docsRoot=this.docsRoot())||void 0===_this$docsRoot||_this$docsRoot.setAttribute("hidden","true"))}},{key:"showPreparingStory",value:function showPreparingStory(){this.showMode(Mode.PREPARING_STORY)}},{key:"showPreparingDocs",value:function showPreparingDocs(){this.showMode(Mode.PREPARING_DOCS)}},{key:"showMain",value:function showMain(){this.showMode(Mode.MAIN)}},{key:"showDocs",value:function showDocs(){this.storyRoot().setAttribute("hidden","true"),this.docsRoot().removeAttribute("hidden")}},{key:"showStory",value:function showStory(){this.docsRoot().setAttribute("hidden","true"),this.storyRoot().removeAttribute("hidden")}}]),WebView}();function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function PreviewWeb_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function PreviewWeb_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var globalWindow=window_default.a.window,AbortController=window_default.a.AbortController,fetch=window_default.a.fetch;function createController(){return AbortController?new AbortController:{signal:{aborted:!1},abort:function abort(){this.signal.aborted=!0}}}var PreviewWeb_PreviewWeb=function(){function PreviewWeb(){var _global$FEATURES,_this=this;!function PreviewWeb_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PreviewWeb),this.channel=void 0,this.serverChannel=void 0,this.urlStore=void 0,this.storyStore=void 0,this.view=void 0,this.getStoryIndex=void 0,this.importFn=void 0,this.renderToDOM=void 0,this.previewEntryError=void 0,this.previousSelection=void 0,this.previousStory=void 0,this.previousCleanup=void 0,this.abortController=void 0,this.disableKeyListeners=void 0,this.channel=addons_dist_esm.a.getChannel(),null!==(_global$FEATURES=window_default.a.FEATURES)&&void 0!==_global$FEATURES&&_global$FEATURES.storyStoreV7&&addons_dist_esm.a.hasServerChannel()&&(this.serverChannel=addons_dist_esm.a.getServerChannel()),this.view=new WebView_WebView,this.urlStore=new UrlStore,this.storyStore=new StoryStore.a,this.storyStore.getSelection=browser_default()((function(){return _this.urlStore.selection}),Object(esm.a)(PreviewWeb_templateObject||(PreviewWeb_templateObject=PreviewWeb_taggedTemplateLiteral(["\n        `__STORYBOOK_STORY_STORE__.getSelection()` is deprecated and will be removed in 7.0.\n  \n        To get the current selection, use the `useStoryContext()` hook from `@storybook/addons`.\n      "],["\n        \\`__STORYBOOK_STORY_STORE__.getSelection()\\` is deprecated and will be removed in 7.0.\n  \n        To get the current selection, use the \\`useStoryContext()\\` hook from \\`@storybook/addons\\`.\n      "]))))}var _cleanupPreviousRender,_extract,_renderDocs,_renderSelection,_onResetArgs,_onStoriesChanged,_onStoryIndexChanged,_onGetProjectAnnotationsChanged,_selectSpecifiedStory,_getStoryIndexFromServer,_setInitialGlobals;return function PreviewWeb_createClass(Constructor,protoProps,staticProps){return protoProps&&PreviewWeb_defineProperties(Constructor.prototype,protoProps),staticProps&&PreviewWeb_defineProperties(Constructor,staticProps),Constructor}(PreviewWeb,[{key:"initialize",value:function initialize(_ref){var _this2=this,getStoryIndex=_ref.getStoryIndex,importFn=_ref.importFn,getProjectAnnotations=_ref.getProjectAnnotations;return this.getStoryIndex=getStoryIndex,this.importFn=importFn,this.setupListeners(),this.getProjectAnnotationsOrRenderError(getProjectAnnotations).then((function(projectAnnotations){return _this2.initializeWithProjectAnnotations(projectAnnotations)}))}},{key:"setupListeners",value:function setupListeners(){var _this$serverChannel;globalWindow.onkeydown=this.onKeydown.bind(this),null===(_this$serverChannel=this.serverChannel)||void 0===_this$serverChannel||_this$serverChannel.on(dist_esm.default.STORY_INDEX_INVALIDATED,this.onStoryIndexChanged.bind(this)),this.channel.on(dist_esm.default.SET_CURRENT_STORY,this.onSetCurrentStory.bind(this)),this.channel.on(dist_esm.default.UPDATE_QUERY_PARAMS,this.onUpdateQueryParams.bind(this)),this.channel.on(dist_esm.default.UPDATE_GLOBALS,this.onUpdateGlobals.bind(this)),this.channel.on(dist_esm.default.UPDATE_STORY_ARGS,this.onUpdateArgs.bind(this)),this.channel.on(dist_esm.default.RESET_STORY_ARGS,this.onResetArgs.bind(this))}},{key:"getProjectAnnotationsOrRenderError",value:function getProjectAnnotationsOrRenderError(getProjectAnnotations){var _this3=this;return synchronous_promise.SynchronousPromise.resolve().then(getProjectAnnotations).then((function(projectAnnotations){if(_this3.renderToDOM=projectAnnotations.renderToDOM,!_this3.renderToDOM)throw new Error(Object(esm.a)(_templateObject2||(_templateObject2=PreviewWeb_taggedTemplateLiteral(["\n            Expected your framework's preset to export a `renderToDOM` field.\n\n            Perhaps it needs to be upgraded for Storybook 6.4?\n\n            More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#mainjs-framework-field          \n          "],["\n            Expected your framework's preset to export a \\`renderToDOM\\` field.\n\n            Perhaps it needs to be upgraded for Storybook 6.4?\n\n            More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#mainjs-framework-field          \n          "]))));return projectAnnotations})).catch((function(err){throw _this3.renderPreviewEntryError("Error reading preview.js:",err),err}))}},{key:"initializeWithProjectAnnotations",value:function initializeWithProjectAnnotations(projectAnnotations){var _global$FEATURES2,storyIndexPromise,_this4=this;if(this.storyStore.setProjectAnnotations(projectAnnotations),this.setInitialGlobals(),null!==(_global$FEATURES2=window_default.a.FEATURES)&&void 0!==_global$FEATURES2&&_global$FEATURES2.storyStoreV7)storyIndexPromise=this.getStoryIndexFromServer();else{if(!this.getStoryIndex)throw new Error("No `getStoryIndex` passed defined in v6 mode");storyIndexPromise=synchronous_promise.SynchronousPromise.resolve().then(this.getStoryIndex)}return storyIndexPromise.then((function(storyIndex){return _this4.initializeWithStoryIndex(storyIndex)})).catch((function(err){throw _this4.renderPreviewEntryError("Error loading story index:",err),err}))}},{key:"setInitialGlobals",value:(_setInitialGlobals=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _ref2,globals;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:_ref2=this.urlStore.selectionSpecifier||{},(globals=_ref2.globals)&&this.storyStore.globals.updateFromPersisted(globals),this.emitGlobals();case 3:case"end":return _context.stop()}}),_callee,this)}))),function setInitialGlobals(){return _setInitialGlobals.apply(this,arguments)})},{key:"emitGlobals",value:function emitGlobals(){this.channel.emit(dist_esm.default.SET_GLOBALS,{globals:this.storyStore.globals.get()||{},globalTypes:this.storyStore.projectAnnotations.globalTypes||{}})}},{key:"getStoryIndexFromServer",value:(_getStoryIndexFromServer=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var result;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,fetch("./stories.json");case 2:if(200!==(result=_context2.sent).status){_context2.next=5;break}return _context2.abrupt("return",result.json());case 5:return _context2.t0=Error,_context2.next=8,result.text();case 8:throw _context2.t1=_context2.sent,new _context2.t0(_context2.t1);case 10:case"end":return _context2.stop()}}),_callee2)}))),function getStoryIndexFromServer(){return _getStoryIndexFromServer.apply(this,arguments)})},{key:"initializeWithStoryIndex",value:function initializeWithStoryIndex(storyIndex){var _global$FEATURES3,_this5=this;return this.storyStore.initialize({storyIndex:storyIndex,importFn:this.importFn,cache:!(null!==(_global$FEATURES3=window_default.a.FEATURES)&&void 0!==_global$FEATURES3&&_global$FEATURES3.storyStoreV7)}).then((function(){var _global$FEATURES4;return null!==(_global$FEATURES4=window_default.a.FEATURES)&&void 0!==_global$FEATURES4&&_global$FEATURES4.storyStoreV7||_this5.channel.emit(dist_esm.default.SET_STORIES,_this5.storyStore.getSetStoriesPayload()),_this5.selectSpecifiedStory()}))}},{key:"selectSpecifiedStory",value:(_selectSpecifiedStory=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var _this$urlStore$select,storySpecifier,viewMode,args,storyId;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(this.urlStore.selectionSpecifier){_context3.next=3;break}return this.renderMissingStory(),_context3.abrupt("return");case 3:if(_this$urlStore$select=this.urlStore.selectionSpecifier,storySpecifier=_this$urlStore$select.storySpecifier,viewMode=_this$urlStore$select.viewMode,args=_this$urlStore$select.args,storyId=this.storyStore.storyIndex.storyIdFromSpecifier(storySpecifier)){_context3.next=8;break}return"*"===storySpecifier?this.renderStoryLoadingException(storySpecifier,new Error(Object(esm.a)(_templateObject3||(_templateObject3=PreviewWeb_taggedTemplateLiteral(["\n            Couldn't find any stories in your Storybook.\n            - Please check your stories field of your main.js config.\n            - Also check the browser console and terminal for error messages.\n          "]))))):this.renderStoryLoadingException(storySpecifier,new Error(Object(esm.a)(_templateObject4||(_templateObject4=PreviewWeb_taggedTemplateLiteral(["\n            Couldn't find story matching '","'.\n            - Are you sure a story with that id exists?\n            - Please check your stories field of your main.js config.\n            - Also check the browser console and terminal for error messages.\n          "])),storySpecifier))),_context3.abrupt("return");case 8:return this.urlStore.setSelection({storyId:storyId,viewMode:viewMode}),this.channel.emit(dist_esm.default.STORY_SPECIFIED,this.urlStore.selection),this.channel.emit(dist_esm.default.CURRENT_STORY_WAS_SET,this.urlStore.selection),_context3.next=13,this.renderSelection({persistedArgs:args});case 13:case"end":return _context3.stop()}}),_callee3,this)}))),function selectSpecifiedStory(){return _selectSpecifiedStory.apply(this,arguments)})},{key:"onGetProjectAnnotationsChanged",value:(_onGetProjectAnnotationsChanged=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(_ref3){var getProjectAnnotations,projectAnnotations;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return getProjectAnnotations=_ref3.getProjectAnnotations,delete this.previewEntryError,_context4.next=4,this.getProjectAnnotationsOrRenderError(getProjectAnnotations);case 4:if(projectAnnotations=_context4.sent,this.storyStore.projectAnnotations){_context4.next=9;break}return _context4.next=8,this.initializeWithProjectAnnotations(projectAnnotations);case 8:return _context4.abrupt("return");case 9:return _context4.next=11,this.storyStore.setProjectAnnotations(projectAnnotations);case 11:this.emitGlobals(),this.renderSelection();case 13:case"end":return _context4.stop()}}),_callee4,this)}))),function onGetProjectAnnotationsChanged(_x){return _onGetProjectAnnotationsChanged.apply(this,arguments)})},{key:"onStoryIndexChanged",value:(_onStoryIndexChanged=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){var storyIndex;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(delete this.previewEntryError,this.storyStore.projectAnnotations){_context5.next=3;break}return _context5.abrupt("return");case 3:return _context5.prev=3,_context5.next=6,this.getStoryIndexFromServer();case 6:if(storyIndex=_context5.sent,this.storyStore.storyIndex){_context5.next=10;break}return _context5.next=10,this.initializeWithStoryIndex(storyIndex);case 10:return _context5.next=12,this.onStoriesChanged({storyIndex:storyIndex});case 12:_context5.next=18;break;case 14:throw _context5.prev=14,_context5.t0=_context5.catch(3),this.renderPreviewEntryError("Error loading story index:",_context5.t0),_context5.t0;case 18:case"end":return _context5.stop()}}),_callee5,this,[[3,14]])}))),function onStoryIndexChanged(){return _onStoryIndexChanged.apply(this,arguments)})},{key:"onStoriesChanged",value:(_onStoriesChanged=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(_ref4){var _global$FEATURES5,importFn,storyIndex;return regeneratorRuntime.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return importFn=_ref4.importFn,storyIndex=_ref4.storyIndex,_context6.next=3,this.storyStore.onStoriesChanged({importFn:importFn,storyIndex:storyIndex});case 3:if(null!==(_global$FEATURES5=window_default.a.FEATURES)&&void 0!==_global$FEATURES5&&_global$FEATURES5.storyStoreV7){_context6.next=10;break}return _context6.t0=this.channel,_context6.t1=dist_esm.default.SET_STORIES,_context6.next=8,this.storyStore.getSetStoriesPayload();case 8:_context6.t2=_context6.sent,_context6.t0.emit.call(_context6.t0,_context6.t1,_context6.t2);case 10:if(!this.urlStore.selection){_context6.next=15;break}return _context6.next=13,this.renderSelection();case 13:_context6.next=17;break;case 15:return _context6.next=17,this.selectSpecifiedStory();case 17:case"end":return _context6.stop()}}),_callee6,this)}))),function onStoriesChanged(_x2){return _onStoriesChanged.apply(this,arguments)})},{key:"onKeydown",value:function onKeydown(event){if(!this.disableKeyListeners&&!function focusInInput(event){var target=event.target;return/input|textarea/i.test(target.tagName)||null!==target.getAttribute("contenteditable")}(event)){var altKey=event.altKey,ctrlKey=event.ctrlKey,metaKey=event.metaKey,shiftKey=event.shiftKey,key=event.key,code=event.code,keyCode=event.keyCode;this.channel.emit(dist_esm.default.PREVIEW_KEYDOWN,{event:{altKey:altKey,ctrlKey:ctrlKey,metaKey:metaKey,shiftKey:shiftKey,key:key,code:code,keyCode:keyCode}})}}},{key:"onSetCurrentStory",value:function onSetCurrentStory(selection){this.urlStore.setSelection(selection),this.channel.emit(dist_esm.default.CURRENT_STORY_WAS_SET,this.urlStore.selection),this.renderSelection()}},{key:"onUpdateQueryParams",value:function onUpdateQueryParams(queryParams){this.urlStore.setQueryParams(queryParams)}},{key:"onUpdateGlobals",value:function onUpdateGlobals(_ref5){var globals=_ref5.globals;this.storyStore.globals.update(globals),this.channel.emit(dist_esm.default.GLOBALS_UPDATED,{globals:this.storyStore.globals.get(),initialGlobals:this.storyStore.globals.initialGlobals})}},{key:"onUpdateArgs",value:function onUpdateArgs(_ref6){var storyId=_ref6.storyId,updatedArgs=_ref6.updatedArgs;this.storyStore.args.update(storyId,updatedArgs),this.channel.emit(dist_esm.default.STORY_ARGS_UPDATED,{storyId:storyId,args:this.storyStore.args.get(storyId)})}},{key:"onResetArgs",value:(_onResetArgs=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(_ref7){var storyId,argNames,_ref8,initialArgs,argNamesToReset,updatedArgs;return regeneratorRuntime.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(storyId=_ref7.storyId,argNames=_ref7.argNames,storyId!==this.previousStory.id){_context7.next=5;break}_context7.t0=this.previousStory,_context7.next=8;break;case 5:return _context7.next=7,this.storyStore.loadStory({storyId:storyId});case 7:_context7.t0=_context7.sent;case 8:_ref8=_context7.t0,initialArgs=_ref8.initialArgs,argNamesToReset=argNames||Object.keys(this.storyStore.args.get(storyId)),updatedArgs=argNamesToReset.reduce((function(acc,argName){return acc[argName]=initialArgs[argName],acc}),{}),this.onUpdateArgs({storyId:storyId,updatedArgs:updatedArgs});case 13:case"end":return _context7.stop()}}),_callee7,this)}))),function onResetArgs(_x3){return _onResetArgs.apply(this,arguments)})},{key:"renderSelection",value:(_renderSelection=_asyncToGenerator(regeneratorRuntime.mark((function _callee8(){var _this$previousSelecti,_this$previousSelecti2,_global$FEATURES6,_ref9,persistedArgs,selection,storyId,storyIdChanged,viewModeChanged,story,implementationChanged,_this$storyStore$getS,parameters,initialArgs,argTypes,args,_args8=arguments;return regeneratorRuntime.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(_ref9=_args8.length>0&&void 0!==_args8[0]?_args8[0]:{},persistedArgs=_ref9.persistedArgs,selection=this.urlStore.selection){_context8.next=4;break}throw new Error("Cannot render story as no selection was made");case 4:return storyId=selection.storyId,storyIdChanged=(null===(_this$previousSelecti=this.previousSelection)||void 0===_this$previousSelecti?void 0:_this$previousSelecti.storyId)!==storyId,viewModeChanged=(null===(_this$previousSelecti2=this.previousSelection)||void 0===_this$previousSelecti2?void 0:_this$previousSelecti2.viewMode)!==selection.viewMode,"story"===selection.viewMode?this.view.showPreparingStory():this.view.showPreparingDocs(),_context8.prev=8,_context8.next=11,this.storyStore.loadStory({storyId:storyId});case 11:story=_context8.sent,_context8.next=21;break;case 14:return _context8.prev=14,_context8.t0=_context8.catch(8),_context8.next=18,this.cleanupPreviousRender();case 18:return this.previousStory=null,this.renderStoryLoadingException(storyId,_context8.t0),_context8.abrupt("return");case 21:if(implementationChanged=!storyIdChanged&&this.previousStory&&story!==this.previousStory,persistedArgs&&this.storyStore.args.updateFromPersisted(story,persistedArgs),!this.previousStory||storyIdChanged||implementationChanged||viewModeChanged){_context8.next=27;break}return this.channel.emit(dist_esm.default.STORY_UNCHANGED,storyId),this.view.showMain(),_context8.abrupt("return");case 27:return _context8.next=29,this.cleanupPreviousRender({unmountDocs:viewModeChanged});case 29:if(this.previousSelection&&(storyIdChanged||viewModeChanged)&&this.channel.emit(dist_esm.default.STORY_CHANGED,storyId),this.previousSelection=selection,this.previousStory=story,_this$storyStore$getS=this.storyStore.getStoryContext(story),parameters=_this$storyStore$getS.parameters,initialArgs=_this$storyStore$getS.initialArgs,argTypes=_this$storyStore$getS.argTypes,args=_this$storyStore$getS.args,null!==(_global$FEATURES6=window_default.a.FEATURES)&&void 0!==_global$FEATURES6&&_global$FEATURES6.storyStoreV7&&this.channel.emit(dist_esm.default.STORY_PREPARED,{id:storyId,parameters:parameters,initialArgs:initialArgs,argTypes:argTypes,args:args}),(implementationChanged||persistedArgs)&&this.channel.emit(dist_esm.default.STORY_ARGS_UPDATED,{storyId:storyId,args:args}),"docs"!==selection.viewMode&&!story.parameters.docsOnly){_context8.next=41;break}return _context8.next=38,this.renderDocs({story:story});case 38:this.previousCleanup=_context8.sent,_context8.next=42;break;case 41:this.previousCleanup=this.renderStory({story:story});case 42:case"end":return _context8.stop()}}),_callee8,this,[[8,14]])}))),function renderSelection(){return _renderSelection.apply(this,arguments)})},{key:"renderDocs",value:(_renderDocs=_asyncToGenerator(regeneratorRuntime.mark((function _callee11(_ref10){var _global$FEATURES8,story,id,title,name,csfFile,docsContext,render,_this6=this;return regeneratorRuntime.wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return story=_ref10.story,id=story.id,title=story.title,name=story.name,_context11.next=4,this.storyStore.loadCSFFileByStoryId(id);case 4:return csfFile=_context11.sent,docsContext={id:id,title:title,name:name,storyById:function storyById(storyId){return _this6.storyStore.storyFromCSFFile({storyId:storyId,csfFile:csfFile})},componentStories:function componentStories(){return _this6.storyStore.componentStoriesFromCSFFile({csfFile:csfFile})},loadStory:function loadStory(storyId){return _this6.storyStore.loadStory({storyId:storyId})},renderStoryToElement:this.renderStoryToElement.bind(this),getStoryContext:function getStoryContext(renderedStory){return Object.assign({},_this6.storyStore.getStoryContext(renderedStory),{viewMode:"docs"})}},render=function(){var _ref11=_asyncToGenerator(regeneratorRuntime.mark((function _callee9(){var _global$FEATURES7,fullDocsContext,renderer,element;return regeneratorRuntime.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return fullDocsContext=Object.assign({},docsContext,!(null!==(_global$FEATURES7=window_default.a.FEATURES)&&void 0!==_global$FEATURES7&&_global$FEATURES7.breakingChangesV7)&&_this6.storyStore.getStoryContext(story)),_context9.next=3,Promise.all([__webpack_require__.e(0),__webpack_require__.e(4)]).then(__webpack_require__.bind(null,"./node_modules/@storybook/preview-web/dist/esm/renderDocs.js"));case 3:renderer=_context9.sent,element=_this6.view.prepareForDocs(),renderer.renderDocs(story,fullDocsContext,element,(function(){return _this6.channel.emit(dist_esm.default.DOCS_RENDERED,id)}));case 6:case"end":return _context9.stop()}}),_callee9)})));return function render(){return _ref11.apply(this,arguments)}}(),render(),null!==(_global$FEATURES8=window_default.a.FEATURES)&&void 0!==_global$FEATURES8&&_global$FEATURES8.modernInlineRender||(this.channel.on(dist_esm.default.UPDATE_GLOBALS,render),this.channel.on(dist_esm.default.UPDATE_STORY_ARGS,render),this.channel.on(dist_esm.default.RESET_STORY_ARGS,render)),_context11.abrupt("return",_asyncToGenerator(regeneratorRuntime.mark((function _callee10(){var _global$FEATURES9;return regeneratorRuntime.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:null!==(_global$FEATURES9=window_default.a.FEATURES)&&void 0!==_global$FEATURES9&&_global$FEATURES9.modernInlineRender||(_this6.channel.off(dist_esm.default.UPDATE_GLOBALS,render),_this6.channel.off(dist_esm.default.UPDATE_STORY_ARGS,render),_this6.channel.off(dist_esm.default.RESET_STORY_ARGS,render));case 1:case"end":return _context10.stop()}}),_callee10)}))));case 10:case"end":return _context11.stop()}}),_callee11,this)}))),function renderDocs(_x4){return _renderDocs.apply(this,arguments)})},{key:"renderStory",value:function renderStory(_ref13){var _this7=this,story=_ref13.story,element=this.view.prepareForStory(story),id=story.id,componentId=story.componentId,title=story.title,name=story.name,renderContext={componentId:componentId,title:title,kind:title,id:id,name:name,story:name,showMain:function showMain(){return _this7.view.showMain()},showError:function showError(err){return _this7.renderError(id,err)},showException:function showException(err){return _this7.renderException(id,err)}};return this.renderStoryToElement({story:story,renderContext:renderContext,element:element,viewMode:"story"})}},{key:"renderStoryToElement",value:function renderStoryToElement(_ref14){var phase,_this8=this,story=_ref14.story,renderContextWithoutStoryContext=_ref14.renderContext,canvasElement=_ref14.element,viewMode=_ref14.viewMode,id=story.id,applyLoaders=story.applyLoaders,unboundStoryFn=story.unboundStoryFn,playFunction=story.playFunction,notYetRendered=!0,isPending=function isPending(){return["rendering","playing"].includes(phase)};this.abortController=createController();var render=function(){var _ref15=_asyncToGenerator(regeneratorRuntime.mark((function _callee14(){var _ref16,_ref16$initial,initial,_ref16$forceRemount,forceRemount,abortSignal,runPhase,loadedContext,renderStoryContext,renderContext,_args14=arguments;return regeneratorRuntime.wrap((function _callee14$(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return _ref16=_args14.length>0&&void 0!==_args14[0]?_args14[0]:{},_ref16$initial=_ref16.initial,initial=void 0!==_ref16$initial&&_ref16$initial,_ref16$forceRemount=_ref16.forceRemount,(forceRemount=void 0!==_ref16$forceRemount&&_ref16$forceRemount)&&!initial&&(_this8.abortController.abort(),_this8.abortController=createController()),abortSignal=_this8.abortController.signal,runPhase=function(){var _ref17=_asyncToGenerator(regeneratorRuntime.mark((function _callee12(phaseName,phaseFn){return regeneratorRuntime.wrap((function _callee12$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:if(phase=phaseName,_this8.channel.emit(dist_esm.default.STORY_RENDER_PHASE_CHANGED,{newPhase:phase,storyId:id}),!phaseFn){_context12.next=5;break}return _context12.next=5,phaseFn();case 5:abortSignal.aborted&&(phase="aborted",_this8.channel.emit(dist_esm.default.STORY_RENDER_PHASE_CHANGED,{newPhase:phase,storyId:id}));case 6:case"end":return _context12.stop()}}),_callee12)})));return function runPhase(_x5,_x6){return _ref17.apply(this,arguments)}}(),_context14.prev=4,_context14.next=7,runPhase("loading",_asyncToGenerator(regeneratorRuntime.mark((function _callee13(){return regeneratorRuntime.wrap((function _callee13$(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.next=2,applyLoaders(Object.assign({},_this8.storyStore.getStoryContext(story),{viewMode:viewMode}));case 2:loadedContext=_context13.sent;case 3:case"end":return _context13.stop()}}),_callee13)}))));case 7:if(!abortSignal.aborted){_context14.next=9;break}return _context14.abrupt("return");case 9:return renderStoryContext=Object.assign({},loadedContext,_this8.storyStore.getStoryContext(story),{abortSignal:abortSignal,canvasElement:canvasElement}),renderContext=Object.assign({},renderContextWithoutStoryContext,{forceRemount:forceRemount||notYetRendered,storyContext:renderStoryContext,storyFn:function storyFn(){return unboundStoryFn(renderStoryContext)},unboundStoryFn:unboundStoryFn}),_context14.next=13,runPhase("rendering",(function(){return _this8.renderToDOM(renderContext,canvasElement)}));case 13:if(notYetRendered=!1,!abortSignal.aborted){_context14.next=16;break}return _context14.abrupt("return");case 16:if(!forceRemount||!playFunction){_context14.next=25;break}return _this8.disableKeyListeners=!0,_context14.next=20,runPhase("playing",(function(){return playFunction(renderContext.storyContext)}));case 20:return _context14.next=22,runPhase("played");case 22:if(_this8.disableKeyListeners=!1,!abortSignal.aborted){_context14.next=25;break}return _context14.abrupt("return");case 25:return _context14.next=27,runPhase("completed",(function(){return _this8.channel.emit(dist_esm.default.STORY_RENDERED,id)}));case 27:_context14.next=32;break;case 29:_context14.prev=29,_context14.t0=_context14.catch(4),renderContextWithoutStoryContext.showException(_context14.t0);case 32:case"end":return _context14.stop()}}),_callee14,null,[[4,29]])})));return function render(){return _ref15.apply(this,arguments)}}();render({initial:!0,forceRemount:!0});var remountStoryIfMatches=function remountStoryIfMatches(_ref19){_ref19.storyId===story.id&&render({forceRemount:!0})},rerenderStoryIfMatches=function rerenderStoryIfMatches(_ref20){_ref20.storyId===story.id&&render()};return this.channel.on(dist_esm.default.UPDATE_GLOBALS,render),this.channel.on(dist_esm.default.FORCE_RE_RENDER,render),this.channel.on(dist_esm.default.FORCE_REMOUNT,remountStoryIfMatches),this.channel.on(dist_esm.default.UPDATE_STORY_ARGS,rerenderStoryIfMatches),this.channel.on(dist_esm.default.RESET_STORY_ARGS,rerenderStoryIfMatches),_asyncToGenerator(regeneratorRuntime.mark((function _callee15(){return regeneratorRuntime.wrap((function _callee15$(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:if(_this8.abortController.abort(),_this8.storyStore.cleanupStory(story),_this8.channel.off(dist_esm.default.UPDATE_GLOBALS,render),_this8.channel.off(dist_esm.default.FORCE_RE_RENDER,render),_this8.channel.off(dist_esm.default.FORCE_REMOUNT,remountStoryIfMatches),_this8.channel.off(dist_esm.default.UPDATE_STORY_ARGS,rerenderStoryIfMatches),_this8.channel.off(dist_esm.default.RESET_STORY_ARGS,rerenderStoryIfMatches),isPending()){_context15.next=9;break}return _context15.abrupt("return");case 9:return _context15.next=11,new Promise((function(resolve){return setTimeout(resolve,0)}));case 11:if(isPending()){_context15.next=13;break}return _context15.abrupt("return");case 13:return _context15.next=15,new Promise((function(resolve){return setTimeout(resolve,0)}));case 15:if(isPending()){_context15.next=17;break}return _context15.abrupt("return");case 17:return _context15.next=19,new Promise((function(resolve){return setTimeout(resolve,0)}));case 19:if(isPending()){_context15.next=21;break}return _context15.abrupt("return");case 21:return window_default.a.window.location.reload(),_context15.next=24,new Promise((function(){}));case 24:case"end":return _context15.stop()}}),_callee15)})))}},{key:"extract",value:(_extract=_asyncToGenerator(regeneratorRuntime.mark((function _callee16(options){var _global$FEATURES10;return regeneratorRuntime.wrap((function _callee16$(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:if(!this.previewEntryError){_context16.next=2;break}throw this.previewEntryError;case 2:if(this.storyStore.projectAnnotations){_context16.next=4;break}throw new Error(Object(esm.a)(_templateObject5||(_templateObject5=PreviewWeb_taggedTemplateLiteral(["Failed to initialize Storybook.\n      \n      Do you have an error in your `preview.js`? Check your Storybook's browser console for errors."],["Failed to initialize Storybook.\n      \n      Do you have an error in your \\`preview.js\\`? Check your Storybook's browser console for errors."]))));case 4:if(null===(_global$FEATURES10=window_default.a.FEATURES)||void 0===_global$FEATURES10||!_global$FEATURES10.storyStoreV7){_context16.next=7;break}return _context16.next=7,this.storyStore.cacheAllCSFFiles();case 7:return _context16.abrupt("return",this.storyStore.extract(options));case 8:case"end":return _context16.stop()}}),_callee16,this)}))),function extract(_x7){return _extract.apply(this,arguments)})},{key:"cleanupPreviousRender",value:(_cleanupPreviousRender=_asyncToGenerator(regeneratorRuntime.mark((function _callee17(){var _this$previousStory,_this$previousStory$p,_this$previousSelecti3,_ref22,_ref22$unmountDocs,unmountDocs,previousViewMode,_args17=arguments;return regeneratorRuntime.wrap((function _callee17$(_context17){for(;;)switch(_context17.prev=_context17.next){case 0:if(_ref22=_args17.length>0&&void 0!==_args17[0]?_args17[0]:{},_ref22$unmountDocs=_ref22.unmountDocs,unmountDocs=void 0===_ref22$unmountDocs||_ref22$unmountDocs,previousViewMode=null!==(_this$previousStory=this.previousStory)&&void 0!==_this$previousStory&&null!==(_this$previousStory$p=_this$previousStory.parameters)&&void 0!==_this$previousStory$p&&_this$previousStory$p.docsOnly?"docs":null===(_this$previousSelecti3=this.previousSelection)||void 0===_this$previousSelecti3?void 0:_this$previousSelecti3.viewMode,!unmountDocs||"docs"!==previousViewMode){_context17.next=6;break}return _context17.next=5,Promise.all([__webpack_require__.e(0),__webpack_require__.e(4)]).then(__webpack_require__.bind(null,"./node_modules/@storybook/preview-web/dist/esm/renderDocs.js"));case 5:_context17.sent.unmountDocs(this.view.docsRoot());case 6:if(!this.previousCleanup){_context17.next=9;break}return _context17.next=9,this.previousCleanup();case 9:case"end":return _context17.stop()}}),_callee17,this)}))),function cleanupPreviousRender(){return _cleanupPreviousRender.apply(this,arguments)})},{key:"renderPreviewEntryError",value:function renderPreviewEntryError(reason,err){this.previewEntryError=err,client_logger_dist_esm.logger.error(reason),client_logger_dist_esm.logger.error(err),this.view.showErrorDisplay(err),this.channel.emit(dist_esm.default.CONFIG_ERROR,err)}},{key:"renderMissingStory",value:function renderMissingStory(){this.view.showNoPreview(),this.channel.emit(dist_esm.default.STORY_MISSING)}},{key:"renderStoryLoadingException",value:function renderStoryLoadingException(storySpecifier,err){client_logger_dist_esm.logger.error("Unable to load story '".concat(storySpecifier,"':")),client_logger_dist_esm.logger.error(err),this.view.showErrorDisplay(err),this.channel.emit(dist_esm.default.STORY_MISSING,storySpecifier)}},{key:"renderException",value:function renderException(storyId,err){this.channel.emit(dist_esm.default.STORY_THREW_EXCEPTION,err),this.channel.emit(dist_esm.default.STORY_RENDER_PHASE_CHANGED,{newPhase:"errored",storyId:storyId}),err!==dist_esm.IGNORED_EXCEPTION&&(this.view.showErrorDisplay(err),client_logger_dist_esm.logger.error("Error rendering story '".concat(storyId,"':")),client_logger_dist_esm.logger.error(err))}},{key:"renderError",value:function renderError(storyId,_ref23){var title=_ref23.title,description=_ref23.description;client_logger_dist_esm.logger.error("Error rendering story ".concat(title,": ").concat(description)),this.channel.emit(dist_esm.default.STORY_ERRORED,{title:title,description:description}),this.channel.emit(dist_esm.default.STORY_RENDER_PHASE_CHANGED,{newPhase:"errored",storyId:storyId}),this.view.showErrorDisplay({message:title,stack:description})}}]),PreviewWeb}(),channels_dist_esm=(__webpack_require__("./node_modules/core-js/modules/es.object.from-entries.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.number.is-integer.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/web.url.js"),__webpack_require__("./node_modules/@storybook/channels/dist/esm/index.js")),telejson_dist_esm=__webpack_require__("./node_modules/telejson/dist/esm/index.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return esm_arrayLikeToArray(arr)}(arr)||_iterableToArray(arr)||esm_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}function esm_slicedToArray(arr,i){return esm_arrayWithHoles(arr)||function esm_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||esm_unsupportedIterableToArray(arr,i)||esm_nonIterableRest()}function esm_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function esm_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return esm_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?esm_arrayLikeToArray(o,minLen):void 0}}function esm_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function esm_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function esm_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var esm_globalWindow=window_default.a.window,esm_document=window_default.a.document,esm_location=window_default.a.location,KEY="storybook-channel",defaultEventOptions={allowFunction:!0,maxDepth:25},esm_PostmsgTransport=function(){function PostmsgTransport(config){if(function esm_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PostmsgTransport),this.config=config,this.buffer=void 0,this.handler=void 0,this.connected=void 0,this.buffer=[],this.handler=null,esm_globalWindow.addEventListener("message",this.handleEvent.bind(this),!1),"manager"!==config.page&&"preview"!==config.page)throw new Error('postmsg-channel: "config.page" cannot be "'.concat(config.page,'"'))}return function esm_createClass(Constructor,protoProps,staticProps){return protoProps&&esm_defineProperties(Constructor.prototype,protoProps),staticProps&&esm_defineProperties(Constructor,staticProps),Constructor}(PostmsgTransport,[{key:"setHandler",value:function setHandler(handler){var _this=this;this.handler=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];handler.apply(_this,args),!_this.connected&&_this.getLocalFrame().length&&(_this.flush(),_this.connected=!0)}}},{key:"send",value:function send(event,options){var _this2=this,_ref=options||{},target=_ref.target,allowRegExp=_ref.allowRegExp,allowFunction=_ref.allowFunction,allowSymbol=_ref.allowSymbol,allowDate=_ref.allowDate,allowUndefined=_ref.allowUndefined,allowClass=_ref.allowClass,maxDepth=_ref.maxDepth,space=_ref.space,lazyEval=_ref.lazyEval,eventOptions=Object.fromEntries(Object.entries({allowRegExp:allowRegExp,allowFunction:allowFunction,allowSymbol:allowSymbol,allowDate:allowDate,allowUndefined:allowUndefined,allowClass:allowClass,maxDepth:maxDepth,space:space,lazyEval:lazyEval}).filter((function(_ref2){var _ref3=esm_slicedToArray(_ref2,2);_ref3[0];return void 0!==_ref3[1]}))),stringifyOptions=Object.assign({},defaultEventOptions,window_default.a.CHANNEL_OPTIONS||{},eventOptions);options&&Number.isInteger(options.depth)&&(stringifyOptions.maxDepth=options.depth);var frames=this.getFrames(target),query=lib_default.a.parse(esm_location.search,{ignoreQueryPrefix:!0}),data=Object(telejson_dist_esm.c)({key:KEY,event:event,refId:query.refId},stringifyOptions);return frames.length?(this.buffer.length&&this.flush(),frames.forEach((function(f){try{f.postMessage(data,"*")}catch(e){console.error("sending over postmessage fail")}})),Promise.resolve(null)):new Promise((function(resolve,reject){_this2.buffer.push({event:event,resolve:resolve,reject:reject})}))}},{key:"flush",value:function flush(){var _this3=this,buffer=this.buffer;this.buffer=[],buffer.forEach((function(item){_this3.send(item.event).then(item.resolve).catch(item.reject)}))}},{key:"getFrames",value:function getFrames(target){if("manager"===this.config.page){var list=_toConsumableArray(esm_document.querySelectorAll("iframe[data-is-storybook][data-is-loaded]")).filter((function(e){try{return!!e.contentWindow&&void 0!==e.dataset.isStorybook&&e.id===target}catch(er){return!1}})).map((function(e){return e.contentWindow}));return list.length?list:this.getCurrentFrames()}return esm_globalWindow&&esm_globalWindow.parent&&esm_globalWindow.parent!==esm_globalWindow?[esm_globalWindow.parent]:[]}},{key:"getCurrentFrames",value:function getCurrentFrames(){return"manager"===this.config.page?_toConsumableArray(esm_document.querySelectorAll('[data-is-storybook="true"]')).map((function(e){return e.contentWindow})):esm_globalWindow&&esm_globalWindow.parent?[esm_globalWindow.parent]:[]}},{key:"getLocalFrame",value:function getLocalFrame(){return"manager"===this.config.page?_toConsumableArray(esm_document.querySelectorAll("#storybook-preview-iframe")).map((function(e){return e.contentWindow})):esm_globalWindow&&esm_globalWindow.parent?[esm_globalWindow.parent]:[]}},{key:"handleEvent",value:function handleEvent(rawEvent){try{var data=rawEvent.data,_ref4="string"==typeof data&&Object(telejson_dist_esm.a)(data)?Object(telejson_dist_esm.b)(data):data,key=_ref4.key,event=_ref4.event,refId=_ref4.refId;if(key===KEY){var pageString="manager"===this.config.page?'<span style="color: #37D5D3; background: black"> manager </span>':'<span style="color: #1EA7FD; background: black"> preview </span>',eventString=Object.values(dist_esm).includes(event.type)?'<span style="color: #FF4785">'.concat(event.type,"</span>"):'<span style="color: #FFAE00">'.concat(event.type,"</span>");if(refId&&(event.refId=refId),event.source="preview"===this.config.page?rawEvent.origin:esm_getEventSourceUrl(rawEvent),!event.source)return void client_logger_dist_esm.pretty.error("".concat(pageString," received ").concat(eventString," but was unable to determine the source of the event"));var message="".concat(pageString," received ").concat(eventString," (").concat(data.length,")");client_logger_dist_esm.pretty.debug.apply(client_logger_dist_esm.pretty,[esm_location.origin!==event.source?message:"".concat(message,' <span style="color: gray">(on ').concat(esm_location.origin," from ").concat(event.source,")</span>")].concat(_toConsumableArray(event.args))),this.handler(event)}}catch(error){client_logger_dist_esm.logger.error(error)}}}]),PostmsgTransport}(),esm_getEventSourceUrl=function getEventSourceUrl(event){var _frames$filter=_toConsumableArray(esm_document.querySelectorAll("iframe[data-is-storybook]")).filter((function(element){try{return element.contentWindow===event.source}catch(err){}var origin,src=element.getAttribute("src");try{origin=new URL(src,esm_document.location).origin}catch(err){return!1}return origin===event.origin})),_frames$filter2=function _toArray(arr){return esm_arrayWithHoles(arr)||_iterableToArray(arr)||esm_unsupportedIterableToArray(arr)||esm_nonIterableRest()}(_frames$filter),frame=_frames$filter2[0],remainder=_frames$filter2.slice(1);if(frame&&0===remainder.length){var src=frame.getAttribute("src"),_URL2=new URL(src,esm_document.location),protocol=_URL2.protocol,host=_URL2.host,pathname=_URL2.pathname;return"".concat(protocol,"//").concat(host).concat(pathname)}return remainder.length>0&&client_logger_dist_esm.logger.error("found multiple candidates for event source"),null};function createChannel(_ref5){var page=_ref5.page,transport=new esm_PostmsgTransport({page:page});return new channels_dist_esm.a({transport:transport})}__webpack_require__("./node_modules/core-js/modules/es.map.js");function executeLoadable_slicedToArray(arr,i){return function executeLoadable_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function executeLoadable_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function executeLoadable_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return executeLoadable_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return executeLoadable_arrayLikeToArray(o,minLen)}(arr,i)||function executeLoadable_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function executeLoadable_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function executeLoadableForChanges(loadable,m){var _m$hot,_m$hot$data,_m$hot2,lastExportsMap=(null==m||null===(_m$hot=m.hot)||void 0===_m$hot||null===(_m$hot$data=_m$hot.data)||void 0===_m$hot$data?void 0:_m$hot$data.lastExportsMap)||new Map;null!=m&&null!==(_m$hot2=m.hot)&&void 0!==_m$hot2&&_m$hot2.dispose&&(m.hot.accept(),m.hot.dispose((function(data){data.lastExportsMap=lastExportsMap})));var exportsMap=function executeLoadable(loadable){var reqs=null;Array.isArray(loadable)?reqs=loadable:loadable.keys&&(reqs=[loadable]);var exportsMap=new Map;if(reqs)reqs.forEach((function(req){req.keys().forEach((function(filename){try{var fileExports=req(filename);exportsMap.set("function"==typeof req.resolve?req.resolve(filename):filename,fileExports)}catch(error){var errorString=error.message&&error.stack?"".concat(error.message,"\n ").concat(error.stack):error.toString();client_logger_dist_esm.logger.error("Unexpected error while loading ".concat(filename,": ").concat(errorString))}}))}));else{var exported=loadable();Array.isArray(exported)&&exported.every((function(obj){return null!=obj.default}))?exportsMap=new Map(exported.map((function(fileExports,index){return["exports-map-".concat(index),fileExports]}))):exported&&client_logger_dist_esm.logger.warn("Loader function passed to 'configure' should return void or an array of module exports that all contain a 'default' export. Received: ".concat(JSON.stringify(exported)))}return exportsMap}(loadable),added=new Map;Array.from(exportsMap.entries()).filter((function(_ref){return!!executeLoadable_slicedToArray(_ref,2)[1].default})).filter((function(_ref3){var _ref4=executeLoadable_slicedToArray(_ref3,2),fileName=_ref4[0],fileExports=_ref4[1];return lastExportsMap.get(fileName)!==fileExports})).forEach((function(_ref5){var _ref6=executeLoadable_slicedToArray(_ref5,2),fileName=_ref6[0],fileExports=_ref6[1];return added.set(fileName,fileExports)}));var removed=new Map;return Array.from(lastExportsMap.keys()).filter((function(fileName){return!exportsMap.has(fileName)})).forEach((function(fileName){return removed.set(fileName,lastExportsMap.get(fileName))})),lastExportsMap=exportsMap,{added:added,removed:removed}}function start_slicedToArray(arr,i){return function start_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function start_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function start_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return start_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return start_arrayLikeToArray(o,minLen)}(arr,i)||function start_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function start_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var start_globalWindow=window_default.a.window,FEATURES=window_default.a.FEATURES,configureDeprecationWarning=browser_default()((function(){}),"`configure()` is deprecated and will be removed in Storybook 7.0. \nPlease use the `stories` field of `main.js` to load stories.\nRead more at https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-configure"),removedApi=function removedApi(name){return function(){throw new Error("@storybook/client-api:".concat(name," was removed in storyStoreV7."))}};function start(renderToDOM){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},decorateStory=_ref.decorateStory,render=_ref.render;if(null!=FEATURES&&FEATURES.storyStoreV7)return{forceReRender:removedApi("forceReRender"),getStorybook:removedApi("getStorybook"),configure:removedApi("configure"),clientApi:{addDecorator:removedApi("clientApi.addDecorator"),addParameters:removedApi("clientApi.addParameters"),clearDecorators:removedApi("clientApi.clearDecorators"),addLoader:removedApi("clientApi.addLoader"),setAddon:removedApi("clientApi.setAddon"),getStorybook:removedApi("clientApi.getStorybook"),storiesOf:removedApi("clientApi.storiesOf"),raw:removedApi("raw")}};var channel=createChannel({page:"preview"});addons_dist_esm.a.setChannel(channel);var clientApi=new ClientApi.a,preview=new PreviewWeb_PreviewWeb,initialized=!1,importFn=function importFn(path){return clientApi.importFn(path)};function onStoriesChanged(){var storyIndex=clientApi.getStoryIndex();preview.onStoriesChanged({storyIndex:storyIndex,importFn:importFn})}return clientApi.onImportFnChanged=onStoriesChanged,clientApi.storyStore=preview.storyStore,start_globalWindow&&(start_globalWindow.__STORYBOOK_CLIENT_API__=clientApi,start_globalWindow.__STORYBOOK_ADDONS_CHANNEL__=channel,start_globalWindow.__STORYBOOK_PREVIEW__=preview,start_globalWindow.__STORYBOOK_STORY_STORE__=preview.storyStore),{forceReRender:function forceReRender(){return channel.emit(dist_esm.default.FORCE_RE_RENDER)},getStorybook:function getStorybook(){return[]},raw:function raw(){},clientApi:clientApi,configure:function configure(framework,loadable,m){var showDeprecationWarning=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];showDeprecationWarning&&configureDeprecationWarning(),clientApi.addParameters({framework:framework});var getProjectAnnotations=function getProjectAnnotations(){var _executeLoadableForCh=executeLoadableForChanges(loadable,m),added=_executeLoadableForCh.added,removed=_executeLoadableForCh.removed;return Array.from(added.entries()).forEach((function(_ref2){var _ref3=start_slicedToArray(_ref2,2),fileName=_ref3[0],fileExports=_ref3[1];return clientApi.facade.addStoriesFromExports(fileName,fileExports)})),Array.from(removed.entries()).forEach((function(_ref4){var fileName=start_slicedToArray(_ref4,1)[0];return clientApi.facade.clearFilenameExports(fileName)})),Object.assign({},clientApi.facade.projectAnnotations,{render:render,renderToDOM:renderToDOM,applyDecorators:decorateStory})};initialized?(getProjectAnnotations(),onStoriesChanged()):(preview.initialize({getStoryIndex:function getStoryIndex(){return clientApi.getStoryIndex()},importFn:importFn,getProjectAnnotations:getProjectAnnotations}),initialized=!0)}}}dist.toId,ClientApi.a,StoryStore.a},"./node_modules/@storybook/core-client/dist/esm/preview/types.js":function(module,exports){},"./node_modules/@storybook/core-events/dist/esm/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";var events;__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CHANNEL_CREATED",(function(){return CHANNEL_CREATED})),__webpack_require__.d(__webpack_exports__,"CONFIG_ERROR",(function(){return CONFIG_ERROR})),__webpack_require__.d(__webpack_exports__,"STORY_INDEX_INVALIDATED",(function(){return STORY_INDEX_INVALIDATED})),__webpack_require__.d(__webpack_exports__,"STORY_SPECIFIED",(function(){return STORY_SPECIFIED})),__webpack_require__.d(__webpack_exports__,"SET_STORIES",(function(){return SET_STORIES})),__webpack_require__.d(__webpack_exports__,"SET_CURRENT_STORY",(function(){return SET_CURRENT_STORY})),__webpack_require__.d(__webpack_exports__,"CURRENT_STORY_WAS_SET",(function(){return CURRENT_STORY_WAS_SET})),__webpack_require__.d(__webpack_exports__,"FORCE_RE_RENDER",(function(){return FORCE_RE_RENDER})),__webpack_require__.d(__webpack_exports__,"FORCE_REMOUNT",(function(){return FORCE_REMOUNT})),__webpack_require__.d(__webpack_exports__,"STORY_PREPARED",(function(){return STORY_PREPARED})),__webpack_require__.d(__webpack_exports__,"STORY_CHANGED",(function(){return STORY_CHANGED})),__webpack_require__.d(__webpack_exports__,"STORY_UNCHANGED",(function(){return STORY_UNCHANGED})),__webpack_require__.d(__webpack_exports__,"STORY_RENDERED",(function(){return STORY_RENDERED})),__webpack_require__.d(__webpack_exports__,"STORY_MISSING",(function(){return STORY_MISSING})),__webpack_require__.d(__webpack_exports__,"STORY_ERRORED",(function(){return STORY_ERRORED})),__webpack_require__.d(__webpack_exports__,"STORY_THREW_EXCEPTION",(function(){return STORY_THREW_EXCEPTION})),__webpack_require__.d(__webpack_exports__,"STORY_RENDER_PHASE_CHANGED",(function(){return STORY_RENDER_PHASE_CHANGED})),__webpack_require__.d(__webpack_exports__,"UPDATE_STORY_ARGS",(function(){return UPDATE_STORY_ARGS})),__webpack_require__.d(__webpack_exports__,"STORY_ARGS_UPDATED",(function(){return STORY_ARGS_UPDATED})),__webpack_require__.d(__webpack_exports__,"RESET_STORY_ARGS",(function(){return RESET_STORY_ARGS})),__webpack_require__.d(__webpack_exports__,"SET_GLOBALS",(function(){return SET_GLOBALS})),__webpack_require__.d(__webpack_exports__,"UPDATE_GLOBALS",(function(){return UPDATE_GLOBALS})),__webpack_require__.d(__webpack_exports__,"GLOBALS_UPDATED",(function(){return GLOBALS_UPDATED})),__webpack_require__.d(__webpack_exports__,"REGISTER_SUBSCRIPTION",(function(){return REGISTER_SUBSCRIPTION})),__webpack_require__.d(__webpack_exports__,"PREVIEW_KEYDOWN",(function(){return PREVIEW_KEYDOWN})),__webpack_require__.d(__webpack_exports__,"SELECT_STORY",(function(){return SELECT_STORY})),__webpack_require__.d(__webpack_exports__,"STORIES_COLLAPSE_ALL",(function(){return STORIES_COLLAPSE_ALL})),__webpack_require__.d(__webpack_exports__,"STORIES_EXPAND_ALL",(function(){return STORIES_EXPAND_ALL})),__webpack_require__.d(__webpack_exports__,"DOCS_RENDERED",(function(){return DOCS_RENDERED})),__webpack_require__.d(__webpack_exports__,"SHARED_STATE_CHANGED",(function(){return SHARED_STATE_CHANGED})),__webpack_require__.d(__webpack_exports__,"SHARED_STATE_SET",(function(){return SHARED_STATE_SET})),__webpack_require__.d(__webpack_exports__,"NAVIGATE_URL",(function(){return NAVIGATE_URL})),__webpack_require__.d(__webpack_exports__,"UPDATE_QUERY_PARAMS",(function(){return UPDATE_QUERY_PARAMS})),__webpack_require__.d(__webpack_exports__,"IGNORED_EXCEPTION",(function(){return IGNORED_EXCEPTION})),function(events){events.CHANNEL_CREATED="channelCreated",events.CONFIG_ERROR="configError",events.STORY_INDEX_INVALIDATED="storyIndexInvalidated",events.STORY_SPECIFIED="storySpecified",events.SET_STORIES="setStories",events.SET_CURRENT_STORY="setCurrentStory",events.CURRENT_STORY_WAS_SET="currentStoryWasSet",events.FORCE_RE_RENDER="forceReRender",events.FORCE_REMOUNT="forceRemount",events.STORY_PREPARED="storyPrepared",events.STORY_CHANGED="storyChanged",events.STORY_UNCHANGED="storyUnchanged",events.STORY_RENDERED="storyRendered",events.STORY_MISSING="storyMissing",events.STORY_ERRORED="storyErrored",events.STORY_THREW_EXCEPTION="storyThrewException",events.STORY_RENDER_PHASE_CHANGED="storyRenderPhaseChanged",events.UPDATE_STORY_ARGS="updateStoryArgs",events.STORY_ARGS_UPDATED="storyArgsUpdated",events.RESET_STORY_ARGS="resetStoryArgs",events.SET_GLOBALS="setGlobals",events.UPDATE_GLOBALS="updateGlobals",events.GLOBALS_UPDATED="globalsUpdated",events.REGISTER_SUBSCRIPTION="registerSubscription",events.PREVIEW_KEYDOWN="previewKeydown",events.SELECT_STORY="selectStory",events.STORIES_COLLAPSE_ALL="storiesCollapseAll",events.STORIES_EXPAND_ALL="storiesExpandAll",events.DOCS_RENDERED="docsRendered",events.SHARED_STATE_CHANGED="sharedStateChanged",events.SHARED_STATE_SET="sharedStateSet",events.NAVIGATE_URL="navigateUrl",events.UPDATE_QUERY_PARAMS="updateQueryParams"}(events||(events={})),__webpack_exports__.default=events;var CHANNEL_CREATED=events.CHANNEL_CREATED,CONFIG_ERROR=events.CONFIG_ERROR,STORY_INDEX_INVALIDATED=events.STORY_INDEX_INVALIDATED,STORY_SPECIFIED=events.STORY_SPECIFIED,SET_STORIES=events.SET_STORIES,SET_CURRENT_STORY=events.SET_CURRENT_STORY,CURRENT_STORY_WAS_SET=events.CURRENT_STORY_WAS_SET,FORCE_RE_RENDER=events.FORCE_RE_RENDER,FORCE_REMOUNT=events.FORCE_REMOUNT,STORY_PREPARED=events.STORY_PREPARED,STORY_CHANGED=events.STORY_CHANGED,STORY_UNCHANGED=events.STORY_UNCHANGED,STORY_RENDERED=events.STORY_RENDERED,STORY_MISSING=events.STORY_MISSING,STORY_ERRORED=events.STORY_ERRORED,STORY_THREW_EXCEPTION=events.STORY_THREW_EXCEPTION,STORY_RENDER_PHASE_CHANGED=events.STORY_RENDER_PHASE_CHANGED,UPDATE_STORY_ARGS=events.UPDATE_STORY_ARGS,STORY_ARGS_UPDATED=events.STORY_ARGS_UPDATED,RESET_STORY_ARGS=events.RESET_STORY_ARGS,SET_GLOBALS=events.SET_GLOBALS,UPDATE_GLOBALS=events.UPDATE_GLOBALS,GLOBALS_UPDATED=events.GLOBALS_UPDATED,REGISTER_SUBSCRIPTION=events.REGISTER_SUBSCRIPTION,PREVIEW_KEYDOWN=events.PREVIEW_KEYDOWN,SELECT_STORY=events.SELECT_STORY,STORIES_COLLAPSE_ALL=events.STORIES_COLLAPSE_ALL,STORIES_EXPAND_ALL=events.STORIES_EXPAND_ALL,DOCS_RENDERED=events.DOCS_RENDERED,SHARED_STATE_CHANGED=events.SHARED_STATE_CHANGED,SHARED_STATE_SET=events.SHARED_STATE_SET,NAVIGATE_URL=events.NAVIGATE_URL,UPDATE_QUERY_PARAMS=events.UPDATE_QUERY_PARAMS,IGNORED_EXCEPTION=new Error("ignoredException")},"./node_modules/@storybook/core/dist/esm/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";var _storybook_core_client__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/core-client/dist/esm/index.js");__webpack_require__.o(_storybook_core_client__WEBPACK_IMPORTED_MODULE_0__,"start")&&__webpack_require__.d(__webpack_exports__,"start",(function(){return _storybook_core_client__WEBPACK_IMPORTED_MODULE_0__.start}))},"./node_modules/@storybook/csf/dist/SBType.js":function(module,exports,__webpack_require__){},"./node_modules/@storybook/csf/dist/index.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _exportNames={sanitize:!0,toId:!0,storyNameFromExport:!0,isExportStory:!0,parseKind:!0};exports.isExportStory=function isExportStory(key,_ref){var includeStories=_ref.includeStories,excludeStories=_ref.excludeStories;return"__esModule"!==key&&(!includeStories||matches(key,includeStories))&&(!excludeStories||!matches(key,excludeStories))},exports.parseKind=exports.storyNameFromExport=exports.toId=exports.sanitize=void 0;var _startCase=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/lodash/startCase.js")),_story=__webpack_require__("./node_modules/@storybook/csf/dist/story.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}Object.keys(_story).forEach((function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _story[key]}}))}));var sanitize=function sanitize(string){return string.toLowerCase().replace(/[ '`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"-").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")};exports.sanitize=sanitize;var sanitizeSafe=function sanitizeSafe(string,part){var sanitized=sanitize(string);if(""===sanitized)throw new Error("Invalid ".concat(part," '").concat(string,"', must include alphanumeric characters"));return sanitized};exports.toId=function toId(kind,name){return"".concat(sanitizeSafe(kind,"kind")).concat(name?"--".concat(sanitizeSafe(name,"name")):"")};function matches(storyKey,arrayOrRegex){return Array.isArray(arrayOrRegex)?arrayOrRegex.includes(storyKey):storyKey.match(arrayOrRegex)}exports.storyNameFromExport=function storyNameFromExport(key){return(0,_startCase.default)(key)};exports.parseKind=function parseKind(kind,_ref2){var rootSeparator=_ref2.rootSeparator,groupSeparator=_ref2.groupSeparator,_kind$split2=_slicedToArray(kind.split(rootSeparator,2),2),root=_kind$split2[0],remainder=_kind$split2[1];return{root:remainder?root:null,groups:(remainder||kind).split(groupSeparator).filter((function(i){return!!i}))}}},"./node_modules/@storybook/csf/dist/story.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _SBType=__webpack_require__("./node_modules/@storybook/csf/dist/SBType.js");Object.keys(_SBType).forEach((function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _SBType[key]}})}))},"./node_modules/@storybook/store/dist/esm/StoryStore.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return StoryStore_StoryStore}));__webpack_require__("./node_modules/regenerator-runtime/runtime.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.values.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js");var _templateObject,memoizerific=__webpack_require__("./node_modules/memoizerific/memoizerific.js"),memoizerific_default=__webpack_require__.n(memoizerific),mapValues=__webpack_require__("./node_modules/lodash/mapValues.js"),mapValues_default=__webpack_require__.n(mapValues),pick=__webpack_require__("./node_modules/lodash/pick.js"),pick_default=__webpack_require__.n(pick),global_window=__webpack_require__("./node_modules/global/window.js"),window_default=__webpack_require__.n(global_window),synchronous_promise=__webpack_require__("./node_modules/synchronous-promise/index.js"),esm=(__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("./node_modules/core-js/modules/es.object.freeze.js"),__webpack_require__("./node_modules/ts-dedent/esm/index.js"));function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var StoryIndexStore_StoryIndexStore=function(){function StoryIndexStore(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{v:3,stories:{}},stories=_ref.stories;_classCallCheck(this,StoryIndexStore),this.channel=void 0,this.stories=void 0,this.stories=stories}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(StoryIndexStore,[{key:"storyIdFromSpecifier",value:function storyIdFromSpecifier(specifier){var storyIds=Object.keys(this.stories);if("*"===specifier)return storyIds[0];if("string"==typeof specifier)return storyIds.indexOf(specifier)>=0?specifier:storyIds.find((function(storyId){return storyId.startsWith(specifier)}));var name=specifier.name,title=specifier.title,match=Object.entries(this.stories).find((function(_ref2){var _ref3=_slicedToArray(_ref2,2),story=(_ref3[0],_ref3[1]);return story.name===name&&story.title===title}));return match&&match[0]}},{key:"storyIdToEntry",value:function storyIdToEntry(storyId){var storyEntry=this.stories[storyId];if(!storyEntry)throw new Error(Object(esm.a)(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["Couldn't find story matching '","' after HMR.\n      - Did you remove it from your CSF file?\n      - Are you sure a story with that id exists?\n      - Please check your stories field of your main.js config.\n      - Also check the browser console and terminal for error messages."])),storyId));return storyEntry}}]),StoryIndexStore}(),esm_args=__webpack_require__("./node_modules/@storybook/store/dist/esm/args.js");function ArgsStore_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var GlobalsStore_templateObject,ArgsStore_ArgsStore=function(){function ArgsStore(){!function ArgsStore_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ArgsStore),this.initialArgsByStoryId={},this.argsByStoryId={}}return function ArgsStore_createClass(Constructor,protoProps,staticProps){return protoProps&&ArgsStore_defineProperties(Constructor.prototype,protoProps),staticProps&&ArgsStore_defineProperties(Constructor,staticProps),Constructor}(ArgsStore,[{key:"get",value:function get(storyId){if(!(storyId in this.argsByStoryId))throw new Error("No args known for ".concat(storyId," -- has it been rendered yet?"));return this.argsByStoryId[storyId]}},{key:"setInitial",value:function setInitial(story){if(this.initialArgsByStoryId[story.id]){if(this.initialArgsByStoryId[story.id]!==story.initialArgs){var delta=Object(esm_args.d)(this.initialArgsByStoryId[story.id],this.argsByStoryId[story.id]);this.initialArgsByStoryId[story.id]=story.initialArgs,this.argsByStoryId[story.id]=story.initialArgs,delta!==esm_args.a&&this.updateFromDelta(story,delta)}}else this.initialArgsByStoryId[story.id]=story.initialArgs,this.argsByStoryId[story.id]=story.initialArgs}},{key:"updateFromDelta",value:function updateFromDelta(story,delta){var validatedDelta=Object(esm_args.h)(delta,story.argTypes);this.argsByStoryId[story.id]=Object(esm_args.c)(this.argsByStoryId[story.id],validatedDelta)}},{key:"updateFromPersisted",value:function updateFromPersisted(story,persisted){var mappedPersisted=Object(esm_args.f)(persisted,story.argTypes);return this.updateFromDelta(story,mappedPersisted)}},{key:"update",value:function update(storyId,argsUpdate){if(!(storyId in this.argsByStoryId))throw new Error("No args known for ".concat(storyId," -- has it been rendered yet?"));this.argsByStoryId[storyId]=function deleteUndefined(obj){return Object.keys(obj).forEach((function(key){return void 0===obj[key]&&delete obj[key]})),obj}(Object.assign({},this.argsByStoryId[storyId],argsUpdate))}}]),ArgsStore}(),browser=(__webpack_require__("./node_modules/core-js/modules/es.set.js"),__webpack_require__("./node_modules/util-deprecate/browser.js")),browser_default=__webpack_require__.n(browser);function GlobalsStore_slicedToArray(arr,i){return function GlobalsStore_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function GlobalsStore_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||GlobalsStore_unsupportedIterableToArray(arr,i)||function GlobalsStore_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return GlobalsStore_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||GlobalsStore_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GlobalsStore_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return GlobalsStore_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GlobalsStore_arrayLikeToArray(o,minLen):void 0}}function GlobalsStore_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function GlobalsStore_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var normalizeStory_templateObject,setUndeclaredWarning=browser_default()((function(){}),Object(esm.a)(GlobalsStore_templateObject||(GlobalsStore_templateObject=function GlobalsStore_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n    Setting a global value that is undeclared (i.e. not in the user's initial set of globals\n    or globalTypes) is deprecated and will have no effect in 7.0.\n  "])))),GlobalsStore_GlobalsStore=function(){function GlobalsStore(){!function GlobalsStore_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GlobalsStore),this.allowedGlobalNames=void 0,this.initialGlobals=void 0,this.globals={}}return function GlobalsStore_createClass(Constructor,protoProps,staticProps){return protoProps&&GlobalsStore_defineProperties(Constructor.prototype,protoProps),staticProps&&GlobalsStore_defineProperties(Constructor,staticProps),Constructor}(GlobalsStore,[{key:"set",value:function set(_ref){var _ref$globals=_ref.globals,globals=void 0===_ref$globals?{}:_ref$globals,_ref$globalTypes=_ref.globalTypes,globalTypes=void 0===_ref$globalTypes?{}:_ref$globalTypes,delta=this.initialGlobals&&Object(esm_args.d)(this.initialGlobals,this.globals);this.allowedGlobalNames=new Set([].concat(_toConsumableArray(Object.keys(globals)),_toConsumableArray(Object.keys(globalTypes))));var defaultGlobals=Object.entries(globalTypes).reduce((function(acc,_ref2){var _ref3=GlobalsStore_slicedToArray(_ref2,2),key=_ref3[0],defaultValue=_ref3[1].defaultValue;return defaultValue&&(acc[key]=defaultValue),acc}),{});this.initialGlobals=Object.assign({},defaultGlobals,globals),this.globals=this.initialGlobals,delta&&delta!==esm_args.a&&this.updateFromPersisted(delta)}},{key:"filterAllowedGlobals",value:function filterAllowedGlobals(globals){var _this=this;return Object.entries(globals).reduce((function(acc,_ref4){var _ref5=GlobalsStore_slicedToArray(_ref4,2),key=_ref5[0],value=_ref5[1];return _this.allowedGlobalNames.has(key)&&(acc[key]=value),acc}),{})}},{key:"updateFromPersisted",value:function updateFromPersisted(persisted){var allowedUrlGlobals=this.filterAllowedGlobals(persisted);this.globals=Object.assign({},this.globals,allowedUrlGlobals)}},{key:"get",value:function get(){return this.globals}},{key:"update",value:function update(newGlobals){var _this2=this;Object.keys(newGlobals).forEach((function(key){_this2.allowedGlobalNames.has(key)||setUndeclaredWarning()})),this.globals=Object.assign({},this.globals,newGlobals)}}]),GlobalsStore}(),dist=__webpack_require__("./node_modules/@storybook/csf/dist/index.js"),dist_esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),normalizeInputTypes=__webpack_require__("./node_modules/@storybook/store/dist/esm/normalizeInputTypes.js");function normalizeStory_toConsumableArray(arr){return function normalizeStory_arrayWithoutHoles(arr){if(Array.isArray(arr))return normalizeStory_arrayLikeToArray(arr)}(arr)||function normalizeStory_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function normalizeStory_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return normalizeStory_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return normalizeStory_arrayLikeToArray(o,minLen)}(arr)||function normalizeStory_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function normalizeStory_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var deprecatedStoryAnnotation=Object(esm.a)(normalizeStory_templateObject||(normalizeStory_templateObject=function normalizeStory_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\nCSF .story annotations deprecated; annotate story functions directly:\n- StoryFn.story.name => StoryFn.storyName\n- StoryFn.story.(parameters|decorators) => StoryFn.(parameters|decorators)\nSee https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#hoisted-csf-annotations for details and codemod.\n"]))),deprecatedStoryAnnotationWarning=browser_default()((function(){}),deprecatedStoryAnnotation);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var checkDisallowedParameters=function checkDisallowedParameters(parameters){parameters&&(function checkGlobals(parameters){var globals=parameters.globals,globalTypes=parameters.globalTypes;(globals||globalTypes)&&dist_esm.logger.error("Global args/argTypes can only be set globally",JSON.stringify({globals:globals,globalTypes:globalTypes}))}(parameters),function checkStorySort(parameters){var options=parameters.options;null!=options&&options.storySort&&dist_esm.logger.error("The storySort option parameter can only be set globally")}(parameters))};function processCSFFile(moduleExports,importPath,title){var defaultExport=moduleExports.default,namedExports=(moduleExports.__namedExportsOrder,_objectWithoutProperties(moduleExports,["default","__namedExportsOrder"])),id=defaultExport.id,argTypes=defaultExport.argTypes,meta=Object.assign({id:Object(dist.sanitize)(id||title)},defaultExport,{title:title},argTypes&&{argTypes:Object(normalizeInputTypes.a)(argTypes)},{parameters:Object.assign({fileName:importPath},defaultExport.parameters)});checkDisallowedParameters(meta.parameters);var csfFile={meta:meta,stories:{}};return Object.keys(namedExports).forEach((function(key){if(Object(dist.isExportStory)(key,meta)){var storyMeta=function normalizeStory(key,storyAnnotations,meta){var userStoryFn,storyObject;"function"==typeof storyAnnotations?(userStoryFn=storyAnnotations,storyObject=storyAnnotations):storyObject=storyAnnotations;var story=storyObject.story;story&&(dist_esm.logger.debug("deprecated story",story),deprecatedStoryAnnotationWarning());var exportName=Object(dist.storyNameFromExport)(key),name="function"!=typeof storyObject&&storyObject.name||storyObject.storyName||(null==story?void 0:story.name)||exportName,decorators=[].concat(normalizeStory_toConsumableArray(storyObject.decorators||[]),normalizeStory_toConsumableArray((null==story?void 0:story.decorators)||[])),parameters=Object.assign({},null==story?void 0:story.parameters,storyObject.parameters),args=Object.assign({},null==story?void 0:story.args,storyObject.args),argTypes=Object.assign({},null==story?void 0:story.argTypes,storyObject.argTypes),loaders=[].concat(normalizeStory_toConsumableArray(storyObject.loaders||[]),normalizeStory_toConsumableArray((null==story?void 0:story.loaders)||[])),_storyObject2=storyObject,render=_storyObject2.render,play=_storyObject2.play,id=parameters.__id||Object(dist.toId)(meta.id||meta.title,exportName);return Object.assign({id:id,name:name,decorators:decorators,parameters:parameters,args:args,argTypes:Object(normalizeInputTypes.a)(argTypes),loaders:loaders},render&&{render:render},userStoryFn&&{userStoryFn:userStoryFn},play&&{play:play})}(key,namedExports[key],meta);checkDisallowedParameters(storyMeta.parameters),csfFile.stories[storyMeta.id]=storyMeta}})),csfFile}var prepareStory_templateObject,esm_parameters=__webpack_require__("./node_modules/@storybook/store/dist/esm/parameters.js"),hooks=__webpack_require__("./node_modules/@storybook/addons/dist/esm/hooks.js"),esm_decorators=__webpack_require__("./node_modules/@storybook/store/dist/esm/decorators.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function prepareStory_slicedToArray(arr,i){return function prepareStory_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function prepareStory_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||prepareStory_unsupportedIterableToArray(arr,i)||function prepareStory_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function prepareStory_toConsumableArray(arr){return function prepareStory_arrayWithoutHoles(arr){if(Array.isArray(arr))return prepareStory_arrayLikeToArray(arr)}(arr)||function prepareStory_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||prepareStory_unsupportedIterableToArray(arr)||function prepareStory_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function prepareStory_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return prepareStory_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?prepareStory_arrayLikeToArray(o,minLen):void 0}}function prepareStory_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var inferArgTypes_templateObject,argTypeDefaultValueWarning=browser_default()((function(){}),Object(esm.a)(prepareStory_templateObject||(prepareStory_templateObject=function prepareStory_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  `argType.defaultValue` is deprecated and will be removed in Storybook 7.0.\n\n  https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#no-longer-inferring-default-values-of-args"],["\n  \\`argType.defaultValue\\` is deprecated and will be removed in Storybook 7.0.\n\n  https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#no-longer-inferring-default-values-of-args"]))));function prepareStory(storyAnnotations,componentAnnotations,projectAnnotations){var _global$FEATURES,id=storyAnnotations.id,name=storyAnnotations.name,title=componentAnnotations.title,parameters=Object(esm_parameters.a)(projectAnnotations.parameters,componentAnnotations.parameters,storyAnnotations.parameters),decorators=[].concat(prepareStory_toConsumableArray(storyAnnotations.decorators||[]),prepareStory_toConsumableArray(componentAnnotations.decorators||[]),prepareStory_toConsumableArray(projectAnnotations.decorators||[])),_projectAnnotations$a=projectAnnotations.applyDecorators,applyDecorators=void 0===_projectAnnotations$a?esm_decorators.b:_projectAnnotations$a,_projectAnnotations$a2=projectAnnotations.argTypesEnhancers,argTypesEnhancers=void 0===_projectAnnotations$a2?[]:_projectAnnotations$a2,_projectAnnotations$a3=projectAnnotations.argsEnhancers,argsEnhancers=void 0===_projectAnnotations$a3?[]:_projectAnnotations$a3,loaders=[].concat(prepareStory_toConsumableArray(projectAnnotations.loaders||[]),prepareStory_toConsumableArray(componentAnnotations.loaders||[]),prepareStory_toConsumableArray(storyAnnotations.loaders||[])),render=storyAnnotations.userStoryFn||storyAnnotations.render||componentAnnotations.render||projectAnnotations.render,passedArgTypes=Object(esm_parameters.a)(projectAnnotations.argTypes,componentAnnotations.argTypes,storyAnnotations.argTypes),_parameters$passArgsF=parameters.passArgsFirst,passArgsFirst=void 0===_parameters$passArgsF||_parameters$passArgsF;parameters.__isArgsStory=passArgsFirst&&render.length>0;var passedArgs=Object.assign({},projectAnnotations.args,componentAnnotations.args,storyAnnotations.args),contextForEnhancers={componentId:componentAnnotations.id,title:title,kind:title,id:id,name:name,story:name,component:componentAnnotations.component,subcomponents:componentAnnotations.subcomponents,parameters:parameters,initialArgs:passedArgs,argTypes:passedArgTypes};contextForEnhancers.argTypes=argTypesEnhancers.reduce((function(accumulatedArgTypes,enhancer){return enhancer(Object.assign({},contextForEnhancers,{argTypes:accumulatedArgTypes}))}),contextForEnhancers.argTypes);var defaultArgs=Object.entries(contextForEnhancers.argTypes).reduce((function(acc,_ref){var _ref2=prepareStory_slicedToArray(_ref,2),arg=_ref2[0],defaultValue=_ref2[1].defaultValue;return void 0!==defaultValue&&(acc[arg]=defaultValue),acc}),{});Object.keys(defaultArgs).length>0&&argTypeDefaultValueWarning();var initialArgsBeforeEnhancers=Object.assign({},defaultArgs,passedArgs);contextForEnhancers.initialArgs=argsEnhancers.reduce((function(accumulatedArgs,enhancer){return Object.assign({},accumulatedArgs,enhancer(Object.assign({},contextForEnhancers,{initialArgs:accumulatedArgs})))}),initialArgsBeforeEnhancers),null!==(_global$FEATURES=window_default.a.FEATURES)&&void 0!==_global$FEATURES&&_global$FEATURES.breakingChangesV7||(contextForEnhancers.parameters=Object.assign({},contextForEnhancers.parameters,{__id:id,globals:projectAnnotations.globals,globalTypes:projectAnnotations.globalTypes,args:contextForEnhancers.initialArgs,argTypes:contextForEnhancers.argTypes}));var applyLoaders=function(){var _ref3=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(context){var loadResults,loaded;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Promise.all(loaders.map((function(loader){return loader(context)})));case 2:return loadResults=_context.sent,loaded=Object.assign.apply(Object,[{}].concat(prepareStory_toConsumableArray(loadResults))),_context.abrupt("return",Object.assign({},context,{loaded:loaded}));case 5:case"end":return _context.stop()}}),_callee)})));return function applyLoaders(_x){return _ref3.apply(this,arguments)}}(),undecoratedStoryFn=function undecoratedStoryFn(context){var mappedArgs=Object.entries(context.args).reduce((function(acc,_ref4){var _context$argTypes$key,_ref5=prepareStory_slicedToArray(_ref4,2),key=_ref5[0],val=_ref5[1],mapping=null===(_context$argTypes$key=context.argTypes[key])||void 0===_context$argTypes$key?void 0:_context$argTypes$key.mapping;return acc[key]=mapping&&val in mapping?mapping[val]:val,acc}),{}),mappedContext=Object.assign({},context,{args:mappedArgs}),_context$parameters$p=context.parameters.passArgsFirst;return void 0===_context$parameters$p||_context$parameters$p?render(mappedContext.args,mappedContext):render(mappedContext)},decoratedStoryFn=Object(hooks.b)(applyDecorators)(undecoratedStoryFn,decorators),playFunction=storyAnnotations.play;return Object.freeze(Object.assign({},contextForEnhancers,{originalStoryFn:render,undecoratedStoryFn:undecoratedStoryFn,unboundStoryFn:function unboundStoryFn(context){var _global$FEATURES2,finalContext=context;if(null!==(_global$FEATURES2=window_default.a.FEATURES)&&void 0!==_global$FEATURES2&&_global$FEATURES2.argTypeTargetsV7){var argsByTarget=Object(esm_args.e)(Object.assign({args:context.args},context));finalContext=Object.assign({},context,{allArgs:context.args,argsByTarget:argsByTarget,args:argsByTarget[esm_args.b]||{}})}return decoratedStoryFn(finalContext)},applyLoaders:applyLoaders,playFunction:playFunction}))}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var inferArgTypes_inferType=function inferType(value,name,visited){var type=_typeof(value);switch(type){case"boolean":case"string":case"number":case"function":case"symbol":return{name:type}}return value?visited.has(value)?(dist_esm.logger.warn(Object(esm.a)(inferArgTypes_templateObject||(inferArgTypes_templateObject=function inferArgTypes_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n        We've detected a cycle in arg '","'. Args should be JSON-serializable.\n\n        Consider using the mapping feature or fully custom args:\n        - Mapping: https://storybook.js.org/docs/react/writing-stories/args#mapping-to-complex-arg-values\n        - Custom args: https://storybook.js.org/docs/react/essentials/controls#fully-custom-args\n      "])),name)),{name:"other",value:"cyclic object"}):(visited.add(value),Array.isArray(value)?{name:"array",value:value.length>0?inferType(value[0],name,new Set(visited)):{name:"other",value:"unknown"}}:{name:"object",value:mapValues_default()(value,(function(field){return inferType(field,name,new Set(visited))}))}):{name:"object",value:{}}},inferArgTypes_inferArgTypes=function inferArgTypes(context){var id=context.id,_context$argTypes=context.argTypes,userArgTypes=void 0===_context$argTypes?{}:_context$argTypes,_context$initialArgs=context.initialArgs,initialArgs=void 0===_context$initialArgs?{}:_context$initialArgs,argTypes=mapValues_default()(initialArgs,(function(arg,key){return{name:key,type:inferArgTypes_inferType(arg,"".concat(id,".").concat(key),new Set)}})),userArgTypesNames=mapValues_default()(userArgTypes,(function(argType,key){return{name:key}}));return Object(esm_parameters.a)(argTypes,userArgTypesNames,userArgTypes)};inferArgTypes_inferArgTypes.secondPass=!0;var inferControls=__webpack_require__("./node_modules/@storybook/store/dist/esm/inferControls.js");function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function StoryStore_slicedToArray(arr,i){return function StoryStore_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function StoryStore_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||StoryStore_unsupportedIterableToArray(arr,i)||function StoryStore_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function StoryStore_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function StoryStore_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){StoryStore_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){StoryStore_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function StoryStore_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function StoryStore_toConsumableArray(arr){return function StoryStore_arrayWithoutHoles(arr){if(Array.isArray(arr))return StoryStore_arrayLikeToArray(arr)}(arr)||function StoryStore_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||StoryStore_unsupportedIterableToArray(arr)||function StoryStore_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function StoryStore_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return StoryStore_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?StoryStore_arrayLikeToArray(o,minLen):void 0}}function StoryStore_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function StoryStore_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function StoryStore_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var StoryStore_StoryStore=function(){function StoryStore(){var _this=this;!function StoryStore_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StoryStore),this.storyIndex=void 0,this.importFn=void 0,this.projectAnnotations=void 0,this.globals=void 0,this.args=void 0,this.hooks=void 0,this.cachedCSFFiles=void 0,this.processCSFFileWithCache=void 0,this.prepareStoryWithCache=void 0,this.initializationPromise=void 0,this.resolveInitializationPromise=void 0,this.getStoriesJsonData=function(){var value=_this.getSetStoriesPayload(),allowedParameters=["fileName","docsOnly","framework","__id","__isArgsStory"];return{v:3,stories:mapValues_default()(value.stories,(function(story){var _global$FEATURES;return Object.assign({},pick_default()(story,["id","name","title"]),{importPath:_this.storyIndex.stories[story.id].importPath},!(null!==(_global$FEATURES=window_default.a.FEATURES)&&void 0!==_global$FEATURES&&_global$FEATURES.breakingChangesV7)&&{kind:story.title,story:story.name,parameters:Object.assign({},pick_default()(story.parameters,allowedParameters),{fileName:_this.storyIndex.stories[story.id].importPath})})}))}},this.globals=new GlobalsStore_GlobalsStore,this.args=new ArgsStore_ArgsStore,this.hooks={},this.processCSFFileWithCache=memoizerific_default()(1e3)(processCSFFile),this.prepareStoryWithCache=memoizerific_default()(1e4)(prepareStory),this.initializationPromise=new synchronous_promise.SynchronousPromise((function(resolve){_this.resolveInitializationPromise=resolve}))}var _loadStory,_onStoriesChanged;return function StoryStore_createClass(Constructor,protoProps,staticProps){return protoProps&&StoryStore_defineProperties(Constructor.prototype,protoProps),staticProps&&StoryStore_defineProperties(Constructor,staticProps),Constructor}(StoryStore,[{key:"setProjectAnnotations",value:function setProjectAnnotations(projectAnnotations){this.projectAnnotations=function normalizeProjectAnnotations(_ref){var argTypes=_ref.argTypes,globalTypes=_ref.globalTypes,argTypesEnhancers=_ref.argTypesEnhancers,annotations=StoryStore_objectWithoutProperties(_ref,["argTypes","globalTypes","argTypesEnhancers"]);return Object.assign({},argTypes&&{argTypes:Object(normalizeInputTypes.a)(argTypes)},globalTypes&&{globalTypes:Object(normalizeInputTypes.a)(globalTypes)},{argTypesEnhancers:[].concat(StoryStore_toConsumableArray(argTypesEnhancers||[]),[inferArgTypes_inferArgTypes,inferControls.a])},annotations)}(projectAnnotations);var globals=projectAnnotations.globals,globalTypes=projectAnnotations.globalTypes;this.globals.set({globals:globals,globalTypes:globalTypes})}},{key:"initialize",value:function initialize(_ref2){var storyIndex=_ref2.storyIndex,importFn=_ref2.importFn,_ref2$cache=_ref2.cache,cache=void 0!==_ref2$cache&&_ref2$cache;return this.storyIndex=new StoryIndexStore_StoryIndexStore(storyIndex),this.importFn=importFn,this.resolveInitializationPromise(),cache?this.cacheAllCSFFiles():synchronous_promise.SynchronousPromise.resolve()}},{key:"onStoriesChanged",value:(_onStoriesChanged=StoryStore_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref3){var importFn,storyIndex;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(importFn=_ref3.importFn,storyIndex=_ref3.storyIndex,importFn&&(this.importFn=importFn),storyIndex&&(this.storyIndex.stories=storyIndex.stories),!this.cachedCSFFiles){_context.next=6;break}return _context.next=6,this.cacheAllCSFFiles();case 6:case"end":return _context.stop()}}),_callee,this)}))),function onStoriesChanged(_x){return _onStoriesChanged.apply(this,arguments)})},{key:"loadCSFFileByStoryId",value:function loadCSFFileByStoryId(storyId){var _this2=this,_this$storyIndex$stor=this.storyIndex.storyIdToEntry(storyId),importPath=_this$storyIndex$stor.importPath,title=_this$storyIndex$stor.title;return this.importFn(importPath).then((function(moduleExports){return _this2.processCSFFileWithCache(moduleExports,importPath,title)}))}},{key:"loadAllCSFFiles",value:function loadAllCSFFiles(){var _this3=this,importPaths={};Object.entries(this.storyIndex.stories).forEach((function(_ref4){var _ref5=StoryStore_slicedToArray(_ref4,2),storyId=_ref5[0],importPath=_ref5[1].importPath;importPaths[importPath]=storyId}));var csfFilePromiseList=Object.entries(importPaths).map((function(_ref6){var _ref7=StoryStore_slicedToArray(_ref6,2),importPath=_ref7[0],storyId=_ref7[1];return _this3.loadCSFFileByStoryId(storyId).then((function(csfFile){return{importPath:importPath,csfFile:csfFile}}))}));return synchronous_promise.SynchronousPromise.all(csfFilePromiseList).then((function(list){return list.reduce((function(acc,_ref8){var importPath=_ref8.importPath,csfFile=_ref8.csfFile;return acc[importPath]=csfFile,acc}),{})}))}},{key:"cacheAllCSFFiles",value:function cacheAllCSFFiles(){var _this4=this;return this.initializationPromise.then((function(){return _this4.loadAllCSFFiles().then((function(csfFiles){_this4.cachedCSFFiles=csfFiles}))}))}},{key:"loadStory",value:(_loadStory=StoryStore_asyncToGenerator(regeneratorRuntime.mark((function _callee2(_ref9){var storyId,csfFile;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return storyId=_ref9.storyId,_context2.next=3,this.initializationPromise;case 3:return _context2.next=5,this.loadCSFFileByStoryId(storyId);case 5:return csfFile=_context2.sent,_context2.abrupt("return",this.storyFromCSFFile({storyId:storyId,csfFile:csfFile}));case 7:case"end":return _context2.stop()}}),_callee2,this)}))),function loadStory(_x2){return _loadStory.apply(this,arguments)})},{key:"storyFromCSFFile",value:function storyFromCSFFile(_ref10){var storyId=_ref10.storyId,csfFile=_ref10.csfFile,storyAnnotations=csfFile.stories[storyId];if(!storyAnnotations)throw new Error("Didn't find '".concat(storyId,"' in CSF file, this is unexpected"));var componentAnnotations=csfFile.meta,story=this.prepareStoryWithCache(storyAnnotations,componentAnnotations,this.projectAnnotations);return this.args.setInitial(story),this.hooks[story.id]=this.hooks[story.id]||new hooks.a,story}},{key:"componentStoriesFromCSFFile",value:function componentStoriesFromCSFFile(_ref11){var _this5=this,csfFile=_ref11.csfFile;return Object.keys(this.storyIndex.stories).filter((function(storyId){return!!csfFile.stories[storyId]})).map((function(storyId){return _this5.storyFromCSFFile({storyId:storyId,csfFile:csfFile})}))}},{key:"getStoryContext",value:function getStoryContext(story){return Object.assign({},story,{args:this.args.get(story.id),globals:this.globals.get(),hooks:this.hooks[story.id]})}},{key:"cleanupStory",value:function cleanupStory(story){this.hooks[story.id].clean()}},{key:"extract",value:function extract(){var _this6=this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeDocsOnly:!1};if(!this.cachedCSFFiles)throw new Error("Cannot call extract() unless you call cacheAllCSFFiles() first.");return Object.entries(this.storyIndex.stories).reduce((function(acc,_ref12){var _ref13=StoryStore_slicedToArray(_ref12,2),storyId=_ref13[0],importPath=_ref13[1].importPath,csfFile=_this6.cachedCSFFiles[importPath],story=_this6.storyFromCSFFile({storyId:storyId,csfFile:csfFile});return!options.includeDocsOnly&&story.parameters.docsOnly||(acc[storyId]=Object.entries(story).reduce((function(storyAcc,_ref14){var _ref15=StoryStore_slicedToArray(_ref14,2),key=_ref15[0],value=_ref15[1];return"function"==typeof value?storyAcc:Array.isArray(value)?Object.assign(storyAcc,_defineProperty({},key,value.slice().sort())):Object.assign(storyAcc,_defineProperty({},key,value))}),{args:story.initialArgs})),acc}),{})}},{key:"getSetStoriesPayload",value:function getSetStoriesPayload(){var stories=this.extract({includeDocsOnly:!0}),kindParameters=Object.values(stories).reduce((function(acc,_ref16){return acc[_ref16.title]={},acc}),{});return{v:2,globals:this.globals.get(),globalParameters:{},kindParameters:kindParameters,stories:stories}}},{key:"raw",value:function raw(){var _this7=this;return Object.values(this.extract()).map((function(_ref17){var id=_ref17.id;return _this7.fromId(id)}))}},{key:"fromId",value:function fromId(storyId){var importPath,_this8=this;if(!this.cachedCSFFiles)throw new Error("Cannot call fromId/raw() unless you call cacheAllCSFFiles() first.");try{importPath=this.storyIndex.storyIdToEntry(storyId).importPath}catch(err){return null}var csfFile=this.cachedCSFFiles[importPath],story=this.storyFromCSFFile({storyId:storyId,csfFile:csfFile});return Object.assign({},story,{storyFn:function storyFn(update){var context=Object.assign({},_this8.getStoryContext(story),{viewMode:"story"});return story.unboundStoryFn(Object.assign({},context,update))}})}}]),StoryStore}()},"./node_modules/@storybook/store/dist/esm/args.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return mapArgsToTypes})),__webpack_require__.d(__webpack_exports__,"c",(function(){return combineArgs})),__webpack_require__.d(__webpack_exports__,"h",(function(){return validateOptions})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DEEPLY_EQUAL})),__webpack_require__.d(__webpack_exports__,"d",(function(){return deepDiff})),__webpack_require__.d(__webpack_exports__,"b",(function(){return NO_TARGET_NAME})),__webpack_require__.d(__webpack_exports__,"e",(function(){return groupArgsByTarget})),__webpack_require__.d(__webpack_exports__,"g",(function(){return noTargetArgs}));__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.object.freeze.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js");var _templateObject,_templateObject2,fast_deep_equal__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./node_modules/fast-deep-equal/index.js"),fast_deep_equal__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(fast_deep_equal__WEBPACK_IMPORTED_MODULE_24__),_storybook_client_logger__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),lodash_isPlainObject__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./node_modules/lodash/isPlainObject.js"),lodash_isPlainObject__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(lodash_isPlainObject__WEBPACK_IMPORTED_MODULE_26__),ts_dedent__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("./node_modules/ts-dedent/esm/index.js");function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var INCOMPATIBLE=Symbol("incompatible"),map=function map(arg,type){if(null==arg||!type)return arg;switch(type.name){case"string":return String(arg);case"enum":return arg;case"number":return Number(arg);case"boolean":return"true"===arg;case"array":return type.value&&Array.isArray(arg)?arg.reduce((function(acc,item,index){var mapped=map(item,type.value);return mapped!==INCOMPATIBLE&&(acc[index]=mapped),acc}),new Array(arg.length)):INCOMPATIBLE;case"object":return"string"==typeof arg||"number"==typeof arg?arg:type.value&&"object"===_typeof(arg)?Object.entries(arg).reduce((function(acc,_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],val=_ref2[1],mapped=map(val,type.value[key]);return mapped===INCOMPATIBLE?acc:Object.assign(acc,_defineProperty({},key,mapped))}),{}):INCOMPATIBLE;default:return INCOMPATIBLE}},mapArgsToTypes=function mapArgsToTypes(args,argTypes){return Object.entries(args).reduce((function(acc,_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];if(!argTypes[key])return acc;var mapped=map(value,argTypes[key].type);return mapped===INCOMPATIBLE?acc:Object.assign(acc,_defineProperty({},key,mapped))}),{})},combineArgs=function combineArgs(value,update){return Array.isArray(value)&&Array.isArray(update)?update.reduce((function(acc,upd,index){return acc[index]=combineArgs(value[index],update[index]),acc}),_toConsumableArray(value)).filter((function(v){return void 0!==v})):lodash_isPlainObject__WEBPACK_IMPORTED_MODULE_26___default()(value)&&lodash_isPlainObject__WEBPACK_IMPORTED_MODULE_26___default()(update)?Object.keys(Object.assign({},value,update)).reduce((function(acc,key){if(key in update){var combined=combineArgs(value[key],update[key]);void 0!==combined&&(acc[key]=combined)}else acc[key]=value[key];return acc}),{}):update},validateOptions=function validateOptions(args,argTypes){return Object.entries(argTypes).reduce((function(acc,_ref5){var _ref6=_slicedToArray(_ref5,2),key=_ref6[0],options=_ref6[1].options;if(!options)return key in args&&(acc[key]=args[key]),acc;if(!Array.isArray(options))return _storybook_client_logger__WEBPACK_IMPORTED_MODULE_25__.once.error(Object(ts_dedent__WEBPACK_IMPORTED_MODULE_27__.a)(_templateObject||(_templateObject=_taggedTemplateLiteral(["\n        Invalid argType: '",".options' should be an array.\n\n        More info: https://storybook.js.org/docs/react/api/argtypes\n      "])),key)),acc[key]=args[key],acc;if(options.some((function(opt){return opt&&["object","function"].includes(_typeof(opt))})))return _storybook_client_logger__WEBPACK_IMPORTED_MODULE_25__.once.error(Object(ts_dedent__WEBPACK_IMPORTED_MODULE_27__.a)(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["\n        Invalid argType: '",".options' should only contain primitives. Use a 'mapping' for complex values.\n\n        More info: https://storybook.js.org/docs/react/writing-stories/args#mapping-to-complex-arg-values\n      "])),key)),acc[key]=args[key],acc;var isArray=Array.isArray(args[key]),invalidIndex=isArray&&args[key].findIndex((function(val){return!options.includes(val)})),isValidArray=isArray&&-1===invalidIndex;if(void 0===args[key]||options.includes(args[key])||isValidArray)return acc[key]=args[key],acc;var field=isArray?"".concat(key,"[").concat(invalidIndex,"]"):key,supportedOptions=options.map((function(opt){return"string"==typeof opt?"'".concat(opt,"'"):String(opt)})).join(", ");return _storybook_client_logger__WEBPACK_IMPORTED_MODULE_25__.once.warn("Received illegal value for '".concat(field,"'. Supported options: ").concat(supportedOptions)),acc}),{})},DEEPLY_EQUAL=Symbol("Deeply equal"),deepDiff=function deepDiff(value,update){if(_typeof(value)!==_typeof(update))return update;if(fast_deep_equal__WEBPACK_IMPORTED_MODULE_24___default()(value,update))return DEEPLY_EQUAL;if(Array.isArray(value)&&Array.isArray(update)){var res=update.reduce((function(acc,upd,index){var diff=deepDiff(value[index],upd);return diff!==DEEPLY_EQUAL&&(acc[index]=diff),acc}),new Array(update.length));return update.length>=value.length?res:res.concat(new Array(value.length-update.length).fill(void 0))}return lodash_isPlainObject__WEBPACK_IMPORTED_MODULE_26___default()(value)&&lodash_isPlainObject__WEBPACK_IMPORTED_MODULE_26___default()(update)?Object.keys(Object.assign({},value,update)).reduce((function(acc,key){var diff=deepDiff(null==value?void 0:value[key],null==update?void 0:update[key]);return diff===DEEPLY_EQUAL?acc:Object.assign(acc,_defineProperty({},key,diff))}),{}):update},NO_TARGET_NAME="";function groupArgsByTarget(_ref7){var args=_ref7.args,argTypes=_ref7.argTypes,groupedArgs={};return Object.entries(args).forEach((function(_ref8){var _ref9=_slicedToArray(_ref8,2),name=_ref9[0],value=_ref9[1],_ref10$target=(argTypes[name]||{}).target,target=void 0===_ref10$target?NO_TARGET_NAME:_ref10$target;groupedArgs[target]=groupedArgs[target]||{},groupedArgs[target][name]=value})),groupedArgs}function noTargetArgs(context){return groupArgsByTarget(context)[NO_TARGET_NAME]}},"./node_modules/@storybook/store/dist/esm/autoTitle.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return autoTitleFromSpecifier})),__webpack_require__.d(__webpack_exports__,"a",(function(){return autoTitle}));__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js");var lodash_startCase__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/lodash/startCase.js"),lodash_startCase__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(lodash_startCase__WEBPACK_IMPORTED_MODULE_17__),slash__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/@storybook/store/node_modules/slash/index.js"),slash__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(slash__WEBPACK_IMPORTED_MODULE_18__);function _toArray(arr){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var autoTitleFromSpecifier=function autoTitleFromSpecifier(fileName,entry){var _ref=entry||{},directory=_ref.directory,importPathMatcher=_ref.importPathMatcher,_ref$titlePrefix=_ref.titlePrefix,titlePrefix=void 0===_ref$titlePrefix?"":_ref$titlePrefix,normalizedFileName=slash__WEBPACK_IMPORTED_MODULE_18___default()(fileName);if(importPathMatcher.exec(normalizedFileName)){var suffix=normalizedFileName.replace(directory,"");return function startCaseTitle(title){return title.split("/").map(lodash_startCase__WEBPACK_IMPORTED_MODULE_17___default.a).join("/")}(function stripExtension(titleWithExtension){var parts=titleWithExtension.split("/"),last=parts[parts.length-1],dotIndex=last.indexOf("."),stripped=dotIndex>0?last.substr(0,dotIndex):last;parts[parts.length-1]=stripped;var _parts2=_toArray(parts),first=_parts2[0],rest=_parts2.slice(1);return""===first&&(parts=rest),parts.join("/")}(slash__WEBPACK_IMPORTED_MODULE_18___default()(function pathJoin(paths){var slashes=new RegExp("/{1,}","g");return paths.join("/").replace(slashes,"/")}([titlePrefix,suffix]))))}},autoTitle=function autoTitle(fileName,storiesEntries){for(var i=0;i<storiesEntries.length;i+=1){var title=autoTitleFromSpecifier(fileName,storiesEntries[i]);if(title)return title}}},"./node_modules/@storybook/store/dist/esm/decorators.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return decorateStory})),__webpack_require__.d(__webpack_exports__,"c",(function(){return sanitizeStoryContextUpdate})),__webpack_require__.d(__webpack_exports__,"b",(function(){return defaultDecorateStory}));__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js");function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function decorateStory(storyFn,decorator,bindWithContext){var boundStoryFunction=bindWithContext(storyFn);return function(context){return decorator(boundStoryFunction,context)}}function sanitizeStoryContextUpdate(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},update=(_ref.componentId,_ref.title,_ref.kind,_ref.id,_ref.name,_ref.story,_ref.parameters,_ref.initialArgs,_ref.argTypes,_objectWithoutProperties(_ref,["componentId","title","kind","id","name","story","parameters","initialArgs","argTypes"]));return update}function defaultDecorateStory(storyFn,decorators){var contextStore={},bindWithContext=function bindWithContext(decoratedStoryFn){return function(update){return contextStore.value=Object.assign({},contextStore.value,sanitizeStoryContextUpdate(update)),decoratedStoryFn(contextStore.value)}},decoratedWithContextStore=decorators.reduce((function(story,decorator){return decorateStory(story,decorator,bindWithContext)}),storyFn);return function(context){return contextStore.value=context,decoratedWithContextStore(context)}}},"./node_modules/@storybook/store/dist/esm/filterArgTypes.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return filterArgTypes}));__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.match.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js");var lodash_pickBy__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/lodash/pickBy.js"),lodash_pickBy__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(lodash_pickBy__WEBPACK_IMPORTED_MODULE_5__),matches=function matches(name,descriptor){return Array.isArray(descriptor)?descriptor.includes(name):name.match(descriptor)},filterArgTypes=function filterArgTypes(argTypes,include,exclude){return include||exclude?argTypes&&lodash_pickBy__WEBPACK_IMPORTED_MODULE_5___default()(argTypes,(function(argType,key){var name=argType.name||key;return(!include||matches(name,include))&&(!exclude||!matches(name,exclude))})):argTypes}},"./node_modules/@storybook/store/dist/esm/hooks.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"m",(function(){return useSharedState})),__webpack_require__.d(__webpack_exports__,"c",(function(){return useAddonState}));__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var _storybook_core_events__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@storybook/core-events/dist/esm/index.js"),_storybook_addons__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@storybook/addons/dist/esm/hooks.js");__webpack_require__.d(__webpack_exports__,"a",(function(){return _storybook_addons__WEBPACK_IMPORTED_MODULE_12__.a})),__webpack_require__.d(__webpack_exports__,"b",(function(){return _storybook_addons__WEBPACK_IMPORTED_MODULE_12__.b})),__webpack_require__.d(__webpack_exports__,"i",(function(){return _storybook_addons__WEBPACK_IMPORTED_MODULE_12__.h})),__webpack_require__.d(__webpack_exports__,"e",(function(){return _storybook_addons__WEBPACK_IMPORTED_MODULE_12__.d})),__webpack_require__.d(__webpack_exports__,"l",(function(){return _storybook_addons__WEBPACK_IMPORTED_MODULE_12__.k})),__webpack_require__.d(__webpack_exports__,"n",(function(){return _storybook_addons__WEBPACK_IMPORTED_MODULE_12__.l})),__webpack_require__.d(__webpack_exports__,"k",(function(){return _storybook_addons__WEBPACK_IMPORTED_MODULE_12__.j})),__webpack_require__.d(__webpack_exports__,"g",(function(){return _storybook_addons__WEBPACK_IMPORTED_MODULE_12__.f})),__webpack_require__.d(__webpack_exports__,"f",(function(){return _storybook_addons__WEBPACK_IMPORTED_MODULE_12__.e})),__webpack_require__.d(__webpack_exports__,"o",(function(){return _storybook_addons__WEBPACK_IMPORTED_MODULE_12__.m})),__webpack_require__.d(__webpack_exports__,"j",(function(){return _storybook_addons__WEBPACK_IMPORTED_MODULE_12__.i})),__webpack_require__.d(__webpack_exports__,"d",(function(){return _storybook_addons__WEBPACK_IMPORTED_MODULE_12__.c})),__webpack_require__.d(__webpack_exports__,"h",(function(){return _storybook_addons__WEBPACK_IMPORTED_MODULE_12__.g}));var _storybook_addons__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@storybook/addons/dist/esm/index.js");function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function useSharedState(sharedId,defaultState){var channel=_storybook_addons__WEBPACK_IMPORTED_MODULE_13__.a.getChannel(),lastValue=_slicedToArray(channel.last("".concat(_storybook_core_events__WEBPACK_IMPORTED_MODULE_11__.SHARED_STATE_CHANGED,"-manager-").concat(sharedId))||channel.last("".concat(_storybook_core_events__WEBPACK_IMPORTED_MODULE_11__.SHARED_STATE_SET,"-manager-").concat(sharedId))||[],1)[0],_useState2=_slicedToArray(Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_12__.l)(lastValue||defaultState),2),state=_useState2[0],setState=_useState2[1],allListeners=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_12__.h)((function(){var _ref3;return _defineProperty(_ref3={},"".concat(_storybook_core_events__WEBPACK_IMPORTED_MODULE_11__.SHARED_STATE_CHANGED,"-manager-").concat(sharedId),(function manager(s){return setState(s)})),_defineProperty(_ref3,"".concat(_storybook_core_events__WEBPACK_IMPORTED_MODULE_11__.SHARED_STATE_SET,"-manager-").concat(sharedId),(function manager(s){return setState(s)})),_ref3}),[sharedId]),emit=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_12__.e)(allListeners,[sharedId]);return Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_12__.f)((function(){void 0===defaultState||lastValue||emit("".concat(_storybook_core_events__WEBPACK_IMPORTED_MODULE_11__.SHARED_STATE_SET,"-client-").concat(sharedId),defaultState)}),[sharedId]),[state,function(s){setState(s),emit("".concat(_storybook_core_events__WEBPACK_IMPORTED_MODULE_11__.SHARED_STATE_CHANGED,"-client-").concat(sharedId),s)}]}function useAddonState(addonId,defaultState){return useSharedState(addonId,defaultState)}},"./node_modules/@storybook/store/dist/esm/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _StoryStore__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/store/dist/esm/StoryStore.js");__webpack_require__.d(__webpack_exports__,"StoryStore",(function(){return _StoryStore__WEBPACK_IMPORTED_MODULE_0__.a}));var _parameters__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/store/dist/esm/parameters.js");__webpack_require__.d(__webpack_exports__,"combineParameters",(function(){return _parameters__WEBPACK_IMPORTED_MODULE_1__.a}));var _filterArgTypes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/store/dist/esm/filterArgTypes.js");__webpack_require__.d(__webpack_exports__,"filterArgTypes",(function(){return _filterArgTypes__WEBPACK_IMPORTED_MODULE_2__.a}));var _normalizeInputTypes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/store/dist/esm/normalizeInputTypes.js");__webpack_require__.d(__webpack_exports__,"normalizeInputTypes",(function(){return _normalizeInputTypes__WEBPACK_IMPORTED_MODULE_3__.a}));var _inferControls__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@storybook/store/dist/esm/inferControls.js");__webpack_require__.d(__webpack_exports__,"inferControls",(function(){return _inferControls__WEBPACK_IMPORTED_MODULE_4__.a}));var _types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@storybook/store/dist/esm/types.js");for(var __WEBPACK_IMPORT_KEY__ in _types__WEBPACK_IMPORTED_MODULE_5__)["default","StoryStore","combineParameters","filterArgTypes","normalizeInputTypes","inferControls"].indexOf(__WEBPACK_IMPORT_KEY__)<0&&function(key){__webpack_require__.d(__webpack_exports__,key,(function(){return _types__WEBPACK_IMPORTED_MODULE_5__[key]}))}(__WEBPACK_IMPORT_KEY__);var _hooks__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@storybook/store/dist/esm/hooks.js");__webpack_require__.d(__webpack_exports__,"HooksContext",(function(){return _hooks__WEBPACK_IMPORTED_MODULE_6__.a})),__webpack_require__.d(__webpack_exports__,"applyHooks",(function(){return _hooks__WEBPACK_IMPORTED_MODULE_6__.b})),__webpack_require__.d(__webpack_exports__,"useMemo",(function(){return _hooks__WEBPACK_IMPORTED_MODULE_6__.i})),__webpack_require__.d(__webpack_exports__,"useCallback",(function(){return _hooks__WEBPACK_IMPORTED_MODULE_6__.e})),__webpack_require__.d(__webpack_exports__,"useRef",(function(){return _hooks__WEBPACK_IMPORTED_MODULE_6__.l})),__webpack_require__.d(__webpack_exports__,"useState",(function(){return _hooks__WEBPACK_IMPORTED_MODULE_6__.n})),__webpack_require__.d(__webpack_exports__,"useReducer",(function(){return _hooks__WEBPACK_IMPORTED_MODULE_6__.k})),__webpack_require__.d(__webpack_exports__,"useEffect",(function(){return _hooks__WEBPACK_IMPORTED_MODULE_6__.g})),__webpack_require__.d(__webpack_exports__,"useChannel",(function(){return _hooks__WEBPACK_IMPORTED_MODULE_6__.f})),__webpack_require__.d(__webpack_exports__,"useStoryContext",(function(){return _hooks__WEBPACK_IMPORTED_MODULE_6__.o})),__webpack_require__.d(__webpack_exports__,"useParameter",(function(){return _hooks__WEBPACK_IMPORTED_MODULE_6__.j})),__webpack_require__.d(__webpack_exports__,"useArgs",(function(){return _hooks__WEBPACK_IMPORTED_MODULE_6__.d})),__webpack_require__.d(__webpack_exports__,"useGlobals",(function(){return _hooks__WEBPACK_IMPORTED_MODULE_6__.h})),__webpack_require__.d(__webpack_exports__,"useSharedState",(function(){return _hooks__WEBPACK_IMPORTED_MODULE_6__.m})),__webpack_require__.d(__webpack_exports__,"useAddonState",(function(){return _hooks__WEBPACK_IMPORTED_MODULE_6__.c}));var _decorators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@storybook/store/dist/esm/decorators.js");__webpack_require__.d(__webpack_exports__,"decorateStory",(function(){return _decorators__WEBPACK_IMPORTED_MODULE_7__.a})),__webpack_require__.d(__webpack_exports__,"sanitizeStoryContextUpdate",(function(){return _decorators__WEBPACK_IMPORTED_MODULE_7__.c})),__webpack_require__.d(__webpack_exports__,"defaultDecorateStory",(function(){return _decorators__WEBPACK_IMPORTED_MODULE_7__.b}));var _args__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@storybook/store/dist/esm/args.js");__webpack_require__.d(__webpack_exports__,"mapArgsToTypes",(function(){return _args__WEBPACK_IMPORTED_MODULE_8__.f})),__webpack_require__.d(__webpack_exports__,"combineArgs",(function(){return _args__WEBPACK_IMPORTED_MODULE_8__.c})),__webpack_require__.d(__webpack_exports__,"validateOptions",(function(){return _args__WEBPACK_IMPORTED_MODULE_8__.h})),__webpack_require__.d(__webpack_exports__,"DEEPLY_EQUAL",(function(){return _args__WEBPACK_IMPORTED_MODULE_8__.a})),__webpack_require__.d(__webpack_exports__,"deepDiff",(function(){return _args__WEBPACK_IMPORTED_MODULE_8__.d})),__webpack_require__.d(__webpack_exports__,"NO_TARGET_NAME",(function(){return _args__WEBPACK_IMPORTED_MODULE_8__.b})),__webpack_require__.d(__webpack_exports__,"groupArgsByTarget",(function(){return _args__WEBPACK_IMPORTED_MODULE_8__.e})),__webpack_require__.d(__webpack_exports__,"noTargetArgs",(function(){return _args__WEBPACK_IMPORTED_MODULE_8__.g}));var _autoTitle__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@storybook/store/dist/esm/autoTitle.js");__webpack_require__.d(__webpack_exports__,"autoTitleFromSpecifier",(function(){return _autoTitle__WEBPACK_IMPORTED_MODULE_9__.b})),__webpack_require__.d(__webpack_exports__,"autoTitle",(function(){return _autoTitle__WEBPACK_IMPORTED_MODULE_9__.a}));var _sortStories__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@storybook/store/dist/esm/sortStories.js");__webpack_require__.d(__webpack_exports__,"sortStoriesV7",(function(){return _sortStories__WEBPACK_IMPORTED_MODULE_10__.b})),__webpack_require__.d(__webpack_exports__,"sortStoriesV6",(function(){return _sortStories__WEBPACK_IMPORTED_MODULE_10__.a}))},"./node_modules/@storybook/store/dist/esm/inferControls.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return inferControls}));__webpack_require__("./node_modules/core-js/modules/es.function.name.js");var lodash_mapValues__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash/mapValues.js"),lodash_mapValues__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_mapValues__WEBPACK_IMPORTED_MODULE_1__),_storybook_client_logger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),_filterArgTypes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/store/dist/esm/filterArgTypes.js"),_parameters__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@storybook/store/dist/esm/parameters.js"),inferControls=function inferControls(context){var argTypes=context.argTypes,_context$parameters=context.parameters,__isArgsStory=_context$parameters.__isArgsStory,_context$parameters$c=_context$parameters.controls,_context$parameters$c2=(_context$parameters$c=void 0===_context$parameters$c?{}:_context$parameters$c).include,include=void 0===_context$parameters$c2?null:_context$parameters$c2,_context$parameters$c3=_context$parameters$c.exclude,exclude=void 0===_context$parameters$c3?null:_context$parameters$c3,_context$parameters$c4=_context$parameters$c.matchers,matchers=void 0===_context$parameters$c4?{}:_context$parameters$c4;if(!__isArgsStory)return argTypes;var filteredArgTypes=Object(_filterArgTypes__WEBPACK_IMPORTED_MODULE_3__.a)(argTypes,include,exclude),withControls=lodash_mapValues__WEBPACK_IMPORTED_MODULE_1___default()(filteredArgTypes,(function(argType,name){return(null==argType?void 0:argType.type)&&function inferControl(argType,name,matchers){var type=argType.type,options=argType.options;if(type||options){if(matchers.color&&matchers.color.test(name)){var controlType=argType.type.name;if("string"===controlType)return{control:{type:"color"}};_storybook_client_logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn('Addon controls: Control of type color only supports string, received "'.concat(controlType,'" instead'))}if(matchers.date&&matchers.date.test(name))return{control:{type:"date"}};switch(type.name){case"array":return{control:{type:"object"}};case"boolean":return{control:{type:"boolean"}};case"string":return{control:{type:"text"}};case"number":return{control:{type:"number"}};case"enum":var value=type.value;return{control:{type:(null==value?void 0:value.length)<=5?"radio":"select"},options:value};case"function":case"symbol":return null;default:return{control:{type:options?"select":"object"}}}}}(argType,name,matchers)}));return Object(_parameters__WEBPACK_IMPORTED_MODULE_4__.a)(withControls,filteredArgTypes)};inferControls.secondPass=!0},"./node_modules/@storybook/store/dist/esm/normalizeInputTypes.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return normalizeInputTypes}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js");var lodash_mapValues__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lodash/mapValues.js"),lodash_mapValues__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_mapValues__WEBPACK_IMPORTED_MODULE_3__);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var normalizeInputType=function normalizeInputType(inputType,key){var type=inputType.type,control=inputType.control,rest=_objectWithoutProperties(inputType,["type","control"]),normalized=Object.assign({name:key},rest);return type&&(normalized.type=function normalizeType(type){return"string"==typeof type?{name:type}:type}(type)),control?normalized.control=function normalizeControl(control){return"string"==typeof control?{type:control}:control}(control):!1===control&&(normalized.control={disable:!0}),normalized},normalizeInputTypes=function normalizeInputTypes(inputTypes){return lodash_mapValues__WEBPACK_IMPORTED_MODULE_3___default()(inputTypes,normalizeInputType)}},"./node_modules/@storybook/store/dist/esm/parameters.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return combineParameters}));__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var lodash_isPlainObject__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/lodash/isPlainObject.js"),lodash_isPlainObject__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(lodash_isPlainObject__WEBPACK_IMPORTED_MODULE_15__);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var combineParameters=function combineParameters(){for(var _len=arguments.length,parameterSets=new Array(_len),_key=0;_key<_len;_key++)parameterSets[_key]=arguments[_key];var mergeKeys={},combined=parameterSets.filter(Boolean).reduce((function(acc,p){return Object.entries(p).forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1],existing=acc[key];Array.isArray(value)||void 0===existing?acc[key]=value:lodash_isPlainObject__WEBPACK_IMPORTED_MODULE_15___default()(value)&&lodash_isPlainObject__WEBPACK_IMPORTED_MODULE_15___default()(existing)?mergeKeys[key]=!0:void 0!==value&&(acc[key]=value)})),acc}),{});return Object.keys(mergeKeys).forEach((function(key){var mergeValues=parameterSets.filter(Boolean).map((function(p){return p[key]})).filter((function(value){return void 0!==value}));mergeValues.every((function(value){return lodash_isPlainObject__WEBPACK_IMPORTED_MODULE_15___default()(value)}))?combined[key]=combineParameters.apply(void 0,_toConsumableArray(mergeValues)):combined[key]=mergeValues[mergeValues.length-1]})),combined}},"./node_modules/@storybook/store/dist/esm/sortStories.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return sortStories_sortStoriesV7})),__webpack_require__.d(__webpack_exports__,"a",(function(){return sortStories_sortStoriesV6}));__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.freeze.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js");var _templateObject,stable=__webpack_require__("./node_modules/stable/stable.js"),stable_default=__webpack_require__.n(stable),esm=__webpack_require__("./node_modules/ts-dedent/esm/index.js"),STORY_KIND_PATH_SEPARATOR=(__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.string.trim.js"),/\s*\/\s*/);var sortStories_sortStoriesCommon=function sortStoriesCommon(stories,storySortParameter,fileNameOrder){var sortFn;storySortParameter?(sortFn="function"==typeof storySortParameter?storySortParameter:function storySort(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(a,b){if(a.title===b.title&&!options.includeNames)return 0;var method=options.method||"configure",order=options.order||[],storyTitleA=a.title.trim().split(STORY_KIND_PATH_SEPARATOR),storyTitleB=b.title.trim().split(STORY_KIND_PATH_SEPARATOR);options.includeNames&&(storyTitleA.push(a.name),storyTitleB.push(b.name));for(var depth=0;storyTitleA[depth]||storyTitleB[depth];){if(!storyTitleA[depth])return-1;if(!storyTitleB[depth])return 1;var nameA=storyTitleA[depth],nameB=storyTitleB[depth];if(nameA!==nameB){var indexA=order.indexOf(nameA),indexB=order.indexOf(nameB),indexWildcard=order.indexOf("*");return-1!==indexA||-1!==indexB?(-1===indexA&&(indexA=-1!==indexWildcard?indexWildcard:order.length),-1===indexB&&(indexB=-1!==indexWildcard?indexWildcard:order.length),indexA-indexB):"configure"===method?0:nameA.localeCompare(nameB,options.locales?options.locales:void 0,{numeric:!0,sensitivity:"accent"})}var index=order.indexOf(nameA);order=-1!==index&&Array.isArray(order[index+1])?order[index+1]:[],depth+=1}return 0}}(storySortParameter),stable_default.a.inplace(stories,sortFn)):stable_default.a.inplace(stories,(function(s1,s2){return fileNameOrder.indexOf(s1.importPath)-fileNameOrder.indexOf(s2.importPath)}));return stories},sortStories_sortStoriesV7=function sortStoriesV7(stories,storySortParameter,fileNameOrder){try{return sortStories_sortStoriesCommon(stories,storySortParameter,fileNameOrder)}catch(err){throw new Error(Object(esm.a)(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n    Error sorting stories with sort parameter ",":\n\n    > ","\n    \n    Are you using a V6-style sort function in V7 mode?\n\n    More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#v7-style-story-sort\n  "])),storySortParameter,err.message))}},toIndexEntry=function toIndexEntry(story){return{id:story.id,title:story.title,name:story.name,importPath:story.parameters.fileName}},sortStories_sortStoriesV6=function sortStoriesV6(stories,storySortParameter,fileNameOrder){if(storySortParameter&&"function"==typeof storySortParameter)return stable_default.a.inplace(stories,storySortParameter),stories.map((function(s){return toIndexEntry(s[1])}));var storiesV7=stories.map((function(s){return toIndexEntry(s[1])}));return sortStories_sortStoriesCommon(storiesV7,storySortParameter,fileNameOrder)}},"./node_modules/@storybook/store/dist/esm/types.js":function(module,exports){},"./node_modules/@storybook/store/node_modules/slash/index.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),module.exports=function(path){var isExtendedLengthPath=/^\\\\\?\\/.test(path),hasNonAscii=/[^\u0000-\u0080]+/.test(path);return isExtendedLengthPath||hasNonAscii?path:path.replace(/\\/g,"/")}},"./node_modules/@storybook/web-components/dist/esm/client/customElements.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function isValidComponent(tagName){if(!tagName)return!1;if("string"==typeof tagName)return!0;throw new Error('Provided component needs to be a string. e.g. component: "my-element"')}function isValidMetaData(customElements){if(!customElements)return!1;if(customElements.tags&&Array.isArray(customElements.tags)||customElements.modules&&Array.isArray(customElements.modules))return!0;throw new Error("You need to setup valid meta data in your config.js via setCustomElements().\n    See the readme of addon-docs for web components for more details.")}function setCustomElements(customElements){window.__STORYBOOK_CUSTOM_ELEMENTS__=customElements}function setCustomElementsManifest(customElements){window.__STORYBOOK_CUSTOM_ELEMENTS_MANIFEST__=customElements}function getCustomElements(){return window.__STORYBOOK_CUSTOM_ELEMENTS__||window.__STORYBOOK_CUSTOM_ELEMENTS_MANIFEST__}__webpack_require__.d(__webpack_exports__,"b",(function(){return isValidComponent})),__webpack_require__.d(__webpack_exports__,"c",(function(){return isValidMetaData})),__webpack_require__.d(__webpack_exports__,"d",(function(){return setCustomElements})),__webpack_require__.d(__webpack_exports__,"e",(function(){return setCustomElementsManifest})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getCustomElements}))},"./node_modules/@storybook/web-components/dist/esm/client/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var global__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/global/window.js"),global__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(global__WEBPACK_IMPORTED_MODULE_0__),_preview__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/web-components/dist/esm/client/preview/index.js");__webpack_require__.d(__webpack_exports__,"storiesOf",(function(){return _preview__WEBPACK_IMPORTED_MODULE_1__.h})),__webpack_require__.d(__webpack_exports__,"setAddon",(function(){return _preview__WEBPACK_IMPORTED_MODULE_1__.g})),__webpack_require__.d(__webpack_exports__,"addDecorator",(function(){return _preview__WEBPACK_IMPORTED_MODULE_1__.a})),__webpack_require__.d(__webpack_exports__,"addParameters",(function(){return _preview__WEBPACK_IMPORTED_MODULE_1__.b})),__webpack_require__.d(__webpack_exports__,"configure",(function(){return _preview__WEBPACK_IMPORTED_MODULE_1__.c})),__webpack_require__.d(__webpack_exports__,"getStorybook",(function(){return _preview__WEBPACK_IMPORTED_MODULE_1__.e})),__webpack_require__.d(__webpack_exports__,"forceReRender",(function(){return _preview__WEBPACK_IMPORTED_MODULE_1__.d})),__webpack_require__.d(__webpack_exports__,"raw",(function(){return _preview__WEBPACK_IMPORTED_MODULE_1__.f}));var _customElements__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/web-components/dist/esm/client/customElements.js");__webpack_require__.d(__webpack_exports__,"getCustomElements",(function(){return _customElements__WEBPACK_IMPORTED_MODULE_2__.a})),__webpack_require__.d(__webpack_exports__,"setCustomElements",(function(){return _customElements__WEBPACK_IMPORTED_MODULE_2__.d})),__webpack_require__.d(__webpack_exports__,"setCustomElementsManifest",(function(){return _customElements__WEBPACK_IMPORTED_MODULE_2__.e})),__webpack_require__.d(__webpack_exports__,"isValidComponent",(function(){return _customElements__WEBPACK_IMPORTED_MODULE_2__.b})),__webpack_require__.d(__webpack_exports__,"isValidMetaData",(function(){return _customElements__WEBPACK_IMPORTED_MODULE_2__.c}));var _preview_types_6_0__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/web-components/dist/esm/client/preview/types-6-0.js");for(var __WEBPACK_IMPORT_KEY__ in _preview_types_6_0__WEBPACK_IMPORTED_MODULE_3__)["default","storiesOf","setAddon","addDecorator","addParameters","configure","getStorybook","forceReRender","raw","getCustomElements","setCustomElements","setCustomElementsManifest","isValidComponent","isValidMetaData"].indexOf(__WEBPACK_IMPORT_KEY__)<0&&function(key){__webpack_require__.d(__webpack_exports__,key,(function(){return _preview_types_6_0__WEBPACK_IMPORTED_MODULE_3__[key]}))}(__WEBPACK_IMPORT_KEY__);var window=global__WEBPACK_IMPORTED_MODULE_0___default.a.window,EventSource=global__WEBPACK_IMPORTED_MODULE_0___default.a.EventSource;module&&module.hot&&module.hot.decline&&(module.hot.decline(),new EventSource("__webpack_hmr").addEventListener("message",(function fullPageReload(event){try{"built"===JSON.parse(event.data).action&&window.location.reload()}catch(error){}})))}.call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./node_modules/@storybook/web-components/dist/esm/client/preview/config-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var config_namespaceObject={};__webpack_require__.r(config_namespaceObject),__webpack_require__.d(config_namespaceObject,"renderToDOM",(function(){return render.a})),__webpack_require__.d(config_namespaceObject,"parameters",(function(){return parameters}));var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),render=__webpack_require__("./node_modules/@storybook/web-components/dist/esm/client/preview/render.js"),parameters={framework:"web-components"};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(config_namespaceObject).forEach((function(key){var value=config_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./node_modules/@storybook/web-components/dist/esm/client/preview/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"h",(function(){return storiesOf})),__webpack_require__.d(__webpack_exports__,"c",(function(){return configure})),__webpack_require__.d(__webpack_exports__,"a",(function(){return addDecorator})),__webpack_require__.d(__webpack_exports__,"b",(function(){return addParameters})),__webpack_require__.d(__webpack_exports__,"g",(function(){return setAddon})),__webpack_require__.d(__webpack_exports__,"d",(function(){return forceReRender})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getStorybook})),__webpack_require__.d(__webpack_exports__,"f",(function(){return raw}));__webpack_require__("./node_modules/core-js/modules/es.array.concat.js");var esm=__webpack_require__("./node_modules/@storybook/core/dist/esm/index.js"),global_window=__webpack_require__("./node_modules/global/window.js");__webpack_require__.n(global_window).a.window.STORYBOOK_ENV="web-components";var render=__webpack_require__("./node_modules/@storybook/web-components/dist/esm/client/preview/render.js"),framework="web-components",api=Object(esm.start)(render.a),storiesOf=function storiesOf(kind,m){return api.clientApi.storiesOf(kind,m).addParameters({framework:framework})},configure=function configure(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return api.configure.apply(api,[framework].concat(args))},addDecorator=api.clientApi.addDecorator,addParameters=api.clientApi.addParameters,setAddon=(api.clientApi.clearDecorators,api.clientApi.setAddon),forceReRender=api.forceReRender,getStorybook=api.clientApi.getStorybook,raw=api.clientApi.raw},"./node_modules/@storybook/web-components/dist/esm/client/preview/render.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return renderToDOM}));__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.freeze.js");var global_window=__webpack_require__("./node_modules/global/window.js"),window_default=__webpack_require__.n(global_window),esm=__webpack_require__("./node_modules/ts-dedent/esm/index.js"),lit_html=__webpack_require__("./node_modules/lit-html/lit-html.js");lit_html._$LH.H,__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js");var _templateObject,simulate_pageload_document=window_default.a.document,runScriptTypes=["application/javascript","application/ecmascript","application/x-ecmascript","application/x-javascript","text/ecmascript","text/javascript","text/javascript1.0","text/javascript1.1","text/javascript1.2","text/javascript1.3","text/javascript1.4","text/javascript1.5","text/jscript","text/livescript","text/x-ecmascript","text/x-javascript","module"];function simulateDOMContentLoaded(){var DOMContentLoadedEvent=simulate_pageload_document.createEvent("Event");DOMContentLoadedEvent.initEvent("DOMContentLoaded",!0,!0),simulate_pageload_document.dispatchEvent(DOMContentLoadedEvent)}function insertScriptsSequentially(scriptsToExecute,callback){var index=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;scriptsToExecute[index]((function(){++index===scriptsToExecute.length?callback():insertScriptsSequentially(scriptsToExecute,callback,index)}))}function simulatePageLoad($container){var $scriptsRoot=simulate_pageload_document.getElementById("scripts-root");$scriptsRoot?$scriptsRoot.innerHTML="":(($scriptsRoot=simulate_pageload_document.createElement("div")).id="scripts-root",simulate_pageload_document.body.appendChild($scriptsRoot));var $scripts=Array.from($container.querySelectorAll("script"));if($scripts.length){var scriptsToExecute=[];$scripts.forEach((function($script){var typeAttr=$script.getAttribute("type");typeAttr&&!runScriptTypes.includes(typeAttr)||scriptsToExecute.push((function(callback){return function insertScript($script,callback,$scriptRoot){var scriptEl=simulate_pageload_document.createElement("script");scriptEl.type="module"===$script.type?"module":"text/javascript",$script.src?(scriptEl.onload=callback,scriptEl.onerror=callback,scriptEl.src=$script.src):scriptEl.textContent=$script.innerText,$scriptRoot?$scriptRoot.appendChild(scriptEl):simulate_pageload_document.head.appendChild(scriptEl),$script.parentNode.removeChild($script),$script.src||callback()}($script,callback,$scriptsRoot)}))})),scriptsToExecute.length&&insertScriptsSequentially(scriptsToExecute,simulateDOMContentLoaded,void 0)}else simulateDOMContentLoaded()}var Node=window_default.a.Node;function renderToDOM(_ref,domElement){var strings,raw,storyFn=_ref.storyFn,kind=_ref.kind,name=_ref.name,showMain=_ref.showMain,showError=_ref.showError,forceRemount=_ref.forceRemount,element=storyFn();if(showMain(),function v(o,i){var t,n;return void 0===i?void 0!==(null===(t=o)||void 0===t?void 0:t._$litType$):(null===(n=o)||void 0===n?void 0:n._$litType$)===i}(element)){!forceRemount&&domElement.querySelector('[id="root-inner"]')||(domElement.innerHTML='<div id="root-inner"></div>');var renderTo=domElement.querySelector('[id="root-inner"]');Object(lit_html.render)(element,renderTo),simulatePageLoad(domElement)}else if("string"==typeof element)domElement.innerHTML=element,simulatePageLoad(domElement);else if(element instanceof Node){if(domElement.firstChild===element&&!forceRemount)return;domElement.innerHTML="",domElement.appendChild(element),simulateDOMContentLoaded()}else showError({title:'Expecting an HTML snippet or DOM node from the story: "'.concat(name,'" of "').concat(kind,'".'),description:Object(esm.a)(_templateObject||(strings=['\n        Did you forget to return the HTML snippet from the story?\n        Use "() => <your snippet or node>" or when defining the story.\n      '],raw||(raw=strings.slice(0)),_templateObject=Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))))})}},"./node_modules/@storybook/web-components/dist/esm/client/preview/types-6-0.js":function(module,exports){},"./node_modules/airbnb-js-shims/index.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/airbnb-js-shims/target/es5.js")},"./node_modules/airbnb-js-shims/target/es2015.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/es6-shim/es6-shim.js"),__webpack_require__("./node_modules/function.prototype.name/shim.js")(),__webpack_require__("./node_modules/airbnb-js-shims/target/es2016.js")},"./node_modules/airbnb-js-shims/target/es2016.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/array-includes/shim.js")(),__webpack_require__("./node_modules/airbnb-js-shims/target/es2017.js")},"./node_modules/airbnb-js-shims/target/es2017.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/object.values/shim.js")(),__webpack_require__("./node_modules/object.entries/shim.js")(),__webpack_require__("./node_modules/string.prototype.padstart/shim.js")(),__webpack_require__("./node_modules/string.prototype.padend/shim.js")(),__webpack_require__("./node_modules/object.getownpropertydescriptors/shim.js")(),__webpack_require__("./node_modules/airbnb-js-shims/target/es2018.js")},"./node_modules/airbnb-js-shims/target/es2018.js":function(module,exports,__webpack_require__){"use strict";"function"==typeof Promise&&__webpack_require__("./node_modules/promise.prototype.finally/auto.js"),__webpack_require__("./node_modules/airbnb-js-shims/target/es2019.js")},"./node_modules/airbnb-js-shims/target/es2019.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/array.prototype.flat/auto.js"),__webpack_require__("./node_modules/array.prototype.flatmap/auto.js"),__webpack_require__("./node_modules/symbol.prototype.description/auto.js"),__webpack_require__("./node_modules/object.fromentries/auto.js"),__webpack_require__("./node_modules/airbnb-js-shims/target/es2020.js")},"./node_modules/airbnb-js-shims/target/es2020.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/string.prototype.matchall/auto.js"),__webpack_require__("./node_modules/globalthis/auto.js"),__webpack_require__("./node_modules/promise.allsettled/auto.js")},"./node_modules/airbnb-js-shims/target/es5.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/es5-shim/es5-shim.js"),__webpack_require__("./node_modules/es5-shim/es5-sham.js"),__webpack_require__("./node_modules/airbnb-js-shims/target/es2015.js")},"./node_modules/ansi-to-html/lib/ansi_to_html.js":function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createForOfIteratorHelper(o){if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(o=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))){var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var it,err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var entities=__webpack_require__("./node_modules/entities/lib/index.js"),defaults={fg:"#FFF",bg:"#000",newline:!1,escapeXML:!1,stream:!1,colors:function getDefaultColors(){var colors={0:"#000",1:"#A00",2:"#0A0",3:"#A50",4:"#00A",5:"#A0A",6:"#0AA",7:"#AAA",8:"#555",9:"#F55",10:"#5F5",11:"#FF5",12:"#55F",13:"#F5F",14:"#5FF",15:"#FFF"};return range(0,5).forEach((function(red){range(0,5).forEach((function(green){range(0,5).forEach((function(blue){return function setStyleColor(red,green,blue,colors){var r=red>0?40*red+55:0,g=green>0?40*green+55:0,b=blue>0?40*blue+55:0;colors[16+36*red+6*green+blue]=function toColorHexString(ref){var _step,results=[],_iterator=_createForOfIteratorHelper(ref);try{for(_iterator.s();!(_step=_iterator.n()).done;){var r=_step.value;results.push(toHexString(r))}}catch(err){_iterator.e(err)}finally{_iterator.f()}return"#"+results.join("")}([r,g,b])}(red,green,blue,colors)}))}))})),range(0,23).forEach((function(gray){var c=gray+232,l=toHexString(10*gray+8);colors[c]="#"+l+l+l})),colors}()};function toHexString(num){for(var str=num.toString(16);str.length<2;)str="0"+str;return str}function generateOutput(stack,token,data,options){var result;return"text"===token?result=function pushText(text,options){if(options.escapeXML)return entities.encodeXML(text);return text}(data,options):"display"===token?result=function handleDisplay(stack,code,options){code=parseInt(code,10);var result,codeMap={"-1":function _(){return"<br/>"},0:function _(){return stack.length&&resetStyles(stack)},1:function _(){return pushTag(stack,"b")},3:function _(){return pushTag(stack,"i")},4:function _(){return pushTag(stack,"u")},8:function _(){return pushStyle(stack,"display:none")},9:function _(){return pushTag(stack,"strike")},22:function _(){return pushStyle(stack,"font-weight:normal;text-decoration:none;font-style:normal")},23:function _(){return closeTag(stack,"i")},24:function _(){return closeTag(stack,"u")},39:function _(){return pushForegroundColor(stack,options.fg)},49:function _(){return pushBackgroundColor(stack,options.bg)},53:function _(){return pushStyle(stack,"text-decoration:overline")}};codeMap[code]?result=codeMap[code]():4<code&&code<7?result=pushTag(stack,"blink"):29<code&&code<38?result=pushForegroundColor(stack,options.colors[code-30]):39<code&&code<48?result=pushBackgroundColor(stack,options.colors[code-40]):89<code&&code<98?result=pushForegroundColor(stack,options.colors[code-90+8]):99<code&&code<108&&(result=pushBackgroundColor(stack,options.colors[code-100+8]));return result}(stack,data,options):"xterm256"===token?result=pushForegroundColor(stack,options.colors[data]):"rgb"===token&&(result=function handleRgb(stack,data){var operation=+(data=data.substring(2).slice(0,-1)).substr(0,2),rgb=data.substring(5).split(";").map((function(value){return("0"+Number(value).toString(16)).substr(-2)})).join("");return pushStyle(stack,(38===operation?"color:#":"background-color:#")+rgb)}(stack,data)),result}function resetStyles(stack){var stackClone=stack.slice(0);return stack.length=0,stackClone.reverse().map((function(tag){return"</"+tag+">"})).join("")}function range(low,high){for(var results=[],j=low;j<=high;j++)results.push(j);return results}function categoryForCode(code){var result=null;return 0===(code=parseInt(code,10))?result="all":1===code?result="bold":2<code&&code<5?result="underline":4<code&&code<7?result="blink":8===code?result="hide":9===code?result="strike":29<code&&code<38||39===code||89<code&&code<98?result="foreground-color":(39<code&&code<48||49===code||99<code&&code<108)&&(result="background-color"),result}function pushTag(stack,tag,style){return style||(style=""),stack.push(tag),"<".concat(tag).concat(style?' style="'.concat(style,'"'):"",">")}function pushStyle(stack,style){return pushTag(stack,"span",style)}function pushForegroundColor(stack,color){return pushTag(stack,"span","color:"+color)}function pushBackgroundColor(stack,color){return pushTag(stack,"span","background-color:"+color)}function closeTag(stack,style){var last;if(stack.slice(-1)[0]===style&&(last=stack.pop()),last)return"</"+style+">"}var Filter=function(){function Filter(options){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Filter),(options=options||{}).colors&&(options.colors=Object.assign({},defaults.colors,options.colors)),this.options=Object.assign({},defaults,options),this.stack=[],this.stickyStack=[]}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Filter,[{key:"toHtml",value:function toHtml(input){var _this=this;input="string"==typeof input?[input]:input;var stack=this.stack,options=this.options,buf=[];return this.stickyStack.forEach((function(element){var output=generateOutput(stack,element.token,element.data,options);output&&buf.push(output)})),function tokenize(text,options,callback){var ansiMatch=!1;function remove(){return""}function newline(m){return options.newline?callback("display",-1):callback("text",m),""}var tokens=[{pattern:/^\x08+/,sub:remove},{pattern:/^\x1b\[[012]?K/,sub:remove},{pattern:/^\x1b\[\(B/,sub:remove},{pattern:/^\x1b\[[34]8;2;\d+;\d+;\d+m/,sub:function rgb(m){return callback("rgb",m),""}},{pattern:/^\x1b\[38;5;(\d+)m/,sub:function removeXterm256(m,g1){return callback("xterm256",g1),""}},{pattern:/^\n/,sub:newline},{pattern:/^\r+\n/,sub:newline},{pattern:/^\x1b\[((?:\d{1,3};?)+|)m/,sub:function ansiMess(m,g1){ansiMatch=!0,0===g1.trim().length&&(g1="0");var _step2,_iterator2=_createForOfIteratorHelper(g1=g1.trimRight(";").split(";"));try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var g=_step2.value;callback("display",g)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return""}},{pattern:/^\x1b\[\d?J/,sub:remove},{pattern:/^\x1b\[\d{0,3};\d{0,3}f/,sub:remove},{pattern:/^\x1b\[?[\d;]{0,3}/,sub:remove},{pattern:/^(([^\x1b\x08\r\n])+)/,sub:function realText(m){return callback("text",m),""}}];function process(handler,i){i>3&&ansiMatch||(ansiMatch=!1,text=text.replace(handler.pattern,handler.sub))}var results1=[],length=text.length;outer:for(;length>0;){for(var i=0,o=0,len=tokens.length;o<len;i=++o)if(process(tokens[i],i),text.length!==length){length=text.length;continue outer}if(text.length===length)break;results1.push(0),length=text.length}return results1}(input.join(""),options,(function(token,data){var output=generateOutput(stack,token,data,options);output&&buf.push(output),options.stream&&(_this.stickyStack=function updateStickyStack(stickyStack,token,data){return"text"!==token&&(stickyStack=stickyStack.filter(function notCategory(category){return function(e){return(null===category||e.category!==category)&&"all"!==category}}(categoryForCode(data)))).push({token:token,data:data,category:categoryForCode(data)}),stickyStack}(_this.stickyStack,token,data))})),stack.length&&buf.push(resetStyles(stack)),buf.join("")}}]),Filter}();module.exports=Filter},"./node_modules/array-includes/implementation.js":function(module,exports,__webpack_require__){"use strict";var ToIntegerOrInfinity=__webpack_require__("./node_modules/es-abstract/2021/ToIntegerOrInfinity.js"),ToLength=__webpack_require__("./node_modules/es-abstract/2021/ToLength.js"),ToObject=__webpack_require__("./node_modules/es-abstract/2021/ToObject.js"),SameValueZero=__webpack_require__("./node_modules/es-abstract/2021/SameValueZero.js"),$isNaN=__webpack_require__("./node_modules/es-abstract/helpers/isNaN.js"),$isFinite=__webpack_require__("./node_modules/es-abstract/helpers/isFinite.js"),GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),isString=__webpack_require__("./node_modules/is-string/index.js"),$charAt=callBound("String.prototype.charAt"),$indexOf=GetIntrinsic("%Array.prototype.indexOf%"),$max=GetIntrinsic("%Math.max%");module.exports=function includes(searchElement){var fromIndex=arguments.length>1?ToIntegerOrInfinity(arguments[1]):0;if($indexOf&&!$isNaN(searchElement)&&$isFinite(fromIndex)&&void 0!==searchElement)return $indexOf.apply(this,arguments)>-1;var O=ToObject(this),length=ToLength(O.length);if(0===length)return!1;for(var k=fromIndex>=0?fromIndex:$max(0,length+fromIndex);k<length;){if(SameValueZero(searchElement,isString(O)?$charAt(O,k):O[k]))return!0;k+=1}return!1}},"./node_modules/array-includes/polyfill.js":function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__("./node_modules/array-includes/implementation.js");module.exports=function getPolyfill(){return Array.prototype.includes||implementation}},"./node_modules/array-includes/shim.js":function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__("./node_modules/define-properties/index.js"),getPolyfill=__webpack_require__("./node_modules/array-includes/polyfill.js");module.exports=function shimArrayPrototypeIncludes(){var polyfill=getPolyfill();return define(Array.prototype,{includes:polyfill},{includes:function(){return Array.prototype.includes!==polyfill}}),polyfill}},"./node_modules/array.prototype.flat/auto.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/array.prototype.flat/shim.js")()},"./node_modules/array.prototype.flat/implementation.js":function(module,exports,__webpack_require__){"use strict";var ArraySpeciesCreate=__webpack_require__("./node_modules/es-abstract/2021/ArraySpeciesCreate.js"),FlattenIntoArray=__webpack_require__("./node_modules/es-abstract/2021/FlattenIntoArray.js"),Get=__webpack_require__("./node_modules/es-abstract/2021/Get.js"),ToIntegerOrInfinity=__webpack_require__("./node_modules/es-abstract/2021/ToIntegerOrInfinity.js"),ToLength=__webpack_require__("./node_modules/es-abstract/2021/ToLength.js"),ToObject=__webpack_require__("./node_modules/es-abstract/2021/ToObject.js");module.exports=function flat(){var O=ToObject(this),sourceLen=ToLength(Get(O,"length")),depthNum=1;arguments.length>0&&void 0!==arguments[0]&&(depthNum=ToIntegerOrInfinity(arguments[0]));var A=ArraySpeciesCreate(O,0);return FlattenIntoArray(A,O,sourceLen,0,depthNum),A}},"./node_modules/array.prototype.flat/polyfill.js":function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__("./node_modules/array.prototype.flat/implementation.js");module.exports=function getPolyfill(){return Array.prototype.flat||implementation}},"./node_modules/array.prototype.flat/shim.js":function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__("./node_modules/define-properties/index.js"),shimUnscopables=__webpack_require__("./node_modules/es-shim-unscopables/index.js"),getPolyfill=__webpack_require__("./node_modules/array.prototype.flat/polyfill.js");module.exports=function shimFlat(){var polyfill=getPolyfill();return define(Array.prototype,{flat:polyfill},{flat:function(){return Array.prototype.flat!==polyfill}}),shimUnscopables("flat"),polyfill}},"./node_modules/array.prototype.flatmap/auto.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/array.prototype.flatmap/shim.js")()},"./node_modules/array.prototype.flatmap/implementation.js":function(module,exports,__webpack_require__){"use strict";var ArraySpeciesCreate=__webpack_require__("./node_modules/es-abstract/2021/ArraySpeciesCreate.js"),FlattenIntoArray=__webpack_require__("./node_modules/es-abstract/2021/FlattenIntoArray.js"),Get=__webpack_require__("./node_modules/es-abstract/2021/Get.js"),IsCallable=__webpack_require__("./node_modules/es-abstract/2021/IsCallable.js"),ToLength=__webpack_require__("./node_modules/es-abstract/2021/ToLength.js"),ToObject=__webpack_require__("./node_modules/es-abstract/2021/ToObject.js");module.exports=function flatMap(mapperFunction){var T,O=ToObject(this),sourceLen=ToLength(Get(O,"length"));if(!IsCallable(mapperFunction))throw new TypeError("mapperFunction must be a function");arguments.length>1&&(T=arguments[1]);var A=ArraySpeciesCreate(O,0);return FlattenIntoArray(A,O,sourceLen,0,1,mapperFunction,T),A}},"./node_modules/array.prototype.flatmap/polyfill.js":function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__("./node_modules/array.prototype.flatmap/implementation.js");module.exports=function getPolyfill(){return Array.prototype.flatMap||implementation}},"./node_modules/array.prototype.flatmap/shim.js":function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__("./node_modules/define-properties/index.js"),shimUnscopables=__webpack_require__("./node_modules/es-shim-unscopables/index.js"),getPolyfill=__webpack_require__("./node_modules/array.prototype.flatmap/polyfill.js");module.exports=function shimFlatMap(){var polyfill=getPolyfill();return define(Array.prototype,{flatMap:polyfill},{flatMap:function(){return Array.prototype.flatMap!==polyfill}}),shimUnscopables("flatMap"),polyfill}},"./node_modules/array.prototype.map/implementation.js":function(module,exports,__webpack_require__){"use strict";var ArraySpeciesCreate=__webpack_require__("./node_modules/es-abstract/2021/ArraySpeciesCreate.js"),Call=__webpack_require__("./node_modules/es-abstract/2021/Call.js"),CreateDataPropertyOrThrow=__webpack_require__("./node_modules/es-abstract/2021/CreateDataPropertyOrThrow.js"),Get=__webpack_require__("./node_modules/es-abstract/2021/Get.js"),HasProperty=__webpack_require__("./node_modules/es-abstract/2021/HasProperty.js"),IsCallable=__webpack_require__("./node_modules/es-abstract/2021/IsCallable.js"),ToUint32=__webpack_require__("./node_modules/es-abstract/2021/ToUint32.js"),ToObject=__webpack_require__("./node_modules/es-abstract/2021/ToObject.js"),ToString=__webpack_require__("./node_modules/es-abstract/2021/ToString.js"),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),isString=__webpack_require__("./node_modules/is-string/index.js"),boxedString=Object("a"),splitString="a"!==boxedString[0]||!(0 in boxedString),strSplit=callBound("String.prototype.split");module.exports=function map(callbackfn){var T,O=ToObject(this),self=splitString&&isString(O)?strSplit(O,""):O,len=ToUint32(self.length);if(!IsCallable(callbackfn))throw new TypeError("Array.prototype.map callback must be a function");arguments.length>1&&(T=arguments[1]);for(var A=ArraySpeciesCreate(O,len),k=0;k<len;){var Pk=ToString(k),kPresent=HasProperty(O,Pk);if(kPresent){var kValue=Get(O,Pk),mappedValue=Call(callbackfn,T,[kValue,k,O]);CreateDataPropertyOrThrow(A,Pk,mappedValue)}k+=1}return A}},"./node_modules/array.prototype.map/index.js":function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__("./node_modules/define-properties/index.js"),RequireObjectCoercible=__webpack_require__("./node_modules/es-abstract/2021/RequireObjectCoercible.js"),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),implementation=__webpack_require__("./node_modules/array.prototype.map/implementation.js"),getPolyfill=__webpack_require__("./node_modules/array.prototype.map/polyfill.js"),polyfill=getPolyfill(),shim=__webpack_require__("./node_modules/array.prototype.map/shim.js"),$slice=callBound("Array.prototype.slice"),boundMapShim=function map(array,callbackfn){return RequireObjectCoercible(array),polyfill.apply(array,$slice(arguments,1))};define(boundMapShim,{getPolyfill:getPolyfill,implementation:implementation,shim:shim}),module.exports=boundMapShim},"./node_modules/array.prototype.map/polyfill.js":function(module,exports,__webpack_require__){"use strict";var arrayMethodBoxesProperly=__webpack_require__("./node_modules/es-array-method-boxes-properly/index.js"),implementation=__webpack_require__("./node_modules/array.prototype.map/implementation.js");module.exports=function getPolyfill(){var method=Array.prototype.map;return arrayMethodBoxesProperly(method)?method:implementation}},"./node_modules/array.prototype.map/shim.js":function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__("./node_modules/define-properties/index.js"),getPolyfill=__webpack_require__("./node_modules/array.prototype.map/polyfill.js");module.exports=function shimArrayPrototypeMap(){var polyfill=getPolyfill();return define(Array.prototype,{map:polyfill},{map:function(){return Array.prototype.map!==polyfill}}),polyfill}},"./node_modules/base64-js/index.js":function(module,exports,__webpack_require__){"use strict";exports.byteLength=function byteLength(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen},exports.toByteArray=function toByteArray(b64){var tmp,i,lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr(function _byteLength(b64,validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}(0,validLen,placeHoldersLen)),curByte=0,len=placeHoldersLen>0?validLen-4:validLen;for(i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp);1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp);return arr},exports.fromByteArray=function fromByteArray(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));1===extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"="));return parts.join("")};for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var validLen=b64.indexOf("=");return-1===validLen&&(validLen=len),[validLen,validLen===len?0:4-validLen%4]}function encodeChunk(uint8,start,end){for(var tmp,num,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]),output.push(lookup[(num=tmp)>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]);return output.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},"./node_modules/buffer/index.js":function(module,exports,__webpack_require__){"use strict";(function(global){var base64=__webpack_require__("./node_modules/base64-js/index.js"),ieee754=__webpack_require__("./node_modules/ieee754/index.js"),isArray=__webpack_require__("./node_modules/buffer/node_modules/isarray/index.js");function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length)).__proto__=Buffer.prototype:(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?function fromArrayBuffer(that,array,byteOffset,length){if(array.byteLength,byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length);Buffer.TYPED_ARRAY_SUPPORT?(that=array).__proto__=Buffer.prototype:that=fromArrayLike(that,array);return that}(that,value,encodingOrOffset,length):"string"==typeof value?function fromString(that,string,encoding){"string"==typeof encoding&&""!==encoding||(encoding="utf8");if(!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding),actual=(that=createBuffer(that,length)).write(string,encoding);actual!==length&&(that=that.slice(0,actual));return that}(that,value,encodingOrOffset):function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return 0===(that=createBuffer(that,len)).length||obj.copy(that,0,0,len),that}if(obj){if("undefined"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj)return"number"!=typeof obj.length||function isnan(val){return val!=val}(obj.length)?createBuffer(that,0):fromArrayLike(that,obj);if("Buffer"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(that,value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number');if(size<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if((end>>>=0)<=(start>>>=0))return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var i,indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;if(strLen%2!=0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)hi=(c=str.charCodeAt(i))>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var secondByte,thirdByte,fourthByte,tempCodePoint,firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end)switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:128==(192&(secondByte=buf[i+1]))&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=4096)return String.fromCharCode.apply(String,codePoints);var res="",i=0;for(;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=4096));return res}(res)}exports.Buffer=Buffer,exports.SlowBuffer=function SlowBuffer(length){+length!=length&&(length=0);return Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return function alloc(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(that,size):void 0!==fill?"string"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function isBuffer(b){return!(null==b||!b._isBuffer)},Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function swap32(){var len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function swap64(){var len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function toString(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function inspect(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(this===target)return 0;for(var x=(thisEnd>>>=0)-(thisStart>>>=0),y=(end>>>=0)-(start>>>=0),len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function includes(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function write(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset|=0,isFinite(length)?(length|=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,4),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,8),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}Buffer.prototype.slice=function slice(start,end){var newBuf,len=this.length;if((start=~~start)<0?(start+=len)<0&&(start=0):start>len&&(start=len),(end=void 0===end?len:~~end)<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start),Buffer.TYPED_ARRAY_SUPPORT)(newBuf=this.subarray(start,end)).__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function readInt8(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function copy(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function fill(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;var i;if(start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0),"number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){var codePoint;units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function base64ToBytes(str){return base64.toByteArray(function base64clean(str){if((str=function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}(str).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;str.length%4!=0;)str+="=";return str}(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"))},"./node_modules/buffer/node_modules/isarray/index.js":function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},"./node_modules/call-bind/callBound.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),callBind=__webpack_require__("./node_modules/call-bind/index.js"),$indexOf=callBind(GetIntrinsic("String.prototype.indexOf"));module.exports=function callBoundIntrinsic(name,allowMissing){var intrinsic=GetIntrinsic(name,!!allowMissing);return"function"==typeof intrinsic&&$indexOf(name,".prototype.")>-1?callBind(intrinsic):intrinsic}},"./node_modules/call-bind/index.js":function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__("./node_modules/function-bind/index.js"),GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),$apply=GetIntrinsic("%Function.prototype.apply%"),$call=GetIntrinsic("%Function.prototype.call%"),$reflectApply=GetIntrinsic("%Reflect.apply%",!0)||bind.call($call,$apply),$gOPD=GetIntrinsic("%Object.getOwnPropertyDescriptor%",!0),$defineProperty=GetIntrinsic("%Object.defineProperty%",!0),$max=GetIntrinsic("%Math.max%");if($defineProperty)try{$defineProperty({},"a",{value:1})}catch(e){$defineProperty=null}module.exports=function callBind(originalFunction){var func=$reflectApply(bind,$call,arguments);if($gOPD&&$defineProperty){var desc=$gOPD(func,"length");desc.configurable&&$defineProperty(func,"length",{value:1+$max(0,originalFunction.length-(arguments.length-1))})}return func};var applyBind=function applyBind(){return $reflectApply(bind,$apply,arguments)};$defineProperty?$defineProperty(module.exports,"apply",{value:applyBind}):module.exports.apply=applyBind},"./node_modules/core-js/actual/symbol/index.js":function(module,exports,__webpack_require__){var parent=__webpack_require__("./node_modules/core-js/stable/symbol/index.js");module.exports=parent},"./node_modules/core-js/es/symbol/index.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.has-instance.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.is-concat-spreadable.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.match.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.match-all.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.search.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.species.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.split.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-primitive.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.unscopables.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.to-string-tag.js");var path=__webpack_require__("./node_modules/core-js/internals/path.js");module.exports=path.Symbol},"./node_modules/core-js/features/symbol/index.js":function(module,exports,__webpack_require__){module.exports=__webpack_require__("./node_modules/core-js/full/symbol/index.js")},"./node_modules/core-js/full/symbol/index.js":function(module,exports,__webpack_require__){var parent=__webpack_require__("./node_modules/core-js/actual/symbol/index.js");__webpack_require__("./node_modules/core-js/modules/esnext.symbol.async-dispose.js"),__webpack_require__("./node_modules/core-js/modules/esnext.symbol.dispose.js"),__webpack_require__("./node_modules/core-js/modules/esnext.symbol.matcher.js"),__webpack_require__("./node_modules/core-js/modules/esnext.symbol.metadata.js"),__webpack_require__("./node_modules/core-js/modules/esnext.symbol.observable.js"),__webpack_require__("./node_modules/core-js/modules/esnext.symbol.pattern-match.js"),__webpack_require__("./node_modules/core-js/modules/esnext.symbol.replace-all.js"),module.exports=parent},"./node_modules/core-js/internals/a-callable.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),tryToString=__webpack_require__("./node_modules/core-js/internals/try-to-string.js"),TypeError=global.TypeError;module.exports=function(argument){if(isCallable(argument))return argument;throw TypeError(tryToString(argument)+" is not a function")}},"./node_modules/core-js/internals/a-constructor.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),isConstructor=__webpack_require__("./node_modules/core-js/internals/is-constructor.js"),tryToString=__webpack_require__("./node_modules/core-js/internals/try-to-string.js"),TypeError=global.TypeError;module.exports=function(argument){if(isConstructor(argument))return argument;throw TypeError(tryToString(argument)+" is not a constructor")}},"./node_modules/core-js/internals/a-possible-prototype.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),String=global.String,TypeError=global.TypeError;module.exports=function(argument){if("object"==typeof argument||isCallable(argument))return argument;throw TypeError("Can't set "+String(argument)+" as a prototype")}},"./node_modules/core-js/internals/add-to-unscopables.js":function(module,exports,__webpack_require__){var wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),create=__webpack_require__("./node_modules/core-js/internals/object-create.js"),definePropertyModule=__webpack_require__("./node_modules/core-js/internals/object-define-property.js"),UNSCOPABLES=wellKnownSymbol("unscopables"),ArrayPrototype=Array.prototype;null==ArrayPrototype[UNSCOPABLES]&&definePropertyModule.f(ArrayPrototype,UNSCOPABLES,{configurable:!0,value:create(null)}),module.exports=function(key){ArrayPrototype[UNSCOPABLES][key]=!0}},"./node_modules/core-js/internals/advance-string-index.js":function(module,exports,__webpack_require__){"use strict";var charAt=__webpack_require__("./node_modules/core-js/internals/string-multibyte.js").charAt;module.exports=function(S,index,unicode){return index+(unicode?charAt(S,index).length:1)}},"./node_modules/core-js/internals/an-instance.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),isPrototypeOf=__webpack_require__("./node_modules/core-js/internals/object-is-prototype-of.js"),TypeError=global.TypeError;module.exports=function(it,Prototype){if(isPrototypeOf(Prototype,it))return it;throw TypeError("Incorrect invocation")}},"./node_modules/core-js/internals/an-object.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),String=global.String,TypeError=global.TypeError;module.exports=function(argument){if(isObject(argument))return argument;throw TypeError(String(argument)+" is not an object")}},"./node_modules/core-js/internals/array-buffer-non-extensible.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("./node_modules/core-js/internals/fails.js");module.exports=fails((function(){if("function"==typeof ArrayBuffer){var buffer=new ArrayBuffer(8);Object.isExtensible(buffer)&&Object.defineProperty(buffer,"a",{value:8})}}))},"./node_modules/core-js/internals/array-fill.js":function(module,exports,__webpack_require__){"use strict";var toObject=__webpack_require__("./node_modules/core-js/internals/to-object.js"),toAbsoluteIndex=__webpack_require__("./node_modules/core-js/internals/to-absolute-index.js"),lengthOfArrayLike=__webpack_require__("./node_modules/core-js/internals/length-of-array-like.js");module.exports=function fill(value){for(var O=toObject(this),length=lengthOfArrayLike(O),argumentsLength=arguments.length,index=toAbsoluteIndex(argumentsLength>1?arguments[1]:void 0,length),end=argumentsLength>2?arguments[2]:void 0,endPos=void 0===end?length:toAbsoluteIndex(end,length);endPos>index;)O[index++]=value;return O}},"./node_modules/core-js/internals/array-for-each.js":function(module,exports,__webpack_require__){"use strict";var $forEach=__webpack_require__("./node_modules/core-js/internals/array-iteration.js").forEach,STRICT_METHOD=__webpack_require__("./node_modules/core-js/internals/array-method-is-strict.js")("forEach");module.exports=STRICT_METHOD?[].forEach:function forEach(callbackfn){return $forEach(this,callbackfn,arguments.length>1?arguments[1]:void 0)}},"./node_modules/core-js/internals/array-from.js":function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__("./node_modules/core-js/internals/global.js"),bind=__webpack_require__("./node_modules/core-js/internals/function-bind-context.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),toObject=__webpack_require__("./node_modules/core-js/internals/to-object.js"),callWithSafeIterationClosing=__webpack_require__("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),isArrayIteratorMethod=__webpack_require__("./node_modules/core-js/internals/is-array-iterator-method.js"),isConstructor=__webpack_require__("./node_modules/core-js/internals/is-constructor.js"),lengthOfArrayLike=__webpack_require__("./node_modules/core-js/internals/length-of-array-like.js"),createProperty=__webpack_require__("./node_modules/core-js/internals/create-property.js"),getIterator=__webpack_require__("./node_modules/core-js/internals/get-iterator.js"),getIteratorMethod=__webpack_require__("./node_modules/core-js/internals/get-iterator-method.js"),Array=global.Array;module.exports=function from(arrayLike){var O=toObject(arrayLike),IS_CONSTRUCTOR=isConstructor(this),argumentsLength=arguments.length,mapfn=argumentsLength>1?arguments[1]:void 0,mapping=void 0!==mapfn;mapping&&(mapfn=bind(mapfn,argumentsLength>2?arguments[2]:void 0));var length,result,step,iterator,next,value,iteratorMethod=getIteratorMethod(O),index=0;if(!iteratorMethod||this==Array&&isArrayIteratorMethod(iteratorMethod))for(length=lengthOfArrayLike(O),result=IS_CONSTRUCTOR?new this(length):Array(length);length>index;index++)value=mapping?mapfn(O[index],index):O[index],createProperty(result,index,value);else for(next=(iterator=getIterator(O,iteratorMethod)).next,result=IS_CONSTRUCTOR?new this:[];!(step=call(next,iterator)).done;index++)value=mapping?callWithSafeIterationClosing(iterator,mapfn,[step.value,index],!0):step.value,createProperty(result,index,value);return result.length=index,result}},"./node_modules/core-js/internals/array-includes.js":function(module,exports,__webpack_require__){var toIndexedObject=__webpack_require__("./node_modules/core-js/internals/to-indexed-object.js"),toAbsoluteIndex=__webpack_require__("./node_modules/core-js/internals/to-absolute-index.js"),lengthOfArrayLike=__webpack_require__("./node_modules/core-js/internals/length-of-array-like.js"),createMethod=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIndexedObject($this),length=lengthOfArrayLike(O),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}};module.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},"./node_modules/core-js/internals/array-iteration.js":function(module,exports,__webpack_require__){var bind=__webpack_require__("./node_modules/core-js/internals/function-bind-context.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),IndexedObject=__webpack_require__("./node_modules/core-js/internals/indexed-object.js"),toObject=__webpack_require__("./node_modules/core-js/internals/to-object.js"),lengthOfArrayLike=__webpack_require__("./node_modules/core-js/internals/length-of-array-like.js"),arraySpeciesCreate=__webpack_require__("./node_modules/core-js/internals/array-species-create.js"),push=uncurryThis([].push),createMethod=function(TYPE){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,IS_FILTER_REJECT=7==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX;return function($this,callbackfn,that,specificCreate){for(var value,result,O=toObject($this),self=IndexedObject(O),boundFunction=bind(callbackfn,that),length=lengthOfArrayLike(self),index=0,create=specificCreate||arraySpeciesCreate,target=IS_MAP?create($this,length):IS_FILTER||IS_FILTER_REJECT?create($this,0):void 0;length>index;index++)if((NO_HOLES||index in self)&&(result=boundFunction(value=self[index],index,O),TYPE))if(IS_MAP)target[index]=result;else if(result)switch(TYPE){case 3:return!0;case 5:return value;case 6:return index;case 2:push(target,value)}else switch(TYPE){case 4:return!1;case 7:push(target,value)}return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:target}};module.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6),filterReject:createMethod(7)}},"./node_modules/core-js/internals/array-method-has-species-support.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),V8_VERSION=__webpack_require__("./node_modules/core-js/internals/engine-v8-version.js"),SPECIES=wellKnownSymbol("species");module.exports=function(METHOD_NAME){return V8_VERSION>=51||!fails((function(){var array=[];return(array.constructor={})[SPECIES]=function(){return{foo:1}},1!==array[METHOD_NAME](Boolean).foo}))}},"./node_modules/core-js/internals/array-method-is-strict.js":function(module,exports,__webpack_require__){"use strict";var fails=__webpack_require__("./node_modules/core-js/internals/fails.js");module.exports=function(METHOD_NAME,argument){var method=[][METHOD_NAME];return!!method&&fails((function(){method.call(null,argument||function(){return 1},1)}))}},"./node_modules/core-js/internals/array-slice-simple.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),toAbsoluteIndex=__webpack_require__("./node_modules/core-js/internals/to-absolute-index.js"),lengthOfArrayLike=__webpack_require__("./node_modules/core-js/internals/length-of-array-like.js"),createProperty=__webpack_require__("./node_modules/core-js/internals/create-property.js"),Array=global.Array,max=Math.max;module.exports=function(O,start,end){for(var length=lengthOfArrayLike(O),k=toAbsoluteIndex(start,length),fin=toAbsoluteIndex(void 0===end?length:end,length),result=Array(max(fin-k,0)),n=0;k<fin;k++,n++)createProperty(result,n,O[k]);return result.length=n,result}},"./node_modules/core-js/internals/array-slice.js":function(module,exports,__webpack_require__){var uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js");module.exports=uncurryThis([].slice)},"./node_modules/core-js/internals/array-sort.js":function(module,exports,__webpack_require__){var arraySlice=__webpack_require__("./node_modules/core-js/internals/array-slice-simple.js"),floor=Math.floor,mergeSort=function(array,comparefn){var length=array.length,middle=floor(length/2);return length<8?insertionSort(array,comparefn):merge(array,mergeSort(arraySlice(array,0,middle),comparefn),mergeSort(arraySlice(array,middle),comparefn),comparefn)},insertionSort=function(array,comparefn){for(var element,j,length=array.length,i=1;i<length;){for(j=i,element=array[i];j&&comparefn(array[j-1],element)>0;)array[j]=array[--j];j!==i++&&(array[j]=element)}return array},merge=function(array,left,right,comparefn){for(var llength=left.length,rlength=right.length,lindex=0,rindex=0;lindex<llength||rindex<rlength;)array[lindex+rindex]=lindex<llength&&rindex<rlength?comparefn(left[lindex],right[rindex])<=0?left[lindex++]:right[rindex++]:lindex<llength?left[lindex++]:right[rindex++];return array};module.exports=mergeSort},"./node_modules/core-js/internals/array-species-constructor.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),isArray=__webpack_require__("./node_modules/core-js/internals/is-array.js"),isConstructor=__webpack_require__("./node_modules/core-js/internals/is-constructor.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),SPECIES=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js")("species"),Array=global.Array;module.exports=function(originalArray){var C;return isArray(originalArray)&&(C=originalArray.constructor,(isConstructor(C)&&(C===Array||isArray(C.prototype))||isObject(C)&&null===(C=C[SPECIES]))&&(C=void 0)),void 0===C?Array:C}},"./node_modules/core-js/internals/array-species-create.js":function(module,exports,__webpack_require__){var arraySpeciesConstructor=__webpack_require__("./node_modules/core-js/internals/array-species-constructor.js");module.exports=function(originalArray,length){return new(arraySpeciesConstructor(originalArray))(0===length?0:length)}},"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":function(module,exports,__webpack_require__){var anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),iteratorClose=__webpack_require__("./node_modules/core-js/internals/iterator-close.js");module.exports=function(iterator,fn,value,ENTRIES){try{return ENTRIES?fn(anObject(value)[0],value[1]):fn(value)}catch(error){iteratorClose(iterator,"throw",error)}}},"./node_modules/core-js/internals/check-correctness-of-iteration.js":function(module,exports,__webpack_require__){var ITERATOR=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js")("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR]=function(){return this},Array.from(iteratorWithReturn,(function(){throw 2}))}catch(error){}module.exports=function(exec,SKIP_CLOSING){if(!SKIP_CLOSING&&!SAFE_CLOSING)return!1;var ITERATION_SUPPORT=!1;try{var object={};object[ITERATOR]=function(){return{next:function(){return{done:ITERATION_SUPPORT=!0}}}},exec(object)}catch(error){}return ITERATION_SUPPORT}},"./node_modules/core-js/internals/classof-raw.js":function(module,exports,__webpack_require__){var uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),toString=uncurryThis({}.toString),stringSlice=uncurryThis("".slice);module.exports=function(it){return stringSlice(toString(it),8,-1)}},"./node_modules/core-js/internals/classof.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),TO_STRING_TAG_SUPPORT=__webpack_require__("./node_modules/core-js/internals/to-string-tag-support.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),classofRaw=__webpack_require__("./node_modules/core-js/internals/classof-raw.js"),TO_STRING_TAG=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag"),Object=global.Object,CORRECT_ARGUMENTS="Arguments"==classofRaw(function(){return arguments}());module.exports=TO_STRING_TAG_SUPPORT?classofRaw:function(it){var O,tag,result;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(tag=function(it,key){try{return it[key]}catch(error){}}(O=Object(it),TO_STRING_TAG))?tag:CORRECT_ARGUMENTS?classofRaw(O):"Object"==(result=classofRaw(O))&&isCallable(O.callee)?"Arguments":result}},"./node_modules/core-js/internals/collection-strong.js":function(module,exports,__webpack_require__){"use strict";var defineProperty=__webpack_require__("./node_modules/core-js/internals/object-define-property.js").f,create=__webpack_require__("./node_modules/core-js/internals/object-create.js"),redefineAll=__webpack_require__("./node_modules/core-js/internals/redefine-all.js"),bind=__webpack_require__("./node_modules/core-js/internals/function-bind-context.js"),anInstance=__webpack_require__("./node_modules/core-js/internals/an-instance.js"),iterate=__webpack_require__("./node_modules/core-js/internals/iterate.js"),defineIterator=__webpack_require__("./node_modules/core-js/internals/define-iterator.js"),setSpecies=__webpack_require__("./node_modules/core-js/internals/set-species.js"),DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),fastKey=__webpack_require__("./node_modules/core-js/internals/internal-metadata.js").fastKey,InternalStateModule=__webpack_require__("./node_modules/core-js/internals/internal-state.js"),setInternalState=InternalStateModule.set,internalStateGetterFor=InternalStateModule.getterFor;module.exports={getConstructor:function(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER){var Constructor=wrapper((function(that,iterable){anInstance(that,Prototype),setInternalState(that,{type:CONSTRUCTOR_NAME,index:create(null),first:void 0,last:void 0,size:0}),DESCRIPTORS||(that.size=0),null!=iterable&&iterate(iterable,that[ADDER],{that:that,AS_ENTRIES:IS_MAP})})),Prototype=Constructor.prototype,getInternalState=internalStateGetterFor(CONSTRUCTOR_NAME),define=function(that,key,value){var previous,index,state=getInternalState(that),entry=getEntry(that,key);return entry?entry.value=value:(state.last=entry={index:index=fastKey(key,!0),key:key,value:value,previous:previous=state.last,next:void 0,removed:!1},state.first||(state.first=entry),previous&&(previous.next=entry),DESCRIPTORS?state.size++:that.size++,"F"!==index&&(state.index[index]=entry)),that},getEntry=function(that,key){var entry,state=getInternalState(that),index=fastKey(key);if("F"!==index)return state.index[index];for(entry=state.first;entry;entry=entry.next)if(entry.key==key)return entry};return redefineAll(Prototype,{clear:function clear(){for(var state=getInternalState(this),data=state.index,entry=state.first;entry;)entry.removed=!0,entry.previous&&(entry.previous=entry.previous.next=void 0),delete data[entry.index],entry=entry.next;state.first=state.last=void 0,DESCRIPTORS?state.size=0:this.size=0},delete:function(key){var state=getInternalState(this),entry=getEntry(this,key);if(entry){var next=entry.next,prev=entry.previous;delete state.index[entry.index],entry.removed=!0,prev&&(prev.next=next),next&&(next.previous=prev),state.first==entry&&(state.first=next),state.last==entry&&(state.last=prev),DESCRIPTORS?state.size--:this.size--}return!!entry},forEach:function forEach(callbackfn){for(var entry,state=getInternalState(this),boundFunction=bind(callbackfn,arguments.length>1?arguments[1]:void 0);entry=entry?entry.next:state.first;)for(boundFunction(entry.value,entry.key,this);entry&&entry.removed;)entry=entry.previous},has:function has(key){return!!getEntry(this,key)}}),redefineAll(Prototype,IS_MAP?{get:function get(key){var entry=getEntry(this,key);return entry&&entry.value},set:function set(key,value){return define(this,0===key?0:key,value)}}:{add:function add(value){return define(this,value=0===value?0:value,value)}}),DESCRIPTORS&&defineProperty(Prototype,"size",{get:function(){return getInternalState(this).size}}),Constructor},setStrong:function(Constructor,CONSTRUCTOR_NAME,IS_MAP){var ITERATOR_NAME=CONSTRUCTOR_NAME+" Iterator",getInternalCollectionState=internalStateGetterFor(CONSTRUCTOR_NAME),getInternalIteratorState=internalStateGetterFor(ITERATOR_NAME);defineIterator(Constructor,CONSTRUCTOR_NAME,(function(iterated,kind){setInternalState(this,{type:ITERATOR_NAME,target:iterated,state:getInternalCollectionState(iterated),kind:kind,last:void 0})}),(function(){for(var state=getInternalIteratorState(this),kind=state.kind,entry=state.last;entry&&entry.removed;)entry=entry.previous;return state.target&&(state.last=entry=entry?entry.next:state.state.first)?"keys"==kind?{value:entry.key,done:!1}:"values"==kind?{value:entry.value,done:!1}:{value:[entry.key,entry.value],done:!1}:(state.target=void 0,{value:void 0,done:!0})}),IS_MAP?"entries":"values",!IS_MAP,!0),setSpecies(CONSTRUCTOR_NAME)}}},"./node_modules/core-js/internals/collection-weak.js":function(module,exports,__webpack_require__){"use strict";var uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),redefineAll=__webpack_require__("./node_modules/core-js/internals/redefine-all.js"),getWeakData=__webpack_require__("./node_modules/core-js/internals/internal-metadata.js").getWeakData,anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),anInstance=__webpack_require__("./node_modules/core-js/internals/an-instance.js"),iterate=__webpack_require__("./node_modules/core-js/internals/iterate.js"),ArrayIterationModule=__webpack_require__("./node_modules/core-js/internals/array-iteration.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),InternalStateModule=__webpack_require__("./node_modules/core-js/internals/internal-state.js"),setInternalState=InternalStateModule.set,internalStateGetterFor=InternalStateModule.getterFor,find=ArrayIterationModule.find,findIndex=ArrayIterationModule.findIndex,splice=uncurryThis([].splice),id=0,uncaughtFrozenStore=function(store){return store.frozen||(store.frozen=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.entries=[]},findUncaughtFrozen=function(store,key){return find(store.entries,(function(it){return it[0]===key}))};UncaughtFrozenStore.prototype={get:function(key){var entry=findUncaughtFrozen(this,key);if(entry)return entry[1]},has:function(key){return!!findUncaughtFrozen(this,key)},set:function(key,value){var entry=findUncaughtFrozen(this,key);entry?entry[1]=value:this.entries.push([key,value])},delete:function(key){var index=findIndex(this.entries,(function(it){return it[0]===key}));return~index&&splice(this.entries,index,1),!!~index}},module.exports={getConstructor:function(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER){var Constructor=wrapper((function(that,iterable){anInstance(that,Prototype),setInternalState(that,{type:CONSTRUCTOR_NAME,id:id++,frozen:void 0}),null!=iterable&&iterate(iterable,that[ADDER],{that:that,AS_ENTRIES:IS_MAP})})),Prototype=Constructor.prototype,getInternalState=internalStateGetterFor(CONSTRUCTOR_NAME),define=function(that,key,value){var state=getInternalState(that),data=getWeakData(anObject(key),!0);return!0===data?uncaughtFrozenStore(state).set(key,value):data[state.id]=value,that};return redefineAll(Prototype,{delete:function(key){var state=getInternalState(this);if(!isObject(key))return!1;var data=getWeakData(key);return!0===data?uncaughtFrozenStore(state).delete(key):data&&hasOwn(data,state.id)&&delete data[state.id]},has:function has(key){var state=getInternalState(this);if(!isObject(key))return!1;var data=getWeakData(key);return!0===data?uncaughtFrozenStore(state).has(key):data&&hasOwn(data,state.id)}}),redefineAll(Prototype,IS_MAP?{get:function get(key){var state=getInternalState(this);if(isObject(key)){var data=getWeakData(key);return!0===data?uncaughtFrozenStore(state).get(key):data?data[state.id]:void 0}},set:function set(key,value){return define(this,key,value)}}:{add:function add(value){return define(this,value,!0)}}),Constructor}}},"./node_modules/core-js/internals/collection.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),global=__webpack_require__("./node_modules/core-js/internals/global.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),isForced=__webpack_require__("./node_modules/core-js/internals/is-forced.js"),redefine=__webpack_require__("./node_modules/core-js/internals/redefine.js"),InternalMetadataModule=__webpack_require__("./node_modules/core-js/internals/internal-metadata.js"),iterate=__webpack_require__("./node_modules/core-js/internals/iterate.js"),anInstance=__webpack_require__("./node_modules/core-js/internals/an-instance.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),checkCorrectnessOfIteration=__webpack_require__("./node_modules/core-js/internals/check-correctness-of-iteration.js"),setToStringTag=__webpack_require__("./node_modules/core-js/internals/set-to-string-tag.js"),inheritIfRequired=__webpack_require__("./node_modules/core-js/internals/inherit-if-required.js");module.exports=function(CONSTRUCTOR_NAME,wrapper,common){var IS_MAP=-1!==CONSTRUCTOR_NAME.indexOf("Map"),IS_WEAK=-1!==CONSTRUCTOR_NAME.indexOf("Weak"),ADDER=IS_MAP?"set":"add",NativeConstructor=global[CONSTRUCTOR_NAME],NativePrototype=NativeConstructor&&NativeConstructor.prototype,Constructor=NativeConstructor,exported={},fixMethod=function(KEY){var uncurriedNativeMethod=uncurryThis(NativePrototype[KEY]);redefine(NativePrototype,KEY,"add"==KEY?function add(value){return uncurriedNativeMethod(this,0===value?0:value),this}:"delete"==KEY?function(key){return!(IS_WEAK&&!isObject(key))&&uncurriedNativeMethod(this,0===key?0:key)}:"get"==KEY?function get(key){return IS_WEAK&&!isObject(key)?void 0:uncurriedNativeMethod(this,0===key?0:key)}:"has"==KEY?function has(key){return!(IS_WEAK&&!isObject(key))&&uncurriedNativeMethod(this,0===key?0:key)}:function set(key,value){return uncurriedNativeMethod(this,0===key?0:key,value),this})};if(isForced(CONSTRUCTOR_NAME,!isCallable(NativeConstructor)||!(IS_WEAK||NativePrototype.forEach&&!fails((function(){(new NativeConstructor).entries().next()})))))Constructor=common.getConstructor(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER),InternalMetadataModule.enable();else if(isForced(CONSTRUCTOR_NAME,!0)){var instance=new Constructor,HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!=instance,THROWS_ON_PRIMITIVES=fails((function(){instance.has(1)})),ACCEPT_ITERABLES=checkCorrectnessOfIteration((function(iterable){new NativeConstructor(iterable)})),BUGGY_ZERO=!IS_WEAK&&fails((function(){for(var $instance=new NativeConstructor,index=5;index--;)$instance[ADDER](index,index);return!$instance.has(-0)}));ACCEPT_ITERABLES||((Constructor=wrapper((function(dummy,iterable){anInstance(dummy,NativePrototype);var that=inheritIfRequired(new NativeConstructor,dummy,Constructor);return null!=iterable&&iterate(iterable,that[ADDER],{that:that,AS_ENTRIES:IS_MAP}),that}))).prototype=NativePrototype,NativePrototype.constructor=Constructor),(THROWS_ON_PRIMITIVES||BUGGY_ZERO)&&(fixMethod("delete"),fixMethod("has"),IS_MAP&&fixMethod("get")),(BUGGY_ZERO||HASNT_CHAINING)&&fixMethod(ADDER),IS_WEAK&&NativePrototype.clear&&delete NativePrototype.clear}return exported[CONSTRUCTOR_NAME]=Constructor,$({global:!0,forced:Constructor!=NativeConstructor},exported),setToStringTag(Constructor,CONSTRUCTOR_NAME),IS_WEAK||common.setStrong(Constructor,CONSTRUCTOR_NAME,IS_MAP),Constructor}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(module,exports,__webpack_require__){var hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),ownKeys=__webpack_require__("./node_modules/core-js/internals/own-keys.js"),getOwnPropertyDescriptorModule=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),definePropertyModule=__webpack_require__("./node_modules/core-js/internals/object-define-property.js");module.exports=function(target,source,exceptions){for(var keys=ownKeys(source),defineProperty=definePropertyModule.f,getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,i=0;i<keys.length;i++){var key=keys[i];hasOwn(target,key)||exceptions&&hasOwn(exceptions,key)||defineProperty(target,key,getOwnPropertyDescriptor(source,key))}}},"./node_modules/core-js/internals/correct-is-regexp-logic.js":function(module,exports,__webpack_require__){var MATCH=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js")("match");module.exports=function(METHOD_NAME){var regexp=/./;try{"/./"[METHOD_NAME](regexp)}catch(error1){try{return regexp[MATCH]=!1,"/./"[METHOD_NAME](regexp)}catch(error2){}}return!1}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("./node_modules/core-js/internals/fails.js");module.exports=!fails((function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype}))},"./node_modules/core-js/internals/create-iterator-constructor.js":function(module,exports,__webpack_require__){"use strict";var IteratorPrototype=__webpack_require__("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,create=__webpack_require__("./node_modules/core-js/internals/object-create.js"),createPropertyDescriptor=__webpack_require__("./node_modules/core-js/internals/create-property-descriptor.js"),setToStringTag=__webpack_require__("./node_modules/core-js/internals/set-to-string-tag.js"),Iterators=__webpack_require__("./node_modules/core-js/internals/iterators.js"),returnThis=function(){return this};module.exports=function(IteratorConstructor,NAME,next,ENUMERABLE_NEXT){var TO_STRING_TAG=NAME+" Iterator";return IteratorConstructor.prototype=create(IteratorPrototype,{next:createPropertyDescriptor(+!ENUMERABLE_NEXT,next)}),setToStringTag(IteratorConstructor,TO_STRING_TAG,!1,!0),Iterators[TO_STRING_TAG]=returnThis,IteratorConstructor}},"./node_modules/core-js/internals/create-non-enumerable-property.js":function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),definePropertyModule=__webpack_require__("./node_modules/core-js/internals/object-define-property.js"),createPropertyDescriptor=__webpack_require__("./node_modules/core-js/internals/create-property-descriptor.js");module.exports=DESCRIPTORS?function(object,key,value){return definePropertyModule.f(object,key,createPropertyDescriptor(1,value))}:function(object,key,value){return object[key]=value,object}},"./node_modules/core-js/internals/create-property-descriptor.js":function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},"./node_modules/core-js/internals/create-property.js":function(module,exports,__webpack_require__){"use strict";var toPropertyKey=__webpack_require__("./node_modules/core-js/internals/to-property-key.js"),definePropertyModule=__webpack_require__("./node_modules/core-js/internals/object-define-property.js"),createPropertyDescriptor=__webpack_require__("./node_modules/core-js/internals/create-property-descriptor.js");module.exports=function(object,key,value){var propertyKey=toPropertyKey(key);propertyKey in object?definePropertyModule.f(object,propertyKey,createPropertyDescriptor(0,value)):object[propertyKey]=value}},"./node_modules/core-js/internals/define-iterator.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),IS_PURE=__webpack_require__("./node_modules/core-js/internals/is-pure.js"),FunctionName=__webpack_require__("./node_modules/core-js/internals/function-name.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),createIteratorConstructor=__webpack_require__("./node_modules/core-js/internals/create-iterator-constructor.js"),getPrototypeOf=__webpack_require__("./node_modules/core-js/internals/object-get-prototype-of.js"),setPrototypeOf=__webpack_require__("./node_modules/core-js/internals/object-set-prototype-of.js"),setToStringTag=__webpack_require__("./node_modules/core-js/internals/set-to-string-tag.js"),createNonEnumerableProperty=__webpack_require__("./node_modules/core-js/internals/create-non-enumerable-property.js"),redefine=__webpack_require__("./node_modules/core-js/internals/redefine.js"),wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),Iterators=__webpack_require__("./node_modules/core-js/internals/iterators.js"),IteratorsCore=__webpack_require__("./node_modules/core-js/internals/iterators-core.js"),PROPER_FUNCTION_NAME=FunctionName.PROPER,CONFIGURABLE_FUNCTION_NAME=FunctionName.CONFIGURABLE,IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR=wellKnownSymbol("iterator"),returnThis=function(){return this};module.exports=function(Iterable,NAME,IteratorConstructor,next,DEFAULT,IS_SET,FORCED){createIteratorConstructor(IteratorConstructor,NAME,next);var CurrentIteratorPrototype,methods,KEY,getIterationMethod=function(KIND){if(KIND===DEFAULT&&defaultIterator)return defaultIterator;if(!BUGGY_SAFARI_ITERATORS&&KIND in IterablePrototype)return IterablePrototype[KIND];switch(KIND){case"keys":return function keys(){return new IteratorConstructor(this,KIND)};case"values":return function values(){return new IteratorConstructor(this,KIND)};case"entries":return function entries(){return new IteratorConstructor(this,KIND)}}return function(){return new IteratorConstructor(this)}},TO_STRING_TAG=NAME+" Iterator",INCORRECT_VALUES_NAME=!1,IterablePrototype=Iterable.prototype,nativeIterator=IterablePrototype[ITERATOR]||IterablePrototype["@@iterator"]||DEFAULT&&IterablePrototype[DEFAULT],defaultIterator=!BUGGY_SAFARI_ITERATORS&&nativeIterator||getIterationMethod(DEFAULT),anyNativeIterator="Array"==NAME&&IterablePrototype.entries||nativeIterator;if(anyNativeIterator&&(CurrentIteratorPrototype=getPrototypeOf(anyNativeIterator.call(new Iterable)))!==Object.prototype&&CurrentIteratorPrototype.next&&(IS_PURE||getPrototypeOf(CurrentIteratorPrototype)===IteratorPrototype||(setPrototypeOf?setPrototypeOf(CurrentIteratorPrototype,IteratorPrototype):isCallable(CurrentIteratorPrototype[ITERATOR])||redefine(CurrentIteratorPrototype,ITERATOR,returnThis)),setToStringTag(CurrentIteratorPrototype,TO_STRING_TAG,!0,!0),IS_PURE&&(Iterators[TO_STRING_TAG]=returnThis)),PROPER_FUNCTION_NAME&&"values"==DEFAULT&&nativeIterator&&"values"!==nativeIterator.name&&(!IS_PURE&&CONFIGURABLE_FUNCTION_NAME?createNonEnumerableProperty(IterablePrototype,"name","values"):(INCORRECT_VALUES_NAME=!0,defaultIterator=function values(){return call(nativeIterator,this)})),DEFAULT)if(methods={values:getIterationMethod("values"),keys:IS_SET?defaultIterator:getIterationMethod("keys"),entries:getIterationMethod("entries")},FORCED)for(KEY in methods)(BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME||!(KEY in IterablePrototype))&&redefine(IterablePrototype,KEY,methods[KEY]);else $({target:NAME,proto:!0,forced:BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME},methods);return IS_PURE&&!FORCED||IterablePrototype[ITERATOR]===defaultIterator||redefine(IterablePrototype,ITERATOR,defaultIterator,{name:DEFAULT}),Iterators[NAME]=defaultIterator,methods}},"./node_modules/core-js/internals/define-well-known-symbol.js":function(module,exports,__webpack_require__){var path=__webpack_require__("./node_modules/core-js/internals/path.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),wrappedWellKnownSymbolModule=__webpack_require__("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),defineProperty=__webpack_require__("./node_modules/core-js/internals/object-define-property.js").f;module.exports=function(NAME){var Symbol=path.Symbol||(path.Symbol={});hasOwn(Symbol,NAME)||defineProperty(Symbol,NAME,{value:wrappedWellKnownSymbolModule.f(NAME)})}},"./node_modules/core-js/internals/descriptors.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("./node_modules/core-js/internals/fails.js");module.exports=!fails((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"./node_modules/core-js/internals/document-create-element.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),document=global.document,EXISTS=isObject(document)&&isObject(document.createElement);module.exports=function(it){return EXISTS?document.createElement(it):{}}},"./node_modules/core-js/internals/dom-iterables.js":function(module,exports){module.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/dom-token-list-prototype.js":function(module,exports,__webpack_require__){var classList=__webpack_require__("./node_modules/core-js/internals/document-create-element.js")("span").classList,DOMTokenListPrototype=classList&&classList.constructor&&classList.constructor.prototype;module.exports=DOMTokenListPrototype===Object.prototype?void 0:DOMTokenListPrototype},"./node_modules/core-js/internals/engine-is-browser.js":function(module,exports){module.exports="object"==typeof window&&"object"!=typeof Deno},"./node_modules/core-js/internals/engine-is-ios-pebble.js":function(module,exports,__webpack_require__){var userAgent=__webpack_require__("./node_modules/core-js/internals/engine-user-agent.js"),global=__webpack_require__("./node_modules/core-js/internals/global.js");module.exports=/ipad|iphone|ipod/i.test(userAgent)&&void 0!==global.Pebble},"./node_modules/core-js/internals/engine-is-ios.js":function(module,exports,__webpack_require__){var userAgent=__webpack_require__("./node_modules/core-js/internals/engine-user-agent.js");module.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent)},"./node_modules/core-js/internals/engine-is-node.js":function(module,exports,__webpack_require__){var classof=__webpack_require__("./node_modules/core-js/internals/classof-raw.js"),global=__webpack_require__("./node_modules/core-js/internals/global.js");module.exports="process"==classof(global.process)},"./node_modules/core-js/internals/engine-is-webos-webkit.js":function(module,exports,__webpack_require__){var userAgent=__webpack_require__("./node_modules/core-js/internals/engine-user-agent.js");module.exports=/web0s(?!.*chrome)/i.test(userAgent)},"./node_modules/core-js/internals/engine-user-agent.js":function(module,exports,__webpack_require__){var getBuiltIn=__webpack_require__("./node_modules/core-js/internals/get-built-in.js");module.exports=getBuiltIn("navigator","userAgent")||""},"./node_modules/core-js/internals/engine-v8-version.js":function(module,exports,__webpack_require__){var match,version,global=__webpack_require__("./node_modules/core-js/internals/global.js"),userAgent=__webpack_require__("./node_modules/core-js/internals/engine-user-agent.js"),process=global.process,Deno=global.Deno,versions=process&&process.versions||Deno&&Deno.version,v8=versions&&versions.v8;v8&&(version=(match=v8.split("."))[0]>0&&match[0]<4?1:+(match[0]+match[1])),!version&&userAgent&&(!(match=userAgent.match(/Edge\/(\d+)/))||match[1]>=74)&&(match=userAgent.match(/Chrome\/(\d+)/))&&(version=+match[1]),module.exports=version},"./node_modules/core-js/internals/enum-bug-keys.js":function(module,exports){module.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),getOwnPropertyDescriptor=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,createNonEnumerableProperty=__webpack_require__("./node_modules/core-js/internals/create-non-enumerable-property.js"),redefine=__webpack_require__("./node_modules/core-js/internals/redefine.js"),setGlobal=__webpack_require__("./node_modules/core-js/internals/set-global.js"),copyConstructorProperties=__webpack_require__("./node_modules/core-js/internals/copy-constructor-properties.js"),isForced=__webpack_require__("./node_modules/core-js/internals/is-forced.js");module.exports=function(options,source){var target,key,targetProperty,sourceProperty,descriptor,TARGET=options.target,GLOBAL=options.global,STATIC=options.stat;if(target=GLOBAL?global:STATIC?global[TARGET]||setGlobal(TARGET,{}):(global[TARGET]||{}).prototype)for(key in source){if(sourceProperty=source[key],targetProperty=options.noTargetGet?(descriptor=getOwnPropertyDescriptor(target,key))&&descriptor.value:target[key],!isForced(GLOBAL?key:TARGET+(STATIC?".":"#")+key,options.forced)&&void 0!==targetProperty){if(typeof sourceProperty==typeof targetProperty)continue;copyConstructorProperties(sourceProperty,targetProperty)}(options.sham||targetProperty&&targetProperty.sham)&&createNonEnumerableProperty(sourceProperty,"sham",!0),redefine(target,key,sourceProperty,options)}}},"./node_modules/core-js/internals/fails.js":function(module,exports){module.exports=function(exec){try{return!!exec()}catch(error){return!0}}},"./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js");var uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),redefine=__webpack_require__("./node_modules/core-js/internals/redefine.js"),regexpExec=__webpack_require__("./node_modules/core-js/internals/regexp-exec.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),createNonEnumerableProperty=__webpack_require__("./node_modules/core-js/internals/create-non-enumerable-property.js"),SPECIES=wellKnownSymbol("species"),RegExpPrototype=RegExp.prototype;module.exports=function(KEY,exec,FORCED,SHAM){var SYMBOL=wellKnownSymbol(KEY),DELEGATES_TO_SYMBOL=!fails((function(){var O={};return O[SYMBOL]=function(){return 7},7!=""[KEY](O)})),DELEGATES_TO_EXEC=DELEGATES_TO_SYMBOL&&!fails((function(){var execCalled=!1,re=/a/;return"split"===KEY&&((re={}).constructor={},re.constructor[SPECIES]=function(){return re},re.flags="",re[SYMBOL]=/./[SYMBOL]),re.exec=function(){return execCalled=!0,null},re[SYMBOL](""),!execCalled}));if(!DELEGATES_TO_SYMBOL||!DELEGATES_TO_EXEC||FORCED){var uncurriedNativeRegExpMethod=uncurryThis(/./[SYMBOL]),methods=exec(SYMBOL,""[KEY],(function(nativeMethod,regexp,str,arg2,forceStringMethod){var uncurriedNativeMethod=uncurryThis(nativeMethod),$exec=regexp.exec;return $exec===regexpExec||$exec===RegExpPrototype.exec?DELEGATES_TO_SYMBOL&&!forceStringMethod?{done:!0,value:uncurriedNativeRegExpMethod(regexp,str,arg2)}:{done:!0,value:uncurriedNativeMethod(str,regexp,arg2)}:{done:!1}}));redefine(String.prototype,KEY,methods[0]),redefine(RegExpPrototype,SYMBOL,methods[1])}SHAM&&createNonEnumerableProperty(RegExpPrototype[SYMBOL],"sham",!0)}},"./node_modules/core-js/internals/freezing.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("./node_modules/core-js/internals/fails.js");module.exports=!fails((function(){return Object.isExtensible(Object.preventExtensions({}))}))},"./node_modules/core-js/internals/function-apply.js":function(module,exports,__webpack_require__){var NATIVE_BIND=__webpack_require__("./node_modules/core-js/internals/function-bind-native.js"),FunctionPrototype=Function.prototype,apply=FunctionPrototype.apply,call=FunctionPrototype.call;module.exports="object"==typeof Reflect&&Reflect.apply||(NATIVE_BIND?call.bind(apply):function(){return call.apply(apply,arguments)})},"./node_modules/core-js/internals/function-bind-context.js":function(module,exports,__webpack_require__){var uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),aCallable=__webpack_require__("./node_modules/core-js/internals/a-callable.js"),NATIVE_BIND=__webpack_require__("./node_modules/core-js/internals/function-bind-native.js"),bind=uncurryThis(uncurryThis.bind);module.exports=function(fn,that){return aCallable(fn),void 0===that?fn:NATIVE_BIND?bind(fn,that):function(){return fn.apply(that,arguments)}}},"./node_modules/core-js/internals/function-bind-native.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("./node_modules/core-js/internals/fails.js");module.exports=!fails((function(){var test=function(){}.bind();return"function"!=typeof test||test.hasOwnProperty("prototype")}))},"./node_modules/core-js/internals/function-bind.js":function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__("./node_modules/core-js/internals/global.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),aCallable=__webpack_require__("./node_modules/core-js/internals/a-callable.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),arraySlice=__webpack_require__("./node_modules/core-js/internals/array-slice.js"),NATIVE_BIND=__webpack_require__("./node_modules/core-js/internals/function-bind-native.js"),Function=global.Function,concat=uncurryThis([].concat),join=uncurryThis([].join),factories={},construct=function(C,argsLength,args){if(!hasOwn(factories,argsLength)){for(var list=[],i=0;i<argsLength;i++)list[i]="a["+i+"]";factories[argsLength]=Function("C,a","return new C("+join(list,",")+")")}return factories[argsLength](C,args)};module.exports=NATIVE_BIND?Function.bind:function bind(that){var F=aCallable(this),Prototype=F.prototype,partArgs=arraySlice(arguments,1),boundFunction=function bound(){var args=concat(partArgs,arraySlice(arguments));return this instanceof boundFunction?construct(F,args.length,args):F.apply(that,args)};return isObject(Prototype)&&(boundFunction.prototype=Prototype),boundFunction}},"./node_modules/core-js/internals/function-call.js":function(module,exports,__webpack_require__){var NATIVE_BIND=__webpack_require__("./node_modules/core-js/internals/function-bind-native.js"),call=Function.prototype.call;module.exports=NATIVE_BIND?call.bind(call):function(){return call.apply(call,arguments)}},"./node_modules/core-js/internals/function-name.js":function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),FunctionPrototype=Function.prototype,getDescriptor=DESCRIPTORS&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn(FunctionPrototype,"name"),PROPER=EXISTS&&"something"===function something(){}.name,CONFIGURABLE=EXISTS&&(!DESCRIPTORS||DESCRIPTORS&&getDescriptor(FunctionPrototype,"name").configurable);module.exports={EXISTS:EXISTS,PROPER:PROPER,CONFIGURABLE:CONFIGURABLE}},"./node_modules/core-js/internals/function-uncurry-this.js":function(module,exports,__webpack_require__){var NATIVE_BIND=__webpack_require__("./node_modules/core-js/internals/function-bind-native.js"),FunctionPrototype=Function.prototype,bind=FunctionPrototype.bind,call=FunctionPrototype.call,uncurryThis=NATIVE_BIND&&bind.bind(call,call);module.exports=NATIVE_BIND?function(fn){return fn&&uncurryThis(fn)}:function(fn){return fn&&function(){return call.apply(fn,arguments)}}},"./node_modules/core-js/internals/get-built-in.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),aFunction=function(argument){return isCallable(argument)?argument:void 0};module.exports=function(namespace,method){return arguments.length<2?aFunction(global[namespace]):global[namespace]&&global[namespace][method]}},"./node_modules/core-js/internals/get-iterator-method.js":function(module,exports,__webpack_require__){var classof=__webpack_require__("./node_modules/core-js/internals/classof.js"),getMethod=__webpack_require__("./node_modules/core-js/internals/get-method.js"),Iterators=__webpack_require__("./node_modules/core-js/internals/iterators.js"),ITERATOR=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js")("iterator");module.exports=function(it){if(null!=it)return getMethod(it,ITERATOR)||getMethod(it,"@@iterator")||Iterators[classof(it)]}},"./node_modules/core-js/internals/get-iterator.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),aCallable=__webpack_require__("./node_modules/core-js/internals/a-callable.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),tryToString=__webpack_require__("./node_modules/core-js/internals/try-to-string.js"),getIteratorMethod=__webpack_require__("./node_modules/core-js/internals/get-iterator-method.js"),TypeError=global.TypeError;module.exports=function(argument,usingIterator){var iteratorMethod=arguments.length<2?getIteratorMethod(argument):usingIterator;if(aCallable(iteratorMethod))return anObject(call(iteratorMethod,argument));throw TypeError(tryToString(argument)+" is not iterable")}},"./node_modules/core-js/internals/get-method.js":function(module,exports,__webpack_require__){var aCallable=__webpack_require__("./node_modules/core-js/internals/a-callable.js");module.exports=function(V,P){var func=V[P];return null==func?void 0:aCallable(func)}},"./node_modules/core-js/internals/get-substitution.js":function(module,exports,__webpack_require__){var uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),toObject=__webpack_require__("./node_modules/core-js/internals/to-object.js"),floor=Math.floor,charAt=uncurryThis("".charAt),replace=uncurryThis("".replace),stringSlice=uncurryThis("".slice),SUBSTITUTION_SYMBOLS=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&'`]|\d{1,2})/g;module.exports=function(matched,str,position,captures,namedCaptures,replacement){var tailPos=position+matched.length,m=captures.length,symbols=SUBSTITUTION_SYMBOLS_NO_NAMED;return void 0!==namedCaptures&&(namedCaptures=toObject(namedCaptures),symbols=SUBSTITUTION_SYMBOLS),replace(replacement,symbols,(function(match,ch){var capture;switch(charAt(ch,0)){case"$":return"$";case"&":return matched;case"`":return stringSlice(str,0,position);case"'":return stringSlice(str,tailPos);case"<":capture=namedCaptures[stringSlice(ch,1,-1)];break;default:var n=+ch;if(0===n)return match;if(n>m){var f=floor(n/10);return 0===f?match:f<=m?void 0===captures[f-1]?charAt(ch,1):captures[f-1]+charAt(ch,1):match}capture=captures[n-1]}return void 0===capture?"":capture}))}},"./node_modules/core-js/internals/global.js":function(module,exports,__webpack_require__){(function(global){var check=function(it){return it&&it.Math==Math&&it};module.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof global&&global)||function(){return this}()||Function("return this")()}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"))},"./node_modules/core-js/internals/has-own-property.js":function(module,exports,__webpack_require__){var uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),toObject=__webpack_require__("./node_modules/core-js/internals/to-object.js"),hasOwnProperty=uncurryThis({}.hasOwnProperty);module.exports=Object.hasOwn||function hasOwn(it,key){return hasOwnProperty(toObject(it),key)}},"./node_modules/core-js/internals/hidden-keys.js":function(module,exports){module.exports={}},"./node_modules/core-js/internals/host-report-errors.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js");module.exports=function(a,b){var console=global.console;console&&console.error&&(1==arguments.length?console.error(a):console.error(a,b))}},"./node_modules/core-js/internals/html.js":function(module,exports,__webpack_require__){var getBuiltIn=__webpack_require__("./node_modules/core-js/internals/get-built-in.js");module.exports=getBuiltIn("document","documentElement")},"./node_modules/core-js/internals/ie8-dom-define.js":function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),createElement=__webpack_require__("./node_modules/core-js/internals/document-create-element.js");module.exports=!DESCRIPTORS&&!fails((function(){return 7!=Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a}))},"./node_modules/core-js/internals/indexed-object.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),classof=__webpack_require__("./node_modules/core-js/internals/classof-raw.js"),Object=global.Object,split=uncurryThis("".split);module.exports=fails((function(){return!Object("z").propertyIsEnumerable(0)}))?function(it){return"String"==classof(it)?split(it,""):Object(it)}:Object},"./node_modules/core-js/internals/inherit-if-required.js":function(module,exports,__webpack_require__){var isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),setPrototypeOf=__webpack_require__("./node_modules/core-js/internals/object-set-prototype-of.js");module.exports=function($this,dummy,Wrapper){var NewTarget,NewTargetPrototype;return setPrototypeOf&&isCallable(NewTarget=dummy.constructor)&&NewTarget!==Wrapper&&isObject(NewTargetPrototype=NewTarget.prototype)&&NewTargetPrototype!==Wrapper.prototype&&setPrototypeOf($this,NewTargetPrototype),$this}},"./node_modules/core-js/internals/inspect-source.js":function(module,exports,__webpack_require__){var uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),store=__webpack_require__("./node_modules/core-js/internals/shared-store.js"),functionToString=uncurryThis(Function.toString);isCallable(store.inspectSource)||(store.inspectSource=function(it){return functionToString(it)}),module.exports=store.inspectSource},"./node_modules/core-js/internals/internal-metadata.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),hiddenKeys=__webpack_require__("./node_modules/core-js/internals/hidden-keys.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),defineProperty=__webpack_require__("./node_modules/core-js/internals/object-define-property.js").f,getOwnPropertyNamesModule=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-names.js"),getOwnPropertyNamesExternalModule=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-names-external.js"),isExtensible=__webpack_require__("./node_modules/core-js/internals/object-is-extensible.js"),uid=__webpack_require__("./node_modules/core-js/internals/uid.js"),FREEZING=__webpack_require__("./node_modules/core-js/internals/freezing.js"),REQUIRED=!1,METADATA=uid("meta"),id=0,setMetadata=function(it){defineProperty(it,METADATA,{value:{objectID:"O"+id++,weakData:{}}})},meta=module.exports={enable:function(){meta.enable=function(){},REQUIRED=!0;var getOwnPropertyNames=getOwnPropertyNamesModule.f,splice=uncurryThis([].splice),test={};test[METADATA]=1,getOwnPropertyNames(test).length&&(getOwnPropertyNamesModule.f=function(it){for(var result=getOwnPropertyNames(it),i=0,length=result.length;i<length;i++)if(result[i]===METADATA){splice(result,i,1);break}return result},$({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:getOwnPropertyNamesExternalModule.f}))},fastKey:function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!hasOwn(it,METADATA)){if(!isExtensible(it))return"F";if(!create)return"E";setMetadata(it)}return it[METADATA].objectID},getWeakData:function(it,create){if(!hasOwn(it,METADATA)){if(!isExtensible(it))return!0;if(!create)return!1;setMetadata(it)}return it[METADATA].weakData},onFreeze:function(it){return FREEZING&&REQUIRED&&isExtensible(it)&&!hasOwn(it,METADATA)&&setMetadata(it),it}};hiddenKeys[METADATA]=!0},"./node_modules/core-js/internals/internal-state.js":function(module,exports,__webpack_require__){var set,get,has,NATIVE_WEAK_MAP=__webpack_require__("./node_modules/core-js/internals/native-weak-map.js"),global=__webpack_require__("./node_modules/core-js/internals/global.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),createNonEnumerableProperty=__webpack_require__("./node_modules/core-js/internals/create-non-enumerable-property.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),shared=__webpack_require__("./node_modules/core-js/internals/shared-store.js"),sharedKey=__webpack_require__("./node_modules/core-js/internals/shared-key.js"),hiddenKeys=__webpack_require__("./node_modules/core-js/internals/hidden-keys.js"),TypeError=global.TypeError,WeakMap=global.WeakMap;if(NATIVE_WEAK_MAP||shared.state){var store=shared.state||(shared.state=new WeakMap),wmget=uncurryThis(store.get),wmhas=uncurryThis(store.has),wmset=uncurryThis(store.set);set=function(it,metadata){if(wmhas(store,it))throw new TypeError("Object already initialized");return metadata.facade=it,wmset(store,it,metadata),metadata},get=function(it){return wmget(store,it)||{}},has=function(it){return wmhas(store,it)}}else{var STATE=sharedKey("state");hiddenKeys[STATE]=!0,set=function(it,metadata){if(hasOwn(it,STATE))throw new TypeError("Object already initialized");return metadata.facade=it,createNonEnumerableProperty(it,STATE,metadata),metadata},get=function(it){return hasOwn(it,STATE)?it[STATE]:{}},has=function(it){return hasOwn(it,STATE)}}module.exports={set:set,get:get,has:has,enforce:function(it){return has(it)?get(it):set(it,{})},getterFor:function(TYPE){return function(it){var state;if(!isObject(it)||(state=get(it)).type!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required");return state}}}},"./node_modules/core-js/internals/is-array-iterator-method.js":function(module,exports,__webpack_require__){var wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),Iterators=__webpack_require__("./node_modules/core-js/internals/iterators.js"),ITERATOR=wellKnownSymbol("iterator"),ArrayPrototype=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayPrototype[ITERATOR]===it)}},"./node_modules/core-js/internals/is-array.js":function(module,exports,__webpack_require__){var classof=__webpack_require__("./node_modules/core-js/internals/classof-raw.js");module.exports=Array.isArray||function isArray(argument){return"Array"==classof(argument)}},"./node_modules/core-js/internals/is-callable.js":function(module,exports){module.exports=function(argument){return"function"==typeof argument}},"./node_modules/core-js/internals/is-constructor.js":function(module,exports,__webpack_require__){var uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),classof=__webpack_require__("./node_modules/core-js/internals/classof.js"),getBuiltIn=__webpack_require__("./node_modules/core-js/internals/get-built-in.js"),inspectSource=__webpack_require__("./node_modules/core-js/internals/inspect-source.js"),noop=function(){},empty=[],construct=getBuiltIn("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec=uncurryThis(constructorRegExp.exec),INCORRECT_TO_STRING=!constructorRegExp.exec(noop),isConstructorModern=function isConstructor(argument){if(!isCallable(argument))return!1;try{return construct(noop,empty,argument),!0}catch(error){return!1}},isConstructorLegacy=function isConstructor(argument){if(!isCallable(argument))return!1;switch(classof(argument)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING||!!exec(constructorRegExp,inspectSource(argument))}catch(error){return!0}};isConstructorLegacy.sham=!0,module.exports=!construct||fails((function(){var called;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern((function(){called=!0}))||called}))?isConstructorLegacy:isConstructorModern},"./node_modules/core-js/internals/is-forced.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),replacement=/#|\.prototype\./,isForced=function(feature,detection){var value=data[normalize(feature)];return value==POLYFILL||value!=NATIVE&&(isCallable(detection)?fails(detection):!!detection)},normalize=isForced.normalize=function(string){return String(string).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P";module.exports=isForced},"./node_modules/core-js/internals/is-integral-number.js":function(module,exports,__webpack_require__){var isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),floor=Math.floor;module.exports=Number.isInteger||function isInteger(it){return!isObject(it)&&isFinite(it)&&floor(it)===it}},"./node_modules/core-js/internals/is-object.js":function(module,exports,__webpack_require__){var isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js");module.exports=function(it){return"object"==typeof it?null!==it:isCallable(it)}},"./node_modules/core-js/internals/is-pure.js":function(module,exports){module.exports=!1},"./node_modules/core-js/internals/is-regexp.js":function(module,exports,__webpack_require__){var isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),classof=__webpack_require__("./node_modules/core-js/internals/classof-raw.js"),MATCH=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js")("match");module.exports=function(it){var isRegExp;return isObject(it)&&(void 0!==(isRegExp=it[MATCH])?!!isRegExp:"RegExp"==classof(it))}},"./node_modules/core-js/internals/is-symbol.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),getBuiltIn=__webpack_require__("./node_modules/core-js/internals/get-built-in.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),isPrototypeOf=__webpack_require__("./node_modules/core-js/internals/object-is-prototype-of.js"),USE_SYMBOL_AS_UID=__webpack_require__("./node_modules/core-js/internals/use-symbol-as-uid.js"),Object=global.Object;module.exports=USE_SYMBOL_AS_UID?function(it){return"symbol"==typeof it}:function(it){var $Symbol=getBuiltIn("Symbol");return isCallable($Symbol)&&isPrototypeOf($Symbol.prototype,Object(it))}},"./node_modules/core-js/internals/iterate.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),bind=__webpack_require__("./node_modules/core-js/internals/function-bind-context.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),tryToString=__webpack_require__("./node_modules/core-js/internals/try-to-string.js"),isArrayIteratorMethod=__webpack_require__("./node_modules/core-js/internals/is-array-iterator-method.js"),lengthOfArrayLike=__webpack_require__("./node_modules/core-js/internals/length-of-array-like.js"),isPrototypeOf=__webpack_require__("./node_modules/core-js/internals/object-is-prototype-of.js"),getIterator=__webpack_require__("./node_modules/core-js/internals/get-iterator.js"),getIteratorMethod=__webpack_require__("./node_modules/core-js/internals/get-iterator-method.js"),iteratorClose=__webpack_require__("./node_modules/core-js/internals/iterator-close.js"),TypeError=global.TypeError,Result=function(stopped,result){this.stopped=stopped,this.result=result},ResultPrototype=Result.prototype;module.exports=function(iterable,unboundFunction,options){var iterator,iterFn,index,length,result,next,step,that=options&&options.that,AS_ENTRIES=!(!options||!options.AS_ENTRIES),IS_ITERATOR=!(!options||!options.IS_ITERATOR),INTERRUPTED=!(!options||!options.INTERRUPTED),fn=bind(unboundFunction,that),stop=function(condition){return iterator&&iteratorClose(iterator,"normal",condition),new Result(!0,condition)},callFn=function(value){return AS_ENTRIES?(anObject(value),INTERRUPTED?fn(value[0],value[1],stop):fn(value[0],value[1])):INTERRUPTED?fn(value,stop):fn(value)};if(IS_ITERATOR)iterator=iterable;else{if(!(iterFn=getIteratorMethod(iterable)))throw TypeError(tryToString(iterable)+" is not iterable");if(isArrayIteratorMethod(iterFn)){for(index=0,length=lengthOfArrayLike(iterable);length>index;index++)if((result=callFn(iterable[index]))&&isPrototypeOf(ResultPrototype,result))return result;return new Result(!1)}iterator=getIterator(iterable,iterFn)}for(next=iterator.next;!(step=call(next,iterator)).done;){try{result=callFn(step.value)}catch(error){iteratorClose(iterator,"throw",error)}if("object"==typeof result&&result&&isPrototypeOf(ResultPrototype,result))return result}return new Result(!1)}},"./node_modules/core-js/internals/iterator-close.js":function(module,exports,__webpack_require__){var call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),getMethod=__webpack_require__("./node_modules/core-js/internals/get-method.js");module.exports=function(iterator,kind,value){var innerResult,innerError;anObject(iterator);try{if(!(innerResult=getMethod(iterator,"return"))){if("throw"===kind)throw value;return value}innerResult=call(innerResult,iterator)}catch(error){innerError=!0,innerResult=error}if("throw"===kind)throw value;if(innerError)throw innerResult;return anObject(innerResult),value}},"./node_modules/core-js/internals/iterators-core.js":function(module,exports,__webpack_require__){"use strict";var IteratorPrototype,PrototypeOfArrayIteratorPrototype,arrayIterator,fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),create=__webpack_require__("./node_modules/core-js/internals/object-create.js"),getPrototypeOf=__webpack_require__("./node_modules/core-js/internals/object-get-prototype-of.js"),redefine=__webpack_require__("./node_modules/core-js/internals/redefine.js"),wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),IS_PURE=__webpack_require__("./node_modules/core-js/internals/is-pure.js"),ITERATOR=wellKnownSymbol("iterator"),BUGGY_SAFARI_ITERATORS=!1;[].keys&&("next"in(arrayIterator=[].keys())?(PrototypeOfArrayIteratorPrototype=getPrototypeOf(getPrototypeOf(arrayIterator)))!==Object.prototype&&(IteratorPrototype=PrototypeOfArrayIteratorPrototype):BUGGY_SAFARI_ITERATORS=!0),null==IteratorPrototype||fails((function(){var test={};return IteratorPrototype[ITERATOR].call(test)!==test}))?IteratorPrototype={}:IS_PURE&&(IteratorPrototype=create(IteratorPrototype)),isCallable(IteratorPrototype[ITERATOR])||redefine(IteratorPrototype,ITERATOR,(function(){return this})),module.exports={IteratorPrototype:IteratorPrototype,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS}},"./node_modules/core-js/internals/iterators.js":function(module,exports){module.exports={}},"./node_modules/core-js/internals/length-of-array-like.js":function(module,exports,__webpack_require__){var toLength=__webpack_require__("./node_modules/core-js/internals/to-length.js");module.exports=function(obj){return toLength(obj.length)}},"./node_modules/core-js/internals/microtask.js":function(module,exports,__webpack_require__){var flush,head,last,notify,toggle,node,promise,then,global=__webpack_require__("./node_modules/core-js/internals/global.js"),bind=__webpack_require__("./node_modules/core-js/internals/function-bind-context.js"),getOwnPropertyDescriptor=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,macrotask=__webpack_require__("./node_modules/core-js/internals/task.js").set,IS_IOS=__webpack_require__("./node_modules/core-js/internals/engine-is-ios.js"),IS_IOS_PEBBLE=__webpack_require__("./node_modules/core-js/internals/engine-is-ios-pebble.js"),IS_WEBOS_WEBKIT=__webpack_require__("./node_modules/core-js/internals/engine-is-webos-webkit.js"),IS_NODE=__webpack_require__("./node_modules/core-js/internals/engine-is-node.js"),MutationObserver=global.MutationObserver||global.WebKitMutationObserver,document=global.document,process=global.process,Promise=global.Promise,queueMicrotaskDescriptor=getOwnPropertyDescriptor(global,"queueMicrotask"),queueMicrotask=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value;queueMicrotask||(flush=function(){var parent,fn;for(IS_NODE&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(error){throw head?notify():last=void 0,error}}last=void 0,parent&&parent.enter()},IS_IOS||IS_NODE||IS_WEBOS_WEBKIT||!MutationObserver||!document?!IS_IOS_PEBBLE&&Promise&&Promise.resolve?((promise=Promise.resolve(void 0)).constructor=Promise,then=bind(promise.then,promise),notify=function(){then(flush)}):IS_NODE?notify=function(){process.nextTick(flush)}:(macrotask=bind(macrotask,global),notify=function(){macrotask(flush)}):(toggle=!0,node=document.createTextNode(""),new MutationObserver(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle})),module.exports=queueMicrotask||function(fn){var task={fn:fn,next:void 0};last&&(last.next=task),head||(head=task,notify()),last=task}},"./node_modules/core-js/internals/native-symbol-registry.js":function(module,exports,__webpack_require__){var NATIVE_SYMBOL=__webpack_require__("./node_modules/core-js/internals/native-symbol.js");module.exports=NATIVE_SYMBOL&&!!Symbol.for&&!!Symbol.keyFor},"./node_modules/core-js/internals/native-symbol.js":function(module,exports,__webpack_require__){var V8_VERSION=__webpack_require__("./node_modules/core-js/internals/engine-v8-version.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js");module.exports=!!Object.getOwnPropertySymbols&&!fails((function(){var symbol=Symbol();return!String(symbol)||!(Object(symbol)instanceof Symbol)||!Symbol.sham&&V8_VERSION&&V8_VERSION<41}))},"./node_modules/core-js/internals/native-url.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),IS_PURE=__webpack_require__("./node_modules/core-js/internals/is-pure.js"),ITERATOR=wellKnownSymbol("iterator");module.exports=!fails((function(){var url=new URL("b?a=1&b=2&c=3","http://a"),searchParams=url.searchParams,result="";return url.pathname="c%20d",searchParams.forEach((function(value,key){searchParams.delete("b"),result+=key+value})),IS_PURE&&!url.toJSON||!searchParams.sort||"http://a/c%20d?a=1&c=3"!==url.href||"3"!==searchParams.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!searchParams[ITERATOR]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==result||"x"!==new URL("http://x",void 0).host}))},"./node_modules/core-js/internals/native-weak-map.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),inspectSource=__webpack_require__("./node_modules/core-js/internals/inspect-source.js"),WeakMap=global.WeakMap;module.exports=isCallable(WeakMap)&&/native code/.test(inspectSource(WeakMap))},"./node_modules/core-js/internals/new-promise-capability.js":function(module,exports,__webpack_require__){"use strict";var aCallable=__webpack_require__("./node_modules/core-js/internals/a-callable.js"),PromiseCapability=function(C){var resolve,reject;this.promise=new C((function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject})),this.resolve=aCallable(resolve),this.reject=aCallable(reject)};module.exports.f=function(C){return new PromiseCapability(C)}},"./node_modules/core-js/internals/not-a-regexp.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),isRegExp=__webpack_require__("./node_modules/core-js/internals/is-regexp.js"),TypeError=global.TypeError;module.exports=function(it){if(isRegExp(it))throw TypeError("The method doesn't accept regular expressions");return it}},"./node_modules/core-js/internals/object-assign.js":function(module,exports,__webpack_require__){"use strict";var DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),objectKeys=__webpack_require__("./node_modules/core-js/internals/object-keys.js"),getOwnPropertySymbolsModule=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-symbols.js"),propertyIsEnumerableModule=__webpack_require__("./node_modules/core-js/internals/object-property-is-enumerable.js"),toObject=__webpack_require__("./node_modules/core-js/internals/to-object.js"),IndexedObject=__webpack_require__("./node_modules/core-js/internals/indexed-object.js"),$assign=Object.assign,defineProperty=Object.defineProperty,concat=uncurryThis([].concat);module.exports=!$assign||fails((function(){if(DESCRIPTORS&&1!==$assign({b:1},$assign(defineProperty({},"a",{enumerable:!0,get:function(){defineProperty(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var A={},B={},symbol=Symbol();return A[symbol]=7,"abcdefghijklmnopqrst".split("").forEach((function(chr){B[chr]=chr})),7!=$assign({},A)[symbol]||"abcdefghijklmnopqrst"!=objectKeys($assign({},B)).join("")}))?function assign(target,source){for(var T=toObject(target),argumentsLength=arguments.length,index=1,getOwnPropertySymbols=getOwnPropertySymbolsModule.f,propertyIsEnumerable=propertyIsEnumerableModule.f;argumentsLength>index;)for(var key,S=IndexedObject(arguments[index++]),keys=getOwnPropertySymbols?concat(objectKeys(S),getOwnPropertySymbols(S)):objectKeys(S),length=keys.length,j=0;length>j;)key=keys[j++],DESCRIPTORS&&!call(propertyIsEnumerable,S,key)||(T[key]=S[key]);return T}:$assign},"./node_modules/core-js/internals/object-create.js":function(module,exports,__webpack_require__){var activeXDocument,anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),definePropertiesModule=__webpack_require__("./node_modules/core-js/internals/object-define-properties.js"),enumBugKeys=__webpack_require__("./node_modules/core-js/internals/enum-bug-keys.js"),hiddenKeys=__webpack_require__("./node_modules/core-js/internals/hidden-keys.js"),html=__webpack_require__("./node_modules/core-js/internals/html.js"),documentCreateElement=__webpack_require__("./node_modules/core-js/internals/document-create-element.js"),sharedKey=__webpack_require__("./node_modules/core-js/internals/shared-key.js"),IE_PROTO=sharedKey("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(content){return"<script>"+content+"<\/script>"},NullProtoObjectViaActiveX=function(activeXDocument){activeXDocument.write(scriptTag("")),activeXDocument.close();var temp=activeXDocument.parentWindow.Object;return activeXDocument=null,temp},NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch(error){}var iframeDocument,iframe;NullProtoObject="undefined"!=typeof document?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):((iframe=documentCreateElement("iframe")).style.display="none",html.appendChild(iframe),iframe.src=String("javascript:"),(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write(scriptTag("document.F=Object")),iframeDocument.close(),iframeDocument.F):NullProtoObjectViaActiveX(activeXDocument);for(var length=enumBugKeys.length;length--;)delete NullProtoObject.prototype[enumBugKeys[length]];return NullProtoObject()};hiddenKeys[IE_PROTO]=!0,module.exports=Object.create||function create(O,Properties){var result;return null!==O?(EmptyConstructor.prototype=anObject(O),result=new EmptyConstructor,EmptyConstructor.prototype=null,result[IE_PROTO]=O):result=NullProtoObject(),void 0===Properties?result:definePropertiesModule.f(result,Properties)}},"./node_modules/core-js/internals/object-define-properties.js":function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),V8_PROTOTYPE_DEFINE_BUG=__webpack_require__("./node_modules/core-js/internals/v8-prototype-define-bug.js"),definePropertyModule=__webpack_require__("./node_modules/core-js/internals/object-define-property.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),toIndexedObject=__webpack_require__("./node_modules/core-js/internals/to-indexed-object.js"),objectKeys=__webpack_require__("./node_modules/core-js/internals/object-keys.js");exports.f=DESCRIPTORS&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function defineProperties(O,Properties){anObject(O);for(var key,props=toIndexedObject(Properties),keys=objectKeys(Properties),length=keys.length,index=0;length>index;)definePropertyModule.f(O,key=keys[index++],props[key]);return O}},"./node_modules/core-js/internals/object-define-property.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),IE8_DOM_DEFINE=__webpack_require__("./node_modules/core-js/internals/ie8-dom-define.js"),V8_PROTOTYPE_DEFINE_BUG=__webpack_require__("./node_modules/core-js/internals/v8-prototype-define-bug.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),toPropertyKey=__webpack_require__("./node_modules/core-js/internals/to-property-key.js"),TypeError=global.TypeError,$defineProperty=Object.defineProperty,$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=DESCRIPTORS?V8_PROTOTYPE_DEFINE_BUG?function defineProperty(O,P,Attributes){if(anObject(O),P=toPropertyKey(P),anObject(Attributes),"function"==typeof O&&"prototype"===P&&"value"in Attributes&&"writable"in Attributes&&!Attributes.writable){var current=$getOwnPropertyDescriptor(O,P);current&&current.writable&&(O[P]=Attributes.value,Attributes={configurable:"configurable"in Attributes?Attributes.configurable:current.configurable,enumerable:"enumerable"in Attributes?Attributes.enumerable:current.enumerable,writable:!1})}return $defineProperty(O,P,Attributes)}:$defineProperty:function defineProperty(O,P,Attributes){if(anObject(O),P=toPropertyKey(P),anObject(Attributes),IE8_DOM_DEFINE)try{return $defineProperty(O,P,Attributes)}catch(error){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported");return"value"in Attributes&&(O[P]=Attributes.value),O}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),propertyIsEnumerableModule=__webpack_require__("./node_modules/core-js/internals/object-property-is-enumerable.js"),createPropertyDescriptor=__webpack_require__("./node_modules/core-js/internals/create-property-descriptor.js"),toIndexedObject=__webpack_require__("./node_modules/core-js/internals/to-indexed-object.js"),toPropertyKey=__webpack_require__("./node_modules/core-js/internals/to-property-key.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),IE8_DOM_DEFINE=__webpack_require__("./node_modules/core-js/internals/ie8-dom-define.js"),$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=DESCRIPTORS?$getOwnPropertyDescriptor:function getOwnPropertyDescriptor(O,P){if(O=toIndexedObject(O),P=toPropertyKey(P),IE8_DOM_DEFINE)try{return $getOwnPropertyDescriptor(O,P)}catch(error){}if(hasOwn(O,P))return createPropertyDescriptor(!call(propertyIsEnumerableModule.f,O,P),O[P])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":function(module,exports,__webpack_require__){var classof=__webpack_require__("./node_modules/core-js/internals/classof-raw.js"),toIndexedObject=__webpack_require__("./node_modules/core-js/internals/to-indexed-object.js"),$getOwnPropertyNames=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-names.js").f,arraySlice=__webpack_require__("./node_modules/core-js/internals/array-slice-simple.js"),windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.f=function getOwnPropertyNames(it){return windowNames&&"Window"==classof(it)?function(it){try{return $getOwnPropertyNames(it)}catch(error){return arraySlice(windowNames)}}(it):$getOwnPropertyNames(toIndexedObject(it))}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(module,exports,__webpack_require__){var internalObjectKeys=__webpack_require__("./node_modules/core-js/internals/object-keys-internal.js"),hiddenKeys=__webpack_require__("./node_modules/core-js/internals/enum-bug-keys.js").concat("length","prototype");exports.f=Object.getOwnPropertyNames||function getOwnPropertyNames(O){return internalObjectKeys(O,hiddenKeys)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(module,exports){exports.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),toObject=__webpack_require__("./node_modules/core-js/internals/to-object.js"),sharedKey=__webpack_require__("./node_modules/core-js/internals/shared-key.js"),CORRECT_PROTOTYPE_GETTER=__webpack_require__("./node_modules/core-js/internals/correct-prototype-getter.js"),IE_PROTO=sharedKey("IE_PROTO"),Object=global.Object,ObjectPrototype=Object.prototype;module.exports=CORRECT_PROTOTYPE_GETTER?Object.getPrototypeOf:function(O){var object=toObject(O);if(hasOwn(object,IE_PROTO))return object[IE_PROTO];var constructor=object.constructor;return isCallable(constructor)&&object instanceof constructor?constructor.prototype:object instanceof Object?ObjectPrototype:null}},"./node_modules/core-js/internals/object-is-extensible.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),classof=__webpack_require__("./node_modules/core-js/internals/classof-raw.js"),ARRAY_BUFFER_NON_EXTENSIBLE=__webpack_require__("./node_modules/core-js/internals/array-buffer-non-extensible.js"),$isExtensible=Object.isExtensible,FAILS_ON_PRIMITIVES=fails((function(){$isExtensible(1)}));module.exports=FAILS_ON_PRIMITIVES||ARRAY_BUFFER_NON_EXTENSIBLE?function isExtensible(it){return!!isObject(it)&&((!ARRAY_BUFFER_NON_EXTENSIBLE||"ArrayBuffer"!=classof(it))&&(!$isExtensible||$isExtensible(it)))}:$isExtensible},"./node_modules/core-js/internals/object-is-prototype-of.js":function(module,exports,__webpack_require__){var uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js");module.exports=uncurryThis({}.isPrototypeOf)},"./node_modules/core-js/internals/object-keys-internal.js":function(module,exports,__webpack_require__){var uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),toIndexedObject=__webpack_require__("./node_modules/core-js/internals/to-indexed-object.js"),indexOf=__webpack_require__("./node_modules/core-js/internals/array-includes.js").indexOf,hiddenKeys=__webpack_require__("./node_modules/core-js/internals/hidden-keys.js"),push=uncurryThis([].push);module.exports=function(object,names){var key,O=toIndexedObject(object),i=0,result=[];for(key in O)!hasOwn(hiddenKeys,key)&&hasOwn(O,key)&&push(result,key);for(;names.length>i;)hasOwn(O,key=names[i++])&&(~indexOf(result,key)||push(result,key));return result}},"./node_modules/core-js/internals/object-keys.js":function(module,exports,__webpack_require__){var internalObjectKeys=__webpack_require__("./node_modules/core-js/internals/object-keys-internal.js"),enumBugKeys=__webpack_require__("./node_modules/core-js/internals/enum-bug-keys.js");module.exports=Object.keys||function keys(O){return internalObjectKeys(O,enumBugKeys)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(module,exports,__webpack_require__){"use strict";var $propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor&&!$propertyIsEnumerable.call({1:2},1);exports.f=NASHORN_BUG?function propertyIsEnumerable(V){var descriptor=getOwnPropertyDescriptor(this,V);return!!descriptor&&descriptor.enumerable}:$propertyIsEnumerable},"./node_modules/core-js/internals/object-set-prototype-of.js":function(module,exports,__webpack_require__){var uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),aPossiblePrototype=__webpack_require__("./node_modules/core-js/internals/a-possible-prototype.js");module.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var setter,CORRECT_SETTER=!1,test={};try{(setter=uncurryThis(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(test,[]),CORRECT_SETTER=test instanceof Array}catch(error){}return function setPrototypeOf(O,proto){return anObject(O),aPossiblePrototype(proto),CORRECT_SETTER?setter(O,proto):O.__proto__=proto,O}}():void 0)},"./node_modules/core-js/internals/object-to-array.js":function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),objectKeys=__webpack_require__("./node_modules/core-js/internals/object-keys.js"),toIndexedObject=__webpack_require__("./node_modules/core-js/internals/to-indexed-object.js"),propertyIsEnumerable=uncurryThis(__webpack_require__("./node_modules/core-js/internals/object-property-is-enumerable.js").f),push=uncurryThis([].push),createMethod=function(TO_ENTRIES){return function(it){for(var key,O=toIndexedObject(it),keys=objectKeys(O),length=keys.length,i=0,result=[];length>i;)key=keys[i++],DESCRIPTORS&&!propertyIsEnumerable(O,key)||push(result,TO_ENTRIES?[key,O[key]]:O[key]);return result}};module.exports={entries:createMethod(!0),values:createMethod(!1)}},"./node_modules/core-js/internals/object-to-string.js":function(module,exports,__webpack_require__){"use strict";var TO_STRING_TAG_SUPPORT=__webpack_require__("./node_modules/core-js/internals/to-string-tag-support.js"),classof=__webpack_require__("./node_modules/core-js/internals/classof.js");module.exports=TO_STRING_TAG_SUPPORT?{}.toString:function toString(){return"[object "+classof(this)+"]"}},"./node_modules/core-js/internals/ordinary-to-primitive.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),TypeError=global.TypeError;module.exports=function(input,pref){var fn,val;if("string"===pref&&isCallable(fn=input.toString)&&!isObject(val=call(fn,input)))return val;if(isCallable(fn=input.valueOf)&&!isObject(val=call(fn,input)))return val;if("string"!==pref&&isCallable(fn=input.toString)&&!isObject(val=call(fn,input)))return val;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/own-keys.js":function(module,exports,__webpack_require__){var getBuiltIn=__webpack_require__("./node_modules/core-js/internals/get-built-in.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),getOwnPropertyNamesModule=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-names.js"),getOwnPropertySymbolsModule=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-symbols.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),concat=uncurryThis([].concat);module.exports=getBuiltIn("Reflect","ownKeys")||function ownKeys(it){var keys=getOwnPropertyNamesModule.f(anObject(it)),getOwnPropertySymbols=getOwnPropertySymbolsModule.f;return getOwnPropertySymbols?concat(keys,getOwnPropertySymbols(it)):keys}},"./node_modules/core-js/internals/path.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js");module.exports=global},"./node_modules/core-js/internals/perform.js":function(module,exports){module.exports=function(exec){try{return{error:!1,value:exec()}}catch(error){return{error:!0,value:error}}}},"./node_modules/core-js/internals/promise-constructor-detection.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),NativePromiseConstructor=__webpack_require__("./node_modules/core-js/internals/promise-native-constructor.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),isForced=__webpack_require__("./node_modules/core-js/internals/is-forced.js"),inspectSource=__webpack_require__("./node_modules/core-js/internals/inspect-source.js"),wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),IS_BROWSER=__webpack_require__("./node_modules/core-js/internals/engine-is-browser.js"),IS_PURE=__webpack_require__("./node_modules/core-js/internals/is-pure.js"),V8_VERSION=__webpack_require__("./node_modules/core-js/internals/engine-v8-version.js"),NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype,SPECIES=wellKnownSymbol("species"),SUBCLASSING=!1,NATIVE_PROMISE_REJECTION_EVENT=isCallable(global.PromiseRejectionEvent),FORCED_PROMISE_CONSTRUCTOR=isForced("Promise",(function(){var PROMISE_CONSTRUCTOR_SOURCE=inspectSource(NativePromiseConstructor),GLOBAL_CORE_JS_PROMISE=PROMISE_CONSTRUCTOR_SOURCE!==String(NativePromiseConstructor);if(!GLOBAL_CORE_JS_PROMISE&&66===V8_VERSION)return!0;if(IS_PURE&&(!NativePromisePrototype.catch||!NativePromisePrototype.finally))return!0;if(V8_VERSION>=51&&/native code/.test(PROMISE_CONSTRUCTOR_SOURCE))return!1;var promise=new NativePromiseConstructor((function(resolve){resolve(1)})),FakePromise=function(exec){exec((function(){}),(function(){}))};return(promise.constructor={})[SPECIES]=FakePromise,!(SUBCLASSING=promise.then((function(){}))instanceof FakePromise)||!GLOBAL_CORE_JS_PROMISE&&IS_BROWSER&&!NATIVE_PROMISE_REJECTION_EVENT}));module.exports={CONSTRUCTOR:FORCED_PROMISE_CONSTRUCTOR,REJECTION_EVENT:NATIVE_PROMISE_REJECTION_EVENT,SUBCLASSING:SUBCLASSING}},"./node_modules/core-js/internals/promise-native-constructor.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js");module.exports=global.Promise},"./node_modules/core-js/internals/promise-resolve.js":function(module,exports,__webpack_require__){var anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),newPromiseCapability=__webpack_require__("./node_modules/core-js/internals/new-promise-capability.js");module.exports=function(C,x){if(anObject(C),isObject(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C);return(0,promiseCapability.resolve)(x),promiseCapability.promise}},"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":function(module,exports,__webpack_require__){var NativePromiseConstructor=__webpack_require__("./node_modules/core-js/internals/promise-native-constructor.js"),checkCorrectnessOfIteration=__webpack_require__("./node_modules/core-js/internals/check-correctness-of-iteration.js"),FORCED_PROMISE_CONSTRUCTOR=__webpack_require__("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;module.exports=FORCED_PROMISE_CONSTRUCTOR||!checkCorrectnessOfIteration((function(iterable){NativePromiseConstructor.all(iterable).then(void 0,(function(){}))}))},"./node_modules/core-js/internals/proxy-accessor.js":function(module,exports,__webpack_require__){var defineProperty=__webpack_require__("./node_modules/core-js/internals/object-define-property.js").f;module.exports=function(Target,Source,key){key in Target||defineProperty(Target,key,{configurable:!0,get:function(){return Source[key]},set:function(it){Source[key]=it}})}},"./node_modules/core-js/internals/queue.js":function(module,exports){var Queue=function(){this.head=null,this.tail=null};Queue.prototype={add:function(item){var entry={item:item,next:null};this.head?this.tail.next=entry:this.head=entry,this.tail=entry},get:function(){var entry=this.head;if(entry)return this.head=entry.next,this.tail===entry&&(this.tail=null),entry.item}},module.exports=Queue},"./node_modules/core-js/internals/redefine-all.js":function(module,exports,__webpack_require__){var redefine=__webpack_require__("./node_modules/core-js/internals/redefine.js");module.exports=function(target,src,options){for(var key in src)redefine(target,key,src[key],options);return target}},"./node_modules/core-js/internals/redefine.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),createNonEnumerableProperty=__webpack_require__("./node_modules/core-js/internals/create-non-enumerable-property.js"),setGlobal=__webpack_require__("./node_modules/core-js/internals/set-global.js"),inspectSource=__webpack_require__("./node_modules/core-js/internals/inspect-source.js"),InternalStateModule=__webpack_require__("./node_modules/core-js/internals/internal-state.js"),CONFIGURABLE_FUNCTION_NAME=__webpack_require__("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,getInternalState=InternalStateModule.get,enforceInternalState=InternalStateModule.enforce,TEMPLATE=String(String).split("String");(module.exports=function(O,key,value,options){var state,unsafe=!!options&&!!options.unsafe,simple=!!options&&!!options.enumerable,noTargetGet=!!options&&!!options.noTargetGet,name=options&&void 0!==options.name?options.name:key;isCallable(value)&&("Symbol("===String(name).slice(0,7)&&(name="["+String(name).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!hasOwn(value,"name")||CONFIGURABLE_FUNCTION_NAME&&value.name!==name)&&createNonEnumerableProperty(value,"name",name),(state=enforceInternalState(value)).source||(state.source=TEMPLATE.join("string"==typeof name?name:""))),O!==global?(unsafe?!noTargetGet&&O[key]&&(simple=!0):delete O[key],simple?O[key]=value:createNonEnumerableProperty(O,key,value)):simple?O[key]=value:setGlobal(key,value)})(Function.prototype,"toString",(function toString(){return isCallable(this)&&getInternalState(this).source||inspectSource(this)}))},"./node_modules/core-js/internals/regexp-exec-abstract.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),classof=__webpack_require__("./node_modules/core-js/internals/classof-raw.js"),regexpExec=__webpack_require__("./node_modules/core-js/internals/regexp-exec.js"),TypeError=global.TypeError;module.exports=function(R,S){var exec=R.exec;if(isCallable(exec)){var result=call(exec,R,S);return null!==result&&anObject(result),result}if("RegExp"===classof(R))return call(regexpExec,R,S);throw TypeError("RegExp#exec called on incompatible receiver")}},"./node_modules/core-js/internals/regexp-exec.js":function(module,exports,__webpack_require__){"use strict";var re1,re2,call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),regexpFlags=__webpack_require__("./node_modules/core-js/internals/regexp-flags.js"),stickyHelpers=__webpack_require__("./node_modules/core-js/internals/regexp-sticky-helpers.js"),shared=__webpack_require__("./node_modules/core-js/internals/shared.js"),create=__webpack_require__("./node_modules/core-js/internals/object-create.js"),getInternalState=__webpack_require__("./node_modules/core-js/internals/internal-state.js").get,UNSUPPORTED_DOT_ALL=__webpack_require__("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),UNSUPPORTED_NCG=__webpack_require__("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),nativeReplace=shared("native-string-replace",String.prototype.replace),nativeExec=RegExp.prototype.exec,patchedExec=nativeExec,charAt=uncurryThis("".charAt),indexOf=uncurryThis("".indexOf),replace=uncurryThis("".replace),stringSlice=uncurryThis("".slice),UPDATES_LAST_INDEX_WRONG=(re2=/b*/g,call(nativeExec,re1=/a/,"a"),call(nativeExec,re2,"a"),0!==re1.lastIndex||0!==re2.lastIndex),UNSUPPORTED_Y=stickyHelpers.BROKEN_CARET,NPCG_INCLUDED=void 0!==/()??/.exec("")[1];(UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED||UNSUPPORTED_Y||UNSUPPORTED_DOT_ALL||UNSUPPORTED_NCG)&&(patchedExec=function exec(string){var result,reCopy,lastIndex,match,i,object,group,re=this,state=getInternalState(re),str=toString(string),raw=state.raw;if(raw)return raw.lastIndex=re.lastIndex,result=call(patchedExec,raw,str),re.lastIndex=raw.lastIndex,result;var groups=state.groups,sticky=UNSUPPORTED_Y&&re.sticky,flags=call(regexpFlags,re),source=re.source,charsAdded=0,strCopy=str;if(sticky&&(flags=replace(flags,"y",""),-1===indexOf(flags,"g")&&(flags+="g"),strCopy=stringSlice(str,re.lastIndex),re.lastIndex>0&&(!re.multiline||re.multiline&&"\n"!==charAt(str,re.lastIndex-1))&&(source="(?: "+source+")",strCopy=" "+strCopy,charsAdded++),reCopy=new RegExp("^(?:"+source+")",flags)),NPCG_INCLUDED&&(reCopy=new RegExp("^"+source+"$(?!\\s)",flags)),UPDATES_LAST_INDEX_WRONG&&(lastIndex=re.lastIndex),match=call(nativeExec,sticky?reCopy:re,strCopy),sticky?match?(match.input=stringSlice(match.input,charsAdded),match[0]=stringSlice(match[0],charsAdded),match.index=re.lastIndex,re.lastIndex+=match[0].length):re.lastIndex=0:UPDATES_LAST_INDEX_WRONG&&match&&(re.lastIndex=re.global?match.index+match[0].length:lastIndex),NPCG_INCLUDED&&match&&match.length>1&&call(nativeReplace,match[0],reCopy,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(match[i]=void 0)})),match&&groups)for(match.groups=object=create(null),i=0;i<groups.length;i++)object[(group=groups[i])[0]]=match[group[1]];return match}),module.exports=patchedExec},"./node_modules/core-js/internals/regexp-flags.js":function(module,exports,__webpack_require__){"use strict";var anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js");module.exports=function(){var that=anObject(this),result="";return that.hasIndices&&(result+="d"),that.global&&(result+="g"),that.ignoreCase&&(result+="i"),that.multiline&&(result+="m"),that.dotAll&&(result+="s"),that.unicode&&(result+="u"),that.sticky&&(result+="y"),result}},"./node_modules/core-js/internals/regexp-get-flags.js":function(module,exports,__webpack_require__){var call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),isPrototypeOf=__webpack_require__("./node_modules/core-js/internals/object-is-prototype-of.js"),regExpFlags=__webpack_require__("./node_modules/core-js/internals/regexp-flags.js"),RegExpPrototype=RegExp.prototype;module.exports=function(R){var flags=R.flags;return void 0!==flags||"flags"in RegExpPrototype||hasOwn(R,"flags")||!isPrototypeOf(RegExpPrototype,R)?flags:call(regExpFlags,R)}},"./node_modules/core-js/internals/regexp-sticky-helpers.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),$RegExp=__webpack_require__("./node_modules/core-js/internals/global.js").RegExp,UNSUPPORTED_Y=fails((function(){var re=$RegExp("a","y");return re.lastIndex=2,null!=re.exec("abcd")})),MISSED_STICKY=UNSUPPORTED_Y||fails((function(){return!$RegExp("a","y").sticky})),BROKEN_CARET=UNSUPPORTED_Y||fails((function(){var re=$RegExp("^r","gy");return re.lastIndex=2,null!=re.exec("str")}));module.exports={BROKEN_CARET:BROKEN_CARET,MISSED_STICKY:MISSED_STICKY,UNSUPPORTED_Y:UNSUPPORTED_Y}},"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),$RegExp=__webpack_require__("./node_modules/core-js/internals/global.js").RegExp;module.exports=fails((function(){var re=$RegExp(".","s");return!(re.dotAll&&re.exec("\n")&&"s"===re.flags)}))},"./node_modules/core-js/internals/regexp-unsupported-ncg.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),$RegExp=__webpack_require__("./node_modules/core-js/internals/global.js").RegExp;module.exports=fails((function(){var re=$RegExp("(?<a>b)","g");return"b"!==re.exec("b").groups.a||"bc"!=="b".replace(re,"$<a>c")}))},"./node_modules/core-js/internals/require-object-coercible.js":function(module,exports,__webpack_require__){var TypeError=__webpack_require__("./node_modules/core-js/internals/global.js").TypeError;module.exports=function(it){if(null==it)throw TypeError("Can't call method on "+it);return it}},"./node_modules/core-js/internals/same-value.js":function(module,exports){module.exports=Object.is||function is(x,y){return x===y?0!==x||1/x==1/y:x!=x&&y!=y}},"./node_modules/core-js/internals/set-global.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),defineProperty=Object.defineProperty;module.exports=function(key,value){try{defineProperty(global,key,{value:value,configurable:!0,writable:!0})}catch(error){global[key]=value}return value}},"./node_modules/core-js/internals/set-species.js":function(module,exports,__webpack_require__){"use strict";var getBuiltIn=__webpack_require__("./node_modules/core-js/internals/get-built-in.js"),definePropertyModule=__webpack_require__("./node_modules/core-js/internals/object-define-property.js"),wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),SPECIES=wellKnownSymbol("species");module.exports=function(CONSTRUCTOR_NAME){var Constructor=getBuiltIn(CONSTRUCTOR_NAME),defineProperty=definePropertyModule.f;DESCRIPTORS&&Constructor&&!Constructor[SPECIES]&&defineProperty(Constructor,SPECIES,{configurable:!0,get:function(){return this}})}},"./node_modules/core-js/internals/set-to-string-tag.js":function(module,exports,__webpack_require__){var defineProperty=__webpack_require__("./node_modules/core-js/internals/object-define-property.js").f,hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),TO_STRING_TAG=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag");module.exports=function(target,TAG,STATIC){target&&!STATIC&&(target=target.prototype),target&&!hasOwn(target,TO_STRING_TAG)&&defineProperty(target,TO_STRING_TAG,{configurable:!0,value:TAG})}},"./node_modules/core-js/internals/shared-key.js":function(module,exports,__webpack_require__){var shared=__webpack_require__("./node_modules/core-js/internals/shared.js"),uid=__webpack_require__("./node_modules/core-js/internals/uid.js"),keys=shared("keys");module.exports=function(key){return keys[key]||(keys[key]=uid(key))}},"./node_modules/core-js/internals/shared-store.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),setGlobal=__webpack_require__("./node_modules/core-js/internals/set-global.js"),store=global["__core-js_shared__"]||setGlobal("__core-js_shared__",{});module.exports=store},"./node_modules/core-js/internals/shared.js":function(module,exports,__webpack_require__){var IS_PURE=__webpack_require__("./node_modules/core-js/internals/is-pure.js"),store=__webpack_require__("./node_modules/core-js/internals/shared-store.js");(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:"3.22.2",mode:IS_PURE?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.2/LICENSE",source:"https://github.com/zloirock/core-js"})},"./node_modules/core-js/internals/species-constructor.js":function(module,exports,__webpack_require__){var anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),aConstructor=__webpack_require__("./node_modules/core-js/internals/a-constructor.js"),SPECIES=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js")("species");module.exports=function(O,defaultConstructor){var S,C=anObject(O).constructor;return void 0===C||null==(S=anObject(C)[SPECIES])?defaultConstructor:aConstructor(S)}},"./node_modules/core-js/internals/string-multibyte.js":function(module,exports,__webpack_require__){var uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),toIntegerOrInfinity=__webpack_require__("./node_modules/core-js/internals/to-integer-or-infinity.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),requireObjectCoercible=__webpack_require__("./node_modules/core-js/internals/require-object-coercible.js"),charAt=uncurryThis("".charAt),charCodeAt=uncurryThis("".charCodeAt),stringSlice=uncurryThis("".slice),createMethod=function(CONVERT_TO_STRING){return function($this,pos){var first,second,S=toString(requireObjectCoercible($this)),position=toIntegerOrInfinity(pos),size=S.length;return position<0||position>=size?CONVERT_TO_STRING?"":void 0:(first=charCodeAt(S,position))<55296||first>56319||position+1===size||(second=charCodeAt(S,position+1))<56320||second>57343?CONVERT_TO_STRING?charAt(S,position):first:CONVERT_TO_STRING?stringSlice(S,position,position+2):second-56320+(first-55296<<10)+65536}};module.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},"./node_modules/core-js/internals/string-punycode-to-ascii.js":function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__("./node_modules/core-js/internals/global.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),regexNonASCII=/[^\0-\u007E]/,regexSeparators=/[.\u3002\uFF0E\uFF61]/g,OVERFLOW_ERROR="Overflow: input needs wider integers to process",RangeError=global.RangeError,exec=uncurryThis(regexSeparators.exec),floor=Math.floor,fromCharCode=String.fromCharCode,charCodeAt=uncurryThis("".charCodeAt),join=uncurryThis([].join),push=uncurryThis([].push),replace=uncurryThis("".replace),split=uncurryThis("".split),toLowerCase=uncurryThis("".toLowerCase),digitToBasic=function(digit){return digit+22+75*(digit<26)},adapt=function(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/700):delta>>1,delta+=floor(delta/numPoints);delta>455;)delta=floor(delta/35),k+=36;return floor(k+36*delta/(delta+38))},encode=function(input){var output=[];input=function(string){for(var output=[],counter=0,length=string.length;counter<length;){var value=charCodeAt(string,counter++);if(value>=55296&&value<=56319&&counter<length){var extra=charCodeAt(string,counter++);56320==(64512&extra)?push(output,((1023&value)<<10)+(1023&extra)+65536):(push(output,value),counter--)}else push(output,value)}return output}(input);var i,currentValue,inputLength=input.length,n=128,delta=0,bias=72;for(i=0;i<input.length;i++)(currentValue=input[i])<128&&push(output,fromCharCode(currentValue));var basicLength=output.length,handledCPCount=basicLength;for(basicLength&&push(output,"-");handledCPCount<inputLength;){var m=2147483647;for(i=0;i<input.length;i++)(currentValue=input[i])>=n&&currentValue<m&&(m=currentValue);var handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((2147483647-delta)/handledCPCountPlusOne))throw RangeError(OVERFLOW_ERROR);for(delta+=(m-n)*handledCPCountPlusOne,n=m,i=0;i<input.length;i++){if((currentValue=input[i])<n&&++delta>2147483647)throw RangeError(OVERFLOW_ERROR);if(currentValue==n){for(var q=delta,k=36;;){var t=k<=bias?1:k>=bias+26?26:k-bias;if(q<t)break;var qMinusT=q-t,baseMinusT=36-t;push(output,fromCharCode(digitToBasic(t+qMinusT%baseMinusT))),q=floor(qMinusT/baseMinusT),k+=36}push(output,fromCharCode(digitToBasic(q))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,handledCPCount++}}delta++,n++}return join(output,"")};module.exports=function(input){var i,label,encoded=[],labels=split(replace(toLowerCase(input),regexSeparators,"."),".");for(i=0;i<labels.length;i++)label=labels[i],push(encoded,exec(regexNonASCII,label)?"xn--"+encode(label):label);return join(encoded,".")}},"./node_modules/core-js/internals/string-repeat.js":function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__("./node_modules/core-js/internals/global.js"),toIntegerOrInfinity=__webpack_require__("./node_modules/core-js/internals/to-integer-or-infinity.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),requireObjectCoercible=__webpack_require__("./node_modules/core-js/internals/require-object-coercible.js"),RangeError=global.RangeError;module.exports=function repeat(count){var str=toString(requireObjectCoercible(this)),result="",n=toIntegerOrInfinity(count);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(str+=str))1&n&&(result+=str);return result}},"./node_modules/core-js/internals/string-trim-forced.js":function(module,exports,__webpack_require__){var PROPER_FUNCTION_NAME=__webpack_require__("./node_modules/core-js/internals/function-name.js").PROPER,fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),whitespaces=__webpack_require__("./node_modules/core-js/internals/whitespaces.js");module.exports=function(METHOD_NAME){return fails((function(){return!!whitespaces[METHOD_NAME]()||""!==""[METHOD_NAME]()||PROPER_FUNCTION_NAME&&whitespaces[METHOD_NAME].name!==METHOD_NAME}))}},"./node_modules/core-js/internals/string-trim.js":function(module,exports,__webpack_require__){var uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),requireObjectCoercible=__webpack_require__("./node_modules/core-js/internals/require-object-coercible.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),whitespaces=__webpack_require__("./node_modules/core-js/internals/whitespaces.js"),replace=uncurryThis("".replace),whitespace="["+whitespaces+"]",ltrim=RegExp("^"+whitespace+whitespace+"*"),rtrim=RegExp(whitespace+whitespace+"*$"),createMethod=function(TYPE){return function($this){var string=toString(requireObjectCoercible($this));return 1&TYPE&&(string=replace(string,ltrim,"")),2&TYPE&&(string=replace(string,rtrim,"")),string}};module.exports={start:createMethod(1),end:createMethod(2),trim:createMethod(3)}},"./node_modules/core-js/internals/symbol-define-to-primitive.js":function(module,exports,__webpack_require__){var call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),getBuiltIn=__webpack_require__("./node_modules/core-js/internals/get-built-in.js"),wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),redefine=__webpack_require__("./node_modules/core-js/internals/redefine.js");module.exports=function(){var Symbol=getBuiltIn("Symbol"),SymbolPrototype=Symbol&&Symbol.prototype,valueOf=SymbolPrototype&&SymbolPrototype.valueOf,TO_PRIMITIVE=wellKnownSymbol("toPrimitive");SymbolPrototype&&!SymbolPrototype[TO_PRIMITIVE]&&redefine(SymbolPrototype,TO_PRIMITIVE,(function(hint){return call(valueOf,this)}))}},"./node_modules/core-js/internals/task.js":function(module,exports,__webpack_require__){var location,defer,channel,port,global=__webpack_require__("./node_modules/core-js/internals/global.js"),apply=__webpack_require__("./node_modules/core-js/internals/function-apply.js"),bind=__webpack_require__("./node_modules/core-js/internals/function-bind-context.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),html=__webpack_require__("./node_modules/core-js/internals/html.js"),arraySlice=__webpack_require__("./node_modules/core-js/internals/array-slice.js"),createElement=__webpack_require__("./node_modules/core-js/internals/document-create-element.js"),validateArgumentsLength=__webpack_require__("./node_modules/core-js/internals/validate-arguments-length.js"),IS_IOS=__webpack_require__("./node_modules/core-js/internals/engine-is-ios.js"),IS_NODE=__webpack_require__("./node_modules/core-js/internals/engine-is-node.js"),set=global.setImmediate,clear=global.clearImmediate,process=global.process,Dispatch=global.Dispatch,Function=global.Function,MessageChannel=global.MessageChannel,String=global.String,counter=0,queue={};try{location=global.location}catch(error){}var run=function(id){if(hasOwn(queue,id)){var fn=queue[id];delete queue[id],fn()}},runner=function(id){return function(){run(id)}},listener=function(event){run(event.data)},post=function(id){global.postMessage(String(id),location.protocol+"//"+location.host)};set&&clear||(set=function setImmediate(handler){validateArgumentsLength(arguments.length,1);var fn=isCallable(handler)?handler:Function(handler),args=arraySlice(arguments,1);return queue[++counter]=function(){apply(fn,void 0,args)},defer(counter),counter},clear=function clearImmediate(id){delete queue[id]},IS_NODE?defer=function(id){process.nextTick(runner(id))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(runner(id))}:MessageChannel&&!IS_IOS?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=bind(port.postMessage,port)):global.addEventListener&&isCallable(global.postMessage)&&!global.importScripts&&location&&"file:"!==location.protocol&&!fails(post)?(defer=post,global.addEventListener("message",listener,!1)):defer="onreadystatechange"in createElement("script")?function(id){html.appendChild(createElement("script")).onreadystatechange=function(){html.removeChild(this),run(id)}}:function(id){setTimeout(runner(id),0)}),module.exports={set:set,clear:clear}},"./node_modules/core-js/internals/this-number-value.js":function(module,exports,__webpack_require__){var uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js");module.exports=uncurryThis(1..valueOf)},"./node_modules/core-js/internals/to-absolute-index.js":function(module,exports,__webpack_require__){var toIntegerOrInfinity=__webpack_require__("./node_modules/core-js/internals/to-integer-or-infinity.js"),max=Math.max,min=Math.min;module.exports=function(index,length){var integer=toIntegerOrInfinity(index);return integer<0?max(integer+length,0):min(integer,length)}},"./node_modules/core-js/internals/to-indexed-object.js":function(module,exports,__webpack_require__){var IndexedObject=__webpack_require__("./node_modules/core-js/internals/indexed-object.js"),requireObjectCoercible=__webpack_require__("./node_modules/core-js/internals/require-object-coercible.js");module.exports=function(it){return IndexedObject(requireObjectCoercible(it))}},"./node_modules/core-js/internals/to-integer-or-infinity.js":function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(argument){var number=+argument;return number!=number||0===number?0:(number>0?floor:ceil)(number)}},"./node_modules/core-js/internals/to-length.js":function(module,exports,__webpack_require__){var toIntegerOrInfinity=__webpack_require__("./node_modules/core-js/internals/to-integer-or-infinity.js"),min=Math.min;module.exports=function(argument){return argument>0?min(toIntegerOrInfinity(argument),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),requireObjectCoercible=__webpack_require__("./node_modules/core-js/internals/require-object-coercible.js"),Object=global.Object;module.exports=function(argument){return Object(requireObjectCoercible(argument))}},"./node_modules/core-js/internals/to-primitive.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),isSymbol=__webpack_require__("./node_modules/core-js/internals/is-symbol.js"),getMethod=__webpack_require__("./node_modules/core-js/internals/get-method.js"),ordinaryToPrimitive=__webpack_require__("./node_modules/core-js/internals/ordinary-to-primitive.js"),wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),TypeError=global.TypeError,TO_PRIMITIVE=wellKnownSymbol("toPrimitive");module.exports=function(input,pref){if(!isObject(input)||isSymbol(input))return input;var result,exoticToPrim=getMethod(input,TO_PRIMITIVE);if(exoticToPrim){if(void 0===pref&&(pref="default"),result=call(exoticToPrim,input,pref),!isObject(result)||isSymbol(result))return result;throw TypeError("Can't convert object to primitive value")}return void 0===pref&&(pref="number"),ordinaryToPrimitive(input,pref)}},"./node_modules/core-js/internals/to-property-key.js":function(module,exports,__webpack_require__){var toPrimitive=__webpack_require__("./node_modules/core-js/internals/to-primitive.js"),isSymbol=__webpack_require__("./node_modules/core-js/internals/is-symbol.js");module.exports=function(argument){var key=toPrimitive(argument,"string");return isSymbol(key)?key:key+""}},"./node_modules/core-js/internals/to-string-tag-support.js":function(module,exports,__webpack_require__){var test={};test[__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag")]="z",module.exports="[object z]"===String(test)},"./node_modules/core-js/internals/to-string.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),classof=__webpack_require__("./node_modules/core-js/internals/classof.js"),String=global.String;module.exports=function(argument){if("Symbol"===classof(argument))throw TypeError("Cannot convert a Symbol value to a string");return String(argument)}},"./node_modules/core-js/internals/try-to-string.js":function(module,exports,__webpack_require__){var String=__webpack_require__("./node_modules/core-js/internals/global.js").String;module.exports=function(argument){try{return String(argument)}catch(error){return"Object"}}},"./node_modules/core-js/internals/uid.js":function(module,exports,__webpack_require__){var uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),id=0,postfix=Math.random(),toString=uncurryThis(1..toString);module.exports=function(key){return"Symbol("+(void 0===key?"":key)+")_"+toString(++id+postfix,36)}},"./node_modules/core-js/internals/use-symbol-as-uid.js":function(module,exports,__webpack_require__){var NATIVE_SYMBOL=__webpack_require__("./node_modules/core-js/internals/native-symbol.js");module.exports=NATIVE_SYMBOL&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},"./node_modules/core-js/internals/v8-prototype-define-bug.js":function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js");module.exports=DESCRIPTORS&&fails((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},"./node_modules/core-js/internals/validate-arguments-length.js":function(module,exports,__webpack_require__){var TypeError=__webpack_require__("./node_modules/core-js/internals/global.js").TypeError;module.exports=function(passed,required){if(passed<required)throw TypeError("Not enough arguments");return passed}},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":function(module,exports,__webpack_require__){var wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js");exports.f=wellKnownSymbol},"./node_modules/core-js/internals/well-known-symbol.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),shared=__webpack_require__("./node_modules/core-js/internals/shared.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),uid=__webpack_require__("./node_modules/core-js/internals/uid.js"),NATIVE_SYMBOL=__webpack_require__("./node_modules/core-js/internals/native-symbol.js"),USE_SYMBOL_AS_UID=__webpack_require__("./node_modules/core-js/internals/use-symbol-as-uid.js"),WellKnownSymbolsStore=shared("wks"),Symbol=global.Symbol,symbolFor=Symbol&&Symbol.for,createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol:Symbol&&Symbol.withoutSetter||uid;module.exports=function(name){if(!hasOwn(WellKnownSymbolsStore,name)||!NATIVE_SYMBOL&&"string"!=typeof WellKnownSymbolsStore[name]){var description="Symbol."+name;NATIVE_SYMBOL&&hasOwn(Symbol,name)?WellKnownSymbolsStore[name]=Symbol[name]:WellKnownSymbolsStore[name]=USE_SYMBOL_AS_UID&&symbolFor?symbolFor(description):createWellKnownSymbol(description)}return WellKnownSymbolsStore[name]}},"./node_modules/core-js/internals/whitespaces.js":function(module,exports){module.exports="\t\n\v\f\r \u2028\u2029\ufeff"},"./node_modules/core-js/modules/es.array.concat.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),global=__webpack_require__("./node_modules/core-js/internals/global.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),isArray=__webpack_require__("./node_modules/core-js/internals/is-array.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),toObject=__webpack_require__("./node_modules/core-js/internals/to-object.js"),lengthOfArrayLike=__webpack_require__("./node_modules/core-js/internals/length-of-array-like.js"),createProperty=__webpack_require__("./node_modules/core-js/internals/create-property.js"),arraySpeciesCreate=__webpack_require__("./node_modules/core-js/internals/array-species-create.js"),arrayMethodHasSpeciesSupport=__webpack_require__("./node_modules/core-js/internals/array-method-has-species-support.js"),wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),V8_VERSION=__webpack_require__("./node_modules/core-js/internals/engine-v8-version.js"),IS_CONCAT_SPREADABLE=wellKnownSymbol("isConcatSpreadable"),TypeError=global.TypeError,IS_CONCAT_SPREADABLE_SUPPORT=V8_VERSION>=51||!fails((function(){var array=[];return array[IS_CONCAT_SPREADABLE]=!1,array.concat()[0]!==array})),SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("concat"),isConcatSpreadable=function(O){if(!isObject(O))return!1;var spreadable=O[IS_CONCAT_SPREADABLE];return void 0!==spreadable?!!spreadable:isArray(O)};$({target:"Array",proto:!0,forced:!IS_CONCAT_SPREADABLE_SUPPORT||!SPECIES_SUPPORT},{concat:function concat(arg){var i,k,length,len,E,O=toObject(this),A=arraySpeciesCreate(O,0),n=0;for(i=-1,length=arguments.length;i<length;i++)if(isConcatSpreadable(E=-1===i?O:arguments[i])){if(n+(len=lengthOfArrayLike(E))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(k=0;k<len;k++,n++)k in E&&createProperty(A,n,E[k])}else{if(n>=9007199254740991)throw TypeError("Maximum allowed index exceeded");createProperty(A,n++,E)}return A.length=n,A}})},"./node_modules/core-js/modules/es.array.fill.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),fill=__webpack_require__("./node_modules/core-js/internals/array-fill.js"),addToUnscopables=__webpack_require__("./node_modules/core-js/internals/add-to-unscopables.js");$({target:"Array",proto:!0},{fill:fill}),addToUnscopables("fill")},"./node_modules/core-js/modules/es.array.filter.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),$filter=__webpack_require__("./node_modules/core-js/internals/array-iteration.js").filter;$({target:"Array",proto:!0,forced:!__webpack_require__("./node_modules/core-js/internals/array-method-has-species-support.js")("filter")},{filter:function filter(callbackfn){return $filter(this,callbackfn,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.find-index.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),$findIndex=__webpack_require__("./node_modules/core-js/internals/array-iteration.js").findIndex,addToUnscopables=__webpack_require__("./node_modules/core-js/internals/add-to-unscopables.js"),SKIPS_HOLES=!0;"findIndex"in[]&&Array(1).findIndex((function(){SKIPS_HOLES=!1})),$({target:"Array",proto:!0,forced:SKIPS_HOLES},{findIndex:function findIndex(callbackfn){return $findIndex(this,callbackfn,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables("findIndex")},"./node_modules/core-js/modules/es.array.find.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),$find=__webpack_require__("./node_modules/core-js/internals/array-iteration.js").find,addToUnscopables=__webpack_require__("./node_modules/core-js/internals/add-to-unscopables.js"),SKIPS_HOLES=!0;"find"in[]&&Array(1).find((function(){SKIPS_HOLES=!1})),$({target:"Array",proto:!0,forced:SKIPS_HOLES},{find:function find(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables("find")},"./node_modules/core-js/modules/es.array.for-each.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),forEach=__webpack_require__("./node_modules/core-js/internals/array-for-each.js");$({target:"Array",proto:!0,forced:[].forEach!=forEach},{forEach:forEach})},"./node_modules/core-js/modules/es.array.from.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),from=__webpack_require__("./node_modules/core-js/internals/array-from.js");$({target:"Array",stat:!0,forced:!__webpack_require__("./node_modules/core-js/internals/check-correctness-of-iteration.js")((function(iterable){Array.from(iterable)}))},{from:from})},"./node_modules/core-js/modules/es.array.includes.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),$includes=__webpack_require__("./node_modules/core-js/internals/array-includes.js").includes,addToUnscopables=__webpack_require__("./node_modules/core-js/internals/add-to-unscopables.js");$({target:"Array",proto:!0},{includes:function includes(el){return $includes(this,el,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables("includes")},"./node_modules/core-js/modules/es.array.iterator.js":function(module,exports,__webpack_require__){"use strict";var toIndexedObject=__webpack_require__("./node_modules/core-js/internals/to-indexed-object.js"),addToUnscopables=__webpack_require__("./node_modules/core-js/internals/add-to-unscopables.js"),Iterators=__webpack_require__("./node_modules/core-js/internals/iterators.js"),InternalStateModule=__webpack_require__("./node_modules/core-js/internals/internal-state.js"),defineProperty=__webpack_require__("./node_modules/core-js/internals/object-define-property.js").f,defineIterator=__webpack_require__("./node_modules/core-js/internals/define-iterator.js"),IS_PURE=__webpack_require__("./node_modules/core-js/internals/is-pure.js"),DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("Array Iterator");module.exports=defineIterator(Array,"Array",(function(iterated,kind){setInternalState(this,{type:"Array Iterator",target:toIndexedObject(iterated),index:0,kind:kind})}),(function(){var state=getInternalState(this),target=state.target,kind=state.kind,index=state.index++;return!target||index>=target.length?(state.target=void 0,{value:void 0,done:!0}):"keys"==kind?{value:index,done:!1}:"values"==kind?{value:target[index],done:!1}:{value:[index,target[index]],done:!1}}),"values");var values=Iterators.Arguments=Iterators.Array;if(addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries"),!IS_PURE&&DESCRIPTORS&&"values"!==values.name)try{defineProperty(values,"name",{value:"values"})}catch(error){}},"./node_modules/core-js/modules/es.array.join.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),IndexedObject=__webpack_require__("./node_modules/core-js/internals/indexed-object.js"),toIndexedObject=__webpack_require__("./node_modules/core-js/internals/to-indexed-object.js"),arrayMethodIsStrict=__webpack_require__("./node_modules/core-js/internals/array-method-is-strict.js"),un$Join=uncurryThis([].join),ES3_STRINGS=IndexedObject!=Object,STRICT_METHOD=arrayMethodIsStrict("join",",");$({target:"Array",proto:!0,forced:ES3_STRINGS||!STRICT_METHOD},{join:function join(separator){return un$Join(toIndexedObject(this),void 0===separator?",":separator)}})},"./node_modules/core-js/modules/es.array.map.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),$map=__webpack_require__("./node_modules/core-js/internals/array-iteration.js").map;$({target:"Array",proto:!0,forced:!__webpack_require__("./node_modules/core-js/internals/array-method-has-species-support.js")("map")},{map:function map(callbackfn){return $map(this,callbackfn,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.slice.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),global=__webpack_require__("./node_modules/core-js/internals/global.js"),isArray=__webpack_require__("./node_modules/core-js/internals/is-array.js"),isConstructor=__webpack_require__("./node_modules/core-js/internals/is-constructor.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),toAbsoluteIndex=__webpack_require__("./node_modules/core-js/internals/to-absolute-index.js"),lengthOfArrayLike=__webpack_require__("./node_modules/core-js/internals/length-of-array-like.js"),toIndexedObject=__webpack_require__("./node_modules/core-js/internals/to-indexed-object.js"),createProperty=__webpack_require__("./node_modules/core-js/internals/create-property.js"),wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),arrayMethodHasSpeciesSupport=__webpack_require__("./node_modules/core-js/internals/array-method-has-species-support.js"),un$Slice=__webpack_require__("./node_modules/core-js/internals/array-slice.js"),HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("slice"),SPECIES=wellKnownSymbol("species"),Array=global.Array,max=Math.max;$({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT},{slice:function slice(start,end){var Constructor,result,n,O=toIndexedObject(this),length=lengthOfArrayLike(O),k=toAbsoluteIndex(start,length),fin=toAbsoluteIndex(void 0===end?length:end,length);if(isArray(O)&&(Constructor=O.constructor,(isConstructor(Constructor)&&(Constructor===Array||isArray(Constructor.prototype))||isObject(Constructor)&&null===(Constructor=Constructor[SPECIES]))&&(Constructor=void 0),Constructor===Array||void 0===Constructor))return un$Slice(O,k,fin);for(result=new(void 0===Constructor?Array:Constructor)(max(fin-k,0)),n=0;k<fin;k++,n++)k in O&&createProperty(result,n,O[k]);return result.length=n,result}})},"./node_modules/core-js/modules/es.function.bind.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),bind=__webpack_require__("./node_modules/core-js/internals/function-bind.js");$({target:"Function",proto:!0,forced:Function.bind!==bind},{bind:bind})},"./node_modules/core-js/modules/es.function.name.js":function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),FUNCTION_NAME_EXISTS=__webpack_require__("./node_modules/core-js/internals/function-name.js").EXISTS,uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),defineProperty=__webpack_require__("./node_modules/core-js/internals/object-define-property.js").f,FunctionPrototype=Function.prototype,functionToString=uncurryThis(FunctionPrototype.toString),nameRE=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,regExpExec=uncurryThis(nameRE.exec);DESCRIPTORS&&!FUNCTION_NAME_EXISTS&&defineProperty(FunctionPrototype,"name",{configurable:!0,get:function(){try{return regExpExec(nameRE,functionToString(this))[1]}catch(error){return""}}})},"./node_modules/core-js/modules/es.json.stringify.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),getBuiltIn=__webpack_require__("./node_modules/core-js/internals/get-built-in.js"),apply=__webpack_require__("./node_modules/core-js/internals/function-apply.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),isArray=__webpack_require__("./node_modules/core-js/internals/is-array.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),isSymbol=__webpack_require__("./node_modules/core-js/internals/is-symbol.js"),arraySlice=__webpack_require__("./node_modules/core-js/internals/array-slice.js"),NATIVE_SYMBOL=__webpack_require__("./node_modules/core-js/internals/native-symbol.js"),$stringify=getBuiltIn("JSON","stringify"),exec=uncurryThis(/./.exec),charAt=uncurryThis("".charAt),charCodeAt=uncurryThis("".charCodeAt),replace=uncurryThis("".replace),numberToString=uncurryThis(1..toString),tester=/[\uD800-\uDFFF]/g,low=/^[\uD800-\uDBFF]$/,hi=/^[\uDC00-\uDFFF]$/,WRONG_SYMBOLS_CONVERSION=!NATIVE_SYMBOL||fails((function(){var symbol=getBuiltIn("Symbol")();return"[null]"!=$stringify([symbol])||"{}"!=$stringify({a:symbol})||"{}"!=$stringify(Object(symbol))})),ILL_FORMED_UNICODE=fails((function(){return'"\\udf06\\ud834"'!==$stringify("\udf06\ud834")||'"\\udead"'!==$stringify("\udead")})),stringifyWithSymbolsFix=function(it,replacer){var args=arraySlice(arguments),$replacer=replacer;if((isObject(replacer)||void 0!==it)&&!isSymbol(it))return isArray(replacer)||(replacer=function(key,value){if(isCallable($replacer)&&(value=call($replacer,this,key,value)),!isSymbol(value))return value}),args[1]=replacer,apply($stringify,null,args)},fixIllFormed=function(match,offset,string){var prev=charAt(string,offset-1),next=charAt(string,offset+1);return exec(low,match)&&!exec(hi,next)||exec(hi,match)&&!exec(low,prev)?"\\u"+numberToString(charCodeAt(match,0),16):match};$stringify&&$({target:"JSON",stat:!0,forced:WRONG_SYMBOLS_CONVERSION||ILL_FORMED_UNICODE},{stringify:function stringify(it,replacer,space){var args=arraySlice(arguments),result=apply(WRONG_SYMBOLS_CONVERSION?stringifyWithSymbolsFix:$stringify,null,args);return ILL_FORMED_UNICODE&&"string"==typeof result?replace(result,tester,fixIllFormed):result}})},"./node_modules/core-js/modules/es.json.to-string-tag.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js");__webpack_require__("./node_modules/core-js/internals/set-to-string-tag.js")(global.JSON,"JSON",!0)},"./node_modules/core-js/modules/es.map.constructor.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/internals/collection.js")("Map",(function(init){return function Map(){return init(this,arguments.length?arguments[0]:void 0)}}),__webpack_require__("./node_modules/core-js/internals/collection-strong.js"))},"./node_modules/core-js/modules/es.map.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/modules/es.map.constructor.js")},"./node_modules/core-js/modules/es.math.to-string-tag.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/set-to-string-tag.js")(Math,"Math",!0)},"./node_modules/core-js/modules/es.number.constructor.js":function(module,exports,__webpack_require__){"use strict";var DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),global=__webpack_require__("./node_modules/core-js/internals/global.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),isForced=__webpack_require__("./node_modules/core-js/internals/is-forced.js"),redefine=__webpack_require__("./node_modules/core-js/internals/redefine.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),inheritIfRequired=__webpack_require__("./node_modules/core-js/internals/inherit-if-required.js"),isPrototypeOf=__webpack_require__("./node_modules/core-js/internals/object-is-prototype-of.js"),isSymbol=__webpack_require__("./node_modules/core-js/internals/is-symbol.js"),toPrimitive=__webpack_require__("./node_modules/core-js/internals/to-primitive.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),getOwnPropertyNames=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-names.js").f,getOwnPropertyDescriptor=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,defineProperty=__webpack_require__("./node_modules/core-js/internals/object-define-property.js").f,thisNumberValue=__webpack_require__("./node_modules/core-js/internals/this-number-value.js"),trim=__webpack_require__("./node_modules/core-js/internals/string-trim.js").trim,NativeNumber=global.Number,NumberPrototype=NativeNumber.prototype,TypeError=global.TypeError,arraySlice=uncurryThis("".slice),charCodeAt=uncurryThis("".charCodeAt),toNumeric=function(value){var primValue=toPrimitive(value,"number");return"bigint"==typeof primValue?primValue:toNumber(primValue)},toNumber=function(argument){var first,third,radix,maxCode,digits,length,index,code,it=toPrimitive(argument,"number");if(isSymbol(it))throw TypeError("Cannot convert a Symbol value to a number");if("string"==typeof it&&it.length>2)if(it=trim(it),43===(first=charCodeAt(it,0))||45===first){if(88===(third=charCodeAt(it,2))||120===third)return NaN}else if(48===first){switch(charCodeAt(it,1)){case 66:case 98:radix=2,maxCode=49;break;case 79:case 111:radix=8,maxCode=55;break;default:return+it}for(length=(digits=arraySlice(it,2)).length,index=0;index<length;index++)if((code=charCodeAt(digits,index))<48||code>maxCode)return NaN;return parseInt(digits,radix)}return+it};if(isForced("Number",!NativeNumber(" 0o1")||!NativeNumber("0b1")||NativeNumber("+0x1"))){for(var key,NumberWrapper=function Number(value){var n=arguments.length<1?0:NativeNumber(toNumeric(value)),dummy=this;return isPrototypeOf(NumberPrototype,dummy)&&fails((function(){thisNumberValue(dummy)}))?inheritIfRequired(Object(n),dummy,NumberWrapper):n},keys=DESCRIPTORS?getOwnPropertyNames(NativeNumber):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),j=0;keys.length>j;j++)hasOwn(NativeNumber,key=keys[j])&&!hasOwn(NumberWrapper,key)&&defineProperty(NumberWrapper,key,getOwnPropertyDescriptor(NativeNumber,key));NumberWrapper.prototype=NumberPrototype,NumberPrototype.constructor=NumberWrapper,redefine(global,"Number",NumberWrapper)}},"./node_modules/core-js/modules/es.number.is-integer.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/export.js")({target:"Number",stat:!0},{isInteger:__webpack_require__("./node_modules/core-js/internals/is-integral-number.js")})},"./node_modules/core-js/modules/es.number.to-fixed.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),global=__webpack_require__("./node_modules/core-js/internals/global.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),toIntegerOrInfinity=__webpack_require__("./node_modules/core-js/internals/to-integer-or-infinity.js"),thisNumberValue=__webpack_require__("./node_modules/core-js/internals/this-number-value.js"),$repeat=__webpack_require__("./node_modules/core-js/internals/string-repeat.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),RangeError=global.RangeError,String=global.String,floor=Math.floor,repeat=uncurryThis($repeat),stringSlice=uncurryThis("".slice),un$ToFixed=uncurryThis(1..toFixed),pow=function(x,n,acc){return 0===n?acc:n%2==1?pow(x,n-1,acc*x):pow(x*x,n/2,acc)},multiply=function(data,n,c){for(var index=-1,c2=c;++index<6;)c2+=n*data[index],data[index]=c2%1e7,c2=floor(c2/1e7)},divide=function(data,n){for(var index=6,c=0;--index>=0;)c+=data[index],data[index]=floor(c/n),c=c%n*1e7},dataToString=function(data){for(var index=6,s="";--index>=0;)if(""!==s||0===index||0!==data[index]){var t=String(data[index]);s=""===s?t:s+repeat("0",7-t.length)+t}return s};$({target:"Number",proto:!0,forced:fails((function(){return"0.000"!==un$ToFixed(8e-5,3)||"1"!==un$ToFixed(.9,0)||"1.25"!==un$ToFixed(1.255,2)||"1000000000000000128"!==un$ToFixed(0xde0b6b3a7640080,0)}))||!fails((function(){un$ToFixed({})}))},{toFixed:function toFixed(fractionDigits){var e,z,j,k,number=thisNumberValue(this),fractDigits=toIntegerOrInfinity(fractionDigits),data=[0,0,0,0,0,0],sign="",result="0";if(fractDigits<0||fractDigits>20)throw RangeError("Incorrect fraction digits");if(number!=number)return"NaN";if(number<=-1e21||number>=1e21)return String(number);if(number<0&&(sign="-",number=-number),number>1e-21)if(z=(e=function(x){for(var n=0,x2=x;x2>=4096;)n+=12,x2/=4096;for(;x2>=2;)n+=1,x2/=2;return n}(number*pow(2,69,1))-69)<0?number*pow(2,-e,1):number/pow(2,e,1),z*=4503599627370496,(e=52-e)>0){for(multiply(data,0,z),j=fractDigits;j>=7;)multiply(data,1e7,0),j-=7;for(multiply(data,pow(10,j,1),0),j=e-1;j>=23;)divide(data,1<<23),j-=23;divide(data,1<<j),multiply(data,1,1),divide(data,2),result=dataToString(data)}else multiply(data,0,z),multiply(data,1<<-e,0),result=dataToString(data)+repeat("0",fractDigits);return result=fractDigits>0?sign+((k=result.length)<=fractDigits?"0."+repeat("0",fractDigits-k)+result:stringSlice(result,0,k-fractDigits)+"."+stringSlice(result,k-fractDigits)):sign+result}})},"./node_modules/core-js/modules/es.object.assign.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),assign=__webpack_require__("./node_modules/core-js/internals/object-assign.js");$({target:"Object",stat:!0,forced:Object.assign!==assign},{assign:assign})},"./node_modules/core-js/modules/es.object.define-properties.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),defineProperties=__webpack_require__("./node_modules/core-js/internals/object-define-properties.js").f;$({target:"Object",stat:!0,forced:Object.defineProperties!==defineProperties,sham:!DESCRIPTORS},{defineProperties:defineProperties})},"./node_modules/core-js/modules/es.object.define-property.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),defineProperty=__webpack_require__("./node_modules/core-js/internals/object-define-property.js").f;$({target:"Object",stat:!0,forced:Object.defineProperty!==defineProperty,sham:!DESCRIPTORS},{defineProperty:defineProperty})},"./node_modules/core-js/modules/es.object.entries.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),$entries=__webpack_require__("./node_modules/core-js/internals/object-to-array.js").entries;$({target:"Object",stat:!0},{entries:function entries(O){return $entries(O)}})},"./node_modules/core-js/modules/es.object.freeze.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),FREEZING=__webpack_require__("./node_modules/core-js/internals/freezing.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),onFreeze=__webpack_require__("./node_modules/core-js/internals/internal-metadata.js").onFreeze,$freeze=Object.freeze;$({target:"Object",stat:!0,forced:fails((function(){$freeze(1)})),sham:!FREEZING},{freeze:function freeze(it){return $freeze&&isObject(it)?$freeze(onFreeze(it)):it}})},"./node_modules/core-js/modules/es.object.from-entries.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),iterate=__webpack_require__("./node_modules/core-js/internals/iterate.js"),createProperty=__webpack_require__("./node_modules/core-js/internals/create-property.js");$({target:"Object",stat:!0},{fromEntries:function fromEntries(iterable){var obj={};return iterate(iterable,(function(k,v){createProperty(obj,k,v)}),{AS_ENTRIES:!0}),obj}})},"./node_modules/core-js/modules/es.object.get-own-property-descriptor.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),toIndexedObject=__webpack_require__("./node_modules/core-js/internals/to-indexed-object.js"),nativeGetOwnPropertyDescriptor=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),FAILS_ON_PRIMITIVES=fails((function(){nativeGetOwnPropertyDescriptor(1)}));$({target:"Object",stat:!0,forced:!DESCRIPTORS||FAILS_ON_PRIMITIVES,sham:!DESCRIPTORS},{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(it,key){return nativeGetOwnPropertyDescriptor(toIndexedObject(it),key)}})},"./node_modules/core-js/modules/es.object.get-own-property-descriptors.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),ownKeys=__webpack_require__("./node_modules/core-js/internals/own-keys.js"),toIndexedObject=__webpack_require__("./node_modules/core-js/internals/to-indexed-object.js"),getOwnPropertyDescriptorModule=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),createProperty=__webpack_require__("./node_modules/core-js/internals/create-property.js");$({target:"Object",stat:!0,sham:!DESCRIPTORS},{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(object){for(var key,descriptor,O=toIndexedObject(object),getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,keys=ownKeys(O),result={},index=0;keys.length>index;)void 0!==(descriptor=getOwnPropertyDescriptor(O,key=keys[index++]))&&createProperty(result,key,descriptor);return result}})},"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),NATIVE_SYMBOL=__webpack_require__("./node_modules/core-js/internals/native-symbol.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),getOwnPropertySymbolsModule=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-symbols.js"),toObject=__webpack_require__("./node_modules/core-js/internals/to-object.js");$({target:"Object",stat:!0,forced:!NATIVE_SYMBOL||fails((function(){getOwnPropertySymbolsModule.f(1)}))},{getOwnPropertySymbols:function getOwnPropertySymbols(it){var $getOwnPropertySymbols=getOwnPropertySymbolsModule.f;return $getOwnPropertySymbols?$getOwnPropertySymbols(toObject(it)):[]}})},"./node_modules/core-js/modules/es.object.get-prototype-of.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),toObject=__webpack_require__("./node_modules/core-js/internals/to-object.js"),nativeGetPrototypeOf=__webpack_require__("./node_modules/core-js/internals/object-get-prototype-of.js"),CORRECT_PROTOTYPE_GETTER=__webpack_require__("./node_modules/core-js/internals/correct-prototype-getter.js");$({target:"Object",stat:!0,forced:fails((function(){nativeGetPrototypeOf(1)})),sham:!CORRECT_PROTOTYPE_GETTER},{getPrototypeOf:function getPrototypeOf(it){return nativeGetPrototypeOf(toObject(it))}})},"./node_modules/core-js/modules/es.object.keys.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),toObject=__webpack_require__("./node_modules/core-js/internals/to-object.js"),nativeKeys=__webpack_require__("./node_modules/core-js/internals/object-keys.js");$({target:"Object",stat:!0,forced:__webpack_require__("./node_modules/core-js/internals/fails.js")((function(){nativeKeys(1)}))},{keys:function keys(it){return nativeKeys(toObject(it))}})},"./node_modules/core-js/modules/es.object.to-string.js":function(module,exports,__webpack_require__){var TO_STRING_TAG_SUPPORT=__webpack_require__("./node_modules/core-js/internals/to-string-tag-support.js"),redefine=__webpack_require__("./node_modules/core-js/internals/redefine.js"),toString=__webpack_require__("./node_modules/core-js/internals/object-to-string.js");TO_STRING_TAG_SUPPORT||redefine(Object.prototype,"toString",toString,{unsafe:!0})},"./node_modules/core-js/modules/es.object.values.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),$values=__webpack_require__("./node_modules/core-js/internals/object-to-array.js").values;$({target:"Object",stat:!0},{values:function values(O){return $values(O)}})},"./node_modules/core-js/modules/es.promise.all.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),aCallable=__webpack_require__("./node_modules/core-js/internals/a-callable.js"),newPromiseCapabilityModule=__webpack_require__("./node_modules/core-js/internals/new-promise-capability.js"),perform=__webpack_require__("./node_modules/core-js/internals/perform.js"),iterate=__webpack_require__("./node_modules/core-js/internals/iterate.js");$({target:"Promise",stat:!0,forced:__webpack_require__("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js")},{all:function all(iterable){var C=this,capability=newPromiseCapabilityModule.f(C),resolve=capability.resolve,reject=capability.reject,result=perform((function(){var $promiseResolve=aCallable(C.resolve),values=[],counter=0,remaining=1;iterate(iterable,(function(promise){var index=counter++,alreadyCalled=!1;remaining++,call($promiseResolve,C,promise).then((function(value){alreadyCalled||(alreadyCalled=!0,values[index]=value,--remaining||resolve(values))}),reject)})),--remaining||resolve(values)}));return result.error&&reject(result.value),capability.promise}})},"./node_modules/core-js/modules/es.promise.catch.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),IS_PURE=__webpack_require__("./node_modules/core-js/internals/is-pure.js"),FORCED_PROMISE_CONSTRUCTOR=__webpack_require__("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,NativePromiseConstructor=__webpack_require__("./node_modules/core-js/internals/promise-native-constructor.js"),getBuiltIn=__webpack_require__("./node_modules/core-js/internals/get-built-in.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),redefine=__webpack_require__("./node_modules/core-js/internals/redefine.js"),NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype;if($({target:"Promise",proto:!0,forced:FORCED_PROMISE_CONSTRUCTOR,real:!0},{catch:function(onRejected){return this.then(void 0,onRejected)}}),!IS_PURE&&isCallable(NativePromiseConstructor)){var method=getBuiltIn("Promise").prototype.catch;NativePromisePrototype.catch!==method&&redefine(NativePromisePrototype,"catch",method,{unsafe:!0})}},"./node_modules/core-js/modules/es.promise.constructor.js":function(module,exports,__webpack_require__){"use strict";var Internal,OwnPromiseCapability,nativeThen,$=__webpack_require__("./node_modules/core-js/internals/export.js"),IS_PURE=__webpack_require__("./node_modules/core-js/internals/is-pure.js"),IS_NODE=__webpack_require__("./node_modules/core-js/internals/engine-is-node.js"),global=__webpack_require__("./node_modules/core-js/internals/global.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),redefine=__webpack_require__("./node_modules/core-js/internals/redefine.js"),redefineAll=__webpack_require__("./node_modules/core-js/internals/redefine-all.js"),setPrototypeOf=__webpack_require__("./node_modules/core-js/internals/object-set-prototype-of.js"),setToStringTag=__webpack_require__("./node_modules/core-js/internals/set-to-string-tag.js"),setSpecies=__webpack_require__("./node_modules/core-js/internals/set-species.js"),aCallable=__webpack_require__("./node_modules/core-js/internals/a-callable.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),anInstance=__webpack_require__("./node_modules/core-js/internals/an-instance.js"),speciesConstructor=__webpack_require__("./node_modules/core-js/internals/species-constructor.js"),task=__webpack_require__("./node_modules/core-js/internals/task.js").set,microtask=__webpack_require__("./node_modules/core-js/internals/microtask.js"),hostReportErrors=__webpack_require__("./node_modules/core-js/internals/host-report-errors.js"),perform=__webpack_require__("./node_modules/core-js/internals/perform.js"),Queue=__webpack_require__("./node_modules/core-js/internals/queue.js"),InternalStateModule=__webpack_require__("./node_modules/core-js/internals/internal-state.js"),NativePromiseConstructor=__webpack_require__("./node_modules/core-js/internals/promise-native-constructor.js"),PromiseConstructorDetection=__webpack_require__("./node_modules/core-js/internals/promise-constructor-detection.js"),newPromiseCapabilityModule=__webpack_require__("./node_modules/core-js/internals/new-promise-capability.js"),FORCED_PROMISE_CONSTRUCTOR=PromiseConstructorDetection.CONSTRUCTOR,NATIVE_PROMISE_REJECTION_EVENT=PromiseConstructorDetection.REJECTION_EVENT,NATIVE_PROMISE_SUBCLASSING=PromiseConstructorDetection.SUBCLASSING,getInternalPromiseState=InternalStateModule.getterFor("Promise"),setInternalState=InternalStateModule.set,NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype,PromiseConstructor=NativePromiseConstructor,PromisePrototype=NativePromisePrototype,TypeError=global.TypeError,document=global.document,process=global.process,newPromiseCapability=newPromiseCapabilityModule.f,newGenericPromiseCapability=newPromiseCapability,DISPATCH_EVENT=!!(document&&document.createEvent&&global.dispatchEvent),isThenable=function(it){var then;return!(!isObject(it)||!isCallable(then=it.then))&&then},callReaction=function(reaction,state){var result,then,exited,value=state.value,ok=1==state.state,handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2===state.rejection&&onHandleUnhandled(state),state.rejection=1),!0===handler?result=value:(domain&&domain.enter(),result=handler(value),domain&&(domain.exit(),exited=!0)),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?call(then,result,resolve,reject):resolve(result)):reject(value)}catch(error){domain&&!exited&&domain.exit(),reject(error)}},notify=function(state,isReject){state.notified||(state.notified=!0,microtask((function(){for(var reaction,reactions=state.reactions;reaction=reactions.get();)callReaction(reaction,state);state.notified=!1,isReject&&!state.rejection&&onUnhandled(state)})))},dispatchEvent=function(name,promise,reason){var event,handler;DISPATCH_EVENT?((event=document.createEvent("Event")).promise=promise,event.reason=reason,event.initEvent(name,!1,!0),global.dispatchEvent(event)):event={promise:promise,reason:reason},!NATIVE_PROMISE_REJECTION_EVENT&&(handler=global["on"+name])?handler(event):"unhandledrejection"===name&&hostReportErrors("Unhandled promise rejection",reason)},onUnhandled=function(state){call(task,global,(function(){var result,promise=state.facade,value=state.value;if(isUnhandled(state)&&(result=perform((function(){IS_NODE?process.emit("unhandledRejection",value,promise):dispatchEvent("unhandledrejection",promise,value)})),state.rejection=IS_NODE||isUnhandled(state)?2:1,result.error))throw result.value}))},isUnhandled=function(state){return 1!==state.rejection&&!state.parent},onHandleUnhandled=function(state){call(task,global,(function(){var promise=state.facade;IS_NODE?process.emit("rejectionHandled",promise):dispatchEvent("rejectionhandled",promise,state.value)}))},bind=function(fn,state,unwrap){return function(value){fn(state,value,unwrap)}},internalReject=function(state,value,unwrap){state.done||(state.done=!0,unwrap&&(state=unwrap),state.value=value,state.state=2,notify(state,!0))},internalResolve=function(state,value,unwrap){if(!state.done){state.done=!0,unwrap&&(state=unwrap);try{if(state.facade===value)throw TypeError("Promise can't be resolved itself");var then=isThenable(value);then?microtask((function(){var wrapper={done:!1};try{call(then,value,bind(internalResolve,wrapper,state),bind(internalReject,wrapper,state))}catch(error){internalReject(wrapper,error,state)}})):(state.value=value,state.state=1,notify(state,!1))}catch(error){internalReject({done:!1},error,state)}}};if(FORCED_PROMISE_CONSTRUCTOR&&(PromisePrototype=(PromiseConstructor=function Promise(executor){anInstance(this,PromisePrototype),aCallable(executor),call(Internal,this);var state=getInternalPromiseState(this);try{executor(bind(internalResolve,state),bind(internalReject,state))}catch(error){internalReject(state,error)}}).prototype,(Internal=function Promise(executor){setInternalState(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new Queue,rejection:!1,state:0,value:void 0})}).prototype=redefineAll(PromisePrototype,{then:function then(onFulfilled,onRejected){var state=getInternalPromiseState(this),reaction=newPromiseCapability(speciesConstructor(this,PromiseConstructor));return state.parent=!0,reaction.ok=!isCallable(onFulfilled)||onFulfilled,reaction.fail=isCallable(onRejected)&&onRejected,reaction.domain=IS_NODE?process.domain:void 0,0==state.state?state.reactions.add(reaction):microtask((function(){callReaction(reaction,state)})),reaction.promise}}),OwnPromiseCapability=function(){var promise=new Internal,state=getInternalPromiseState(promise);this.promise=promise,this.resolve=bind(internalResolve,state),this.reject=bind(internalReject,state)},newPromiseCapabilityModule.f=newPromiseCapability=function(C){return C===PromiseConstructor||undefined===C?new OwnPromiseCapability(C):newGenericPromiseCapability(C)},!IS_PURE&&isCallable(NativePromiseConstructor)&&NativePromisePrototype!==Object.prototype)){nativeThen=NativePromisePrototype.then,NATIVE_PROMISE_SUBCLASSING||redefine(NativePromisePrototype,"then",(function then(onFulfilled,onRejected){var that=this;return new PromiseConstructor((function(resolve,reject){call(nativeThen,that,resolve,reject)})).then(onFulfilled,onRejected)}),{unsafe:!0});try{delete NativePromisePrototype.constructor}catch(error){}setPrototypeOf&&setPrototypeOf(NativePromisePrototype,PromisePrototype)}$({global:!0,wrap:!0,forced:FORCED_PROMISE_CONSTRUCTOR},{Promise:PromiseConstructor}),setToStringTag(PromiseConstructor,"Promise",!1,!0),setSpecies("Promise")},"./node_modules/core-js/modules/es.promise.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/modules/es.promise.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.all.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.catch.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.race.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.reject.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.resolve.js")},"./node_modules/core-js/modules/es.promise.race.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),aCallable=__webpack_require__("./node_modules/core-js/internals/a-callable.js"),newPromiseCapabilityModule=__webpack_require__("./node_modules/core-js/internals/new-promise-capability.js"),perform=__webpack_require__("./node_modules/core-js/internals/perform.js"),iterate=__webpack_require__("./node_modules/core-js/internals/iterate.js");$({target:"Promise",stat:!0,forced:__webpack_require__("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js")},{race:function race(iterable){var C=this,capability=newPromiseCapabilityModule.f(C),reject=capability.reject,result=perform((function(){var $promiseResolve=aCallable(C.resolve);iterate(iterable,(function(promise){call($promiseResolve,C,promise).then(capability.resolve,reject)}))}));return result.error&&reject(result.value),capability.promise}})},"./node_modules/core-js/modules/es.promise.reject.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),newPromiseCapabilityModule=__webpack_require__("./node_modules/core-js/internals/new-promise-capability.js");$({target:"Promise",stat:!0,forced:__webpack_require__("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR},{reject:function reject(r){var capability=newPromiseCapabilityModule.f(this);return call(capability.reject,void 0,r),capability.promise}})},"./node_modules/core-js/modules/es.promise.resolve.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),getBuiltIn=__webpack_require__("./node_modules/core-js/internals/get-built-in.js"),IS_PURE=__webpack_require__("./node_modules/core-js/internals/is-pure.js"),NativePromiseConstructor=__webpack_require__("./node_modules/core-js/internals/promise-native-constructor.js"),FORCED_PROMISE_CONSTRUCTOR=__webpack_require__("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,promiseResolve=__webpack_require__("./node_modules/core-js/internals/promise-resolve.js"),PromiseConstructorWrapper=getBuiltIn("Promise"),CHECK_WRAPPER=IS_PURE&&!FORCED_PROMISE_CONSTRUCTOR;$({target:"Promise",stat:!0,forced:IS_PURE||FORCED_PROMISE_CONSTRUCTOR},{resolve:function resolve(x){return promiseResolve(CHECK_WRAPPER&&this===PromiseConstructorWrapper?NativePromiseConstructor:this,x)}})},"./node_modules/core-js/modules/es.reflect.construct.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),getBuiltIn=__webpack_require__("./node_modules/core-js/internals/get-built-in.js"),apply=__webpack_require__("./node_modules/core-js/internals/function-apply.js"),bind=__webpack_require__("./node_modules/core-js/internals/function-bind.js"),aConstructor=__webpack_require__("./node_modules/core-js/internals/a-constructor.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),create=__webpack_require__("./node_modules/core-js/internals/object-create.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),nativeConstruct=getBuiltIn("Reflect","construct"),ObjectPrototype=Object.prototype,push=[].push,NEW_TARGET_BUG=fails((function(){function F(){}return!(nativeConstruct((function(){}),[],F)instanceof F)})),ARGS_BUG=!fails((function(){nativeConstruct((function(){}))})),FORCED=NEW_TARGET_BUG||ARGS_BUG;$({target:"Reflect",stat:!0,forced:FORCED,sham:FORCED},{construct:function construct(Target,args){aConstructor(Target),anObject(args);var newTarget=arguments.length<3?Target:aConstructor(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return nativeConstruct(Target,args,newTarget);if(Target==newTarget){switch(args.length){case 0:return new Target;case 1:return new Target(args[0]);case 2:return new Target(args[0],args[1]);case 3:return new Target(args[0],args[1],args[2]);case 4:return new Target(args[0],args[1],args[2],args[3])}var $args=[null];return apply(push,$args,args),new(apply(bind,Target,$args))}var proto=newTarget.prototype,instance=create(isObject(proto)?proto:ObjectPrototype),result=apply(Target,instance,args);return isObject(result)?result:instance}})},"./node_modules/core-js/modules/es.reflect.to-string-tag.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),global=__webpack_require__("./node_modules/core-js/internals/global.js"),setToStringTag=__webpack_require__("./node_modules/core-js/internals/set-to-string-tag.js");$({global:!0},{Reflect:{}}),setToStringTag(global.Reflect,"Reflect",!0)},"./node_modules/core-js/modules/es.regexp.constructor.js":function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),global=__webpack_require__("./node_modules/core-js/internals/global.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),isForced=__webpack_require__("./node_modules/core-js/internals/is-forced.js"),inheritIfRequired=__webpack_require__("./node_modules/core-js/internals/inherit-if-required.js"),createNonEnumerableProperty=__webpack_require__("./node_modules/core-js/internals/create-non-enumerable-property.js"),getOwnPropertyNames=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-names.js").f,isPrototypeOf=__webpack_require__("./node_modules/core-js/internals/object-is-prototype-of.js"),isRegExp=__webpack_require__("./node_modules/core-js/internals/is-regexp.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),getRegExpFlags=__webpack_require__("./node_modules/core-js/internals/regexp-get-flags.js"),stickyHelpers=__webpack_require__("./node_modules/core-js/internals/regexp-sticky-helpers.js"),proxyAccessor=__webpack_require__("./node_modules/core-js/internals/proxy-accessor.js"),redefine=__webpack_require__("./node_modules/core-js/internals/redefine.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),enforceInternalState=__webpack_require__("./node_modules/core-js/internals/internal-state.js").enforce,setSpecies=__webpack_require__("./node_modules/core-js/internals/set-species.js"),wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),UNSUPPORTED_DOT_ALL=__webpack_require__("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),UNSUPPORTED_NCG=__webpack_require__("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),MATCH=wellKnownSymbol("match"),NativeRegExp=global.RegExp,RegExpPrototype=NativeRegExp.prototype,SyntaxError=global.SyntaxError,exec=uncurryThis(RegExpPrototype.exec),charAt=uncurryThis("".charAt),replace=uncurryThis("".replace),stringIndexOf=uncurryThis("".indexOf),stringSlice=uncurryThis("".slice),IS_NCG=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,re1=/a/g,re2=/a/g,CORRECT_NEW=new NativeRegExp(re1)!==re1,MISSED_STICKY=stickyHelpers.MISSED_STICKY,UNSUPPORTED_Y=stickyHelpers.UNSUPPORTED_Y,BASE_FORCED=DESCRIPTORS&&(!CORRECT_NEW||MISSED_STICKY||UNSUPPORTED_DOT_ALL||UNSUPPORTED_NCG||fails((function(){return re2[MATCH]=!1,NativeRegExp(re1)!=re1||NativeRegExp(re2)==re2||"/a/i"!=NativeRegExp(re1,"i")})));if(isForced("RegExp",BASE_FORCED)){for(var RegExpWrapper=function RegExp(pattern,flags){var rawFlags,dotAll,sticky,handled,result,state,thisIsRegExp=isPrototypeOf(RegExpPrototype,this),patternIsRegExp=isRegExp(pattern),flagsAreUndefined=void 0===flags,groups=[],rawPattern=pattern;if(!thisIsRegExp&&patternIsRegExp&&flagsAreUndefined&&pattern.constructor===RegExpWrapper)return pattern;if((patternIsRegExp||isPrototypeOf(RegExpPrototype,pattern))&&(pattern=pattern.source,flagsAreUndefined&&(flags=getRegExpFlags(rawPattern))),pattern=void 0===pattern?"":toString(pattern),flags=void 0===flags?"":toString(flags),rawPattern=pattern,UNSUPPORTED_DOT_ALL&&"dotAll"in re1&&(dotAll=!!flags&&stringIndexOf(flags,"s")>-1)&&(flags=replace(flags,/s/g,"")),rawFlags=flags,MISSED_STICKY&&"sticky"in re1&&(sticky=!!flags&&stringIndexOf(flags,"y")>-1)&&UNSUPPORTED_Y&&(flags=replace(flags,/y/g,"")),UNSUPPORTED_NCG&&(handled=function(string){for(var chr,length=string.length,index=0,result="",named=[],names={},brackets=!1,ncg=!1,groupid=0,groupname="";index<=length;index++){if("\\"===(chr=charAt(string,index)))chr+=charAt(string,++index);else if("]"===chr)brackets=!1;else if(!brackets)switch(!0){case"["===chr:brackets=!0;break;case"("===chr:exec(IS_NCG,stringSlice(string,index+1))&&(index+=2,ncg=!0),result+=chr,groupid++;continue;case">"===chr&&ncg:if(""===groupname||hasOwn(names,groupname))throw new SyntaxError("Invalid capture group name");names[groupname]=!0,named[named.length]=[groupname,groupid],ncg=!1,groupname="";continue}ncg?groupname+=chr:result+=chr}return[result,named]}(pattern),pattern=handled[0],groups=handled[1]),result=inheritIfRequired(NativeRegExp(pattern,flags),thisIsRegExp?this:RegExpPrototype,RegExpWrapper),(dotAll||sticky||groups.length)&&(state=enforceInternalState(result),dotAll&&(state.dotAll=!0,state.raw=RegExpWrapper(function(string){for(var chr,length=string.length,index=0,result="",brackets=!1;index<=length;index++)"\\"!==(chr=charAt(string,index))?brackets||"."!==chr?("["===chr?brackets=!0:"]"===chr&&(brackets=!1),result+=chr):result+="[\\s\\S]":result+=chr+charAt(string,++index);return result}(pattern),rawFlags)),sticky&&(state.sticky=!0),groups.length&&(state.groups=groups)),pattern!==rawPattern)try{createNonEnumerableProperty(result,"source",""===rawPattern?"(?:)":rawPattern)}catch(error){}return result},keys=getOwnPropertyNames(NativeRegExp),index=0;keys.length>index;)proxyAccessor(RegExpWrapper,NativeRegExp,keys[index++]);RegExpPrototype.constructor=RegExpWrapper,RegExpWrapper.prototype=RegExpPrototype,redefine(global,"RegExp",RegExpWrapper)}setSpecies("RegExp")},"./node_modules/core-js/modules/es.regexp.exec.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),exec=__webpack_require__("./node_modules/core-js/internals/regexp-exec.js");$({target:"RegExp",proto:!0,forced:/./.exec!==exec},{exec:exec})},"./node_modules/core-js/modules/es.regexp.to-string.js":function(module,exports,__webpack_require__){"use strict";var PROPER_FUNCTION_NAME=__webpack_require__("./node_modules/core-js/internals/function-name.js").PROPER,redefine=__webpack_require__("./node_modules/core-js/internals/redefine.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),$toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),getRegExpFlags=__webpack_require__("./node_modules/core-js/internals/regexp-get-flags.js"),n$ToString=RegExp.prototype.toString,NOT_GENERIC=fails((function(){return"/a/b"!=n$ToString.call({source:"a",flags:"b"})})),INCORRECT_NAME=PROPER_FUNCTION_NAME&&"toString"!=n$ToString.name;(NOT_GENERIC||INCORRECT_NAME)&&redefine(RegExp.prototype,"toString",(function toString(){var R=anObject(this);return"/"+$toString(R.source)+"/"+$toString(getRegExpFlags(R))}),{unsafe:!0})},"./node_modules/core-js/modules/es.set.constructor.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/internals/collection.js")("Set",(function(init){return function Set(){return init(this,arguments.length?arguments[0]:void 0)}}),__webpack_require__("./node_modules/core-js/internals/collection-strong.js"))},"./node_modules/core-js/modules/es.set.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/modules/es.set.constructor.js")},"./node_modules/core-js/modules/es.string.ends-with.js":function(module,exports,__webpack_require__){"use strict";var descriptor,$=__webpack_require__("./node_modules/core-js/internals/export.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),getOwnPropertyDescriptor=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,toLength=__webpack_require__("./node_modules/core-js/internals/to-length.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),notARegExp=__webpack_require__("./node_modules/core-js/internals/not-a-regexp.js"),requireObjectCoercible=__webpack_require__("./node_modules/core-js/internals/require-object-coercible.js"),correctIsRegExpLogic=__webpack_require__("./node_modules/core-js/internals/correct-is-regexp-logic.js"),IS_PURE=__webpack_require__("./node_modules/core-js/internals/is-pure.js"),un$EndsWith=uncurryThis("".endsWith),slice=uncurryThis("".slice),min=Math.min,CORRECT_IS_REGEXP_LOGIC=correctIsRegExpLogic("endsWith");$({target:"String",proto:!0,forced:!!(IS_PURE||CORRECT_IS_REGEXP_LOGIC||(descriptor=getOwnPropertyDescriptor(String.prototype,"endsWith"),!descriptor||descriptor.writable))&&!CORRECT_IS_REGEXP_LOGIC},{endsWith:function endsWith(searchString){var that=toString(requireObjectCoercible(this));notARegExp(searchString);var endPosition=arguments.length>1?arguments[1]:void 0,len=that.length,end=void 0===endPosition?len:min(toLength(endPosition),len),search=toString(searchString);return un$EndsWith?un$EndsWith(that,search,end):slice(that,end-search.length,end)===search}})},"./node_modules/core-js/modules/es.string.includes.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),notARegExp=__webpack_require__("./node_modules/core-js/internals/not-a-regexp.js"),requireObjectCoercible=__webpack_require__("./node_modules/core-js/internals/require-object-coercible.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),correctIsRegExpLogic=__webpack_require__("./node_modules/core-js/internals/correct-is-regexp-logic.js"),stringIndexOf=uncurryThis("".indexOf);$({target:"String",proto:!0,forced:!correctIsRegExpLogic("includes")},{includes:function includes(searchString){return!!~stringIndexOf(toString(requireObjectCoercible(this)),toString(notARegExp(searchString)),arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.string.iterator.js":function(module,exports,__webpack_require__){"use strict";var charAt=__webpack_require__("./node_modules/core-js/internals/string-multibyte.js").charAt,toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),InternalStateModule=__webpack_require__("./node_modules/core-js/internals/internal-state.js"),defineIterator=__webpack_require__("./node_modules/core-js/internals/define-iterator.js"),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("String Iterator");defineIterator(String,"String",(function(iterated){setInternalState(this,{type:"String Iterator",string:toString(iterated),index:0})}),(function next(){var point,state=getInternalState(this),string=state.string,index=state.index;return index>=string.length?{value:void 0,done:!0}:(point=charAt(string,index),state.index+=point.length,{value:point,done:!1})}))},"./node_modules/core-js/modules/es.string.match.js":function(module,exports,__webpack_require__){"use strict";var call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),fixRegExpWellKnownSymbolLogic=__webpack_require__("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),toLength=__webpack_require__("./node_modules/core-js/internals/to-length.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),requireObjectCoercible=__webpack_require__("./node_modules/core-js/internals/require-object-coercible.js"),getMethod=__webpack_require__("./node_modules/core-js/internals/get-method.js"),advanceStringIndex=__webpack_require__("./node_modules/core-js/internals/advance-string-index.js"),regExpExec=__webpack_require__("./node_modules/core-js/internals/regexp-exec-abstract.js");fixRegExpWellKnownSymbolLogic("match",(function(MATCH,nativeMatch,maybeCallNative){return[function match(regexp){var O=requireObjectCoercible(this),matcher=null==regexp?void 0:getMethod(regexp,MATCH);return matcher?call(matcher,regexp,O):new RegExp(regexp)[MATCH](toString(O))},function(string){var rx=anObject(this),S=toString(string),res=maybeCallNative(nativeMatch,rx,S);if(res.done)return res.value;if(!rx.global)return regExpExec(rx,S);var fullUnicode=rx.unicode;rx.lastIndex=0;for(var result,A=[],n=0;null!==(result=regExpExec(rx,S));){var matchStr=toString(result[0]);A[n]=matchStr,""===matchStr&&(rx.lastIndex=advanceStringIndex(S,toLength(rx.lastIndex),fullUnicode)),n++}return 0===n?null:A}]}))},"./node_modules/core-js/modules/es.string.replace.js":function(module,exports,__webpack_require__){"use strict";var apply=__webpack_require__("./node_modules/core-js/internals/function-apply.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),fixRegExpWellKnownSymbolLogic=__webpack_require__("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),toIntegerOrInfinity=__webpack_require__("./node_modules/core-js/internals/to-integer-or-infinity.js"),toLength=__webpack_require__("./node_modules/core-js/internals/to-length.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),requireObjectCoercible=__webpack_require__("./node_modules/core-js/internals/require-object-coercible.js"),advanceStringIndex=__webpack_require__("./node_modules/core-js/internals/advance-string-index.js"),getMethod=__webpack_require__("./node_modules/core-js/internals/get-method.js"),getSubstitution=__webpack_require__("./node_modules/core-js/internals/get-substitution.js"),regExpExec=__webpack_require__("./node_modules/core-js/internals/regexp-exec-abstract.js"),REPLACE=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js")("replace"),max=Math.max,min=Math.min,concat=uncurryThis([].concat),push=uncurryThis([].push),stringIndexOf=uncurryThis("".indexOf),stringSlice=uncurryThis("".slice),REPLACE_KEEPS_$0="$0"==="a".replace(/./,"$0"),REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE=!!/./[REPLACE]&&""===/./[REPLACE]("a","$0");fixRegExpWellKnownSymbolLogic("replace",(function(_,nativeReplace,maybeCallNative){var UNSAFE_SUBSTITUTE=REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE?"$":"$0";return[function replace(searchValue,replaceValue){var O=requireObjectCoercible(this),replacer=null==searchValue?void 0:getMethod(searchValue,REPLACE);return replacer?call(replacer,searchValue,O,replaceValue):call(nativeReplace,toString(O),searchValue,replaceValue)},function(string,replaceValue){var rx=anObject(this),S=toString(string);if("string"==typeof replaceValue&&-1===stringIndexOf(replaceValue,UNSAFE_SUBSTITUTE)&&-1===stringIndexOf(replaceValue,"$<")){var res=maybeCallNative(nativeReplace,rx,S,replaceValue);if(res.done)return res.value}var functionalReplace=isCallable(replaceValue);functionalReplace||(replaceValue=toString(replaceValue));var global=rx.global;if(global){var fullUnicode=rx.unicode;rx.lastIndex=0}for(var results=[];;){var result=regExpExec(rx,S);if(null===result)break;if(push(results,result),!global)break;""===toString(result[0])&&(rx.lastIndex=advanceStringIndex(S,toLength(rx.lastIndex),fullUnicode))}for(var it,accumulatedResult="",nextSourcePosition=0,i=0;i<results.length;i++){for(var matched=toString((result=results[i])[0]),position=max(min(toIntegerOrInfinity(result.index),S.length),0),captures=[],j=1;j<result.length;j++)push(captures,void 0===(it=result[j])?it:String(it));var namedCaptures=result.groups;if(functionalReplace){var replacerArgs=concat([matched],captures,position,S);void 0!==namedCaptures&&push(replacerArgs,namedCaptures);var replacement=toString(apply(replaceValue,void 0,replacerArgs))}else replacement=getSubstitution(matched,S,position,captures,namedCaptures,replaceValue);position>=nextSourcePosition&&(accumulatedResult+=stringSlice(S,nextSourcePosition,position)+replacement,nextSourcePosition=position+matched.length)}return accumulatedResult+stringSlice(S,nextSourcePosition)}]}),!!fails((function(){var re=/./;return re.exec=function(){var result=[];return result.groups={a:"7"},result},"7"!=="".replace(re,"$<a>")}))||!REPLACE_KEEPS_$0||REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE)},"./node_modules/core-js/modules/es.string.search.js":function(module,exports,__webpack_require__){"use strict";var call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),fixRegExpWellKnownSymbolLogic=__webpack_require__("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),requireObjectCoercible=__webpack_require__("./node_modules/core-js/internals/require-object-coercible.js"),sameValue=__webpack_require__("./node_modules/core-js/internals/same-value.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),getMethod=__webpack_require__("./node_modules/core-js/internals/get-method.js"),regExpExec=__webpack_require__("./node_modules/core-js/internals/regexp-exec-abstract.js");fixRegExpWellKnownSymbolLogic("search",(function(SEARCH,nativeSearch,maybeCallNative){return[function search(regexp){var O=requireObjectCoercible(this),searcher=null==regexp?void 0:getMethod(regexp,SEARCH);return searcher?call(searcher,regexp,O):new RegExp(regexp)[SEARCH](toString(O))},function(string){var rx=anObject(this),S=toString(string),res=maybeCallNative(nativeSearch,rx,S);if(res.done)return res.value;var previousLastIndex=rx.lastIndex;sameValue(previousLastIndex,0)||(rx.lastIndex=0);var result=regExpExec(rx,S);return sameValue(rx.lastIndex,previousLastIndex)||(rx.lastIndex=previousLastIndex),null===result?-1:result.index}]}))},"./node_modules/core-js/modules/es.string.split.js":function(module,exports,__webpack_require__){"use strict";var apply=__webpack_require__("./node_modules/core-js/internals/function-apply.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),fixRegExpWellKnownSymbolLogic=__webpack_require__("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),isRegExp=__webpack_require__("./node_modules/core-js/internals/is-regexp.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),requireObjectCoercible=__webpack_require__("./node_modules/core-js/internals/require-object-coercible.js"),speciesConstructor=__webpack_require__("./node_modules/core-js/internals/species-constructor.js"),advanceStringIndex=__webpack_require__("./node_modules/core-js/internals/advance-string-index.js"),toLength=__webpack_require__("./node_modules/core-js/internals/to-length.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),getMethod=__webpack_require__("./node_modules/core-js/internals/get-method.js"),arraySlice=__webpack_require__("./node_modules/core-js/internals/array-slice-simple.js"),callRegExpExec=__webpack_require__("./node_modules/core-js/internals/regexp-exec-abstract.js"),regexpExec=__webpack_require__("./node_modules/core-js/internals/regexp-exec.js"),stickyHelpers=__webpack_require__("./node_modules/core-js/internals/regexp-sticky-helpers.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),UNSUPPORTED_Y=stickyHelpers.UNSUPPORTED_Y,min=Math.min,$push=[].push,exec=uncurryThis(/./.exec),push=uncurryThis($push),stringSlice=uncurryThis("".slice),SPLIT_WORKS_WITH_OVERWRITTEN_EXEC=!fails((function(){var re=/(?:)/,originalExec=re.exec;re.exec=function(){return originalExec.apply(this,arguments)};var result="ab".split(re);return 2!==result.length||"a"!==result[0]||"b"!==result[1]}));fixRegExpWellKnownSymbolLogic("split",(function(SPLIT,nativeSplit,maybeCallNative){var internalSplit;return internalSplit="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(separator,limit){var string=toString(requireObjectCoercible(this)),lim=void 0===limit?4294967295:limit>>>0;if(0===lim)return[];if(void 0===separator)return[string];if(!isRegExp(separator))return call(nativeSplit,string,separator,lim);for(var match,lastIndex,lastLength,output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.unicode?"u":"")+(separator.sticky?"y":""),lastLastIndex=0,separatorCopy=new RegExp(separator.source,flags+"g");(match=call(regexpExec,separatorCopy,string))&&!((lastIndex=separatorCopy.lastIndex)>lastLastIndex&&(push(output,stringSlice(string,lastLastIndex,match.index)),match.length>1&&match.index<string.length&&apply($push,output,arraySlice(match,1)),lastLength=match[0].length,lastLastIndex=lastIndex,output.length>=lim));)separatorCopy.lastIndex===match.index&&separatorCopy.lastIndex++;return lastLastIndex===string.length?!lastLength&&exec(separatorCopy,"")||push(output,""):push(output,stringSlice(string,lastLastIndex)),output.length>lim?arraySlice(output,0,lim):output}:"0".split(void 0,0).length?function(separator,limit){return void 0===separator&&0===limit?[]:call(nativeSplit,this,separator,limit)}:nativeSplit,[function split(separator,limit){var O=requireObjectCoercible(this),splitter=null==separator?void 0:getMethod(separator,SPLIT);return splitter?call(splitter,separator,O,limit):call(internalSplit,toString(O),separator,limit)},function(string,limit){var rx=anObject(this),S=toString(string),res=maybeCallNative(internalSplit,rx,S,limit,internalSplit!==nativeSplit);if(res.done)return res.value;var C=speciesConstructor(rx,RegExp),unicodeMatching=rx.unicode,flags=(rx.ignoreCase?"i":"")+(rx.multiline?"m":"")+(rx.unicode?"u":"")+(UNSUPPORTED_Y?"g":"y"),splitter=new C(UNSUPPORTED_Y?"^(?:"+rx.source+")":rx,flags),lim=void 0===limit?4294967295:limit>>>0;if(0===lim)return[];if(0===S.length)return null===callRegExpExec(splitter,S)?[S]:[];for(var p=0,q=0,A=[];q<S.length;){splitter.lastIndex=UNSUPPORTED_Y?0:q;var e,z=callRegExpExec(splitter,UNSUPPORTED_Y?stringSlice(S,q):S);if(null===z||(e=min(toLength(splitter.lastIndex+(UNSUPPORTED_Y?q:0)),S.length))===p)q=advanceStringIndex(S,q,unicodeMatching);else{if(push(A,stringSlice(S,p,q)),A.length===lim)return A;for(var i=1;i<=z.length-1;i++)if(push(A,z[i]),A.length===lim)return A;q=p=e}}return push(A,stringSlice(S,p)),A}]}),!SPLIT_WORKS_WITH_OVERWRITTEN_EXEC,UNSUPPORTED_Y)},"./node_modules/core-js/modules/es.string.starts-with.js":function(module,exports,__webpack_require__){"use strict";var descriptor,$=__webpack_require__("./node_modules/core-js/internals/export.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),getOwnPropertyDescriptor=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,toLength=__webpack_require__("./node_modules/core-js/internals/to-length.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),notARegExp=__webpack_require__("./node_modules/core-js/internals/not-a-regexp.js"),requireObjectCoercible=__webpack_require__("./node_modules/core-js/internals/require-object-coercible.js"),correctIsRegExpLogic=__webpack_require__("./node_modules/core-js/internals/correct-is-regexp-logic.js"),IS_PURE=__webpack_require__("./node_modules/core-js/internals/is-pure.js"),un$StartsWith=uncurryThis("".startsWith),stringSlice=uncurryThis("".slice),min=Math.min,CORRECT_IS_REGEXP_LOGIC=correctIsRegExpLogic("startsWith");$({target:"String",proto:!0,forced:!!(IS_PURE||CORRECT_IS_REGEXP_LOGIC||(descriptor=getOwnPropertyDescriptor(String.prototype,"startsWith"),!descriptor||descriptor.writable))&&!CORRECT_IS_REGEXP_LOGIC},{startsWith:function startsWith(searchString){var that=toString(requireObjectCoercible(this));notARegExp(searchString);var index=toLength(min(arguments.length>1?arguments[1]:void 0,that.length)),search=toString(searchString);return un$StartsWith?un$StartsWith(that,search,index):stringSlice(that,index,index+search.length)===search}})},"./node_modules/core-js/modules/es.string.trim.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),$trim=__webpack_require__("./node_modules/core-js/internals/string-trim.js").trim;$({target:"String",proto:!0,forced:__webpack_require__("./node_modules/core-js/internals/string-trim-forced.js")("trim")},{trim:function trim(){return $trim(this)}})},"./node_modules/core-js/modules/es.symbol.async-iterator.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js")("asyncIterator")},"./node_modules/core-js/modules/es.symbol.constructor.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),global=__webpack_require__("./node_modules/core-js/internals/global.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),IS_PURE=__webpack_require__("./node_modules/core-js/internals/is-pure.js"),DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),NATIVE_SYMBOL=__webpack_require__("./node_modules/core-js/internals/native-symbol.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),isPrototypeOf=__webpack_require__("./node_modules/core-js/internals/object-is-prototype-of.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),toIndexedObject=__webpack_require__("./node_modules/core-js/internals/to-indexed-object.js"),toPropertyKey=__webpack_require__("./node_modules/core-js/internals/to-property-key.js"),$toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),createPropertyDescriptor=__webpack_require__("./node_modules/core-js/internals/create-property-descriptor.js"),nativeObjectCreate=__webpack_require__("./node_modules/core-js/internals/object-create.js"),objectKeys=__webpack_require__("./node_modules/core-js/internals/object-keys.js"),getOwnPropertyNamesModule=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-names.js"),getOwnPropertyNamesExternal=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-names-external.js"),getOwnPropertySymbolsModule=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-symbols.js"),getOwnPropertyDescriptorModule=__webpack_require__("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),definePropertyModule=__webpack_require__("./node_modules/core-js/internals/object-define-property.js"),definePropertiesModule=__webpack_require__("./node_modules/core-js/internals/object-define-properties.js"),propertyIsEnumerableModule=__webpack_require__("./node_modules/core-js/internals/object-property-is-enumerable.js"),redefine=__webpack_require__("./node_modules/core-js/internals/redefine.js"),shared=__webpack_require__("./node_modules/core-js/internals/shared.js"),sharedKey=__webpack_require__("./node_modules/core-js/internals/shared-key.js"),hiddenKeys=__webpack_require__("./node_modules/core-js/internals/hidden-keys.js"),uid=__webpack_require__("./node_modules/core-js/internals/uid.js"),wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),wrappedWellKnownSymbolModule=__webpack_require__("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),defineWellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js"),defineSymbolToPrimitive=__webpack_require__("./node_modules/core-js/internals/symbol-define-to-primitive.js"),setToStringTag=__webpack_require__("./node_modules/core-js/internals/set-to-string-tag.js"),InternalStateModule=__webpack_require__("./node_modules/core-js/internals/internal-state.js"),$forEach=__webpack_require__("./node_modules/core-js/internals/array-iteration.js").forEach,HIDDEN=sharedKey("hidden"),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("Symbol"),ObjectPrototype=Object.prototype,$Symbol=global.Symbol,SymbolPrototype=$Symbol&&$Symbol.prototype,TypeError=global.TypeError,QObject=global.QObject,nativeGetOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,nativeDefineProperty=definePropertyModule.f,nativeGetOwnPropertyNames=getOwnPropertyNamesExternal.f,nativePropertyIsEnumerable=propertyIsEnumerableModule.f,push=uncurryThis([].push),AllSymbols=shared("symbols"),ObjectPrototypeSymbols=shared("op-symbols"),WellKnownSymbolsStore=shared("wks"),USE_SETTER=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDescriptor=DESCRIPTORS&&fails((function(){return 7!=nativeObjectCreate(nativeDefineProperty({},"a",{get:function(){return nativeDefineProperty(this,"a",{value:7}).a}})).a}))?function(O,P,Attributes){var ObjectPrototypeDescriptor=nativeGetOwnPropertyDescriptor(ObjectPrototype,P);ObjectPrototypeDescriptor&&delete ObjectPrototype[P],nativeDefineProperty(O,P,Attributes),ObjectPrototypeDescriptor&&O!==ObjectPrototype&&nativeDefineProperty(ObjectPrototype,P,ObjectPrototypeDescriptor)}:nativeDefineProperty,wrap=function(tag,description){var symbol=AllSymbols[tag]=nativeObjectCreate(SymbolPrototype);return setInternalState(symbol,{type:"Symbol",tag:tag,description:description}),DESCRIPTORS||(symbol.description=description),symbol},$defineProperty=function defineProperty(O,P,Attributes){O===ObjectPrototype&&$defineProperty(ObjectPrototypeSymbols,P,Attributes),anObject(O);var key=toPropertyKey(P);return anObject(Attributes),hasOwn(AllSymbols,key)?(Attributes.enumerable?(hasOwn(O,HIDDEN)&&O[HIDDEN][key]&&(O[HIDDEN][key]=!1),Attributes=nativeObjectCreate(Attributes,{enumerable:createPropertyDescriptor(0,!1)})):(hasOwn(O,HIDDEN)||nativeDefineProperty(O,HIDDEN,createPropertyDescriptor(1,{})),O[HIDDEN][key]=!0),setSymbolDescriptor(O,key,Attributes)):nativeDefineProperty(O,key,Attributes)},$defineProperties=function defineProperties(O,Properties){anObject(O);var properties=toIndexedObject(Properties),keys=objectKeys(properties).concat($getOwnPropertySymbols(properties));return $forEach(keys,(function(key){DESCRIPTORS&&!call($propertyIsEnumerable,properties,key)||$defineProperty(O,key,properties[key])})),O},$propertyIsEnumerable=function propertyIsEnumerable(V){var P=toPropertyKey(V),enumerable=call(nativePropertyIsEnumerable,this,P);return!(this===ObjectPrototype&&hasOwn(AllSymbols,P)&&!hasOwn(ObjectPrototypeSymbols,P))&&(!(enumerable||!hasOwn(this,P)||!hasOwn(AllSymbols,P)||hasOwn(this,HIDDEN)&&this[HIDDEN][P])||enumerable)},$getOwnPropertyDescriptor=function getOwnPropertyDescriptor(O,P){var it=toIndexedObject(O),key=toPropertyKey(P);if(it!==ObjectPrototype||!hasOwn(AllSymbols,key)||hasOwn(ObjectPrototypeSymbols,key)){var descriptor=nativeGetOwnPropertyDescriptor(it,key);return!descriptor||!hasOwn(AllSymbols,key)||hasOwn(it,HIDDEN)&&it[HIDDEN][key]||(descriptor.enumerable=!0),descriptor}},$getOwnPropertyNames=function getOwnPropertyNames(O){var names=nativeGetOwnPropertyNames(toIndexedObject(O)),result=[];return $forEach(names,(function(key){hasOwn(AllSymbols,key)||hasOwn(hiddenKeys,key)||push(result,key)})),result},$getOwnPropertySymbols=function(O){var IS_OBJECT_PROTOTYPE=O===ObjectPrototype,names=nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE?ObjectPrototypeSymbols:toIndexedObject(O)),result=[];return $forEach(names,(function(key){!hasOwn(AllSymbols,key)||IS_OBJECT_PROTOTYPE&&!hasOwn(ObjectPrototype,key)||push(result,AllSymbols[key])})),result};NATIVE_SYMBOL||($Symbol=function Symbol(){if(isPrototypeOf(SymbolPrototype,this))throw TypeError("Symbol is not a constructor");var description=arguments.length&&void 0!==arguments[0]?$toString(arguments[0]):void 0,tag=uid(description),setter=function(value){this===ObjectPrototype&&call(setter,ObjectPrototypeSymbols,value),hasOwn(this,HIDDEN)&&hasOwn(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDescriptor(this,tag,createPropertyDescriptor(1,value))};return DESCRIPTORS&&USE_SETTER&&setSymbolDescriptor(ObjectPrototype,tag,{configurable:!0,set:setter}),wrap(tag,description)},redefine(SymbolPrototype=$Symbol.prototype,"toString",(function toString(){return getInternalState(this).tag})),redefine($Symbol,"withoutSetter",(function(description){return wrap(uid(description),description)})),propertyIsEnumerableModule.f=$propertyIsEnumerable,definePropertyModule.f=$defineProperty,definePropertiesModule.f=$defineProperties,getOwnPropertyDescriptorModule.f=$getOwnPropertyDescriptor,getOwnPropertyNamesModule.f=getOwnPropertyNamesExternal.f=$getOwnPropertyNames,getOwnPropertySymbolsModule.f=$getOwnPropertySymbols,wrappedWellKnownSymbolModule.f=function(name){return wrap(wellKnownSymbol(name),name)},DESCRIPTORS&&(nativeDefineProperty(SymbolPrototype,"description",{configurable:!0,get:function description(){return getInternalState(this).description}}),IS_PURE||redefine(ObjectPrototype,"propertyIsEnumerable",$propertyIsEnumerable,{unsafe:!0}))),$({global:!0,wrap:!0,forced:!NATIVE_SYMBOL,sham:!NATIVE_SYMBOL},{Symbol:$Symbol}),$forEach(objectKeys(WellKnownSymbolsStore),(function(name){defineWellKnownSymbol(name)})),$({target:"Symbol",stat:!0,forced:!NATIVE_SYMBOL},{useSetter:function(){USE_SETTER=!0},useSimple:function(){USE_SETTER=!1}}),$({target:"Object",stat:!0,forced:!NATIVE_SYMBOL,sham:!DESCRIPTORS},{create:function create(O,Properties){return void 0===Properties?nativeObjectCreate(O):$defineProperties(nativeObjectCreate(O),Properties)},defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor}),$({target:"Object",stat:!0,forced:!NATIVE_SYMBOL},{getOwnPropertyNames:$getOwnPropertyNames}),defineSymbolToPrimitive(),setToStringTag($Symbol,"Symbol"),hiddenKeys[HIDDEN]=!0},"./node_modules/core-js/modules/es.symbol.description.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("./node_modules/core-js/internals/export.js"),DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),global=__webpack_require__("./node_modules/core-js/internals/global.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),isPrototypeOf=__webpack_require__("./node_modules/core-js/internals/object-is-prototype-of.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),defineProperty=__webpack_require__("./node_modules/core-js/internals/object-define-property.js").f,copyConstructorProperties=__webpack_require__("./node_modules/core-js/internals/copy-constructor-properties.js"),NativeSymbol=global.Symbol,SymbolPrototype=NativeSymbol&&NativeSymbol.prototype;if(DESCRIPTORS&&isCallable(NativeSymbol)&&(!("description"in SymbolPrototype)||void 0!==NativeSymbol().description)){var EmptyStringDescriptionStore={},SymbolWrapper=function Symbol(){var description=arguments.length<1||void 0===arguments[0]?void 0:toString(arguments[0]),result=isPrototypeOf(SymbolPrototype,this)?new NativeSymbol(description):void 0===description?NativeSymbol():NativeSymbol(description);return""===description&&(EmptyStringDescriptionStore[result]=!0),result};copyConstructorProperties(SymbolWrapper,NativeSymbol),SymbolWrapper.prototype=SymbolPrototype,SymbolPrototype.constructor=SymbolWrapper;var NATIVE_SYMBOL="Symbol(test)"==String(NativeSymbol("test")),symbolToString=uncurryThis(SymbolPrototype.toString),symbolValueOf=uncurryThis(SymbolPrototype.valueOf),regexp=/^Symbol\((.*)\)[^)]+$/,replace=uncurryThis("".replace),stringSlice=uncurryThis("".slice);defineProperty(SymbolPrototype,"description",{configurable:!0,get:function description(){var symbol=symbolValueOf(this),string=symbolToString(symbol);if(hasOwn(EmptyStringDescriptionStore,symbol))return"";var desc=NATIVE_SYMBOL?stringSlice(string,7,-1):replace(string,regexp,"$1");return""===desc?void 0:desc}}),$({global:!0,forced:!0},{Symbol:SymbolWrapper})}},"./node_modules/core-js/modules/es.symbol.for.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),getBuiltIn=__webpack_require__("./node_modules/core-js/internals/get-built-in.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),shared=__webpack_require__("./node_modules/core-js/internals/shared.js"),NATIVE_SYMBOL_REGISTRY=__webpack_require__("./node_modules/core-js/internals/native-symbol-registry.js"),StringToSymbolRegistry=shared("string-to-symbol-registry"),SymbolToStringRegistry=shared("symbol-to-string-registry");$({target:"Symbol",stat:!0,forced:!NATIVE_SYMBOL_REGISTRY},{for:function(key){var string=toString(key);if(hasOwn(StringToSymbolRegistry,string))return StringToSymbolRegistry[string];var symbol=getBuiltIn("Symbol")(string);return StringToSymbolRegistry[string]=symbol,SymbolToStringRegistry[symbol]=string,symbol}})},"./node_modules/core-js/modules/es.symbol.has-instance.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js")("hasInstance")},"./node_modules/core-js/modules/es.symbol.is-concat-spreadable.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js")("isConcatSpreadable")},"./node_modules/core-js/modules/es.symbol.iterator.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js")("iterator")},"./node_modules/core-js/modules/es.symbol.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/modules/es.symbol.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.for.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.key-for.js"),__webpack_require__("./node_modules/core-js/modules/es.json.stringify.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")},"./node_modules/core-js/modules/es.symbol.key-for.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),isSymbol=__webpack_require__("./node_modules/core-js/internals/is-symbol.js"),tryToString=__webpack_require__("./node_modules/core-js/internals/try-to-string.js"),shared=__webpack_require__("./node_modules/core-js/internals/shared.js"),NATIVE_SYMBOL_REGISTRY=__webpack_require__("./node_modules/core-js/internals/native-symbol-registry.js"),SymbolToStringRegistry=shared("symbol-to-string-registry");$({target:"Symbol",stat:!0,forced:!NATIVE_SYMBOL_REGISTRY},{keyFor:function keyFor(sym){if(!isSymbol(sym))throw TypeError(tryToString(sym)+" is not a symbol");if(hasOwn(SymbolToStringRegistry,sym))return SymbolToStringRegistry[sym]}})},"./node_modules/core-js/modules/es.symbol.match-all.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js")("matchAll")},"./node_modules/core-js/modules/es.symbol.match.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js")("match")},"./node_modules/core-js/modules/es.symbol.replace.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js")("replace")},"./node_modules/core-js/modules/es.symbol.search.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js")("search")},"./node_modules/core-js/modules/es.symbol.species.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js")("species")},"./node_modules/core-js/modules/es.symbol.split.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js")("split")},"./node_modules/core-js/modules/es.symbol.to-primitive.js":function(module,exports,__webpack_require__){var defineWellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js"),defineSymbolToPrimitive=__webpack_require__("./node_modules/core-js/internals/symbol-define-to-primitive.js");defineWellKnownSymbol("toPrimitive"),defineSymbolToPrimitive()},"./node_modules/core-js/modules/es.symbol.to-string-tag.js":function(module,exports,__webpack_require__){var getBuiltIn=__webpack_require__("./node_modules/core-js/internals/get-built-in.js"),defineWellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js"),setToStringTag=__webpack_require__("./node_modules/core-js/internals/set-to-string-tag.js");defineWellKnownSymbol("toStringTag"),setToStringTag(getBuiltIn("Symbol"),"Symbol")},"./node_modules/core-js/modules/es.symbol.unscopables.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js")("unscopables")},"./node_modules/core-js/modules/es.weak-map.constructor.js":function(module,exports,__webpack_require__){"use strict";var InternalWeakMap,global=__webpack_require__("./node_modules/core-js/internals/global.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),redefineAll=__webpack_require__("./node_modules/core-js/internals/redefine-all.js"),InternalMetadataModule=__webpack_require__("./node_modules/core-js/internals/internal-metadata.js"),collection=__webpack_require__("./node_modules/core-js/internals/collection.js"),collectionWeak=__webpack_require__("./node_modules/core-js/internals/collection-weak.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),isExtensible=__webpack_require__("./node_modules/core-js/internals/object-is-extensible.js"),enforceInternalState=__webpack_require__("./node_modules/core-js/internals/internal-state.js").enforce,NATIVE_WEAK_MAP=__webpack_require__("./node_modules/core-js/internals/native-weak-map.js"),IS_IE11=!global.ActiveXObject&&"ActiveXObject"in global,wrapper=function(init){return function WeakMap(){return init(this,arguments.length?arguments[0]:void 0)}},$WeakMap=collection("WeakMap",wrapper,collectionWeak);if(NATIVE_WEAK_MAP&&IS_IE11){InternalWeakMap=collectionWeak.getConstructor(wrapper,"WeakMap",!0),InternalMetadataModule.enable();var WeakMapPrototype=$WeakMap.prototype,nativeDelete=uncurryThis(WeakMapPrototype.delete),nativeHas=uncurryThis(WeakMapPrototype.has),nativeGet=uncurryThis(WeakMapPrototype.get),nativeSet=uncurryThis(WeakMapPrototype.set);redefineAll(WeakMapPrototype,{delete:function(key){if(isObject(key)&&!isExtensible(key)){var state=enforceInternalState(this);return state.frozen||(state.frozen=new InternalWeakMap),nativeDelete(this,key)||state.frozen.delete(key)}return nativeDelete(this,key)},has:function has(key){if(isObject(key)&&!isExtensible(key)){var state=enforceInternalState(this);return state.frozen||(state.frozen=new InternalWeakMap),nativeHas(this,key)||state.frozen.has(key)}return nativeHas(this,key)},get:function get(key){if(isObject(key)&&!isExtensible(key)){var state=enforceInternalState(this);return state.frozen||(state.frozen=new InternalWeakMap),nativeHas(this,key)?nativeGet(this,key):state.frozen.get(key)}return nativeGet(this,key)},set:function set(key,value){if(isObject(key)&&!isExtensible(key)){var state=enforceInternalState(this);state.frozen||(state.frozen=new InternalWeakMap),nativeHas(this,key)?nativeSet(this,key,value):state.frozen.set(key,value)}else nativeSet(this,key,value);return this}})}},"./node_modules/core-js/modules/es.weak-map.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/modules/es.weak-map.constructor.js")},"./node_modules/core-js/modules/esnext.symbol.async-dispose.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js")("asyncDispose")},"./node_modules/core-js/modules/esnext.symbol.dispose.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js")("dispose")},"./node_modules/core-js/modules/esnext.symbol.matcher.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js")("matcher")},"./node_modules/core-js/modules/esnext.symbol.metadata.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js")("metadata")},"./node_modules/core-js/modules/esnext.symbol.observable.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js")("observable")},"./node_modules/core-js/modules/esnext.symbol.pattern-match.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js")("patternMatch")},"./node_modules/core-js/modules/esnext.symbol.replace-all.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/internals/define-well-known-symbol.js")("replaceAll")},"./node_modules/core-js/modules/web.clear-immediate.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),global=__webpack_require__("./node_modules/core-js/internals/global.js"),clearImmediate=__webpack_require__("./node_modules/core-js/internals/task.js").clear;$({global:!0,bind:!0,enumerable:!0,forced:global.clearImmediate!==clearImmediate},{clearImmediate:clearImmediate})},"./node_modules/core-js/modules/web.dom-collections.for-each.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),DOMIterables=__webpack_require__("./node_modules/core-js/internals/dom-iterables.js"),DOMTokenListPrototype=__webpack_require__("./node_modules/core-js/internals/dom-token-list-prototype.js"),forEach=__webpack_require__("./node_modules/core-js/internals/array-for-each.js"),createNonEnumerableProperty=__webpack_require__("./node_modules/core-js/internals/create-non-enumerable-property.js"),handlePrototype=function(CollectionPrototype){if(CollectionPrototype&&CollectionPrototype.forEach!==forEach)try{createNonEnumerableProperty(CollectionPrototype,"forEach",forEach)}catch(error){CollectionPrototype.forEach=forEach}};for(var COLLECTION_NAME in DOMIterables)DOMIterables[COLLECTION_NAME]&&handlePrototype(global[COLLECTION_NAME]&&global[COLLECTION_NAME].prototype);handlePrototype(DOMTokenListPrototype)},"./node_modules/core-js/modules/web.dom-collections.iterator.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),DOMIterables=__webpack_require__("./node_modules/core-js/internals/dom-iterables.js"),DOMTokenListPrototype=__webpack_require__("./node_modules/core-js/internals/dom-token-list-prototype.js"),ArrayIteratorMethods=__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),createNonEnumerableProperty=__webpack_require__("./node_modules/core-js/internals/create-non-enumerable-property.js"),wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),ITERATOR=wellKnownSymbol("iterator"),TO_STRING_TAG=wellKnownSymbol("toStringTag"),ArrayValues=ArrayIteratorMethods.values,handlePrototype=function(CollectionPrototype,COLLECTION_NAME){if(CollectionPrototype){if(CollectionPrototype[ITERATOR]!==ArrayValues)try{createNonEnumerableProperty(CollectionPrototype,ITERATOR,ArrayValues)}catch(error){CollectionPrototype[ITERATOR]=ArrayValues}if(CollectionPrototype[TO_STRING_TAG]||createNonEnumerableProperty(CollectionPrototype,TO_STRING_TAG,COLLECTION_NAME),DOMIterables[COLLECTION_NAME])for(var METHOD_NAME in ArrayIteratorMethods)if(CollectionPrototype[METHOD_NAME]!==ArrayIteratorMethods[METHOD_NAME])try{createNonEnumerableProperty(CollectionPrototype,METHOD_NAME,ArrayIteratorMethods[METHOD_NAME])}catch(error){CollectionPrototype[METHOD_NAME]=ArrayIteratorMethods[METHOD_NAME]}}};for(var COLLECTION_NAME in DOMIterables)handlePrototype(global[COLLECTION_NAME]&&global[COLLECTION_NAME].prototype,COLLECTION_NAME);handlePrototype(DOMTokenListPrototype,"DOMTokenList")},"./node_modules/core-js/modules/web.immediate.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/modules/web.clear-immediate.js"),__webpack_require__("./node_modules/core-js/modules/web.set-immediate.js")},"./node_modules/core-js/modules/web.set-immediate.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),global=__webpack_require__("./node_modules/core-js/internals/global.js"),setImmediate=__webpack_require__("./node_modules/core-js/internals/task.js").set;$({global:!0,bind:!0,enumerable:!0,forced:global.setImmediate!==setImmediate},{setImmediate:setImmediate})},"./node_modules/core-js/modules/web.url-search-params.constructor.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js");var $=__webpack_require__("./node_modules/core-js/internals/export.js"),global=__webpack_require__("./node_modules/core-js/internals/global.js"),call=__webpack_require__("./node_modules/core-js/internals/function-call.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),USE_NATIVE_URL=__webpack_require__("./node_modules/core-js/internals/native-url.js"),redefine=__webpack_require__("./node_modules/core-js/internals/redefine.js"),redefineAll=__webpack_require__("./node_modules/core-js/internals/redefine-all.js"),setToStringTag=__webpack_require__("./node_modules/core-js/internals/set-to-string-tag.js"),createIteratorConstructor=__webpack_require__("./node_modules/core-js/internals/create-iterator-constructor.js"),InternalStateModule=__webpack_require__("./node_modules/core-js/internals/internal-state.js"),anInstance=__webpack_require__("./node_modules/core-js/internals/an-instance.js"),isCallable=__webpack_require__("./node_modules/core-js/internals/is-callable.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),bind=__webpack_require__("./node_modules/core-js/internals/function-bind-context.js"),classof=__webpack_require__("./node_modules/core-js/internals/classof.js"),anObject=__webpack_require__("./node_modules/core-js/internals/an-object.js"),isObject=__webpack_require__("./node_modules/core-js/internals/is-object.js"),$toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),create=__webpack_require__("./node_modules/core-js/internals/object-create.js"),createPropertyDescriptor=__webpack_require__("./node_modules/core-js/internals/create-property-descriptor.js"),getIterator=__webpack_require__("./node_modules/core-js/internals/get-iterator.js"),getIteratorMethod=__webpack_require__("./node_modules/core-js/internals/get-iterator-method.js"),validateArgumentsLength=__webpack_require__("./node_modules/core-js/internals/validate-arguments-length.js"),wellKnownSymbol=__webpack_require__("./node_modules/core-js/internals/well-known-symbol.js"),arraySort=__webpack_require__("./node_modules/core-js/internals/array-sort.js"),ITERATOR=wellKnownSymbol("iterator"),setInternalState=InternalStateModule.set,getInternalParamsState=InternalStateModule.getterFor("URLSearchParams"),getInternalIteratorState=InternalStateModule.getterFor("URLSearchParamsIterator"),getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,safeGetBuiltIn=function(name){if(!DESCRIPTORS)return global[name];var descriptor=getOwnPropertyDescriptor(global,name);return descriptor&&descriptor.value},nativeFetch=safeGetBuiltIn("fetch"),NativeRequest=safeGetBuiltIn("Request"),Headers=safeGetBuiltIn("Headers"),RequestPrototype=NativeRequest&&NativeRequest.prototype,HeadersPrototype=Headers&&Headers.prototype,RegExp=global.RegExp,TypeError=global.TypeError,decodeURIComponent=global.decodeURIComponent,encodeURIComponent=global.encodeURIComponent,charAt=uncurryThis("".charAt),join=uncurryThis([].join),push=uncurryThis([].push),replace=uncurryThis("".replace),shift=uncurryThis([].shift),splice=uncurryThis([].splice),split=uncurryThis("".split),stringSlice=uncurryThis("".slice),plus=/\+/g,sequences=Array(4),percentSequence=function(bytes){return sequences[bytes-1]||(sequences[bytes-1]=RegExp("((?:%[\\da-f]{2}){"+bytes+"})","gi"))},percentDecode=function(sequence){try{return decodeURIComponent(sequence)}catch(error){return sequence}},deserialize=function(it){var result=replace(it,plus," "),bytes=4;try{return decodeURIComponent(result)}catch(error){for(;bytes;)result=replace(result,percentSequence(bytes--),percentDecode);return result}},find=/[!'()~]|%20/g,replacements={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function(match){return replacements[match]},serialize=function(it){return replace(encodeURIComponent(it),find,replacer)},URLSearchParamsIterator=createIteratorConstructor((function Iterator(params,kind){setInternalState(this,{type:"URLSearchParamsIterator",iterator:getIterator(getInternalParamsState(params).entries),kind:kind})}),"Iterator",(function next(){var state=getInternalIteratorState(this),kind=state.kind,step=state.iterator.next(),entry=step.value;return step.done||(step.value="keys"===kind?entry.key:"values"===kind?entry.value:[entry.key,entry.value]),step}),!0),URLSearchParamsState=function(init){this.entries=[],this.url=null,void 0!==init&&(isObject(init)?this.parseObject(init):this.parseQuery("string"==typeof init?"?"===charAt(init,0)?stringSlice(init,1):init:$toString(init)))};URLSearchParamsState.prototype={type:"URLSearchParams",bindURL:function(url){this.url=url,this.update()},parseObject:function(object){var iterator,next,step,entryIterator,entryNext,first,second,iteratorMethod=getIteratorMethod(object);if(iteratorMethod)for(next=(iterator=getIterator(object,iteratorMethod)).next;!(step=call(next,iterator)).done;){if(entryNext=(entryIterator=getIterator(anObject(step.value))).next,(first=call(entryNext,entryIterator)).done||(second=call(entryNext,entryIterator)).done||!call(entryNext,entryIterator).done)throw TypeError("Expected sequence with length 2");push(this.entries,{key:$toString(first.value),value:$toString(second.value)})}else for(var key in object)hasOwn(object,key)&&push(this.entries,{key:key,value:$toString(object[key])})},parseQuery:function(query){if(query)for(var attribute,entry,attributes=split(query,"&"),index=0;index<attributes.length;)(attribute=attributes[index++]).length&&(entry=split(attribute,"="),push(this.entries,{key:deserialize(shift(entry)),value:deserialize(join(entry,"="))}))},serialize:function(){for(var entry,entries=this.entries,result=[],index=0;index<entries.length;)entry=entries[index++],push(result,serialize(entry.key)+"="+serialize(entry.value));return join(result,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var URLSearchParamsConstructor=function URLSearchParams(){anInstance(this,URLSearchParamsPrototype);var init=arguments.length>0?arguments[0]:void 0;setInternalState(this,new URLSearchParamsState(init))},URLSearchParamsPrototype=URLSearchParamsConstructor.prototype;if(redefineAll(URLSearchParamsPrototype,{append:function append(name,value){validateArgumentsLength(arguments.length,2);var state=getInternalParamsState(this);push(state.entries,{key:$toString(name),value:$toString(value)}),state.updateURL()},delete:function(name){validateArgumentsLength(arguments.length,1);for(var state=getInternalParamsState(this),entries=state.entries,key=$toString(name),index=0;index<entries.length;)entries[index].key===key?splice(entries,index,1):index++;state.updateURL()},get:function get(name){validateArgumentsLength(arguments.length,1);for(var entries=getInternalParamsState(this).entries,key=$toString(name),index=0;index<entries.length;index++)if(entries[index].key===key)return entries[index].value;return null},getAll:function getAll(name){validateArgumentsLength(arguments.length,1);for(var entries=getInternalParamsState(this).entries,key=$toString(name),result=[],index=0;index<entries.length;index++)entries[index].key===key&&push(result,entries[index].value);return result},has:function has(name){validateArgumentsLength(arguments.length,1);for(var entries=getInternalParamsState(this).entries,key=$toString(name),index=0;index<entries.length;)if(entries[index++].key===key)return!0;return!1},set:function set(name,value){validateArgumentsLength(arguments.length,1);for(var entry,state=getInternalParamsState(this),entries=state.entries,found=!1,key=$toString(name),val=$toString(value),index=0;index<entries.length;index++)(entry=entries[index]).key===key&&(found?splice(entries,index--,1):(found=!0,entry.value=val));found||push(entries,{key:key,value:val}),state.updateURL()},sort:function sort(){var state=getInternalParamsState(this);arraySort(state.entries,(function(a,b){return a.key>b.key?1:-1})),state.updateURL()},forEach:function forEach(callback){for(var entry,entries=getInternalParamsState(this).entries,boundFunction=bind(callback,arguments.length>1?arguments[1]:void 0),index=0;index<entries.length;)boundFunction((entry=entries[index++]).value,entry.key,this)},keys:function keys(){return new URLSearchParamsIterator(this,"keys")},values:function values(){return new URLSearchParamsIterator(this,"values")},entries:function entries(){return new URLSearchParamsIterator(this,"entries")}},{enumerable:!0}),redefine(URLSearchParamsPrototype,ITERATOR,URLSearchParamsPrototype.entries,{name:"entries"}),redefine(URLSearchParamsPrototype,"toString",(function toString(){return getInternalParamsState(this).serialize()}),{enumerable:!0}),setToStringTag(URLSearchParamsConstructor,"URLSearchParams"),$({global:!0,forced:!USE_NATIVE_URL},{URLSearchParams:URLSearchParamsConstructor}),!USE_NATIVE_URL&&isCallable(Headers)){var headersHas=uncurryThis(HeadersPrototype.has),headersSet=uncurryThis(HeadersPrototype.set),wrapRequestOptions=function(init){if(isObject(init)){var headers,body=init.body;if("URLSearchParams"===classof(body))return headers=init.headers?new Headers(init.headers):new Headers,headersHas(headers,"content-type")||headersSet(headers,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),create(init,{body:createPropertyDescriptor(0,$toString(body)),headers:createPropertyDescriptor(0,headers)})}return init};if(isCallable(nativeFetch)&&$({global:!0,enumerable:!0,noTargetGet:!0,forced:!0},{fetch:function fetch(input){return nativeFetch(input,arguments.length>1?wrapRequestOptions(arguments[1]):{})}}),isCallable(NativeRequest)){var RequestConstructor=function Request(input){return anInstance(this,RequestPrototype),new NativeRequest(input,arguments.length>1?wrapRequestOptions(arguments[1]):{})};RequestPrototype.constructor=RequestConstructor,RequestConstructor.prototype=RequestPrototype,$({global:!0,forced:!0,noTargetGet:!0},{Request:RequestConstructor})}}module.exports={URLSearchParams:URLSearchParamsConstructor,getState:getInternalParamsState}},"./node_modules/core-js/modules/web.url.constructor.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js");var EOF,$=__webpack_require__("./node_modules/core-js/internals/export.js"),DESCRIPTORS=__webpack_require__("./node_modules/core-js/internals/descriptors.js"),USE_NATIVE_URL=__webpack_require__("./node_modules/core-js/internals/native-url.js"),global=__webpack_require__("./node_modules/core-js/internals/global.js"),bind=__webpack_require__("./node_modules/core-js/internals/function-bind-context.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),defineProperties=__webpack_require__("./node_modules/core-js/internals/object-define-properties.js").f,redefine=__webpack_require__("./node_modules/core-js/internals/redefine.js"),anInstance=__webpack_require__("./node_modules/core-js/internals/an-instance.js"),hasOwn=__webpack_require__("./node_modules/core-js/internals/has-own-property.js"),assign=__webpack_require__("./node_modules/core-js/internals/object-assign.js"),arrayFrom=__webpack_require__("./node_modules/core-js/internals/array-from.js"),arraySlice=__webpack_require__("./node_modules/core-js/internals/array-slice-simple.js"),codeAt=__webpack_require__("./node_modules/core-js/internals/string-multibyte.js").codeAt,toASCII=__webpack_require__("./node_modules/core-js/internals/string-punycode-to-ascii.js"),$toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),setToStringTag=__webpack_require__("./node_modules/core-js/internals/set-to-string-tag.js"),validateArgumentsLength=__webpack_require__("./node_modules/core-js/internals/validate-arguments-length.js"),URLSearchParamsModule=__webpack_require__("./node_modules/core-js/modules/web.url-search-params.constructor.js"),InternalStateModule=__webpack_require__("./node_modules/core-js/internals/internal-state.js"),setInternalState=InternalStateModule.set,getInternalURLState=InternalStateModule.getterFor("URL"),URLSearchParams=URLSearchParamsModule.URLSearchParams,getInternalSearchParamsState=URLSearchParamsModule.getState,NativeURL=global.URL,TypeError=global.TypeError,parseInt=global.parseInt,floor=Math.floor,pow=Math.pow,charAt=uncurryThis("".charAt),exec=uncurryThis(/./.exec),join=uncurryThis([].join),numberToString=uncurryThis(1..toString),pop=uncurryThis([].pop),push=uncurryThis([].push),replace=uncurryThis("".replace),shift=uncurryThis([].shift),split=uncurryThis("".split),stringSlice=uncurryThis("".slice),toLowerCase=uncurryThis("".toLowerCase),unshift=uncurryThis([].unshift),ALPHA=/[a-z]/i,ALPHANUMERIC=/[\d+-.a-z]/i,DIGIT=/\d/,HEX_START=/^0x/i,OCT=/^[0-7]+$/,DEC=/^\d+$/,HEX=/^[\da-f]+$/i,FORBIDDEN_HOST_CODE_POINT=/[\0\t\n\r #%/:<>?@[\\\]^|]/,FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT=/[\0\t\n\r #/:<>?@[\\\]^|]/,LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,TAB_AND_NEW_LINE=/[\t\n\r]/g,serializeHost=function(host){var result,index,compress,ignore0;if("number"==typeof host){for(result=[],index=0;index<4;index++)unshift(result,host%256),host=floor(host/256);return join(result,".")}if("object"==typeof host){for(result="",compress=function(ipv6){for(var maxIndex=null,maxLength=1,currStart=null,currLength=0,index=0;index<8;index++)0!==ipv6[index]?(currLength>maxLength&&(maxIndex=currStart,maxLength=currLength),currStart=null,currLength=0):(null===currStart&&(currStart=index),++currLength);return currLength>maxLength&&(maxIndex=currStart,maxLength=currLength),maxIndex}(host),index=0;index<8;index++)ignore0&&0===host[index]||(ignore0&&(ignore0=!1),compress===index?(result+=index?":":"::",ignore0=!0):(result+=numberToString(host[index],16),index<7&&(result+=":")));return"["+result+"]"}return host},C0ControlPercentEncodeSet={},fragmentPercentEncodeSet=assign({},C0ControlPercentEncodeSet,{" ":1,'"':1,"<":1,">":1,"`":1}),pathPercentEncodeSet=assign({},fragmentPercentEncodeSet,{"#":1,"?":1,"{":1,"}":1}),userinfoPercentEncodeSet=assign({},pathPercentEncodeSet,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(chr,set){var code=codeAt(chr,0);return code>32&&code<127&&!hasOwn(set,chr)?chr:encodeURIComponent(chr)},specialSchemes={ftp:21,file:null,http:80,https:443,ws:80,wss:443},isWindowsDriveLetter=function(string,normalized){var second;return 2==string.length&&exec(ALPHA,charAt(string,0))&&(":"==(second=charAt(string,1))||!normalized&&"|"==second)},startsWithWindowsDriveLetter=function(string){var third;return string.length>1&&isWindowsDriveLetter(stringSlice(string,0,2))&&(2==string.length||"/"===(third=charAt(string,2))||"\\"===third||"?"===third||"#"===third)},isSingleDot=function(segment){return"."===segment||"%2e"===toLowerCase(segment)},SCHEME_START={},SCHEME={},NO_SCHEME={},SPECIAL_RELATIVE_OR_AUTHORITY={},PATH_OR_AUTHORITY={},RELATIVE={},RELATIVE_SLASH={},SPECIAL_AUTHORITY_SLASHES={},SPECIAL_AUTHORITY_IGNORE_SLASHES={},AUTHORITY={},HOST={},HOSTNAME={},PORT={},FILE={},FILE_SLASH={},FILE_HOST={},PATH_START={},PATH={},CANNOT_BE_A_BASE_URL_PATH={},QUERY={},FRAGMENT={},URLState=function(url,isBase,base){var baseState,failure,searchParams,urlString=$toString(url);if(isBase){if(failure=this.parse(urlString))throw TypeError(failure);this.searchParams=null}else{if(void 0!==base&&(baseState=new URLState(base,!0)),failure=this.parse(urlString,null,baseState))throw TypeError(failure);(searchParams=getInternalSearchParamsState(new URLSearchParams)).bindURL(this),this.searchParams=searchParams}};URLState.prototype={type:"URL",parse:function(input,stateOverride,base){var codePoints,chr,bufferCodePoints,failure,segment,url=this,state=stateOverride||SCHEME_START,pointer=0,buffer="",seenAt=!1,seenBracket=!1,seenPasswordToken=!1;for(input=$toString(input),stateOverride||(url.scheme="",url.username="",url.password="",url.host=null,url.port=null,url.path=[],url.query=null,url.fragment=null,url.cannotBeABaseURL=!1,input=replace(input,LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE,"")),input=replace(input,TAB_AND_NEW_LINE,""),codePoints=arrayFrom(input);pointer<=codePoints.length;){switch(chr=codePoints[pointer],state){case SCHEME_START:if(!chr||!exec(ALPHA,chr)){if(stateOverride)return"Invalid scheme";state=NO_SCHEME;continue}buffer+=toLowerCase(chr),state=SCHEME;break;case SCHEME:if(chr&&(exec(ALPHANUMERIC,chr)||"+"==chr||"-"==chr||"."==chr))buffer+=toLowerCase(chr);else{if(":"!=chr){if(stateOverride)return"Invalid scheme";buffer="",state=NO_SCHEME,pointer=0;continue}if(stateOverride&&(url.isSpecial()!=hasOwn(specialSchemes,buffer)||"file"==buffer&&(url.includesCredentials()||null!==url.port)||"file"==url.scheme&&!url.host))return;if(url.scheme=buffer,stateOverride)return void(url.isSpecial()&&specialSchemes[url.scheme]==url.port&&(url.port=null));buffer="","file"==url.scheme?state=FILE:url.isSpecial()&&base&&base.scheme==url.scheme?state=SPECIAL_RELATIVE_OR_AUTHORITY:url.isSpecial()?state=SPECIAL_AUTHORITY_SLASHES:"/"==codePoints[pointer+1]?(state=PATH_OR_AUTHORITY,pointer++):(url.cannotBeABaseURL=!0,push(url.path,""),state=CANNOT_BE_A_BASE_URL_PATH)}break;case NO_SCHEME:if(!base||base.cannotBeABaseURL&&"#"!=chr)return"Invalid scheme";if(base.cannotBeABaseURL&&"#"==chr){url.scheme=base.scheme,url.path=arraySlice(base.path),url.query=base.query,url.fragment="",url.cannotBeABaseURL=!0,state=FRAGMENT;break}state="file"==base.scheme?FILE:RELATIVE;continue;case SPECIAL_RELATIVE_OR_AUTHORITY:if("/"!=chr||"/"!=codePoints[pointer+1]){state=RELATIVE;continue}state=SPECIAL_AUTHORITY_IGNORE_SLASHES,pointer++;break;case PATH_OR_AUTHORITY:if("/"==chr){state=AUTHORITY;break}state=PATH;continue;case RELATIVE:if(url.scheme=base.scheme,chr==EOF)url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=arraySlice(base.path),url.query=base.query;else if("/"==chr||"\\"==chr&&url.isSpecial())state=RELATIVE_SLASH;else if("?"==chr)url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=arraySlice(base.path),url.query="",state=QUERY;else{if("#"!=chr){url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=arraySlice(base.path),url.path.length--,state=PATH;continue}url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=arraySlice(base.path),url.query=base.query,url.fragment="",state=FRAGMENT}break;case RELATIVE_SLASH:if(!url.isSpecial()||"/"!=chr&&"\\"!=chr){if("/"!=chr){url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,state=PATH;continue}state=AUTHORITY}else state=SPECIAL_AUTHORITY_IGNORE_SLASHES;break;case SPECIAL_AUTHORITY_SLASHES:if(state=SPECIAL_AUTHORITY_IGNORE_SLASHES,"/"!=chr||"/"!=charAt(buffer,pointer+1))continue;pointer++;break;case SPECIAL_AUTHORITY_IGNORE_SLASHES:if("/"!=chr&&"\\"!=chr){state=AUTHORITY;continue}break;case AUTHORITY:if("@"==chr){seenAt&&(buffer="%40"+buffer),seenAt=!0,bufferCodePoints=arrayFrom(buffer);for(var i=0;i<bufferCodePoints.length;i++){var codePoint=bufferCodePoints[i];if(":"!=codePoint||seenPasswordToken){var encodedCodePoints=percentEncode(codePoint,userinfoPercentEncodeSet);seenPasswordToken?url.password+=encodedCodePoints:url.username+=encodedCodePoints}else seenPasswordToken=!0}buffer=""}else if(chr==EOF||"/"==chr||"?"==chr||"#"==chr||"\\"==chr&&url.isSpecial()){if(seenAt&&""==buffer)return"Invalid authority";pointer-=arrayFrom(buffer).length+1,buffer="",state=HOST}else buffer+=chr;break;case HOST:case HOSTNAME:if(stateOverride&&"file"==url.scheme){state=FILE_HOST;continue}if(":"!=chr||seenBracket){if(chr==EOF||"/"==chr||"?"==chr||"#"==chr||"\\"==chr&&url.isSpecial()){if(url.isSpecial()&&""==buffer)return"Invalid host";if(stateOverride&&""==buffer&&(url.includesCredentials()||null!==url.port))return;if(failure=url.parseHost(buffer))return failure;if(buffer="",state=PATH_START,stateOverride)return;continue}"["==chr?seenBracket=!0:"]"==chr&&(seenBracket=!1),buffer+=chr}else{if(""==buffer)return"Invalid host";if(failure=url.parseHost(buffer))return failure;if(buffer="",state=PORT,stateOverride==HOSTNAME)return}break;case PORT:if(!exec(DIGIT,chr)){if(chr==EOF||"/"==chr||"?"==chr||"#"==chr||"\\"==chr&&url.isSpecial()||stateOverride){if(""!=buffer){var port=parseInt(buffer,10);if(port>65535)return"Invalid port";url.port=url.isSpecial()&&port===specialSchemes[url.scheme]?null:port,buffer=""}if(stateOverride)return;state=PATH_START;continue}return"Invalid port"}buffer+=chr;break;case FILE:if(url.scheme="file","/"==chr||"\\"==chr)state=FILE_SLASH;else{if(!base||"file"!=base.scheme){state=PATH;continue}if(chr==EOF)url.host=base.host,url.path=arraySlice(base.path),url.query=base.query;else if("?"==chr)url.host=base.host,url.path=arraySlice(base.path),url.query="",state=QUERY;else{if("#"!=chr){startsWithWindowsDriveLetter(join(arraySlice(codePoints,pointer),""))||(url.host=base.host,url.path=arraySlice(base.path),url.shortenPath()),state=PATH;continue}url.host=base.host,url.path=arraySlice(base.path),url.query=base.query,url.fragment="",state=FRAGMENT}}break;case FILE_SLASH:if("/"==chr||"\\"==chr){state=FILE_HOST;break}base&&"file"==base.scheme&&!startsWithWindowsDriveLetter(join(arraySlice(codePoints,pointer),""))&&(isWindowsDriveLetter(base.path[0],!0)?push(url.path,base.path[0]):url.host=base.host),state=PATH;continue;case FILE_HOST:if(chr==EOF||"/"==chr||"\\"==chr||"?"==chr||"#"==chr){if(!stateOverride&&isWindowsDriveLetter(buffer))state=PATH;else if(""==buffer){if(url.host="",stateOverride)return;state=PATH_START}else{if(failure=url.parseHost(buffer))return failure;if("localhost"==url.host&&(url.host=""),stateOverride)return;buffer="",state=PATH_START}continue}buffer+=chr;break;case PATH_START:if(url.isSpecial()){if(state=PATH,"/"!=chr&&"\\"!=chr)continue}else if(stateOverride||"?"!=chr)if(stateOverride||"#"!=chr){if(chr!=EOF&&(state=PATH,"/"!=chr))continue}else url.fragment="",state=FRAGMENT;else url.query="",state=QUERY;break;case PATH:if(chr==EOF||"/"==chr||"\\"==chr&&url.isSpecial()||!stateOverride&&("?"==chr||"#"==chr)){if(".."===(segment=toLowerCase(segment=buffer))||"%2e."===segment||".%2e"===segment||"%2e%2e"===segment?(url.shortenPath(),"/"==chr||"\\"==chr&&url.isSpecial()||push(url.path,"")):isSingleDot(buffer)?"/"==chr||"\\"==chr&&url.isSpecial()||push(url.path,""):("file"==url.scheme&&!url.path.length&&isWindowsDriveLetter(buffer)&&(url.host&&(url.host=""),buffer=charAt(buffer,0)+":"),push(url.path,buffer)),buffer="","file"==url.scheme&&(chr==EOF||"?"==chr||"#"==chr))for(;url.path.length>1&&""===url.path[0];)shift(url.path);"?"==chr?(url.query="",state=QUERY):"#"==chr&&(url.fragment="",state=FRAGMENT)}else buffer+=percentEncode(chr,pathPercentEncodeSet);break;case CANNOT_BE_A_BASE_URL_PATH:"?"==chr?(url.query="",state=QUERY):"#"==chr?(url.fragment="",state=FRAGMENT):chr!=EOF&&(url.path[0]+=percentEncode(chr,C0ControlPercentEncodeSet));break;case QUERY:stateOverride||"#"!=chr?chr!=EOF&&("'"==chr&&url.isSpecial()?url.query+="%27":url.query+="#"==chr?"%23":percentEncode(chr,C0ControlPercentEncodeSet)):(url.fragment="",state=FRAGMENT);break;case FRAGMENT:chr!=EOF&&(url.fragment+=percentEncode(chr,fragmentPercentEncodeSet))}pointer++}},parseHost:function(input){var result,codePoints,index;if("["==charAt(input,0)){if("]"!=charAt(input,input.length-1))return"Invalid host";if(result=function(input){var value,length,numbersSeen,ipv4Piece,number,swaps,swap,address=[0,0,0,0,0,0,0,0],pieceIndex=0,compress=null,pointer=0,chr=function(){return charAt(input,pointer)};if(":"==chr()){if(":"!=charAt(input,1))return;pointer+=2,compress=++pieceIndex}for(;chr();){if(8==pieceIndex)return;if(":"!=chr()){for(value=length=0;length<4&&exec(HEX,chr());)value=16*value+parseInt(chr(),16),pointer++,length++;if("."==chr()){if(0==length)return;if(pointer-=length,pieceIndex>6)return;for(numbersSeen=0;chr();){if(ipv4Piece=null,numbersSeen>0){if(!("."==chr()&&numbersSeen<4))return;pointer++}if(!exec(DIGIT,chr()))return;for(;exec(DIGIT,chr());){if(number=parseInt(chr(),10),null===ipv4Piece)ipv4Piece=number;else{if(0==ipv4Piece)return;ipv4Piece=10*ipv4Piece+number}if(ipv4Piece>255)return;pointer++}address[pieceIndex]=256*address[pieceIndex]+ipv4Piece,2!=++numbersSeen&&4!=numbersSeen||pieceIndex++}if(4!=numbersSeen)return;break}if(":"==chr()){if(pointer++,!chr())return}else if(chr())return;address[pieceIndex++]=value}else{if(null!==compress)return;pointer++,compress=++pieceIndex}}if(null!==compress)for(swaps=pieceIndex-compress,pieceIndex=7;0!=pieceIndex&&swaps>0;)swap=address[pieceIndex],address[pieceIndex--]=address[compress+swaps-1],address[compress+--swaps]=swap;else if(8!=pieceIndex)return;return address}(stringSlice(input,1,-1)),!result)return"Invalid host";this.host=result}else if(this.isSpecial()){if(input=toASCII(input),exec(FORBIDDEN_HOST_CODE_POINT,input))return"Invalid host";if(result=function(input){var partsLength,numbers,index,part,radix,number,ipv4,parts=split(input,".");if(parts.length&&""==parts[parts.length-1]&&parts.length--,(partsLength=parts.length)>4)return input;for(numbers=[],index=0;index<partsLength;index++){if(""==(part=parts[index]))return input;if(radix=10,part.length>1&&"0"==charAt(part,0)&&(radix=exec(HEX_START,part)?16:8,part=stringSlice(part,8==radix?1:2)),""===part)number=0;else{if(!exec(10==radix?DEC:8==radix?OCT:HEX,part))return input;number=parseInt(part,radix)}push(numbers,number)}for(index=0;index<partsLength;index++)if(number=numbers[index],index==partsLength-1){if(number>=pow(256,5-partsLength))return null}else if(number>255)return null;for(ipv4=pop(numbers),index=0;index<numbers.length;index++)ipv4+=numbers[index]*pow(256,3-index);return ipv4}(input),null===result)return"Invalid host";this.host=result}else{if(exec(FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT,input))return"Invalid host";for(result="",codePoints=arrayFrom(input),index=0;index<codePoints.length;index++)result+=percentEncode(codePoints[index],C0ControlPercentEncodeSet);this.host=result}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return hasOwn(specialSchemes,this.scheme)},shortenPath:function(){var path=this.path,pathSize=path.length;!pathSize||"file"==this.scheme&&1==pathSize&&isWindowsDriveLetter(path[0],!0)||path.length--},serialize:function(){var url=this,scheme=url.scheme,username=url.username,password=url.password,host=url.host,port=url.port,path=url.path,query=url.query,fragment=url.fragment,output=scheme+":";return null!==host?(output+="//",url.includesCredentials()&&(output+=username+(password?":"+password:"")+"@"),output+=serializeHost(host),null!==port&&(output+=":"+port)):"file"==scheme&&(output+="//"),output+=url.cannotBeABaseURL?path[0]:path.length?"/"+join(path,"/"):"",null!==query&&(output+="?"+query),null!==fragment&&(output+="#"+fragment),output},setHref:function(href){var failure=this.parse(href);if(failure)throw TypeError(failure);this.searchParams.update()},getOrigin:function(){var scheme=this.scheme,port=this.port;if("blob"==scheme)try{return new URLConstructor(scheme.path[0]).origin}catch(error){return"null"}return"file"!=scheme&&this.isSpecial()?scheme+"://"+serializeHost(this.host)+(null!==port?":"+port:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(protocol){this.parse($toString(protocol)+":",SCHEME_START)},getUsername:function(){return this.username},setUsername:function(username){var codePoints=arrayFrom($toString(username));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var i=0;i<codePoints.length;i++)this.username+=percentEncode(codePoints[i],userinfoPercentEncodeSet)}},getPassword:function(){return this.password},setPassword:function(password){var codePoints=arrayFrom($toString(password));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var i=0;i<codePoints.length;i++)this.password+=percentEncode(codePoints[i],userinfoPercentEncodeSet)}},getHost:function(){var host=this.host,port=this.port;return null===host?"":null===port?serializeHost(host):serializeHost(host)+":"+port},setHost:function(host){this.cannotBeABaseURL||this.parse(host,HOST)},getHostname:function(){var host=this.host;return null===host?"":serializeHost(host)},setHostname:function(hostname){this.cannotBeABaseURL||this.parse(hostname,HOSTNAME)},getPort:function(){var port=this.port;return null===port?"":$toString(port)},setPort:function(port){this.cannotHaveUsernamePasswordPort()||(""==(port=$toString(port))?this.port=null:this.parse(port,PORT))},getPathname:function(){var path=this.path;return this.cannotBeABaseURL?path[0]:path.length?"/"+join(path,"/"):""},setPathname:function(pathname){this.cannotBeABaseURL||(this.path=[],this.parse(pathname,PATH_START))},getSearch:function(){var query=this.query;return query?"?"+query:""},setSearch:function(search){""==(search=$toString(search))?this.query=null:("?"==charAt(search,0)&&(search=stringSlice(search,1)),this.query="",this.parse(search,QUERY)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var fragment=this.fragment;return fragment?"#"+fragment:""},setHash:function(hash){""!=(hash=$toString(hash))?("#"==charAt(hash,0)&&(hash=stringSlice(hash,1)),this.fragment="",this.parse(hash,FRAGMENT)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var URLConstructor=function URL(url){var that=anInstance(this,URLPrototype),base=validateArgumentsLength(arguments.length,1)>1?arguments[1]:void 0,state=setInternalState(that,new URLState(url,!1,base));DESCRIPTORS||(that.href=state.serialize(),that.origin=state.getOrigin(),that.protocol=state.getProtocol(),that.username=state.getUsername(),that.password=state.getPassword(),that.host=state.getHost(),that.hostname=state.getHostname(),that.port=state.getPort(),that.pathname=state.getPathname(),that.search=state.getSearch(),that.searchParams=state.getSearchParams(),that.hash=state.getHash())},URLPrototype=URLConstructor.prototype,accessorDescriptor=function(getter,setter){return{get:function(){return getInternalURLState(this)[getter]()},set:setter&&function(value){return getInternalURLState(this)[setter](value)},configurable:!0,enumerable:!0}};if(DESCRIPTORS&&defineProperties(URLPrototype,{href:accessorDescriptor("serialize","setHref"),origin:accessorDescriptor("getOrigin"),protocol:accessorDescriptor("getProtocol","setProtocol"),username:accessorDescriptor("getUsername","setUsername"),password:accessorDescriptor("getPassword","setPassword"),host:accessorDescriptor("getHost","setHost"),hostname:accessorDescriptor("getHostname","setHostname"),port:accessorDescriptor("getPort","setPort"),pathname:accessorDescriptor("getPathname","setPathname"),search:accessorDescriptor("getSearch","setSearch"),searchParams:accessorDescriptor("getSearchParams"),hash:accessorDescriptor("getHash","setHash")}),redefine(URLPrototype,"toJSON",(function toJSON(){return getInternalURLState(this).serialize()}),{enumerable:!0}),redefine(URLPrototype,"toString",(function toString(){return getInternalURLState(this).serialize()}),{enumerable:!0}),NativeURL){var nativeCreateObjectURL=NativeURL.createObjectURL,nativeRevokeObjectURL=NativeURL.revokeObjectURL;nativeCreateObjectURL&&redefine(URLConstructor,"createObjectURL",bind(nativeCreateObjectURL,NativeURL)),nativeRevokeObjectURL&&redefine(URLConstructor,"revokeObjectURL",bind(nativeRevokeObjectURL,NativeURL))}setToStringTag(URLConstructor,"URL"),$({global:!0,forced:!USE_NATIVE_URL,sham:!DESCRIPTORS},{URL:URLConstructor})},"./node_modules/core-js/modules/web.url.js":function(module,exports,__webpack_require__){__webpack_require__("./node_modules/core-js/modules/web.url.constructor.js")},"./node_modules/core-js/stable/symbol/index.js":function(module,exports,__webpack_require__){var parent=__webpack_require__("./node_modules/core-js/es/symbol/index.js");__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),module.exports=parent},"./node_modules/define-properties/index.js":function(module,exports,__webpack_require__){"use strict";var keys=__webpack_require__("./node_modules/object-keys/index.js"),hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),toStr=Object.prototype.toString,concat=Array.prototype.concat,origDefineProperty=Object.defineProperty,hasPropertyDescriptors=__webpack_require__("./node_modules/has-property-descriptors/index.js")(),supportsDescriptors=origDefineProperty&&hasPropertyDescriptors,defineProperty=function(object,name,value,predicate){var fn;(!(name in object)||"function"==typeof(fn=predicate)&&"[object Function]"===toStr.call(fn)&&predicate())&&(supportsDescriptors?origDefineProperty(object,name,{configurable:!0,enumerable:!1,value:value,writable:!0}):object[name]=value)},defineProperties=function(object,map){var predicates=arguments.length>2?arguments[2]:{},props=keys(map);hasSymbols&&(props=concat.call(props,Object.getOwnPropertySymbols(map)));for(var i=0;i<props.length;i+=1)defineProperty(object,props[i],map[props[i]],predicates[props[i]])};defineProperties.supportsDescriptors=!!supportsDescriptors,module.exports=defineProperties},"./node_modules/echarts/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"version",(function(){return echarts_version})),__webpack_require__.d(__webpack_exports__,"dependencies",(function(){return dependencies})),__webpack_require__.d(__webpack_exports__,"PRIORITY",(function(){return PRIORITY})),__webpack_require__.d(__webpack_exports__,"init",(function(){return echarts_init})),__webpack_require__.d(__webpack_exports__,"connect",(function(){return connect})),__webpack_require__.d(__webpack_exports__,"disConnect",(function(){return disConnect})),__webpack_require__.d(__webpack_exports__,"disconnect",(function(){return disconnect})),__webpack_require__.d(__webpack_exports__,"dispose",(function(){return echarts_dispose})),__webpack_require__.d(__webpack_exports__,"getInstanceByDom",(function(){return getInstanceByDom})),__webpack_require__.d(__webpack_exports__,"getInstanceById",(function(){return getInstanceById})),__webpack_require__.d(__webpack_exports__,"registerTheme",(function(){return registerTheme})),__webpack_require__.d(__webpack_exports__,"registerPreprocessor",(function(){return registerPreprocessor})),__webpack_require__.d(__webpack_exports__,"registerProcessor",(function(){return registerProcessor})),__webpack_require__.d(__webpack_exports__,"registerPostInit",(function(){return registerPostInit})),__webpack_require__.d(__webpack_exports__,"registerPostUpdate",(function(){return registerPostUpdate})),__webpack_require__.d(__webpack_exports__,"registerUpdateLifecycle",(function(){return registerUpdateLifecycle})),__webpack_require__.d(__webpack_exports__,"registerAction",(function(){return registerAction})),__webpack_require__.d(__webpack_exports__,"registerCoordinateSystem",(function(){return registerCoordinateSystem})),__webpack_require__.d(__webpack_exports__,"getCoordinateSystemDimensions",(function(){return getCoordinateSystemDimensions})),__webpack_require__.d(__webpack_exports__,"registerLocale",(function(){return registerLocale})),__webpack_require__.d(__webpack_exports__,"registerLayout",(function(){return registerLayout})),__webpack_require__.d(__webpack_exports__,"registerVisual",(function(){return registerVisual})),__webpack_require__.d(__webpack_exports__,"registerLoading",(function(){return registerLoading})),__webpack_require__.d(__webpack_exports__,"setCanvasCreator",(function(){return setCanvasCreator})),__webpack_require__.d(__webpack_exports__,"registerMap",(function(){return echarts_registerMap})),__webpack_require__.d(__webpack_exports__,"getMap",(function(){return echarts_getMap})),__webpack_require__.d(__webpack_exports__,"registerTransform",(function(){return registerTransform})),__webpack_require__.d(__webpack_exports__,"dataTool",(function(){return dataTool})),__webpack_require__.d(__webpack_exports__,"zrender",(function(){return zrender_namespaceObject})),__webpack_require__.d(__webpack_exports__,"matrix",(function(){return matrix_namespaceObject})),__webpack_require__.d(__webpack_exports__,"vector",(function(){return vector_namespaceObject})),__webpack_require__.d(__webpack_exports__,"zrUtil",(function(){return util})),__webpack_require__.d(__webpack_exports__,"color",(function(){return tool_color})),__webpack_require__.d(__webpack_exports__,"throttle",(function(){return throttle})),__webpack_require__.d(__webpack_exports__,"helper",(function(){return api_helper_namespaceObject})),__webpack_require__.d(__webpack_exports__,"use",(function(){return use})),__webpack_require__.d(__webpack_exports__,"setPlatformAPI",(function(){return platform.e})),__webpack_require__.d(__webpack_exports__,"parseGeoJSON",(function(){return parseGeoJSON})),__webpack_require__.d(__webpack_exports__,"parseGeoJson",(function(){return parseGeoJSON})),__webpack_require__.d(__webpack_exports__,"number",(function(){return api_number_namespaceObject})),__webpack_require__.d(__webpack_exports__,"time",(function(){return api_time_namespaceObject})),__webpack_require__.d(__webpack_exports__,"graphic",(function(){return api_graphic_namespaceObject})),__webpack_require__.d(__webpack_exports__,"format",(function(){return api_format_namespaceObject})),__webpack_require__.d(__webpack_exports__,"util",(function(){return api_util_namespaceObject})),__webpack_require__.d(__webpack_exports__,"env",(function(){return env.a})),__webpack_require__.d(__webpack_exports__,"List",(function(){return data_SeriesData})),__webpack_require__.d(__webpack_exports__,"Model",(function(){return model_Model})),__webpack_require__.d(__webpack_exports__,"Axis",(function(){return coord_Axis})),__webpack_require__.d(__webpack_exports__,"ComponentModel",(function(){return Component})),__webpack_require__.d(__webpack_exports__,"ComponentView",(function(){return view_Component})),__webpack_require__.d(__webpack_exports__,"SeriesModel",(function(){return Series})),__webpack_require__.d(__webpack_exports__,"ChartView",(function(){return Chart})),__webpack_require__.d(__webpack_exports__,"innerDrawElementOnCanvas",(function(){return brushSingle})),__webpack_require__.d(__webpack_exports__,"extendComponentModel",(function(){return extendComponentModel})),__webpack_require__.d(__webpack_exports__,"extendComponentView",(function(){return extendComponentView})),__webpack_require__.d(__webpack_exports__,"extendSeriesModel",(function(){return extendSeriesModel})),__webpack_require__.d(__webpack_exports__,"extendChartView",(function(){return extendChartView}));var vector_namespaceObject={};__webpack_require__.r(vector_namespaceObject),__webpack_require__.d(vector_namespaceObject,"create",(function(){return vector_create})),__webpack_require__.d(vector_namespaceObject,"copy",(function(){return vector_copy})),__webpack_require__.d(vector_namespaceObject,"clone",(function(){return clone})),__webpack_require__.d(vector_namespaceObject,"set",(function(){return set})),__webpack_require__.d(vector_namespaceObject,"add",(function(){return vector_add})),__webpack_require__.d(vector_namespaceObject,"scaleAndAdd",(function(){return scaleAndAdd})),__webpack_require__.d(vector_namespaceObject,"sub",(function(){return sub})),__webpack_require__.d(vector_namespaceObject,"len",(function(){return vector_len})),__webpack_require__.d(vector_namespaceObject,"length",(function(){return vector_length})),__webpack_require__.d(vector_namespaceObject,"lenSquare",(function(){return lenSquare})),__webpack_require__.d(vector_namespaceObject,"lengthSquare",(function(){return lengthSquare})),__webpack_require__.d(vector_namespaceObject,"mul",(function(){return vector_mul})),__webpack_require__.d(vector_namespaceObject,"div",(function(){return div})),__webpack_require__.d(vector_namespaceObject,"dot",(function(){return dot})),__webpack_require__.d(vector_namespaceObject,"scale",(function(){return vector_scale})),__webpack_require__.d(vector_namespaceObject,"normalize",(function(){return normalize})),__webpack_require__.d(vector_namespaceObject,"distance",(function(){return vector_distance})),__webpack_require__.d(vector_namespaceObject,"dist",(function(){return vector_dist})),__webpack_require__.d(vector_namespaceObject,"distanceSquare",(function(){return distanceSquare})),__webpack_require__.d(vector_namespaceObject,"distSquare",(function(){return distSquare})),__webpack_require__.d(vector_namespaceObject,"negate",(function(){return negate})),__webpack_require__.d(vector_namespaceObject,"lerp",(function(){return lerp})),__webpack_require__.d(vector_namespaceObject,"applyTransform",(function(){return applyTransform})),__webpack_require__.d(vector_namespaceObject,"min",(function(){return vector_min})),__webpack_require__.d(vector_namespaceObject,"max",(function(){return vector_max}));var matrix_namespaceObject={};__webpack_require__.r(matrix_namespaceObject),__webpack_require__.d(matrix_namespaceObject,"create",(function(){return matrix_create})),__webpack_require__.d(matrix_namespaceObject,"identity",(function(){return identity})),__webpack_require__.d(matrix_namespaceObject,"copy",(function(){return matrix_copy})),__webpack_require__.d(matrix_namespaceObject,"mul",(function(){return matrix_mul})),__webpack_require__.d(matrix_namespaceObject,"translate",(function(){return matrix_translate})),__webpack_require__.d(matrix_namespaceObject,"rotate",(function(){return matrix_rotate})),__webpack_require__.d(matrix_namespaceObject,"scale",(function(){return matrix_scale})),__webpack_require__.d(matrix_namespaceObject,"invert",(function(){return matrix_invert})),__webpack_require__.d(matrix_namespaceObject,"clone",(function(){return matrix_clone}));var zrender_namespaceObject={};__webpack_require__.r(zrender_namespaceObject),__webpack_require__.d(zrender_namespaceObject,"init",(function(){return init})),__webpack_require__.d(zrender_namespaceObject,"dispose",(function(){return dispose})),__webpack_require__.d(zrender_namespaceObject,"disposeAll",(function(){return disposeAll})),__webpack_require__.d(zrender_namespaceObject,"getInstance",(function(){return getInstance})),__webpack_require__.d(zrender_namespaceObject,"registerPainter",(function(){return registerPainter})),__webpack_require__.d(zrender_namespaceObject,"version",(function(){return version}));var graphic_namespaceObject={};__webpack_require__.r(graphic_namespaceObject),__webpack_require__.d(graphic_namespaceObject,"updateProps",(function(){return updateProps})),__webpack_require__.d(graphic_namespaceObject,"initProps",(function(){return initProps})),__webpack_require__.d(graphic_namespaceObject,"removeElement",(function(){return removeElement})),__webpack_require__.d(graphic_namespaceObject,"removeElementWithFadeOut",(function(){return removeElementWithFadeOut})),__webpack_require__.d(graphic_namespaceObject,"isElementRemoved",(function(){return isElementRemoved})),__webpack_require__.d(graphic_namespaceObject,"extendShape",(function(){return extendShape})),__webpack_require__.d(graphic_namespaceObject,"extendPath",(function(){return extendPath})),__webpack_require__.d(graphic_namespaceObject,"registerShape",(function(){return registerShape})),__webpack_require__.d(graphic_namespaceObject,"getShapeClass",(function(){return getShapeClass})),__webpack_require__.d(graphic_namespaceObject,"makePath",(function(){return makePath})),__webpack_require__.d(graphic_namespaceObject,"makeImage",(function(){return makeImage})),__webpack_require__.d(graphic_namespaceObject,"mergePath",(function(){return graphic_mergePath})),__webpack_require__.d(graphic_namespaceObject,"resizePath",(function(){return resizePath})),__webpack_require__.d(graphic_namespaceObject,"subPixelOptimizeLine",(function(){return graphic_subPixelOptimizeLine})),__webpack_require__.d(graphic_namespaceObject,"subPixelOptimizeRect",(function(){return graphic_subPixelOptimizeRect})),__webpack_require__.d(graphic_namespaceObject,"subPixelOptimize",(function(){return graphic_subPixelOptimize})),__webpack_require__.d(graphic_namespaceObject,"getTransform",(function(){return getTransform})),__webpack_require__.d(graphic_namespaceObject,"applyTransform",(function(){return graphic_applyTransform})),__webpack_require__.d(graphic_namespaceObject,"transformDirection",(function(){return transformDirection})),__webpack_require__.d(graphic_namespaceObject,"groupTransition",(function(){return groupTransition})),__webpack_require__.d(graphic_namespaceObject,"clipPointsByRect",(function(){return clipPointsByRect})),__webpack_require__.d(graphic_namespaceObject,"clipRectByRect",(function(){return clipRectByRect})),__webpack_require__.d(graphic_namespaceObject,"createIcon",(function(){return createIcon})),__webpack_require__.d(graphic_namespaceObject,"linePolygonIntersect",(function(){return linePolygonIntersect})),__webpack_require__.d(graphic_namespaceObject,"lineLineIntersect",(function(){return lineLineIntersect})),__webpack_require__.d(graphic_namespaceObject,"setTooltipConfig",(function(){return setTooltipConfig})),__webpack_require__.d(graphic_namespaceObject,"traverseElements",(function(){return traverseElements})),__webpack_require__.d(graphic_namespaceObject,"Group",(function(){return graphic_Group})),__webpack_require__.d(graphic_namespaceObject,"Image",(function(){return graphic_Image})),__webpack_require__.d(graphic_namespaceObject,"Text",(function(){return Text})),__webpack_require__.d(graphic_namespaceObject,"Circle",(function(){return shape_Circle})),__webpack_require__.d(graphic_namespaceObject,"Ellipse",(function(){return shape_Ellipse})),__webpack_require__.d(graphic_namespaceObject,"Sector",(function(){return shape_Sector})),__webpack_require__.d(graphic_namespaceObject,"Ring",(function(){return shape_Ring})),__webpack_require__.d(graphic_namespaceObject,"Polygon",(function(){return shape_Polygon})),__webpack_require__.d(graphic_namespaceObject,"Polyline",(function(){return shape_Polyline})),__webpack_require__.d(graphic_namespaceObject,"Rect",(function(){return shape_Rect})),__webpack_require__.d(graphic_namespaceObject,"Line",(function(){return shape_Line})),__webpack_require__.d(graphic_namespaceObject,"BezierCurve",(function(){return shape_BezierCurve})),__webpack_require__.d(graphic_namespaceObject,"Arc",(function(){return shape_Arc})),__webpack_require__.d(graphic_namespaceObject,"IncrementalDisplayable",(function(){return graphic_IncrementalDisplayable})),__webpack_require__.d(graphic_namespaceObject,"CompoundPath",(function(){return graphic_CompoundPath})),__webpack_require__.d(graphic_namespaceObject,"LinearGradient",(function(){return graphic_LinearGradient})),__webpack_require__.d(graphic_namespaceObject,"RadialGradient",(function(){return graphic_RadialGradient})),__webpack_require__.d(graphic_namespaceObject,"BoundingRect",(function(){return core_BoundingRect})),__webpack_require__.d(graphic_namespaceObject,"OrientedBoundingRect",(function(){return core_OrientedBoundingRect})),__webpack_require__.d(graphic_namespaceObject,"Point",(function(){return core_Point})),__webpack_require__.d(graphic_namespaceObject,"Path",(function(){return graphic_Path}));var api_helper_namespaceObject={};__webpack_require__.r(api_helper_namespaceObject),__webpack_require__.d(api_helper_namespaceObject,"createList",(function(){return createList})),__webpack_require__.d(api_helper_namespaceObject,"getLayoutRect",(function(){return getLayoutRect})),__webpack_require__.d(api_helper_namespaceObject,"createDimensions",(function(){return createDimensions})),__webpack_require__.d(api_helper_namespaceObject,"dataStack",(function(){return helper_dataStack})),__webpack_require__.d(api_helper_namespaceObject,"createSymbol",(function(){return symbol_createSymbol})),__webpack_require__.d(api_helper_namespaceObject,"createScale",(function(){return createScale})),__webpack_require__.d(api_helper_namespaceObject,"mixinAxisModelCommonMethods",(function(){return mixinAxisModelCommonMethods})),__webpack_require__.d(api_helper_namespaceObject,"getECData",(function(){return getECData})),__webpack_require__.d(api_helper_namespaceObject,"enableHoverEmphasis",(function(){return enableHoverEmphasis})),__webpack_require__.d(api_helper_namespaceObject,"createTextStyle",(function(){return helper_createTextStyle}));var api_number_namespaceObject={};__webpack_require__.r(api_number_namespaceObject),__webpack_require__.d(api_number_namespaceObject,"linearMap",(function(){return linearMap})),__webpack_require__.d(api_number_namespaceObject,"round",(function(){return round})),__webpack_require__.d(api_number_namespaceObject,"asc",(function(){return asc})),__webpack_require__.d(api_number_namespaceObject,"getPrecision",(function(){return getPrecision})),__webpack_require__.d(api_number_namespaceObject,"getPrecisionSafe",(function(){return getPrecisionSafe})),__webpack_require__.d(api_number_namespaceObject,"getPixelPrecision",(function(){return getPixelPrecision})),__webpack_require__.d(api_number_namespaceObject,"getPercentWithPrecision",(function(){return getPercentWithPrecision})),__webpack_require__.d(api_number_namespaceObject,"MAX_SAFE_INTEGER",(function(){return MAX_SAFE_INTEGER})),__webpack_require__.d(api_number_namespaceObject,"remRadian",(function(){return remRadian})),__webpack_require__.d(api_number_namespaceObject,"isRadianAroundZero",(function(){return isRadianAroundZero})),__webpack_require__.d(api_number_namespaceObject,"parseDate",(function(){return parseDate})),__webpack_require__.d(api_number_namespaceObject,"quantity",(function(){return quantity})),__webpack_require__.d(api_number_namespaceObject,"quantityExponent",(function(){return quantityExponent})),__webpack_require__.d(api_number_namespaceObject,"nice",(function(){return nice})),__webpack_require__.d(api_number_namespaceObject,"quantile",(function(){return quantile})),__webpack_require__.d(api_number_namespaceObject,"reformIntervals",(function(){return reformIntervals})),__webpack_require__.d(api_number_namespaceObject,"isNumeric",(function(){return isNumeric})),__webpack_require__.d(api_number_namespaceObject,"numericToNumber",(function(){return numericToNumber}));var api_time_namespaceObject={};__webpack_require__.r(api_time_namespaceObject),__webpack_require__.d(api_time_namespaceObject,"parse",(function(){return parseDate})),__webpack_require__.d(api_time_namespaceObject,"format",(function(){return format}));var api_graphic_namespaceObject={};__webpack_require__.r(api_graphic_namespaceObject),__webpack_require__.d(api_graphic_namespaceObject,"extendShape",(function(){return extendShape})),__webpack_require__.d(api_graphic_namespaceObject,"extendPath",(function(){return extendPath})),__webpack_require__.d(api_graphic_namespaceObject,"makePath",(function(){return makePath})),__webpack_require__.d(api_graphic_namespaceObject,"makeImage",(function(){return makeImage})),__webpack_require__.d(api_graphic_namespaceObject,"mergePath",(function(){return graphic_mergePath})),__webpack_require__.d(api_graphic_namespaceObject,"resizePath",(function(){return resizePath})),__webpack_require__.d(api_graphic_namespaceObject,"createIcon",(function(){return createIcon})),__webpack_require__.d(api_graphic_namespaceObject,"updateProps",(function(){return updateProps})),__webpack_require__.d(api_graphic_namespaceObject,"initProps",(function(){return initProps})),__webpack_require__.d(api_graphic_namespaceObject,"getTransform",(function(){return getTransform})),__webpack_require__.d(api_graphic_namespaceObject,"clipPointsByRect",(function(){return clipPointsByRect})),__webpack_require__.d(api_graphic_namespaceObject,"clipRectByRect",(function(){return clipRectByRect})),__webpack_require__.d(api_graphic_namespaceObject,"registerShape",(function(){return registerShape})),__webpack_require__.d(api_graphic_namespaceObject,"getShapeClass",(function(){return getShapeClass})),__webpack_require__.d(api_graphic_namespaceObject,"Group",(function(){return graphic_Group})),__webpack_require__.d(api_graphic_namespaceObject,"Image",(function(){return graphic_Image})),__webpack_require__.d(api_graphic_namespaceObject,"Text",(function(){return Text})),__webpack_require__.d(api_graphic_namespaceObject,"Circle",(function(){return shape_Circle})),__webpack_require__.d(api_graphic_namespaceObject,"Ellipse",(function(){return shape_Ellipse})),__webpack_require__.d(api_graphic_namespaceObject,"Sector",(function(){return shape_Sector})),__webpack_require__.d(api_graphic_namespaceObject,"Ring",(function(){return shape_Ring})),__webpack_require__.d(api_graphic_namespaceObject,"Polygon",(function(){return shape_Polygon})),__webpack_require__.d(api_graphic_namespaceObject,"Polyline",(function(){return shape_Polyline})),__webpack_require__.d(api_graphic_namespaceObject,"Rect",(function(){return shape_Rect})),__webpack_require__.d(api_graphic_namespaceObject,"Line",(function(){return shape_Line})),__webpack_require__.d(api_graphic_namespaceObject,"BezierCurve",(function(){return shape_BezierCurve})),__webpack_require__.d(api_graphic_namespaceObject,"Arc",(function(){return shape_Arc})),__webpack_require__.d(api_graphic_namespaceObject,"IncrementalDisplayable",(function(){return graphic_IncrementalDisplayable})),__webpack_require__.d(api_graphic_namespaceObject,"CompoundPath",(function(){return graphic_CompoundPath})),__webpack_require__.d(api_graphic_namespaceObject,"LinearGradient",(function(){return graphic_LinearGradient})),__webpack_require__.d(api_graphic_namespaceObject,"RadialGradient",(function(){return graphic_RadialGradient})),__webpack_require__.d(api_graphic_namespaceObject,"BoundingRect",(function(){return core_BoundingRect}));var api_format_namespaceObject={};__webpack_require__.r(api_format_namespaceObject),__webpack_require__.d(api_format_namespaceObject,"addCommas",(function(){return addCommas})),__webpack_require__.d(api_format_namespaceObject,"toCamelCase",(function(){return toCamelCase})),__webpack_require__.d(api_format_namespaceObject,"normalizeCssArray",(function(){return normalizeCssArray})),__webpack_require__.d(api_format_namespaceObject,"encodeHTML",(function(){return encodeHTML})),__webpack_require__.d(api_format_namespaceObject,"formatTpl",(function(){return formatTpl})),__webpack_require__.d(api_format_namespaceObject,"getTooltipMarker",(function(){return getTooltipMarker})),__webpack_require__.d(api_format_namespaceObject,"formatTime",(function(){return formatTime})),__webpack_require__.d(api_format_namespaceObject,"capitalFirst",(function(){return capitalFirst})),__webpack_require__.d(api_format_namespaceObject,"truncateText",(function(){return truncateText})),__webpack_require__.d(api_format_namespaceObject,"getTextRect",(function(){return getTextRect}));var api_util_namespaceObject={};__webpack_require__.r(api_util_namespaceObject),__webpack_require__.d(api_util_namespaceObject,"map",(function(){return util.map})),__webpack_require__.d(api_util_namespaceObject,"each",(function(){return util.each})),__webpack_require__.d(api_util_namespaceObject,"indexOf",(function(){return util.indexOf})),__webpack_require__.d(api_util_namespaceObject,"inherits",(function(){return util.inherits})),__webpack_require__.d(api_util_namespaceObject,"reduce",(function(){return util.reduce})),__webpack_require__.d(api_util_namespaceObject,"filter",(function(){return util.filter})),__webpack_require__.d(api_util_namespaceObject,"bind",(function(){return util.bind})),__webpack_require__.d(api_util_namespaceObject,"curry",(function(){return util.curry})),__webpack_require__.d(api_util_namespaceObject,"isArray",(function(){return util.isArray})),__webpack_require__.d(api_util_namespaceObject,"isString",(function(){return util.isString})),__webpack_require__.d(api_util_namespaceObject,"isObject",(function(){return util.isObject})),__webpack_require__.d(api_util_namespaceObject,"isFunction",(function(){return util.isFunction})),__webpack_require__.d(api_util_namespaceObject,"extend",(function(){return util.extend})),__webpack_require__.d(api_util_namespaceObject,"defaults",(function(){return util.defaults})),__webpack_require__.d(api_util_namespaceObject,"clone",(function(){return util.clone})),__webpack_require__.d(api_util_namespaceObject,"merge",(function(){return util.merge}));var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}Object.create;Object.create;var env=__webpack_require__("./node_modules/zrender/lib/core/env.js"),util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),tslib_es6_extendStatics=function(d,b){return tslib_es6_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},tslib_es6_extendStatics(d,b)};function tslib_es6_extends(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}tslib_es6_extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}Object.create;Object.create;function vector_create(x,y){return null==x&&(x=0),null==y&&(y=0),[x,y]}function vector_copy(out,v){return out[0]=v[0],out[1]=v[1],out}function clone(v){return[v[0],v[1]]}function set(out,a,b){return out[0]=a,out[1]=b,out}function vector_add(out,v1,v2){return out[0]=v1[0]+v2[0],out[1]=v1[1]+v2[1],out}function scaleAndAdd(out,v1,v2,a){return out[0]=v1[0]+v2[0]*a,out[1]=v1[1]+v2[1]*a,out}function sub(out,v1,v2){return out[0]=v1[0]-v2[0],out[1]=v1[1]-v2[1],out}function vector_len(v){return Math.sqrt(lenSquare(v))}var vector_length=vector_len;function lenSquare(v){return v[0]*v[0]+v[1]*v[1]}var lengthSquare=lenSquare;function vector_mul(out,v1,v2){return out[0]=v1[0]*v2[0],out[1]=v1[1]*v2[1],out}function div(out,v1,v2){return out[0]=v1[0]/v2[0],out[1]=v1[1]/v2[1],out}function dot(v1,v2){return v1[0]*v2[0]+v1[1]*v2[1]}function vector_scale(out,v,s){return out[0]=v[0]*s,out[1]=v[1]*s,out}function normalize(out,v){var d=vector_len(v);return 0===d?(out[0]=0,out[1]=0):(out[0]=v[0]/d,out[1]=v[1]/d),out}function vector_distance(v1,v2){return Math.sqrt((v1[0]-v2[0])*(v1[0]-v2[0])+(v1[1]-v2[1])*(v1[1]-v2[1]))}var vector_dist=vector_distance;function distanceSquare(v1,v2){return(v1[0]-v2[0])*(v1[0]-v2[0])+(v1[1]-v2[1])*(v1[1]-v2[1])}var distSquare=distanceSquare;function negate(out,v){return out[0]=-v[0],out[1]=-v[1],out}function lerp(out,v1,v2,t){return out[0]=v1[0]+t*(v2[0]-v1[0]),out[1]=v1[1]+t*(v2[1]-v1[1]),out}function applyTransform(out,v,m){var x=v[0],y=v[1];return out[0]=m[0]*x+m[2]*y+m[4],out[1]=m[1]*x+m[3]*y+m[5],out}function vector_min(out,v1,v2){return out[0]=Math.min(v1[0],v2[0]),out[1]=Math.min(v1[1],v2[1]),out}function vector_max(out,v1,v2){return out[0]=Math.max(v1[0],v2[0]),out[1]=Math.max(v1[1],v2[1]),out}var Param=function Param(target,e){this.target=target,this.topTarget=e&&e.topTarget},mixin_Draggable=function(){function Draggable(handler){this.handler=handler,handler.on("mousedown",this._dragStart,this),handler.on("mousemove",this._drag,this),handler.on("mouseup",this._dragEnd,this)}return Draggable.prototype._dragStart=function(e){for(var draggingTarget=e.target;draggingTarget&&!draggingTarget.draggable;)draggingTarget=draggingTarget.parent||draggingTarget.__hostTarget;draggingTarget&&(this._draggingTarget=draggingTarget,draggingTarget.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new Param(draggingTarget,e),"dragstart",e.event))},Draggable.prototype._drag=function(e){var draggingTarget=this._draggingTarget;if(draggingTarget){var x=e.offsetX,y=e.offsetY,dx=x-this._x,dy=y-this._y;this._x=x,this._y=y,draggingTarget.drift(dx,dy,e),this.handler.dispatchToElement(new Param(draggingTarget,e),"drag",e.event);var dropTarget=this.handler.findHover(x,y,draggingTarget).target,lastDropTarget=this._dropTarget;this._dropTarget=dropTarget,draggingTarget!==dropTarget&&(lastDropTarget&&dropTarget!==lastDropTarget&&this.handler.dispatchToElement(new Param(lastDropTarget,e),"dragleave",e.event),dropTarget&&dropTarget!==lastDropTarget&&this.handler.dispatchToElement(new Param(dropTarget,e),"dragenter",e.event))}},Draggable.prototype._dragEnd=function(e){var draggingTarget=this._draggingTarget;draggingTarget&&(draggingTarget.dragging=!1),this.handler.dispatchToElement(new Param(draggingTarget,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},Draggable}(),Eventful=function(){function Eventful(eventProcessors){eventProcessors&&(this._$eventProcessor=eventProcessors)}return Eventful.prototype.on=function(event,query,handler,context){this._$handlers||(this._$handlers={});var _h=this._$handlers;if("function"==typeof query&&(context=handler,handler=query,query=null),!handler||!event)return this;var eventProcessor=this._$eventProcessor;null!=query&&eventProcessor&&eventProcessor.normalizeQuery&&(query=eventProcessor.normalizeQuery(query)),_h[event]||(_h[event]=[]);for(var i=0;i<_h[event].length;i++)if(_h[event][i].h===handler)return this;var wrap={h:handler,query:query,ctx:context||this,callAtLast:handler.zrEventfulCallAtLast},lastIndex=_h[event].length-1,lastWrap=_h[event][lastIndex];return lastWrap&&lastWrap.callAtLast?_h[event].splice(lastIndex,0,wrap):_h[event].push(wrap),this},Eventful.prototype.isSilent=function(eventName){var _h=this._$handlers;return!_h||!_h[eventName]||!_h[eventName].length},Eventful.prototype.off=function(eventType,handler){var _h=this._$handlers;if(!_h)return this;if(!eventType)return this._$handlers={},this;if(handler){if(_h[eventType]){for(var newList=[],i=0,l=_h[eventType].length;i<l;i++)_h[eventType][i].h!==handler&&newList.push(_h[eventType][i]);_h[eventType]=newList}_h[eventType]&&0===_h[eventType].length&&delete _h[eventType]}else delete _h[eventType];return this},Eventful.prototype.trigger=function(eventType){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];if(!this._$handlers)return this;var _h=this._$handlers[eventType],eventProcessor=this._$eventProcessor;if(_h)for(var argLen=args.length,len=_h.length,i=0;i<len;i++){var hItem=_h[i];if(!eventProcessor||!eventProcessor.filter||null==hItem.query||eventProcessor.filter(eventType,hItem.query))switch(argLen){case 0:hItem.h.call(hItem.ctx);break;case 1:hItem.h.call(hItem.ctx,args[0]);break;case 2:hItem.h.call(hItem.ctx,args[0],args[1]);break;default:hItem.h.apply(hItem.ctx,args)}}return eventProcessor&&eventProcessor.afterTrigger&&eventProcessor.afterTrigger(eventType),this},Eventful.prototype.triggerWithContext=function(type){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];if(!this._$handlers)return this;var _h=this._$handlers[type],eventProcessor=this._$eventProcessor;if(_h)for(var argLen=args.length,ctx=args[argLen-1],len=_h.length,i=0;i<len;i++){var hItem=_h[i];if(!eventProcessor||!eventProcessor.filter||null==hItem.query||eventProcessor.filter(type,hItem.query))switch(argLen){case 0:hItem.h.call(ctx);break;case 1:hItem.h.call(ctx,args[0]);break;case 2:hItem.h.call(ctx,args[0],args[1]);break;default:hItem.h.apply(ctx,args.slice(1,argLen-1))}}return eventProcessor&&eventProcessor.afterTrigger&&eventProcessor.afterTrigger(type),this},Eventful}(),core_Eventful=Eventful,LN2=Math.log(2);function determinant(rows,rank,rowStart,rowMask,colMask,detCache){var cacheKey=rowMask+"-"+colMask,fullRank=rows.length;if(detCache.hasOwnProperty(cacheKey))return detCache[cacheKey];if(1===rank){var colStart=Math.round(Math.log((1<<fullRank)-1&~colMask)/LN2);return rows[rowStart][colStart]}for(var subRowMask=rowMask|1<<rowStart,subRowStart=rowStart+1;rowMask&1<<subRowStart;)subRowStart++;for(var sum=0,j=0,colLocalIdx=0;j<fullRank;j++){var colTag=1<<j;colTag&colMask||(sum+=(colLocalIdx%2?-1:1)*rows[rowStart][j]*determinant(rows,rank-1,subRowStart,subRowMask,colMask|colTag,detCache),colLocalIdx++)}return detCache[cacheKey]=sum,sum}function buildTransformer(src,dest){var mA=[[src[0],src[1],1,0,0,0,-dest[0]*src[0],-dest[0]*src[1]],[0,0,0,src[0],src[1],1,-dest[1]*src[0],-dest[1]*src[1]],[src[2],src[3],1,0,0,0,-dest[2]*src[2],-dest[2]*src[3]],[0,0,0,src[2],src[3],1,-dest[3]*src[2],-dest[3]*src[3]],[src[4],src[5],1,0,0,0,-dest[4]*src[4],-dest[4]*src[5]],[0,0,0,src[4],src[5],1,-dest[5]*src[4],-dest[5]*src[5]],[src[6],src[7],1,0,0,0,-dest[6]*src[6],-dest[6]*src[7]],[0,0,0,src[6],src[7],1,-dest[7]*src[6],-dest[7]*src[7]]],detCache={},det=determinant(mA,8,0,0,0,detCache);if(0!==det){for(var vh=[],i=0;i<8;i++)for(var j=0;j<8;j++)null==vh[j]&&(vh[j]=0),vh[j]+=((i+j)%2?-1:1)*determinant(mA,7,0===i?1:0,1<<i,1<<j,detCache)/det*dest[i];return function(out,srcPointX,srcPointY){var pk=srcPointX*vh[6]+srcPointY*vh[7]+1;out[0]=(srcPointX*vh[0]+srcPointY*vh[1]+vh[2])/pk,out[1]=(srcPointX*vh[3]+srcPointY*vh[4]+vh[5])/pk}}}var _calcOut=[];function transformCoordWithViewport(out,el,inX,inY,inverse){if(el.getBoundingClientRect&&env.a.domSupported&&!isCanvasEl(el)){var saved=el.___zrEVENTSAVED||(el.___zrEVENTSAVED={}),markers=function prepareCoordMarkers(el,saved){var markers=saved.markers;if(markers)return markers;markers=saved.markers=[];for(var propLR=["left","right"],propTB=["top","bottom"],i=0;i<4;i++){var marker=document.createElement("div"),idxLR=i%2,idxTB=(i>>1)%2;marker.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",propLR[idxLR]+":0",propTB[idxTB]+":0",propLR[1-idxLR]+":auto",propTB[1-idxTB]+":auto",""].join("!important;"),el.appendChild(marker),markers.push(marker)}return markers}(el,saved),transformer=function preparePointerTransformer(markers,saved,inverse){for(var transformerName=inverse?"invTrans":"trans",transformer=saved[transformerName],oldSrcCoords=saved.srcCoords,srcCoords=[],destCoords=[],oldCoordTheSame=!0,i=0;i<4;i++){var rect=markers[i].getBoundingClientRect(),ii=2*i,x=rect.left,y=rect.top;srcCoords.push(x,y),oldCoordTheSame=oldCoordTheSame&&oldSrcCoords&&x===oldSrcCoords[ii]&&y===oldSrcCoords[ii+1],destCoords.push(markers[i].offsetLeft,markers[i].offsetTop)}return oldCoordTheSame&&transformer?transformer:(saved.srcCoords=srcCoords,saved[transformerName]=inverse?buildTransformer(destCoords,srcCoords):buildTransformer(srcCoords,destCoords))}(markers,saved,inverse);if(transformer)return transformer(out,inX,inY),!0}return!1}function isCanvasEl(el){return"CANVAS"===el.nodeName.toUpperCase()}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,event_calcOut=[],firefoxNotSupportOffsetXY=env.a.browser.firefox&&+env.a.browser.version.split(".")[0]<39;function clientToLocal(el,e,out,calculate){return out=out||{},calculate?calculateZrXY(el,e,out):firefoxNotSupportOffsetXY&&null!=e.layerX&&e.layerX!==e.offsetX?(out.zrX=e.layerX,out.zrY=e.layerY):null!=e.offsetX?(out.zrX=e.offsetX,out.zrY=e.offsetY):calculateZrXY(el,e,out),out}function calculateZrXY(el,e,out){if(env.a.domSupported&&el.getBoundingClientRect){var ex=e.clientX,ey=e.clientY;if(isCanvasEl(el)){var box=el.getBoundingClientRect();return out.zrX=ex-box.left,void(out.zrY=ey-box.top)}if(transformCoordWithViewport(event_calcOut,el,ex,ey))return out.zrX=event_calcOut[0],void(out.zrY=event_calcOut[1])}out.zrX=out.zrY=0}function getNativeEvent(e){return e||window.event}function normalizeEvent(el,e,calculate){if(null!=(e=getNativeEvent(e)).zrX)return e;var eventType=e.type;if(eventType&&eventType.indexOf("touch")>=0){var touch="touchend"!==eventType?e.targetTouches[0]:e.changedTouches[0];touch&&clientToLocal(el,touch,e,calculate)}else{clientToLocal(el,e,e,calculate);var wheelDelta=function getWheelDeltaMayPolyfill(e){var rawWheelDelta=e.wheelDelta;if(rawWheelDelta)return rawWheelDelta;var deltaX=e.deltaX,deltaY=e.deltaY;if(null==deltaX||null==deltaY)return rawWheelDelta;return 3*(0!==deltaY?Math.abs(deltaY):Math.abs(deltaX))*(deltaY>0?-1:deltaY<0?1:deltaX>0?-1:1)}(e);e.zrDelta=wheelDelta?wheelDelta/120:-(e.detail||0)/3}var button=e.button;return null==e.which&&void 0!==button&&MOUSE_EVENT_REG.test(e.type)&&(e.which=1&button?1:2&button?3:4&button?2:0),e}function addEventListener(el,name,handler,opt){el.addEventListener(name,handler,opt)}var event_stop=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(e){return 2===e.which||3===e.which}var GestureMgr_GestureMgr=function(){function GestureMgr(){this._track=[]}return GestureMgr.prototype.recognize=function(event,target,root){return this._doTrack(event,target,root),this._recognize(event)},GestureMgr.prototype.clear=function(){return this._track.length=0,this},GestureMgr.prototype._doTrack=function(event,target,root){var touches=event.touches;if(touches){for(var trackItem={points:[],touches:[],target:target,event:event},i=0,len=touches.length;i<len;i++){var touch=touches[i],pos=clientToLocal(root,touch,{});trackItem.points.push([pos.zrX,pos.zrY]),trackItem.touches.push(touch)}this._track.push(trackItem)}},GestureMgr.prototype._recognize=function(event){for(var eventName in recognizers)if(recognizers.hasOwnProperty(eventName)){var gestureInfo=recognizers[eventName](this._track,event);if(gestureInfo)return gestureInfo}},GestureMgr}();function GestureMgr_dist(pointPair){var dx=pointPair[1][0]-pointPair[0][0],dy=pointPair[1][1]-pointPair[0][1];return Math.sqrt(dx*dx+dy*dy)}var recognizers={pinch:function(tracks,event){var trackLen=tracks.length;if(trackLen){var pinchEnd=(tracks[trackLen-1]||{}).points,pinchPre=(tracks[trackLen-2]||{}).points||pinchEnd;if(pinchPre&&pinchPre.length>1&&pinchEnd&&pinchEnd.length>1){var pinchScale=GestureMgr_dist(pinchEnd)/GestureMgr_dist(pinchPre);!isFinite(pinchScale)&&(pinchScale=1),event.pinchScale=pinchScale;var pinchCenter=function GestureMgr_center(pointPair){return[(pointPair[0][0]+pointPair[1][0])/2,(pointPair[0][1]+pointPair[1][1])/2]}(pinchEnd);return event.pinchX=pinchCenter[0],event.pinchY=pinchCenter[1],{type:"pinch",target:tracks[0].target,event:event}}}}};function stopEvent(){event_stop(this.event)}var Handler_EmptyProxy=function(_super){function EmptyProxy(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.handler=null,_this}return tslib_es6_extends(EmptyProxy,_super),EmptyProxy.prototype.dispose=function(){},EmptyProxy.prototype.setCursor=function(){},EmptyProxy}(core_Eventful),HoveredResult=function HoveredResult(x,y){this.x=x,this.y=y},handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Handler_Handler=function(_super){function Handler(storage,painter,proxy,painterRoot){var _this=_super.call(this)||this;return _this._hovered=new HoveredResult(0,0),_this.storage=storage,_this.painter=painter,_this.painterRoot=painterRoot,proxy=proxy||new Handler_EmptyProxy,_this.proxy=null,_this.setHandlerProxy(proxy),_this._draggingMgr=new mixin_Draggable(_this),_this}return tslib_es6_extends(Handler,_super),Handler.prototype.setHandlerProxy=function(proxy){this.proxy&&this.proxy.dispose(),proxy&&(util.each(handlerNames,(function(name){proxy.on&&proxy.on(name,this[name],this)}),this),proxy.handler=this),this.proxy=proxy},Handler.prototype.mousemove=function(event){var x=event.zrX,y=event.zrY,isOutside=isOutsideBoundary(this,x,y),lastHovered=this._hovered,lastHoveredTarget=lastHovered.target;lastHoveredTarget&&!lastHoveredTarget.__zr&&(lastHoveredTarget=(lastHovered=this.findHover(lastHovered.x,lastHovered.y)).target);var hovered=this._hovered=isOutside?new HoveredResult(x,y):this.findHover(x,y),hoveredTarget=hovered.target,proxy=this.proxy;proxy.setCursor&&proxy.setCursor(hoveredTarget?hoveredTarget.cursor:"default"),lastHoveredTarget&&hoveredTarget!==lastHoveredTarget&&this.dispatchToElement(lastHovered,"mouseout",event),this.dispatchToElement(hovered,"mousemove",event),hoveredTarget&&hoveredTarget!==lastHoveredTarget&&this.dispatchToElement(hovered,"mouseover",event)},Handler.prototype.mouseout=function(event){var eventControl=event.zrEventControl;"only_globalout"!==eventControl&&this.dispatchToElement(this._hovered,"mouseout",event),"no_globalout"!==eventControl&&this.trigger("globalout",{type:"globalout",event:event})},Handler.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},Handler.prototype.dispatch=function(eventName,eventArgs){var handler=this[eventName];handler&&handler.call(this,eventArgs)},Handler.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},Handler.prototype.setCursorStyle=function(cursorStyle){var proxy=this.proxy;proxy.setCursor&&proxy.setCursor(cursorStyle)},Handler.prototype.dispatchToElement=function(targetInfo,eventName,event){var el=(targetInfo=targetInfo||{}).target;if(!el||!el.silent){for(var eventKey="on"+eventName,eventPacket=function makeEventPacket(eveType,targetInfo,event){return{type:eveType,event:event,target:targetInfo.target,topTarget:targetInfo.topTarget,cancelBubble:!1,offsetX:event.zrX,offsetY:event.zrY,gestureEvent:event.gestureEvent,pinchX:event.pinchX,pinchY:event.pinchY,pinchScale:event.pinchScale,wheelDelta:event.zrDelta,zrByTouch:event.zrByTouch,which:event.which,stop:stopEvent}}(eventName,targetInfo,event);el&&(el[eventKey]&&(eventPacket.cancelBubble=!!el[eventKey].call(el,eventPacket)),el.trigger(eventName,eventPacket),el=el.__hostTarget?el.__hostTarget:el.parent,!eventPacket.cancelBubble););eventPacket.cancelBubble||(this.trigger(eventName,eventPacket),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(layer){"function"==typeof layer[eventKey]&&layer[eventKey].call(layer,eventPacket),layer.trigger&&layer.trigger(eventName,eventPacket)})))}},Handler.prototype.findHover=function(x,y,exclude){for(var list=this.storage.getDisplayList(),out=new HoveredResult(x,y),i=list.length-1;i>=0;i--){var hoverCheckResult=void 0;if(list[i]!==exclude&&!list[i].ignore&&(hoverCheckResult=isHover(list[i],x,y))&&(!out.topTarget&&(out.topTarget=list[i]),"silent"!==hoverCheckResult)){out.target=list[i];break}}return out},Handler.prototype.processGesture=function(event,stage){this._gestureMgr||(this._gestureMgr=new GestureMgr_GestureMgr);var gestureMgr=this._gestureMgr;"start"===stage&&gestureMgr.clear();var gestureInfo=gestureMgr.recognize(event,this.findHover(event.zrX,event.zrY,null).target,this.proxy.dom);if("end"===stage&&gestureMgr.clear(),gestureInfo){var type=gestureInfo.type;event.gestureEvent=type;var res=new HoveredResult;res.target=gestureInfo.target,this.dispatchToElement(res,type,gestureInfo.event)}},Handler}(core_Eventful);function isHover(displayable,x,y){if(displayable[displayable.rectHover?"rectContain":"contain"](x,y)){for(var el=displayable,isSilent=void 0,ignoreClip=!1;el;){if(el.ignoreClip&&(ignoreClip=!0),!ignoreClip){var clipPath=el.getClipPath();if(clipPath&&!clipPath.contain(x,y))return!1;el.silent&&(isSilent=!0)}var hostEl=el.__hostTarget;el=hostEl||el.parent}return!isSilent||"silent"}return!1}function isOutsideBoundary(handlerInstance,x,y){var painter=handlerInstance.painter;return x<0||x>painter.getWidth()||y<0||y>painter.getHeight()}util.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(name){Handler_Handler.prototype[name]=function(event){var hovered,hoveredTarget,x=event.zrX,y=event.zrY,isOutside=isOutsideBoundary(this,x,y);if("mouseup"===name&&isOutside||(hoveredTarget=(hovered=this.findHover(x,y)).target),"mousedown"===name)this._downEl=hoveredTarget,this._downPoint=[event.zrX,event.zrY],this._upEl=hoveredTarget;else if("mouseup"===name)this._upEl=hoveredTarget;else if("click"===name){if(this._downEl!==this._upEl||!this._downPoint||vector_dist(this._downPoint,[event.zrX,event.zrY])>4)return;this._downPoint=null}this.dispatchToElement(hovered,name,event)}}));var lib_Handler=Handler_Handler;function makeAscendingRun(array,lo,hi,compare){var runHi=lo+1;if(runHi===hi)return 1;if(compare(array[runHi++],array[lo])<0){for(;runHi<hi&&compare(array[runHi],array[runHi-1])<0;)runHi++;!function reverseRun(array,lo,hi){hi--;for(;lo<hi;){var t=array[lo];array[lo++]=array[hi],array[hi--]=t}}(array,lo,runHi)}else for(;runHi<hi&&compare(array[runHi],array[runHi-1])>=0;)runHi++;return runHi-lo}function binaryInsertionSort(array,lo,hi,start,compare){for(start===lo&&start++;start<hi;start++){for(var mid,pivot=array[start],left=lo,right=start;left<right;)compare(pivot,array[mid=left+right>>>1])<0?right=mid:left=mid+1;var n=start-left;switch(n){case 3:array[left+3]=array[left+2];case 2:array[left+2]=array[left+1];case 1:array[left+1]=array[left];break;default:for(;n>0;)array[left+n]=array[left+n-1],n--}array[left]=pivot}}function gallopLeft(value,array,start,length,hint,compare){var lastOffset=0,maxOffset=0,offset=1;if(compare(value,array[start+hint])>0){for(maxOffset=length-hint;offset<maxOffset&&compare(value,array[start+hint+offset])>0;)lastOffset=offset,(offset=1+(offset<<1))<=0&&(offset=maxOffset);offset>maxOffset&&(offset=maxOffset),lastOffset+=hint,offset+=hint}else{for(maxOffset=hint+1;offset<maxOffset&&compare(value,array[start+hint-offset])<=0;)lastOffset=offset,(offset=1+(offset<<1))<=0&&(offset=maxOffset);offset>maxOffset&&(offset=maxOffset);var tmp=lastOffset;lastOffset=hint-offset,offset=hint-tmp}for(lastOffset++;lastOffset<offset;){var m=lastOffset+(offset-lastOffset>>>1);compare(value,array[start+m])>0?lastOffset=m+1:offset=m}return offset}function gallopRight(value,array,start,length,hint,compare){var lastOffset=0,maxOffset=0,offset=1;if(compare(value,array[start+hint])<0){for(maxOffset=hint+1;offset<maxOffset&&compare(value,array[start+hint-offset])<0;)lastOffset=offset,(offset=1+(offset<<1))<=0&&(offset=maxOffset);offset>maxOffset&&(offset=maxOffset);var tmp=lastOffset;lastOffset=hint-offset,offset=hint-tmp}else{for(maxOffset=length-hint;offset<maxOffset&&compare(value,array[start+hint+offset])>=0;)lastOffset=offset,(offset=1+(offset<<1))<=0&&(offset=maxOffset);offset>maxOffset&&(offset=maxOffset),lastOffset+=hint,offset+=hint}for(lastOffset++;lastOffset<offset;){var m=lastOffset+(offset-lastOffset>>>1);compare(value,array[start+m])<0?offset=m:lastOffset=m+1}return offset}function TimSort(array,compare){var length,runStart,runLength,minGallop=7,stackSize=0;length=array.length;var tmp=[];function mergeAt(i){var start1=runStart[i],length1=runLength[i],start2=runStart[i+1],length2=runLength[i+1];runLength[i]=length1+length2,i===stackSize-3&&(runStart[i+1]=runStart[i+2],runLength[i+1]=runLength[i+2]),stackSize--;var k=gallopRight(array[start2],array,start1,length1,0,compare);start1+=k,0!==(length1-=k)&&0!==(length2=gallopLeft(array[start1+length1-1],array,start2,length2,length2-1,compare))&&(length1<=length2?function mergeLow(start1,length1,start2,length2){var i=0;for(i=0;i<length1;i++)tmp[i]=array[start1+i];var cursor1=0,cursor2=start2,dest=start1;if(array[dest++]=array[cursor2++],0==--length2){for(i=0;i<length1;i++)array[dest+i]=tmp[cursor1+i];return}if(1===length1){for(i=0;i<length2;i++)array[dest+i]=array[cursor2+i];return void(array[dest+length2]=tmp[cursor1])}var count1,count2,exit,_minGallop=minGallop;for(;;){count1=0,count2=0,exit=!1;do{if(compare(array[cursor2],tmp[cursor1])<0){if(array[dest++]=array[cursor2++],count2++,count1=0,0==--length2){exit=!0;break}}else if(array[dest++]=tmp[cursor1++],count1++,count2=0,1==--length1){exit=!0;break}}while((count1|count2)<_minGallop);if(exit)break;do{if(0!==(count1=gallopRight(array[cursor2],tmp,cursor1,length1,0,compare))){for(i=0;i<count1;i++)array[dest+i]=tmp[cursor1+i];if(dest+=count1,cursor1+=count1,(length1-=count1)<=1){exit=!0;break}}if(array[dest++]=array[cursor2++],0==--length2){exit=!0;break}if(0!==(count2=gallopLeft(tmp[cursor1],array,cursor2,length2,0,compare))){for(i=0;i<count2;i++)array[dest+i]=array[cursor2+i];if(dest+=count2,cursor2+=count2,0===(length2-=count2)){exit=!0;break}}if(array[dest++]=tmp[cursor1++],1==--length1){exit=!0;break}_minGallop--}while(count1>=7||count2>=7);if(exit)break;_minGallop<0&&(_minGallop=0),_minGallop+=2}if((minGallop=_minGallop)<1&&(minGallop=1),1===length1){for(i=0;i<length2;i++)array[dest+i]=array[cursor2+i];array[dest+length2]=tmp[cursor1]}else{if(0===length1)throw new Error;for(i=0;i<length1;i++)array[dest+i]=tmp[cursor1+i]}}(start1,length1,start2,length2):function mergeHigh(start1,length1,start2,length2){var i=0;for(i=0;i<length2;i++)tmp[i]=array[start2+i];var cursor1=start1+length1-1,cursor2=length2-1,dest=start2+length2-1,customCursor=0,customDest=0;if(array[dest--]=array[cursor1--],0==--length1){for(customCursor=dest-(length2-1),i=0;i<length2;i++)array[customCursor+i]=tmp[i];return}if(1===length2){for(customDest=(dest-=length1)+1,customCursor=(cursor1-=length1)+1,i=length1-1;i>=0;i--)array[customDest+i]=array[customCursor+i];return void(array[dest]=tmp[cursor2])}var _minGallop=minGallop;for(;;){var count1=0,count2=0,exit=!1;do{if(compare(tmp[cursor2],array[cursor1])<0){if(array[dest--]=array[cursor1--],count1++,count2=0,0==--length1){exit=!0;break}}else if(array[dest--]=tmp[cursor2--],count2++,count1=0,1==--length2){exit=!0;break}}while((count1|count2)<_minGallop);if(exit)break;do{if(0!==(count1=length1-gallopRight(tmp[cursor2],array,start1,length1,length1-1,compare))){for(length1-=count1,customDest=(dest-=count1)+1,customCursor=(cursor1-=count1)+1,i=count1-1;i>=0;i--)array[customDest+i]=array[customCursor+i];if(0===length1){exit=!0;break}}if(array[dest--]=tmp[cursor2--],1==--length2){exit=!0;break}if(0!==(count2=length2-gallopLeft(array[cursor1],tmp,0,length2,length2-1,compare))){for(length2-=count2,customDest=(dest-=count2)+1,customCursor=(cursor2-=count2)+1,i=0;i<count2;i++)array[customDest+i]=tmp[customCursor+i];if(length2<=1){exit=!0;break}}if(array[dest--]=array[cursor1--],0==--length1){exit=!0;break}_minGallop--}while(count1>=7||count2>=7);if(exit)break;_minGallop<0&&(_minGallop=0),_minGallop+=2}(minGallop=_minGallop)<1&&(minGallop=1);if(1===length2){for(customDest=(dest-=length1)+1,customCursor=(cursor1-=length1)+1,i=length1-1;i>=0;i--)array[customDest+i]=array[customCursor+i];array[dest]=tmp[cursor2]}else{if(0===length2)throw new Error;for(customCursor=dest-(length2-1),i=0;i<length2;i++)array[customCursor+i]=tmp[i]}}(start1,length1,start2,length2))}return length<120?5:length<1542?10:length<119151?19:40,runStart=[],runLength=[],{mergeRuns:function mergeRuns(){for(;stackSize>1;){var n=stackSize-2;if(n>=1&&runLength[n-1]<=runLength[n]+runLength[n+1]||n>=2&&runLength[n-2]<=runLength[n]+runLength[n-1])runLength[n-1]<runLength[n+1]&&n--;else if(runLength[n]>runLength[n+1])break;mergeAt(n)}},forceMergeRuns:function forceMergeRuns(){for(;stackSize>1;){var n=stackSize-2;n>0&&runLength[n-1]<runLength[n+1]&&n--,mergeAt(n)}},pushRun:function pushRun(_runStart,_runLength){runStart[stackSize]=_runStart,runLength[stackSize]=_runLength,stackSize+=1}}}function timsort_sort(array,compare,lo,hi){lo||(lo=0),hi||(hi=array.length);var remaining=hi-lo;if(!(remaining<2)){var runLength=0;if(remaining<32)binaryInsertionSort(array,lo,hi,lo+(runLength=makeAscendingRun(array,lo,hi,compare)),compare);else{var ts=TimSort(array,compare),minRun=function minRunLength(n){for(var r=0;n>=32;)r|=1&n,n>>=1;return n+r}(remaining);do{if((runLength=makeAscendingRun(array,lo,hi,compare))<minRun){var force=remaining;force>minRun&&(force=minRun),binaryInsertionSort(array,lo,lo+force,lo+runLength,compare),runLength=force}ts.pushRun(lo,runLength),ts.mergeRuns(),remaining-=runLength,lo+=runLength}while(0!==remaining);ts.forceMergeRuns()}}}var invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}var lib_Storage=function(){function Storage(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return Storage.prototype.traverse=function(cb,context){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(cb,context)},Storage.prototype.getDisplayList=function(update,includeIgnore){includeIgnore=includeIgnore||!1;var displayList=this._displayList;return!update&&displayList.length||this.updateDisplayList(includeIgnore),displayList},Storage.prototype.updateDisplayList=function(includeIgnore){this._displayListLen=0;for(var roots=this._roots,displayList=this._displayList,i=0,len=roots.length;i<len;i++)this._updateAndAddDisplayable(roots[i],null,includeIgnore);displayList.length=this._displayListLen,timsort_sort(displayList,shapeCompareFunc)},Storage.prototype._updateAndAddDisplayable=function(el,clipPaths,includeIgnore){if(!el.ignore||includeIgnore){el.beforeUpdate(),el.update(),el.afterUpdate();var userSetClipPath=el.getClipPath();if(el.ignoreClip)clipPaths=null;else if(userSetClipPath){clipPaths=clipPaths?clipPaths.slice():[];for(var currentClipPath=userSetClipPath,parentClipPath=el;currentClipPath;)currentClipPath.parent=parentClipPath,currentClipPath.updateTransform(),clipPaths.push(currentClipPath),parentClipPath=currentClipPath,currentClipPath=currentClipPath.getClipPath()}if(el.childrenRef){for(var children=el.childrenRef(),i=0;i<children.length;i++){var child=children[i];el.__dirty&&(child.__dirty|=1),this._updateAndAddDisplayable(child,clipPaths,includeIgnore)}el.__dirty=0}else{var disp=el;clipPaths&&clipPaths.length?disp.__clipPaths=clipPaths:disp.__clipPaths&&disp.__clipPaths.length>0&&(disp.__clipPaths=[]),isNaN(disp.z)&&(logInvalidZError(),disp.z=0),isNaN(disp.z2)&&(logInvalidZError(),disp.z2=0),isNaN(disp.zlevel)&&(logInvalidZError(),disp.zlevel=0),this._displayList[this._displayListLen++]=disp}var decalEl=el.getDecalElement&&el.getDecalElement();decalEl&&this._updateAndAddDisplayable(decalEl,clipPaths,includeIgnore);var textGuide=el.getTextGuideLine();textGuide&&this._updateAndAddDisplayable(textGuide,clipPaths,includeIgnore);var textEl=el.getTextContent();textEl&&this._updateAndAddDisplayable(textEl,clipPaths,includeIgnore)}},Storage.prototype.addRoot=function(el){el.__zr&&el.__zr.storage===this||this._roots.push(el)},Storage.prototype.delRoot=function(el){if(el instanceof Array)for(var i=0,l=el.length;i<l;i++)this.delRoot(el[i]);else{var idx=util.indexOf(this._roots,el);idx>=0&&this._roots.splice(idx,1)}},Storage.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},Storage.prototype.getRoots=function(){return this._roots},Storage.prototype.dispose=function(){this._displayList=null,this._roots=null},Storage}(),animation_requestAnimationFrame=env.a.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(func){return setTimeout(func,16)},easingFuncs={linear:function(k){return k},quadraticIn:function(k){return k*k},quadraticOut:function(k){return k*(2-k)},quadraticInOut:function(k){return(k*=2)<1?.5*k*k:-.5*(--k*(k-2)-1)},cubicIn:function(k){return k*k*k},cubicOut:function(k){return--k*k*k+1},cubicInOut:function(k){return(k*=2)<1?.5*k*k*k:.5*((k-=2)*k*k+2)},quarticIn:function(k){return k*k*k*k},quarticOut:function(k){return 1- --k*k*k*k},quarticInOut:function(k){return(k*=2)<1?.5*k*k*k*k:-.5*((k-=2)*k*k*k-2)},quinticIn:function(k){return k*k*k*k*k},quinticOut:function(k){return--k*k*k*k*k+1},quinticInOut:function(k){return(k*=2)<1?.5*k*k*k*k*k:.5*((k-=2)*k*k*k*k+2)},sinusoidalIn:function(k){return 1-Math.cos(k*Math.PI/2)},sinusoidalOut:function(k){return Math.sin(k*Math.PI/2)},sinusoidalInOut:function(k){return.5*(1-Math.cos(Math.PI*k))},exponentialIn:function(k){return 0===k?0:Math.pow(1024,k-1)},exponentialOut:function(k){return 1===k?1:1-Math.pow(2,-10*k)},exponentialInOut:function(k){return 0===k?0:1===k?1:(k*=2)<1?.5*Math.pow(1024,k-1):.5*(2-Math.pow(2,-10*(k-1)))},circularIn:function(k){return 1-Math.sqrt(1-k*k)},circularOut:function(k){return Math.sqrt(1- --k*k)},circularInOut:function(k){return(k*=2)<1?-.5*(Math.sqrt(1-k*k)-1):.5*(Math.sqrt(1-(k-=2)*k)+1)},elasticIn:function(k){var s,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),-a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/.4))},elasticOut:function(k){var s,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*k)*Math.sin((k-s)*(2*Math.PI)/.4)+1)},elasticInOut:function(k){var s,a=.1,p=.4;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=p*Math.asin(1/a)/(2*Math.PI),(k*=2)<1?a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/p)*-.5:a*Math.pow(2,-10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/p)*.5+1)},backIn:function(k){var s=1.70158;return k*k*((s+1)*k-s)},backOut:function(k){var s=1.70158;return--k*k*((s+1)*k+s)+1},backInOut:function(k){var s=2.5949095;return(k*=2)<1?k*k*((s+1)*k-s)*.5:.5*((k-=2)*k*((s+1)*k+s)+2)},bounceIn:function(k){return 1-easingFuncs.bounceOut(1-k)},bounceOut:function(k){return k<1/2.75?7.5625*k*k:k<2/2.75?7.5625*(k-=1.5/2.75)*k+.75:k<2.5/2.75?7.5625*(k-=2.25/2.75)*k+.9375:7.5625*(k-=2.625/2.75)*k+.984375},bounceInOut:function(k){return k<.5?.5*easingFuncs.bounceIn(2*k):.5*easingFuncs.bounceOut(2*k-1)+.5}},animation_easing=easingFuncs,mathPow=Math.pow,mathSqrt=Math.sqrt,THREE_SQRT=mathSqrt(3),ONE_THIRD=1/3,_v0=vector_create(),_v1=vector_create(),_v2=vector_create();function isAroundZero(val){return val>-1e-8&&val<1e-8}function isNotAroundZero(val){return val>1e-8||val<-1e-8}function curve_cubicAt(p0,p1,p2,p3,t){var onet=1-t;return onet*onet*(onet*p0+3*t*p1)+t*t*(t*p3+3*onet*p2)}function cubicDerivativeAt(p0,p1,p2,p3,t){var onet=1-t;return 3*(((p1-p0)*onet+2*(p2-p1)*t)*onet+(p3-p2)*t*t)}function cubicRootAt(p0,p1,p2,p3,val,roots){var a=p3+3*(p1-p2)-p0,b=3*(p2-2*p1+p0),c=3*(p1-p0),d=p0-val,A=b*b-3*a*c,B=b*c-9*a*d,C=c*c-3*b*d,n=0;if(isAroundZero(A)&&isAroundZero(B)){if(isAroundZero(b))roots[0]=0;else(t1=-c/b)>=0&&t1<=1&&(roots[n++]=t1)}else{var disc=B*B-4*A*C;if(isAroundZero(disc)){var K=B/A,t2=-K/2;(t1=-b/a+K)>=0&&t1<=1&&(roots[n++]=t1),t2>=0&&t2<=1&&(roots[n++]=t2)}else if(disc>0){var discSqrt=mathSqrt(disc),Y1=A*b+1.5*a*(-B+discSqrt),Y2=A*b+1.5*a*(-B-discSqrt);(t1=(-b-((Y1=Y1<0?-mathPow(-Y1,ONE_THIRD):mathPow(Y1,ONE_THIRD))+(Y2=Y2<0?-mathPow(-Y2,ONE_THIRD):mathPow(Y2,ONE_THIRD))))/(3*a))>=0&&t1<=1&&(roots[n++]=t1)}else{var T=(2*A*b-3*a*B)/(2*mathSqrt(A*A*A)),theta=Math.acos(T)/3,ASqrt=mathSqrt(A),tmp=Math.cos(theta),t1=(-b-2*ASqrt*tmp)/(3*a),t3=(t2=(-b+ASqrt*(tmp+THREE_SQRT*Math.sin(theta)))/(3*a),(-b+ASqrt*(tmp-THREE_SQRT*Math.sin(theta)))/(3*a));t1>=0&&t1<=1&&(roots[n++]=t1),t2>=0&&t2<=1&&(roots[n++]=t2),t3>=0&&t3<=1&&(roots[n++]=t3)}}return n}function curve_cubicExtrema(p0,p1,p2,p3,extrema){var b=6*p2-12*p1+6*p0,a=9*p1+3*p3-3*p0-9*p2,c=3*p1-3*p0,n=0;if(isAroundZero(a)){if(isNotAroundZero(b))(t1=-c/b)>=0&&t1<=1&&(extrema[n++]=t1)}else{var disc=b*b-4*a*c;if(isAroundZero(disc))extrema[0]=-b/(2*a);else if(disc>0){var t1,discSqrt=mathSqrt(disc),t2=(-b-discSqrt)/(2*a);(t1=(-b+discSqrt)/(2*a))>=0&&t1<=1&&(extrema[n++]=t1),t2>=0&&t2<=1&&(extrema[n++]=t2)}}return n}function cubicSubdivide(p0,p1,p2,p3,t,out){var p01=(p1-p0)*t+p0,p12=(p2-p1)*t+p1,p23=(p3-p2)*t+p2,p012=(p12-p01)*t+p01,p123=(p23-p12)*t+p12,p0123=(p123-p012)*t+p012;out[0]=p0,out[1]=p01,out[2]=p012,out[3]=p0123,out[4]=p0123,out[5]=p123,out[6]=p23,out[7]=p3}function cubicProjectPoint(x0,y0,x1,y1,x2,y2,x3,y3,x,y,out){var t,prev,next,d1,d2,interval=.005,d=1/0;_v0[0]=x,_v0[1]=y;for(var _t=0;_t<1;_t+=.05)_v1[0]=curve_cubicAt(x0,x1,x2,x3,_t),_v1[1]=curve_cubicAt(y0,y1,y2,y3,_t),(d1=distSquare(_v0,_v1))<d&&(t=_t,d=d1);d=1/0;for(var i=0;i<32&&!(interval<1e-4);i++)prev=t-interval,next=t+interval,_v1[0]=curve_cubicAt(x0,x1,x2,x3,prev),_v1[1]=curve_cubicAt(y0,y1,y2,y3,prev),d1=distSquare(_v1,_v0),prev>=0&&d1<d?(t=prev,d=d1):(_v2[0]=curve_cubicAt(x0,x1,x2,x3,next),_v2[1]=curve_cubicAt(y0,y1,y2,y3,next),d2=distSquare(_v2,_v0),next<=1&&d2<d?(t=next,d=d2):interval*=.5);return out&&(out[0]=curve_cubicAt(x0,x1,x2,x3,t),out[1]=curve_cubicAt(y0,y1,y2,y3,t)),mathSqrt(d)}function cubicLength(x0,y0,x1,y1,x2,y2,x3,y3,iteration){for(var px=x0,py=y0,d=0,step=1/iteration,i=1;i<=iteration;i++){var t=i*step,x=curve_cubicAt(x0,x1,x2,x3,t),y=curve_cubicAt(y0,y1,y2,y3,t),dx=x-px,dy=y-py;d+=Math.sqrt(dx*dx+dy*dy),px=x,py=y}return d}function curve_quadraticAt(p0,p1,p2,t){var onet=1-t;return onet*(onet*p0+2*t*p1)+t*t*p2}function curve_quadraticDerivativeAt(p0,p1,p2,t){return 2*((1-t)*(p1-p0)+t*(p2-p1))}function curve_quadraticExtremum(p0,p1,p2){var divider=p0+p2-2*p1;return 0===divider?.5:(p0-p1)/divider}function curve_quadraticSubdivide(p0,p1,p2,t,out){var p01=(p1-p0)*t+p0,p12=(p2-p1)*t+p1,p012=(p12-p01)*t+p01;out[0]=p0,out[1]=p01,out[2]=p012,out[3]=p012,out[4]=p12,out[5]=p2}function quadraticProjectPoint(x0,y0,x1,y1,x2,y2,x,y,out){var t,interval=.005,d=1/0;_v0[0]=x,_v0[1]=y;for(var _t=0;_t<1;_t+=.05){_v1[0]=curve_quadraticAt(x0,x1,x2,_t),_v1[1]=curve_quadraticAt(y0,y1,y2,_t),(d1=distSquare(_v0,_v1))<d&&(t=_t,d=d1)}d=1/0;for(var i=0;i<32&&!(interval<1e-4);i++){var prev=t-interval,next=t+interval;_v1[0]=curve_quadraticAt(x0,x1,x2,prev),_v1[1]=curve_quadraticAt(y0,y1,y2,prev);var d1=distSquare(_v1,_v0);if(prev>=0&&d1<d)t=prev,d=d1;else{_v2[0]=curve_quadraticAt(x0,x1,x2,next),_v2[1]=curve_quadraticAt(y0,y1,y2,next);var d2=distSquare(_v2,_v0);next<=1&&d2<d?(t=next,d=d2):interval*=.5}}return out&&(out[0]=curve_quadraticAt(x0,x1,x2,t),out[1]=curve_quadraticAt(y0,y1,y2,t)),mathSqrt(d)}function quadraticLength(x0,y0,x1,y1,x2,y2,iteration){for(var px=x0,py=y0,d=0,step=1/iteration,i=1;i<=iteration;i++){var t=i*step,x=curve_quadraticAt(x0,x1,x2,t),y=curve_quadraticAt(y0,y1,y2,t),dx=x-px,dy=y-py;d+=Math.sqrt(dx*dx+dy*dy),px=x,py=y}return d}var regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(cubicEasingStr){var cubic=cubicEasingStr&&regexp.exec(cubicEasingStr);if(cubic){var points=cubic[1].split(","),a_1=+Object(util.trim)(points[0]),b_1=+Object(util.trim)(points[1]),c_1=+Object(util.trim)(points[2]),d_1=+Object(util.trim)(points[3]);if(isNaN(a_1+b_1+c_1+d_1))return;var roots_1=[];return function(p){return p<=0?0:p>=1?1:cubicRootAt(0,a_1,c_1,1,p,roots_1)&&curve_cubicAt(0,b_1,d_1,1,roots_1[0])}}}var animation_Clip=function(){function Clip(opts){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=opts.life||1e3,this._delay=opts.delay||0,this.loop=opts.loop||!1,this.onframe=opts.onframe||util.noop,this.ondestroy=opts.ondestroy||util.noop,this.onrestart=opts.onrestart||util.noop,opts.easing&&this.setEasing(opts.easing)}return Clip.prototype.step=function(globalTime,deltaTime){if(this._inited||(this._startTime=globalTime+this._delay,this._inited=!0),!this._paused){var life=this._life,elapsedTime=globalTime-this._startTime-this._pausedTime,percent=elapsedTime/life;percent<0&&(percent=0),percent=Math.min(percent,1);var easingFunc=this.easingFunc,schedule=easingFunc?easingFunc(percent):percent;if(this.onframe(schedule),1===percent){if(!this.loop)return!0;var remainder=elapsedTime%life;this._startTime=globalTime-remainder,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=deltaTime},Clip.prototype.pause=function(){this._paused=!0},Clip.prototype.resume=function(){this._paused=!1},Clip.prototype.setEasing=function(easing){this.easing=easing,this.easingFunc=Object(util.isFunction)(easing)?easing:animation_easing[easing]||createCubicEasingFunc(easing)},Clip}(),tool_color=__webpack_require__("./node_modules/zrender/lib/tool/color.js"),helper=__webpack_require__("./node_modules/zrender/lib/svg/helper.js"),arraySlice=Array.prototype.slice;function interpolateNumber(p0,p1,percent){return(p1-p0)*percent+p0}function interpolate1DArray(out,p0,p1,percent){for(var len=p0.length,i=0;i<len;i++)out[i]=interpolateNumber(p0[i],p1[i],percent);return out}function add1DArray(out,p0,p1,sign){for(var len=p0.length,i=0;i<len;i++)out[i]=p0[i]+p1[i]*sign;return out}function add2DArray(out,p0,p1,sign){for(var len=p0.length,len2=len&&p0[0].length,i=0;i<len;i++){out[i]||(out[i]=[]);for(var j=0;j<len2;j++)out[i][j]=p0[i][j]+p1[i][j]*sign}return out}function fillColorStops(val0,val1){for(var len0=val0.length,len1=val1.length,shorterArr=len0>len1?val1:val0,shorterLen=Math.min(len0,len1),last=shorterArr[shorterLen-1]||{color:[0,0,0,0],offset:0},i=shorterLen;i<Math.max(len0,len1);i++)shorterArr.push({offset:last.offset,color:last.color.slice()})}function fillArray(val0,val1,arrDim){var arr0=val0,arr1=val1;if(arr0.push&&arr1.push){var arr0Len=arr0.length,arr1Len=arr1.length;if(arr0Len!==arr1Len)if(arr0Len>arr1Len)arr0.length=arr1Len;else for(var i=arr0Len;i<arr1Len;i++)arr0.push(1===arrDim?arr1[i]:arraySlice.call(arr1[i]));var len2=arr0[0]&&arr0[0].length;for(i=0;i<arr0.length;i++)if(1===arrDim)isNaN(arr0[i])&&(arr0[i]=arr1[i]);else for(var j=0;j<len2;j++)isNaN(arr0[i][j])&&(arr0[i][j]=arr1[i][j])}}function cloneValue(value){if(Object(util.isArrayLike)(value)){var len=value.length;if(Object(util.isArrayLike)(value[0])){for(var ret=[],i=0;i<len;i++)ret.push(arraySlice.call(value[i]));return ret}return arraySlice.call(value)}return value}function rgba2String(rgba){return rgba[0]=Math.floor(rgba[0])||0,rgba[1]=Math.floor(rgba[1])||0,rgba[2]=Math.floor(rgba[2])||0,rgba[3]=null==rgba[3]?1:rgba[3],"rgba("+rgba.join(",")+")"}function isGradientValueType(valType){return 4===valType||5===valType}function isArrayValueType(valType){return 1===valType||2===valType}var tmpRgba=[0,0,0,0],Animator_Track=function(){function Track(propName){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=propName}return Track.prototype.isFinished=function(){return this._finished},Track.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},Track.prototype.needsAnimate=function(){return this.keyframes.length>=1},Track.prototype.getAdditiveTrack=function(){return this._additiveTrack},Track.prototype.addKeyframe=function(time,rawValue,easing){this._needsSort=!0;var keyframes=this.keyframes,len=keyframes.length,discrete=!1,valType=6,value=rawValue;if(Object(util.isArrayLike)(rawValue)){var arrayDim=function guessArrayDim(value){return Object(util.isArrayLike)(value&&value[0])?2:1}(rawValue);valType=arrayDim,(1===arrayDim&&!Object(util.isNumber)(rawValue[0])||2===arrayDim&&!Object(util.isNumber)(rawValue[0][0]))&&(discrete=!0)}else if(Object(util.isNumber)(rawValue)&&!Object(util.eqNaN)(rawValue))valType=0;else if(Object(util.isString)(rawValue))if(isNaN(+rawValue)){var colorArray=tool_color.parse(rawValue);colorArray&&(value=colorArray,valType=3)}else valType=0;else if(Object(util.isGradientObject)(rawValue)){var parsedGradient=Object(util.extend)({},value);parsedGradient.colorStops=Object(util.map)(rawValue.colorStops,(function(colorStop){return{offset:colorStop.offset,color:tool_color.parse(colorStop.color)}})),Object(helper.m)(rawValue)?valType=4:Object(helper.o)(rawValue)&&(valType=5),value=parsedGradient}0===len?this.valType=valType:valType===this.valType&&6!==valType||(discrete=!0),this.discrete=this.discrete||discrete;var kf={time:time,value:value,rawValue:rawValue,percent:0};return easing&&(kf.easing=easing,kf.easingFunc=Object(util.isFunction)(easing)?easing:animation_easing[easing]||createCubicEasingFunc(easing)),keyframes.push(kf),kf},Track.prototype.prepare=function(maxTime,additiveTrack){var kfs=this.keyframes;this._needsSort&&kfs.sort((function(a,b){return a.time-b.time}));for(var valType=this.valType,kfsLen=kfs.length,lastKf=kfs[kfsLen-1],isDiscrete=this.discrete,isArr=isArrayValueType(valType),isGradient=isGradientValueType(valType),i=0;i<kfsLen;i++){var kf=kfs[i],value=kf.value,lastValue=lastKf.value;kf.percent=kf.time/maxTime,isDiscrete||(isArr&&i!==kfsLen-1?fillArray(value,lastValue,valType):isGradient&&fillColorStops(value.colorStops,lastValue.colorStops))}if(!isDiscrete&&5!==valType&&additiveTrack&&this.needsAnimate()&&additiveTrack.needsAnimate()&&valType===additiveTrack.valType&&!additiveTrack._finished){this._additiveTrack=additiveTrack;var startValue=kfs[0].value;for(i=0;i<kfsLen;i++)0===valType?kfs[i].additiveValue=kfs[i].value-startValue:3===valType?kfs[i].additiveValue=add1DArray([],kfs[i].value,startValue,-1):isArrayValueType(valType)&&(kfs[i].additiveValue=1===valType?add1DArray([],kfs[i].value,startValue,-1):add2DArray([],kfs[i].value,startValue,-1))}},Track.prototype.step=function(target,percent){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var frameIdx,frame,nextFrame,isAdditive=null!=this._additiveTrack,valueKey=isAdditive?"additiveValue":"value",valType=this.valType,keyframes=this.keyframes,kfsNum=keyframes.length,propName=this.propName,isValueColor=3===valType,lastFrame=this._lastFr,mathMin=Math.min;if(1===kfsNum)frame=nextFrame=keyframes[0];else{if(percent<0)frameIdx=0;else if(percent<this._lastFrP){for(frameIdx=mathMin(lastFrame+1,kfsNum-1);frameIdx>=0&&!(keyframes[frameIdx].percent<=percent);frameIdx--);frameIdx=mathMin(frameIdx,kfsNum-2)}else{for(frameIdx=lastFrame;frameIdx<kfsNum&&!(keyframes[frameIdx].percent>percent);frameIdx++);frameIdx=mathMin(frameIdx-1,kfsNum-2)}nextFrame=keyframes[frameIdx+1],frame=keyframes[frameIdx]}if(frame&&nextFrame){this._lastFr=frameIdx,this._lastFrP=percent;var interval=nextFrame.percent-frame.percent,w=0===interval?1:mathMin((percent-frame.percent)/interval,1);nextFrame.easingFunc&&(w=nextFrame.easingFunc(w));var targetArr=isAdditive?this._additiveValue:isValueColor?tmpRgba:target[propName];if(!isArrayValueType(valType)&&!isValueColor||targetArr||(targetArr=this._additiveValue=[]),this.discrete)target[propName]=w<1?frame.rawValue:nextFrame.rawValue;else if(isArrayValueType(valType))1===valType?interpolate1DArray(targetArr,frame[valueKey],nextFrame[valueKey],w):function interpolate2DArray(out,p0,p1,percent){for(var len=p0.length,len2=len&&p0[0].length,i=0;i<len;i++){out[i]||(out[i]=[]);for(var j=0;j<len2;j++)out[i][j]=interpolateNumber(p0[i][j],p1[i][j],percent)}return out}(targetArr,frame[valueKey],nextFrame[valueKey],w);else if(isGradientValueType(valType)){var val=frame[valueKey],nextVal_1=nextFrame[valueKey],isLinearGradient_1=4===valType;target[propName]={type:isLinearGradient_1?"linear":"radial",x:interpolateNumber(val.x,nextVal_1.x,w),y:interpolateNumber(val.y,nextVal_1.y,w),colorStops:Object(util.map)(val.colorStops,(function(colorStop,idx){var nextColorStop=nextVal_1.colorStops[idx];return{offset:interpolateNumber(colorStop.offset,nextColorStop.offset,w),color:rgba2String(interpolate1DArray([],colorStop.color,nextColorStop.color,w))}})),global:nextVal_1.global},isLinearGradient_1?(target[propName].x2=interpolateNumber(val.x2,nextVal_1.x2,w),target[propName].y2=interpolateNumber(val.y2,nextVal_1.y2,w)):target[propName].r=interpolateNumber(val.r,nextVal_1.r,w)}else if(isValueColor)interpolate1DArray(targetArr,frame[valueKey],nextFrame[valueKey],w),isAdditive||(target[propName]=rgba2String(targetArr));else{var value=interpolateNumber(frame[valueKey],nextFrame[valueKey],w);isAdditive?this._additiveValue=value:target[propName]=value}isAdditive&&this._addToTarget(target)}}},Track.prototype._addToTarget=function(target){var valType=this.valType,propName=this.propName,additiveValue=this._additiveValue;0===valType?target[propName]=target[propName]+additiveValue:3===valType?(tool_color.parse(target[propName],tmpRgba),add1DArray(tmpRgba,tmpRgba,additiveValue,1),target[propName]=rgba2String(tmpRgba)):1===valType?add1DArray(target[propName],target[propName],additiveValue,1):2===valType&&add2DArray(target[propName],target[propName],additiveValue,1)},Track}(),animation_Animator=function(){function Animator(target,loop,allowDiscreteAnimation,additiveTo){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=target,this._loop=loop,loop&&additiveTo?Object(util.logError)("Can' use additive animation on looped animation."):(this._additiveAnimators=additiveTo,this._allowDiscrete=allowDiscreteAnimation)}return Animator.prototype.getMaxTime=function(){return this._maxTime},Animator.prototype.getDelay=function(){return this._delay},Animator.prototype.getLoop=function(){return this._loop},Animator.prototype.getTarget=function(){return this._target},Animator.prototype.changeTarget=function(target){this._target=target},Animator.prototype.when=function(time,props,easing){return this.whenWithKeys(time,props,Object(util.keys)(props),easing)},Animator.prototype.whenWithKeys=function(time,props,propNames,easing){for(var tracks=this._tracks,i=0;i<propNames.length;i++){var propName=propNames[i],track=tracks[propName];if(!track){track=tracks[propName]=new Animator_Track(propName);var initialValue=void 0,additiveTrack=this._getAdditiveTrack(propName);if(additiveTrack){var addtiveTrackKfs=additiveTrack.keyframes,lastFinalKf=addtiveTrackKfs[addtiveTrackKfs.length-1];initialValue=lastFinalKf&&lastFinalKf.value,3===additiveTrack.valType&&initialValue&&(initialValue=rgba2String(initialValue))}else initialValue=this._target[propName];if(null==initialValue)continue;time>0&&track.addKeyframe(0,cloneValue(initialValue),easing),this._trackKeys.push(propName)}track.addKeyframe(time,cloneValue(props[propName]),easing)}return this._maxTime=Math.max(this._maxTime,time),this},Animator.prototype.pause=function(){this._clip.pause(),this._paused=!0},Animator.prototype.resume=function(){this._clip.resume(),this._paused=!1},Animator.prototype.isPaused=function(){return!!this._paused},Animator.prototype.duration=function(duration){return this._maxTime=duration,this._force=!0,this},Animator.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var doneList=this._doneCbs;if(doneList)for(var len=doneList.length,i=0;i<len;i++)doneList[i].call(this)},Animator.prototype._abortedCallback=function(){this._setTracksFinished();var animation=this.animation,abortedList=this._abortedCbs;if(animation&&animation.removeClip(this._clip),this._clip=null,abortedList)for(var i=0;i<abortedList.length;i++)abortedList[i].call(this)},Animator.prototype._setTracksFinished=function(){for(var tracks=this._tracks,tracksKeys=this._trackKeys,i=0;i<tracksKeys.length;i++)tracks[tracksKeys[i]].setFinished()},Animator.prototype._getAdditiveTrack=function(trackName){var additiveTrack,additiveAnimators=this._additiveAnimators;if(additiveAnimators)for(var i=0;i<additiveAnimators.length;i++){var track=additiveAnimators[i].getTrack(trackName);track&&(additiveTrack=track)}return additiveTrack},Animator.prototype.start=function(easing){if(!(this._started>0)){this._started=1;for(var self=this,tracks=[],maxTime=this._maxTime||0,i=0;i<this._trackKeys.length;i++){var propName=this._trackKeys[i],track=this._tracks[propName],additiveTrack=this._getAdditiveTrack(propName),kfs=track.keyframes,kfsNum=kfs.length;if(track.prepare(maxTime,additiveTrack),track.needsAnimate())if(!this._allowDiscrete&&track.discrete){var lastKf=kfs[kfsNum-1];lastKf&&(self._target[track.propName]=lastKf.rawValue),track.setFinished()}else tracks.push(track)}if(tracks.length||this._force){var clip=new animation_Clip({life:maxTime,loop:this._loop,delay:this._delay||0,onframe:function(percent){self._started=2;var additiveAnimators=self._additiveAnimators;if(additiveAnimators){for(var stillHasAdditiveAnimator=!1,i=0;i<additiveAnimators.length;i++)if(additiveAnimators[i]._clip){stillHasAdditiveAnimator=!0;break}stillHasAdditiveAnimator||(self._additiveAnimators=null)}for(i=0;i<tracks.length;i++)tracks[i].step(self._target,percent);var onframeList=self._onframeCbs;if(onframeList)for(i=0;i<onframeList.length;i++)onframeList[i](self._target,percent)},ondestroy:function(){self._doneCallback()}});this._clip=clip,this.animation&&this.animation.addClip(clip),easing&&clip.setEasing(easing)}else this._doneCallback();return this}},Animator.prototype.stop=function(forwardToLast){if(this._clip){var clip=this._clip;forwardToLast&&clip.onframe(1),this._abortedCallback()}},Animator.prototype.delay=function(time){return this._delay=time,this},Animator.prototype.during=function(cb){return cb&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(cb)),this},Animator.prototype.done=function(cb){return cb&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(cb)),this},Animator.prototype.aborted=function(cb){return cb&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(cb)),this},Animator.prototype.getClip=function(){return this._clip},Animator.prototype.getTrack=function(propName){return this._tracks[propName]},Animator.prototype.getTracks=function(){var _this=this;return Object(util.map)(this._trackKeys,(function(key){return _this._tracks[key]}))},Animator.prototype.stopTracks=function(propNames,forwardToLast){if(!propNames.length||!this._clip)return!0;for(var tracks=this._tracks,tracksKeys=this._trackKeys,i=0;i<propNames.length;i++){var track=tracks[propNames[i]];track&&!track.isFinished()&&(forwardToLast?track.step(this._target,1):1===this._started&&track.step(this._target,0),track.setFinished())}var allAborted=!0;for(i=0;i<tracksKeys.length;i++)if(!tracks[tracksKeys[i]].isFinished()){allAborted=!1;break}return allAborted&&this._abortedCallback(),allAborted},Animator.prototype.saveTo=function(target,trackKeys,firstOrLast){if(target){trackKeys=trackKeys||this._trackKeys;for(var i=0;i<trackKeys.length;i++){var propName=trackKeys[i],track=this._tracks[propName];if(track&&!track.isFinished()){var kfs=track.keyframes,kf=kfs[firstOrLast?0:kfs.length-1];kf&&(target[propName]=cloneValue(kf.rawValue))}}}},Animator.prototype.__changeFinalValue=function(finalProps,trackKeys){trackKeys=trackKeys||Object(util.keys)(finalProps);for(var i=0;i<trackKeys.length;i++){var propName=trackKeys[i],track=this._tracks[propName];if(track){var kfs=track.keyframes;if(kfs.length>1){var lastKf=kfs.pop();track.addKeyframe(lastKf.time,finalProps[propName]),track.prepare(this._maxTime,track.getAdditiveTrack())}}}},Animator}();function getTime(){return(new Date).getTime()}var mouseHandlerNames,pointerEventNameMap,animation_Animation=function(_super){function Animation(opts){var _this=_super.call(this)||this;return _this._running=!1,_this._time=0,_this._pausedTime=0,_this._pauseStart=0,_this._paused=!1,opts=opts||{},_this.stage=opts.stage||{},_this}return tslib_es6_extends(Animation,_super),Animation.prototype.addClip=function(clip){clip.animation&&this.removeClip(clip),this._head?(this._tail.next=clip,clip.prev=this._tail,clip.next=null,this._tail=clip):this._head=this._tail=clip,clip.animation=this},Animation.prototype.addAnimator=function(animator){animator.animation=this;var clip=animator.getClip();clip&&this.addClip(clip)},Animation.prototype.removeClip=function(clip){if(clip.animation){var prev=clip.prev,next=clip.next;prev?prev.next=next:this._head=next,next?next.prev=prev:this._tail=prev,clip.next=clip.prev=clip.animation=null}},Animation.prototype.removeAnimator=function(animator){var clip=animator.getClip();clip&&this.removeClip(clip),animator.animation=null},Animation.prototype.update=function(notTriggerFrameAndStageUpdate){for(var time=getTime()-this._pausedTime,delta=time-this._time,clip=this._head;clip;){var nextClip=clip.next;clip.step(time,delta)?(clip.ondestroy(),this.removeClip(clip),clip=nextClip):clip=nextClip}this._time=time,notTriggerFrameAndStageUpdate||(this.trigger("frame",delta),this.stage.update&&this.stage.update())},Animation.prototype._startLoop=function(){var self=this;this._running=!0,animation_requestAnimationFrame((function step(){self._running&&(animation_requestAnimationFrame(step),!self._paused&&self.update())}))},Animation.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},Animation.prototype.stop=function(){this._running=!1},Animation.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},Animation.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},Animation.prototype.clear=function(){for(var clip=this._head;clip;){var nextClip=clip.next;clip.prev=clip.next=clip.animation=null,clip=nextClip}this._head=this._tail=null},Animation.prototype.isFinished=function(){return null==this._head},Animation.prototype.animate=function(target,options){options=options||{},this.start();var animator=new animation_Animator(target,options.loop);return this.addAnimator(animator),animator},Animation}(core_Eventful),globalEventSupported=env.a.domSupported,localNativeListenerNames=(pointerEventNameMap={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:mouseHandlerNames=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:util.map(mouseHandlerNames,(function(name){var nm=name.replace("mouse","pointer");return pointerEventNameMap.hasOwnProperty(nm)?nm:name}))}),globalNativeListenerNames_mouse=["mousemove","mouseup"],globalNativeListenerNames_pointer=["pointermove","pointerup"],wheelEventSupported=!1;function isPointerFromTouch(event){var pointerType=event.pointerType;return"pen"===pointerType||"touch"===pointerType}function markTouch(event){event&&(event.zrByTouch=!0)}function isLocalEl(instance,el){for(var elTmp=el,isLocal=!1;elTmp&&9!==elTmp.nodeType&&!(isLocal=elTmp.domBelongToZr||elTmp!==el&&elTmp===instance.painterRoot);)elTmp=elTmp.parentNode;return isLocal}var HandlerProxy_FakeGlobalEvent=function FakeGlobalEvent(instance,event){this.stopPropagation=util.noop,this.stopImmediatePropagation=util.noop,this.preventDefault=util.noop,this.type=event.type,this.target=this.currentTarget=instance.dom,this.pointerType=event.pointerType,this.clientX=event.clientX,this.clientY=event.clientY},localDOMHandlers={mousedown:function(event){event=normalizeEvent(this.dom,event),this.__mayPointerCapture=[event.zrX,event.zrY],this.trigger("mousedown",event)},mousemove:function(event){event=normalizeEvent(this.dom,event);var downPoint=this.__mayPointerCapture;!downPoint||event.zrX===downPoint[0]&&event.zrY===downPoint[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",event)},mouseup:function(event){event=normalizeEvent(this.dom,event),this.__togglePointerCapture(!1),this.trigger("mouseup",event)},mouseout:function(event){isLocalEl(this,(event=normalizeEvent(this.dom,event)).toElement||event.relatedTarget)||(this.__pointerCapturing&&(event.zrEventControl="no_globalout"),this.trigger("mouseout",event))},wheel:function(event){wheelEventSupported=!0,event=normalizeEvent(this.dom,event),this.trigger("mousewheel",event)},mousewheel:function(event){wheelEventSupported||(event=normalizeEvent(this.dom,event),this.trigger("mousewheel",event))},touchstart:function(event){markTouch(event=normalizeEvent(this.dom,event)),this.__lastTouchMoment=new Date,this.handler.processGesture(event,"start"),localDOMHandlers.mousemove.call(this,event),localDOMHandlers.mousedown.call(this,event)},touchmove:function(event){markTouch(event=normalizeEvent(this.dom,event)),this.handler.processGesture(event,"change"),localDOMHandlers.mousemove.call(this,event)},touchend:function(event){markTouch(event=normalizeEvent(this.dom,event)),this.handler.processGesture(event,"end"),localDOMHandlers.mouseup.call(this,event),+new Date-+this.__lastTouchMoment<300&&localDOMHandlers.click.call(this,event)},pointerdown:function(event){localDOMHandlers.mousedown.call(this,event)},pointermove:function(event){isPointerFromTouch(event)||localDOMHandlers.mousemove.call(this,event)},pointerup:function(event){localDOMHandlers.mouseup.call(this,event)},pointerout:function(event){isPointerFromTouch(event)||localDOMHandlers.mouseout.call(this,event)}};util.each(["click","dblclick","contextmenu"],(function(name){localDOMHandlers[name]=function(event){event=normalizeEvent(this.dom,event),this.trigger(name,event)}}));var globalDOMHandlers={pointermove:function(event){isPointerFromTouch(event)||globalDOMHandlers.mousemove.call(this,event)},pointerup:function(event){globalDOMHandlers.mouseup.call(this,event)},mousemove:function(event){this.trigger("mousemove",event)},mouseup:function(event){var pointerCaptureReleasing=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",event),pointerCaptureReleasing&&(event.zrEventControl="only_globalout",this.trigger("mouseout",event))}};function mountLocalDOMEventListeners(instance,scope){var domHandlers=scope.domHandlers;env.a.pointerEventsSupported?util.each(localNativeListenerNames.pointer,(function(nativeEventName){mountSingleDOMEventListener(scope,nativeEventName,(function(event){domHandlers[nativeEventName].call(instance,event)}))})):(env.a.touchEventsSupported&&util.each(localNativeListenerNames.touch,(function(nativeEventName){mountSingleDOMEventListener(scope,nativeEventName,(function(event){domHandlers[nativeEventName].call(instance,event),function setTouchTimer(scope){scope.touching=!0,null!=scope.touchTimer&&(clearTimeout(scope.touchTimer),scope.touchTimer=null),scope.touchTimer=setTimeout((function(){scope.touching=!1,scope.touchTimer=null}),700)}(scope)}))})),util.each(localNativeListenerNames.mouse,(function(nativeEventName){mountSingleDOMEventListener(scope,nativeEventName,(function(event){event=getNativeEvent(event),scope.touching||domHandlers[nativeEventName].call(instance,event)}))})))}function mountGlobalDOMEventListeners(instance,scope){function mount(nativeEventName){mountSingleDOMEventListener(scope,nativeEventName,(function nativeEventListener(event){event=getNativeEvent(event),isLocalEl(instance,event.target)||(event=function normalizeGlobalEvent(instance,event){return normalizeEvent(instance.dom,new HandlerProxy_FakeGlobalEvent(instance,event),!0)}(instance,event),scope.domHandlers[nativeEventName].call(instance,event))}),{capture:!0})}env.a.pointerEventsSupported?util.each(globalNativeListenerNames_pointer,mount):env.a.touchEventsSupported||util.each(globalNativeListenerNames_mouse,mount)}function mountSingleDOMEventListener(scope,nativeEventName,listener,opt){scope.mounted[nativeEventName]=listener,scope.listenerOpts[nativeEventName]=opt,addEventListener(scope.domTarget,nativeEventName,listener,opt)}function unmountDOMEventListeners(scope){var el,name,handler,opt,mounted=scope.mounted;for(var nativeEventName in mounted)mounted.hasOwnProperty(nativeEventName)&&(el=scope.domTarget,name=nativeEventName,handler=mounted[nativeEventName],opt=scope.listenerOpts[nativeEventName],el.removeEventListener(name,handler,opt));scope.mounted={}}var DOMHandlerScope=function DOMHandlerScope(domTarget,domHandlers){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=domTarget,this.domHandlers=domHandlers},HandlerProxy=function(_super){function HandlerDomProxy(dom,painterRoot){var _this=_super.call(this)||this;return _this.__pointerCapturing=!1,_this.dom=dom,_this.painterRoot=painterRoot,_this._localHandlerScope=new DOMHandlerScope(dom,localDOMHandlers),globalEventSupported&&(_this._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(_this,_this._localHandlerScope),_this}return tslib_es6_extends(HandlerDomProxy,_super),HandlerDomProxy.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},HandlerDomProxy.prototype.setCursor=function(cursorStyle){this.dom.style&&(this.dom.style.cursor=cursorStyle||"default")},HandlerDomProxy.prototype.__togglePointerCapture=function(isPointerCapturing){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+isPointerCapturing){this.__pointerCapturing=isPointerCapturing;var globalHandlerScope=this._globalHandlerScope;isPointerCapturing?mountGlobalDOMEventListeners(this,globalHandlerScope):unmountDOMEventListeners(globalHandlerScope)}},HandlerDomProxy}(core_Eventful),config_dpr=1;env.a.hasGlobalWindow&&(config_dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=config_dpr;function matrix_create(){return[1,0,0,1,0,0]}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=0,out[5]=0,out}function matrix_copy(out,m){return out[0]=m[0],out[1]=m[1],out[2]=m[2],out[3]=m[3],out[4]=m[4],out[5]=m[5],out}function matrix_mul(out,m1,m2){var out0=m1[0]*m2[0]+m1[2]*m2[1],out1=m1[1]*m2[0]+m1[3]*m2[1],out2=m1[0]*m2[2]+m1[2]*m2[3],out3=m1[1]*m2[2]+m1[3]*m2[3],out4=m1[0]*m2[4]+m1[2]*m2[5]+m1[4],out5=m1[1]*m2[4]+m1[3]*m2[5]+m1[5];return out[0]=out0,out[1]=out1,out[2]=out2,out[3]=out3,out[4]=out4,out[5]=out5,out}function matrix_translate(out,a,v){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4]+v[0],out[5]=a[5]+v[1],out}function matrix_rotate(out,a,rad){var aa=a[0],ac=a[2],atx=a[4],ab=a[1],ad=a[3],aty=a[5],st=Math.sin(rad),ct=Math.cos(rad);return out[0]=aa*ct+ab*st,out[1]=-aa*st+ab*ct,out[2]=ac*ct+ad*st,out[3]=-ac*st+ct*ad,out[4]=ct*atx+st*aty,out[5]=ct*aty-st*atx,out}function matrix_scale(out,a,v){var vx=v[0],vy=v[1];return out[0]=a[0]*vx,out[1]=a[1]*vy,out[2]=a[2]*vx,out[3]=a[3]*vy,out[4]=a[4]*vx,out[5]=a[5]*vy,out}function matrix_invert(out,a){var aa=a[0],ac=a[2],atx=a[4],ab=a[1],ad=a[3],aty=a[5],det=aa*ad-ab*ac;return det?(det=1/det,out[0]=ad*det,out[1]=-ab*det,out[2]=-ac*det,out[3]=aa*det,out[4]=(ac*aty-ad*atx)*det,out[5]=(ab*atx-aa*aty)*det,out):null}function matrix_clone(a){var b=[1,0,0,1,0,0];return matrix_copy(b,a),b}var mIdentity=identity;function Transformable_isNotAroundZero(val){return val>5e-5||val<-5e-5}var scaleTmp=[],tmpTransform=[],originTransform=[1,0,0,1,0,0],Transformable_abs=Math.abs,Transformable_Transformable=function(){function Transformable(){}var proto;return Transformable.prototype.getLocalTransform=function(m){return Transformable.getLocalTransform(this,m)},Transformable.prototype.setPosition=function(arr){this.x=arr[0],this.y=arr[1]},Transformable.prototype.setScale=function(arr){this.scaleX=arr[0],this.scaleY=arr[1]},Transformable.prototype.setSkew=function(arr){this.skewX=arr[0],this.skewY=arr[1]},Transformable.prototype.setOrigin=function(arr){this.originX=arr[0],this.originY=arr[1]},Transformable.prototype.needLocalTransform=function(){return Transformable_isNotAroundZero(this.rotation)||Transformable_isNotAroundZero(this.x)||Transformable_isNotAroundZero(this.y)||Transformable_isNotAroundZero(this.scaleX-1)||Transformable_isNotAroundZero(this.scaleY-1)||Transformable_isNotAroundZero(this.skewX)||Transformable_isNotAroundZero(this.skewY)},Transformable.prototype.updateTransform=function(){var parentTransform=this.parent&&this.parent.transform,needLocalTransform=this.needLocalTransform(),m=this.transform;needLocalTransform||parentTransform?(m=m||[1,0,0,1,0,0],needLocalTransform?this.getLocalTransform(m):mIdentity(m),parentTransform&&(needLocalTransform?matrix_mul(m,parentTransform,m):matrix_copy(m,parentTransform)),this.transform=m,this._resolveGlobalScaleRatio(m)):m&&mIdentity(m)},Transformable.prototype._resolveGlobalScaleRatio=function(m){var globalScaleRatio=this.globalScaleRatio;if(null!=globalScaleRatio&&1!==globalScaleRatio){this.getGlobalScale(scaleTmp);var relX=scaleTmp[0]<0?-1:1,relY=scaleTmp[1]<0?-1:1,sx=((scaleTmp[0]-relX)*globalScaleRatio+relX)/scaleTmp[0]||0,sy=((scaleTmp[1]-relY)*globalScaleRatio+relY)/scaleTmp[1]||0;m[0]*=sx,m[1]*=sx,m[2]*=sy,m[3]*=sy}this.invTransform=this.invTransform||[1,0,0,1,0,0],matrix_invert(this.invTransform,m)},Transformable.prototype.getComputedTransform=function(){for(var transformNode=this,ancestors=[];transformNode;)ancestors.push(transformNode),transformNode=transformNode.parent;for(;transformNode=ancestors.pop();)transformNode.updateTransform();return this.transform},Transformable.prototype.setLocalTransform=function(m){if(m){var sx=m[0]*m[0]+m[1]*m[1],sy=m[2]*m[2]+m[3]*m[3],rotation=Math.atan2(m[1],m[0]),shearX=Math.PI/2+rotation-Math.atan2(m[3],m[2]);sy=Math.sqrt(sy)*Math.cos(shearX),sx=Math.sqrt(sx),this.skewX=shearX,this.skewY=0,this.rotation=-rotation,this.x=+m[4],this.y=+m[5],this.scaleX=sx,this.scaleY=sy,this.originX=0,this.originY=0}},Transformable.prototype.decomposeTransform=function(){if(this.transform){var parent=this.parent,m=this.transform;parent&&parent.transform&&(matrix_mul(tmpTransform,parent.invTransform,m),m=tmpTransform);var ox=this.originX,oy=this.originY;(ox||oy)&&(originTransform[4]=ox,originTransform[5]=oy,matrix_mul(tmpTransform,m,originTransform),tmpTransform[4]-=ox,tmpTransform[5]-=oy,m=tmpTransform),this.setLocalTransform(m)}},Transformable.prototype.getGlobalScale=function(out){var m=this.transform;return out=out||[],m?(out[0]=Math.sqrt(m[0]*m[0]+m[1]*m[1]),out[1]=Math.sqrt(m[2]*m[2]+m[3]*m[3]),m[0]<0&&(out[0]=-out[0]),m[3]<0&&(out[1]=-out[1]),out):(out[0]=1,out[1]=1,out)},Transformable.prototype.transformCoordToLocal=function(x,y){var v2=[x,y],invTransform=this.invTransform;return invTransform&&applyTransform(v2,v2,invTransform),v2},Transformable.prototype.transformCoordToGlobal=function(x,y){var v2=[x,y],transform=this.transform;return transform&&applyTransform(v2,v2,transform),v2},Transformable.prototype.getLineScale=function(){var m=this.transform;return m&&Transformable_abs(m[0]-1)>1e-10&&Transformable_abs(m[3]-1)>1e-10?Math.sqrt(Transformable_abs(m[0]*m[3]-m[2]*m[1])):1},Transformable.prototype.copyTransform=function(source){copyTransform(this,source)},Transformable.getLocalTransform=function(target,m){m=m||[];var ox=target.originX||0,oy=target.originY||0,sx=target.scaleX,sy=target.scaleY,ax=target.anchorX,ay=target.anchorY,rotation=target.rotation||0,x=target.x,y=target.y,skewX=target.skewX?Math.tan(target.skewX):0,skewY=target.skewY?Math.tan(-target.skewY):0;if(ox||oy||ax||ay){var dx=ox+ax,dy=oy+ay;m[4]=-dx*sx-skewX*dy*sy,m[5]=-dy*sy-skewY*dx*sx}else m[4]=m[5]=0;return m[0]=sx,m[3]=sy,m[1]=skewY*sx,m[2]=skewX*sy,rotation&&matrix_rotate(m,m,rotation),m[4]+=ox+x,m[5]+=oy+y,m},Transformable.initDefaultProps=((proto=Transformable.prototype).scaleX=proto.scaleY=proto.globalScaleRatio=1,void(proto.x=proto.y=proto.originX=proto.originY=proto.skewX=proto.skewY=proto.rotation=proto.anchorX=proto.anchorY=0)),Transformable}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(target,source){for(var i=0;i<TRANSFORMABLE_PROPS.length;i++){var propName=TRANSFORMABLE_PROPS[i];target[propName]=source[propName]}}var core_Transformable=Transformable_Transformable,core_Point=function(){function Point(x,y){this.x=x||0,this.y=y||0}return Point.prototype.copy=function(other){return this.x=other.x,this.y=other.y,this},Point.prototype.clone=function(){return new Point(this.x,this.y)},Point.prototype.set=function(x,y){return this.x=x,this.y=y,this},Point.prototype.equal=function(other){return other.x===this.x&&other.y===this.y},Point.prototype.add=function(other){return this.x+=other.x,this.y+=other.y,this},Point.prototype.scale=function(scalar){this.x*=scalar,this.y*=scalar},Point.prototype.scaleAndAdd=function(other,scalar){this.x+=other.x*scalar,this.y+=other.y*scalar},Point.prototype.sub=function(other){return this.x-=other.x,this.y-=other.y,this},Point.prototype.dot=function(other){return this.x*other.x+this.y*other.y},Point.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Point.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},Point.prototype.normalize=function(){var len=this.len();return this.x/=len,this.y/=len,this},Point.prototype.distance=function(other){var dx=this.x-other.x,dy=this.y-other.y;return Math.sqrt(dx*dx+dy*dy)},Point.prototype.distanceSquare=function(other){var dx=this.x-other.x,dy=this.y-other.y;return dx*dx+dy*dy},Point.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},Point.prototype.transform=function(m){if(m){var x=this.x,y=this.y;return this.x=m[0]*x+m[2]*y+m[4],this.y=m[1]*x+m[3]*y+m[5],this}},Point.prototype.toArray=function(out){return out[0]=this.x,out[1]=this.y,out},Point.prototype.fromArray=function(input){this.x=input[0],this.y=input[1]},Point.set=function(p,x,y){p.x=x,p.y=y},Point.copy=function(p,p2){p.x=p2.x,p.y=p2.y},Point.len=function(p){return Math.sqrt(p.x*p.x+p.y*p.y)},Point.lenSquare=function(p){return p.x*p.x+p.y*p.y},Point.dot=function(p0,p1){return p0.x*p1.x+p0.y*p1.y},Point.add=function(out,p0,p1){out.x=p0.x+p1.x,out.y=p0.y+p1.y},Point.sub=function(out,p0,p1){out.x=p0.x-p1.x,out.y=p0.y-p1.y},Point.scale=function(out,p0,scalar){out.x=p0.x*scalar,out.y=p0.y*scalar},Point.scaleAndAdd=function(out,p0,p1,scalar){out.x=p0.x+p1.x*scalar,out.y=p0.y+p1.y*scalar},Point.lerp=function(out,p0,p1,t){var onet=1-t;out.x=onet*p0.x+t*p1.x,out.y=onet*p0.y+t*p1.y},Point}(),BoundingRect_mathMin=Math.min,BoundingRect_mathMax=Math.max,BoundingRect_lt=new core_Point,BoundingRect_rb=new core_Point,lb=new core_Point,rt=new core_Point,BoundingRect_minTv=new core_Point,BoundingRect_maxTv=new core_Point,core_BoundingRect=function(){function BoundingRect(x,y,width,height){width<0&&(x+=width,width=-width),height<0&&(y+=height,height=-height),this.x=x,this.y=y,this.width=width,this.height=height}return BoundingRect.prototype.union=function(other){var x=BoundingRect_mathMin(other.x,this.x),y=BoundingRect_mathMin(other.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=BoundingRect_mathMax(other.x+other.width,this.x+this.width)-x:this.width=other.width,isFinite(this.y)&&isFinite(this.height)?this.height=BoundingRect_mathMax(other.y+other.height,this.y+this.height)-y:this.height=other.height,this.x=x,this.y=y},BoundingRect.prototype.applyTransform=function(m){BoundingRect.applyTransform(this,this,m)},BoundingRect.prototype.calculateTransform=function(b){var a=this,sx=b.width/a.width,sy=b.height/a.height,m=[1,0,0,1,0,0];return matrix_translate(m,m,[-a.x,-a.y]),matrix_scale(m,m,[sx,sy]),matrix_translate(m,m,[b.x,b.y]),m},BoundingRect.prototype.intersect=function(b,mtv){if(!b)return!1;b instanceof BoundingRect||(b=BoundingRect.create(b));var a=this,ax0=a.x,ax1=a.x+a.width,ay0=a.y,ay1=a.y+a.height,bx0=b.x,bx1=b.x+b.width,by0=b.y,by1=b.y+b.height,overlap=!(ax1<bx0||bx1<ax0||ay1<by0||by1<ay0);if(mtv){var dMin=1/0,dMax=0,d0=Math.abs(ax1-bx0),d1=Math.abs(bx1-ax0),d2=Math.abs(ay1-by0),d3=Math.abs(by1-ay0),dx=Math.min(d0,d1),dy=Math.min(d2,d3);ax1<bx0||bx1<ax0?dx>dMax&&(dMax=dx,d0<d1?core_Point.set(BoundingRect_maxTv,-d0,0):core_Point.set(BoundingRect_maxTv,d1,0)):dx<dMin&&(dMin=dx,d0<d1?core_Point.set(BoundingRect_minTv,d0,0):core_Point.set(BoundingRect_minTv,-d1,0)),ay1<by0||by1<ay0?dy>dMax&&(dMax=dy,d2<d3?core_Point.set(BoundingRect_maxTv,0,-d2):core_Point.set(BoundingRect_maxTv,0,d3)):dx<dMin&&(dMin=dx,d2<d3?core_Point.set(BoundingRect_minTv,0,d2):core_Point.set(BoundingRect_minTv,0,-d3))}return mtv&&core_Point.copy(mtv,overlap?BoundingRect_minTv:BoundingRect_maxTv),overlap},BoundingRect.prototype.contain=function(x,y){return x>=this.x&&x<=this.x+this.width&&y>=this.y&&y<=this.y+this.height},BoundingRect.prototype.clone=function(){return new BoundingRect(this.x,this.y,this.width,this.height)},BoundingRect.prototype.copy=function(other){BoundingRect.copy(this,other)},BoundingRect.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},BoundingRect.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},BoundingRect.prototype.isZero=function(){return 0===this.width||0===this.height},BoundingRect.create=function(rect){return new BoundingRect(rect.x,rect.y,rect.width,rect.height)},BoundingRect.copy=function(target,source){target.x=source.x,target.y=source.y,target.width=source.width,target.height=source.height},BoundingRect.applyTransform=function(target,source,m){if(m){if(m[1]<1e-5&&m[1]>-1e-5&&m[2]<1e-5&&m[2]>-1e-5){var sx=m[0],sy=m[3],tx=m[4],ty=m[5];return target.x=source.x*sx+tx,target.y=source.y*sy+ty,target.width=source.width*sx,target.height=source.height*sy,target.width<0&&(target.x+=target.width,target.width=-target.width),void(target.height<0&&(target.y+=target.height,target.height=-target.height))}BoundingRect_lt.x=lb.x=source.x,BoundingRect_lt.y=rt.y=source.y,BoundingRect_rb.x=rt.x=source.x+source.width,BoundingRect_rb.y=lb.y=source.y+source.height,BoundingRect_lt.transform(m),rt.transform(m),BoundingRect_rb.transform(m),lb.transform(m),target.x=BoundingRect_mathMin(BoundingRect_lt.x,BoundingRect_rb.x,lb.x,rt.x),target.y=BoundingRect_mathMin(BoundingRect_lt.y,BoundingRect_rb.y,lb.y,rt.y);var maxX=BoundingRect_mathMax(BoundingRect_lt.x,BoundingRect_rb.x,lb.x,rt.x),maxY=BoundingRect_mathMax(BoundingRect_lt.y,BoundingRect_rb.y,lb.y,rt.y);target.width=maxX-target.x,target.height=maxY-target.y}else target!==source&&BoundingRect.copy(target,source)},BoundingRect}(),LRU=__webpack_require__("./node_modules/zrender/lib/core/LRU.js"),platform=__webpack_require__("./node_modules/zrender/lib/core/platform.js"),textWidthCache={};function getWidth(text,font){font=font||platform.a;var cacheOfFont=textWidthCache[font];cacheOfFont||(cacheOfFont=textWidthCache[font]=new LRU.a(500));var width=cacheOfFont.get(text);return null==width&&(width=platform.d.measureText(text,font).width,cacheOfFont.put(text,width)),width}function innerGetBoundingRect(text,font,textAlign,textBaseline){var width=getWidth(text,font),height=getLineHeight(font),x=adjustTextX(0,width,textAlign),y=adjustTextY(0,height,textBaseline);return new core_BoundingRect(x,y,width,height)}function getBoundingRect(text,font,textAlign,textBaseline){var textLines=((text||"")+"").split("\n");if(1===textLines.length)return innerGetBoundingRect(textLines[0],font,textAlign,textBaseline);for(var uniondRect=new core_BoundingRect(0,0,0,0),i=0;i<textLines.length;i++){var rect=innerGetBoundingRect(textLines[i],font,textAlign,textBaseline);0===i?uniondRect.copy(rect):uniondRect.union(rect)}return uniondRect}function adjustTextX(x,width,textAlign){return"right"===textAlign?x-=width:"center"===textAlign&&(x-=width/2),x}function adjustTextY(y,height,verticalAlign){return"middle"===verticalAlign?y-=height/2:"bottom"===verticalAlign&&(y-=height),y}function getLineHeight(font){return getWidth("",font)}function parsePercent(value,maxValue){return"string"==typeof value?value.lastIndexOf("%")>=0?parseFloat(value)/100*maxValue:parseFloat(value):value}function calculateTextPosition(out,opts,rect){var textPosition=opts.position||"inside",distance=null!=opts.distance?opts.distance:5,height=rect.height,width=rect.width,halfHeight=height/2,x=rect.x,y=rect.y,textAlign="left",textVerticalAlign="top";if(textPosition instanceof Array)x+=parsePercent(textPosition[0],rect.width),y+=parsePercent(textPosition[1],rect.height),textAlign=null,textVerticalAlign=null;else switch(textPosition){case"left":x-=distance,y+=halfHeight,textAlign="right",textVerticalAlign="middle";break;case"right":x+=distance+width,y+=halfHeight,textVerticalAlign="middle";break;case"top":x+=width/2,y-=distance,textAlign="center",textVerticalAlign="bottom";break;case"bottom":x+=width/2,y+=height+distance,textAlign="center";break;case"inside":x+=width/2,y+=halfHeight,textAlign="center",textVerticalAlign="middle";break;case"insideLeft":x+=distance,y+=halfHeight,textVerticalAlign="middle";break;case"insideRight":x+=width-distance,y+=halfHeight,textAlign="right",textVerticalAlign="middle";break;case"insideTop":x+=width/2,y+=distance,textAlign="center";break;case"insideBottom":x+=width/2,y+=height-distance,textAlign="center",textVerticalAlign="bottom";break;case"insideTopLeft":x+=distance,y+=distance;break;case"insideTopRight":x+=width-distance,y+=distance,textAlign="right";break;case"insideBottomLeft":x+=distance,y+=height-distance,textVerticalAlign="bottom";break;case"insideBottomRight":x+=width-distance,y+=height-distance,textAlign="right",textVerticalAlign="bottom"}return(out=out||{}).x=x,out.y=y,out.align=textAlign,out.verticalAlign=textVerticalAlign,out}var PRIMARY_STATES_KEYS=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=Object(util.reduce)(TRANSFORMABLE_PROPS,(function(obj,key){return obj[key]=!0,obj}),{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new core_BoundingRect(0,0,0,0),Element_Element=function(){function Element(props){this.id=Object(util.guid)(),this.animators=[],this.currentStates=[],this.states={},this._init(props)}return Element.prototype._init=function(props){this.attr(props)},Element.prototype.drift=function(dx,dy,e){switch(this.draggable){case"horizontal":dy=0;break;case"vertical":dx=0}var m=this.transform;m||(m=this.transform=[1,0,0,1,0,0]),m[4]+=dx,m[5]+=dy,this.decomposeTransform(),this.markRedraw()},Element.prototype.beforeUpdate=function(){},Element.prototype.afterUpdate=function(){},Element.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},Element.prototype.updateInnerText=function(forceUpdate){var textEl=this._textContent;if(textEl&&(!textEl.ignore||forceUpdate)){this.textConfig||(this.textConfig={});var textConfig=this.textConfig,isLocal=textConfig.local,innerTransformable=textEl.innerTransformable,textAlign=void 0,textVerticalAlign=void 0,textStyleChanged=!1;innerTransformable.parent=isLocal?this:null;var innerOrigin=!1;if(innerTransformable.copyTransform(textEl),null!=textConfig.position){var layoutRect=tmpBoundingRect;textConfig.layoutRect?layoutRect.copy(textConfig.layoutRect):layoutRect.copy(this.getBoundingRect()),isLocal||layoutRect.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,textConfig,layoutRect):calculateTextPosition(tmpTextPosCalcRes,textConfig,layoutRect),innerTransformable.x=tmpTextPosCalcRes.x,innerTransformable.y=tmpTextPosCalcRes.y,textAlign=tmpTextPosCalcRes.align,textVerticalAlign=tmpTextPosCalcRes.verticalAlign;var textOrigin=textConfig.origin;if(textOrigin&&null!=textConfig.rotation){var relOriginX=void 0,relOriginY=void 0;"center"===textOrigin?(relOriginX=.5*layoutRect.width,relOriginY=.5*layoutRect.height):(relOriginX=parsePercent(textOrigin[0],layoutRect.width),relOriginY=parsePercent(textOrigin[1],layoutRect.height)),innerOrigin=!0,innerTransformable.originX=-innerTransformable.x+relOriginX+(isLocal?0:layoutRect.x),innerTransformable.originY=-innerTransformable.y+relOriginY+(isLocal?0:layoutRect.y)}}null!=textConfig.rotation&&(innerTransformable.rotation=textConfig.rotation);var textOffset=textConfig.offset;textOffset&&(innerTransformable.x+=textOffset[0],innerTransformable.y+=textOffset[1],innerOrigin||(innerTransformable.originX=-textOffset[0],innerTransformable.originY=-textOffset[1]));var isInside=null==textConfig.inside?"string"==typeof textConfig.position&&textConfig.position.indexOf("inside")>=0:textConfig.inside,innerTextDefaultStyle=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),textFill=void 0,textStroke=void 0,autoStroke=void 0;isInside&&this.canBeInsideText()?(textFill=textConfig.insideFill,textStroke=textConfig.insideStroke,null!=textFill&&"auto"!==textFill||(textFill=this.getInsideTextFill()),null!=textStroke&&"auto"!==textStroke||(textStroke=this.getInsideTextStroke(textFill),autoStroke=!0)):(textFill=textConfig.outsideFill,textStroke=textConfig.outsideStroke,null!=textFill&&"auto"!==textFill||(textFill=this.getOutsideFill()),null!=textStroke&&"auto"!==textStroke||(textStroke=this.getOutsideStroke(textFill),autoStroke=!0)),(textFill=textFill||"#000")===innerTextDefaultStyle.fill&&textStroke===innerTextDefaultStyle.stroke&&autoStroke===innerTextDefaultStyle.autoStroke&&textAlign===innerTextDefaultStyle.align&&textVerticalAlign===innerTextDefaultStyle.verticalAlign||(textStyleChanged=!0,innerTextDefaultStyle.fill=textFill,innerTextDefaultStyle.stroke=textStroke,innerTextDefaultStyle.autoStroke=autoStroke,innerTextDefaultStyle.align=textAlign,innerTextDefaultStyle.verticalAlign=textVerticalAlign,textEl.setDefaultTextStyle(innerTextDefaultStyle)),textEl.__dirty|=1,textStyleChanged&&textEl.dirtyStyle(!0)}},Element.prototype.canBeInsideText=function(){return!0},Element.prototype.getInsideTextFill=function(){return"#fff"},Element.prototype.getInsideTextStroke=function(textFill){return"#000"},Element.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?"#ccc":"#333"},Element.prototype.getOutsideStroke=function(textFill){var backgroundColor=this.__zr&&this.__zr.getBackgroundColor(),colorArr="string"==typeof backgroundColor&&Object(tool_color.parse)(backgroundColor);colorArr||(colorArr=[255,255,255,1]);for(var alpha=colorArr[3],isDark=this.__zr.isDarkMode(),i=0;i<3;i++)colorArr[i]=colorArr[i]*alpha+(isDark?0:255)*(1-alpha);return colorArr[3]=1,Object(tool_color.stringify)(colorArr,"rgba")},Element.prototype.traverse=function(cb,context){},Element.prototype.attrKV=function(key,value){"textConfig"===key?this.setTextConfig(value):"textContent"===key?this.setTextContent(value):"clipPath"===key?this.setClipPath(value):"extra"===key?(this.extra=this.extra||{},Object(util.extend)(this.extra,value)):this[key]=value},Element.prototype.hide=function(){this.ignore=!0,this.markRedraw()},Element.prototype.show=function(){this.ignore=!1,this.markRedraw()},Element.prototype.attr=function(keyOrObj,value){if("string"==typeof keyOrObj)this.attrKV(keyOrObj,value);else if(Object(util.isObject)(keyOrObj))for(var obj=keyOrObj,keysArr=Object(util.keys)(obj),i=0;i<keysArr.length;i++){var key=keysArr[i];this.attrKV(key,keyOrObj[key])}return this.markRedraw(),this},Element.prototype.saveCurrentToNormalState=function(toState){this._innerSaveToNormal(toState);for(var normalState=this._normalState,i=0;i<this.animators.length;i++){var animator=this.animators[i],fromStateTransition=animator.__fromStateTransition;if(!(animator.getLoop()||fromStateTransition&&"__zr_normal__"!==fromStateTransition)){var targetName=animator.targetName,target=targetName?normalState[targetName]:normalState;animator.saveTo(target)}}},Element.prototype._innerSaveToNormal=function(toState){var normalState=this._normalState;normalState||(normalState=this._normalState={}),toState.textConfig&&!normalState.textConfig&&(normalState.textConfig=this.textConfig),this._savePrimaryToNormal(toState,normalState,PRIMARY_STATES_KEYS)},Element.prototype._savePrimaryToNormal=function(toState,normalState,primaryKeys){for(var i=0;i<primaryKeys.length;i++){var key=primaryKeys[i];null==toState[key]||key in normalState||(normalState[key]=this[key])}},Element.prototype.hasState=function(){return this.currentStates.length>0},Element.prototype.getState=function(name){return this.states[name]},Element.prototype.ensureState=function(name){var states=this.states;return states[name]||(states[name]={}),states[name]},Element.prototype.clearStates=function(noAnimation){this.useState("__zr_normal__",!1,noAnimation)},Element.prototype.useState=function(stateName,keepCurrentStates,noAnimation,forceUseHoverLayer){var toNormalState="__zr_normal__"===stateName;if(this.hasState()||!toNormalState){var currentStates=this.currentStates,animationCfg=this.stateTransition;if(!(Object(util.indexOf)(currentStates,stateName)>=0)||!keepCurrentStates&&1!==currentStates.length){var state;if(this.stateProxy&&!toNormalState&&(state=this.stateProxy(stateName)),state||(state=this.states&&this.states[stateName]),state||toNormalState){toNormalState||this.saveCurrentToNormalState(state);var useHoverLayer=!!(state&&state.hoverLayer||forceUseHoverLayer);useHoverLayer&&this._toggleHoverLayerFlag(!0),this._applyStateObj(stateName,state,this._normalState,keepCurrentStates,!noAnimation&&!this.__inHover&&animationCfg&&animationCfg.duration>0,animationCfg);var textContent=this._textContent,textGuide=this._textGuide;return textContent&&textContent.useState(stateName,keepCurrentStates,noAnimation,useHoverLayer),textGuide&&textGuide.useState(stateName,keepCurrentStates,noAnimation,useHoverLayer),toNormalState?(this.currentStates=[],this._normalState={}):keepCurrentStates?this.currentStates.push(stateName):this.currentStates=[stateName],this._updateAnimationTargets(),this.markRedraw(),!useHoverLayer&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),state}Object(util.logError)("State "+stateName+" not exists.")}}},Element.prototype.useStates=function(states,noAnimation,forceUseHoverLayer){if(states.length){var stateObjects=[],currentStates=this.currentStates,len=states.length,notChange=len===currentStates.length;if(notChange)for(var i=0;i<len;i++)if(states[i]!==currentStates[i]){notChange=!1;break}if(notChange)return;for(i=0;i<len;i++){var stateName=states[i],stateObj=void 0;this.stateProxy&&(stateObj=this.stateProxy(stateName,states)),stateObj||(stateObj=this.states[stateName]),stateObj&&stateObjects.push(stateObj)}var lastStateObj=stateObjects[len-1],useHoverLayer=!!(lastStateObj&&lastStateObj.hoverLayer||forceUseHoverLayer);useHoverLayer&&this._toggleHoverLayerFlag(!0);var mergedState=this._mergeStates(stateObjects),animationCfg=this.stateTransition;this.saveCurrentToNormalState(mergedState),this._applyStateObj(states.join(","),mergedState,this._normalState,!1,!noAnimation&&!this.__inHover&&animationCfg&&animationCfg.duration>0,animationCfg);var textContent=this._textContent,textGuide=this._textGuide;textContent&&textContent.useStates(states,noAnimation,useHoverLayer),textGuide&&textGuide.useStates(states,noAnimation,useHoverLayer),this._updateAnimationTargets(),this.currentStates=states.slice(),this.markRedraw(),!useHoverLayer&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},Element.prototype._updateAnimationTargets=function(){for(var i=0;i<this.animators.length;i++){var animator=this.animators[i];animator.targetName&&animator.changeTarget(this[animator.targetName])}},Element.prototype.removeState=function(state){var idx=Object(util.indexOf)(this.currentStates,state);if(idx>=0){var currentStates=this.currentStates.slice();currentStates.splice(idx,1),this.useStates(currentStates)}},Element.prototype.replaceState=function(oldState,newState,forceAdd){var currentStates=this.currentStates.slice(),idx=Object(util.indexOf)(currentStates,oldState),newStateExists=Object(util.indexOf)(currentStates,newState)>=0;idx>=0?newStateExists?currentStates.splice(idx,1):currentStates[idx]=newState:forceAdd&&!newStateExists&&currentStates.push(newState),this.useStates(currentStates)},Element.prototype.toggleState=function(state,enable){enable?this.useState(state,!0):this.removeState(state)},Element.prototype._mergeStates=function(states){for(var mergedTextConfig,mergedState={},i=0;i<states.length;i++){var state=states[i];Object(util.extend)(mergedState,state),state.textConfig&&(mergedTextConfig=mergedTextConfig||{},Object(util.extend)(mergedTextConfig,state.textConfig))}return mergedTextConfig&&(mergedState.textConfig=mergedTextConfig),mergedState},Element.prototype._applyStateObj=function(stateName,state,normalState,keepCurrentStates,transition,animationCfg){var needsRestoreToNormal=!(state&&keepCurrentStates);state&&state.textConfig?(this.textConfig=Object(util.extend)({},keepCurrentStates?this.textConfig:normalState.textConfig),Object(util.extend)(this.textConfig,state.textConfig)):needsRestoreToNormal&&normalState.textConfig&&(this.textConfig=normalState.textConfig);for(var transitionTarget={},hasTransition=!1,i=0;i<PRIMARY_STATES_KEYS.length;i++){var key=PRIMARY_STATES_KEYS[i],propNeedsTransition=transition&&DEFAULT_ANIMATABLE_MAP[key];state&&null!=state[key]?propNeedsTransition?(hasTransition=!0,transitionTarget[key]=state[key]):this[key]=state[key]:needsRestoreToNormal&&null!=normalState[key]&&(propNeedsTransition?(hasTransition=!0,transitionTarget[key]=normalState[key]):this[key]=normalState[key])}if(!transition)for(i=0;i<this.animators.length;i++){var animator=this.animators[i],targetName=animator.targetName;animator.getLoop()||animator.__changeFinalValue(targetName?(state||normalState)[targetName]:state||normalState)}hasTransition&&this._transitionState(stateName,transitionTarget,animationCfg)},Element.prototype._attachComponent=function(componentEl){if((!componentEl.__zr||componentEl.__hostTarget)&&componentEl!==this){var zr=this.__zr;zr&&componentEl.addSelfToZr(zr),componentEl.__zr=zr,componentEl.__hostTarget=this}},Element.prototype._detachComponent=function(componentEl){componentEl.__zr&&componentEl.removeSelfFromZr(componentEl.__zr),componentEl.__zr=null,componentEl.__hostTarget=null},Element.prototype.getClipPath=function(){return this._clipPath},Element.prototype.setClipPath=function(clipPath){this._clipPath&&this._clipPath!==clipPath&&this.removeClipPath(),this._attachComponent(clipPath),this._clipPath=clipPath,this.markRedraw()},Element.prototype.removeClipPath=function(){var clipPath=this._clipPath;clipPath&&(this._detachComponent(clipPath),this._clipPath=null,this.markRedraw())},Element.prototype.getTextContent=function(){return this._textContent},Element.prototype.setTextContent=function(textEl){var previousTextContent=this._textContent;previousTextContent!==textEl&&(previousTextContent&&previousTextContent!==textEl&&this.removeTextContent(),textEl.innerTransformable=new core_Transformable,this._attachComponent(textEl),this._textContent=textEl,this.markRedraw())},Element.prototype.setTextConfig=function(cfg){this.textConfig||(this.textConfig={}),Object(util.extend)(this.textConfig,cfg),this.markRedraw()},Element.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},Element.prototype.removeTextContent=function(){var textEl=this._textContent;textEl&&(textEl.innerTransformable=null,this._detachComponent(textEl),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},Element.prototype.getTextGuideLine=function(){return this._textGuide},Element.prototype.setTextGuideLine=function(guideLine){this._textGuide&&this._textGuide!==guideLine&&this.removeTextGuideLine(),this._attachComponent(guideLine),this._textGuide=guideLine,this.markRedraw()},Element.prototype.removeTextGuideLine=function(){var textGuide=this._textGuide;textGuide&&(this._detachComponent(textGuide),this._textGuide=null,this.markRedraw())},Element.prototype.markRedraw=function(){this.__dirty|=1;var zr=this.__zr;zr&&(this.__inHover?zr.refreshHover():zr.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},Element.prototype.dirty=function(){this.markRedraw()},Element.prototype._toggleHoverLayerFlag=function(inHover){this.__inHover=inHover;var textContent=this._textContent,textGuide=this._textGuide;textContent&&(textContent.__inHover=inHover),textGuide&&(textGuide.__inHover=inHover)},Element.prototype.addSelfToZr=function(zr){if(this.__zr!==zr){this.__zr=zr;var animators=this.animators;if(animators)for(var i=0;i<animators.length;i++)zr.animation.addAnimator(animators[i]);this._clipPath&&this._clipPath.addSelfToZr(zr),this._textContent&&this._textContent.addSelfToZr(zr),this._textGuide&&this._textGuide.addSelfToZr(zr)}},Element.prototype.removeSelfFromZr=function(zr){if(this.__zr){this.__zr=null;var animators=this.animators;if(animators)for(var i=0;i<animators.length;i++)zr.animation.removeAnimator(animators[i]);this._clipPath&&this._clipPath.removeSelfFromZr(zr),this._textContent&&this._textContent.removeSelfFromZr(zr),this._textGuide&&this._textGuide.removeSelfFromZr(zr)}},Element.prototype.animate=function(key,loop,allowDiscreteAnimation){var target=key?this[key]:this;var animator=new animation_Animator(target,loop,allowDiscreteAnimation);return key&&(animator.targetName=key),this.addAnimator(animator,key),animator},Element.prototype.addAnimator=function(animator,key){var zr=this.__zr,el=this;animator.during((function(){el.updateDuringAnimation(key)})).done((function(){var animators=el.animators,idx=Object(util.indexOf)(animators,animator);idx>=0&&animators.splice(idx,1)})),this.animators.push(animator),zr&&zr.animation.addAnimator(animator),zr&&zr.wakeUp()},Element.prototype.updateDuringAnimation=function(key){this.markRedraw()},Element.prototype.stopAnimation=function(scope,forwardToLast){for(var animators=this.animators,len=animators.length,leftAnimators=[],i=0;i<len;i++){var animator=animators[i];scope&&scope!==animator.scope?leftAnimators.push(animator):animator.stop(forwardToLast)}return this.animators=leftAnimators,this},Element.prototype.animateTo=function(target,cfg,animationProps){animateTo(this,target,cfg,animationProps)},Element.prototype.animateFrom=function(target,cfg,animationProps){animateTo(this,target,cfg,animationProps,!0)},Element.prototype._transitionState=function(stateName,target,cfg,animationProps){for(var animators=animateTo(this,target,cfg,animationProps),i=0;i<animators.length;i++)animators[i].__fromStateTransition=stateName},Element.prototype.getBoundingRect=function(){return null},Element.prototype.getPaintRect=function(){return null},Element.initDefaultProps=function(){var elProto=Element.prototype;elProto.type="element",elProto.name="",elProto.ignore=elProto.silent=elProto.isGroup=elProto.draggable=elProto.dragging=elProto.ignoreClip=elProto.__inHover=!1,elProto.__dirty=1;function createLegacyProperty(key,privateKey,xKey,yKey){function enhanceArray(self,pos){Object.defineProperty(pos,0,{get:function(){return self[xKey]},set:function(val){self[xKey]=val}}),Object.defineProperty(pos,1,{get:function(){return self[yKey]},set:function(val){self[yKey]=val}})}Object.defineProperty(elProto,key,{get:function(){this[privateKey]||enhanceArray(this,this[privateKey]=[]);return this[privateKey]},set:function(pos){this[xKey]=pos[0],this[yKey]=pos[1],this[privateKey]=pos,enhanceArray(this,pos)}})}Object.defineProperty&&(createLegacyProperty("position","_legacyPos","x","y"),createLegacyProperty("scale","_legacyScale","scaleX","scaleY"),createLegacyProperty("origin","_legacyOrigin","originX","originY"))}(),Element}();function animateTo(animatable,target,cfg,animationProps,reverse){var animators=[];animateToShallow(animatable,"",animatable,target,cfg=cfg||{},animationProps,animators,reverse);var finishCount=animators.length,doneHappened=!1,cfgDone=cfg.done,cfgAborted=cfg.aborted,doneCb=function(){doneHappened=!0,--finishCount<=0&&(doneHappened?cfgDone&&cfgDone():cfgAborted&&cfgAborted())},abortedCb=function(){--finishCount<=0&&(doneHappened?cfgDone&&cfgDone():cfgAborted&&cfgAborted())};finishCount||cfgDone&&cfgDone(),animators.length>0&&cfg.during&&animators[0].during((function(target,percent){cfg.during(percent)}));for(var i=0;i<animators.length;i++){var animator=animators[i];doneCb&&animator.done(doneCb),abortedCb&&animator.aborted(abortedCb),cfg.force&&animator.duration(cfg.duration),animator.start(cfg.easing)}return animators}function copyArrShallow(source,target,len){for(var i=0;i<len;i++)source[i]=target[i]}function copyValue(target,source,key){if(Object(util.isArrayLike)(source[key]))if(Object(util.isArrayLike)(target[key])||(target[key]=[]),Object(util.isTypedArray)(source[key])){var len=source[key].length;target[key].length!==len&&(target[key]=new source[key].constructor(len),copyArrShallow(target[key],source[key],len))}else{var sourceArr=source[key],targetArr=target[key],len0=sourceArr.length;if(function is2DArray(value){return Object(util.isArrayLike)(value[0])}(sourceArr))for(var len1=sourceArr[0].length,i=0;i<len0;i++)targetArr[i]?copyArrShallow(targetArr[i],sourceArr[i],len1):targetArr[i]=Array.prototype.slice.call(sourceArr[i]);else copyArrShallow(targetArr,sourceArr,len0);targetArr.length=sourceArr.length}else target[key]=source[key]}function animateToShallow(animatable,topKey,animateObj,target,cfg,animationProps,animators,reverse){for(var targetKeys=Object(util.keys)(target),duration=cfg.duration,delay=cfg.delay,additive=cfg.additive,setToFinal=cfg.setToFinal,animateAll=!Object(util.isObject)(animationProps),existsAnimators=animatable.animators,animationKeys=[],k=0;k<targetKeys.length;k++){var innerKey=targetKeys[k],targetVal=target[innerKey];if(null!=targetVal&&null!=animateObj[innerKey]&&(animateAll||animationProps[innerKey]))if(!Object(util.isObject)(targetVal)||Object(util.isArrayLike)(targetVal)||Object(util.isGradientObject)(targetVal))animationKeys.push(innerKey);else{if(topKey){reverse||(animateObj[innerKey]=targetVal,animatable.updateDuringAnimation(topKey));continue}animateToShallow(animatable,innerKey,animateObj[innerKey],targetVal,cfg,animationProps&&animationProps[innerKey],animators,reverse)}else reverse||(animateObj[innerKey]=targetVal,animatable.updateDuringAnimation(topKey),animationKeys.push(innerKey))}var keyLen=animationKeys.length;if(!additive&&keyLen)for(var i=0;i<existsAnimators.length;i++){if((animator=existsAnimators[i]).targetName===topKey)if(animator.stopTracks(animationKeys)){var idx=Object(util.indexOf)(existsAnimators,animator);existsAnimators.splice(idx,1)}}if(cfg.force||(animationKeys=Object(util.filter)(animationKeys,(function(key){return!function isValueSame(val1,val2){return val1===val2||Object(util.isArrayLike)(val1)&&Object(util.isArrayLike)(val2)&&function is1DArraySame(arr0,arr1){var len=arr0.length;if(len!==arr1.length)return!1;for(var i=0;i<len;i++)if(arr0[i]!==arr1[i])return!1;return!0}(val1,val2)}(target[key],animateObj[key])})),keyLen=animationKeys.length),keyLen>0||cfg.force&&!animators.length){var animator,revertedSource=void 0,reversedTarget=void 0,sourceClone=void 0;if(reverse){reversedTarget={},setToFinal&&(revertedSource={});for(i=0;i<keyLen;i++){reversedTarget[innerKey=animationKeys[i]]=animateObj[innerKey],setToFinal?revertedSource[innerKey]=target[innerKey]:animateObj[innerKey]=target[innerKey]}}else if(setToFinal){sourceClone={};for(i=0;i<keyLen;i++){sourceClone[innerKey=animationKeys[i]]=cloneValue(animateObj[innerKey]),copyValue(animateObj,target,innerKey)}}(animator=new animation_Animator(animateObj,!1,!1,additive?Object(util.filter)(existsAnimators,(function(animator){return animator.targetName===topKey})):null)).targetName=topKey,cfg.scope&&(animator.scope=cfg.scope),setToFinal&&revertedSource&&animator.whenWithKeys(0,revertedSource,animationKeys),sourceClone&&animator.whenWithKeys(0,sourceClone,animationKeys),animator.whenWithKeys(null==duration?500:duration,reverse?reversedTarget:target,animationKeys).delay(delay||0),animatable.addAnimator(animator,topKey),animators.push(animator)}}Object(util.mixin)(Element_Element,core_Eventful),Object(util.mixin)(Element_Element,core_Transformable);var lib_Element=Element_Element,Group_Group=function(_super){function Group(opts){var _this=_super.call(this)||this;return _this.isGroup=!0,_this._children=[],_this.attr(opts),_this}return tslib_es6_extends(Group,_super),Group.prototype.childrenRef=function(){return this._children},Group.prototype.children=function(){return this._children.slice()},Group.prototype.childAt=function(idx){return this._children[idx]},Group.prototype.childOfName=function(name){for(var children=this._children,i=0;i<children.length;i++)if(children[i].name===name)return children[i]},Group.prototype.childCount=function(){return this._children.length},Group.prototype.add=function(child){return child&&child!==this&&child.parent!==this&&(this._children.push(child),this._doAdd(child)),this},Group.prototype.addBefore=function(child,nextSibling){if(child&&child!==this&&child.parent!==this&&nextSibling&&nextSibling.parent===this){var children=this._children,idx=children.indexOf(nextSibling);idx>=0&&(children.splice(idx,0,child),this._doAdd(child))}return this},Group.prototype.replace=function(oldChild,newChild){var idx=util.indexOf(this._children,oldChild);return idx>=0&&this.replaceAt(newChild,idx),this},Group.prototype.replaceAt=function(child,index){var children=this._children,old=children[index];if(child&&child!==this&&child.parent!==this&&child!==old){children[index]=child,old.parent=null;var zr=this.__zr;zr&&old.removeSelfFromZr(zr),this._doAdd(child)}return this},Group.prototype._doAdd=function(child){child.parent&&child.parent.remove(child),child.parent=this;var zr=this.__zr;zr&&zr!==child.__zr&&child.addSelfToZr(zr),zr&&zr.refresh()},Group.prototype.remove=function(child){var zr=this.__zr,children=this._children,idx=util.indexOf(children,child);return idx<0||(children.splice(idx,1),child.parent=null,zr&&child.removeSelfFromZr(zr),zr&&zr.refresh()),this},Group.prototype.removeAll=function(){for(var children=this._children,zr=this.__zr,i=0;i<children.length;i++){var child=children[i];zr&&child.removeSelfFromZr(zr),child.parent=null}return children.length=0,this},Group.prototype.eachChild=function(cb,context){for(var children=this._children,i=0;i<children.length;i++){var child=children[i];cb.call(context,child,i)}return this},Group.prototype.traverse=function(cb,context){for(var i=0;i<this._children.length;i++){var child=this._children[i],stopped=cb.call(context,child);child.isGroup&&!stopped&&child.traverse(cb,context)}return this},Group.prototype.addSelfToZr=function(zr){_super.prototype.addSelfToZr.call(this,zr);for(var i=0;i<this._children.length;i++){this._children[i].addSelfToZr(zr)}},Group.prototype.removeSelfFromZr=function(zr){_super.prototype.removeSelfFromZr.call(this,zr);for(var i=0;i<this._children.length;i++){this._children[i].removeSelfFromZr(zr)}},Group.prototype.getBoundingRect=function(includeChildren){for(var tmpRect=new core_BoundingRect(0,0,0,0),children=includeChildren||this._children,tmpMat=[],rect=null,i=0;i<children.length;i++){var child=children[i];if(!child.ignore&&!child.invisible){var childRect=child.getBoundingRect(),transform=child.getLocalTransform(tmpMat);transform?(core_BoundingRect.applyTransform(tmpRect,childRect,transform),(rect=rect||tmpRect.clone()).union(tmpRect)):(rect=rect||childRect.clone()).union(childRect)}}return rect||tmpRect},Group}(lib_Element);Group_Group.prototype.type="group";var graphic_Group=Group_Group,painterCtors={},instances={};var zrender_ZRender=function(){function ZRender(id,dom,opts){var _this=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,opts=opts||{},this.dom=dom,this.id=id;var storage=new lib_Storage,rendererType=opts.renderer||"canvas";painterCtors[rendererType]||(rendererType=util.keys(painterCtors)[0]),opts.useDirtyRect=null!=opts.useDirtyRect&&opts.useDirtyRect;var painter=new painterCtors[rendererType](dom,storage,opts,id),ssrMode=opts.ssr||painter.ssrOnly;this.storage=storage,this.painter=painter;var handerProxy=env.a.node||env.a.worker||ssrMode?null:new HandlerProxy(painter.getViewportRoot(),painter.root);this.handler=new lib_Handler(storage,painter,handerProxy,painter.root),this.animation=new animation_Animation({stage:{update:ssrMode?null:function(){return _this._flush(!0)}}}),ssrMode||this.animation.start()}return ZRender.prototype.add=function(el){el&&(this.storage.addRoot(el),el.addSelfToZr(this),this.refresh())},ZRender.prototype.remove=function(el){el&&(this.storage.delRoot(el),el.removeSelfFromZr(this),this.refresh())},ZRender.prototype.configLayer=function(zLevel,config){this.painter.configLayer&&this.painter.configLayer(zLevel,config),this.refresh()},ZRender.prototype.setBackgroundColor=function(backgroundColor){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(backgroundColor),this.refresh(),this._backgroundColor=backgroundColor,this._darkMode=function zrender_isDarkMode(backgroundColor){if(!backgroundColor)return!1;if("string"==typeof backgroundColor)return Object(tool_color.lum)(backgroundColor,1)<.4;if(backgroundColor.colorStops){for(var colorStops=backgroundColor.colorStops,totalLum=0,len=colorStops.length,i=0;i<len;i++)totalLum+=Object(tool_color.lum)(colorStops[i].color,1);return(totalLum/=len)<.4}return!1}(backgroundColor)},ZRender.prototype.getBackgroundColor=function(){return this._backgroundColor},ZRender.prototype.setDarkMode=function(darkMode){this._darkMode=darkMode},ZRender.prototype.isDarkMode=function(){return this._darkMode},ZRender.prototype.refreshImmediately=function(fromInside){fromInside||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},ZRender.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},ZRender.prototype.flush=function(){this._flush(!1)},ZRender.prototype._flush=function(fromInside){var triggerRendered,start=getTime();this._needsRefresh&&(triggerRendered=!0,this.refreshImmediately(fromInside)),this._needsRefreshHover&&(triggerRendered=!0,this.refreshHoverImmediately());var end=getTime();triggerRendered?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:end-start})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},ZRender.prototype.setSleepAfterStill=function(stillFramesCount){this._sleepAfterStill=stillFramesCount},ZRender.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},ZRender.prototype.refreshHover=function(){this._needsRefreshHover=!0},ZRender.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},ZRender.prototype.resize=function(opts){opts=opts||{},this.painter.resize(opts.width,opts.height),this.handler.resize()},ZRender.prototype.clearAnimation=function(){this.animation.clear()},ZRender.prototype.getWidth=function(){return this.painter.getWidth()},ZRender.prototype.getHeight=function(){return this.painter.getHeight()},ZRender.prototype.setCursorStyle=function(cursorStyle){this.handler.setCursorStyle(cursorStyle)},ZRender.prototype.findHover=function(x,y){return this.handler.findHover(x,y)},ZRender.prototype.on=function(eventName,eventHandler,context){return this.handler.on(eventName,eventHandler,context),this},ZRender.prototype.off=function(eventName,eventHandler){this.handler.off(eventName,eventHandler)},ZRender.prototype.trigger=function(eventName,event){this.handler.trigger(eventName,event)},ZRender.prototype.clear=function(){for(var roots=this.storage.getRoots(),i=0;i<roots.length;i++)roots[i]instanceof graphic_Group&&roots[i].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},ZRender.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function delInstance(id){delete instances[id]}(this.id)},ZRender}();function init(dom,opts){var zr=new zrender_ZRender(util.guid(),dom,opts);return instances[zr.id]=zr,zr}function dispose(zr){zr.dispose()}function disposeAll(){for(var key in instances)instances.hasOwnProperty(key)&&instances[key].dispose();instances={}}function getInstance(id){return instances[id]}function registerPainter(name,Ctor){painterCtors[name]=Ctor}var version="5.3.0";function linearMap(val,domain,range,clamp){var d0=domain[0],d1=domain[1],r0=range[0],r1=range[1],subDomain=d1-d0,subRange=r1-r0;if(0===subDomain)return 0===subRange?r0:(r0+r1)/2;if(clamp)if(subDomain>0){if(val<=d0)return r0;if(val>=d1)return r1}else{if(val>=d0)return r0;if(val<=d1)return r1}else{if(val===d0)return r0;if(val===d1)return r1}return(val-d0)/subDomain*subRange+r0}function number_parsePercent(percent,all){switch(percent){case"center":case"middle":percent="50%";break;case"left":case"top":percent="0%";break;case"right":case"bottom":percent="100%"}return util.isString(percent)?function _trim(str){return str.replace(/^\s+|\s+$/g,"")}(percent).match(/%$/)?parseFloat(percent)/100*all:parseFloat(percent):null==percent?NaN:+percent}function round(x,precision,returnStr){return null==precision&&(precision=10),precision=Math.min(Math.max(0,precision),20),x=(+x).toFixed(precision),returnStr?x:+x}function asc(arr){return arr.sort((function(a,b){return a-b})),arr}function getPrecision(val){if(val=+val,isNaN(val))return 0;if(val>1e-14)for(var e=1,i=0;i<15;i++,e*=10)if(Math.round(val*e)/e===val)return i;return getPrecisionSafe(val)}function getPrecisionSafe(val){var str=val.toString().toLowerCase(),eIndex=str.indexOf("e"),exp=eIndex>0?+str.slice(eIndex+1):0,significandPartLen=eIndex>0?eIndex:str.length,dotIndex=str.indexOf("."),decimalPartLen=dotIndex<0?0:significandPartLen-1-dotIndex;return Math.max(0,decimalPartLen-exp)}function getPixelPrecision(dataExtent,pixelExtent){var log=Math.log,LN10=Math.LN10,dataQuantity=Math.floor(log(dataExtent[1]-dataExtent[0])/LN10),sizeQuantity=Math.round(log(Math.abs(pixelExtent[1]-pixelExtent[0]))/LN10),precision=Math.min(Math.max(-dataQuantity+sizeQuantity,0),20);return isFinite(precision)?precision:20}function getPercentWithPrecision(valueList,idx,precision){if(!valueList[idx])return 0;var sum=util.reduce(valueList,(function(acc,val){return acc+(isNaN(val)?0:val)}),0);if(0===sum)return 0;for(var digits=Math.pow(10,precision),votesPerQuota=util.map(valueList,(function(val){return(isNaN(val)?0:val)/sum*digits*100})),targetSeats=100*digits,seats=util.map(votesPerQuota,(function(votes){return Math.floor(votes)})),currentSum=util.reduce(seats,(function(acc,val){return acc+val}),0),remainder=util.map(votesPerQuota,(function(votes,idx){return votes-seats[idx]}));currentSum<targetSeats;){for(var max=Number.NEGATIVE_INFINITY,maxId=null,i=0,len=remainder.length;i<len;++i)remainder[i]>max&&(max=remainder[i],maxId=i);++seats[maxId],remainder[maxId]=0,++currentSum}return seats[idx]/digits}function addSafe(val0,val1){var maxPrecision=Math.max(getPrecision(val0),getPrecision(val1)),sum=val0+val1;return maxPrecision>20?sum:round(sum,maxPrecision)}var MAX_SAFE_INTEGER=9007199254740991;function remRadian(radian){var pi2=2*Math.PI;return(radian%pi2+pi2)%pi2}function isRadianAroundZero(val){return val>-1e-4&&val<1e-4}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(value){if(value instanceof Date)return value;if(util.isString(value)){var match=TIME_REG.exec(value);if(!match)return new Date(NaN);if(match[8]){var hour=+match[4]||0;return"Z"!==match[8].toUpperCase()&&(hour-=+match[8].slice(0,3)),new Date(Date.UTC(+match[1],+(match[2]||1)-1,+match[3]||1,hour,+(match[5]||0),+match[6]||0,match[7]?+match[7].substring(0,3):0))}return new Date(+match[1],+(match[2]||1)-1,+match[3]||1,+match[4]||0,+(match[5]||0),+match[6]||0,match[7]?+match[7].substring(0,3):0)}return null==value?new Date(NaN):new Date(Math.round(value))}function quantity(val){return Math.pow(10,quantityExponent(val))}function quantityExponent(val){if(0===val)return 0;var exp=Math.floor(Math.log(val)/Math.LN10);return val/Math.pow(10,exp)>=10&&exp++,exp}function nice(val,round){var exponent=quantityExponent(val),exp10=Math.pow(10,exponent),f=val/exp10;return val=(round?f<1.5?1:f<2.5?2:f<4?3:f<7?5:10:f<1?1:f<2?2:f<3?3:f<5?5:10)*exp10,exponent>=-20?+val.toFixed(exponent<0?-exponent:0):val}function quantile(ascArr,p){var H=(ascArr.length-1)*p+1,h=Math.floor(H),v=+ascArr[h-1],e=H-h;return e?v+e*(ascArr[h]-v):v}function reformIntervals(list){list.sort((function(a,b){return littleThan(a,b,0)?-1:1}));for(var curr=-1/0,currClose=1,i=0;i<list.length;){for(var interval=list[i].interval,close_1=list[i].close,lg=0;lg<2;lg++)interval[lg]<=curr&&(interval[lg]=curr,close_1[lg]=lg?1:1-currClose),curr=interval[lg],currClose=close_1[lg];interval[0]===interval[1]&&close_1[0]*close_1[1]!=1?list.splice(i,1):i++}return list;function littleThan(a,b,lg){return a.interval[lg]<b.interval[lg]||a.interval[lg]===b.interval[lg]&&(a.close[lg]-b.close[lg]==(lg?-1:1)||!lg&&littleThan(a,b,1))}}function numericToNumber(val){var valFloat=parseFloat(val);return valFloat==val&&(0!==valFloat||!util.isString(val)||val.indexOf("x")<=0)?valFloat:NaN}function isNumeric(val){return!isNaN(numericToNumber(val))}function getRandomIdBase(){return Math.round(9*Math.random())}function getGreatestCommonDividor(a,b){return 0===b?a:getGreatestCommonDividor(b,a%b)}function getLeastCommonMultiple(a,b){return null==a?b:null==b?a:a*b/getGreatestCommonDividor(a,b)}function model_interpolateNumber(p0,p1,percent){return(p1-p0)*percent+p0}function normalizeToArray(value){return value instanceof Array?value:null==value?[]:[value]}function defaultEmphasis(opt,key,subOpts){if(opt){opt[key]=opt[key]||{},opt.emphasis=opt.emphasis||{},opt.emphasis[key]=opt.emphasis[key]||{};for(var i=0,len=subOpts.length;i<len;i++){var subOptName=subOpts[i];!opt.emphasis[key].hasOwnProperty(subOptName)&&opt[key].hasOwnProperty(subOptName)&&(opt.emphasis[key][subOptName]=opt[key][subOptName])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(dataItem){return!Object(util.isObject)(dataItem)||Object(util.isArray)(dataItem)||dataItem instanceof Date?dataItem:dataItem.value}function isDataItemOption(dataItem){return Object(util.isObject)(dataItem)&&!(dataItem instanceof Array)}function mappingToExists(existings,newCmptOptions,mode){var isNormalMergeMode="normalMerge"===mode,isReplaceMergeMode="replaceMerge"===mode,isReplaceAllMode="replaceAll"===mode;existings=existings||[],newCmptOptions=(newCmptOptions||[]).slice();var existingIdIdxMap=Object(util.createHashMap)();Object(util.each)(newCmptOptions,(function(cmptOption,index){Object(util.isObject)(cmptOption)||(newCmptOptions[index]=null)}));var result=function model_prepareResult(existings,existingIdIdxMap,mode){var result=[];if("replaceAll"===mode)return result;for(var index=0;index<existings.length;index++){var existing=existings[index];existing&&null!=existing.id&&existingIdIdxMap.set(existing.id,index),result.push({existing:"replaceMerge"===mode||isComponentIdInternal(existing)?null:existing,newOption:null,keyInfo:null,brandNew:null})}return result}(existings,existingIdIdxMap,mode);return(isNormalMergeMode||isReplaceMergeMode)&&function mappingById(result,existings,existingIdIdxMap,newCmptOptions){Object(util.each)(newCmptOptions,(function(cmptOption,index){if(cmptOption&&null!=cmptOption.id){var optionId=makeComparableKey(cmptOption.id),existingIdx=existingIdIdxMap.get(optionId);if(null!=existingIdx){var resultItem=result[existingIdx];Object(util.assert)(!resultItem.newOption,'Duplicated option on id "'+optionId+'".'),resultItem.newOption=cmptOption,resultItem.existing=existings[existingIdx],newCmptOptions[index]=null}}}))}(result,existings,existingIdIdxMap,newCmptOptions),isNormalMergeMode&&function mappingByName(result,newCmptOptions){Object(util.each)(newCmptOptions,(function(cmptOption,index){if(cmptOption&&null!=cmptOption.name)for(var i=0;i<result.length;i++){var existing=result[i].existing;if(!result[i].newOption&&existing&&(null==existing.id||null==cmptOption.id)&&!isComponentIdInternal(cmptOption)&&!isComponentIdInternal(existing)&&keyExistAndEqual("name",existing,cmptOption))return result[i].newOption=cmptOption,void(newCmptOptions[index]=null)}}))}(result,newCmptOptions),isNormalMergeMode||isReplaceMergeMode?function mappingByIndex(result,newCmptOptions,brandNew){Object(util.each)(newCmptOptions,(function(cmptOption){if(cmptOption){for(var resultItem,nextIdx=0;(resultItem=result[nextIdx])&&(resultItem.newOption||isComponentIdInternal(resultItem.existing)||resultItem.existing&&null!=cmptOption.id&&!keyExistAndEqual("id",cmptOption,resultItem.existing));)nextIdx++;resultItem?(resultItem.newOption=cmptOption,resultItem.brandNew=brandNew):result.push({newOption:cmptOption,brandNew:brandNew,existing:null,keyInfo:null}),nextIdx++}}))}(result,newCmptOptions,isReplaceMergeMode):isReplaceAllMode&&function mappingInReplaceAllMode(result,newCmptOptions){Object(util.each)(newCmptOptions,(function(cmptOption){result.push({newOption:cmptOption,brandNew:!0,existing:null,keyInfo:null})}))}(result,newCmptOptions),function makeIdAndName(mapResult){var idMap=Object(util.createHashMap)();Object(util.each)(mapResult,(function(item){var existing=item.existing;existing&&idMap.set(existing.id,item)})),Object(util.each)(mapResult,(function(item){var opt=item.newOption;Object(util.assert)(!opt||null==opt.id||!idMap.get(opt.id)||idMap.get(opt.id)===item,"id duplicates: "+(opt&&opt.id)),opt&&null!=opt.id&&idMap.set(opt.id,item),!item.keyInfo&&(item.keyInfo={})})),Object(util.each)(mapResult,(function(item,index){var existing=item.existing,opt=item.newOption,keyInfo=item.keyInfo;if(Object(util.isObject)(opt)){if(keyInfo.name=null!=opt.name?makeComparableKey(opt.name):existing?existing.name:"series\0"+index,existing)keyInfo.id=makeComparableKey(existing.id);else if(null!=opt.id)keyInfo.id=makeComparableKey(opt.id);else{var idNum=0;do{keyInfo.id="\0"+keyInfo.name+"\0"+idNum++}while(idMap.get(keyInfo.id))}idMap.set(keyInfo.id,item)}}))}(result),result}function keyExistAndEqual(attr,obj1,obj2){var key1=convertOptionIdName(obj1[attr],null),key2=convertOptionIdName(obj2[attr],null);return null!=key1&&null!=key2&&key1===key2}function makeComparableKey(val){return convertOptionIdName(val,"")}function convertOptionIdName(idOrName,defaultValue){return null==idOrName?defaultValue:Object(util.isString)(idOrName)?idOrName:Object(util.isNumber)(idOrName)||Object(util.isStringSafe)(idOrName)?idOrName+"":defaultValue}function isNameSpecified(componentModel){var name=componentModel.name;return!(!name||!name.indexOf("series\0"))}function isComponentIdInternal(cmptOption){return cmptOption&&null!=cmptOption.id&&0===makeComparableKey(cmptOption.id).indexOf("\0_ec_\0")}function queryDataIndex(data,payload){return null!=payload.dataIndexInside?payload.dataIndexInside:null!=payload.dataIndex?Object(util.isArray)(payload.dataIndex)?Object(util.map)(payload.dataIndex,(function(value){return data.indexOfRawIndex(value)})):data.indexOfRawIndex(payload.dataIndex):null!=payload.name?Object(util.isArray)(payload.name)?Object(util.map)(payload.name,(function(value){return data.indexOfName(value)})):data.indexOfName(payload.name):void 0}function makeInner(){var key="__ec_inner_"+innerUniqueIndex++;return function(hostObj){return hostObj[key]||(hostObj[key]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder(ecModel,finderInput,opt){var _a=preParseFinder(finderInput,opt),mainTypeSpecified=_a.mainTypeSpecified,queryOptionMap=_a.queryOptionMap,result=_a.others,defaultMainType=opt?opt.defaultMainType:null;return!mainTypeSpecified&&defaultMainType&&queryOptionMap.set(defaultMainType,{}),queryOptionMap.each((function(queryOption,mainType){var queryResult=queryReferringComponents(ecModel,mainType,queryOption,{useDefault:defaultMainType===mainType,enableAll:!opt||null==opt.enableAll||opt.enableAll,enableNone:!opt||null==opt.enableNone||opt.enableNone});result[mainType+"Models"]=queryResult.models,result[mainType+"Model"]=queryResult.models[0]})),result}function preParseFinder(finderInput,opt){var finder;if(Object(util.isString)(finderInput)){var obj={};obj[finderInput+"Index"]=0,finder=obj}else finder=finderInput;var queryOptionMap=Object(util.createHashMap)(),others={},mainTypeSpecified=!1;return Object(util.each)(finder,(function(value,key){if("dataIndex"!==key&&"dataIndexInside"!==key){var parsedKey=key.match(/^(\w+)(Index|Id|Name)$/)||[],mainType=parsedKey[1],queryType=(parsedKey[2]||"").toLowerCase();if(mainType&&queryType&&!(opt&&opt.includeMainTypes&&Object(util.indexOf)(opt.includeMainTypes,mainType)<0))mainTypeSpecified=mainTypeSpecified||!!mainType,(queryOptionMap.get(mainType)||queryOptionMap.set(mainType,{}))[queryType]=value}else others[key]=value})),{mainTypeSpecified:mainTypeSpecified,queryOptionMap:queryOptionMap,others:others}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(ecModel,mainType,userOption,opt){opt=opt||SINGLE_REFERRING;var indexOption=userOption.index,idOption=userOption.id,nameOption=userOption.name,result={models:null,specified:null!=indexOption||null!=idOption||null!=nameOption};if(!result.specified){var firstCmpt=void 0;return result.models=opt.useDefault&&(firstCmpt=ecModel.getComponent(mainType))?[firstCmpt]:[],result}return"none"===indexOption||!1===indexOption?(Object(util.assert)(opt.enableNone,'`"none"` or `false` is not a valid value on index option.'),result.models=[],result):("all"===indexOption&&(Object(util.assert)(opt.enableAll,'`"all"` is not a valid value on index option.'),indexOption=idOption=nameOption=null),result.models=ecModel.queryComponents({mainType:mainType,index:indexOption,id:idOption,name:nameOption}),result)}function setAttribute(dom,key,value){dom.setAttribute?dom.setAttribute(key,value):dom[key]=value}function groupData(array,getKey){var buckets=Object(util.createHashMap)(),keys=[];return Object(util.each)(array,(function(item){var key=getKey(item);(buckets.get(key)||(keys.push(key),buckets.set(key,[]))).push(item)})),{keys:keys,buckets:buckets}}function interpolateRawValues(data,precision,sourceValue,targetValue,percent){var isAutoPrecision=null==precision||"auto"===precision;if(null==targetValue)return targetValue;if(Object(util.isNumber)(targetValue))return round(value=model_interpolateNumber(sourceValue||0,targetValue,percent),isAutoPrecision?Math.max(getPrecision(sourceValue||0),getPrecision(targetValue)):precision);if(Object(util.isString)(targetValue))return percent<1?sourceValue:targetValue;for(var interpolated=[],leftArr=sourceValue,rightArr=targetValue,length_1=Math.max(leftArr?leftArr.length:0,rightArr.length),i=0;i<length_1;++i){var info=data.getDimensionInfo(i);if(info&&"ordinal"===info.type)interpolated[i]=(percent<1&&leftArr?leftArr:rightArr)[i];else{var leftVal=leftArr&&leftArr[i]?leftArr[i]:0,rightVal=rightArr[i],value=model_interpolateNumber(leftVal,rightVal,percent);interpolated[i]=round(value,isAutoPrecision?Math.max(getPrecision(leftVal),getPrecision(rightVal)):precision)}}return interpolated}var IS_CONTAINER="___EC__COMPONENT__CONTAINER___";function parseClassType(componentType){var ret={main:"",sub:""};if(componentType){var typeArr=componentType.split(".");ret.main=typeArr[0]||"",ret.sub=typeArr[1]||""}return ret}function enableClassExtend(rootClz,mandatoryMethods){rootClz.$constructor=rootClz,rootClz.extend=function(proto){var ExtendedClass,superClass=this;return!function isESClass(fn){return util.isFunction(fn)&&/^class\s/.test(Function.prototype.toString.call(fn))}(superClass)?(ExtendedClass=function(){(proto.$constructor||superClass).apply(this,arguments)},util.inherits(ExtendedClass,this)):ExtendedClass=function(_super){function class_1(){return _super.apply(this,arguments)||this}return __extends(class_1,_super),class_1}(superClass),util.extend(ExtendedClass.prototype,proto),ExtendedClass.___EC__EXTENDED_CLASS___=!0,ExtendedClass.extend=this.extend,ExtendedClass.superCall=superCall,ExtendedClass.superApply=superApply,ExtendedClass.superClass=superClass,ExtendedClass}}function mountExtend(SubClz,SupperClz){SubClz.extend=SupperClz.extend}var classBase=Math.round(10*Math.random());function superCall(context,methodName){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];return this.superClass.prototype[methodName].apply(context,args)}function superApply(context,methodName,args){return this.superClass.prototype[methodName].apply(context,args)}function enableClassManagement(target){var storage={};target.registerClass=function(clz){var componentFullType=clz.type||clz.prototype.type;if(componentFullType){!function checkClassType(componentType){util.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(componentType),'componentType "'+componentType+'" illegal')}(componentFullType),clz.prototype.type=componentFullType;var componentTypeInfo=parseClassType(componentFullType);if(componentTypeInfo.sub){if(componentTypeInfo.sub!==IS_CONTAINER){var container=function makeContainer(componentTypeInfo){var container=storage[componentTypeInfo.main];container&&container[IS_CONTAINER]||((container=storage[componentTypeInfo.main]={})[IS_CONTAINER]=!0);return container}(componentTypeInfo);container[componentTypeInfo.sub]=clz}}else storage[componentTypeInfo.main]=clz}return clz},target.getClass=function(mainType,subType,throwWhenNotFound){var clz=storage[mainType];if(clz&&clz[IS_CONTAINER]&&(clz=subType?clz[subType]:null),throwWhenNotFound&&!clz)throw new Error(subType?"Component "+mainType+"."+(subType||"")+" is used but not imported.":mainType+".type should be specified.");return clz},target.getClassesByMainType=function(componentType){var componentTypeInfo=parseClassType(componentType),result=[],obj=storage[componentTypeInfo.main];return obj&&obj[IS_CONTAINER]?util.each(obj,(function(o,type){type!==IS_CONTAINER&&result.push(o)})):result.push(obj),result},target.hasClass=function(componentType){var componentTypeInfo=parseClassType(componentType);return!!storage[componentTypeInfo.main]},target.getAllClassMainTypes=function(){var types=[];return util.each(storage,(function(obj,type){types.push(type)})),types},target.hasSubTypes=function(componentType){var componentTypeInfo=parseClassType(componentType),obj=storage[componentTypeInfo.main];return obj&&obj[IS_CONTAINER]}}function makeStyleMapper(properties,ignoreParent){for(var i=0;i<properties.length;i++)properties[i][1]||(properties[i][1]=properties[i][0]);return ignoreParent=ignoreParent||!1,function(model,excludes,includes){for(var style={},i=0;i<properties.length;i++){var propName=properties[i][1];if(!(excludes&&util.indexOf(excludes,propName)>=0||includes&&util.indexOf(includes,propName)<0)){var val=model.getShallow(propName,ignoreParent);null!=val&&(style[properties[i][0]]=val)}}return style}}var getAreaStyle=makeStyleMapper([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),AreaStyleMixin=function(){function AreaStyleMixin(){}return AreaStyleMixin.prototype.getAreaStyle=function(excludes,includes){return getAreaStyle(this,excludes,includes)},AreaStyleMixin}(),globalImageCache=new LRU.a(50);function findExistImage(newImageOrSrc){if("string"==typeof newImageOrSrc){var cachedImgObj=globalImageCache.get(newImageOrSrc);return cachedImgObj&&cachedImgObj.image}return newImageOrSrc}function createOrUpdateImage(newImageOrSrc,image,hostEl,onload,cbPayload){if(newImageOrSrc){if("string"==typeof newImageOrSrc){if(image&&image.__zrImageSrc===newImageOrSrc||!hostEl)return image;var cachedImgObj=globalImageCache.get(newImageOrSrc),pendingWrap={hostEl:hostEl,cb:onload,cbPayload:cbPayload};if(cachedImgObj)!isImageReady(image=cachedImgObj.image)&&cachedImgObj.pending.push(pendingWrap);else{var image_1=platform.d.loadImage(newImageOrSrc,imageOnLoad,imageOnLoad);image_1.__zrImageSrc=newImageOrSrc,globalImageCache.put(newImageOrSrc,image_1.__cachedImgObj={image:image_1,pending:[pendingWrap]})}return image}return newImageOrSrc}return image}function imageOnLoad(){var cachedImgObj=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var i=0;i<cachedImgObj.pending.length;i++){var pendingWrap=cachedImgObj.pending[i],cb=pendingWrap.cb;cb&&cb(this,pendingWrap.cbPayload),pendingWrap.hostEl.dirty()}cachedImgObj.pending.length=0}function isImageReady(image){return image&&image.width&&image.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText(text,containerWidth,font,ellipsis,options){if(!containerWidth)return"";var textLines=(text+"").split("\n");options=prepareTruncateOptions(containerWidth,font,ellipsis,options);for(var i=0,len=textLines.length;i<len;i++)textLines[i]=truncateSingleLine(textLines[i],options);return textLines.join("\n")}function prepareTruncateOptions(containerWidth,font,ellipsis,options){options=options||{};var preparedOpts=Object(util.extend)({},options);preparedOpts.font=font,ellipsis=Object(util.retrieve2)(ellipsis,"..."),preparedOpts.maxIterations=Object(util.retrieve2)(options.maxIterations,2);var minChar=preparedOpts.minChar=Object(util.retrieve2)(options.minChar,0);preparedOpts.cnCharWidth=getWidth("",font);var ascCharWidth=preparedOpts.ascCharWidth=getWidth("a",font);preparedOpts.placeholder=Object(util.retrieve2)(options.placeholder,"");for(var contentWidth=containerWidth=Math.max(0,containerWidth-1),i=0;i<minChar&&contentWidth>=ascCharWidth;i++)contentWidth-=ascCharWidth;var ellipsisWidth=getWidth(ellipsis,font);return ellipsisWidth>contentWidth&&(ellipsis="",ellipsisWidth=0),contentWidth=containerWidth-ellipsisWidth,preparedOpts.ellipsis=ellipsis,preparedOpts.ellipsisWidth=ellipsisWidth,preparedOpts.contentWidth=contentWidth,preparedOpts.containerWidth=containerWidth,preparedOpts}function truncateSingleLine(textLine,options){var containerWidth=options.containerWidth,font=options.font,contentWidth=options.contentWidth;if(!containerWidth)return"";var lineWidth=getWidth(textLine,font);if(lineWidth<=containerWidth)return textLine;for(var j=0;;j++){if(lineWidth<=contentWidth||j>=options.maxIterations){textLine+=options.ellipsis;break}var subLength=0===j?estimateLength(textLine,contentWidth,options.ascCharWidth,options.cnCharWidth):lineWidth>0?Math.floor(textLine.length*contentWidth/lineWidth):0;lineWidth=getWidth(textLine=textLine.substr(0,subLength),font)}return""===textLine&&(textLine=options.placeholder),textLine}function estimateLength(text,contentWidth,ascCharWidth,cnCharWidth){for(var width=0,i=0,len=text.length;i<len&&width<contentWidth;i++){var charCode=text.charCodeAt(i);width+=0<=charCode&&charCode<=127?ascCharWidth:cnCharWidth}return i}var RichTextToken=function RichTextToken(){},RichTextLine=function RichTextLine(tokens){this.tokens=[],tokens&&(this.tokens=tokens)},RichTextContentBlock=function RichTextContentBlock(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function pushTokens(block,str,style,wrapInfo,styleName){var strLines,linesWidths,isEmptyStr=""===str,tokenStyle=styleName&&style.rich[styleName]||{},lines=block.lines,font=tokenStyle.font||style.font,newLine=!1;if(wrapInfo){var tokenPadding=tokenStyle.padding,tokenPaddingH=tokenPadding?tokenPadding[1]+tokenPadding[3]:0;if(null!=tokenStyle.width&&"auto"!==tokenStyle.width){var outerWidth_1=parsePercent(tokenStyle.width,wrapInfo.width)+tokenPaddingH;lines.length>0&&outerWidth_1+wrapInfo.accumWidth>wrapInfo.width&&(strLines=str.split("\n"),newLine=!0),wrapInfo.accumWidth=outerWidth_1}else{var res=wrapText(str,font,wrapInfo.width,wrapInfo.breakAll,wrapInfo.accumWidth);wrapInfo.accumWidth=res.accumWidth+tokenPaddingH,linesWidths=res.linesWidths,strLines=res.lines}}else strLines=str.split("\n");for(var i=0;i<strLines.length;i++){var text=strLines[i],token=new RichTextToken;if(token.styleName=styleName,token.text=text,token.isLineHolder=!text&&!isEmptyStr,"number"==typeof tokenStyle.width?token.width=tokenStyle.width:token.width=linesWidths?linesWidths[i]:getWidth(text,font),i||newLine)lines.push(new RichTextLine([token]));else{var tokens=(lines[lines.length-1]||(lines[0]=new RichTextLine)).tokens,tokensLen=tokens.length;1===tokensLen&&tokens[0].isLineHolder?tokens[0]=token:(text||!tokensLen||isEmptyStr)&&tokens.push(token)}}}var breakCharMap=Object(util.reduce)(",&?/;] ".split(""),(function(obj,ch){return obj[ch]=!0,obj}),{});function isWordBreakChar(ch){return!function isLatin(ch){var code=ch.charCodeAt(0);return code>=33&&code<=383}(ch)||!!breakCharMap[ch]}function wrapText(text,font,lineWidth,isBreakAll,lastAccumWidth){for(var lines=[],linesWidths=[],line="",currentWord="",currentWordWidth=0,accumWidth=0,i=0;i<text.length;i++){var ch=text.charAt(i);if("\n"!==ch){var chWidth=getWidth(ch,font),inWord=!isBreakAll&&!isWordBreakChar(ch);(lines.length?accumWidth+chWidth>lineWidth:lastAccumWidth+accumWidth+chWidth>lineWidth)?accumWidth?(line||currentWord)&&(inWord?(line||(line=currentWord,currentWord="",accumWidth=currentWordWidth=0),lines.push(line),linesWidths.push(accumWidth-currentWordWidth),currentWord+=ch,line="",accumWidth=currentWordWidth+=chWidth):(currentWord&&(line+=currentWord,currentWord="",currentWordWidth=0),lines.push(line),linesWidths.push(accumWidth),line=ch,accumWidth=chWidth)):inWord?(lines.push(currentWord),linesWidths.push(currentWordWidth),currentWord=ch,currentWordWidth=chWidth):(lines.push(ch),linesWidths.push(chWidth)):(accumWidth+=chWidth,inWord?(currentWord+=ch,currentWordWidth+=chWidth):(currentWord&&(line+=currentWord,currentWord="",currentWordWidth=0),line+=ch))}else currentWord&&(line+=currentWord,accumWidth+=currentWordWidth),lines.push(line),linesWidths.push(accumWidth),line="",currentWord="",currentWordWidth=0,accumWidth=0}return lines.length||line||(line=text,currentWord="",currentWordWidth=0),currentWord&&(line+=currentWord),line&&(lines.push(line),linesWidths.push(accumWidth)),1===lines.length&&(accumWidth+=lastAccumWidth),{accumWidth:accumWidth,lines:lines,linesWidths:linesWidths}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(10*Math.random()),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var Displayable_PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable_Displayable=function(_super){function Displayable(props){return _super.call(this,props)||this}var dispProto;return tslib_es6_extends(Displayable,_super),Displayable.prototype._init=function(props){for(var keysArr=Object(util.keys)(props),i=0;i<keysArr.length;i++){var key=keysArr[i];"style"===key?this.useStyle(props[key]):_super.prototype.attrKV.call(this,key,props[key])}this.style||this.useStyle({})},Displayable.prototype.beforeBrush=function(){},Displayable.prototype.afterBrush=function(){},Displayable.prototype.innerBeforeBrush=function(){},Displayable.prototype.innerAfterBrush=function(){},Displayable.prototype.shouldBePainted=function(viewWidth,viewHeight,considerClipPath,considerAncestors){var m=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function isDisplayableCulled(el,width,height){Displayable_tmpRect.copy(el.getBoundingRect()),el.transform&&Displayable_tmpRect.applyTransform(el.transform);return Displayable_viewRect.width=width,Displayable_viewRect.height=height,!Displayable_tmpRect.intersect(Displayable_viewRect)}(this,viewWidth,viewHeight)||m&&!m[0]&&!m[3])return!1;if(considerClipPath&&this.__clipPaths)for(var i=0;i<this.__clipPaths.length;++i)if(this.__clipPaths[i].isZeroArea())return!1;if(considerAncestors&&this.parent)for(var parent_1=this.parent;parent_1;){if(parent_1.ignore)return!1;parent_1=parent_1.parent}return!0},Displayable.prototype.contain=function(x,y){return this.rectContain(x,y)},Displayable.prototype.traverse=function(cb,context){cb.call(context,this)},Displayable.prototype.rectContain=function(x,y){var coord=this.transformCoordToLocal(x,y);return this.getBoundingRect().contain(coord[0],coord[1])},Displayable.prototype.getPaintRect=function(){var rect=this._paintRect;if(!this._paintRect||this.__dirty){var transform=this.transform,elRect=this.getBoundingRect(),style=this.style,shadowSize=style.shadowBlur||0,shadowOffsetX=style.shadowOffsetX||0,shadowOffsetY=style.shadowOffsetY||0;rect=this._paintRect||(this._paintRect=new core_BoundingRect(0,0,0,0)),transform?core_BoundingRect.applyTransform(rect,elRect,transform):rect.copy(elRect),(shadowSize||shadowOffsetX||shadowOffsetY)&&(rect.width+=2*shadowSize+Math.abs(shadowOffsetX),rect.height+=2*shadowSize+Math.abs(shadowOffsetY),rect.x=Math.min(rect.x,rect.x+shadowOffsetX-shadowSize),rect.y=Math.min(rect.y,rect.y+shadowOffsetY-shadowSize));var tolerance=this.dirtyRectTolerance;rect.isZero()||(rect.x=Math.floor(rect.x-tolerance),rect.y=Math.floor(rect.y-tolerance),rect.width=Math.ceil(rect.width+1+2*tolerance),rect.height=Math.ceil(rect.height+1+2*tolerance))}return rect},Displayable.prototype.setPrevPaintRect=function(paintRect){paintRect?(this._prevPaintRect=this._prevPaintRect||new core_BoundingRect(0,0,0,0),this._prevPaintRect.copy(paintRect)):this._prevPaintRect=null},Displayable.prototype.getPrevPaintRect=function(){return this._prevPaintRect},Displayable.prototype.animateStyle=function(loop){return this.animate("style",loop)},Displayable.prototype.updateDuringAnimation=function(targetKey){"style"===targetKey?this.dirtyStyle():this.markRedraw()},Displayable.prototype.attrKV=function(key,value){"style"!==key?_super.prototype.attrKV.call(this,key,value):this.style?this.setStyle(value):this.useStyle(value)},Displayable.prototype.setStyle=function(keyOrObj,value){return"string"==typeof keyOrObj?this.style[keyOrObj]=value:Object(util.extend)(this.style,keyOrObj),this.dirtyStyle(),this},Displayable.prototype.dirtyStyle=function(notRedraw){notRedraw||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},Displayable.prototype.dirty=function(){this.dirtyStyle()},Displayable.prototype.styleChanged=function(){return!!(2&this.__dirty)},Displayable.prototype.styleUpdated=function(){this.__dirty&=-3},Displayable.prototype.createStyle=function(obj){return Object(util.createObject)(DEFAULT_COMMON_STYLE,obj)},Displayable.prototype.useStyle=function(obj){obj[STYLE_MAGIC_KEY]||(obj=this.createStyle(obj)),this.__inHover?this.__hoverStyle=obj:this.style=obj,this.dirtyStyle()},Displayable.prototype.isStyleObject=function(obj){return obj[STYLE_MAGIC_KEY]},Displayable.prototype._innerSaveToNormal=function(toState){_super.prototype._innerSaveToNormal.call(this,toState);var normalState=this._normalState;toState.style&&!normalState.style&&(normalState.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(toState,normalState,Displayable_PRIMARY_STATES_KEYS)},Displayable.prototype._applyStateObj=function(stateName,state,normalState,keepCurrentStates,transition,animationCfg){_super.prototype._applyStateObj.call(this,stateName,state,normalState,keepCurrentStates,transition,animationCfg);var targetStyle,needsRestoreToNormal=!(state&&keepCurrentStates);if(state&&state.style?transition?keepCurrentStates?targetStyle=state.style:(targetStyle=this._mergeStyle(this.createStyle(),normalState.style),this._mergeStyle(targetStyle,state.style)):(targetStyle=this._mergeStyle(this.createStyle(),keepCurrentStates?this.style:normalState.style),this._mergeStyle(targetStyle,state.style)):needsRestoreToNormal&&(targetStyle=normalState.style),targetStyle)if(transition){var sourceStyle=this.style;if(this.style=this.createStyle(needsRestoreToNormal?{}:sourceStyle),needsRestoreToNormal)for(var changedKeys=Object(util.keys)(sourceStyle),i=0;i<changedKeys.length;i++){(key=changedKeys[i])in targetStyle&&(targetStyle[key]=targetStyle[key],this.style[key]=sourceStyle[key])}var targetKeys=Object(util.keys)(targetStyle);for(i=0;i<targetKeys.length;i++){var key=targetKeys[i];this.style[key]=this.style[key]}this._transitionState(stateName,{style:targetStyle},animationCfg,this.getAnimationStyleProps())}else this.useStyle(targetStyle);var statesKeys=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:Displayable_PRIMARY_STATES_KEYS;for(i=0;i<statesKeys.length;i++){key=statesKeys[i];state&&null!=state[key]?this[key]=state[key]:needsRestoreToNormal&&null!=normalState[key]&&(this[key]=normalState[key])}},Displayable.prototype._mergeStates=function(states){for(var mergedStyle,mergedState=_super.prototype._mergeStates.call(this,states),i=0;i<states.length;i++){var state=states[i];state.style&&(mergedStyle=mergedStyle||{},this._mergeStyle(mergedStyle,state.style))}return mergedStyle&&(mergedState.style=mergedStyle),mergedState},Displayable.prototype._mergeStyle=function(targetStyle,sourceStyle){return Object(util.extend)(targetStyle,sourceStyle),targetStyle},Displayable.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},Displayable.initDefaultProps=((dispProto=Displayable.prototype).type="displayable",dispProto.invisible=!1,dispProto.z=0,dispProto.z2=0,dispProto.zlevel=0,dispProto.culling=!1,dispProto.cursor="pointer",dispProto.rectHover=!1,dispProto.incremental=!1,dispProto._rect=null,dispProto.dirtyRectTolerance=0,void(dispProto.__dirty=3)),Displayable}(lib_Element),Displayable_tmpRect=new core_BoundingRect(0,0,0,0),Displayable_viewRect=new core_BoundingRect(0,0,0,0);var graphic_Displayable=Displayable_Displayable,bbox_mathMin=Math.min,bbox_mathMax=Math.max,bbox_mathSin=Math.sin,bbox_mathCos=Math.cos,PI2=2*Math.PI,bbox_start=vector_create(),bbox_end=vector_create(),extremity=vector_create();function fromPoints(points,min,max){if(0!==points.length){for(var p=points[0],left=p[0],right=p[0],top=p[1],bottom=p[1],i=1;i<points.length;i++)p=points[i],left=bbox_mathMin(left,p[0]),right=bbox_mathMax(right,p[0]),top=bbox_mathMin(top,p[1]),bottom=bbox_mathMax(bottom,p[1]);min[0]=left,min[1]=top,max[0]=right,max[1]=bottom}}function fromLine(x0,y0,x1,y1,min,max){min[0]=bbox_mathMin(x0,x1),min[1]=bbox_mathMin(y0,y1),max[0]=bbox_mathMax(x0,x1),max[1]=bbox_mathMax(y0,y1)}var xDim=[],yDim=[];function fromCubic(x0,y0,x1,y1,x2,y2,x3,y3,min,max){var cubicExtrema=curve_cubicExtrema,cubicAt=curve_cubicAt,n=cubicExtrema(x0,x1,x2,x3,xDim);min[0]=1/0,min[1]=1/0,max[0]=-1/0,max[1]=-1/0;for(var i=0;i<n;i++){var x=cubicAt(x0,x1,x2,x3,xDim[i]);min[0]=bbox_mathMin(x,min[0]),max[0]=bbox_mathMax(x,max[0])}n=cubicExtrema(y0,y1,y2,y3,yDim);for(i=0;i<n;i++){var y=cubicAt(y0,y1,y2,y3,yDim[i]);min[1]=bbox_mathMin(y,min[1]),max[1]=bbox_mathMax(y,max[1])}min[0]=bbox_mathMin(x0,min[0]),max[0]=bbox_mathMax(x0,max[0]),min[0]=bbox_mathMin(x3,min[0]),max[0]=bbox_mathMax(x3,max[0]),min[1]=bbox_mathMin(y0,min[1]),max[1]=bbox_mathMax(y0,max[1]),min[1]=bbox_mathMin(y3,min[1]),max[1]=bbox_mathMax(y3,max[1])}function fromQuadratic(x0,y0,x1,y1,x2,y2,min,max){var quadraticExtremum=curve_quadraticExtremum,quadraticAt=curve_quadraticAt,tx=bbox_mathMax(bbox_mathMin(quadraticExtremum(x0,x1,x2),1),0),ty=bbox_mathMax(bbox_mathMin(quadraticExtremum(y0,y1,y2),1),0),x=quadraticAt(x0,x1,x2,tx),y=quadraticAt(y0,y1,y2,ty);min[0]=bbox_mathMin(x0,x2,x),min[1]=bbox_mathMin(y0,y2,y),max[0]=bbox_mathMax(x0,x2,x),max[1]=bbox_mathMax(y0,y2,y)}function fromArc(x,y,rx,ry,startAngle,endAngle,anticlockwise,min,max){var vec2Min=vector_min,vec2Max=vector_max,diff=Math.abs(startAngle-endAngle);if(diff%PI2<1e-4&&diff>1e-4)return min[0]=x-rx,min[1]=y-ry,max[0]=x+rx,void(max[1]=y+ry);if(bbox_start[0]=bbox_mathCos(startAngle)*rx+x,bbox_start[1]=bbox_mathSin(startAngle)*ry+y,bbox_end[0]=bbox_mathCos(endAngle)*rx+x,bbox_end[1]=bbox_mathSin(endAngle)*ry+y,vec2Min(min,bbox_start,bbox_end),vec2Max(max,bbox_start,bbox_end),(startAngle%=PI2)<0&&(startAngle+=PI2),(endAngle%=PI2)<0&&(endAngle+=PI2),startAngle>endAngle&&!anticlockwise?endAngle+=PI2:startAngle<endAngle&&anticlockwise&&(startAngle+=PI2),anticlockwise){var tmp=endAngle;endAngle=startAngle,startAngle=tmp}for(var angle=0;angle<endAngle;angle+=Math.PI/2)angle>startAngle&&(extremity[0]=bbox_mathCos(angle)*rx+x,extremity[1]=bbox_mathSin(angle)*ry+y,vec2Min(min,extremity,min),vec2Max(max,extremity,max))}var PathProxy_CMD={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],PathProxy_min=[],PathProxy_max=[],PathProxy_min2=[],PathProxy_max2=[],PathProxy_mathMin=Math.min,PathProxy_mathMax=Math.max,PathProxy_mathCos=Math.cos,PathProxy_mathSin=Math.sin,mathAbs=Math.abs,PathProxy_PI=Math.PI,PathProxy_PI2=2*PathProxy_PI,hasTypedArray="undefined"!=typeof Float32Array,tmpAngles=[];function modPI2(radian){return Math.round(radian/PathProxy_PI*1e8)/1e8%2*PathProxy_PI}function normalizeArcAngles(angles,anticlockwise){var newStartAngle=modPI2(angles[0]);newStartAngle<0&&(newStartAngle+=PathProxy_PI2);var delta=newStartAngle-angles[0],newEndAngle=angles[1];newEndAngle+=delta,!anticlockwise&&newEndAngle-newStartAngle>=PathProxy_PI2?newEndAngle=newStartAngle+PathProxy_PI2:anticlockwise&&newStartAngle-newEndAngle>=PathProxy_PI2?newEndAngle=newStartAngle-PathProxy_PI2:!anticlockwise&&newStartAngle>newEndAngle?newEndAngle=newStartAngle+(PathProxy_PI2-modPI2(newStartAngle-newEndAngle)):anticlockwise&&newStartAngle<newEndAngle&&(newEndAngle=newStartAngle-(PathProxy_PI2-modPI2(newEndAngle-newStartAngle))),angles[0]=newStartAngle,angles[1]=newEndAngle}var PathProxy_PathProxy=function(){function PathProxy(notSaveData){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,notSaveData&&(this._saveData=!1),this._saveData&&(this.data=[])}var proto;return PathProxy.prototype.increaseVersion=function(){this._version++},PathProxy.prototype.getVersion=function(){return this._version},PathProxy.prototype.setScale=function(sx,sy,segmentIgnoreThreshold){(segmentIgnoreThreshold=segmentIgnoreThreshold||0)>0&&(this._ux=mathAbs(segmentIgnoreThreshold/devicePixelRatio/sx)||0,this._uy=mathAbs(segmentIgnoreThreshold/devicePixelRatio/sy)||0)},PathProxy.prototype.setDPR=function(dpr){this.dpr=dpr},PathProxy.prototype.setContext=function(ctx){this._ctx=ctx},PathProxy.prototype.getContext=function(){return this._ctx},PathProxy.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},PathProxy.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},PathProxy.prototype.moveTo=function(x,y){return this._drawPendingPt(),this.addData(PathProxy_CMD.M,x,y),this._ctx&&this._ctx.moveTo(x,y),this._x0=x,this._y0=y,this._xi=x,this._yi=y,this},PathProxy.prototype.lineTo=function(x,y){var dx=mathAbs(x-this._xi),dy=mathAbs(y-this._yi),exceedUnit=dx>this._ux||dy>this._uy;if(this.addData(PathProxy_CMD.L,x,y),this._ctx&&exceedUnit&&this._ctx.lineTo(x,y),exceedUnit)this._xi=x,this._yi=y,this._pendingPtDist=0;else{var d2=dx*dx+dy*dy;d2>this._pendingPtDist&&(this._pendingPtX=x,this._pendingPtY=y,this._pendingPtDist=d2)}return this},PathProxy.prototype.bezierCurveTo=function(x1,y1,x2,y2,x3,y3){return this._drawPendingPt(),this.addData(PathProxy_CMD.C,x1,y1,x2,y2,x3,y3),this._ctx&&this._ctx.bezierCurveTo(x1,y1,x2,y2,x3,y3),this._xi=x3,this._yi=y3,this},PathProxy.prototype.quadraticCurveTo=function(x1,y1,x2,y2){return this._drawPendingPt(),this.addData(PathProxy_CMD.Q,x1,y1,x2,y2),this._ctx&&this._ctx.quadraticCurveTo(x1,y1,x2,y2),this._xi=x2,this._yi=y2,this},PathProxy.prototype.arc=function(cx,cy,r,startAngle,endAngle,anticlockwise){this._drawPendingPt(),tmpAngles[0]=startAngle,tmpAngles[1]=endAngle,normalizeArcAngles(tmpAngles,anticlockwise),startAngle=tmpAngles[0];var delta=(endAngle=tmpAngles[1])-startAngle;return this.addData(PathProxy_CMD.A,cx,cy,r,r,startAngle,delta,0,anticlockwise?0:1),this._ctx&&this._ctx.arc(cx,cy,r,startAngle,endAngle,anticlockwise),this._xi=PathProxy_mathCos(endAngle)*r+cx,this._yi=PathProxy_mathSin(endAngle)*r+cy,this},PathProxy.prototype.arcTo=function(x1,y1,x2,y2,radius){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(x1,y1,x2,y2,radius),this},PathProxy.prototype.rect=function(x,y,w,h){return this._drawPendingPt(),this._ctx&&this._ctx.rect(x,y,w,h),this.addData(PathProxy_CMD.R,x,y,w,h),this},PathProxy.prototype.closePath=function(){this._drawPendingPt(),this.addData(PathProxy_CMD.Z);var ctx=this._ctx,x0=this._x0,y0=this._y0;return ctx&&ctx.closePath(),this._xi=x0,this._yi=y0,this},PathProxy.prototype.fill=function(ctx){ctx&&ctx.fill(),this.toStatic()},PathProxy.prototype.stroke=function(ctx){ctx&&ctx.stroke(),this.toStatic()},PathProxy.prototype.len=function(){return this._len},PathProxy.prototype.setData=function(data){var len=data.length;this.data&&this.data.length===len||!hasTypedArray||(this.data=new Float32Array(len));for(var i=0;i<len;i++)this.data[i]=data[i];this._len=len},PathProxy.prototype.appendPath=function(path){path instanceof Array||(path=[path]);for(var len=path.length,appendSize=0,offset=this._len,i=0;i<len;i++)appendSize+=path[i].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(offset+appendSize));for(i=0;i<len;i++)for(var appendPathData=path[i].data,k=0;k<appendPathData.length;k++)this.data[offset++]=appendPathData[k];this._len=offset},PathProxy.prototype.addData=function(cmd,a,b,c,d,e,f,g,h){if(this._saveData){var data=this.data;this._len+arguments.length>data.length&&(this._expandData(),data=this.data);for(var i=0;i<arguments.length;i++)data[this._len++]=arguments[i]}},PathProxy.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},PathProxy.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var newData=[],i=0;i<this._len;i++)newData[i]=this.data[i];this.data=newData}},PathProxy.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var data=this.data;data instanceof Array&&(data.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(data)))}},PathProxy.prototype.getBoundingRect=function(){PathProxy_min[0]=PathProxy_min[1]=PathProxy_min2[0]=PathProxy_min2[1]=Number.MAX_VALUE,PathProxy_max[0]=PathProxy_max[1]=PathProxy_max2[0]=PathProxy_max2[1]=-Number.MAX_VALUE;var i,data=this.data,xi=0,yi=0,x0=0,y0=0;for(i=0;i<this._len;){var cmd=data[i++],isFirst=1===i;switch(isFirst&&(x0=xi=data[i],y0=yi=data[i+1]),cmd){case PathProxy_CMD.M:xi=x0=data[i++],yi=y0=data[i++],PathProxy_min2[0]=x0,PathProxy_min2[1]=y0,PathProxy_max2[0]=x0,PathProxy_max2[1]=y0;break;case PathProxy_CMD.L:fromLine(xi,yi,data[i],data[i+1],PathProxy_min2,PathProxy_max2),xi=data[i++],yi=data[i++];break;case PathProxy_CMD.C:fromCubic(xi,yi,data[i++],data[i++],data[i++],data[i++],data[i],data[i+1],PathProxy_min2,PathProxy_max2),xi=data[i++],yi=data[i++];break;case PathProxy_CMD.Q:fromQuadratic(xi,yi,data[i++],data[i++],data[i],data[i+1],PathProxy_min2,PathProxy_max2),xi=data[i++],yi=data[i++];break;case PathProxy_CMD.A:var cx=data[i++],cy=data[i++],rx=data[i++],ry=data[i++],startAngle=data[i++],endAngle=data[i++]+startAngle;i+=1;var anticlockwise=!data[i++];isFirst&&(x0=PathProxy_mathCos(startAngle)*rx+cx,y0=PathProxy_mathSin(startAngle)*ry+cy),fromArc(cx,cy,rx,ry,startAngle,endAngle,anticlockwise,PathProxy_min2,PathProxy_max2),xi=PathProxy_mathCos(endAngle)*rx+cx,yi=PathProxy_mathSin(endAngle)*ry+cy;break;case PathProxy_CMD.R:fromLine(x0=xi=data[i++],y0=yi=data[i++],x0+data[i++],y0+data[i++],PathProxy_min2,PathProxy_max2);break;case PathProxy_CMD.Z:xi=x0,yi=y0}vector_min(PathProxy_min,PathProxy_min,PathProxy_min2),vector_max(PathProxy_max,PathProxy_max,PathProxy_max2)}return 0===i&&(PathProxy_min[0]=PathProxy_min[1]=PathProxy_max[0]=PathProxy_max[1]=0),new core_BoundingRect(PathProxy_min[0],PathProxy_min[1],PathProxy_max[0]-PathProxy_min[0],PathProxy_max[1]-PathProxy_min[1])},PathProxy.prototype._calculateLength=function(){var data=this.data,len=this._len,ux=this._ux,uy=this._uy,xi=0,yi=0,x0=0,y0=0;this._pathSegLen||(this._pathSegLen=[]);for(var pathSegLen=this._pathSegLen,pathTotalLen=0,segCount=0,i=0;i<len;){var cmd=data[i++],isFirst=1===i;isFirst&&(x0=xi=data[i],y0=yi=data[i+1]);var l=-1;switch(cmd){case PathProxy_CMD.M:xi=x0=data[i++],yi=y0=data[i++];break;case PathProxy_CMD.L:var x2=data[i++],dy=(y2=data[i++])-yi;(mathAbs(dx=x2-xi)>ux||mathAbs(dy)>uy||i===len-1)&&(l=Math.sqrt(dx*dx+dy*dy),xi=x2,yi=y2);break;case PathProxy_CMD.C:var x1=data[i++],y1=data[i++],y2=(x2=data[i++],data[i++]),x3=data[i++],y3=data[i++];l=cubicLength(xi,yi,x1,y1,x2,y2,x3,y3,10),xi=x3,yi=y3;break;case PathProxy_CMD.Q:l=quadraticLength(xi,yi,x1=data[i++],y1=data[i++],x2=data[i++],y2=data[i++],10),xi=x2,yi=y2;break;case PathProxy_CMD.A:var cx=data[i++],cy=data[i++],rx=data[i++],ry=data[i++],startAngle=data[i++],delta=data[i++],endAngle=delta+startAngle;i+=1;data[i++];isFirst&&(x0=PathProxy_mathCos(startAngle)*rx+cx,y0=PathProxy_mathSin(startAngle)*ry+cy),l=PathProxy_mathMax(rx,ry)*PathProxy_mathMin(PathProxy_PI2,Math.abs(delta)),xi=PathProxy_mathCos(endAngle)*rx+cx,yi=PathProxy_mathSin(endAngle)*ry+cy;break;case PathProxy_CMD.R:x0=xi=data[i++],y0=yi=data[i++],l=2*data[i++]+2*data[i++];break;case PathProxy_CMD.Z:var dx=x0-xi;dy=y0-yi;l=Math.sqrt(dx*dx+dy*dy),xi=x0,yi=y0}l>=0&&(pathSegLen[segCount++]=l,pathTotalLen+=l)}return this._pathLen=pathTotalLen,pathTotalLen},PathProxy.prototype.rebuildPath=function(ctx,percent){var x0,y0,xi,yi,x,y,pathSegLen,displayedLength,pendingPtX,pendingPtY,d=this.data,ux=this._ux,uy=this._uy,len=this._len,drawPart=percent<1,accumLength=0,segCount=0,pendingPtDist=0;if(!drawPart||(this._pathSegLen||this._calculateLength(),pathSegLen=this._pathSegLen,displayedLength=percent*this._pathLen))lo:for(var i=0;i<len;){var cmd=d[i++],isFirst=1===i;switch(isFirst&&(x0=xi=d[i],y0=yi=d[i+1]),cmd!==PathProxy_CMD.L&&pendingPtDist>0&&(ctx.lineTo(pendingPtX,pendingPtY),pendingPtDist=0),cmd){case PathProxy_CMD.M:x0=xi=d[i++],y0=yi=d[i++],ctx.moveTo(xi,yi);break;case PathProxy_CMD.L:x=d[i++],y=d[i++];var dx=mathAbs(x-xi),dy=mathAbs(y-yi);if(dx>ux||dy>uy){if(drawPart){if(accumLength+(l=pathSegLen[segCount++])>displayedLength){var t=(displayedLength-accumLength)/l;ctx.lineTo(xi*(1-t)+x*t,yi*(1-t)+y*t);break lo}accumLength+=l}ctx.lineTo(x,y),xi=x,yi=y,pendingPtDist=0}else{var d2=dx*dx+dy*dy;d2>pendingPtDist&&(pendingPtX=x,pendingPtY=y,pendingPtDist=d2)}break;case PathProxy_CMD.C:var x1=d[i++],y1=d[i++],x2=d[i++],y2=d[i++],x3=d[i++],y3=d[i++];if(drawPart){if(accumLength+(l=pathSegLen[segCount++])>displayedLength){cubicSubdivide(xi,x1,x2,x3,t=(displayedLength-accumLength)/l,tmpOutX),cubicSubdivide(yi,y1,y2,y3,t,tmpOutY),ctx.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break lo}accumLength+=l}ctx.bezierCurveTo(x1,y1,x2,y2,x3,y3),xi=x3,yi=y3;break;case PathProxy_CMD.Q:x1=d[i++],y1=d[i++],x2=d[i++],y2=d[i++];if(drawPart){if(accumLength+(l=pathSegLen[segCount++])>displayedLength){curve_quadraticSubdivide(xi,x1,x2,t=(displayedLength-accumLength)/l,tmpOutX),curve_quadraticSubdivide(yi,y1,y2,t,tmpOutY),ctx.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break lo}accumLength+=l}ctx.quadraticCurveTo(x1,y1,x2,y2),xi=x2,yi=y2;break;case PathProxy_CMD.A:var cx=d[i++],cy=d[i++],rx=d[i++],ry=d[i++],startAngle=d[i++],delta=d[i++],psi=d[i++],anticlockwise=!d[i++],r=rx>ry?rx:ry,isEllipse=mathAbs(rx-ry)>.001,endAngle=startAngle+delta,breakBuild=!1;if(drawPart)accumLength+(l=pathSegLen[segCount++])>displayedLength&&(endAngle=startAngle+delta*(displayedLength-accumLength)/l,breakBuild=!0),accumLength+=l;if(isEllipse&&ctx.ellipse?ctx.ellipse(cx,cy,rx,ry,psi,startAngle,endAngle,anticlockwise):ctx.arc(cx,cy,r,startAngle,endAngle,anticlockwise),breakBuild)break lo;isFirst&&(x0=PathProxy_mathCos(startAngle)*rx+cx,y0=PathProxy_mathSin(startAngle)*ry+cy),xi=PathProxy_mathCos(endAngle)*rx+cx,yi=PathProxy_mathSin(endAngle)*ry+cy;break;case PathProxy_CMD.R:x0=xi=d[i],y0=yi=d[i+1],x=d[i++],y=d[i++];var width=d[i++],height=d[i++];if(drawPart){if(accumLength+(l=pathSegLen[segCount++])>displayedLength){var d_1=displayedLength-accumLength;ctx.moveTo(x,y),ctx.lineTo(x+PathProxy_mathMin(d_1,width),y),(d_1-=width)>0&&ctx.lineTo(x+width,y+PathProxy_mathMin(d_1,height)),(d_1-=height)>0&&ctx.lineTo(x+PathProxy_mathMax(width-d_1,0),y+height),(d_1-=width)>0&&ctx.lineTo(x,y+PathProxy_mathMax(height-d_1,0));break lo}accumLength+=l}ctx.rect(x,y,width,height);break;case PathProxy_CMD.Z:if(drawPart){var l;if(accumLength+(l=pathSegLen[segCount++])>displayedLength){t=(displayedLength-accumLength)/l;ctx.lineTo(xi*(1-t)+x0*t,yi*(1-t)+y0*t);break lo}accumLength+=l}ctx.closePath(),xi=x0,yi=y0}}},PathProxy.prototype.clone=function(){var newProxy=new PathProxy,data=this.data;return newProxy.data=data.slice?data.slice():Array.prototype.slice.call(data),newProxy._len=this._len,newProxy},PathProxy.CMD=PathProxy_CMD,PathProxy.initDefaultProps=((proto=PathProxy.prototype)._saveData=!0,proto._ux=0,proto._uy=0,proto._pendingPtDist=0,void(proto._version=0)),PathProxy}(),core_PathProxy=PathProxy_PathProxy;function containStroke(x0,y0,x1,y1,lineWidth,x,y){if(0===lineWidth)return!1;var _l=lineWidth,_a=0;if(y>y0+_l&&y>y1+_l||y<y0-_l&&y<y1-_l||x>x0+_l&&x>x1+_l||x<x0-_l&&x<x1-_l)return!1;if(x0===x1)return Math.abs(x-x0)<=_l/2;var tmp=(_a=(y0-y1)/(x0-x1))*x-y+(x0*y1-x1*y0)/(x0-x1);return tmp*tmp/(_a*_a+1)<=_l/2*_l/2}function cubic_containStroke(x0,y0,x1,y1,x2,y2,x3,y3,lineWidth,x,y){if(0===lineWidth)return!1;var _l=lineWidth;return!(y>y0+_l&&y>y1+_l&&y>y2+_l&&y>y3+_l||y<y0-_l&&y<y1-_l&&y<y2-_l&&y<y3-_l||x>x0+_l&&x>x1+_l&&x>x2+_l&&x>x3+_l||x<x0-_l&&x<x1-_l&&x<x2-_l&&x<x3-_l)&&cubicProjectPoint(x0,y0,x1,y1,x2,y2,x3,y3,x,y,null)<=_l/2}function quadratic_containStroke(x0,y0,x1,y1,x2,y2,lineWidth,x,y){if(0===lineWidth)return!1;var _l=lineWidth;return!(y>y0+_l&&y>y1+_l&&y>y2+_l||y<y0-_l&&y<y1-_l&&y<y2-_l||x>x0+_l&&x>x1+_l&&x>x2+_l||x<x0-_l&&x<x1-_l&&x<x2-_l)&&quadraticProjectPoint(x0,y0,x1,y1,x2,y2,x,y,null)<=_l/2}var util_PI2=2*Math.PI;function normalizeRadian(angle){return(angle%=util_PI2)<0&&(angle+=util_PI2),angle}var arc_PI2=2*Math.PI;function arc_containStroke(cx,cy,r,startAngle,endAngle,anticlockwise,lineWidth,x,y){if(0===lineWidth)return!1;var _l=lineWidth;x-=cx,y-=cy;var d=Math.sqrt(x*x+y*y);if(d-_l>r||d+_l<r)return!1;if(Math.abs(startAngle-endAngle)%arc_PI2<1e-4)return!0;if(anticlockwise){var tmp=startAngle;startAngle=normalizeRadian(endAngle),endAngle=normalizeRadian(tmp)}else startAngle=normalizeRadian(startAngle),endAngle=normalizeRadian(endAngle);startAngle>endAngle&&(endAngle+=arc_PI2);var angle=Math.atan2(y,x);return angle<0&&(angle+=arc_PI2),angle>=startAngle&&angle<=endAngle||angle+arc_PI2>=startAngle&&angle+arc_PI2<=endAngle}function windingLine(x0,y0,x1,y1,x,y){if(y>y0&&y>y1||y<y0&&y<y1)return 0;if(y1===y0)return 0;var t=(y-y0)/(y1-y0),dir=y1<y0?1:-1;1!==t&&0!==t||(dir=y1<y0?.5:-.5);var x_=t*(x1-x0)+x0;return x_===x?1/0:x_>x?dir:0}var path_CMD=core_PathProxy.CMD,path_PI2=2*Math.PI;var path_roots=[-1,-1,-1],extrema=[-1,-1];function windingCubic(x0,y0,x1,y1,x2,y2,x3,y3,x,y){if(y>y0&&y>y1&&y>y2&&y>y3||y<y0&&y<y1&&y<y2&&y<y3)return 0;var tmp,nRoots=cubicRootAt(y0,y1,y2,y3,y,path_roots);if(0===nRoots)return 0;for(var w=0,nExtrema=-1,y0_=void 0,y1_=void 0,i=0;i<nRoots;i++){var t=path_roots[i],unit=0===t||1===t?.5:1;curve_cubicAt(x0,x1,x2,x3,t)<x||(nExtrema<0&&(nExtrema=curve_cubicExtrema(y0,y1,y2,y3,extrema),extrema[1]<extrema[0]&&nExtrema>1&&(tmp=void 0,tmp=extrema[0],extrema[0]=extrema[1],extrema[1]=tmp),y0_=curve_cubicAt(y0,y1,y2,y3,extrema[0]),nExtrema>1&&(y1_=curve_cubicAt(y0,y1,y2,y3,extrema[1]))),2===nExtrema?t<extrema[0]?w+=y0_<y0?unit:-unit:t<extrema[1]?w+=y1_<y0_?unit:-unit:w+=y3<y1_?unit:-unit:t<extrema[0]?w+=y0_<y0?unit:-unit:w+=y3<y0_?unit:-unit)}return w}function windingQuadratic(x0,y0,x1,y1,x2,y2,x,y){if(y>y0&&y>y1&&y>y2||y<y0&&y<y1&&y<y2)return 0;var nRoots=function quadraticRootAt(p0,p1,p2,val,roots){var a=p0-2*p1+p2,b=2*(p1-p0),c=p0-val,n=0;if(isAroundZero(a))isNotAroundZero(b)&&(t1=-c/b)>=0&&t1<=1&&(roots[n++]=t1);else{var disc=b*b-4*a*c;if(isAroundZero(disc))(t1=-b/(2*a))>=0&&t1<=1&&(roots[n++]=t1);else if(disc>0){var t1,discSqrt=mathSqrt(disc),t2=(-b-discSqrt)/(2*a);(t1=(-b+discSqrt)/(2*a))>=0&&t1<=1&&(roots[n++]=t1),t2>=0&&t2<=1&&(roots[n++]=t2)}}return n}(y0,y1,y2,y,path_roots);if(0===nRoots)return 0;var t=curve_quadraticExtremum(y0,y1,y2);if(t>=0&&t<=1){for(var w=0,y_=curve_quadraticAt(y0,y1,y2,t),i=0;i<nRoots;i++){var unit=0===path_roots[i]||1===path_roots[i]?.5:1;curve_quadraticAt(x0,x1,x2,path_roots[i])<x||(path_roots[i]<t?w+=y_<y0?unit:-unit:w+=y2<y_?unit:-unit)}return w}unit=0===path_roots[0]||1===path_roots[0]?.5:1;return curve_quadraticAt(x0,x1,x2,path_roots[0])<x?0:y2<y0?unit:-unit}function windingArc(cx,cy,r,startAngle,endAngle,anticlockwise,x,y){if((y-=cy)>r||y<-r)return 0;var tmp=Math.sqrt(r*r-y*y);path_roots[0]=-tmp,path_roots[1]=tmp;var dTheta=Math.abs(startAngle-endAngle);if(dTheta<1e-4)return 0;if(dTheta>=path_PI2-1e-4){startAngle=0,endAngle=path_PI2;var dir=anticlockwise?1:-1;return x>=path_roots[0]+cx&&x<=path_roots[1]+cx?dir:0}if(startAngle>endAngle){var tmp_1=startAngle;startAngle=endAngle,endAngle=tmp_1}startAngle<0&&(startAngle+=path_PI2,endAngle+=path_PI2);for(var w=0,i=0;i<2;i++){var x_=path_roots[i];if(x_+cx>x){var angle=Math.atan2(y,x_);dir=anticlockwise?1:-1;angle<0&&(angle=path_PI2+angle),(angle>=startAngle&&angle<=endAngle||angle+path_PI2>=startAngle&&angle+path_PI2<=endAngle)&&(angle>Math.PI/2&&angle<1.5*Math.PI&&(dir=-dir),w+=dir)}}return w}function containPath(path,lineWidth,isStroke,x,y){for(var x1,y1,data=path.data,len=path.len(),w=0,xi=0,yi=0,x0=0,y0=0,i=0;i<len;){var cmd=data[i++],isFirst=1===i;switch(cmd===path_CMD.M&&i>1&&(isStroke||(w+=windingLine(xi,yi,x0,y0,x,y))),isFirst&&(x0=xi=data[i],y0=yi=data[i+1]),cmd){case path_CMD.M:xi=x0=data[i++],yi=y0=data[i++];break;case path_CMD.L:if(isStroke){if(containStroke(xi,yi,data[i],data[i+1],lineWidth,x,y))return!0}else w+=windingLine(xi,yi,data[i],data[i+1],x,y)||0;xi=data[i++],yi=data[i++];break;case path_CMD.C:if(isStroke){if(cubic_containStroke(xi,yi,data[i++],data[i++],data[i++],data[i++],data[i],data[i+1],lineWidth,x,y))return!0}else w+=windingCubic(xi,yi,data[i++],data[i++],data[i++],data[i++],data[i],data[i+1],x,y)||0;xi=data[i++],yi=data[i++];break;case path_CMD.Q:if(isStroke){if(quadratic_containStroke(xi,yi,data[i++],data[i++],data[i],data[i+1],lineWidth,x,y))return!0}else w+=windingQuadratic(xi,yi,data[i++],data[i++],data[i],data[i+1],x,y)||0;xi=data[i++],yi=data[i++];break;case path_CMD.A:var cx=data[i++],cy=data[i++],rx=data[i++],ry=data[i++],theta=data[i++],dTheta=data[i++];i+=1;var anticlockwise=!!(1-data[i++]);x1=Math.cos(theta)*rx+cx,y1=Math.sin(theta)*ry+cy,isFirst?(x0=x1,y0=y1):w+=windingLine(xi,yi,x1,y1,x,y);var _x=(x-cx)*ry/rx+cx;if(isStroke){if(arc_containStroke(cx,cy,ry,theta,theta+dTheta,anticlockwise,lineWidth,_x,y))return!0}else w+=windingArc(cx,cy,ry,theta,theta+dTheta,anticlockwise,_x,y);xi=Math.cos(theta+dTheta)*rx+cx,yi=Math.sin(theta+dTheta)*ry+cy;break;case path_CMD.R:if(x0=xi=data[i++],y0=yi=data[i++],x1=x0+data[i++],y1=y0+data[i++],isStroke){if(containStroke(x0,y0,x1,y0,lineWidth,x,y)||containStroke(x1,y0,x1,y1,lineWidth,x,y)||containStroke(x1,y1,x0,y1,lineWidth,x,y)||containStroke(x0,y1,x0,y0,lineWidth,x,y))return!0}else w+=windingLine(x1,y0,x1,y1,x,y),w+=windingLine(x0,y1,x0,y0,x,y);break;case path_CMD.Z:if(isStroke){if(containStroke(xi,yi,x0,y0,lineWidth,x,y))return!0}else w+=windingLine(xi,yi,x0,y0,x,y);xi=x0,yi=y0}}return isStroke||function isAroundEqual(a,b){return Math.abs(a-b)<1e-4}(yi,y0)||(w+=windingLine(xi,yi,x0,y0,x,y)||0),0!==w}var DEFAULT_PATH_STYLE=Object(util.defaults)({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:Object(util.defaults)({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),graphic_Path=function(_super){function Path(opts){return _super.call(this,opts)||this}var pathProto;return tslib_es6_extends(Path,_super),Path.prototype.update=function(){var _this=this;_super.prototype.update.call(this);var style=this.style;if(style.decal){var decalEl=this._decalEl=this._decalEl||new Path;decalEl.buildPath===Path.prototype.buildPath&&(decalEl.buildPath=function(ctx){_this.buildPath(ctx,_this.shape)}),decalEl.silent=!0;var decalElStyle=decalEl.style;for(var key in style)decalElStyle[key]!==style[key]&&(decalElStyle[key]=style[key]);decalElStyle.fill=style.fill?style.decal:null,decalElStyle.decal=null,decalElStyle.shadowColor=null,style.strokeFirst&&(decalElStyle.stroke=null);for(var i=0;i<pathCopyParams.length;++i)decalEl[pathCopyParams[i]]=this[pathCopyParams[i]];decalEl.__dirty|=1}else this._decalEl&&(this._decalEl=null)},Path.prototype.getDecalElement=function(){return this._decalEl},Path.prototype._init=function(props){var keysArr=Object(util.keys)(props);this.shape=this.getDefaultShape();var defaultStyle=this.getDefaultStyle();defaultStyle&&this.useStyle(defaultStyle);for(var i=0;i<keysArr.length;i++){var key=keysArr[i],value=props[key];"style"===key?this.style?Object(util.extend)(this.style,value):this.useStyle(value):"shape"===key?Object(util.extend)(this.shape,value):_super.prototype.attrKV.call(this,key,value)}this.style||this.useStyle({})},Path.prototype.getDefaultStyle=function(){return null},Path.prototype.getDefaultShape=function(){return{}},Path.prototype.canBeInsideText=function(){return this.hasFill()},Path.prototype.getInsideTextFill=function(){var pathFill=this.style.fill;if("none"!==pathFill){if(Object(util.isString)(pathFill)){var fillLum=Object(tool_color.lum)(pathFill,0);return fillLum>.5?"#333":fillLum>.2?"#eee":"#ccc"}if(pathFill)return"#ccc"}return"#333"},Path.prototype.getInsideTextStroke=function(textFill){var pathFill=this.style.fill;if(Object(util.isString)(pathFill)){var zr=this.__zr;if(!(!zr||!zr.isDarkMode())===Object(tool_color.lum)(textFill,0)<.4)return pathFill}},Path.prototype.buildPath=function(ctx,shapeCfg,inBatch){},Path.prototype.pathUpdated=function(){this.__dirty&=-5},Path.prototype.getUpdatedPathProxy=function(inBatch){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,inBatch),this.path},Path.prototype.createPathProxy=function(){this.path=new core_PathProxy(!1)},Path.prototype.hasStroke=function(){var style=this.style,stroke=style.stroke;return!(null==stroke||"none"===stroke||!(style.lineWidth>0))},Path.prototype.hasFill=function(){var fill=this.style.fill;return null!=fill&&"none"!==fill},Path.prototype.getBoundingRect=function(){var rect=this._rect,style=this.style,needsUpdateRect=!rect;if(needsUpdateRect){var firstInvoke=!1;this.path||(firstInvoke=!0,this.createPathProxy());var path=this.path;(firstInvoke||4&this.__dirty)&&(path.beginPath(),this.buildPath(path,this.shape,!1),this.pathUpdated()),rect=path.getBoundingRect()}if(this._rect=rect,this.hasStroke()&&this.path&&this.path.len()>0){var rectStroke=this._rectStroke||(this._rectStroke=rect.clone());if(this.__dirty||needsUpdateRect){rectStroke.copy(rect);var lineScale=style.strokeNoScale?this.getLineScale():1,w=style.lineWidth;if(!this.hasFill()){var strokeContainThreshold=this.strokeContainThreshold;w=Math.max(w,null==strokeContainThreshold?4:strokeContainThreshold)}lineScale>1e-10&&(rectStroke.width+=w/lineScale,rectStroke.height+=w/lineScale,rectStroke.x-=w/lineScale/2,rectStroke.y-=w/lineScale/2)}return rectStroke}return rect},Path.prototype.contain=function(x,y){var localPos=this.transformCoordToLocal(x,y),rect=this.getBoundingRect(),style=this.style;if(x=localPos[0],y=localPos[1],rect.contain(x,y)){var pathProxy=this.path;if(this.hasStroke()){var lineWidth=style.lineWidth,lineScale=style.strokeNoScale?this.getLineScale():1;if(lineScale>1e-10&&(this.hasFill()||(lineWidth=Math.max(lineWidth,this.strokeContainThreshold)),function path_containStroke(pathProxy,lineWidth,x,y){return containPath(pathProxy,lineWidth,!0,x,y)}(pathProxy,lineWidth/lineScale,x,y)))return!0}if(this.hasFill())return function contain(pathProxy,x,y){return containPath(pathProxy,0,!1,x,y)}(pathProxy,x,y)}return!1},Path.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},Path.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},Path.prototype.animateShape=function(loop){return this.animate("shape",loop)},Path.prototype.updateDuringAnimation=function(targetKey){"style"===targetKey?this.dirtyStyle():"shape"===targetKey?this.dirtyShape():this.markRedraw()},Path.prototype.attrKV=function(key,value){"shape"===key?this.setShape(value):_super.prototype.attrKV.call(this,key,value)},Path.prototype.setShape=function(keyOrObj,value){var shape=this.shape;return shape||(shape=this.shape={}),"string"==typeof keyOrObj?shape[keyOrObj]=value:Object(util.extend)(shape,keyOrObj),this.dirtyShape(),this},Path.prototype.shapeChanged=function(){return!!(4&this.__dirty)},Path.prototype.createStyle=function(obj){return Object(util.createObject)(DEFAULT_PATH_STYLE,obj)},Path.prototype._innerSaveToNormal=function(toState){_super.prototype._innerSaveToNormal.call(this,toState);var normalState=this._normalState;toState.shape&&!normalState.shape&&(normalState.shape=Object(util.extend)({},this.shape))},Path.prototype._applyStateObj=function(stateName,state,normalState,keepCurrentStates,transition,animationCfg){_super.prototype._applyStateObj.call(this,stateName,state,normalState,keepCurrentStates,transition,animationCfg);var targetShape,needsRestoreToNormal=!(state&&keepCurrentStates);if(state&&state.shape?transition?keepCurrentStates?targetShape=state.shape:(targetShape=Object(util.extend)({},normalState.shape),Object(util.extend)(targetShape,state.shape)):(targetShape=Object(util.extend)({},keepCurrentStates?this.shape:normalState.shape),Object(util.extend)(targetShape,state.shape)):needsRestoreToNormal&&(targetShape=normalState.shape),targetShape)if(transition){this.shape=Object(util.extend)({},this.shape);for(var targetShapePrimaryProps={},shapeKeys=Object(util.keys)(targetShape),i=0;i<shapeKeys.length;i++){var key=shapeKeys[i];"object"==typeof targetShape[key]?this.shape[key]=targetShape[key]:targetShapePrimaryProps[key]=targetShape[key]}this._transitionState(stateName,{shape:targetShapePrimaryProps},animationCfg)}else this.shape=targetShape,this.dirtyShape()},Path.prototype._mergeStates=function(states){for(var mergedShape,mergedState=_super.prototype._mergeStates.call(this,states),i=0;i<states.length;i++){var state=states[i];state.shape&&(mergedShape=mergedShape||{},this._mergeStyle(mergedShape,state.shape))}return mergedShape&&(mergedState.shape=mergedShape),mergedState},Path.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},Path.prototype.isZeroArea=function(){return!1},Path.extend=function(defaultProps){var Sub=function(_super){function Sub(opts){var _this=_super.call(this,opts)||this;return defaultProps.init&&defaultProps.init.call(_this,opts),_this}return tslib_es6_extends(Sub,_super),Sub.prototype.getDefaultStyle=function(){return Object(util.clone)(defaultProps.style)},Sub.prototype.getDefaultShape=function(){return Object(util.clone)(defaultProps.shape)},Sub}(Path);for(var key in defaultProps)"function"==typeof defaultProps[key]&&(Sub.prototype[key]=defaultProps[key]);return Sub},Path.initDefaultProps=((pathProto=Path.prototype).type="path",pathProto.strokeContainThreshold=5,pathProto.segmentIgnoreThreshold=0,pathProto.subPixelOptimize=!1,pathProto.autoBatch=!1,void(pathProto.__dirty=7)),Path}(graphic_Displayable),DEFAULT_TSPAN_STYLE=Object(util.defaults)({strokeFirst:!0,font:platform.a,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan_TSpan=function(_super){function TSpan(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_es6_extends(TSpan,_super),TSpan.prototype.hasStroke=function(){var style=this.style,stroke=style.stroke;return null!=stroke&&"none"!==stroke&&style.lineWidth>0},TSpan.prototype.hasFill=function(){var fill=this.style.fill;return null!=fill&&"none"!==fill},TSpan.prototype.createStyle=function(obj){return Object(util.createObject)(DEFAULT_TSPAN_STYLE,obj)},TSpan.prototype.setBoundingRect=function(rect){this._rect=rect},TSpan.prototype.getBoundingRect=function(){var style=this.style;if(!this._rect){var text=style.text;null!=text?text+="":text="";var rect=getBoundingRect(text,style.font,style.textAlign,style.textBaseline);if(rect.x+=style.x||0,rect.y+=style.y||0,this.hasStroke()){var w=style.lineWidth;rect.x-=w/2,rect.y-=w/2,rect.width+=w,rect.height+=w}this._rect=rect}return this._rect},TSpan.initDefaultProps=void(TSpan.prototype.dirtyRectTolerance=10),TSpan}(graphic_Displayable);TSpan_TSpan.prototype.type="tspan";var graphic_TSpan=TSpan_TSpan,DEFAULT_IMAGE_STYLE=Object(util.defaults)({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:Object(util.defaults)({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};var Image_ZRImage=function(_super){function ZRImage(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_es6_extends(ZRImage,_super),ZRImage.prototype.createStyle=function(obj){return Object(util.createObject)(DEFAULT_IMAGE_STYLE,obj)},ZRImage.prototype._getSize=function(dim){var style=this.style,size=style[dim];if(null!=size)return size;var imageSource=function isImageLike(source){return!!(source&&"string"!=typeof source&&source.width&&source.height)}(style.image)?style.image:this.__image;if(!imageSource)return 0;var otherDim="width"===dim?"height":"width",otherDimSize=style[otherDim];return null==otherDimSize?imageSource[dim]:imageSource[dim]/imageSource[otherDim]*otherDimSize},ZRImage.prototype.getWidth=function(){return this._getSize("width")},ZRImage.prototype.getHeight=function(){return this._getSize("height")},ZRImage.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},ZRImage.prototype.getBoundingRect=function(){var style=this.style;return this._rect||(this._rect=new core_BoundingRect(style.x||0,style.y||0,this.getWidth(),this.getHeight())),this._rect},ZRImage}(graphic_Displayable);Image_ZRImage.prototype.type="image";var graphic_Image=Image_ZRImage;var subPixelOptimize_round=Math.round;function subPixelOptimizeLine(outputShape,inputShape,style){if(inputShape){var x1=inputShape.x1,x2=inputShape.x2,y1=inputShape.y1,y2=inputShape.y2;outputShape.x1=x1,outputShape.x2=x2,outputShape.y1=y1,outputShape.y2=y2;var lineWidth=style&&style.lineWidth;return lineWidth?(subPixelOptimize_round(2*x1)===subPixelOptimize_round(2*x2)&&(outputShape.x1=outputShape.x2=subPixelOptimize(x1,lineWidth,!0)),subPixelOptimize_round(2*y1)===subPixelOptimize_round(2*y2)&&(outputShape.y1=outputShape.y2=subPixelOptimize(y1,lineWidth,!0)),outputShape):outputShape}}function subPixelOptimizeRect(outputShape,inputShape,style){if(inputShape){var originX=inputShape.x,originY=inputShape.y,originWidth=inputShape.width,originHeight=inputShape.height;outputShape.x=originX,outputShape.y=originY,outputShape.width=originWidth,outputShape.height=originHeight;var lineWidth=style&&style.lineWidth;return lineWidth?(outputShape.x=subPixelOptimize(originX,lineWidth,!0),outputShape.y=subPixelOptimize(originY,lineWidth,!0),outputShape.width=Math.max(subPixelOptimize(originX+originWidth,lineWidth,!1)-outputShape.x,0===originWidth?0:1),outputShape.height=Math.max(subPixelOptimize(originY+originHeight,lineWidth,!1)-outputShape.y,0===originHeight?0:1),outputShape):outputShape}}function subPixelOptimize(position,lineWidth,positiveOrNegative){if(!lineWidth)return position;var doubledPosition=subPixelOptimize_round(2*position);return(doubledPosition+subPixelOptimize_round(lineWidth))%2==0?doubledPosition/2:(doubledPosition+(positiveOrNegative?1:-1))/2}var RectShape=function RectShape(){this.x=0,this.y=0,this.width=0,this.height=0},subPixelOptimizeOutputShape={},Rect_Rect=function(_super){function Rect(opts){return _super.call(this,opts)||this}return tslib_es6_extends(Rect,_super),Rect.prototype.getDefaultShape=function(){return new RectShape},Rect.prototype.buildPath=function(ctx,shape){var x,y,width,height;if(this.subPixelOptimize){var optimizedShape=subPixelOptimizeRect(subPixelOptimizeOutputShape,shape,this.style);x=optimizedShape.x,y=optimizedShape.y,width=optimizedShape.width,height=optimizedShape.height,optimizedShape.r=shape.r,shape=optimizedShape}else x=shape.x,y=shape.y,width=shape.width,height=shape.height;shape.r?function buildPath(ctx,shape){var r1,r2,r3,r4,total,x=shape.x,y=shape.y,width=shape.width,height=shape.height,r=shape.r;width<0&&(x+=width,width=-width),height<0&&(y+=height,height=-height),"number"==typeof r?r1=r2=r3=r4=r:r instanceof Array?1===r.length?r1=r2=r3=r4=r[0]:2===r.length?(r1=r3=r[0],r2=r4=r[1]):3===r.length?(r1=r[0],r2=r4=r[1],r3=r[2]):(r1=r[0],r2=r[1],r3=r[2],r4=r[3]):r1=r2=r3=r4=0,r1+r2>width&&(r1*=width/(total=r1+r2),r2*=width/total),r3+r4>width&&(r3*=width/(total=r3+r4),r4*=width/total),r2+r3>height&&(r2*=height/(total=r2+r3),r3*=height/total),r1+r4>height&&(r1*=height/(total=r1+r4),r4*=height/total),ctx.moveTo(x+r1,y),ctx.lineTo(x+width-r2,y),0!==r2&&ctx.arc(x+width-r2,y+r2,r2,-Math.PI/2,0),ctx.lineTo(x+width,y+height-r3),0!==r3&&ctx.arc(x+width-r3,y+height-r3,r3,0,Math.PI/2),ctx.lineTo(x+r4,y+height),0!==r4&&ctx.arc(x+r4,y+height-r4,r4,Math.PI/2,Math.PI),ctx.lineTo(x,y+r1),0!==r1&&ctx.arc(x+r1,y+r1,r1,Math.PI,1.5*Math.PI)}(ctx,shape):ctx.rect(x,y,width,height)},Rect.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},Rect}(graphic_Path);Rect_Rect.prototype.type="rect";var shape_Rect=Rect_Rect,DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_TEXT_ANIMATION_PROPS={style:Object(util.defaults)({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},Text_ZRText=function(_super){function ZRText(opts){var _this=_super.call(this)||this;return _this.type="text",_this._children=[],_this._defaultStyle=DEFAULT_RICH_TEXT_COLOR,_this.attr(opts),_this}return tslib_es6_extends(ZRText,_super),ZRText.prototype.childrenRef=function(){return this._children},ZRText.prototype.update=function(){_super.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var i=0;i<this._children.length;i++){var child=this._children[i];child.zlevel=this.zlevel,child.z=this.z,child.z2=this.z2,child.culling=this.culling,child.cursor=this.cursor,child.invisible=this.invisible}},ZRText.prototype.updateTransform=function(){var innerTransformable=this.innerTransformable;innerTransformable?(innerTransformable.updateTransform(),innerTransformable.transform&&(this.transform=innerTransformable.transform)):_super.prototype.updateTransform.call(this)},ZRText.prototype.getLocalTransform=function(m){var innerTransformable=this.innerTransformable;return innerTransformable?innerTransformable.getLocalTransform(m):_super.prototype.getLocalTransform.call(this,m)},ZRText.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),_super.prototype.getComputedTransform.call(this)},ZRText.prototype._updateSubTexts=function(){this._childCursor=0,function normalizeTextStyle(style){return normalizeStyle(style),Object(util.each)(style.rich,normalizeStyle),style}(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},ZRText.prototype.addSelfToZr=function(zr){_super.prototype.addSelfToZr.call(this,zr);for(var i=0;i<this._children.length;i++)this._children[i].__zr=zr},ZRText.prototype.removeSelfFromZr=function(zr){_super.prototype.removeSelfFromZr.call(this,zr);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},ZRText.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var tmpRect=new core_BoundingRect(0,0,0,0),children=this._children,tmpMat=[],rect=null,i=0;i<children.length;i++){var child=children[i],childRect=child.getBoundingRect(),transform=child.getLocalTransform(tmpMat);transform?(tmpRect.copy(childRect),tmpRect.applyTransform(transform),(rect=rect||tmpRect.clone()).union(tmpRect)):(rect=rect||childRect.clone()).union(childRect)}this._rect=rect||tmpRect}return this._rect},ZRText.prototype.setDefaultTextStyle=function(defaultTextStyle){this._defaultStyle=defaultTextStyle||DEFAULT_RICH_TEXT_COLOR},ZRText.prototype.setTextContent=function(textContent){0},ZRText.prototype._mergeStyle=function(targetStyle,sourceStyle){if(!sourceStyle)return targetStyle;var sourceRich=sourceStyle.rich,targetRich=targetStyle.rich||sourceRich&&{};return Object(util.extend)(targetStyle,sourceStyle),sourceRich&&targetRich?(this._mergeRich(targetRich,sourceRich),targetStyle.rich=targetRich):targetRich&&(targetStyle.rich=targetRich),targetStyle},ZRText.prototype._mergeRich=function(targetRich,sourceRich){for(var richNames=Object(util.keys)(sourceRich),i=0;i<richNames.length;i++){var richName=richNames[i];targetRich[richName]=targetRich[richName]||{},Object(util.extend)(targetRich[richName],sourceRich[richName])}},ZRText.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},ZRText.prototype._getOrCreateChild=function(Ctor){var child=this._children[this._childCursor];return child&&child instanceof Ctor||(child=new Ctor),this._children[this._childCursor++]=child,child.__zr=this.__zr,child.parent=this,child},ZRText.prototype._updatePlainTexts=function(){var style=this.style,textFont=style.font||platform.a,textPadding=style.padding,contentBlock=function parsePlainText(text,style){null!=text&&(text+="");var lines,overflow=style.overflow,padding=style.padding,font=style.font,truncate="truncate"===overflow,calculatedLineHeight=getLineHeight(font),lineHeight=Object(util.retrieve2)(style.lineHeight,calculatedLineHeight),bgColorDrawn=!!style.backgroundColor,truncateLineOverflow="truncate"===style.lineOverflow,width=style.width,contentHeight=(lines=null==width||"break"!==overflow&&"breakAll"!==overflow?text?text.split("\n"):[]:text?wrapText(text,style.font,width,"breakAll"===overflow,0).lines:[]).length*lineHeight,height=Object(util.retrieve2)(style.height,contentHeight);if(contentHeight>height&&truncateLineOverflow){var lineCount=Math.floor(height/lineHeight);lines=lines.slice(0,lineCount)}if(text&&truncate&&null!=width)for(var options=prepareTruncateOptions(width,font,style.ellipsis,{minChar:style.truncateMinChar,placeholder:style.placeholder}),i=0;i<lines.length;i++)lines[i]=truncateSingleLine(lines[i],options);var outerHeight=height,contentWidth=0;for(i=0;i<lines.length;i++)contentWidth=Math.max(getWidth(lines[i],font),contentWidth);null==width&&(width=contentWidth);var outerWidth=contentWidth;return padding&&(outerHeight+=padding[0]+padding[2],outerWidth+=padding[1]+padding[3],width+=padding[1]+padding[3]),bgColorDrawn&&(outerWidth=width),{lines:lines,height:height,outerWidth:outerWidth,outerHeight:outerHeight,lineHeight:lineHeight,calculatedLineHeight:calculatedLineHeight,contentWidth:contentWidth,contentHeight:contentHeight,width:width}}(getStyleText(style),style),needDrawBg=needDrawBackground(style),bgColorDrawn=!!style.backgroundColor,outerHeight=contentBlock.outerHeight,outerWidth=contentBlock.outerWidth,contentWidth=contentBlock.contentWidth,textLines=contentBlock.lines,lineHeight=contentBlock.lineHeight,defaultStyle=this._defaultStyle,baseX=style.x||0,baseY=style.y||0,textAlign=style.align||defaultStyle.align||"left",verticalAlign=style.verticalAlign||defaultStyle.verticalAlign||"top",textX=baseX,textY=adjustTextY(baseY,contentBlock.contentHeight,verticalAlign);if(needDrawBg||textPadding){var boxX=adjustTextX(baseX,outerWidth,textAlign),boxY=adjustTextY(baseY,outerHeight,verticalAlign);needDrawBg&&this._renderBackground(style,style,boxX,boxY,outerWidth,outerHeight)}textY+=lineHeight/2,textPadding&&(textX=getTextXForPadding(baseX,textAlign,textPadding),"top"===verticalAlign?textY+=textPadding[0]:"bottom"===verticalAlign&&(textY-=textPadding[2]));for(var defaultLineWidth=0,useDefaultFill=!1,textFill=(getFill("fill"in style?style.fill:(useDefaultFill=!0,defaultStyle.fill))),textStroke=(getStroke("stroke"in style?style.stroke:bgColorDrawn||defaultStyle.autoStroke&&!useDefaultFill?null:(defaultLineWidth=2,defaultStyle.stroke))),hasShadow=style.textShadowBlur>0,fixedBoundingRect=null!=style.width&&("truncate"===style.overflow||"break"===style.overflow||"breakAll"===style.overflow),calculatedLineHeight=contentBlock.calculatedLineHeight,i=0;i<textLines.length;i++){var el=this._getOrCreateChild(graphic_TSpan),subElStyle=el.createStyle();el.useStyle(subElStyle),subElStyle.text=textLines[i],subElStyle.x=textX,subElStyle.y=textY,textAlign&&(subElStyle.textAlign=textAlign),subElStyle.textBaseline="middle",subElStyle.opacity=style.opacity,subElStyle.strokeFirst=!0,hasShadow&&(subElStyle.shadowBlur=style.textShadowBlur||0,subElStyle.shadowColor=style.textShadowColor||"transparent",subElStyle.shadowOffsetX=style.textShadowOffsetX||0,subElStyle.shadowOffsetY=style.textShadowOffsetY||0),subElStyle.stroke=textStroke,subElStyle.fill=textFill,textStroke&&(subElStyle.lineWidth=style.lineWidth||defaultLineWidth,subElStyle.lineDash=style.lineDash,subElStyle.lineDashOffset=style.lineDashOffset||0),subElStyle.font=textFont,setSeparateFont(subElStyle,style),textY+=lineHeight,fixedBoundingRect&&el.setBoundingRect(new core_BoundingRect(adjustTextX(subElStyle.x,style.width,subElStyle.textAlign),adjustTextY(subElStyle.y,calculatedLineHeight,subElStyle.textBaseline),contentWidth,calculatedLineHeight))}},ZRText.prototype._updateRichTexts=function(){var style=this.style,contentBlock=function parseRichText(text,style){var contentBlock=new RichTextContentBlock;if(null!=text&&(text+=""),!text)return contentBlock;for(var result,topWidth=style.width,topHeight=style.height,overflow=style.overflow,wrapInfo="break"!==overflow&&"breakAll"!==overflow||null==topWidth?null:{width:topWidth,accumWidth:0,breakAll:"breakAll"===overflow},lastIndex=STYLE_REG.lastIndex=0;null!=(result=STYLE_REG.exec(text));){var matchedIndex=result.index;matchedIndex>lastIndex&&pushTokens(contentBlock,text.substring(lastIndex,matchedIndex),style,wrapInfo),pushTokens(contentBlock,result[2],style,wrapInfo,result[1]),lastIndex=STYLE_REG.lastIndex}lastIndex<text.length&&pushTokens(contentBlock,text.substring(lastIndex,text.length),style,wrapInfo);var pendingList=[],calculatedHeight=0,calculatedWidth=0,stlPadding=style.padding,truncate="truncate"===overflow,truncateLine="truncate"===style.lineOverflow;function finishLine(line,lineWidth,lineHeight){line.width=lineWidth,line.lineHeight=lineHeight,calculatedHeight+=lineHeight,calculatedWidth=Math.max(calculatedWidth,lineWidth)}outer:for(var i=0;i<contentBlock.lines.length;i++){for(var line=contentBlock.lines[i],lineHeight=0,lineWidth=0,j=0;j<line.tokens.length;j++){var tokenStyle=(token=line.tokens[j]).styleName&&style.rich[token.styleName]||{},textPadding=token.textPadding=tokenStyle.padding,paddingH=textPadding?textPadding[1]+textPadding[3]:0,font=token.font=tokenStyle.font||style.font;token.contentHeight=getLineHeight(font);var tokenHeight=Object(util.retrieve2)(tokenStyle.height,token.contentHeight);if(token.innerHeight=tokenHeight,textPadding&&(tokenHeight+=textPadding[0]+textPadding[2]),token.height=tokenHeight,token.lineHeight=Object(util.retrieve3)(tokenStyle.lineHeight,style.lineHeight,tokenHeight),token.align=tokenStyle&&tokenStyle.align||style.align,token.verticalAlign=tokenStyle&&tokenStyle.verticalAlign||"middle",truncateLine&&null!=topHeight&&calculatedHeight+token.lineHeight>topHeight){j>0?(line.tokens=line.tokens.slice(0,j),finishLine(line,lineWidth,lineHeight),contentBlock.lines=contentBlock.lines.slice(0,i+1)):contentBlock.lines=contentBlock.lines.slice(0,i);break outer}var styleTokenWidth=tokenStyle.width,tokenWidthNotSpecified=null==styleTokenWidth||"auto"===styleTokenWidth;if("string"==typeof styleTokenWidth&&"%"===styleTokenWidth.charAt(styleTokenWidth.length-1))token.percentWidth=styleTokenWidth,pendingList.push(token),token.contentWidth=getWidth(token.text,font);else{if(tokenWidthNotSpecified){var textBackgroundColor=tokenStyle.backgroundColor,bgImg=textBackgroundColor&&textBackgroundColor.image;bgImg&&isImageReady(bgImg=findExistImage(bgImg))&&(token.width=Math.max(token.width,bgImg.width*tokenHeight/bgImg.height))}var remainTruncWidth=truncate&&null!=topWidth?topWidth-lineWidth:null;null!=remainTruncWidth&&remainTruncWidth<token.width?!tokenWidthNotSpecified||remainTruncWidth<paddingH?(token.text="",token.width=token.contentWidth=0):(token.text=truncateText(token.text,remainTruncWidth-paddingH,font,style.ellipsis,{minChar:style.truncateMinChar}),token.width=token.contentWidth=getWidth(token.text,font)):token.contentWidth=getWidth(token.text,font)}token.width+=paddingH,lineWidth+=token.width,tokenStyle&&(lineHeight=Math.max(lineHeight,token.lineHeight))}finishLine(line,lineWidth,lineHeight)}for(contentBlock.outerWidth=contentBlock.width=Object(util.retrieve2)(topWidth,calculatedWidth),contentBlock.outerHeight=contentBlock.height=Object(util.retrieve2)(topHeight,calculatedHeight),contentBlock.contentHeight=calculatedHeight,contentBlock.contentWidth=calculatedWidth,stlPadding&&(contentBlock.outerWidth+=stlPadding[1]+stlPadding[3],contentBlock.outerHeight+=stlPadding[0]+stlPadding[2]),i=0;i<pendingList.length;i++){var token,percentWidth=(token=pendingList[i]).percentWidth;token.width=parseInt(percentWidth,10)/100*contentBlock.width}return contentBlock}(getStyleText(style),style),contentWidth=contentBlock.width,outerWidth=contentBlock.outerWidth,outerHeight=contentBlock.outerHeight,textPadding=style.padding,baseX=style.x||0,baseY=style.y||0,defaultStyle=this._defaultStyle,textAlign=style.align||defaultStyle.align,verticalAlign=style.verticalAlign||defaultStyle.verticalAlign,boxX=adjustTextX(baseX,outerWidth,textAlign),boxY=adjustTextY(baseY,outerHeight,verticalAlign),xLeft=boxX,lineTop=boxY;textPadding&&(xLeft+=textPadding[3],lineTop+=textPadding[0]);var xRight=xLeft+contentWidth;needDrawBackground(style)&&this._renderBackground(style,style,boxX,boxY,outerWidth,outerHeight);for(var bgColorDrawn=!!style.backgroundColor,i=0;i<contentBlock.lines.length;i++){for(var line=contentBlock.lines[i],tokens=line.tokens,tokenCount=tokens.length,lineHeight=line.lineHeight,remainedWidth=line.width,leftIndex=0,lineXLeft=xLeft,lineXRight=xRight,rightIndex=tokenCount-1,token=void 0;leftIndex<tokenCount&&(!(token=tokens[leftIndex]).align||"left"===token.align);)this._placeToken(token,style,lineHeight,lineTop,lineXLeft,"left",bgColorDrawn),remainedWidth-=token.width,lineXLeft+=token.width,leftIndex++;for(;rightIndex>=0&&"right"===(token=tokens[rightIndex]).align;)this._placeToken(token,style,lineHeight,lineTop,lineXRight,"right",bgColorDrawn),remainedWidth-=token.width,lineXRight-=token.width,rightIndex--;for(lineXLeft+=(contentWidth-(lineXLeft-xLeft)-(xRight-lineXRight)-remainedWidth)/2;leftIndex<=rightIndex;)token=tokens[leftIndex],this._placeToken(token,style,lineHeight,lineTop,lineXLeft+token.width/2,"center",bgColorDrawn),lineXLeft+=token.width,leftIndex++;lineTop+=lineHeight}},ZRText.prototype._placeToken=function(token,style,lineHeight,lineTop,x,textAlign,parentBgColorDrawn){var tokenStyle=style.rich[token.styleName]||{};tokenStyle.text=token.text;var verticalAlign=token.verticalAlign,y=lineTop+lineHeight/2;"top"===verticalAlign?y=lineTop+token.height/2:"bottom"===verticalAlign&&(y=lineTop+lineHeight-token.height/2),!token.isLineHolder&&needDrawBackground(tokenStyle)&&this._renderBackground(tokenStyle,style,"right"===textAlign?x-token.width:"center"===textAlign?x-token.width/2:x,y-token.height/2,token.width,token.height);var bgColorDrawn=!!tokenStyle.backgroundColor,textPadding=token.textPadding;textPadding&&(x=getTextXForPadding(x,textAlign,textPadding),y-=token.height/2-textPadding[0]-token.innerHeight/2);var el=this._getOrCreateChild(graphic_TSpan),subElStyle=el.createStyle();el.useStyle(subElStyle);var defaultStyle=this._defaultStyle,useDefaultFill=!1,defaultLineWidth=0,textFill=getFill("fill"in tokenStyle?tokenStyle.fill:"fill"in style?style.fill:(useDefaultFill=!0,defaultStyle.fill)),textStroke=getStroke("stroke"in tokenStyle?tokenStyle.stroke:"stroke"in style?style.stroke:bgColorDrawn||parentBgColorDrawn||defaultStyle.autoStroke&&!useDefaultFill?null:(defaultLineWidth=2,defaultStyle.stroke)),hasShadow=tokenStyle.textShadowBlur>0||style.textShadowBlur>0;subElStyle.text=token.text,subElStyle.x=x,subElStyle.y=y,hasShadow&&(subElStyle.shadowBlur=tokenStyle.textShadowBlur||style.textShadowBlur||0,subElStyle.shadowColor=tokenStyle.textShadowColor||style.textShadowColor||"transparent",subElStyle.shadowOffsetX=tokenStyle.textShadowOffsetX||style.textShadowOffsetX||0,subElStyle.shadowOffsetY=tokenStyle.textShadowOffsetY||style.textShadowOffsetY||0),subElStyle.textAlign=textAlign,subElStyle.textBaseline="middle",subElStyle.font=token.font||platform.a,subElStyle.opacity=Object(util.retrieve3)(tokenStyle.opacity,style.opacity,1),setSeparateFont(subElStyle,tokenStyle),textStroke&&(subElStyle.lineWidth=Object(util.retrieve3)(tokenStyle.lineWidth,style.lineWidth,defaultLineWidth),subElStyle.lineDash=Object(util.retrieve2)(tokenStyle.lineDash,style.lineDash),subElStyle.lineDashOffset=style.lineDashOffset||0,subElStyle.stroke=textStroke),textFill&&(subElStyle.fill=textFill);var textWidth=token.contentWidth,textHeight=token.contentHeight;el.setBoundingRect(new core_BoundingRect(adjustTextX(subElStyle.x,textWidth,subElStyle.textAlign),adjustTextY(subElStyle.y,textHeight,subElStyle.textBaseline),textWidth,textHeight))},ZRText.prototype._renderBackground=function(style,topStyle,x,y,width,height){var rectEl,imgEl,rectStyle,textBackgroundColor=style.backgroundColor,textBorderWidth=style.borderWidth,textBorderColor=style.borderColor,isImageBg=textBackgroundColor&&textBackgroundColor.image,isPlainOrGradientBg=textBackgroundColor&&!isImageBg,textBorderRadius=style.borderRadius,self=this;if(isPlainOrGradientBg||style.lineHeight||textBorderWidth&&textBorderColor){(rectEl=this._getOrCreateChild(shape_Rect)).useStyle(rectEl.createStyle()),rectEl.style.fill=null;var rectShape=rectEl.shape;rectShape.x=x,rectShape.y=y,rectShape.width=width,rectShape.height=height,rectShape.r=textBorderRadius,rectEl.dirtyShape()}if(isPlainOrGradientBg)(rectStyle=rectEl.style).fill=textBackgroundColor||null,rectStyle.fillOpacity=Object(util.retrieve2)(style.fillOpacity,1);else if(isImageBg){(imgEl=this._getOrCreateChild(graphic_Image)).onload=function(){self.dirtyStyle()};var imgStyle=imgEl.style;imgStyle.image=textBackgroundColor.image,imgStyle.x=x,imgStyle.y=y,imgStyle.width=width,imgStyle.height=height}textBorderWidth&&textBorderColor&&((rectStyle=rectEl.style).lineWidth=textBorderWidth,rectStyle.stroke=textBorderColor,rectStyle.strokeOpacity=Object(util.retrieve2)(style.strokeOpacity,1),rectStyle.lineDash=style.borderDash,rectStyle.lineDashOffset=style.borderDashOffset||0,rectEl.strokeContainThreshold=0,rectEl.hasFill()&&rectEl.hasStroke()&&(rectStyle.strokeFirst=!0,rectStyle.lineWidth*=2));var commonStyle=(rectEl||imgEl).style;commonStyle.shadowBlur=style.shadowBlur||0,commonStyle.shadowColor=style.shadowColor||"transparent",commonStyle.shadowOffsetX=style.shadowOffsetX||0,commonStyle.shadowOffsetY=style.shadowOffsetY||0,commonStyle.opacity=Object(util.retrieve3)(style.opacity,topStyle.opacity,1)},ZRText.makeFont=function(style){var font="";return hasSeparateFont(style)&&(font=[style.fontStyle,style.fontWeight,parseFontSize(style.fontSize),style.fontFamily||"sans-serif"].join(" ")),font&&Object(util.trim)(font)||style.textFont||style.font},ZRText}(graphic_Displayable),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(fontSize){return"string"!=typeof fontSize||-1===fontSize.indexOf("px")&&-1===fontSize.indexOf("rem")&&-1===fontSize.indexOf("em")?isNaN(+fontSize)?platform.c+"px":fontSize+"px":fontSize}function setSeparateFont(targetStyle,sourceStyle){for(var i=0;i<FONT_PARTS.length;i++){var fontProp=FONT_PARTS[i],val=sourceStyle[fontProp];null!=val&&(targetStyle[fontProp]=val)}}function hasSeparateFont(style){return null!=style.fontSize||style.fontFamily||style.fontWeight}function normalizeStyle(style){if(style){style.font=Text_ZRText.makeFont(style);var textAlign=style.align;"middle"===textAlign&&(textAlign="center"),style.align=null==textAlign||VALID_TEXT_ALIGN[textAlign]?textAlign:"left";var verticalAlign=style.verticalAlign;"center"===verticalAlign&&(verticalAlign="middle"),style.verticalAlign=null==verticalAlign||VALID_TEXT_VERTICAL_ALIGN[verticalAlign]?verticalAlign:"top",style.padding&&(style.padding=Object(util.normalizeCssArray)(style.padding))}}function getStroke(stroke,lineWidth){return null==stroke||lineWidth<=0||"transparent"===stroke||"none"===stroke?null:stroke.image||stroke.colorStops?"#000":stroke}function getFill(fill){return null==fill||"none"===fill?null:fill.image||fill.colorStops?"#000":fill}function getTextXForPadding(x,textAlign,textPadding){return"right"===textAlign?x-textPadding[1]:"center"===textAlign?x+textPadding[3]/2-textPadding[1]/2:x+textPadding[3]}function getStyleText(style){var text=style.text;return null!=text&&(text+=""),text}function needDrawBackground(style){return!!(style.backgroundColor||style.lineHeight||style.borderWidth&&style.borderColor)}var Text=Text_ZRText,getECData=makeInner(),setCommonECData=function(seriesIndex,dataType,dataIdx,el){if(el){var ecData=getECData(el);ecData.dataIndex=dataIdx,ecData.dataType=dataType,ecData.seriesIndex=seriesIndex,"group"===el.type&&el.traverse((function(child){var childECData=getECData(child);childECData.seriesIndex=seriesIndex,childECData.dataIndex=dataIdx,childECData.dataType=dataType}))}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"];function hasFillOrStroke(fillOrStroke){return null!=fillOrStroke&&"none"!==fillOrStroke}var liftedColorCache=new LRU.a(100);function liftColor(color){if(Object(util.isString)(color)){var liftedColor=liftedColorCache.get(color);return liftedColor||(liftedColor=tool_color.lift(color,-.1),liftedColorCache.put(color,liftedColor)),liftedColor}if(Object(util.isGradientObject)(color)){var ret=Object(util.extend)({},color);return ret.colorStops=Object(util.map)(color.colorStops,(function(stop){return{offset:stop.offset,color:tool_color.lift(stop.color,-.1)}})),ret}return color}function doChangeHoverState(el,stateName,hoverStateEnum){el.onHoverStateChange&&(el.hoverState||0)!==hoverStateEnum&&el.onHoverStateChange(stateName),el.hoverState=hoverStateEnum}function singleEnterEmphasis(el){doChangeHoverState(el,"emphasis",2)}function singleLeaveEmphasis(el){2===el.hoverState&&doChangeHoverState(el,"normal",0)}function singleEnterBlur(el){doChangeHoverState(el,"blur",1)}function singleLeaveBlur(el){1===el.hoverState&&doChangeHoverState(el,"normal",0)}function singleEnterSelect(el){el.selected=!0}function singleLeaveSelect(el){el.selected=!1}function updateElementState(el,updater,commonParam){updater(el,commonParam)}function traverseUpdateState(el,updater,commonParam){updateElementState(el,updater,commonParam),el.isGroup&&el.traverse((function(child){updateElementState(child,updater,commonParam)}))}function setStatesFlag(el,stateName){switch(stateName){case"emphasis":el.hoverState=2;break;case"normal":el.hoverState=0;break;case"blur":el.hoverState=1;break;case"select":el.selected=!0}}function elementStateProxy(stateName,targetStates){var state=this.states[stateName];if(this.style){if("emphasis"===stateName)return function createEmphasisDefaultState(el,stateName,targetStates,state){var hasSelect=targetStates&&Object(util.indexOf)(targetStates,"select")>=0,cloned=!1;if(el instanceof graphic_Path){var store=getSavedStates(el),fromFill=hasSelect&&store.selectFill||store.normalFill,fromStroke=hasSelect&&store.selectStroke||store.normalStroke;if(hasFillOrStroke(fromFill)||hasFillOrStroke(fromStroke)){var emphasisStyle=(state=state||{}).style||{};"inherit"===emphasisStyle.fill?(cloned=!0,state=Object(util.extend)({},state),(emphasisStyle=Object(util.extend)({},emphasisStyle)).fill=fromFill):!hasFillOrStroke(emphasisStyle.fill)&&hasFillOrStroke(fromFill)?(cloned=!0,state=Object(util.extend)({},state),(emphasisStyle=Object(util.extend)({},emphasisStyle)).fill=liftColor(fromFill)):!hasFillOrStroke(emphasisStyle.stroke)&&hasFillOrStroke(fromStroke)&&(cloned||(state=Object(util.extend)({},state),emphasisStyle=Object(util.extend)({},emphasisStyle)),emphasisStyle.stroke=liftColor(fromStroke)),state.style=emphasisStyle}}if(state&&null==state.z2){cloned||(state=Object(util.extend)({},state));var z2EmphasisLift=el.z2EmphasisLift;state.z2=el.z2+(null!=z2EmphasisLift?z2EmphasisLift:10)}return state}(this,0,targetStates,state);if("blur"===stateName)return function createBlurDefaultState(el,stateName,state){var hasBlur=Object(util.indexOf)(el.currentStates,stateName)>=0,currentOpacity=el.style.opacity,fromState=hasBlur?null:function getFromStateStyle(el,props,toStateName,defaultValue){for(var style=el.style,fromState={},i=0;i<props.length;i++){var propName=props[i],val=style[propName];fromState[propName]=null==val?defaultValue&&defaultValue[propName]:val}for(i=0;i<el.animators.length;i++){var animator=el.animators[i];animator.__fromStateTransition&&animator.__fromStateTransition.indexOf(toStateName)<0&&"style"===animator.targetName&&animator.saveTo(fromState,props)}return fromState}(el,["opacity"],stateName,{opacity:1}),blurStyle=(state=state||{}).style||{};return null==blurStyle.opacity&&(state=Object(util.extend)({},state),blurStyle=Object(util.extend)({opacity:hasBlur?currentOpacity:.1*fromState.opacity},blurStyle),state.style=blurStyle),state}(this,stateName,state);if("select"===stateName)return function createSelectDefaultState(el,stateName,state){if(state&&null==state.z2){state=Object(util.extend)({},state);var z2SelectLift=el.z2SelectLift;state.z2=el.z2+(null!=z2SelectLift?z2SelectLift:9)}return state}(this,0,state)}return state}function setDefaultStateProxy(el){el.stateProxy=elementStateProxy;var textContent=el.getTextContent(),textGuide=el.getTextGuideLine();textContent&&(textContent.stateProxy=elementStateProxy),textGuide&&(textGuide.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(el,e){!shouldSilent(el,e)&&!el.__highByOuter&&traverseUpdateState(el,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(el,e){!shouldSilent(el,e)&&!el.__highByOuter&&traverseUpdateState(el,singleLeaveEmphasis)}function enterEmphasis(el,highlightDigit){el.__highByOuter|=1<<(highlightDigit||0),traverseUpdateState(el,singleEnterEmphasis)}function leaveEmphasis(el,highlightDigit){!(el.__highByOuter&=~(1<<(highlightDigit||0)))&&traverseUpdateState(el,singleLeaveEmphasis)}function enterBlur(el){traverseUpdateState(el,singleEnterBlur)}function leaveBlur(el){traverseUpdateState(el,singleLeaveBlur)}function enterSelect(el){traverseUpdateState(el,singleEnterSelect)}function leaveSelect(el){traverseUpdateState(el,singleLeaveSelect)}function shouldSilent(el,e){return el.__highDownSilentOnTouch&&e.zrByTouch}function allLeaveBlur(api){var model=api.getModel(),leaveBlurredSeries=[],allComponentViews=[];model.eachComponent((function(componentType,componentModel){var componentStates=getComponentStates(componentModel),isSeries="series"===componentType,view=isSeries?api.getViewOfSeriesModel(componentModel):api.getViewOfComponentModel(componentModel);!isSeries&&allComponentViews.push(view),componentStates.isBlured&&(view.group.traverse((function(child){singleLeaveBlur(child)})),isSeries&&leaveBlurredSeries.push(componentModel)),componentStates.isBlured=!1})),Object(util.each)(allComponentViews,(function(view){view&&view.toggleBlurSeries&&view.toggleBlurSeries(leaveBlurredSeries,!1,model)}))}function blurSeries(targetSeriesIndex,focus,blurScope,api){var ecModel=api.getModel();function leaveBlurOfIndices(data,dataIndices){for(var i=0;i<dataIndices.length;i++){var itemEl=data.getItemGraphicEl(dataIndices[i]);itemEl&&leaveBlur(itemEl)}}if(blurScope=blurScope||"coordinateSystem",null!=targetSeriesIndex&&focus&&"none"!==focus){var targetSeriesModel=ecModel.getSeriesByIndex(targetSeriesIndex),targetCoordSys=targetSeriesModel.coordinateSystem;targetCoordSys&&targetCoordSys.master&&(targetCoordSys=targetCoordSys.master);var blurredSeries=[];ecModel.eachSeries((function(seriesModel){var sameSeries=targetSeriesModel===seriesModel,coordSys=seriesModel.coordinateSystem;if(coordSys&&coordSys.master&&(coordSys=coordSys.master),!("series"===blurScope&&!sameSeries||"coordinateSystem"===blurScope&&!(coordSys&&targetCoordSys?coordSys===targetCoordSys:sameSeries)||"series"===focus&&sameSeries)){if(api.getViewOfSeriesModel(seriesModel).group.traverse((function(child){singleEnterBlur(child)})),Object(util.isArrayLike)(focus))leaveBlurOfIndices(seriesModel.getData(),focus);else if(Object(util.isObject)(focus))for(var dataTypes=Object(util.keys)(focus),d=0;d<dataTypes.length;d++)leaveBlurOfIndices(seriesModel.getData(dataTypes[d]),focus[dataTypes[d]]);blurredSeries.push(seriesModel),getComponentStates(seriesModel).isBlured=!0}})),ecModel.eachComponent((function(componentType,componentModel){if("series"!==componentType){var view=api.getViewOfComponentModel(componentModel);view&&view.toggleBlurSeries&&view.toggleBlurSeries(blurredSeries,!0,ecModel)}}))}}function blurComponent(componentMainType,componentIndex,api){if(null!=componentMainType&&null!=componentIndex){var componentModel=api.getModel().getComponent(componentMainType,componentIndex);if(componentModel){getComponentStates(componentModel).isBlured=!0;var view=api.getViewOfComponentModel(componentModel);view&&view.focusBlurEnabled&&view.group.traverse((function(child){singleEnterBlur(child)}))}}}function findComponentHighDownDispatchers(componentMainType,componentIndex,name,api){var ret={focusSelf:!1,dispatchers:null};if(null==componentMainType||"series"===componentMainType||null==componentIndex||null==name)return ret;var componentModel=api.getModel().getComponent(componentMainType,componentIndex);if(!componentModel)return ret;var view=api.getViewOfComponentModel(componentModel);if(!view||!view.findHighDownDispatchers)return ret;for(var focusSelf,dispatchers=view.findHighDownDispatchers(name),i=0;i<dispatchers.length;i++)if("self"===getECData(dispatchers[i]).focus){focusSelf=!0;break}return{focusSelf:focusSelf,dispatchers:dispatchers}}function updateSeriesElementSelection(seriesModel){var allData=seriesModel.getAllData();Object(util.each)(allData,(function(_a){var data=_a.data,type=_a.type;data.eachItemGraphicEl((function(el,idx){seriesModel.isSelected(idx,type)?enterSelect(el):leaveSelect(el)}))}))}function getAllSelectedIndices(ecModel){var ret=[];return ecModel.eachSeries((function(seriesModel){var allData=seriesModel.getAllData();Object(util.each)(allData,(function(_a){_a.data;var type=_a.type,dataIndices=seriesModel.getSelectedDataIndices();if(dataIndices.length>0){var item={dataIndex:dataIndices,seriesIndex:seriesModel.seriesIndex};null!=type&&(item.dataType=type),ret.push(item)}}))})),ret}function enableHoverEmphasis(el,focus,blurScope){setAsHighDownDispatcher(el,!0),traverseUpdateState(el,setDefaultStateProxy),enableHoverFocus(el,focus,blurScope)}function toggleHoverEmphasis(el,focus,blurScope,isDisabled){isDisabled?function disableHoverEmphasis(el){setAsHighDownDispatcher(el,!1)}(el):enableHoverEmphasis(el,focus,blurScope)}function enableHoverFocus(el,focus,blurScope){var ecData=getECData(el);null!=focus?(ecData.focus=focus,ecData.blurScope=blurScope):ecData.focus&&(ecData.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(el,itemModel,styleType,getter){styleType=styleType||"itemStyle";for(var i=0;i<OTHER_STATES.length;i++){var stateName=OTHER_STATES[i],model=itemModel.getModel([stateName,styleType]);el.ensureState(stateName).style=getter?getter(model):model[defaultStyleGetterMap[styleType]]()}}function setAsHighDownDispatcher(el,asDispatcher){var disable=!1===asDispatcher,extendedEl=el;el.highDownSilentOnTouch&&(extendedEl.__highDownSilentOnTouch=el.highDownSilentOnTouch),disable&&!extendedEl.__highDownDispatcher||(extendedEl.__highByOuter=extendedEl.__highByOuter||0,extendedEl.__highDownDispatcher=!disable)}function isHighDownDispatcher(el){return!(!el||!el.__highDownDispatcher)}function isSelectChangePayload(payload){var payloadType=payload.type;return"select"===payloadType||"unselect"===payloadType||"toggleSelect"===payloadType}function isHighDownPayload(payload){var payloadType=payload.type;return"highlight"===payloadType||"downplay"===payloadType}var transitionStore=makeInner();function getAnimationConfig(animationType,animatableModel,dataIndex,extraOpts,extraDelayParams){var animationPayload;if(animatableModel&&animatableModel.ecModel){var updatePayload=animatableModel.ecModel.getUpdatePayload();animationPayload=updatePayload&&updatePayload.animation}var isUpdate="update"===animationType;if(animatableModel&&animatableModel.isAnimationEnabled()){var duration=void 0,easing=void 0,delay=void 0;return extraOpts?(duration=Object(util.retrieve2)(extraOpts.duration,200),easing=Object(util.retrieve2)(extraOpts.easing,"cubicOut"),delay=0):(duration=animatableModel.getShallow(isUpdate?"animationDurationUpdate":"animationDuration"),easing=animatableModel.getShallow(isUpdate?"animationEasingUpdate":"animationEasing"),delay=animatableModel.getShallow(isUpdate?"animationDelayUpdate":"animationDelay")),animationPayload&&(null!=animationPayload.duration&&(duration=animationPayload.duration),null!=animationPayload.easing&&(easing=animationPayload.easing),null!=animationPayload.delay&&(delay=animationPayload.delay)),Object(util.isFunction)(delay)&&(delay=delay(dataIndex,extraDelayParams)),Object(util.isFunction)(duration)&&(duration=duration(dataIndex)),{duration:duration||0,delay:delay,easing:easing}}return null}function animateOrSetProps(animationType,el,props,animatableModel,dataIndex,cb,during){var removeOpt,isFrom=!1;Object(util.isFunction)(dataIndex)?(during=cb,cb=dataIndex,dataIndex=null):Object(util.isObject)(dataIndex)&&(cb=dataIndex.cb,during=dataIndex.during,isFrom=dataIndex.isFrom,removeOpt=dataIndex.removeOpt,dataIndex=dataIndex.dataIndex);var isRemove="leave"===animationType;isRemove||el.stopAnimation("leave");var animationConfig=getAnimationConfig(animationType,animatableModel,dataIndex,isRemove?removeOpt||{}:null,animatableModel&&animatableModel.getAnimationDelayParams?animatableModel.getAnimationDelayParams(el,dataIndex):null);if(animationConfig&&animationConfig.duration>0){var animateConfig={duration:animationConfig.duration,delay:animationConfig.delay||0,easing:animationConfig.easing,done:cb,force:!!cb||!!during,setToFinal:!isRemove,scope:animationType,during:during};isFrom?el.animateFrom(props,animateConfig):el.animateTo(props,animateConfig)}else el.stopAnimation(),!isFrom&&el.attr(props),during&&during(1),cb&&cb()}function updateProps(el,props,animatableModel,dataIndex,cb,during){animateOrSetProps("update",el,props,animatableModel,dataIndex,cb,during)}function initProps(el,props,animatableModel,dataIndex,cb,during){animateOrSetProps("enter",el,props,animatableModel,dataIndex,cb,during)}function isElementRemoved(el){if(!el.__zr)return!0;for(var i=0;i<el.animators.length;i++){if("leave"===el.animators[i].scope)return!0}return!1}function removeElement(el,props,animatableModel,dataIndex,cb,during){isElementRemoved(el)||animateOrSetProps("leave",el,props,animatableModel,dataIndex,cb,during)}function fadeOutDisplayable(el,animatableModel,dataIndex,done){el.removeTextContent(),el.removeTextGuideLine(),removeElement(el,{style:{opacity:0}},animatableModel,dataIndex,done)}function removeElementWithFadeOut(el,animatableModel,dataIndex){function doRemove(){el.parent&&el.parent.remove(el)}el.isGroup?el.traverse((function(disp){disp.isGroup||fadeOutDisplayable(disp,animatableModel,dataIndex,doRemove)})):fadeOutDisplayable(el,animatableModel,dataIndex,doRemove)}function saveOldStyle(el){transitionStore(el).oldStyle=el.style}var EMPTY_OBJ={};function setLabelText(label,labelTexts){for(var i=0;i<SPECIAL_STATES.length;i++){var stateName=SPECIAL_STATES[i],text=labelTexts[stateName],state=label.ensureState(stateName);state.style=state.style||{},state.style.text=text}var oldStates=label.currentStates.slice();label.clearStates(!0),label.setStyle({text:labelTexts.normal}),label.useStates(oldStates,!0)}function getLabelText(opt,stateModels,interpolatedValue){var baseText,labelFetcher=opt.labelFetcher,labelDataIndex=opt.labelDataIndex,labelDimIndex=opt.labelDimIndex,normalModel=stateModels.normal;labelFetcher&&(baseText=labelFetcher.getFormattedLabel(labelDataIndex,"normal",null,labelDimIndex,normalModel&&normalModel.get("formatter"),null!=interpolatedValue?{interpolatedValue:interpolatedValue}:null)),null==baseText&&(baseText=Object(util.isFunction)(opt.defaultText)?opt.defaultText(labelDataIndex,opt,interpolatedValue):opt.defaultText);for(var statesText={normal:baseText},i=0;i<SPECIAL_STATES.length;i++){var stateName=SPECIAL_STATES[i],stateModel=stateModels[stateName];statesText[stateName]=Object(util.retrieve2)(labelFetcher?labelFetcher.getFormattedLabel(labelDataIndex,stateName,null,labelDimIndex,stateModel&&stateModel.get("formatter")):null,baseText)}return statesText}function setLabelStyle(targetEl,labelStatesModels,opt,stateSpecified){opt=opt||EMPTY_OBJ;for(var isSetOnText=targetEl instanceof Text,needsCreateText=!1,i=0;i<DISPLAY_STATES.length;i++){if((stateModel=labelStatesModels[DISPLAY_STATES[i]])&&stateModel.getShallow("show")){needsCreateText=!0;break}}var textContent=isSetOnText?targetEl:targetEl.getTextContent();if(needsCreateText){isSetOnText||(textContent||(textContent=new Text,targetEl.setTextContent(textContent)),targetEl.stateProxy&&(textContent.stateProxy=targetEl.stateProxy));var labelStatesTexts=getLabelText(opt,labelStatesModels),normalModel=labelStatesModels.normal,showNormal=!!normalModel.getShallow("show"),normalStyle=createTextStyle(normalModel,stateSpecified&&stateSpecified.normal,opt,!1,!isSetOnText);normalStyle.text=labelStatesTexts.normal,isSetOnText||targetEl.setTextConfig(createTextConfig(normalModel,opt,!1));for(i=0;i<SPECIAL_STATES.length;i++){var stateModel,stateName=SPECIAL_STATES[i];if(stateModel=labelStatesModels[stateName]){var stateObj=textContent.ensureState(stateName),stateShow=!!Object(util.retrieve2)(stateModel.getShallow("show"),showNormal);if(stateShow!==showNormal&&(stateObj.ignore=!stateShow),stateObj.style=createTextStyle(stateModel,stateSpecified&&stateSpecified[stateName],opt,!0,!isSetOnText),stateObj.style.text=labelStatesTexts[stateName],!isSetOnText)targetEl.ensureState(stateName).textConfig=createTextConfig(stateModel,opt,!0)}}textContent.silent=!!normalModel.getShallow("silent"),null!=textContent.style.x&&(normalStyle.x=textContent.style.x),null!=textContent.style.y&&(normalStyle.y=textContent.style.y),textContent.ignore=!showNormal,textContent.useStyle(normalStyle),textContent.dirty(),opt.enableTextSetter&&(labelInner(textContent).setLabelText=function(interpolatedValue){var labelStatesTexts=getLabelText(opt,labelStatesModels,interpolatedValue);setLabelText(textContent,labelStatesTexts)})}else textContent&&(textContent.ignore=!0);targetEl.dirty()}function getLabelStatesModels(itemModel,labelName){labelName=labelName||"label";for(var statesModels={normal:itemModel.getModel(labelName)},i=0;i<SPECIAL_STATES.length;i++){var stateName=SPECIAL_STATES[i];statesModels[stateName]=itemModel.getModel([stateName,labelName])}return statesModels}function createTextStyle(textStyleModel,specifiedTextStyle,opt,isNotNormal,isAttached){var textStyle={};return function setTextStyleCommon(textStyle,textStyleModel,opt,isNotNormal,isAttached){opt=opt||EMPTY_OBJ;var richResult,ecModel=textStyleModel.ecModel,globalTextStyle=ecModel&&ecModel.option.textStyle,richItemNames=function getRichItemNames(textStyleModel){var richItemNameMap;for(;textStyleModel&&textStyleModel!==textStyleModel.ecModel;){var rich=(textStyleModel.option||EMPTY_OBJ).rich;if(rich){richItemNameMap=richItemNameMap||{};for(var richKeys=Object(util.keys)(rich),i=0;i<richKeys.length;i++){richItemNameMap[richKeys[i]]=1}}textStyleModel=textStyleModel.parentModel}return richItemNameMap}(textStyleModel);if(richItemNames)for(var name_1 in richResult={},richItemNames)if(richItemNames.hasOwnProperty(name_1)){var richTextStyle=textStyleModel.getModel(["rich",name_1]);setTokenTextStyle(richResult[name_1]={},richTextStyle,globalTextStyle,opt,isNotNormal,isAttached,!1,!0)}richResult&&(textStyle.rich=richResult);var overflow=textStyleModel.get("overflow");overflow&&(textStyle.overflow=overflow);var margin=textStyleModel.get("minMargin");null!=margin&&(textStyle.margin=margin);setTokenTextStyle(textStyle,textStyleModel,globalTextStyle,opt,isNotNormal,isAttached,!0,!1)}(textStyle,textStyleModel,opt,isNotNormal,isAttached),specifiedTextStyle&&Object(util.extend)(textStyle,specifiedTextStyle),textStyle}function createTextConfig(textStyleModel,opt,isNotNormal){opt=opt||{};var labelPosition,textConfig={},labelRotate=textStyleModel.getShallow("rotate"),labelDistance=Object(util.retrieve2)(textStyleModel.getShallow("distance"),isNotNormal?null:5),labelOffset=textStyleModel.getShallow("offset");return"outside"===(labelPosition=textStyleModel.getShallow("position")||(isNotNormal?null:"inside"))&&(labelPosition=opt.defaultOutsidePosition||"top"),null!=labelPosition&&(textConfig.position=labelPosition),null!=labelOffset&&(textConfig.offset=labelOffset),null!=labelRotate&&(labelRotate*=Math.PI/180,textConfig.rotation=labelRotate),null!=labelDistance&&(textConfig.distance=labelDistance),textConfig.outsideFill="inherit"===textStyleModel.get("color")?opt.inheritColor||null:"auto",textConfig}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(textStyle,textStyleModel,globalTextStyle,opt,isNotNormal,isAttached,isBlock,inRich){globalTextStyle=!isNotNormal&&globalTextStyle||EMPTY_OBJ;var inheritColor=opt&&opt.inheritColor,fillColor=textStyleModel.getShallow("color"),strokeColor=textStyleModel.getShallow("textBorderColor"),opacity=Object(util.retrieve2)(textStyleModel.getShallow("opacity"),globalTextStyle.opacity);"inherit"!==fillColor&&"auto"!==fillColor||(fillColor=inheritColor||null),"inherit"!==strokeColor&&"auto"!==strokeColor||(strokeColor=inheritColor||null),isAttached||(fillColor=fillColor||globalTextStyle.color,strokeColor=strokeColor||globalTextStyle.textBorderColor),null!=fillColor&&(textStyle.fill=fillColor),null!=strokeColor&&(textStyle.stroke=strokeColor);var textBorderWidth=Object(util.retrieve2)(textStyleModel.getShallow("textBorderWidth"),globalTextStyle.textBorderWidth);null!=textBorderWidth&&(textStyle.lineWidth=textBorderWidth);var textBorderType=Object(util.retrieve2)(textStyleModel.getShallow("textBorderType"),globalTextStyle.textBorderType);null!=textBorderType&&(textStyle.lineDash=textBorderType);var textBorderDashOffset=Object(util.retrieve2)(textStyleModel.getShallow("textBorderDashOffset"),globalTextStyle.textBorderDashOffset);null!=textBorderDashOffset&&(textStyle.lineDashOffset=textBorderDashOffset),isNotNormal||null!=opacity||inRich||(opacity=opt&&opt.defaultOpacity),null!=opacity&&(textStyle.opacity=opacity),isNotNormal||isAttached||null==textStyle.fill&&opt.inheritColor&&(textStyle.fill=opt.inheritColor);for(var i=0;i<TEXT_PROPS_WITH_GLOBAL.length;i++){var key=TEXT_PROPS_WITH_GLOBAL[i];null!=(val=Object(util.retrieve2)(textStyleModel.getShallow(key),globalTextStyle[key]))&&(textStyle[key]=val)}for(i=0;i<TEXT_PROPS_SELF.length;i++){key=TEXT_PROPS_SELF[i];null!=(val=textStyleModel.getShallow(key))&&(textStyle[key]=val)}if(null==textStyle.verticalAlign){var baseline=textStyleModel.getShallow("baseline");null!=baseline&&(textStyle.verticalAlign=baseline)}if(!isBlock||!opt.disableBox){for(i=0;i<TEXT_PROPS_BOX.length;i++){var val;key=TEXT_PROPS_BOX[i];null!=(val=textStyleModel.getShallow(key))&&(textStyle[key]=val)}var borderType=textStyleModel.getShallow("borderType");null!=borderType&&(textStyle.borderDash=borderType),"auto"!==textStyle.backgroundColor&&"inherit"!==textStyle.backgroundColor||!inheritColor||(textStyle.backgroundColor=inheritColor),"auto"!==textStyle.borderColor&&"inherit"!==textStyle.borderColor||!inheritColor||(textStyle.borderColor=inheritColor)}}function getFont(opt,ecModel){var gTextStyleModel=ecModel&&ecModel.getModel("textStyle");return Object(util.trim)([opt.fontStyle||gTextStyleModel&&gTextStyleModel.getShallow("fontStyle")||"",opt.fontWeight||gTextStyleModel&&gTextStyleModel.getShallow("fontWeight")||"",(opt.fontSize||gTextStyleModel&&gTextStyleModel.getShallow("fontSize")||12)+"px",opt.fontFamily||gTextStyleModel&&gTextStyleModel.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner();function setLabelValueAnimation(label,labelStatesModels,value,getDefaultText){if(label){var obj=labelInner(label);obj.prevValue=obj.value,obj.value=value;var normalLabelModel=labelStatesModels.normal;obj.valueAnimation=normalLabelModel.get("valueAnimation"),obj.valueAnimation&&(obj.precision=normalLabelModel.get("precision"),obj.defaultInterpolatedText=getDefaultText,obj.statesModels=labelStatesModels)}}function animateLabelValue(textEl,dataIndex,data,animatableModel,labelFetcher){var labelInnerStore=labelInner(textEl);if(labelInnerStore.valueAnimation&&labelInnerStore.prevValue!==labelInnerStore.value){var defaultInterpolatedText=labelInnerStore.defaultInterpolatedText,currValue=Object(util.retrieve2)(labelInnerStore.interpolatedValue,labelInnerStore.prevValue),targetValue=labelInnerStore.value;textEl.percent=0,(null==labelInnerStore.prevValue?initProps:updateProps)(textEl,{percent:1},animatableModel,dataIndex,null,(function during(percent){var interpolated=interpolateRawValues(data,labelInnerStore.precision,currValue,targetValue,percent);labelInnerStore.interpolatedValue=1===percent?null:interpolated;var labelText=getLabelText({labelDataIndex:dataIndex,labelFetcher:labelFetcher,defaultText:defaultInterpolatedText?defaultInterpolatedText(interpolated):interpolated+""},labelInnerStore.statesModels,interpolated);setLabelText(textEl,labelText)}))}}var PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new Text,mixin_textStyle=function(){function TextStyleMixin(){}return TextStyleMixin.prototype.getTextColor=function(isEmphasis){var ecModel=this.ecModel;return this.getShallow("color")||(!isEmphasis&&ecModel?ecModel.get(PATH_COLOR):null)},TextStyleMixin.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},TextStyleMixin.prototype.getTextRect=function(text){for(var style={text:text,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<textStyleParams.length;i++)style[textStyleParams[i]]=this.getShallow(textStyleParams[i]);return tmpText.useStyle(style),tmpText.update(),tmpText.getBoundingRect()},TextStyleMixin}(),LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function LineStyleMixin(){}return LineStyleMixin.prototype.getLineStyle=function(excludes){return getLineStyle(this,excludes)},LineStyleMixin}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function ItemStyleMixin(){}return ItemStyleMixin.prototype.getItemStyle=function(excludes,includes){return getItemStyle(this,excludes,includes)},ItemStyleMixin}(),Model_Model=function(){function Model(option,parentModel,ecModel){this.parentModel=parentModel,this.ecModel=ecModel,this.option=option}return Model.prototype.init=function(option,parentModel,ecModel){for(var rest=[],_i=3;_i<arguments.length;_i++)rest[_i-3]=arguments[_i]},Model.prototype.mergeOption=function(option,ecModel){Object(util.merge)(this.option,option,!0)},Model.prototype.get=function(path,ignoreParent){return null==path?this.option:this._doGet(this.parsePath(path),!ignoreParent&&this.parentModel)},Model.prototype.getShallow=function(key,ignoreParent){var option=this.option,val=null==option?option:option[key];if(null==val&&!ignoreParent){var parentModel=this.parentModel;parentModel&&(val=parentModel.getShallow(key))}return val},Model.prototype.getModel=function(path,parentModel){var hasPath=null!=path,pathFinal=hasPath?this.parsePath(path):null;return new Model(hasPath?this._doGet(pathFinal):this.option,parentModel=parentModel||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(pathFinal)),this.ecModel)},Model.prototype.isEmpty=function(){return null==this.option},Model.prototype.restoreData=function(){},Model.prototype.clone=function(){return new(0,this.constructor)(Object(util.clone)(this.option))},Model.prototype.parsePath=function(path){return"string"==typeof path?path.split("."):path},Model.prototype.resolveParentPath=function(path){return path},Model.prototype.isAnimationEnabled=function(){if(!env.a.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},Model.prototype._doGet=function(pathArr,parentModel){var obj=this.option;if(!pathArr)return obj;for(var i=0;i<pathArr.length&&(!pathArr[i]||null!=(obj=obj&&"object"==typeof obj?obj[pathArr[i]]:null));i++);return null==obj&&parentModel&&(obj=parentModel._doGet(this.resolveParentPath(pathArr),parentModel.parentModel)),obj},Model}();enableClassExtend(Model_Model),function enableClassCheck(target){var classAttr=["__\0is_clz",classBase++].join("_");target.prototype[classAttr]=!0,target.isInstance=function(obj){return!(!obj||!obj[classAttr])}}(Model_Model),Object(util.mixin)(Model_Model,LineStyleMixin),Object(util.mixin)(Model_Model,ItemStyleMixin),Object(util.mixin)(Model_Model,AreaStyleMixin),Object(util.mixin)(Model_Model,mixin_textStyle);var model_Model=Model_Model,component_base=Math.round(10*Math.random());function getUID(type){return[type||"",component_base++].join("_")}function inheritDefaultOption(superOption,subOption){return util.merge(util.merge({},superOption,!0),subOption,!0)}var localeStorage={},localeModels={},SYSTEM_LANG=env.a.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function registerLocale(locale,localeObj){locale=locale.toUpperCase(),localeModels[locale]=new model_Model(localeObj),localeStorage[locale]=localeObj}function getLocaleModel(lang){return localeModels[lang]}registerLocale("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),registerLocale("ZH",{time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}});var defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:"{yyyy}-{MM}-{dd}",hour:"{yyyy}-{MM}-{dd} "+defaultLeveledFormatter.hour,minute:"{yyyy}-{MM}-{dd} "+defaultLeveledFormatter.minute,second:"{yyyy}-{MM}-{dd} "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(str,len){return"0000".substr(0,len-(str+="").length)+str}function getPrimaryTimeUnit(timeUnit){switch(timeUnit){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return timeUnit}}function isPrimaryTimeUnit(timeUnit){return timeUnit===getPrimaryTimeUnit(timeUnit)}function format(time,template,isUTC,lang){var date=parseDate(time),y=date[fullYearGetterName(isUTC)](),M=date[monthGetterName(isUTC)]()+1,q=Math.floor((M-1)/4)+1,d=date[dateGetterName(isUTC)](),e=date["get"+(isUTC?"UTC":"")+"Day"](),H=date[hoursGetterName(isUTC)](),h=(H-1)%12+1,m=date[minutesGetterName(isUTC)](),s=date[secondsGetterName(isUTC)](),S=date[millisecondsGetterName(isUTC)](),timeModel=(lang instanceof model_Model?lang:getLocaleModel(lang||SYSTEM_LANG)||function getDefaultLocaleModel(){return localeModels.EN}()).getModel("time"),month=timeModel.get("month"),monthAbbr=timeModel.get("monthAbbr"),dayOfWeek=timeModel.get("dayOfWeek"),dayOfWeekAbbr=timeModel.get("dayOfWeekAbbr");return(template||"").replace(/{yyyy}/g,y+"").replace(/{yy}/g,y%100+"").replace(/{Q}/g,q+"").replace(/{MMMM}/g,month[M-1]).replace(/{MMM}/g,monthAbbr[M-1]).replace(/{MM}/g,pad(M,2)).replace(/{M}/g,M+"").replace(/{dd}/g,pad(d,2)).replace(/{d}/g,d+"").replace(/{eeee}/g,dayOfWeek[e]).replace(/{ee}/g,dayOfWeekAbbr[e]).replace(/{e}/g,e+"").replace(/{HH}/g,pad(H,2)).replace(/{H}/g,H+"").replace(/{hh}/g,pad(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,pad(m,2)).replace(/{m}/g,m+"").replace(/{ss}/g,pad(s,2)).replace(/{s}/g,s+"").replace(/{SSS}/g,pad(S,3)).replace(/{S}/g,S+"")}function getUnitFromValue(value,isUTC){var date=parseDate(value),M=date[monthGetterName(isUTC)]()+1,d=date[dateGetterName(isUTC)](),h=date[hoursGetterName(isUTC)](),m=date[minutesGetterName(isUTC)](),s=date[secondsGetterName(isUTC)](),isSecond=0===date[millisecondsGetterName(isUTC)](),isMinute=isSecond&&0===s,isHour=isMinute&&0===m,isDay=isHour&&0===h,isMonth=isDay&&1===d;return isMonth&&1===M?"year":isMonth?"month":isDay?"day":isHour?"hour":isMinute?"minute":isSecond?"second":"millisecond"}function getUnitValue(value,unit,isUTC){var date=util.isNumber(value)?parseDate(value):value;switch(unit=unit||getUnitFromValue(value,isUTC)){case"year":return date[fullYearGetterName(isUTC)]();case"half-year":return date[monthGetterName(isUTC)]()>=6?1:0;case"quarter":return Math.floor((date[monthGetterName(isUTC)]()+1)/4);case"month":return date[monthGetterName(isUTC)]();case"day":return date[dateGetterName(isUTC)]();case"half-day":return date[hoursGetterName(isUTC)]()/24;case"hour":return date[hoursGetterName(isUTC)]();case"minute":return date[minutesGetterName(isUTC)]();case"second":return date[secondsGetterName(isUTC)]();case"millisecond":return date[millisecondsGetterName(isUTC)]()}}function fullYearGetterName(isUTC){return isUTC?"getUTCFullYear":"getFullYear"}function monthGetterName(isUTC){return isUTC?"getUTCMonth":"getMonth"}function dateGetterName(isUTC){return isUTC?"getUTCDate":"getDate"}function hoursGetterName(isUTC){return isUTC?"getUTCHours":"getHours"}function minutesGetterName(isUTC){return isUTC?"getUTCMinutes":"getMinutes"}function secondsGetterName(isUTC){return isUTC?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(isUTC){return isUTC?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(isUTC){return isUTC?"setUTCFullYear":"setFullYear"}function monthSetterName(isUTC){return isUTC?"setUTCMonth":"setMonth"}function dateSetterName(isUTC){return isUTC?"setUTCDate":"setDate"}function hoursSetterName(isUTC){return isUTC?"setUTCHours":"setHours"}function minutesSetterName(isUTC){return isUTC?"setUTCMinutes":"setMinutes"}function secondsSetterName(isUTC){return isUTC?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(isUTC){return isUTC?"setUTCMilliseconds":"setMilliseconds"}function addCommas(x){if(!isNumeric(x))return util.isString(x)?x:"-";var parts=(x+"").split(".");return parts[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(parts.length>1?"."+parts[1]:"")}function toCamelCase(str,upperCaseFirst){return str=(str||"").toLowerCase().replace(/-(.)/g,(function(match,group1){return group1.toUpperCase()})),upperCaseFirst&&str&&(str=str.charAt(0).toUpperCase()+str.slice(1)),str}var normalizeCssArray=util.normalizeCssArray,replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(source){return null==source?"":(source+"").replace(replaceReg,(function(str,c){return replaceMap[c]}))}function makeValueReadable(value,valueType,useUTC){function stringToUserReadable(str){return str&&util.trim(str)?str:"-"}function isNumberUserReadable(num){return!(null==num||isNaN(num)||!isFinite(num))}var isTypeTime="time"===valueType,isValueDate=value instanceof Date;if(isTypeTime||isValueDate){var date=isTypeTime?parseDate(value):value;if(!isNaN(+date))return format(date,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",useUTC);if(isValueDate)return"-"}if("ordinal"===valueType)return util.isStringSafe(value)?stringToUserReadable(value):util.isNumber(value)&&isNumberUserReadable(value)?value+"":"-";var numericResult=numericToNumber(value);return isNumberUserReadable(numericResult)?addCommas(numericResult):util.isStringSafe(value)?stringToUserReadable(value):"boolean"==typeof value?value+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(varName,seriesIdx){return"{"+varName+(null==seriesIdx?"":seriesIdx)+"}"};function formatTpl(tpl,paramsList,encode){util.isArray(paramsList)||(paramsList=[paramsList]);var seriesLen=paramsList.length;if(!seriesLen)return"";for(var $vars=paramsList[0].$vars||[],i=0;i<$vars.length;i++){var alias=TPL_VAR_ALIAS[i];tpl=tpl.replace(wrapVar(alias),wrapVar(alias,0))}for(var seriesIdx=0;seriesIdx<seriesLen;seriesIdx++)for(var k=0;k<$vars.length;k++){var val=paramsList[seriesIdx][$vars[k]];tpl=tpl.replace(wrapVar(TPL_VAR_ALIAS[k],seriesIdx),encode?encodeHTML(val):val)}return tpl}function getTooltipMarker(inOpt,extraCssText){var opt=util.isString(inOpt)?{color:inOpt,extraCssText:extraCssText}:inOpt||{},color=opt.color,type=opt.type;extraCssText=opt.extraCssText;var renderMode=opt.renderMode||"html";return color?"html"===renderMode?"subItem"===type?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(color)+";"+(extraCssText||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(color)+";"+(extraCssText||"")+'"></span>':{renderMode:renderMode,content:"{"+(opt.markerId||"markerX")+"|}  ",style:"subItem"===type?{width:4,height:4,borderRadius:2,backgroundColor:color}:{width:10,height:10,borderRadius:5,backgroundColor:color}}:""}function formatTime(tpl,value,isUTC){"week"!==tpl&&"month"!==tpl&&"quarter"!==tpl&&"half-year"!==tpl&&"year"!==tpl||(tpl="MM-dd\nyyyy");var date=parseDate(value),getUTC=isUTC?"getUTC":"get",y=date[getUTC+"FullYear"](),M=date[getUTC+"Month"]()+1,d=date[getUTC+"Date"](),h=date[getUTC+"Hours"](),m=date[getUTC+"Minutes"](),s=date[getUTC+"Seconds"](),S=date[getUTC+"Milliseconds"]();return tpl=tpl.replace("MM",pad(M,2)).replace("M",M).replace("yyyy",y).replace("yy",y%100+"").replace("dd",pad(d,2)).replace("d",d).replace("hh",pad(h,2)).replace("h",h).replace("mm",pad(m,2)).replace("m",m).replace("ss",pad(s,2)).replace("s",s).replace("SSS",pad(S,3))}function capitalFirst(str){return str?str.charAt(0).toUpperCase()+str.substr(1):str}function convertToColorString(color,defaultColor){return defaultColor=defaultColor||"transparent",util.isString(color)?color:util.isObject(color)&&color.colorStops&&(color.colorStops[0]||{}).color||defaultColor}function windowOpen(link,target){if("_blank"===target||"blank"===target){var blank=window.open();blank.opener=null,blank.location.href=link}else window.open(link,target)}var each=util.each,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(orient,group,gap,maxWidth,maxHeight){var x=0,y=0;null==maxWidth&&(maxWidth=1/0),null==maxHeight&&(maxHeight=1/0);var currentLineMaxSize=0;group.eachChild((function(child,idx){var nextX,nextY,rect=child.getBoundingRect(),nextChild=group.childAt(idx+1),nextChildRect=nextChild&&nextChild.getBoundingRect();if("horizontal"===orient){var moveX=rect.width+(nextChildRect?-nextChildRect.x+rect.x:0);(nextX=x+moveX)>maxWidth||child.newline?(x=0,nextX=moveX,y+=currentLineMaxSize+gap,currentLineMaxSize=rect.height):currentLineMaxSize=Math.max(currentLineMaxSize,rect.height)}else{var moveY=rect.height+(nextChildRect?-nextChildRect.y+rect.y:0);(nextY=y+moveY)>maxHeight||child.newline?(x+=currentLineMaxSize+gap,y=0,nextY=moveY,currentLineMaxSize=rect.width):currentLineMaxSize=Math.max(currentLineMaxSize,rect.width)}child.newline||(child.x=x,child.y=y,child.markRedraw(),"horizontal"===orient?x=nextX+gap:y=nextY+gap)}))}var layout_box=boxLayout;util.curry(boxLayout,"vertical"),util.curry(boxLayout,"horizontal");function getLayoutRect(positionInfo,containerRect,margin){margin=normalizeCssArray(margin||0);var containerWidth=containerRect.width,containerHeight=containerRect.height,left=number_parsePercent(positionInfo.left,containerWidth),top=number_parsePercent(positionInfo.top,containerHeight),right=number_parsePercent(positionInfo.right,containerWidth),bottom=number_parsePercent(positionInfo.bottom,containerHeight),width=number_parsePercent(positionInfo.width,containerWidth),height=number_parsePercent(positionInfo.height,containerHeight),verticalMargin=margin[2]+margin[0],horizontalMargin=margin[1]+margin[3],aspect=positionInfo.aspect;switch(isNaN(width)&&(width=containerWidth-right-horizontalMargin-left),isNaN(height)&&(height=containerHeight-bottom-verticalMargin-top),null!=aspect&&(isNaN(width)&&isNaN(height)&&(aspect>containerWidth/containerHeight?width=.8*containerWidth:height=.8*containerHeight),isNaN(width)&&(width=aspect*height),isNaN(height)&&(height=width/aspect)),isNaN(left)&&(left=containerWidth-right-width-horizontalMargin),isNaN(top)&&(top=containerHeight-bottom-height-verticalMargin),positionInfo.left||positionInfo.right){case"center":left=containerWidth/2-width/2-margin[3];break;case"right":left=containerWidth-width-horizontalMargin}switch(positionInfo.top||positionInfo.bottom){case"middle":case"center":top=containerHeight/2-height/2-margin[0];break;case"bottom":top=containerHeight-height-verticalMargin}left=left||0,top=top||0,isNaN(width)&&(width=containerWidth-horizontalMargin-left-(right||0)),isNaN(height)&&(height=containerHeight-verticalMargin-top-(bottom||0));var rect=new core_BoundingRect(left+margin[3],top+margin[0],width,height);return rect.margin=margin,rect}function positionElement(el,positionInfo,containerRect,margin,opt,out){var rect,h=!opt||!opt.hv||opt.hv[0],v=!opt||!opt.hv||opt.hv[1],boundingMode=opt&&opt.boundingMode||"all";if((out=out||el).x=el.x,out.y=el.y,!h&&!v)return!1;if("raw"===boundingMode)rect="group"===el.type?new core_BoundingRect(0,0,+positionInfo.width||0,+positionInfo.height||0):el.getBoundingRect();else if(rect=el.getBoundingRect(),el.needLocalTransform()){var transform=el.getLocalTransform();(rect=rect.clone()).applyTransform(transform)}var layoutRect=getLayoutRect(util.defaults({width:rect.width,height:rect.height},positionInfo),containerRect,margin),dx=h?layoutRect.x-rect.x:0,dy=v?layoutRect.y-rect.y:0;return"raw"===boundingMode?(out.x=dx,out.y=dy):(out.x+=dx,out.y+=dy),out===el&&el.markRedraw(),!0}function fetchLayoutMode(ins){var layoutMode=ins.layoutMode||ins.constructor.layoutMode;return util.isObject(layoutMode)?layoutMode:layoutMode?{type:layoutMode}:null}function mergeLayoutParam(targetOption,newOption,opt){var ignoreSize=opt&&opt.ignoreSize;!util.isArray(ignoreSize)&&(ignoreSize=[ignoreSize,ignoreSize]);var hResult=merge(HV_NAMES[0],0),vResult=merge(HV_NAMES[1],1);function merge(names,hvIdx){var newParams={},newValueCount=0,merged={},mergedValueCount=0;if(each(names,(function(name){merged[name]=targetOption[name]})),each(names,(function(name){hasProp(newOption,name)&&(newParams[name]=merged[name]=newOption[name]),hasValue(newParams,name)&&newValueCount++,hasValue(merged,name)&&mergedValueCount++})),ignoreSize[hvIdx])return hasValue(newOption,names[1])?merged[names[2]]=null:hasValue(newOption,names[2])&&(merged[names[1]]=null),merged;if(2!==mergedValueCount&&newValueCount){if(newValueCount>=2)return newParams;for(var i=0;i<names.length;i++){var name_1=names[i];if(!hasProp(newParams,name_1)&&hasProp(targetOption,name_1)){newParams[name_1]=targetOption[name_1];break}}return newParams}return merged}function hasProp(obj,name){return obj.hasOwnProperty(name)}function hasValue(obj,name){return null!=obj[name]&&"auto"!==obj[name]}function copy(names,target,source){each(names,(function(name){target[name]=source[name]}))}copy(HV_NAMES[0],targetOption,hResult),copy(HV_NAMES[1],targetOption,vResult)}function getLayoutParams(source){return copyLayoutParams({},source)}function copyLayoutParams(target,source){return source&&target&&each(LOCATION_PARAMS,(function(name){source.hasOwnProperty(name)&&(target[name]=source[name])})),target}var Component_inner=makeInner(),Component_ComponentModel=function(_super){function ComponentModel(option,parentModel,ecModel){var _this=_super.call(this,option,parentModel,ecModel)||this;return _this.uid=getUID("ec_cpt_model"),_this}var proto;return __extends(ComponentModel,_super),ComponentModel.prototype.init=function(option,parentModel,ecModel){this.mergeDefaultAndTheme(option,ecModel)},ComponentModel.prototype.mergeDefaultAndTheme=function(option,ecModel){var layoutMode=fetchLayoutMode(this),inputPositionParams=layoutMode?getLayoutParams(option):{},themeModel=ecModel.getTheme();util.merge(option,themeModel.get(this.mainType)),util.merge(option,this.getDefaultOption()),layoutMode&&mergeLayoutParam(option,inputPositionParams,layoutMode)},ComponentModel.prototype.mergeOption=function(option,ecModel){util.merge(this.option,option,!0);var layoutMode=fetchLayoutMode(this);layoutMode&&mergeLayoutParam(this.option,option,layoutMode)},ComponentModel.prototype.optionUpdated=function(newCptOption,isInit){},ComponentModel.prototype.getDefaultOption=function(){var ctor=this.constructor;if(!function isExtendedClass(clz){return!(!clz||!clz.___EC__EXTENDED_CLASS___)}(ctor))return ctor.defaultOption;var fields=Component_inner(this);if(!fields.defaultOption){for(var optList=[],clz=ctor;clz;){var opt=clz.prototype.defaultOption;opt&&optList.push(opt),clz=clz.superClass}for(var defaultOption={},i=optList.length-1;i>=0;i--)defaultOption=util.merge(defaultOption,optList[i],!0);fields.defaultOption=defaultOption}return fields.defaultOption},ComponentModel.prototype.getReferringComponents=function(mainType,opt){var indexKey=mainType+"Index",idKey=mainType+"Id";return queryReferringComponents(this.ecModel,mainType,{index:this.get(indexKey,!0),id:this.get(idKey,!0)},opt)},ComponentModel.prototype.getBoxLayoutParams=function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}},ComponentModel.prototype.getZLevelKey=function(){return""},ComponentModel.prototype.setZLevel=function(zlevel){this.option.zlevel=zlevel},ComponentModel.protoInitialize=((proto=ComponentModel.prototype).type="component",proto.id="",proto.name="",proto.mainType="",proto.subType="",void(proto.componentIndex=0)),ComponentModel}(model_Model);mountExtend(Component_ComponentModel,model_Model),enableClassManagement(Component_ComponentModel),function enableSubTypeDefaulter(target){var subTypeDefaulters={};target.registerSubTypeDefaulter=function(componentType,defaulter){var componentTypeInfo=parseClassType(componentType);subTypeDefaulters[componentTypeInfo.main]=defaulter},target.determineSubType=function(componentType,option){var type=option.type;if(!type){var componentTypeMain=parseClassType(componentType).main;target.hasSubTypes(componentType)&&subTypeDefaulters[componentTypeMain]&&(type=subTypeDefaulters[componentTypeMain](option))}return type}}(Component_ComponentModel),function enableTopologicalTravel(entity,dependencyGetter){function createDependencyGraphItem(graph,name){return graph[name]||(graph[name]={predecessor:[],successor:[]}),graph[name]}entity.topologicalTravel=function(targetNameList,fullNameList,callback,context){if(targetNameList.length){var result=function makeDepndencyGraph(fullNameList){var graph={},noEntryList=[];return util.each(fullNameList,(function(name){var thisItem=createDependencyGraphItem(graph,name),availableDeps=function getAvailableDependencies(originalDeps,fullNameList){var availableDeps=[];return util.each(originalDeps,(function(dep){util.indexOf(fullNameList,dep)>=0&&availableDeps.push(dep)})),availableDeps}(thisItem.originalDeps=dependencyGetter(name),fullNameList);thisItem.entryCount=availableDeps.length,0===thisItem.entryCount&&noEntryList.push(name),util.each(availableDeps,(function(dependentName){util.indexOf(thisItem.predecessor,dependentName)<0&&thisItem.predecessor.push(dependentName);var thatItem=createDependencyGraphItem(graph,dependentName);util.indexOf(thatItem.successor,dependentName)<0&&thatItem.successor.push(name)}))})),{graph:graph,noEntryList:noEntryList}}(fullNameList),graph=result.graph,noEntryList=result.noEntryList,targetNameSet={};for(util.each(targetNameList,(function(name){targetNameSet[name]=!0}));noEntryList.length;){var currComponentType=noEntryList.pop(),currVertex=graph[currComponentType],isInTargetNameSet=!!targetNameSet[currComponentType];isInTargetNameSet&&(callback.call(context,currComponentType,currVertex.originalDeps.slice()),delete targetNameSet[currComponentType]),util.each(currVertex.successor,isInTargetNameSet?removeEdgeAndAdd:removeEdge)}util.each(targetNameSet,(function(){throw new Error("")}))}function removeEdge(succComponentType){graph[succComponentType].entryCount--,0===graph[succComponentType].entryCount&&noEntryList.push(succComponentType)}function removeEdgeAndAdd(succComponentType){targetNameSet[succComponentType]=!0,removeEdge(succComponentType)}}}(Component_ComponentModel,(function getDependencies(componentType){var deps=[];util.each(Component_ComponentModel.getClassesByMainType(componentType),(function(clz){deps=deps.concat(clz.dependencies||clz.prototype.dependencies||[])})),deps=util.map(deps,(function(type){return parseClassType(type).main})),"dataset"!==componentType&&util.indexOf(deps,"dataset")<=0&&deps.unshift("dataset");return deps}));var Component=Component_ComponentModel,globalDefault_platform="";"undefined"!=typeof navigator&&(globalDefault_platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)",globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:globalDefault_platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},VISUAL_DIMENSIONS=Object(util.createHashMap)(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),BE_ORDINAL_Must=1,BE_ORDINAL_Might=2,BE_ORDINAL_Not=3,innerGlobalModel=makeInner();function makeSeriesEncodeForAxisCoordSys(coordDimensions,seriesModel,source){var encode={},datasetModel=querySeriesUpstreamDatasetModel(seriesModel);if(!datasetModel||!coordDimensions)return encode;var baseCategoryDimIndex,categoryWayValueDimStart,encodeItemName=[],encodeSeriesName=[],ecModel=seriesModel.ecModel,datasetMap=innerGlobalModel(ecModel).datasetMap,key=datasetModel.uid+"_"+source.seriesLayoutBy;coordDimensions=coordDimensions.slice(),Object(util.each)(coordDimensions,(function(coordDimInfoLoose,coordDimIdx){var coordDimInfo=Object(util.isObject)(coordDimInfoLoose)?coordDimInfoLoose:coordDimensions[coordDimIdx]={name:coordDimInfoLoose};"ordinal"===coordDimInfo.type&&null==baseCategoryDimIndex&&(baseCategoryDimIndex=coordDimIdx,categoryWayValueDimStart=getDataDimCountOnCoordDim(coordDimInfo)),encode[coordDimInfo.name]=[]}));var datasetRecord=datasetMap.get(key)||datasetMap.set(key,{categoryWayDim:categoryWayValueDimStart,valueWayDim:0});function pushDim(dimIdxArr,idxFrom,idxCount){for(var i=0;i<idxCount;i++)dimIdxArr.push(idxFrom+i)}function getDataDimCountOnCoordDim(coordDimInfo){var dimsDef=coordDimInfo.dimsDef;return dimsDef?dimsDef.length:1}return Object(util.each)(coordDimensions,(function(coordDimInfo,coordDimIdx){var coordDimName=coordDimInfo.name,count=getDataDimCountOnCoordDim(coordDimInfo);if(null==baseCategoryDimIndex){var start=datasetRecord.valueWayDim;pushDim(encode[coordDimName],start,count),pushDim(encodeSeriesName,start,count),datasetRecord.valueWayDim+=count}else if(baseCategoryDimIndex===coordDimIdx)pushDim(encode[coordDimName],0,count),pushDim(encodeItemName,0,count);else{start=datasetRecord.categoryWayDim;pushDim(encode[coordDimName],start,count),pushDim(encodeSeriesName,start,count),datasetRecord.categoryWayDim+=count}})),encodeItemName.length&&(encode.itemName=encodeItemName),encodeSeriesName.length&&(encode.seriesName=encodeSeriesName),encode}function makeSeriesEncodeForNameBased(seriesModel,source,dimCount){var encode={};if(!querySeriesUpstreamDatasetModel(seriesModel))return encode;var potentialNameDimIndex,sourceFormat=source.sourceFormat,dimensionsDefine=source.dimensionsDefine;"objectRows"!==sourceFormat&&"keyedColumns"!==sourceFormat||Object(util.each)(dimensionsDefine,(function(dim,idx){"name"===(Object(util.isObject)(dim)?dim.name:dim)&&(potentialNameDimIndex=idx)}));var idxResult=function(){for(var idxRes0={},idxRes1={},guessRecords=[],i=0,len=Math.min(5,dimCount);i<len;i++){var guessResult=doGuessOrdinal(source.data,sourceFormat,source.seriesLayoutBy,dimensionsDefine,source.startIndex,i);guessRecords.push(guessResult);var isPureNumber=guessResult===BE_ORDINAL_Not;if(isPureNumber&&null==idxRes0.v&&i!==potentialNameDimIndex&&(idxRes0.v=i),(null==idxRes0.n||idxRes0.n===idxRes0.v||!isPureNumber&&guessRecords[idxRes0.n]===BE_ORDINAL_Not)&&(idxRes0.n=i),fulfilled(idxRes0)&&guessRecords[idxRes0.n]!==BE_ORDINAL_Not)return idxRes0;isPureNumber||(guessResult===BE_ORDINAL_Might&&null==idxRes1.v&&i!==potentialNameDimIndex&&(idxRes1.v=i),null!=idxRes1.n&&idxRes1.n!==idxRes1.v||(idxRes1.n=i))}function fulfilled(idxResult){return null!=idxResult.v&&null!=idxResult.n}return fulfilled(idxRes0)?idxRes0:fulfilled(idxRes1)?idxRes1:null}();if(idxResult){encode.value=[idxResult.v];var nameDimIndex=null!=potentialNameDimIndex?potentialNameDimIndex:idxResult.n;encode.itemName=[nameDimIndex],encode.seriesName=[nameDimIndex]}return encode}function querySeriesUpstreamDatasetModel(seriesModel){if(!seriesModel.get("data",!0))return queryReferringComponents(seriesModel.ecModel,"dataset",{index:seriesModel.get("datasetIndex",!0),id:seriesModel.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function guessOrdinal(source,dimIndex){return doGuessOrdinal(source.data,source.sourceFormat,source.seriesLayoutBy,source.dimensionsDefine,source.startIndex,dimIndex)}function doGuessOrdinal(data,sourceFormat,seriesLayoutBy,dimensionsDefine,startIndex,dimIndex){var result,dimName,dimType;if(Object(util.isTypedArray)(data))return BE_ORDINAL_Not;if(dimensionsDefine){var dimDefItem=dimensionsDefine[dimIndex];Object(util.isObject)(dimDefItem)?(dimName=dimDefItem.name,dimType=dimDefItem.type):Object(util.isString)(dimDefItem)&&(dimName=dimDefItem)}if(null!=dimType)return"ordinal"===dimType?BE_ORDINAL_Must:BE_ORDINAL_Not;if("arrayRows"===sourceFormat){var dataArrayRows=data;if("row"===seriesLayoutBy){for(var sample=dataArrayRows[dimIndex],i=0;i<(sample||[]).length&&i<5;i++)if(null!=(result=detectValue(sample[startIndex+i])))return result}else for(i=0;i<dataArrayRows.length&&i<5;i++){var row=dataArrayRows[startIndex+i];if(row&&null!=(result=detectValue(row[dimIndex])))return result}}else if("objectRows"===sourceFormat){var dataObjectRows=data;if(!dimName)return BE_ORDINAL_Not;for(i=0;i<dataObjectRows.length&&i<5;i++){if((item=dataObjectRows[i])&&null!=(result=detectValue(item[dimName])))return result}}else if("keyedColumns"===sourceFormat){if(!dimName)return BE_ORDINAL_Not;if(!(sample=data[dimName])||Object(util.isTypedArray)(sample))return BE_ORDINAL_Not;for(i=0;i<sample.length&&i<5;i++)if(null!=(result=detectValue(sample[i])))return result}else if("original"===sourceFormat){var dataOriginal=data;for(i=0;i<dataOriginal.length&&i<5;i++){var item,val=getDataItemValue(item=dataOriginal[i]);if(!Object(util.isArray)(val))return BE_ORDINAL_Not;if(null!=(result=detectValue(val[dimIndex])))return result}}function detectValue(val){var beStr=Object(util.isString)(val);return null!=val&&isFinite(val)&&""!==val?beStr?BE_ORDINAL_Might:BE_ORDINAL_Not:beStr&&"-"!==val?BE_ORDINAL_Must:void 0}return BE_ORDINAL_Not}var internalOptionCreatorMap=Object(util.createHashMap)();var innerColor=makeInner(),innerDecal=makeInner(),palette_PaletteMixin=function(){function PaletteMixin(){}return PaletteMixin.prototype.getColorFromPalette=function(name,scope,requestNum){var defaultPalette=normalizeToArray(this.get("color",!0)),layeredPalette=this.get("colorLayer",!0);return getFromPalette(this,innerColor,defaultPalette,layeredPalette,name,scope,requestNum)},PaletteMixin.prototype.clearColorPalette=function(){!function clearPalette(that,inner){inner(that).paletteIdx=0,inner(that).paletteNameMap={}}(this,innerColor)},PaletteMixin}();function getDecalFromPalette(ecModel,name,scope,requestNum){var defaultDecals=normalizeToArray(ecModel.get(["aria","decal","decals"]));return getFromPalette(ecModel,innerDecal,defaultDecals,null,name,scope,requestNum)}function getFromPalette(that,inner,defaultPalette,layeredPalette,name,scope,requestNum){var scopeFields=inner(scope=scope||that),paletteIdx=scopeFields.paletteIdx||0,paletteNameMap=scopeFields.paletteNameMap=scopeFields.paletteNameMap||{};if(paletteNameMap.hasOwnProperty(name))return paletteNameMap[name];var palette=null!=requestNum&&layeredPalette?function getNearestPalette(palettes,requestColorNum){for(var paletteNum=palettes.length,i=0;i<paletteNum;i++)if(palettes[i].length>requestColorNum)return palettes[i];return palettes[paletteNum-1]}(layeredPalette,requestNum):defaultPalette;if((palette=palette||defaultPalette)&&palette.length){var pickedPaletteItem=palette[paletteIdx];return name&&(paletteNameMap[name]=pickedPaletteItem),scopeFields.paletteIdx=(paletteIdx+1)%palette.length,pickedPaletteItem}}var reCreateSeriesIndices,assertSeriesInitialized,initBase;"undefined"!=typeof console&&console.warn&&console.log;function deprecateLog(str){0}function throwError(msg){throw new Error(msg)}var Global_GlobalModel=function(_super){function GlobalModel(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(GlobalModel,_super),GlobalModel.prototype.init=function(option,parentModel,ecModel,theme,locale,optionManager){theme=theme||{},this.option=null,this._theme=new model_Model(theme),this._locale=new model_Model(locale),this._optionManager=optionManager},GlobalModel.prototype.setOption=function(option,opts,optionPreprocessorFuncs){var innerOpt=normalizeSetOptionInput(opts);this._optionManager.setOption(option,optionPreprocessorFuncs,innerOpt),this._resetOption(null,innerOpt)},GlobalModel.prototype.resetOption=function(type,opt){return this._resetOption(type,normalizeSetOptionInput(opt))},GlobalModel.prototype._resetOption=function(type,opt){var optionChanged=!1,optionManager=this._optionManager;if(!type||"recreate"===type){var baseOption=optionManager.mountOption("recreate"===type);0,this.option&&"recreate"!==type?(this.restoreData(),this._mergeOption(baseOption,opt)):initBase(this,baseOption),optionChanged=!0}if("timeline"!==type&&"media"!==type||this.restoreData(),!type||"recreate"===type||"timeline"===type){var timelineOption=optionManager.getTimelineOption(this);timelineOption&&(optionChanged=!0,this._mergeOption(timelineOption,opt))}if(!type||"recreate"===type||"media"===type){var mediaOptions=optionManager.getMediaOption(this);mediaOptions.length&&Object(util.each)(mediaOptions,(function(mediaOption){optionChanged=!0,this._mergeOption(mediaOption,opt)}),this)}return optionChanged},GlobalModel.prototype.mergeOption=function(option){this._mergeOption(option,null)},GlobalModel.prototype._mergeOption=function(newOption,opt){var option=this.option,componentsMap=this._componentsMap,componentsCount=this._componentsCount,newCmptTypes=[],newCmptTypeMap=Object(util.createHashMap)(),replaceMergeMainTypeMap=opt&&opt.replaceMergeMainTypeMap;!function resetSourceDefaulter(ecModel){innerGlobalModel(ecModel).datasetMap=Object(util.createHashMap)()}(this),Object(util.each)(newOption,(function(componentOption,mainType){null!=componentOption&&(Component.hasClass(mainType)?mainType&&(newCmptTypes.push(mainType),newCmptTypeMap.set(mainType,!0)):option[mainType]=null==option[mainType]?Object(util.clone)(componentOption):Object(util.merge)(option[mainType],componentOption,!0))})),replaceMergeMainTypeMap&&replaceMergeMainTypeMap.each((function(val,mainTypeInReplaceMerge){Component.hasClass(mainTypeInReplaceMerge)&&!newCmptTypeMap.get(mainTypeInReplaceMerge)&&(newCmptTypes.push(mainTypeInReplaceMerge),newCmptTypeMap.set(mainTypeInReplaceMerge,!0))})),Component.topologicalTravel(newCmptTypes,Component.getAllClassMainTypes(),(function visitComponent(mainType){var newCmptOptionList=function concatInternalOptions(ecModel,mainType,newCmptOptionList){var internalOptionCreator=internalOptionCreatorMap.get(mainType);if(!internalOptionCreator)return newCmptOptionList;var internalOptions=internalOptionCreator(ecModel);return internalOptions?newCmptOptionList.concat(internalOptions):newCmptOptionList}(this,mainType,normalizeToArray(newOption[mainType])),oldCmptList=componentsMap.get(mainType),mergeMode=oldCmptList?replaceMergeMainTypeMap&&replaceMergeMainTypeMap.get(mainType)?"replaceMerge":"normalMerge":"replaceAll",mappingResult=mappingToExists(oldCmptList,newCmptOptionList,mergeMode);(function setComponentTypeToKeyInfo(mappingResult,mainType,componentModelCtor){Object(util.each)(mappingResult,(function(item){var newOption=item.newOption;Object(util.isObject)(newOption)&&(item.keyInfo.mainType=mainType,item.keyInfo.subType=function determineSubType(mainType,newCmptOption,existComponent,componentModelCtor){return newCmptOption.type?newCmptOption.type:existComponent?existComponent.subType:componentModelCtor.determineSubType(mainType,newCmptOption)}(mainType,newOption,item.existing,componentModelCtor))}))})(mappingResult,mainType,Component),option[mainType]=null,componentsMap.set(mainType,null),componentsCount.set(mainType,0);var tooltipExists,optionsByMainType=[],cmptsByMainType=[],cmptsCountByMainType=0;Object(util.each)(mappingResult,(function(resultItem,index){var componentModel=resultItem.existing,newCmptOption=resultItem.newOption;if(newCmptOption){var isSeriesType="series"===mainType,ComponentModelClass=Component.getClass(mainType,resultItem.keyInfo.subType,!isSeriesType);if(!ComponentModelClass)return;if("tooltip"===mainType){if(tooltipExists)return void 0;tooltipExists=!0}if(componentModel&&componentModel.constructor===ComponentModelClass)componentModel.name=resultItem.keyInfo.name,componentModel.mergeOption(newCmptOption,this),componentModel.optionUpdated(newCmptOption,!1);else{var extraOpt=Object(util.extend)({componentIndex:index},resultItem.keyInfo);componentModel=new ComponentModelClass(newCmptOption,this,this,extraOpt),Object(util.extend)(componentModel,extraOpt),resultItem.brandNew&&(componentModel.__requireNewView=!0),componentModel.init(newCmptOption,this,this),componentModel.optionUpdated(null,!0)}}else componentModel&&(componentModel.mergeOption({},this),componentModel.optionUpdated({},!1));componentModel?(optionsByMainType.push(componentModel.option),cmptsByMainType.push(componentModel),cmptsCountByMainType++):(optionsByMainType.push(void 0),cmptsByMainType.push(void 0))}),this),option[mainType]=optionsByMainType,componentsMap.set(mainType,cmptsByMainType),componentsCount.set(mainType,cmptsCountByMainType),"series"===mainType&&reCreateSeriesIndices(this)}),this),this._seriesIndices||reCreateSeriesIndices(this)},GlobalModel.prototype.getOption=function(){var option=Object(util.clone)(this.option);return Object(util.each)(option,(function(optInMainType,mainType){if(Component.hasClass(mainType)){for(var opts=normalizeToArray(optInMainType),realLen=opts.length,metNonInner=!1,i=realLen-1;i>=0;i--)opts[i]&&!isComponentIdInternal(opts[i])?metNonInner=!0:(opts[i]=null,!metNonInner&&realLen--);opts.length=realLen,option[mainType]=opts}})),delete option["\0_ec_inner"],option},GlobalModel.prototype.getTheme=function(){return this._theme},GlobalModel.prototype.getLocaleModel=function(){return this._locale},GlobalModel.prototype.setUpdatePayload=function(payload){this._payload=payload},GlobalModel.prototype.getUpdatePayload=function(){return this._payload},GlobalModel.prototype.getComponent=function(mainType,idx){var list=this._componentsMap.get(mainType);if(list){var cmpt=list[idx||0];if(cmpt)return cmpt;if(null==idx)for(var i=0;i<list.length;i++)if(list[i])return list[i]}},GlobalModel.prototype.queryComponents=function(condition){var mainType=condition.mainType;if(!mainType)return[];var result,index=condition.index,id=condition.id,name=condition.name,cmpts=this._componentsMap.get(mainType);return cmpts&&cmpts.length?(null!=index?(result=[],Object(util.each)(normalizeToArray(index),(function(idx){cmpts[idx]&&result.push(cmpts[idx])}))):result=null!=id?queryByIdOrName("id",id,cmpts):null!=name?queryByIdOrName("name",name,cmpts):Object(util.filter)(cmpts,(function(cmpt){return!!cmpt})),filterBySubType(result,condition)):[]},GlobalModel.prototype.findComponents=function(condition){var query=condition.query,mainType=condition.mainType,queryCond=function getQueryCond(q){var indexAttr=mainType+"Index",idAttr=mainType+"Id",nameAttr=mainType+"Name";return!q||null==q[indexAttr]&&null==q[idAttr]&&null==q[nameAttr]?null:{mainType:mainType,index:q[indexAttr],id:q[idAttr],name:q[nameAttr]}}(query);return function doFilter(res){return condition.filter?Object(util.filter)(res,condition.filter):res}(filterBySubType(queryCond?this.queryComponents(queryCond):Object(util.filter)(this._componentsMap.get(mainType),(function(cmpt){return!!cmpt})),condition))},GlobalModel.prototype.eachComponent=function(mainType,cb,context){var componentsMap=this._componentsMap;if(Object(util.isFunction)(mainType)){var ctxForAll_1=cb,cbForAll_1=mainType;componentsMap.each((function(cmpts,componentType){for(var i=0;cmpts&&i<cmpts.length;i++){var cmpt=cmpts[i];cmpt&&cbForAll_1.call(ctxForAll_1,componentType,cmpt,cmpt.componentIndex)}}))}else for(var cmpts=Object(util.isString)(mainType)?componentsMap.get(mainType):Object(util.isObject)(mainType)?this.findComponents(mainType):null,i=0;cmpts&&i<cmpts.length;i++){var cmpt=cmpts[i];cmpt&&cb.call(context,cmpt,cmpt.componentIndex)}},GlobalModel.prototype.getSeriesByName=function(name){var nameStr=convertOptionIdName(name,null);return Object(util.filter)(this._componentsMap.get("series"),(function(oneSeries){return!!oneSeries&&null!=nameStr&&oneSeries.name===nameStr}))},GlobalModel.prototype.getSeriesByIndex=function(seriesIndex){return this._componentsMap.get("series")[seriesIndex]},GlobalModel.prototype.getSeriesByType=function(subType){return Object(util.filter)(this._componentsMap.get("series"),(function(oneSeries){return!!oneSeries&&oneSeries.subType===subType}))},GlobalModel.prototype.getSeries=function(){return Object(util.filter)(this._componentsMap.get("series"),(function(oneSeries){return!!oneSeries}))},GlobalModel.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},GlobalModel.prototype.eachSeries=function(cb,context){assertSeriesInitialized(this),Object(util.each)(this._seriesIndices,(function(rawSeriesIndex){var series=this._componentsMap.get("series")[rawSeriesIndex];cb.call(context,series,rawSeriesIndex)}),this)},GlobalModel.prototype.eachRawSeries=function(cb,context){Object(util.each)(this._componentsMap.get("series"),(function(series){series&&cb.call(context,series,series.componentIndex)}))},GlobalModel.prototype.eachSeriesByType=function(subType,cb,context){assertSeriesInitialized(this),Object(util.each)(this._seriesIndices,(function(rawSeriesIndex){var series=this._componentsMap.get("series")[rawSeriesIndex];series.subType===subType&&cb.call(context,series,rawSeriesIndex)}),this)},GlobalModel.prototype.eachRawSeriesByType=function(subType,cb,context){return Object(util.each)(this.getSeriesByType(subType),cb,context)},GlobalModel.prototype.isSeriesFiltered=function(seriesModel){return assertSeriesInitialized(this),null==this._seriesIndicesMap.get(seriesModel.componentIndex)},GlobalModel.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},GlobalModel.prototype.filterSeries=function(cb,context){assertSeriesInitialized(this);var newSeriesIndices=[];Object(util.each)(this._seriesIndices,(function(seriesRawIdx){var series=this._componentsMap.get("series")[seriesRawIdx];cb.call(context,series,seriesRawIdx)&&newSeriesIndices.push(seriesRawIdx)}),this),this._seriesIndices=newSeriesIndices,this._seriesIndicesMap=Object(util.createHashMap)(newSeriesIndices)},GlobalModel.prototype.restoreData=function(payload){reCreateSeriesIndices(this);var componentsMap=this._componentsMap,componentTypes=[];componentsMap.each((function(components,componentType){Component.hasClass(componentType)&&componentTypes.push(componentType)})),Component.topologicalTravel(componentTypes,Component.getAllClassMainTypes(),(function(componentType){Object(util.each)(componentsMap.get(componentType),(function(component){!component||"series"===componentType&&function isNotTargetSeries(seriesModel,payload){if(payload){var index=payload.seriesIndex,id=payload.seriesId,name_1=payload.seriesName;return null!=index&&seriesModel.componentIndex!==index||null!=id&&seriesModel.id!==id||null!=name_1&&seriesModel.name!==name_1}}(component,payload)||component.restoreData()}))}))},GlobalModel.internalField=(reCreateSeriesIndices=function(ecModel){var seriesIndices=ecModel._seriesIndices=[];Object(util.each)(ecModel._componentsMap.get("series"),(function(series){series&&seriesIndices.push(series.componentIndex)})),ecModel._seriesIndicesMap=Object(util.createHashMap)(seriesIndices)},assertSeriesInitialized=function(ecModel){},void(initBase=function(ecModel,baseOption){ecModel.option={},ecModel.option["\0_ec_inner"]=1,ecModel._componentsMap=Object(util.createHashMap)({series:[]}),ecModel._componentsCount=Object(util.createHashMap)();var airaOption=baseOption.aria;Object(util.isObject)(airaOption)&&null==airaOption.enabled&&(airaOption.enabled=!0),function mergeTheme(option,theme){var notMergeColorLayer=option.color&&!option.colorLayer;Object(util.each)(theme,(function(themeItem,name){"colorLayer"===name&&notMergeColorLayer||Component.hasClass(name)||("object"==typeof themeItem?option[name]=option[name]?Object(util.merge)(option[name],themeItem,!1):Object(util.clone)(themeItem):null==option[name]&&(option[name]=themeItem))}))}(baseOption,ecModel._theme.option),Object(util.merge)(baseOption,globalDefault,!1),ecModel._mergeOption(baseOption,null)})),GlobalModel}(model_Model);function queryByIdOrName(attr,idOrName,cmpts){if(Object(util.isArray)(idOrName)){var keyMap_1=Object(util.createHashMap)();return Object(util.each)(idOrName,(function(idOrNameItem){null!=idOrNameItem&&(null!=convertOptionIdName(idOrNameItem,null)&&keyMap_1.set(idOrNameItem,!0))})),Object(util.filter)(cmpts,(function(cmpt){return cmpt&&keyMap_1.get(cmpt[attr])}))}var idName_1=convertOptionIdName(idOrName,null);return Object(util.filter)(cmpts,(function(cmpt){return cmpt&&null!=idName_1&&cmpt[attr]===idName_1}))}function filterBySubType(components,condition){return condition.hasOwnProperty("subType")?Object(util.filter)(components,(function(cmpt){return cmpt&&cmpt.subType===condition.subType})):components}function normalizeSetOptionInput(opts){var replaceMergeMainTypeMap=Object(util.createHashMap)();return opts&&Object(util.each)(normalizeToArray(opts.replaceMerge),(function(mainType){replaceMergeMainTypeMap.set(mainType,!0)})),{replaceMergeMainTypeMap:replaceMergeMainTypeMap}}Object(util.mixin)(Global_GlobalModel,palette_PaletteMixin);var Global=Global_GlobalModel,availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],core_ExtensionAPI=function ExtensionAPI(ecInstance){util.each(availableMethods,(function(methodName){this[methodName]=util.bind(ecInstance[methodName],ecInstance)}),this)},coordinateSystemCreators={},CoordinateSystem=function(){function CoordinateSystemManager(){this._coordinateSystems=[]}return CoordinateSystemManager.prototype.create=function(ecModel,api){var coordinateSystems=[];util.each(coordinateSystemCreators,(function(creater,type){var list=creater.create(ecModel,api);coordinateSystems=coordinateSystems.concat(list||[])})),this._coordinateSystems=coordinateSystems},CoordinateSystemManager.prototype.update=function(ecModel,api){util.each(this._coordinateSystems,(function(coordSys){coordSys.update&&coordSys.update(ecModel,api)}))},CoordinateSystemManager.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},CoordinateSystemManager.register=function(type,creator){coordinateSystemCreators[type]=creator},CoordinateSystemManager.get=function(type){return coordinateSystemCreators[type]},CoordinateSystemManager}(),QUERY_REG=/^(min|max)?(.+)$/;function applyMediaQuery(query,ecWidth,ecHeight){var realMap={width:ecWidth,height:ecHeight,aspectratio:ecWidth/ecHeight},applicatable=!0;return Object(util.each)(query,(function(value,attr){var matched=attr.match(QUERY_REG);if(matched&&matched[1]&&matched[2]){var operator=matched[1],realAttr=matched[2].toLowerCase();(function compare(real,expect,operator){return"min"===operator?real>=expect:"max"===operator?real<=expect:real===expect})(realMap[realAttr],value,operator)||(applicatable=!1)}})),applicatable}var model_OptionManager=function(){function OptionManager(api){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=api}return OptionManager.prototype.setOption=function(rawOption,optionPreprocessorFuncs,opt){rawOption&&(Object(util.each)(normalizeToArray(rawOption.series),(function(series){series&&series.data&&Object(util.isTypedArray)(series.data)&&Object(util.setAsPrimitive)(series.data)})),Object(util.each)(normalizeToArray(rawOption.dataset),(function(dataset){dataset&&dataset.source&&Object(util.isTypedArray)(dataset.source)&&Object(util.setAsPrimitive)(dataset.source)}))),rawOption=Object(util.clone)(rawOption);var optionBackup=this._optionBackup,newParsedOption=function parseRawOption(rawOption,optionPreprocessorFuncs,isNew){var mediaDefault,baseOption,mediaList=[],declaredBaseOption=rawOption.baseOption,timelineOnRoot=rawOption.timeline,timelineOptionsOnRoot=rawOption.options,mediaOnRoot=rawOption.media,hasMedia=!!rawOption.media,hasTimeline=!!(timelineOptionsOnRoot||timelineOnRoot||declaredBaseOption&&declaredBaseOption.timeline);declaredBaseOption?(baseOption=declaredBaseOption).timeline||(baseOption.timeline=timelineOnRoot):((hasTimeline||hasMedia)&&(rawOption.options=rawOption.media=null),baseOption=rawOption);hasMedia&&Object(util.isArray)(mediaOnRoot)&&Object(util.each)(mediaOnRoot,(function(singleMedia){singleMedia&&singleMedia.option&&(singleMedia.query?mediaList.push(singleMedia):mediaDefault||(mediaDefault=singleMedia))}));function doPreprocess(option){Object(util.each)(optionPreprocessorFuncs,(function(preProcess){preProcess(option,isNew)}))}return doPreprocess(baseOption),Object(util.each)(timelineOptionsOnRoot,(function(option){return doPreprocess(option)})),Object(util.each)(mediaList,(function(media){return doPreprocess(media.option)})),{baseOption:baseOption,timelineOptions:timelineOptionsOnRoot||[],mediaDefault:mediaDefault,mediaList:mediaList}}(rawOption,optionPreprocessorFuncs,!optionBackup);this._newBaseOption=newParsedOption.baseOption,optionBackup?(newParsedOption.timelineOptions.length&&(optionBackup.timelineOptions=newParsedOption.timelineOptions),newParsedOption.mediaList.length&&(optionBackup.mediaList=newParsedOption.mediaList),newParsedOption.mediaDefault&&(optionBackup.mediaDefault=newParsedOption.mediaDefault)):this._optionBackup=newParsedOption},OptionManager.prototype.mountOption=function(isRecreate){var optionBackup=this._optionBackup;return this._timelineOptions=optionBackup.timelineOptions,this._mediaList=optionBackup.mediaList,this._mediaDefault=optionBackup.mediaDefault,this._currentMediaIndices=[],Object(util.clone)(isRecreate?optionBackup.baseOption:this._newBaseOption)},OptionManager.prototype.getTimelineOption=function(ecModel){var option,timelineOptions=this._timelineOptions;if(timelineOptions.length){var timelineModel=ecModel.getComponent("timeline");timelineModel&&(option=Object(util.clone)(timelineOptions[timelineModel.getCurrentIndex()]))}return option},OptionManager.prototype.getMediaOption=function(ecModel){var ecWidth=this._api.getWidth(),ecHeight=this._api.getHeight(),mediaList=this._mediaList,mediaDefault=this._mediaDefault,indices=[],result=[];if(!mediaList.length&&!mediaDefault)return result;for(var i=0,len=mediaList.length;i<len;i++)applyMediaQuery(mediaList[i].query,ecWidth,ecHeight)&&indices.push(i);return!indices.length&&mediaDefault&&(indices=[-1]),indices.length&&!function indicesEquals(indices1,indices2){return indices1.join(",")===indices2.join(",")}(indices,this._currentMediaIndices)&&(result=Object(util.map)(indices,(function(index){return Object(util.clone)(-1===index?mediaDefault.option:mediaList[index].option)}))),this._currentMediaIndices=indices,result},OptionManager}(),compatStyle_each=util.each,isObject=util.isObject,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(opt){var itemStyleOpt=opt&&opt.itemStyle;if(itemStyleOpt)for(var i=0,len=POSSIBLE_STYLES.length;i<len;i++){var styleName=POSSIBLE_STYLES[i],normalItemStyleOpt=itemStyleOpt.normal,emphasisItemStyleOpt=itemStyleOpt.emphasis;normalItemStyleOpt&&normalItemStyleOpt[styleName]&&(opt[styleName]=opt[styleName]||{},opt[styleName].normal?util.merge(opt[styleName].normal,normalItemStyleOpt[styleName]):opt[styleName].normal=normalItemStyleOpt[styleName],normalItemStyleOpt[styleName]=null),emphasisItemStyleOpt&&emphasisItemStyleOpt[styleName]&&(opt[styleName]=opt[styleName]||{},opt[styleName].emphasis?util.merge(opt[styleName].emphasis,emphasisItemStyleOpt[styleName]):opt[styleName].emphasis=emphasisItemStyleOpt[styleName],emphasisItemStyleOpt[styleName]=null)}}function convertNormalEmphasis(opt,optType,useExtend){if(opt&&opt[optType]&&(opt[optType].normal||opt[optType].emphasis)){var normalOpt=opt[optType].normal,emphasisOpt=opt[optType].emphasis;normalOpt&&(useExtend?(opt[optType].normal=opt[optType].emphasis=null,util.defaults(opt[optType],normalOpt)):opt[optType]=normalOpt),emphasisOpt&&(opt.emphasis=opt.emphasis||{},opt.emphasis[optType]=emphasisOpt,emphasisOpt.focus&&(opt.emphasis.focus=emphasisOpt.focus),emphasisOpt.blurScope&&(opt.emphasis.blurScope=emphasisOpt.blurScope))}}function removeEC3NormalStatus(opt){convertNormalEmphasis(opt,"itemStyle"),convertNormalEmphasis(opt,"lineStyle"),convertNormalEmphasis(opt,"areaStyle"),convertNormalEmphasis(opt,"label"),convertNormalEmphasis(opt,"labelLine"),convertNormalEmphasis(opt,"upperLabel"),convertNormalEmphasis(opt,"edgeLabel")}function compatTextStyle(opt,propName){var labelOptSingle=isObject(opt)&&opt[propName],textStyle=isObject(labelOptSingle)&&labelOptSingle.textStyle;if(textStyle){0;for(var i=0,len=TEXT_STYLE_OPTIONS.length;i<len;i++){var textPropName=TEXT_STYLE_OPTIONS[i];textStyle.hasOwnProperty(textPropName)&&(labelOptSingle[textPropName]=textStyle[textPropName])}}}function compatEC3CommonStyles(opt){opt&&(removeEC3NormalStatus(opt),compatTextStyle(opt,"label"),opt.emphasis&&compatTextStyle(opt.emphasis,"label"))}function toArr(o){return util.isArray(o)?o:o?[o]:[]}function toObj(o){return(util.isArray(o)?o[0]:o)||{}}function globalCompatStyle(option,isTheme){compatStyle_each(toArr(option.series),(function(seriesOpt){isObject(seriesOpt)&&function processSeries(seriesOpt){if(isObject(seriesOpt)){compatEC2ItemStyle(seriesOpt),removeEC3NormalStatus(seriesOpt),compatTextStyle(seriesOpt,"label"),compatTextStyle(seriesOpt,"upperLabel"),compatTextStyle(seriesOpt,"edgeLabel"),seriesOpt.emphasis&&(compatTextStyle(seriesOpt.emphasis,"label"),compatTextStyle(seriesOpt.emphasis,"upperLabel"),compatTextStyle(seriesOpt.emphasis,"edgeLabel"));var markPoint=seriesOpt.markPoint;markPoint&&(compatEC2ItemStyle(markPoint),compatEC3CommonStyles(markPoint));var markLine=seriesOpt.markLine;markLine&&(compatEC2ItemStyle(markLine),compatEC3CommonStyles(markLine));var markArea=seriesOpt.markArea;markArea&&compatEC3CommonStyles(markArea);var data=seriesOpt.data;if("graph"===seriesOpt.type){data=data||seriesOpt.nodes;var edgeData=seriesOpt.links||seriesOpt.edges;if(edgeData&&!util.isTypedArray(edgeData))for(var i=0;i<edgeData.length;i++)compatEC3CommonStyles(edgeData[i]);util.each(seriesOpt.categories,(function(opt){removeEC3NormalStatus(opt)}))}if(data&&!util.isTypedArray(data))for(i=0;i<data.length;i++)compatEC3CommonStyles(data[i]);if((markPoint=seriesOpt.markPoint)&&markPoint.data){var mpData=markPoint.data;for(i=0;i<mpData.length;i++)compatEC3CommonStyles(mpData[i])}if((markLine=seriesOpt.markLine)&&markLine.data){var mlData=markLine.data;for(i=0;i<mlData.length;i++)util.isArray(mlData[i])?(compatEC3CommonStyles(mlData[i][0]),compatEC3CommonStyles(mlData[i][1])):compatEC3CommonStyles(mlData[i])}"gauge"===seriesOpt.type?(compatTextStyle(seriesOpt,"axisLabel"),compatTextStyle(seriesOpt,"title"),compatTextStyle(seriesOpt,"detail")):"treemap"===seriesOpt.type?(convertNormalEmphasis(seriesOpt.breadcrumb,"itemStyle"),util.each(seriesOpt.levels,(function(opt){removeEC3NormalStatus(opt)}))):"tree"===seriesOpt.type&&removeEC3NormalStatus(seriesOpt.leaves)}}(seriesOpt)}));var axes=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];isTheme&&axes.push("valueAxis","categoryAxis","logAxis","timeAxis"),compatStyle_each(axes,(function(axisName){compatStyle_each(toArr(option[axisName]),(function(axisOpt){axisOpt&&(compatTextStyle(axisOpt,"axisLabel"),compatTextStyle(axisOpt.axisPointer,"label"))}))})),compatStyle_each(toArr(option.parallel),(function(parallelOpt){var parallelAxisDefault=parallelOpt&&parallelOpt.parallelAxisDefault;compatTextStyle(parallelAxisDefault,"axisLabel"),compatTextStyle(parallelAxisDefault&&parallelAxisDefault.axisPointer,"label")})),compatStyle_each(toArr(option.calendar),(function(calendarOpt){convertNormalEmphasis(calendarOpt,"itemStyle"),compatTextStyle(calendarOpt,"dayLabel"),compatTextStyle(calendarOpt,"monthLabel"),compatTextStyle(calendarOpt,"yearLabel")})),compatStyle_each(toArr(option.radar),(function(radarOpt){compatTextStyle(radarOpt,"name"),radarOpt.name&&null==radarOpt.axisName&&(radarOpt.axisName=radarOpt.name,delete radarOpt.name),null!=radarOpt.nameGap&&null==radarOpt.axisNameGap&&(radarOpt.axisNameGap=radarOpt.nameGap,delete radarOpt.nameGap)})),compatStyle_each(toArr(option.geo),(function(geoOpt){isObject(geoOpt)&&(compatEC3CommonStyles(geoOpt),compatStyle_each(toArr(geoOpt.regions),(function(regionObj){compatEC3CommonStyles(regionObj)})))})),compatStyle_each(toArr(option.timeline),(function(timelineOpt){compatEC3CommonStyles(timelineOpt),convertNormalEmphasis(timelineOpt,"label"),convertNormalEmphasis(timelineOpt,"itemStyle"),convertNormalEmphasis(timelineOpt,"controlStyle",!0);var data=timelineOpt.data;util.isArray(data)&&util.each(data,(function(item){util.isObject(item)&&(convertNormalEmphasis(item,"label"),convertNormalEmphasis(item,"itemStyle"))}))})),compatStyle_each(toArr(option.toolbox),(function(toolboxOpt){convertNormalEmphasis(toolboxOpt,"iconStyle"),compatStyle_each(toolboxOpt.feature,(function(featureOpt){convertNormalEmphasis(featureOpt,"iconStyle")}))})),compatTextStyle(toObj(option.axisPointer),"label"),compatTextStyle(toObj(option.tooltip).axisPointer,"label")}function compatLayoutProperties(option){option&&Object(util.each)(LAYOUT_PROPERTIES,(function(prop){prop[0]in option&&!(prop[1]in option)&&(option[prop[1]]=option[prop[0]])}))}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(option){var itemStyle=option&&option.itemStyle;if(itemStyle)for(var i=0;i<BAR_ITEM_STYLE_MAP.length;i++){var oldName=BAR_ITEM_STYLE_MAP[i][1],newName=BAR_ITEM_STYLE_MAP[i][0];null!=itemStyle[oldName]&&(itemStyle[newName]=itemStyle[oldName])}}function compatPieLabel(option){option&&"edge"===option.alignTo&&null!=option.margin&&null==option.edgeDistance&&(option.edgeDistance=option.margin)}function compatSunburstState(option){option&&option.downplay&&!option.blur&&(option.blur=option.downplay)}function traverseTree(data,cb){if(data)for(var i=0;i<data.length;i++)cb(data[i]),data[i]&&traverseTree(data[i].children,cb)}function globalBackwardCompat(option,isTheme){globalCompatStyle(option,isTheme),option.series=normalizeToArray(option.series),Object(util.each)(option.series,(function(seriesOpt){if(Object(util.isObject)(seriesOpt)){var seriesType=seriesOpt.type;if("line"===seriesType)null!=seriesOpt.clipOverflow&&(seriesOpt.clip=seriesOpt.clipOverflow);else if("pie"===seriesType||"gauge"===seriesType){if(null!=seriesOpt.clockWise&&(seriesOpt.clockwise=seriesOpt.clockWise),compatPieLabel(seriesOpt.label),(data=seriesOpt.data)&&!Object(util.isTypedArray)(data))for(var i=0;i<data.length;i++)compatPieLabel(data[i]);null!=seriesOpt.hoverOffset&&(seriesOpt.emphasis=seriesOpt.emphasis||{},(seriesOpt.emphasis.scaleSize=null)&&(seriesOpt.emphasis.scaleSize=seriesOpt.hoverOffset))}else if("gauge"===seriesType){var pointerColor=function get(opt,path){for(var pathArr=path.split(","),obj=opt,i=0;i<pathArr.length&&null!=(obj=obj&&obj[pathArr[i]]);i++);return obj}(seriesOpt,"pointer.color");null!=pointerColor&&function backwardCompat_set(opt,path,val,overwrite){for(var key,pathArr=path.split(","),obj=opt,i=0;i<pathArr.length-1;i++)null==obj[key=pathArr[i]]&&(obj[key]={}),obj=obj[key];(overwrite||null==obj[pathArr[i]])&&(obj[pathArr[i]]=val)}(seriesOpt,"itemStyle.color",pointerColor)}else if("bar"===seriesType){var data;if(compatBarItemStyle(seriesOpt),compatBarItemStyle(seriesOpt.backgroundStyle),compatBarItemStyle(seriesOpt.emphasis),(data=seriesOpt.data)&&!Object(util.isTypedArray)(data))for(i=0;i<data.length;i++)"object"==typeof data[i]&&(compatBarItemStyle(data[i]),compatBarItemStyle(data[i]&&data[i].emphasis))}else if("sunburst"===seriesType){var highlightPolicy=seriesOpt.highlightPolicy;highlightPolicy&&(seriesOpt.emphasis=seriesOpt.emphasis||{},seriesOpt.emphasis.focus||(seriesOpt.emphasis.focus=highlightPolicy)),compatSunburstState(seriesOpt),traverseTree(seriesOpt.data,compatSunburstState)}else"graph"===seriesType||"sankey"===seriesType?function compatGraphFocus(option){option&&null!=option.focusNodeAdjacency&&(option.emphasis=option.emphasis||{},null==option.emphasis.focus&&(option.emphasis.focus="adjacency"))}(seriesOpt):"map"===seriesType&&(seriesOpt.mapType&&!seriesOpt.map&&(seriesOpt.map=seriesOpt.mapType),seriesOpt.mapLocation&&Object(util.defaults)(seriesOpt,seriesOpt.mapLocation));null!=seriesOpt.hoverAnimation&&(seriesOpt.emphasis=seriesOpt.emphasis||{},seriesOpt.emphasis&&null==seriesOpt.emphasis.scale&&(seriesOpt.emphasis.scale=seriesOpt.hoverAnimation)),compatLayoutProperties(seriesOpt)}})),option.dataRange&&(option.visualMap=option.dataRange),Object(util.each)(COMPATITABLE_COMPONENTS,(function(componentName){var options=option[componentName];options&&(Object(util.isArray)(options)||(options=[options]),Object(util.each)(options,(function(option){compatLayoutProperties(option)})))}))}function calculateStack(stackInfoList){Object(util.each)(stackInfoList,(function(targetStackInfo,idxInStack){var resultVal=[],resultNaN=[NaN,NaN],dims=[targetStackInfo.stackResultDimension,targetStackInfo.stackedOverDimension],targetData=targetStackInfo.data,isStackedByIndex=targetStackInfo.isStackedByIndex;targetData.modify(dims,(function(v0,v1,dataIndex){var byValue,stackedDataRawIndex,sum=targetData.get(targetStackInfo.stackedDimension,dataIndex);if(isNaN(sum))return resultNaN;isStackedByIndex?stackedDataRawIndex=targetData.getRawIndex(dataIndex):byValue=targetData.get(targetStackInfo.stackedByDimension,dataIndex);for(var stackedOver=NaN,j=idxInStack-1;j>=0;j--){var stackInfo=stackInfoList[j];if(isStackedByIndex||(stackedDataRawIndex=stackInfo.data.rawIndexOf(stackInfo.stackedByDimension,byValue)),stackedDataRawIndex>=0){var val=stackInfo.data.getByRawIndex(stackInfo.stackResultDimension,stackedDataRawIndex);if(sum>=0&&val>0||sum<=0&&val<0){sum=addSafe(sum,val),stackedOver=val;break}}}return resultVal[0]=sum,resultVal[1]=stackedOver,resultVal}))}))}var dataProvider_a,dataProvider_b,_c,providerMethods,mountMethods,Source_SourceImpl=function SourceImpl(fields){this.data=fields.data||("keyedColumns"===fields.sourceFormat?{}:[]),this.sourceFormat=fields.sourceFormat||"unknown",this.seriesLayoutBy=fields.seriesLayoutBy||"column",this.startIndex=fields.startIndex||0,this.dimensionsDetectedCount=fields.dimensionsDetectedCount,this.metaRawOption=fields.metaRawOption;var dimensionsDefine=this.dimensionsDefine=fields.dimensionsDefine;if(dimensionsDefine)for(var i=0;i<dimensionsDefine.length;i++){var dim=dimensionsDefine[i];null==dim.type&&guessOrdinal(this,i)===BE_ORDINAL_Must&&(dim.type="ordinal")}};function isSourceInstance(val){return val instanceof Source_SourceImpl}function createSource(sourceData,thisMetaRawOption,sourceFormat){sourceFormat=sourceFormat||detectSourceFormat(sourceData);var seriesLayoutBy=thisMetaRawOption.seriesLayoutBy,determined=function determineSourceDimensions(data,sourceFormat,seriesLayoutBy,sourceHeader,dimensionsDefine){var dimensionsDetectedCount,startIndex;if(!data)return{dimensionsDefine:normalizeDimensionsOption(dimensionsDefine),startIndex:startIndex,dimensionsDetectedCount:dimensionsDetectedCount};if("arrayRows"===sourceFormat){var dataArrayRows=data;"auto"===sourceHeader||null==sourceHeader?arrayRowsTravelFirst((function(val){null!=val&&"-"!==val&&(Object(util.isString)(val)?null==startIndex&&(startIndex=1):startIndex=0)}),seriesLayoutBy,dataArrayRows,10):startIndex=Object(util.isNumber)(sourceHeader)?sourceHeader:sourceHeader?1:0,dimensionsDefine||1!==startIndex||(dimensionsDefine=[],arrayRowsTravelFirst((function(val,index){dimensionsDefine[index]=null!=val?val+"":""}),seriesLayoutBy,dataArrayRows,1/0)),dimensionsDetectedCount=dimensionsDefine?dimensionsDefine.length:"row"===seriesLayoutBy?dataArrayRows.length:dataArrayRows[0]?dataArrayRows[0].length:null}else if("objectRows"===sourceFormat)dimensionsDefine||(dimensionsDefine=function objectRowsCollectDimensions(data){var obj,firstIndex=0;for(;firstIndex<data.length&&!(obj=data[firstIndex++]););if(obj){var dimensions_1=[];return Object(util.each)(obj,(function(value,key){dimensions_1.push(key)})),dimensions_1}}(data));else if("keyedColumns"===sourceFormat)dimensionsDefine||(dimensionsDefine=[],Object(util.each)(data,(function(colArr,key){dimensionsDefine.push(key)})));else if("original"===sourceFormat){var value0=getDataItemValue(data[0]);dimensionsDetectedCount=Object(util.isArray)(value0)&&value0.length||1}return{startIndex:startIndex,dimensionsDefine:normalizeDimensionsOption(dimensionsDefine),dimensionsDetectedCount:dimensionsDetectedCount}}(sourceData,sourceFormat,seriesLayoutBy,thisMetaRawOption.sourceHeader,thisMetaRawOption.dimensions);return new Source_SourceImpl({data:sourceData,sourceFormat:sourceFormat,seriesLayoutBy:seriesLayoutBy,dimensionsDefine:determined.dimensionsDefine,startIndex:determined.startIndex,dimensionsDetectedCount:determined.dimensionsDetectedCount,metaRawOption:Object(util.clone)(thisMetaRawOption)})}function createSourceFromSeriesDataOption(data){return new Source_SourceImpl({data:data,sourceFormat:Object(util.isTypedArray)(data)?"typedArray":"original"})}function detectSourceFormat(data){var sourceFormat="unknown";if(Object(util.isTypedArray)(data))sourceFormat="typedArray";else if(Object(util.isArray)(data)){0===data.length&&(sourceFormat="arrayRows");for(var i=0,len=data.length;i<len;i++){var item=data[i];if(null!=item){if(Object(util.isArray)(item)){sourceFormat="arrayRows";break}if(Object(util.isObject)(item)){sourceFormat="objectRows";break}}}}else if(Object(util.isObject)(data))for(var key in data)if(Object(util.hasOwn)(data,key)&&Object(util.isArrayLike)(data[key])){sourceFormat="keyedColumns";break}return sourceFormat}function normalizeDimensionsOption(dimensionsDefine){if(dimensionsDefine){var nameMap=Object(util.createHashMap)();return Object(util.map)(dimensionsDefine,(function(rawItem,index){var item={name:(rawItem=Object(util.isObject)(rawItem)?rawItem:{name:rawItem}).name,displayName:rawItem.displayName,type:rawItem.type};if(null==item.name)return item;item.name+="",null==item.displayName&&(item.displayName=item.name);var exist=nameMap.get(item.name);return exist?item.name+="-"+exist.count++:nameMap.set(item.name,{count:1}),item}))}}function arrayRowsTravelFirst(cb,seriesLayoutBy,data,maxLoop){if("row"===seriesLayoutBy)for(var i=0;i<data.length&&i<maxLoop;i++)cb(data[i]?data[i][0]:null,i);else{var value0=data[0]||[];for(i=0;i<value0.length&&i<maxLoop;i++)cb(value0[i],i)}}function shouldRetrieveDataByName(source){var sourceFormat=source.sourceFormat;return"objectRows"===sourceFormat||"keyedColumns"===sourceFormat}var dataProvider_DefaultDataProvider=function(){function DefaultDataProvider(sourceParam,dimSize){var source=isSourceInstance(sourceParam)?sourceParam:createSourceFromSeriesDataOption(sourceParam);this._source=source;var data=this._data=source.data;"typedArray"===source.sourceFormat&&(this._offset=0,this._dimSize=dimSize,this._data=data),mountMethods(this,data,source)}var proto;return DefaultDataProvider.prototype.getSource=function(){return this._source},DefaultDataProvider.prototype.count=function(){return 0},DefaultDataProvider.prototype.getItem=function(idx,out){},DefaultDataProvider.prototype.appendData=function(newData){},DefaultDataProvider.prototype.clean=function(){},DefaultDataProvider.protoInitialize=((proto=DefaultDataProvider.prototype).pure=!1,void(proto.persistent=!0)),DefaultDataProvider.internalField=function(){var _a;mountMethods=function(provider,data,source){var sourceFormat=source.sourceFormat,seriesLayoutBy=source.seriesLayoutBy,startIndex=source.startIndex,dimsDef=source.dimensionsDefine,methods=providerMethods[getMethodMapKey(sourceFormat,seriesLayoutBy)];if(Object(util.extend)(provider,methods),"typedArray"===sourceFormat)provider.getItem=getItemForTypedArray,provider.count=countForTypedArray,provider.fillStorage=fillStorageForTypedArray;else{var rawItemGetter=getRawSourceItemGetter(sourceFormat,seriesLayoutBy);provider.getItem=Object(util.bind)(rawItemGetter,null,data,startIndex,dimsDef);var rawCounter=getRawSourceDataCounter(sourceFormat,seriesLayoutBy);provider.count=Object(util.bind)(rawCounter,null,data,startIndex,dimsDef)}};var getItemForTypedArray=function(idx,out){idx-=this._offset,out=out||[];for(var data=this._data,dimSize=this._dimSize,offset=dimSize*idx,i=0;i<dimSize;i++)out[i]=data[offset+i];return out},fillStorageForTypedArray=function(start,end,storage,extent){for(var data=this._data,dimSize=this._dimSize,dim=0;dim<dimSize;dim++){for(var dimExtent=extent[dim],min=null==dimExtent[0]?1/0:dimExtent[0],max=null==dimExtent[1]?-1/0:dimExtent[1],count=end-start,arr=storage[dim],i=0;i<count;i++){var val=data[i*dimSize+dim];arr[start+i]=val,val<min&&(min=val),val>max&&(max=val)}dimExtent[0]=min,dimExtent[1]=max}},countForTypedArray=function(){return this._data?this._data.length/this._dimSize:0};function appendDataSimply(newData){for(var i=0;i<newData.length;i++)this._data.push(newData[i])}(_a={}).arrayRows_column={pure:!0,appendData:appendDataSimply},_a.arrayRows_row={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},_a.objectRows={pure:!0,appendData:appendDataSimply},_a.keyedColumns={pure:!0,appendData:function(newData){var data=this._data;Object(util.each)(newData,(function(newCol,key){for(var oldCol=data[key]||(data[key]=[]),i=0;i<(newCol||[]).length;i++)oldCol.push(newCol[i])}))}},_a.original={appendData:appendDataSimply},_a.typedArray={persistent:!1,pure:!0,appendData:function(newData){this._data=newData},clean:function(){this._offset+=this.count(),this._data=null}},providerMethods=_a}(),DefaultDataProvider}(),getItemSimply=function(rawData,startIndex,dimsDef,idx){return rawData[idx]},rawSourceItemGetterMap=((dataProvider_a={}).arrayRows_column=function(rawData,startIndex,dimsDef,idx){return rawData[idx+startIndex]},dataProvider_a.arrayRows_row=function(rawData,startIndex,dimsDef,idx,out){idx+=startIndex;for(var item=out||[],data=rawData,i=0;i<data.length;i++){var row=data[i];item[i]=row?row[idx]:null}return item},dataProvider_a.objectRows=getItemSimply,dataProvider_a.keyedColumns=function(rawData,startIndex,dimsDef,idx,out){for(var item=out||[],i=0;i<dimsDef.length;i++){0;var col=rawData[dimsDef[i].name];item[i]=col?col[idx]:null}return item},dataProvider_a.original=getItemSimply,dataProvider_a);function getRawSourceItemGetter(sourceFormat,seriesLayoutBy){return rawSourceItemGetterMap[getMethodMapKey(sourceFormat,seriesLayoutBy)]}var countSimply=function(rawData,startIndex,dimsDef){return rawData.length},rawSourceDataCounterMap=((dataProvider_b={}).arrayRows_column=function(rawData,startIndex,dimsDef){return Math.max(0,rawData.length-startIndex)},dataProvider_b.arrayRows_row=function(rawData,startIndex,dimsDef){var row=rawData[0];return row?Math.max(0,row.length-startIndex):0},dataProvider_b.objectRows=countSimply,dataProvider_b.keyedColumns=function(rawData,startIndex,dimsDef){var col=rawData[dimsDef[0].name];return col?col.length:0},dataProvider_b.original=countSimply,dataProvider_b);function getRawSourceDataCounter(sourceFormat,seriesLayoutBy){return rawSourceDataCounterMap[getMethodMapKey(sourceFormat,seriesLayoutBy)]}var getRawValueSimply=function(dataItem,dimIndex,property){return dataItem[dimIndex]},rawSourceValueGetterMap=((_c={}).arrayRows=getRawValueSimply,_c.objectRows=function(dataItem,dimIndex,property){return dataItem[property]},_c.keyedColumns=getRawValueSimply,_c.original=function(dataItem,dimIndex,property){var value=getDataItemValue(dataItem);return value instanceof Array?value[dimIndex]:value},_c.typedArray=getRawValueSimply,_c);function getRawSourceValueGetter(sourceFormat){return rawSourceValueGetterMap[sourceFormat]}function getMethodMapKey(sourceFormat,seriesLayoutBy){return"arrayRows"===sourceFormat?sourceFormat+"_"+seriesLayoutBy:sourceFormat}function retrieveRawValue(data,dataIndex,dim){if(data){var dataItem=data.getRawDataItem(dataIndex);if(null!=dataItem){var store=data.getStore(),sourceFormat=store.getSource().sourceFormat;if(null!=dim){var dimIndex=data.getDimensionIndex(dim),property=store.getDimensionProperty(dimIndex);return getRawSourceValueGetter(sourceFormat)(dataItem,dimIndex,property)}var result=dataItem;return"original"===sourceFormat&&(result=getDataItemValue(dataItem)),result}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,dataFormat_DataFormatMixin=function(){function DataFormatMixin(){}return DataFormatMixin.prototype.getDataParams=function(dataIndex,dataType){var data=this.getData(dataType),rawValue=this.getRawValue(dataIndex,dataType),rawDataIndex=data.getRawIndex(dataIndex),name=data.getName(dataIndex),itemOpt=data.getRawDataItem(dataIndex),style=data.getItemVisual(dataIndex,"style"),color=style&&style[data.getItemVisual(dataIndex,"drawType")||"fill"],borderColor=style&&style.stroke,mainType=this.mainType,isSeries="series"===mainType,userOutput=data.userOutput&&data.userOutput.get();return{componentType:mainType,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:isSeries?this.subType:null,seriesIndex:this.seriesIndex,seriesId:isSeries?this.id:null,seriesName:isSeries?this.name:null,name:name,dataIndex:rawDataIndex,data:itemOpt,dataType:dataType,value:rawValue,color:color,borderColor:borderColor,dimensionNames:userOutput?userOutput.fullDimensions:null,encode:userOutput?userOutput.encode:null,$vars:["seriesName","name","value"]}},DataFormatMixin.prototype.getFormattedLabel=function(dataIndex,status,dataType,labelDimIndex,formatter,extendParams){status=status||"normal";var data=this.getData(dataType),params=this.getDataParams(dataIndex,dataType);(extendParams&&(params.value=extendParams.interpolatedValue),null!=labelDimIndex&&util.isArray(params.value)&&(params.value=params.value[labelDimIndex]),formatter)||(formatter=data.getItemModel(dataIndex).get("normal"===status?["label","formatter"]:[status,"label","formatter"]));return util.isFunction(formatter)?(params.status=status,params.dimensionIndex=labelDimIndex,formatter(params)):util.isString(formatter)?formatTpl(formatter,params).replace(DIMENSION_LABEL_REG,(function(origin,dimStr){var len=dimStr.length,dimLoose=dimStr;"["===dimLoose.charAt(0)&&"]"===dimLoose.charAt(len-1)&&(dimLoose=+dimLoose.slice(1,len-1));var val=retrieveRawValue(data,dataIndex,dimLoose);if(extendParams&&util.isArray(extendParams.interpolatedValue)){var dimIndex=data.getDimensionIndex(dimLoose);dimIndex>=0&&(val=extendParams.interpolatedValue[dimIndex])}return null!=val?val+"":""})):void 0},DataFormatMixin.prototype.getRawValue=function(idx,dataType){return retrieveRawValue(this.getData(dataType),idx)},DataFormatMixin.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){},DataFormatMixin}();function normalizeTooltipFormatResult(result){var markupText,markupFragment;return util.isObject(result)?result.type&&(markupFragment=result):markupText=result,{text:markupText,frag:markupFragment}}function createTask(define){return new task_Task(define)}var task_Task=function(){function Task(define){define=define||{},this._reset=define.reset,this._plan=define.plan,this._count=define.count,this._onDirty=define.onDirty,this._dirty=!0}return Task.prototype.perform=function(performArgs){var planResult,upTask=this._upstream,skip=performArgs&&performArgs.skip;if(this._dirty&&upTask){var context=this.context;context.data=context.outputData=upTask.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!skip&&(planResult=this._plan(this.context));var forceFirstProgress,lastModBy=normalizeModBy(this._modBy),lastModDataCount=this._modDataCount||0,modBy=normalizeModBy(performArgs&&performArgs.modBy),modDataCount=performArgs&&performArgs.modDataCount||0;function normalizeModBy(val){return!(val>=1)&&(val=1),val}lastModBy===modBy&&lastModDataCount===modDataCount||(planResult="reset"),(this._dirty||"reset"===planResult)&&(this._dirty=!1,forceFirstProgress=this._doReset(skip)),this._modBy=modBy,this._modDataCount=modDataCount;var step=performArgs&&performArgs.step;if(this._dueEnd=upTask?upTask._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var start=this._dueIndex,end=Math.min(null!=step?this._dueIndex+step:1/0,this._dueEnd);if(!skip&&(forceFirstProgress||start<end)){var progress=this._progress;if(Object(util.isArray)(progress))for(var i=0;i<progress.length;i++)this._doProgress(progress[i],start,end,modBy,modDataCount);else this._doProgress(progress,start,end,modBy,modDataCount)}this._dueIndex=end;var outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:end;0,this._outputDueEnd=outputDueEnd}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},Task.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},Task.prototype._doProgress=function(progress,start,end,modBy,modDataCount){iterator.reset(start,end,modBy,modDataCount),this._callingProgress=progress,this._callingProgress({start:start,end:end,count:end-start,next:iterator.next},this.context)},Task.prototype._doReset=function(skip){var progress,forceFirstProgress;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!skip&&this._reset&&((progress=this._reset(this.context))&&progress.progress&&(forceFirstProgress=progress.forceFirstProgress,progress=progress.progress),Object(util.isArray)(progress)&&!progress.length&&(progress=null)),this._progress=progress,this._modBy=this._modDataCount=null;var downstream=this._downstream;return downstream&&downstream.dirty(),forceFirstProgress},Task.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},Task.prototype.pipe=function(downTask){(this._downstream!==downTask||this._dirty)&&(this._downstream=downTask,downTask._upstream=this,downTask.dirty())},Task.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},Task.prototype.getUpstream=function(){return this._upstream},Task.prototype.getDownstream=function(){return this._downstream},Task.prototype.setOutputEnd=function(end){this._outputDueEnd=this._settedOutputEnd=end},Task}(),iterator=function(){var end,current,modBy,modDataCount,winCount,it={reset:function(s,e,sStep,sCount){current=s,end=e,modBy=sStep,modDataCount=sCount,winCount=Math.ceil(modDataCount/modBy),it.next=modBy>1&&modDataCount>0?modNext:sequentialNext}};return it;function sequentialNext(){return current<end?current++:null}function modNext(){var dataIndex=current%winCount*modBy+Math.ceil(current/winCount),result=current>=end?null:dataIndex<modDataCount?dataIndex:current;return current++,result}}();function parseDataValue(value,opt){var dimType=opt&&opt.type;return"ordinal"===dimType?value:("time"!==dimType||Object(util.isNumber)(value)||null==value||"-"===value||(value=+parseDate(value)),null==value||""===value?NaN:+value)}var valueParserMap=Object(util.createHashMap)({number:function(val){return parseFloat(val)},time:function(val){return+parseDate(val)},trim:function(val){return Object(util.isString)(val)?Object(util.trim)(val):val}});function getRawValueParser(type){return valueParserMap.get(type)}var ORDER_COMPARISON_OP_MAP={lt:function(lval,rval){return lval<rval},lte:function(lval,rval){return lval<=rval},gt:function(lval,rval){return lval>rval},gte:function(lval,rval){return lval>=rval}},dataValueHelper_FilterOrderComparator=function(){function FilterOrderComparator(op,rval){if(!Object(util.isNumber)(rval)){0,throwError("")}this._opFn=ORDER_COMPARISON_OP_MAP[op],this._rvalFloat=numericToNumber(rval)}return FilterOrderComparator.prototype.evaluate=function(lval){return Object(util.isNumber)(lval)?this._opFn(lval,this._rvalFloat):this._opFn(numericToNumber(lval),this._rvalFloat)},FilterOrderComparator}(),dataValueHelper_SortOrderComparator=function(){function SortOrderComparator(order,incomparable){var isDesc="desc"===order;this._resultLT=isDesc?1:-1,null==incomparable&&(incomparable=isDesc?"min":"max"),this._incomparable="min"===incomparable?-1/0:1/0}return SortOrderComparator.prototype.evaluate=function(lval,rval){var lvalFloat=Object(util.isNumber)(lval)?lval:numericToNumber(lval),rvalFloat=Object(util.isNumber)(rval)?rval:numericToNumber(rval),lvalNotNumeric=isNaN(lvalFloat),rvalNotNumeric=isNaN(rvalFloat);if(lvalNotNumeric&&(lvalFloat=this._incomparable),rvalNotNumeric&&(rvalFloat=this._incomparable),lvalNotNumeric&&rvalNotNumeric){var lvalIsStr=Object(util.isString)(lval),rvalIsStr=Object(util.isString)(rval);lvalIsStr&&(lvalFloat=rvalIsStr?lval:0),rvalIsStr&&(rvalFloat=lvalIsStr?rval:0)}return lvalFloat<rvalFloat?this._resultLT:lvalFloat>rvalFloat?-this._resultLT:0},SortOrderComparator}(),dataValueHelper_FilterEqualityComparator=function(){function FilterEqualityComparator(isEq,rval){this._rval=rval,this._isEQ=isEq,this._rvalTypeof=typeof rval,this._rvalFloat=numericToNumber(rval)}return FilterEqualityComparator.prototype.evaluate=function(lval){var eqResult=lval===this._rval;if(!eqResult){var lvalTypeof=typeof lval;lvalTypeof===this._rvalTypeof||"number"!==lvalTypeof&&"number"!==this._rvalTypeof||(eqResult=numericToNumber(lval)===this._rvalFloat)}return this._isEQ?eqResult:!eqResult},FilterEqualityComparator}();function createFilterComparator(op,rval){return"eq"===op||"ne"===op?new dataValueHelper_FilterEqualityComparator("eq"===op,rval):Object(util.hasOwn)(ORDER_COMPARISON_OP_MAP,op)?new dataValueHelper_FilterOrderComparator(op,rval):null}var transform_ExternalSource=function(){function ExternalSource(){}return ExternalSource.prototype.getRawData=function(){throw new Error("not supported")},ExternalSource.prototype.getRawDataItem=function(dataIndex){throw new Error("not supported")},ExternalSource.prototype.cloneRawData=function(){},ExternalSource.prototype.getDimensionInfo=function(dim){},ExternalSource.prototype.cloneAllDimensionInfo=function(){},ExternalSource.prototype.count=function(){},ExternalSource.prototype.retrieveValue=function(dataIndex,dimIndex){},ExternalSource.prototype.retrieveValueFromItem=function(dataItem,dimIndex){},ExternalSource.prototype.convertValue=function(rawVal,dimInfo){return parseDataValue(rawVal,dimInfo)},ExternalSource}();function getRawData(upstream){if(!isSupportedSourceFormat(upstream.sourceFormat)){0,throwError("")}return upstream.data}function cloneRawData(upstream){var sourceFormat=upstream.sourceFormat,data=upstream.data;if(!isSupportedSourceFormat(sourceFormat)){0,throwError("")}if("arrayRows"===sourceFormat){for(var result=[],i=0,len=data.length;i<len;i++)result.push(data[i].slice());return result}if("objectRows"===sourceFormat){for(result=[],i=0,len=data.length;i<len;i++)result.push(Object(util.extend)({},data[i]));return result}}function getDimensionInfo(dimensions,dimsByName,dim){if(null!=dim)return Object(util.isNumber)(dim)||!isNaN(dim)&&!Object(util.hasOwn)(dimsByName,dim)?dimensions[dim]:Object(util.hasOwn)(dimsByName,dim)?dimsByName[dim]:void 0}function cloneAllDimensionInfo(dimensions){return Object(util.clone)(dimensions)}var externalTransformMap=Object(util.createHashMap)();function applySingleDataTransform(transOption,upSourceList,infoForPrint,pipeIndex){upSourceList.length||throwError(""),Object(util.isObject)(transOption)||throwError("");var transType=transOption.type,externalTransform=externalTransformMap.get(transType);externalTransform||throwError("");var extUpSourceList=Object(util.map)(upSourceList,(function(upSource){return function createExternalSource(internalSource,externalTransform){var extSource=new transform_ExternalSource,data=internalSource.data,sourceFormat=extSource.sourceFormat=internalSource.sourceFormat,sourceHeaderCount=internalSource.startIndex;"column"!==internalSource.seriesLayoutBy&&throwError("");var dimensions=[],dimsByName={},dimsDef=internalSource.dimensionsDefine;if(dimsDef)Object(util.each)(dimsDef,(function(dimDef,idx){var name=dimDef.name,dimDefExt={index:idx,name:name,displayName:dimDef.displayName};dimensions.push(dimDefExt),null!=name&&(Object(util.hasOwn)(dimsByName,name)&&throwError(""),dimsByName[name]=dimDefExt)}));else for(var i=0;i<internalSource.dimensionsDetectedCount;i++)dimensions.push({index:i});var rawItemGetter=getRawSourceItemGetter(sourceFormat,"column");externalTransform.__isBuiltIn&&(extSource.getRawDataItem=function(dataIndex){return rawItemGetter(data,sourceHeaderCount,dimensions,dataIndex)},extSource.getRawData=Object(util.bind)(getRawData,null,internalSource)),extSource.cloneRawData=Object(util.bind)(cloneRawData,null,internalSource);var rawCounter=getRawSourceDataCounter(sourceFormat,"column");extSource.count=Object(util.bind)(rawCounter,null,data,sourceHeaderCount,dimensions);var rawValueGetter=getRawSourceValueGetter(sourceFormat);extSource.retrieveValue=function(dataIndex,dimIndex){var rawItem=rawItemGetter(data,sourceHeaderCount,dimensions,dataIndex);return retrieveValueFromItem(rawItem,dimIndex)};var retrieveValueFromItem=extSource.retrieveValueFromItem=function(dataItem,dimIndex){if(null!=dataItem){var dimDef=dimensions[dimIndex];return dimDef?rawValueGetter(dataItem,dimIndex,dimDef.name):void 0}};return extSource.getDimensionInfo=Object(util.bind)(getDimensionInfo,null,dimensions,dimsByName),extSource.cloneAllDimensionInfo=Object(util.bind)(cloneAllDimensionInfo,null,dimensions),extSource}(upSource,externalTransform)})),resultList=normalizeToArray(externalTransform.transform({upstream:extUpSourceList[0],upstreamList:extUpSourceList,config:Object(util.clone)(transOption.config)}));return Object(util.map)(resultList,(function(result,resultIndex){var resultMetaRawOption;Object(util.isObject)(result)||throwError(""),result.data||throwError(""),isSupportedSourceFormat(detectSourceFormat(result.data))||throwError("");var firstUpSource=upSourceList[0];if(firstUpSource&&0===resultIndex&&!result.dimensions){var startIndex=firstUpSource.startIndex;startIndex&&(result.data=firstUpSource.data.slice(0,startIndex).concat(result.data)),resultMetaRawOption={seriesLayoutBy:"column",sourceHeader:startIndex,dimensions:firstUpSource.metaRawOption.dimensions}}else resultMetaRawOption={seriesLayoutBy:"column",sourceHeader:0,dimensions:result.dimensions};return createSource(result.data,resultMetaRawOption,null)}))}function isSupportedSourceFormat(sourceFormat){return"arrayRows"===sourceFormat||"objectRows"===sourceFormat}var defaultDimValueGetters,CtorUint32Array="undefined"==typeof Uint32Array?Array:Uint32Array,CtorUint16Array="undefined"==typeof Uint16Array?Array:Uint16Array,CtorInt32Array="undefined"==typeof Int32Array?Array:Int32Array,CtorFloat64Array="undefined"==typeof Float64Array?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array,ordinal:Array,number:Array,time:CtorFloat64Array};function getIndicesCtor(rawCount){return rawCount>65535?CtorUint32Array:CtorUint16Array}function prepareStore(store,dimIdx,dimType,end,append){var DataCtor=dataCtors[dimType||"float"];if(append){var oldStore=store[dimIdx],oldLen=oldStore&&oldStore.length;if(oldLen!==end){for(var newStore=new DataCtor(end),j=0;j<oldLen;j++)newStore[j]=oldStore[j];store[dimIdx]=newStore}}else store[dimIdx]=new DataCtor(end)}var data_DataStore=function(){function DataStore(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Object(util.createHashMap)()}return DataStore.prototype.initData=function(provider,inputDimensions,dimValueGetter){this._provider=provider,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var source=provider.getSource(),defaultGetter=this.defaultDimValueGetter=defaultDimValueGetters[source.sourceFormat];this._dimValueGetter=dimValueGetter||defaultGetter,this._rawExtent=[];shouldRetrieveDataByName(source);this._dimensions=Object(util.map)(inputDimensions,(function(dim){return{type:dim.type,property:dim.property}})),this._initDataFromProvider(0,provider.count())},DataStore.prototype.getProvider=function(){return this._provider},DataStore.prototype.getSource=function(){return this._provider.getSource()},DataStore.prototype.ensureCalculationDimension=function(dimName,type){var calcDimNameToIdx=this._calcDimNameToIdx,dimensions=this._dimensions,calcDimIdx=calcDimNameToIdx.get(dimName);if(null!=calcDimIdx){if(dimensions[calcDimIdx].type===type)return calcDimIdx}else calcDimIdx=dimensions.length;return dimensions[calcDimIdx]={type:type},calcDimNameToIdx.set(dimName,calcDimIdx),this._chunks[calcDimIdx]=new dataCtors[type||"float"](this._rawCount),this._rawExtent[calcDimIdx]=[1/0,-1/0],calcDimIdx},DataStore.prototype.collectOrdinalMeta=function(dimIdx,ordinalMeta){var chunk=this._chunks[dimIdx],dim=this._dimensions[dimIdx],rawExtents=this._rawExtent,offset=dim.ordinalOffset||0,len=chunk.length;0===offset&&(rawExtents[dimIdx]=[1/0,-1/0]);for(var dimRawExtent=rawExtents[dimIdx],i=offset;i<len;i++){var val=chunk[i]=ordinalMeta.parseAndCollect(chunk[i]);isNaN(val)||(dimRawExtent[0]=Math.min(val,dimRawExtent[0]),dimRawExtent[1]=Math.max(val,dimRawExtent[1]))}dim.ordinalMeta=ordinalMeta,dim.ordinalOffset=len,dim.type="ordinal"},DataStore.prototype.getOrdinalMeta=function(dimIdx){return this._dimensions[dimIdx].ordinalMeta},DataStore.prototype.getDimensionProperty=function(dimIndex){var item=this._dimensions[dimIndex];return item&&item.property},DataStore.prototype.appendData=function(data){var provider=this._provider,start=this.count();provider.appendData(data);var end=provider.count();return provider.persistent||(end+=start),start<end&&this._initDataFromProvider(start,end,!0),[start,end]},DataStore.prototype.appendValues=function(values,minFillLen){for(var chunks=this._chunks,dimensions=this._dimensions,dimLen=dimensions.length,rawExtent=this._rawExtent,start=this.count(),end=start+Math.max(values.length,minFillLen||0),i=0;i<dimLen;i++){prepareStore(chunks,i,(dim=dimensions[i]).type,end,!0)}for(var emptyDataItem=[],idx=start;idx<end;idx++)for(var sourceIdx=idx-start,dimIdx=0;dimIdx<dimLen;dimIdx++){var dim=dimensions[dimIdx],val=defaultDimValueGetters.arrayRows.call(this,values[sourceIdx]||emptyDataItem,dim.property,sourceIdx,dimIdx);chunks[dimIdx][idx]=val;var dimRawExtent=rawExtent[dimIdx];val<dimRawExtent[0]&&(dimRawExtent[0]=val),val>dimRawExtent[1]&&(dimRawExtent[1]=val)}return this._rawCount=this._count=end,{start:start,end:end}},DataStore.prototype._initDataFromProvider=function(start,end,append){for(var provider=this._provider,chunks=this._chunks,dimensions=this._dimensions,dimLen=dimensions.length,rawExtent=this._rawExtent,dimNames=Object(util.map)(dimensions,(function(dim){return dim.property})),i=0;i<dimLen;i++){var dim=dimensions[i];rawExtent[i]||(rawExtent[i]=[1/0,-1/0]),prepareStore(chunks,i,dim.type,end,append)}if(provider.fillStorage)provider.fillStorage(start,end,chunks,rawExtent);else for(var dataItem=[],idx=start;idx<end;idx++){dataItem=provider.getItem(idx,dataItem);for(var dimIdx=0;dimIdx<dimLen;dimIdx++){var dimStorage=chunks[dimIdx],val=this._dimValueGetter(dataItem,dimNames[dimIdx],idx,dimIdx);dimStorage[idx]=val;var dimRawExtent=rawExtent[dimIdx];val<dimRawExtent[0]&&(dimRawExtent[0]=val),val>dimRawExtent[1]&&(dimRawExtent[1]=val)}}!provider.persistent&&provider.clean&&provider.clean(),this._rawCount=this._count=end,this._extent=[]},DataStore.prototype.count=function(){return this._count},DataStore.prototype.get=function(dim,idx){if(!(idx>=0&&idx<this._count))return NaN;var dimStore=this._chunks[dim];return dimStore?dimStore[this.getRawIndex(idx)]:NaN},DataStore.prototype.getValues=function(dimensions,idx){var values=[],dimArr=[];if(null==idx){idx=dimensions,dimensions=[];for(var i=0;i<this._dimensions.length;i++)dimArr.push(i)}else dimArr=dimensions;i=0;for(var len=dimArr.length;i<len;i++)values.push(this.get(dimArr[i],idx));return values},DataStore.prototype.getByRawIndex=function(dim,rawIdx){if(!(rawIdx>=0&&rawIdx<this._rawCount))return NaN;var dimStore=this._chunks[dim];return dimStore?dimStore[rawIdx]:NaN},DataStore.prototype.getSum=function(dim){var sum=0;if(this._chunks[dim])for(var i=0,len=this.count();i<len;i++){var value=this.get(dim,i);isNaN(value)||(sum+=value)}return sum},DataStore.prototype.getMedian=function(dim){var dimDataArray=[];this.each([dim],(function(val){isNaN(val)||dimDataArray.push(val)}));var sortedDimDataArray=dimDataArray.sort((function(a,b){return a-b})),len=this.count();return 0===len?0:len%2==1?sortedDimDataArray[(len-1)/2]:(sortedDimDataArray[len/2]+sortedDimDataArray[len/2-1])/2},DataStore.prototype.indexOfRawIndex=function(rawIndex){if(rawIndex>=this._rawCount||rawIndex<0)return-1;if(!this._indices)return rawIndex;var indices=this._indices,rawDataIndex=indices[rawIndex];if(null!=rawDataIndex&&rawDataIndex<this._count&&rawDataIndex===rawIndex)return rawIndex;for(var left=0,right=this._count-1;left<=right;){var mid=(left+right)/2|0;if(indices[mid]<rawIndex)left=mid+1;else{if(!(indices[mid]>rawIndex))return mid;right=mid-1}}return-1},DataStore.prototype.indicesOfNearest=function(dim,value,maxDistance){var dimData=this._chunks[dim],nearestIndices=[];if(!dimData)return nearestIndices;null==maxDistance&&(maxDistance=1/0);for(var minDist=1/0,minDiff=-1,nearestIndicesLen=0,i=0,len=this.count();i<len;i++){var diff=value-dimData[this.getRawIndex(i)],dist=Math.abs(diff);dist<=maxDistance&&((dist<minDist||dist===minDist&&diff>=0&&minDiff<0)&&(minDist=dist,minDiff=diff,nearestIndicesLen=0),diff===minDiff&&(nearestIndices[nearestIndicesLen++]=i))}return nearestIndices.length=nearestIndicesLen,nearestIndices},DataStore.prototype.getIndices=function(){var newIndices,indices=this._indices;if(indices){var Ctor=indices.constructor,thisCount=this._count;if(Ctor===Array){newIndices=new Ctor(thisCount);for(var i=0;i<thisCount;i++)newIndices[i]=indices[i]}else newIndices=new Ctor(indices.buffer,0,thisCount)}else{newIndices=new(Ctor=getIndicesCtor(this._rawCount))(this.count());for(i=0;i<newIndices.length;i++)newIndices[i]=i}return newIndices},DataStore.prototype.filter=function(dims,cb){if(!this._count)return this;for(var newStore=this.clone(),count=newStore.count(),newIndices=new(getIndicesCtor(newStore._rawCount))(count),value=[],dimSize=dims.length,offset=0,dim0=dims[0],chunks=newStore._chunks,i=0;i<count;i++){var keep=void 0,rawIdx=newStore.getRawIndex(i);if(0===dimSize)keep=cb(i);else if(1===dimSize){keep=cb(chunks[dim0][rawIdx],i)}else{for(var k=0;k<dimSize;k++)value[k]=chunks[dims[k]][rawIdx];value[k]=i,keep=cb.apply(null,value)}keep&&(newIndices[offset++]=rawIdx)}return offset<count&&(newStore._indices=newIndices),newStore._count=offset,newStore._extent=[],newStore._updateGetRawIdx(),newStore},DataStore.prototype.selectRange=function(range){var newStore=this.clone(),len=newStore._count;if(!len)return this;var dims=Object(util.keys)(range),dimSize=dims.length;if(!dimSize)return this;var originalCount=newStore.count(),newIndices=new(getIndicesCtor(newStore._rawCount))(originalCount),offset=0,dim0=dims[0],min=range[dim0][0],max=range[dim0][1],storeArr=newStore._chunks,quickFinished=!1;if(!newStore._indices){var idx=0;if(1===dimSize){for(var dimStorage=storeArr[dims[0]],i=0;i<len;i++){((val=dimStorage[i])>=min&&val<=max||isNaN(val))&&(newIndices[offset++]=idx),idx++}quickFinished=!0}else if(2===dimSize){dimStorage=storeArr[dims[0]];var dimStorage2=storeArr[dims[1]],min2=range[dims[1]][0],max2=range[dims[1]][1];for(i=0;i<len;i++){var val=dimStorage[i],val2=dimStorage2[i];(val>=min&&val<=max||isNaN(val))&&(val2>=min2&&val2<=max2||isNaN(val2))&&(newIndices[offset++]=idx),idx++}quickFinished=!0}}if(!quickFinished)if(1===dimSize)for(i=0;i<originalCount;i++){var rawIndex=newStore.getRawIndex(i);((val=storeArr[dims[0]][rawIndex])>=min&&val<=max||isNaN(val))&&(newIndices[offset++]=rawIndex)}else for(i=0;i<originalCount;i++){for(var keep=!0,k=(rawIndex=newStore.getRawIndex(i),0);k<dimSize;k++){var dimk=dims[k];((val=storeArr[dimk][rawIndex])<range[dimk][0]||val>range[dimk][1])&&(keep=!1)}keep&&(newIndices[offset++]=newStore.getRawIndex(i))}return offset<originalCount&&(newStore._indices=newIndices),newStore._count=offset,newStore._extent=[],newStore._updateGetRawIdx(),newStore},DataStore.prototype.map=function(dims,cb){var target=this.clone(dims);return this._updateDims(target,dims,cb),target},DataStore.prototype.modify=function(dims,cb){this._updateDims(this,dims,cb)},DataStore.prototype._updateDims=function(target,dims,cb){for(var targetChunks=target._chunks,tmpRetValue=[],dimSize=dims.length,dataCount=target.count(),values=[],rawExtent=target._rawExtent,i=0;i<dims.length;i++)rawExtent[dims[i]]=[1/0,-1/0];for(var dataIndex=0;dataIndex<dataCount;dataIndex++){for(var rawIndex=target.getRawIndex(dataIndex),k=0;k<dimSize;k++)values[k]=targetChunks[dims[k]][rawIndex];values[dimSize]=dataIndex;var retValue=cb&&cb.apply(null,values);if(null!=retValue){"object"!=typeof retValue&&(tmpRetValue[0]=retValue,retValue=tmpRetValue);for(i=0;i<retValue.length;i++){var dim=dims[i],val=retValue[i],rawExtentOnDim=rawExtent[dim],dimStore=targetChunks[dim];dimStore&&(dimStore[rawIndex]=val),val<rawExtentOnDim[0]&&(rawExtentOnDim[0]=val),val>rawExtentOnDim[1]&&(rawExtentOnDim[1]=val)}}}},DataStore.prototype.lttbDownSample=function(valueDimension,rate){var maxArea,area,nextRawIndex,target=this.clone([valueDimension],!0),dimStore=target._chunks[valueDimension],len=this.count(),sampledIndex=0,frameSize=Math.floor(1/rate),currentRawIndex=this.getRawIndex(0),newIndices=new(getIndicesCtor(this._rawCount))(Math.min(2*(Math.ceil(len/frameSize)+2),len));newIndices[sampledIndex++]=currentRawIndex;for(var i=1;i<len-1;i+=frameSize){for(var nextFrameStart=Math.min(i+frameSize,len-1),nextFrameEnd=Math.min(i+2*frameSize,len),avgX=(nextFrameEnd+nextFrameStart)/2,avgY=0,idx=nextFrameStart;idx<nextFrameEnd;idx++){var y=dimStore[rawIndex=this.getRawIndex(idx)];isNaN(y)||(avgY+=y)}avgY/=nextFrameEnd-nextFrameStart;var frameStart=i,frameEnd=Math.min(i+frameSize,len),pointAX=i-1,pointAY=dimStore[currentRawIndex];maxArea=-1,nextRawIndex=frameStart;var firstNaNIndex=-1,countNaN=0;for(idx=frameStart;idx<frameEnd;idx++){var rawIndex;y=dimStore[rawIndex=this.getRawIndex(idx)];isNaN(y)?(countNaN++,firstNaNIndex<0&&(firstNaNIndex=rawIndex)):(area=Math.abs((pointAX-avgX)*(y-pointAY)-(pointAX-idx)*(avgY-pointAY)))>maxArea&&(maxArea=area,nextRawIndex=rawIndex)}countNaN>0&&countNaN<frameEnd-frameStart&&(newIndices[sampledIndex++]=Math.min(firstNaNIndex,nextRawIndex),nextRawIndex=Math.max(firstNaNIndex,nextRawIndex)),newIndices[sampledIndex++]=nextRawIndex,currentRawIndex=nextRawIndex}return newIndices[sampledIndex++]=this.getRawIndex(len-1),target._count=sampledIndex,target._indices=newIndices,target.getRawIndex=this._getRawIdx,target},DataStore.prototype.downSample=function(dimension,rate,sampleValue,sampleIndex){for(var target=this.clone([dimension],!0),targetStorage=target._chunks,frameValues=[],frameSize=Math.floor(1/rate),dimStore=targetStorage[dimension],len=this.count(),rawExtentOnDim=target._rawExtent[dimension]=[1/0,-1/0],newIndices=new(getIndicesCtor(this._rawCount))(Math.ceil(len/frameSize)),offset=0,i=0;i<len;i+=frameSize){frameSize>len-i&&(frameSize=len-i,frameValues.length=frameSize);for(var k=0;k<frameSize;k++){var dataIdx=this.getRawIndex(i+k);frameValues[k]=dimStore[dataIdx]}var value=sampleValue(frameValues),sampleFrameIdx=this.getRawIndex(Math.min(i+sampleIndex(frameValues,value)||0,len-1));dimStore[sampleFrameIdx]=value,value<rawExtentOnDim[0]&&(rawExtentOnDim[0]=value),value>rawExtentOnDim[1]&&(rawExtentOnDim[1]=value),newIndices[offset++]=sampleFrameIdx}return target._count=offset,target._indices=newIndices,target._updateGetRawIdx(),target},DataStore.prototype.each=function(dims,cb){if(this._count)for(var dimSize=dims.length,chunks=this._chunks,i=0,len=this.count();i<len;i++){var rawIdx=this.getRawIndex(i);switch(dimSize){case 0:cb(i);break;case 1:cb(chunks[dims[0]][rawIdx],i);break;case 2:cb(chunks[dims[0]][rawIdx],chunks[dims[1]][rawIdx],i);break;default:for(var k=0,value=[];k<dimSize;k++)value[k]=chunks[dims[k]][rawIdx];value[k]=i,cb.apply(null,value)}}},DataStore.prototype.getDataExtent=function(dim){var dimData=this._chunks[dim],initialExtent=[1/0,-1/0];if(!dimData)return initialExtent;var dimExtent,currEnd=this.count();if(!this._indices)return this._rawExtent[dim].slice();if(dimExtent=this._extent[dim])return dimExtent.slice();for(var min=(dimExtent=initialExtent)[0],max=dimExtent[1],i=0;i<currEnd;i++){var value=dimData[this.getRawIndex(i)];value<min&&(min=value),value>max&&(max=value)}return dimExtent=[min,max],this._extent[dim]=dimExtent,dimExtent},DataStore.prototype.getRawDataItem=function(idx){var rawIdx=this.getRawIndex(idx);if(this._provider.persistent)return this._provider.getItem(rawIdx);for(var val=[],chunks=this._chunks,i=0;i<chunks.length;i++)val.push(chunks[i][rawIdx]);return val},DataStore.prototype.clone=function(clonedDims,ignoreIndices){var originalChunk,Ctor,target=new DataStore,chunks=this._chunks,clonedDimsMap=clonedDims&&Object(util.reduce)(clonedDims,(function(obj,dimIdx){return obj[dimIdx]=!0,obj}),{});if(clonedDimsMap)for(var i=0;i<chunks.length;i++)target._chunks[i]=clonedDimsMap[i]?(originalChunk=chunks[i],Ctor=void 0,(Ctor=originalChunk.constructor)===Array?originalChunk.slice():new Ctor(originalChunk)):chunks[i];else target._chunks=chunks;return this._copyCommonProps(target),ignoreIndices||(target._indices=this._cloneIndices()),target._updateGetRawIdx(),target},DataStore.prototype._copyCommonProps=function(target){target._count=this._count,target._rawCount=this._rawCount,target._provider=this._provider,target._dimensions=this._dimensions,target._extent=Object(util.clone)(this._extent),target._rawExtent=Object(util.clone)(this._rawExtent)},DataStore.prototype._cloneIndices=function(){if(this._indices){var Ctor=this._indices.constructor,indices=void 0;if(Ctor===Array){var thisCount=this._indices.length;indices=new Ctor(thisCount);for(var i=0;i<thisCount;i++)indices[i]=this._indices[i]}else indices=new Ctor(this._indices);return indices}return null},DataStore.prototype._getRawIdxIdentity=function(idx){return idx},DataStore.prototype._getRawIdx=function(idx){return idx<this._count&&idx>=0?this._indices[idx]:-1},DataStore.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},DataStore.internalField=function(){function getDimValueSimply(dataItem,property,dataIndex,dimIndex){return parseDataValue(dataItem[dimIndex],this._dimensions[dimIndex])}defaultDimValueGetters={arrayRows:getDimValueSimply,objectRows:function(dataItem,property,dataIndex,dimIndex){return parseDataValue(dataItem[property],this._dimensions[dimIndex])},keyedColumns:getDimValueSimply,original:function(dataItem,property,dataIndex,dimIndex){var value=dataItem&&(null==dataItem.value?dataItem:dataItem.value);return parseDataValue(value instanceof Array?value[dimIndex]:value,this._dimensions[dimIndex])},typedArray:function(dataItem,property,dataIndex,dimIndex){return dataItem[dimIndex]}}}(),DataStore}(),sourceManager_SourceManager=function(){function SourceManager(sourceHost){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=sourceHost}return SourceManager.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},SourceManager.prototype._setLocalSource=function(sourceList,upstreamSignList){this._sourceList=sourceList,this._upstreamSignList=upstreamSignList,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},SourceManager.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},SourceManager.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},SourceManager.prototype._createSource=function(){this._setLocalSource([],[]);var resultSourceList,upstreamSignList,sourceHost=this._sourceHost,upSourceMgrList=this._getUpstreamSourceManagers(),hasUpstream=!!upSourceMgrList.length;if(isSeries(sourceHost)){var seriesModel=sourceHost,data=void 0,sourceFormat=void 0,upSource=void 0;if(hasUpstream){var upSourceMgr=upSourceMgrList[0];upSourceMgr.prepareSource(),data=(upSource=upSourceMgr.getSource()).data,sourceFormat=upSource.sourceFormat,upstreamSignList=[upSourceMgr._getVersionSign()]}else data=seriesModel.get("data",!0),sourceFormat=Object(util.isTypedArray)(data)?"typedArray":"original",upstreamSignList=[];var newMetaRawOption=this._getSourceMetaRawOption()||{},upMetaRawOption=upSource&&upSource.metaRawOption||{},seriesLayoutBy=Object(util.retrieve2)(newMetaRawOption.seriesLayoutBy,upMetaRawOption.seriesLayoutBy)||null,sourceHeader=Object(util.retrieve2)(newMetaRawOption.sourceHeader,upMetaRawOption.sourceHeader),dimensions=Object(util.retrieve2)(newMetaRawOption.dimensions,upMetaRawOption.dimensions);resultSourceList=seriesLayoutBy!==upMetaRawOption.seriesLayoutBy||!!sourceHeader!=!!upMetaRawOption.sourceHeader||dimensions?[createSource(data,{seriesLayoutBy:seriesLayoutBy,sourceHeader:sourceHeader,dimensions:dimensions},sourceFormat)]:[]}else{var datasetModel=sourceHost;if(hasUpstream){var result=this._applyTransform(upSourceMgrList);resultSourceList=result.sourceList,upstreamSignList=result.upstreamSignList}else{resultSourceList=[createSource(datasetModel.get("source",!0),this._getSourceMetaRawOption(),null)],upstreamSignList=[]}}this._setLocalSource(resultSourceList,upstreamSignList)},SourceManager.prototype._applyTransform=function(upMgrList){var sourceList,datasetModel=this._sourceHost,transformOption=datasetModel.get("transform",!0),fromTransformResult=datasetModel.get("fromTransformResult",!0);if(null!=fromTransformResult){1!==upMgrList.length&&doThrow("")}var source,upSourceList=[],upstreamSignList=[];return Object(util.each)(upMgrList,(function(upMgr){upMgr.prepareSource();var upSource=upMgr.getSource(fromTransformResult||0);null==fromTransformResult||upSource||doThrow(""),upSourceList.push(upSource),upstreamSignList.push(upMgr._getVersionSign())})),transformOption?sourceList=function applyDataTransform(rawTransOption,sourceList,infoForPrint){var pipedTransOption=normalizeToArray(rawTransOption),pipeLen=pipedTransOption.length;pipeLen||throwError("");for(var i=0,len=pipeLen;i<len;i++)sourceList=applySingleDataTransform(pipedTransOption[i],sourceList),i!==len-1&&(sourceList.length=Math.max(sourceList.length,1));return sourceList}(transformOption,upSourceList,datasetModel.componentIndex):null!=fromTransformResult&&(sourceList=[(source=upSourceList[0],new Source_SourceImpl({data:source.data,sourceFormat:source.sourceFormat,seriesLayoutBy:source.seriesLayoutBy,dimensionsDefine:Object(util.clone)(source.dimensionsDefine),startIndex:source.startIndex,dimensionsDetectedCount:source.dimensionsDetectedCount}))]),{sourceList:sourceList,upstreamSignList:upstreamSignList}},SourceManager.prototype._isDirty=function(){if(this._dirty)return!0;for(var upSourceMgrList=this._getUpstreamSourceManagers(),i=0;i<upSourceMgrList.length;i++){var upSrcMgr=upSourceMgrList[i];if(upSrcMgr._isDirty()||this._upstreamSignList[i]!==upSrcMgr._getVersionSign())return!0}},SourceManager.prototype.getSource=function(sourceIndex){sourceIndex=sourceIndex||0;var source=this._sourceList[sourceIndex];if(!source){var upSourceMgrList=this._getUpstreamSourceManagers();return upSourceMgrList[0]&&upSourceMgrList[0].getSource(sourceIndex)}return source},SourceManager.prototype.getSharedDataStore=function(seriesDimRequest){var schema=seriesDimRequest.makeStoreSchema();return this._innerGetDataStore(schema.dimensions,seriesDimRequest.source,schema.hash)},SourceManager.prototype._innerGetDataStore=function(storeDims,seriesSource,sourceReadKey){var storeList=this._storeList,cachedStoreMap=storeList[0];cachedStoreMap||(cachedStoreMap=storeList[0]={});var cachedStore=cachedStoreMap[sourceReadKey];if(!cachedStore){var upSourceMgr=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&upSourceMgr?cachedStore=upSourceMgr._innerGetDataStore(storeDims,seriesSource,sourceReadKey):(cachedStore=new data_DataStore).initData(new dataProvider_DefaultDataProvider(seriesSource,storeDims.length),storeDims),cachedStoreMap[sourceReadKey]=cachedStore}return cachedStore},SourceManager.prototype._getUpstreamSourceManagers=function(){var sourceHost=this._sourceHost;if(isSeries(sourceHost)){var datasetModel=querySeriesUpstreamDatasetModel(sourceHost);return datasetModel?[datasetModel.getSourceManager()]:[]}return Object(util.map)(function queryDatasetUpstreamDatasetModels(datasetModel){return datasetModel.get("transform",!0)||datasetModel.get("fromTransformResult",!0)?queryReferringComponents(datasetModel.ecModel,"dataset",{index:datasetModel.get("fromDatasetIndex",!0),id:datasetModel.get("fromDatasetId",!0)},SINGLE_REFERRING).models:[]}(sourceHost),(function(datasetModel){return datasetModel.getSourceManager()}))},SourceManager.prototype._getSourceMetaRawOption=function(){var seriesLayoutBy,sourceHeader,dimensions,sourceHost=this._sourceHost;if(isSeries(sourceHost))seriesLayoutBy=sourceHost.get("seriesLayoutBy",!0),sourceHeader=sourceHost.get("sourceHeader",!0),dimensions=sourceHost.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var model=sourceHost;seriesLayoutBy=model.get("seriesLayoutBy",!0),sourceHeader=model.get("sourceHeader",!0),dimensions=model.get("dimensions",!0)}return{seriesLayoutBy:seriesLayoutBy,sourceHeader:sourceHeader,dimensions:dimensions}},SourceManager}();function disableTransformOptionMerge(datasetModel){datasetModel.option.transform&&Object(util.setAsPrimitive)(datasetModel.option.transform)}function isSeries(sourceHost){return"series"===sourceHost.mainType}function doThrow(errMsg){throw new Error(errMsg)}function getTooltipTextStyle(textStyle,renderMode){var nameFontColor=textStyle.color||"#6e7079",nameFontSize=textStyle.fontSize||12,nameFontWeight=textStyle.fontWeight||"400",valueFontColor=textStyle.color||"#464646",valueFontSize=textStyle.fontSize||14,valueFontWeight=textStyle.fontWeight||"900";return"html"===renderMode?{nameStyle:"font-size:"+encodeHTML(nameFontSize+"")+"px;color:"+encodeHTML(nameFontColor)+";font-weight:"+encodeHTML(nameFontWeight+""),valueStyle:"font-size:"+encodeHTML(valueFontSize+"")+"px;color:"+encodeHTML(valueFontColor)+";font-weight:"+encodeHTML(valueFontWeight+"")}:{nameStyle:{fontSize:nameFontSize,fill:nameFontColor,fontWeight:nameFontWeight},valueStyle:{fontSize:valueFontSize,fill:valueFontColor,fontWeight:valueFontWeight}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["","\n","\n\n","\n\n\n"];function createTooltipMarkup(type,option){return option.type=type,option}function isSectionFragment(frag){return"section"===frag.type}function getBuilder(frag){return isSectionFragment(frag)?buildSection:buildNameValue}function getBlockGapLevel(frag){if(isSectionFragment(frag)){var gapLevel_1=0,subBlockLen=frag.blocks.length,hasInnerGap_1=subBlockLen>1||subBlockLen>0&&!frag.noHeader;return Object(util.each)(frag.blocks,(function(subBlock){var subGapLevel=getBlockGapLevel(subBlock);subGapLevel>=gapLevel_1&&(gapLevel_1=subGapLevel+ +(hasInnerGap_1&&(!subGapLevel||isSectionFragment(subBlock)&&!subBlock.noHeader)))})),gapLevel_1}return 0}function buildSection(ctx,fragment,topMarginForOuterGap,toolTipTextStyle){var noHeader=fragment.noHeader,gaps=function getGap(gapLevel){return{html:HTML_GAPS[gapLevel],richText:RICH_TEXT_GAPS[gapLevel]}}(getBlockGapLevel(fragment)),subMarkupTextList=[],subBlocks=fragment.blocks||[];Object(util.assert)(!subBlocks||Object(util.isArray)(subBlocks)),subBlocks=subBlocks||[];var orderMode=ctx.orderMode;if(fragment.sortBlocks&&orderMode){subBlocks=subBlocks.slice();var orderMap={valueAsc:"asc",valueDesc:"desc"};if(Object(util.hasOwn)(orderMap,orderMode)){var comparator_1=new dataValueHelper_SortOrderComparator(orderMap[orderMode],null);subBlocks.sort((function(a,b){return comparator_1.evaluate(a.sortParam,b.sortParam)}))}else"seriesDesc"===orderMode&&subBlocks.reverse()}Object(util.each)(subBlocks,(function(subBlock,idx){var valueFormatter=fragment.valueFormatter,subMarkupText=getBuilder(subBlock)(valueFormatter?Object(util.extend)(Object(util.extend)({},ctx),{valueFormatter:valueFormatter}):ctx,subBlock,idx>0?gaps.html:0,toolTipTextStyle);null!=subMarkupText&&subMarkupTextList.push(subMarkupText)}));var subMarkupText="richText"===ctx.renderMode?subMarkupTextList.join(gaps.richText):wrapBlockHTML(subMarkupTextList.join(""),noHeader?topMarginForOuterGap:gaps.html);if(noHeader)return subMarkupText;var displayableHeader=makeValueReadable(fragment.header,"ordinal",ctx.useUTC),nameStyle=getTooltipTextStyle(toolTipTextStyle,ctx.renderMode).nameStyle;return"richText"===ctx.renderMode?wrapInlineNameRichText(ctx,displayableHeader,nameStyle)+gaps.richText+subMarkupText:wrapBlockHTML('<div style="'+nameStyle+';line-height:1;">'+encodeHTML(displayableHeader)+"</div>"+subMarkupText,topMarginForOuterGap)}function buildNameValue(ctx,fragment,topMarginForOuterGap,toolTipTextStyle){var renderMode=ctx.renderMode,noName=fragment.noName,noValue=fragment.noValue,noMarker=!fragment.markerType,name=fragment.name,useUTC=ctx.useUTC,valueFormatter=fragment.valueFormatter||ctx.valueFormatter||function(value){return value=Object(util.isArray)(value)?value:[value],Object(util.map)(value,(function(val,idx){return makeValueReadable(val,Object(util.isArray)(valueTypeOption)?valueTypeOption[idx]:valueTypeOption,useUTC)}))};if(!noName||!noValue){var markerStr=noMarker?"":ctx.markupStyleCreator.makeTooltipMarker(fragment.markerType,fragment.markerColor||"#333",renderMode),readableName=noName?"":makeValueReadable(name,"ordinal",useUTC),valueTypeOption=fragment.valueType,readableValueList=noValue?[]:valueFormatter(fragment.value),valueAlignRight=!noMarker||!noName,valueCloseToMarker=!noMarker&&noName,_a=getTooltipTextStyle(toolTipTextStyle,renderMode),nameStyle=_a.nameStyle,valueStyle=_a.valueStyle;return"richText"===renderMode?(noMarker?"":markerStr)+(noName?"":wrapInlineNameRichText(ctx,readableName,nameStyle))+(noValue?"":function wrapInlineValueRichText(ctx,values,alignRight,valueCloseToMarker,style){var styles=[style],paddingLeft=valueCloseToMarker?10:20;return alignRight&&styles.push({padding:[0,0,0,paddingLeft],align:"right"}),ctx.markupStyleCreator.wrapRichTextStyle(Object(util.isArray)(values)?values.join("  "):values,styles)}(ctx,readableValueList,valueAlignRight,valueCloseToMarker,valueStyle)):wrapBlockHTML((noMarker?"":markerStr)+(noName?"":function wrapInlineNameHTML(name,leftHasMarker,style){return'<span style="'+style+";"+(leftHasMarker?"margin-left:2px":"")+'">'+encodeHTML(name)+"</span>"}(readableName,!noMarker,nameStyle))+(noValue?"":function wrapInlineValueHTML(valueList,alignRight,valueCloseToMarker,style){var paddingStr=valueCloseToMarker?"10px":"20px",alignCSS=alignRight?"float:right;margin-left:"+paddingStr:"";return valueList=Object(util.isArray)(valueList)?valueList:[valueList],'<span style="'+alignCSS+";"+style+'">'+Object(util.map)(valueList,(function(value){return encodeHTML(value)})).join("&nbsp;&nbsp;")+"</span>"}(readableValueList,valueAlignRight,valueCloseToMarker,valueStyle)),topMarginForOuterGap)}}function buildTooltipMarkup(fragment,markupStyleCreator,renderMode,orderMode,useUTC,toolTipTextStyle){if(fragment)return getBuilder(fragment)({useUTC:useUTC,renderMode:renderMode,orderMode:orderMode,markupStyleCreator:markupStyleCreator,valueFormatter:fragment.valueFormatter},fragment,0,toolTipTextStyle)}function wrapBlockHTML(encodedContent,topGap){return'<div style="'+("margin: "+topGap+"px 0 0")+';line-height:1;">'+encodedContent+'<div style="clear:both"></div></div>'}function wrapInlineNameRichText(ctx,name,style){return ctx.markupStyleCreator.wrapRichTextStyle(name,style)}function retrieveVisualColorForTooltipMarker(series,dataIndex){return convertToColorString(series.getData().getItemVisual(dataIndex,"style")[series.visualDrawType])}function getPaddingFromTooltipModel(model,renderMode){var padding=model.get("padding");return null!=padding?padding:"richText"===renderMode?[8,10]:10}var tooltipMarkup_TooltipMarkupStyleCreator=function(){function TooltipMarkupStyleCreator(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return TooltipMarkupStyleCreator.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},TooltipMarkupStyleCreator.prototype.makeTooltipMarker=function(markerType,colorStr,renderMode){var markerId="richText"===renderMode?this._generateStyleName():null,marker=getTooltipMarker({color:colorStr,type:markerType,renderMode:renderMode,markerId:markerId});return Object(util.isString)(marker)?marker:(this.richTextStyles[markerId]=marker.style,marker.content)},TooltipMarkupStyleCreator.prototype.wrapRichTextStyle=function(text,styles){var finalStl={};Object(util.isArray)(styles)?Object(util.each)(styles,(function(stl){return Object(util.extend)(finalStl,stl)})):Object(util.extend)(finalStl,styles);var styleName=this._generateStyleName();return this.richTextStyles[styleName]=finalStl,"{"+styleName+"|"+text+"}"},TooltipMarkupStyleCreator}();function defaultSeriesFormatTooltip(opt){var inlineValue,inlineValueType,subBlocks,sortParam,series=opt.series,dataIndex=opt.dataIndex,multipleSeries=opt.multipleSeries,data=series.getData(),tooltipDims=data.mapDimensionsAll("defaultedTooltip"),tooltipDimLen=tooltipDims.length,value=series.getRawValue(dataIndex),isValueArr=Object(util.isArray)(value),markerColor=retrieveVisualColorForTooltipMarker(series,dataIndex);if(tooltipDimLen>1||isValueArr&&!tooltipDimLen){var formatArrResult=function formatTooltipArrayValue(value,series,dataIndex,tooltipDims,colorStr){var data=series.getData(),isValueMultipleLine=Object(util.reduce)(value,(function(isValueMultipleLine,val,idx){var dimItem=data.getDimensionInfo(idx);return isValueMultipleLine||dimItem&&!1!==dimItem.tooltip&&null!=dimItem.displayName}),!1),inlineValues=[],inlineValueTypes=[],blocks=[];function setEachItem(val,dim){var dimInfo=data.getDimensionInfo(dim);dimInfo&&!1!==dimInfo.otherDims.tooltip&&(isValueMultipleLine?blocks.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:colorStr,name:dimInfo.displayName,value:val,valueType:dimInfo.type})):(inlineValues.push(val),inlineValueTypes.push(dimInfo.type)))}return tooltipDims.length?Object(util.each)(tooltipDims,(function(dim){setEachItem(retrieveRawValue(data,dataIndex,dim),dim)})):Object(util.each)(value,setEachItem),{inlineValues:inlineValues,inlineValueTypes:inlineValueTypes,blocks:blocks}}(value,series,dataIndex,tooltipDims,markerColor);inlineValue=formatArrResult.inlineValues,inlineValueType=formatArrResult.inlineValueTypes,subBlocks=formatArrResult.blocks,sortParam=formatArrResult.inlineValues[0]}else if(tooltipDimLen){var dimInfo=data.getDimensionInfo(tooltipDims[0]);sortParam=inlineValue=retrieveRawValue(data,dataIndex,tooltipDims[0]),inlineValueType=dimInfo.type}else sortParam=inlineValue=isValueArr?value[0]:value;var seriesNameSpecified=isNameSpecified(series),seriesName=seriesNameSpecified&&series.name||"",itemName=data.getName(dataIndex),inlineName=multipleSeries?seriesName:itemName;return createTooltipMarkup("section",{header:seriesName,noHeader:multipleSeries||!seriesNameSpecified,sortParam:sortParam,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:markerColor,name:inlineName,noName:!Object(util.trim)(inlineName),value:inlineValue,valueType:inlineValueType})].concat(subBlocks||[])})}var Series_inner=makeInner();function getSelectionKey(data,dataIndex){return data.getName(dataIndex)||data.getId(dataIndex)}var Series_SeriesModel=function(_super){function SeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._selectedDataIndicesMap={},_this}var proto;return __extends(SeriesModel,_super),SeriesModel.prototype.init=function(option,parentModel,ecModel){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(option,ecModel),(Series_inner(this).sourceManager=new sourceManager_SourceManager(this)).prepareSource();var data=this.getInitialData(option,ecModel);wrapData(data,this),this.dataTask.context.data=data,Series_inner(this).dataBeforeProcessed=data,autoSeriesName(this),this._initSelectedMapFromData(data)},SeriesModel.prototype.mergeDefaultAndTheme=function(option,ecModel){var layoutMode=fetchLayoutMode(this),inputPositionParams=layoutMode?getLayoutParams(option):{},themeSubType=this.subType;Component.hasClass(themeSubType)&&(themeSubType+="Series"),util.merge(option,ecModel.getTheme().get(this.subType)),util.merge(option,this.getDefaultOption()),defaultEmphasis(option,"label",["show"]),this.fillDataTextStyle(option.data),layoutMode&&mergeLayoutParam(option,inputPositionParams,layoutMode)},SeriesModel.prototype.mergeOption=function(newSeriesOption,ecModel){newSeriesOption=util.merge(this.option,newSeriesOption,!0),this.fillDataTextStyle(newSeriesOption.data);var layoutMode=fetchLayoutMode(this);layoutMode&&mergeLayoutParam(this.option,newSeriesOption,layoutMode);var sourceManager=Series_inner(this).sourceManager;sourceManager.dirty(),sourceManager.prepareSource();var data=this.getInitialData(newSeriesOption,ecModel);wrapData(data,this),this.dataTask.dirty(),this.dataTask.context.data=data,Series_inner(this).dataBeforeProcessed=data,autoSeriesName(this),this._initSelectedMapFromData(data)},SeriesModel.prototype.fillDataTextStyle=function(data){if(data&&!util.isTypedArray(data))for(var props=["show"],i=0;i<data.length;i++)data[i]&&data[i].label&&defaultEmphasis(data[i],"label",props)},SeriesModel.prototype.getInitialData=function(option,ecModel){},SeriesModel.prototype.appendData=function(params){this.getRawData().appendData(params.data)},SeriesModel.prototype.getData=function(dataType){var task=getCurrentTask(this);if(task){var data=task.context.data;return null==dataType?data:data.getLinkedData(dataType)}return Series_inner(this).data},SeriesModel.prototype.getAllData=function(){var mainData=this.getData();return mainData&&mainData.getLinkedDataAll?mainData.getLinkedDataAll():[{data:mainData}]},SeriesModel.prototype.setData=function(data){var task=getCurrentTask(this);if(task){var context=task.context;context.outputData=data,task!==this.dataTask&&(context.data=data)}Series_inner(this).data=data},SeriesModel.prototype.getEncode=function(){var encode=this.get("encode",!0);if(encode)return util.createHashMap(encode)},SeriesModel.prototype.getSourceManager=function(){return Series_inner(this).sourceManager},SeriesModel.prototype.getSource=function(){return this.getSourceManager().getSource()},SeriesModel.prototype.getRawData=function(){return Series_inner(this).dataBeforeProcessed},SeriesModel.prototype.getColorBy=function(){return this.get("colorBy")||"series"},SeriesModel.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},SeriesModel.prototype.getBaseAxis=function(){var coordSys=this.coordinateSystem;return coordSys&&coordSys.getBaseAxis&&coordSys.getBaseAxis()},SeriesModel.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){return defaultSeriesFormatTooltip({series:this,dataIndex:dataIndex,multipleSeries:multipleSeries})},SeriesModel.prototype.isAnimationEnabled=function(){var ecModel=this.ecModel;if(env.a.node&&(!ecModel||!ecModel.ssr))return!1;var animationEnabled=this.getShallow("animation");return animationEnabled&&this.getData().count()>this.getShallow("animationThreshold")&&(animationEnabled=!1),!!animationEnabled},SeriesModel.prototype.restoreData=function(){this.dataTask.dirty()},SeriesModel.prototype.getColorFromPalette=function(name,scope,requestColorNum){var ecModel=this.ecModel,color=palette_PaletteMixin.prototype.getColorFromPalette.call(this,name,scope,requestColorNum);return color||(color=ecModel.getColorFromPalette(name,scope,requestColorNum)),color},SeriesModel.prototype.coordDimToDataDim=function(coordDim){return this.getRawData().mapDimensionsAll(coordDim)},SeriesModel.prototype.getProgressive=function(){return this.get("progressive")},SeriesModel.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},SeriesModel.prototype.select=function(innerDataIndices,dataType){this._innerSelect(this.getData(dataType),innerDataIndices)},SeriesModel.prototype.unselect=function(innerDataIndices,dataType){var selectedMap=this.option.selectedMap;if(selectedMap){var selectedMode=this.option.selectedMode,data=this.getData(dataType);if("series"===selectedMode||"all"===selectedMap)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var i=0;i<innerDataIndices.length;i++){var nameOrId=getSelectionKey(data,innerDataIndices[i]);selectedMap[nameOrId]=!1,this._selectedDataIndicesMap[nameOrId]=-1}}},SeriesModel.prototype.toggleSelect=function(innerDataIndices,dataType){for(var tmpArr=[],i=0;i<innerDataIndices.length;i++)tmpArr[0]=innerDataIndices[i],this.isSelected(innerDataIndices[i],dataType)?this.unselect(tmpArr,dataType):this.select(tmpArr,dataType)},SeriesModel.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var selectedDataIndicesMap=this._selectedDataIndicesMap,nameOrIds=util.keys(selectedDataIndicesMap),dataIndices=[],i=0;i<nameOrIds.length;i++){var dataIndex=selectedDataIndicesMap[nameOrIds[i]];dataIndex>=0&&dataIndices.push(dataIndex)}return dataIndices},SeriesModel.prototype.isSelected=function(dataIndex,dataType){var selectedMap=this.option.selectedMap;if(!selectedMap)return!1;var data=this.getData(dataType);return("all"===selectedMap||selectedMap[getSelectionKey(data,dataIndex)])&&!data.getItemModel(dataIndex).get(["select","disabled"])},SeriesModel.prototype.isUniversalTransitionEnabled=function(){if(this.__universalTransitionEnabled)return!0;var universalTransitionOpt=this.option.universalTransition;return!!universalTransitionOpt&&(!0===universalTransitionOpt||universalTransitionOpt&&universalTransitionOpt.enabled)},SeriesModel.prototype._innerSelect=function(data,innerDataIndices){var _a,_b,option=this.option,selectedMode=option.selectedMode,len=innerDataIndices.length;if(selectedMode&&len)if("series"===selectedMode)option.selectedMap="all";else if("multiple"===selectedMode){util.isObject(option.selectedMap)||(option.selectedMap={});for(var selectedMap=option.selectedMap,i=0;i<len;i++){var dataIndex=innerDataIndices[i];selectedMap[nameOrId=getSelectionKey(data,dataIndex)]=!0,this._selectedDataIndicesMap[nameOrId]=data.getRawIndex(dataIndex)}}else if("single"===selectedMode||!0===selectedMode){var lastDataIndex=innerDataIndices[len-1],nameOrId=getSelectionKey(data,lastDataIndex);option.selectedMap=((_a={})[nameOrId]=!0,_a),this._selectedDataIndicesMap=((_b={})[nameOrId]=data.getRawIndex(lastDataIndex),_b)}},SeriesModel.prototype._initSelectedMapFromData=function(data){if(!this.option.selectedMap){var dataIndices=[];data.hasItemOption&&data.each((function(idx){var rawItem=data.getRawDataItem(idx);rawItem&&rawItem.selected&&dataIndices.push(idx)})),dataIndices.length>0&&this._innerSelect(data,dataIndices)}},SeriesModel.registerClass=function(clz){return Component.registerClass(clz)},SeriesModel.protoInitialize=((proto=SeriesModel.prototype).type="series.__base__",proto.seriesIndex=0,proto.ignoreStyleOnData=!1,proto.hasSymbolVisual=!1,proto.defaultSymbol="circle",proto.visualStyleAccessPath="itemStyle",void(proto.visualDrawType="fill")),SeriesModel}(Component);function autoSeriesName(seriesModel){var name=seriesModel.name;isNameSpecified(seriesModel)||(seriesModel.name=function getSeriesAutoName(seriesModel){var data=seriesModel.getRawData(),dataDims=data.mapDimensionsAll("seriesName"),nameArr=[];return util.each(dataDims,(function(dataDim){var dimInfo=data.getDimensionInfo(dataDim);dimInfo.displayName&&nameArr.push(dimInfo.displayName)})),nameArr.join(" ")}(seriesModel)||name)}function dataTaskCount(context){return context.model.getRawData().count()}function dataTaskReset(context){var seriesModel=context.model;return seriesModel.setData(seriesModel.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(param,context){context.outputData&&param.end>context.outputData.count()&&context.model.getRawData().cloneShallow(context.outputData)}function wrapData(data,seriesModel){util.each(util.concatArray(data.CHANGABLE_METHODS,data.DOWNSAMPLE_METHODS),(function(methodName){data.wrapMethod(methodName,util.curry(onDataChange,seriesModel))}))}function onDataChange(seriesModel,newList){var task=getCurrentTask(seriesModel);return task&&task.setOutputEnd((newList||this).count()),newList}function getCurrentTask(seriesModel){var scheduler=(seriesModel.ecModel||{}).scheduler,pipeline=scheduler&&scheduler.getPipeline(seriesModel.uid);if(pipeline){var task=pipeline.currentTask;if(task){var agentStubMap=task.agentStubMap;agentStubMap&&(task=agentStubMap.get(seriesModel.uid))}return task}}util.mixin(Series_SeriesModel,dataFormat_DataFormatMixin),util.mixin(Series_SeriesModel,palette_PaletteMixin),mountExtend(Series_SeriesModel,Component);var Series=Series_SeriesModel,Component_ComponentView=function(){function ComponentView(){this.group=new graphic_Group,this.uid=getUID("viewComponent")}return ComponentView.prototype.init=function(ecModel,api){},ComponentView.prototype.render=function(model,ecModel,api,payload){},ComponentView.prototype.dispose=function(ecModel,api){},ComponentView.prototype.updateView=function(model,ecModel,api,payload){},ComponentView.prototype.updateLayout=function(model,ecModel,api,payload){},ComponentView.prototype.updateVisual=function(model,ecModel,api,payload){},ComponentView.prototype.toggleBlurSeries=function(seriesModels,isBlur,ecModel){},ComponentView.prototype.eachRendered=function(cb){var group=this.group;group&&group.traverse(cb)},ComponentView}();enableClassExtend(Component_ComponentView),enableClassManagement(Component_ComponentView);var view_Component=Component_ComponentView;function createRenderPlanner(){var inner=makeInner();return function(seriesModel){var fields=inner(seriesModel),pipelineContext=seriesModel.pipelineContext,originalLarge=!!fields.large,originalProgressive=!!fields.progressiveRender,large=fields.large=!(!pipelineContext||!pipelineContext.large),progressive=fields.progressiveRender=!(!pipelineContext||!pipelineContext.progressiveRender);return!(originalLarge===large&&originalProgressive===progressive)&&"reset"}}var transformPath_CMD=core_PathProxy.CMD,transformPath_points=[[],[],[]],transformPath_mathSqrt=Math.sqrt,mathAtan2=Math.atan2;function transformPath(path,m){if(m){var cmd,nPoint,i,j,k,p,data=path.data,len=path.len(),M=transformPath_CMD.M,C=transformPath_CMD.C,L=transformPath_CMD.L,R=transformPath_CMD.R,A=transformPath_CMD.A,Q=transformPath_CMD.Q;for(i=0,j=0;i<len;){switch(cmd=data[i++],j=i,nPoint=0,cmd){case M:case L:nPoint=1;break;case C:nPoint=3;break;case Q:nPoint=2;break;case A:var x=m[4],y=m[5],sx=transformPath_mathSqrt(m[0]*m[0]+m[1]*m[1]),sy=transformPath_mathSqrt(m[2]*m[2]+m[3]*m[3]),angle=mathAtan2(-m[1]/sy,m[0]/sx);data[i]*=sx,data[i++]+=x,data[i]*=sy,data[i++]+=y,data[i++]*=sx,data[i++]*=sy,data[i++]+=angle,data[i++]+=angle,j=i+=2;break;case R:p[0]=data[i++],p[1]=data[i++],applyTransform(p,p,m),data[j++]=p[0],data[j++]=p[1],p[0]+=data[i++],p[1]+=data[i++],applyTransform(p,p,m),data[j++]=p[0],data[j++]=p[1]}for(k=0;k<nPoint;k++){var p_1=transformPath_points[k];p_1[0]=data[i++],p_1[1]=data[i++],applyTransform(p_1,p_1,m),data[j++]=p_1[0],data[j++]=p_1[1]}}path.increaseVersion()}}var path_mathSqrt=Math.sqrt,path_mathSin=Math.sin,path_mathCos=Math.cos,path_PI=Math.PI;function vMag(v){return Math.sqrt(v[0]*v[0]+v[1]*v[1])}function vRatio(u,v){return(u[0]*v[0]+u[1]*v[1])/(vMag(u)*vMag(v))}function vAngle(u,v){return(u[0]*v[1]<u[1]*v[0]?-1:1)*Math.acos(vRatio(u,v))}function processArc(x1,y1,x2,y2,fa,fs,rx,ry,psiDeg,cmd,path){var psi=psiDeg*(path_PI/180),xp=path_mathCos(psi)*(x1-x2)/2+path_mathSin(psi)*(y1-y2)/2,yp=-1*path_mathSin(psi)*(x1-x2)/2+path_mathCos(psi)*(y1-y2)/2,lambda=xp*xp/(rx*rx)+yp*yp/(ry*ry);lambda>1&&(rx*=path_mathSqrt(lambda),ry*=path_mathSqrt(lambda));var f=(fa===fs?-1:1)*path_mathSqrt((rx*rx*(ry*ry)-rx*rx*(yp*yp)-ry*ry*(xp*xp))/(rx*rx*(yp*yp)+ry*ry*(xp*xp)))||0,cxp=f*rx*yp/ry,cyp=f*-ry*xp/rx,cx=(x1+x2)/2+path_mathCos(psi)*cxp-path_mathSin(psi)*cyp,cy=(y1+y2)/2+path_mathSin(psi)*cxp+path_mathCos(psi)*cyp,theta=vAngle([1,0],[(xp-cxp)/rx,(yp-cyp)/ry]),u=[(xp-cxp)/rx,(yp-cyp)/ry],v=[(-1*xp-cxp)/rx,(-1*yp-cyp)/ry],dTheta=vAngle(u,v);if(vRatio(u,v)<=-1&&(dTheta=path_PI),vRatio(u,v)>=1&&(dTheta=0),dTheta<0){var n=Math.round(dTheta/path_PI*1e6)/1e6;dTheta=2*path_PI+n%2*path_PI}path.addData(cmd,cx,cy,rx,ry,theta,dTheta,psi,fs)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;var path_SVGPath=function(_super){function SVGPath(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_es6_extends(SVGPath,_super),SVGPath.prototype.applyTransform=function(m){},SVGPath}(graphic_Path);function isPathProxy(path){return null!=path.setData}function createPathOptions(str,opts){var pathProxy=function createPathProxyFromString(data){var path=new core_PathProxy;if(!data)return path;var prevCmd,cpx=0,cpy=0,subpathX=cpx,subpathY=cpy,CMD=core_PathProxy.CMD,cmdList=data.match(commandReg);if(!cmdList)return path;for(var l=0;l<cmdList.length;l++){for(var cmdText=cmdList[l],cmdStr=cmdText.charAt(0),cmd=void 0,p=cmdText.match(numberReg)||[],pLen=p.length,i=0;i<pLen;i++)p[i]=parseFloat(p[i]);for(var off=0;off<pLen;){var ctlPtx=void 0,ctlPty=void 0,rx=void 0,ry=void 0,psi=void 0,fa=void 0,fs=void 0,x1=cpx,y1=cpy,len=void 0,pathData=void 0;switch(cmdStr){case"l":cpx+=p[off++],cpy+=p[off++],cmd=CMD.L,path.addData(cmd,cpx,cpy);break;case"L":cpx=p[off++],cpy=p[off++],cmd=CMD.L,path.addData(cmd,cpx,cpy);break;case"m":cpx+=p[off++],cpy+=p[off++],cmd=CMD.M,path.addData(cmd,cpx,cpy),subpathX=cpx,subpathY=cpy,cmdStr="l";break;case"M":cpx=p[off++],cpy=p[off++],cmd=CMD.M,path.addData(cmd,cpx,cpy),subpathX=cpx,subpathY=cpy,cmdStr="L";break;case"h":cpx+=p[off++],cmd=CMD.L,path.addData(cmd,cpx,cpy);break;case"H":cpx=p[off++],cmd=CMD.L,path.addData(cmd,cpx,cpy);break;case"v":cpy+=p[off++],cmd=CMD.L,path.addData(cmd,cpx,cpy);break;case"V":cpy=p[off++],cmd=CMD.L,path.addData(cmd,cpx,cpy);break;case"C":cmd=CMD.C,path.addData(cmd,p[off++],p[off++],p[off++],p[off++],p[off++],p[off++]),cpx=p[off-2],cpy=p[off-1];break;case"c":cmd=CMD.C,path.addData(cmd,p[off++]+cpx,p[off++]+cpy,p[off++]+cpx,p[off++]+cpy,p[off++]+cpx,p[off++]+cpy),cpx+=p[off-2],cpy+=p[off-1];break;case"S":ctlPtx=cpx,ctlPty=cpy,len=path.len(),pathData=path.data,prevCmd===CMD.C&&(ctlPtx+=cpx-pathData[len-4],ctlPty+=cpy-pathData[len-3]),cmd=CMD.C,x1=p[off++],y1=p[off++],cpx=p[off++],cpy=p[off++],path.addData(cmd,ctlPtx,ctlPty,x1,y1,cpx,cpy);break;case"s":ctlPtx=cpx,ctlPty=cpy,len=path.len(),pathData=path.data,prevCmd===CMD.C&&(ctlPtx+=cpx-pathData[len-4],ctlPty+=cpy-pathData[len-3]),cmd=CMD.C,x1=cpx+p[off++],y1=cpy+p[off++],cpx+=p[off++],cpy+=p[off++],path.addData(cmd,ctlPtx,ctlPty,x1,y1,cpx,cpy);break;case"Q":x1=p[off++],y1=p[off++],cpx=p[off++],cpy=p[off++],cmd=CMD.Q,path.addData(cmd,x1,y1,cpx,cpy);break;case"q":x1=p[off++]+cpx,y1=p[off++]+cpy,cpx+=p[off++],cpy+=p[off++],cmd=CMD.Q,path.addData(cmd,x1,y1,cpx,cpy);break;case"T":ctlPtx=cpx,ctlPty=cpy,len=path.len(),pathData=path.data,prevCmd===CMD.Q&&(ctlPtx+=cpx-pathData[len-4],ctlPty+=cpy-pathData[len-3]),cpx=p[off++],cpy=p[off++],cmd=CMD.Q,path.addData(cmd,ctlPtx,ctlPty,cpx,cpy);break;case"t":ctlPtx=cpx,ctlPty=cpy,len=path.len(),pathData=path.data,prevCmd===CMD.Q&&(ctlPtx+=cpx-pathData[len-4],ctlPty+=cpy-pathData[len-3]),cpx+=p[off++],cpy+=p[off++],cmd=CMD.Q,path.addData(cmd,ctlPtx,ctlPty,cpx,cpy);break;case"A":rx=p[off++],ry=p[off++],psi=p[off++],fa=p[off++],fs=p[off++],processArc(x1=cpx,y1=cpy,cpx=p[off++],cpy=p[off++],fa,fs,rx,ry,psi,cmd=CMD.A,path);break;case"a":rx=p[off++],ry=p[off++],psi=p[off++],fa=p[off++],fs=p[off++],processArc(x1=cpx,y1=cpy,cpx+=p[off++],cpy+=p[off++],fa,fs,rx,ry,psi,cmd=CMD.A,path)}}"z"!==cmdStr&&"Z"!==cmdStr||(cmd=CMD.Z,path.addData(cmd),cpx=subpathX,cpy=subpathY),prevCmd=cmd}return path.toStatic(),path}(str),innerOpts=Object(util.extend)({},opts);return innerOpts.buildPath=function(path){if(isPathProxy(path)){path.setData(pathProxy.data),(ctx=path.getContext())&&path.rebuildPath(ctx,1)}else{var ctx=path;pathProxy.rebuildPath(ctx,1)}},innerOpts.applyTransform=function(m){transformPath(pathProxy,m),this.dirtyShape()},innerOpts}function createFromString(str,opts){return new path_SVGPath(createPathOptions(str,opts))}function clonePath(sourcePath,opts){opts=opts||{};var path=new graphic_Path;return sourcePath.shape&&path.setShape(sourcePath.shape),path.setStyle(sourcePath.style),opts.bakeTransform?transformPath(path.path,sourcePath.getComputedTransform()):opts.toLocal?path.setLocalTransform(sourcePath.getComputedTransform()):path.copyTransform(sourcePath),path.buildPath=sourcePath.buildPath,path.applyTransform=path.applyTransform,path.z=sourcePath.z,path.z2=sourcePath.z2,path.zlevel=sourcePath.zlevel,path}var CircleShape=function CircleShape(){this.cx=0,this.cy=0,this.r=0},Circle_Circle=function(_super){function Circle(opts){return _super.call(this,opts)||this}return tslib_es6_extends(Circle,_super),Circle.prototype.getDefaultShape=function(){return new CircleShape},Circle.prototype.buildPath=function(ctx,shape){ctx.moveTo(shape.cx+shape.r,shape.cy),ctx.arc(shape.cx,shape.cy,shape.r,0,2*Math.PI)},Circle}(graphic_Path);Circle_Circle.prototype.type="circle";var shape_Circle=Circle_Circle,EllipseShape=function EllipseShape(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},Ellipse_Ellipse=function(_super){function Ellipse(opts){return _super.call(this,opts)||this}return tslib_es6_extends(Ellipse,_super),Ellipse.prototype.getDefaultShape=function(){return new EllipseShape},Ellipse.prototype.buildPath=function(ctx,shape){var k=.5522848,x=shape.cx,y=shape.cy,a=shape.rx,b=shape.ry,ox=a*k,oy=b*k;ctx.moveTo(x-a,y),ctx.bezierCurveTo(x-a,y-oy,x-ox,y-b,x,y-b),ctx.bezierCurveTo(x+ox,y-b,x+a,y-oy,x+a,y),ctx.bezierCurveTo(x+a,y+oy,x+ox,y+b,x,y+b),ctx.bezierCurveTo(x-ox,y+b,x-a,y+oy,x-a,y),ctx.closePath()},Ellipse}(graphic_Path);Ellipse_Ellipse.prototype.type="ellipse";var shape_Ellipse=Ellipse_Ellipse,roundSector_PI=Math.PI,roundSector_PI2=2*roundSector_PI,roundSector_mathSin=Math.sin,roundSector_mathCos=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,roundSector_mathAbs=Math.abs,roundSector_mathSqrt=Math.sqrt,roundSector_mathMax=Math.max,roundSector_mathMin=Math.min;function computeCornerTangents(x0,y0,x1,y1,radius,cr,clockwise){var x01=x0-x1,y01=y0-y1,lo=(clockwise?cr:-cr)/roundSector_mathSqrt(x01*x01+y01*y01),ox=lo*y01,oy=-lo*x01,x11=x0+ox,y11=y0+oy,x10=x1+ox,y10=y1+oy,x00=(x11+x10)/2,y00=(y11+y10)/2,dx=x10-x11,dy=y10-y11,d2=dx*dx+dy*dy,r=radius-cr,s=x11*y10-x10*y11,d=(dy<0?-1:1)*roundSector_mathSqrt(roundSector_mathMax(0,r*r*d2-s*s)),cx0=(s*dy-dx*d)/d2,cy0=(-s*dx-dy*d)/d2,cx1=(s*dy+dx*d)/d2,cy1=(-s*dx+dy*d)/d2,dx0=cx0-x00,dy0=cy0-y00,dx1=cx1-x00,dy1=cy1-y00;return dx0*dx0+dy0*dy0>dx1*dx1+dy1*dy1&&(cx0=cx1,cy0=cy1),{cx:cx0,cy:cy0,x0:-ox,y0:-oy,x1:cx0*(radius/r-1),y1:cy0*(radius/r-1)}}function roundSector_buildPath(ctx,shape){var _a,radius=roundSector_mathMax(shape.r,0),innerRadius=roundSector_mathMax(shape.r0||0,0),hasRadius=radius>0;if(hasRadius||innerRadius>0){if(hasRadius||(radius=innerRadius,innerRadius=0),innerRadius>radius){var tmp=radius;radius=innerRadius,innerRadius=tmp}var startAngle=shape.startAngle,endAngle=shape.endAngle;if(!isNaN(startAngle)&&!isNaN(endAngle)){var cx=shape.cx,cy=shape.cy,clockwise=!!shape.clockwise,arc=roundSector_mathAbs(endAngle-startAngle),mod=arc>roundSector_PI2&&arc%roundSector_PI2;if(mod>1e-4&&(arc=mod),radius>1e-4)if(arc>roundSector_PI2-1e-4)ctx.moveTo(cx+radius*roundSector_mathCos(startAngle),cy+radius*roundSector_mathSin(startAngle)),ctx.arc(cx,cy,radius,startAngle,endAngle,!clockwise),innerRadius>1e-4&&(ctx.moveTo(cx+innerRadius*roundSector_mathCos(endAngle),cy+innerRadius*roundSector_mathSin(endAngle)),ctx.arc(cx,cy,innerRadius,endAngle,startAngle,clockwise));else{var icrStart=void 0,icrEnd=void 0,ocrStart=void 0,ocrEnd=void 0,ocrs=void 0,ocre=void 0,icrs=void 0,icre=void 0,ocrMax=void 0,icrMax=void 0,limitedOcrMax=void 0,limitedIcrMax=void 0,xre=void 0,yre=void 0,xirs=void 0,yirs=void 0,xrs=radius*roundSector_mathCos(startAngle),yrs=radius*roundSector_mathSin(startAngle),xire=innerRadius*roundSector_mathCos(endAngle),yire=innerRadius*roundSector_mathSin(endAngle),hasArc=arc>1e-4;if(hasArc){var cornerRadius=shape.cornerRadius;cornerRadius&&(icrStart=(_a=function normalizeCornerRadius(cr){var arr;if(Object(util.isArray)(cr)){var len=cr.length;if(!len)return cr;arr=1===len?[cr[0],cr[0],0,0]:2===len?[cr[0],cr[0],cr[1],cr[1]]:3===len?cr.concat(cr[2]):cr}else arr=[cr,cr,cr,cr];return arr}(cornerRadius))[0],icrEnd=_a[1],ocrStart=_a[2],ocrEnd=_a[3]);var halfRd=roundSector_mathAbs(radius-innerRadius)/2;if(ocrs=roundSector_mathMin(halfRd,ocrStart),ocre=roundSector_mathMin(halfRd,ocrEnd),icrs=roundSector_mathMin(halfRd,icrStart),icre=roundSector_mathMin(halfRd,icrEnd),limitedOcrMax=ocrMax=roundSector_mathMax(ocrs,ocre),limitedIcrMax=icrMax=roundSector_mathMax(icrs,icre),(ocrMax>1e-4||icrMax>1e-4)&&(xre=radius*roundSector_mathCos(endAngle),yre=radius*roundSector_mathSin(endAngle),xirs=innerRadius*roundSector_mathCos(startAngle),yirs=innerRadius*roundSector_mathSin(startAngle),arc<roundSector_PI)){var it_1=function intersect(x0,y0,x1,y1,x2,y2,x3,y3){var dx10=x1-x0,dy10=y1-y0,dx32=x3-x2,dy32=y3-y2,t=dy32*dx10-dx32*dy10;if(!(t*t<1e-4))return[x0+(t=(dx32*(y0-y2)-dy32*(x0-x2))/t)*dx10,y0+t*dy10]}(xrs,yrs,xirs,yirs,xre,yre,xire,yire);if(it_1){var x0=xrs-it_1[0],y0=yrs-it_1[1],x1=xre-it_1[0],y1=yre-it_1[1],a=1/roundSector_mathSin(mathACos((x0*x1+y0*y1)/(roundSector_mathSqrt(x0*x0+y0*y0)*roundSector_mathSqrt(x1*x1+y1*y1)))/2),b=roundSector_mathSqrt(it_1[0]*it_1[0]+it_1[1]*it_1[1]);limitedOcrMax=roundSector_mathMin(ocrMax,(radius-b)/(a+1)),limitedIcrMax=roundSector_mathMin(icrMax,(innerRadius-b)/(a-1))}}}if(hasArc)if(limitedOcrMax>1e-4){var crStart=roundSector_mathMin(ocrStart,limitedOcrMax),crEnd=roundSector_mathMin(ocrEnd,limitedOcrMax),ct0=computeCornerTangents(xirs,yirs,xrs,yrs,radius,crStart,clockwise),ct1=computeCornerTangents(xre,yre,xire,yire,radius,crEnd,clockwise);ctx.moveTo(cx+ct0.cx+ct0.x0,cy+ct0.cy+ct0.y0),limitedOcrMax<ocrMax&&crStart===crEnd?ctx.arc(cx+ct0.cx,cy+ct0.cy,limitedOcrMax,mathATan2(ct0.y0,ct0.x0),mathATan2(ct1.y0,ct1.x0),!clockwise):(crStart>0&&ctx.arc(cx+ct0.cx,cy+ct0.cy,crStart,mathATan2(ct0.y0,ct0.x0),mathATan2(ct0.y1,ct0.x1),!clockwise),ctx.arc(cx,cy,radius,mathATan2(ct0.cy+ct0.y1,ct0.cx+ct0.x1),mathATan2(ct1.cy+ct1.y1,ct1.cx+ct1.x1),!clockwise),crEnd>0&&ctx.arc(cx+ct1.cx,cy+ct1.cy,crEnd,mathATan2(ct1.y1,ct1.x1),mathATan2(ct1.y0,ct1.x0),!clockwise))}else ctx.moveTo(cx+xrs,cy+yrs),ctx.arc(cx,cy,radius,startAngle,endAngle,!clockwise);else ctx.moveTo(cx+xrs,cy+yrs);if(innerRadius>1e-4&&hasArc)if(limitedIcrMax>1e-4){crStart=roundSector_mathMin(icrStart,limitedIcrMax),ct0=computeCornerTangents(xire,yire,xre,yre,innerRadius,-(crEnd=roundSector_mathMin(icrEnd,limitedIcrMax)),clockwise),ct1=computeCornerTangents(xrs,yrs,xirs,yirs,innerRadius,-crStart,clockwise);ctx.lineTo(cx+ct0.cx+ct0.x0,cy+ct0.cy+ct0.y0),limitedIcrMax<icrMax&&crStart===crEnd?ctx.arc(cx+ct0.cx,cy+ct0.cy,limitedIcrMax,mathATan2(ct0.y0,ct0.x0),mathATan2(ct1.y0,ct1.x0),!clockwise):(crEnd>0&&ctx.arc(cx+ct0.cx,cy+ct0.cy,crEnd,mathATan2(ct0.y0,ct0.x0),mathATan2(ct0.y1,ct0.x1),!clockwise),ctx.arc(cx,cy,innerRadius,mathATan2(ct0.cy+ct0.y1,ct0.cx+ct0.x1),mathATan2(ct1.cy+ct1.y1,ct1.cx+ct1.x1),clockwise),crStart>0&&ctx.arc(cx+ct1.cx,cy+ct1.cy,crStart,mathATan2(ct1.y1,ct1.x1),mathATan2(ct1.y0,ct1.x0),!clockwise))}else ctx.lineTo(cx+xire,cy+yire),ctx.arc(cx,cy,innerRadius,endAngle,startAngle,clockwise);else ctx.lineTo(cx+xire,cy+yire)}else ctx.moveTo(cx,cy);ctx.closePath()}}}var SectorShape=function SectorShape(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},Sector_Sector=function(_super){function Sector(opts){return _super.call(this,opts)||this}return tslib_es6_extends(Sector,_super),Sector.prototype.getDefaultShape=function(){return new SectorShape},Sector.prototype.buildPath=function(ctx,shape){roundSector_buildPath(ctx,shape)},Sector.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},Sector}(graphic_Path);Sector_Sector.prototype.type="sector";var shape_Sector=Sector_Sector,RingShape=function RingShape(){this.cx=0,this.cy=0,this.r=0,this.r0=0},Ring_Ring=function(_super){function Ring(opts){return _super.call(this,opts)||this}return tslib_es6_extends(Ring,_super),Ring.prototype.getDefaultShape=function(){return new RingShape},Ring.prototype.buildPath=function(ctx,shape){var x=shape.cx,y=shape.cy,PI2=2*Math.PI;ctx.moveTo(x+shape.r,y),ctx.arc(x,y,shape.r,0,PI2,!1),ctx.moveTo(x+shape.r0,y),ctx.arc(x,y,shape.r0,0,PI2,!0)},Ring}(graphic_Path);Ring_Ring.prototype.type="ring";var shape_Ring=Ring_Ring;function poly_buildPath(ctx,shape,closePath){var smooth=shape.smooth,points=shape.points;if(points&&points.length>=2){if(smooth){var controlPoints=function smoothBezier(points,smooth,isLoop,constraint){var prevPoint,nextPoint,min,max,cps=[],v=[],v1=[],v2=[];if(constraint){min=[1/0,1/0],max=[-1/0,-1/0];for(var i=0,len=points.length;i<len;i++)vector_min(min,min,points[i]),vector_max(max,max,points[i]);vector_min(min,min,constraint[0]),vector_max(max,max,constraint[1])}for(i=0,len=points.length;i<len;i++){var point=points[i];if(isLoop)prevPoint=points[i?i-1:len-1],nextPoint=points[(i+1)%len];else{if(0===i||i===len-1){cps.push(clone(points[i]));continue}prevPoint=points[i-1],nextPoint=points[i+1]}sub(v,nextPoint,prevPoint),vector_scale(v,v,smooth);var d0=vector_distance(point,prevPoint),d1=vector_distance(point,nextPoint),sum=d0+d1;0!==sum&&(d0/=sum,d1/=sum),vector_scale(v1,v,-d0),vector_scale(v2,v,d1);var cp0=vector_add([],point,v1),cp1=vector_add([],point,v2);constraint&&(vector_max(cp0,cp0,min),vector_min(cp0,cp0,max),vector_max(cp1,cp1,min),vector_min(cp1,cp1,max)),cps.push(cp0),cps.push(cp1)}return isLoop&&cps.push(cps.shift()),cps}(points,smooth,closePath,shape.smoothConstraint);ctx.moveTo(points[0][0],points[0][1]);for(var len=points.length,i=0;i<(closePath?len:len-1);i++){var cp1=controlPoints[2*i],cp2=controlPoints[2*i+1],p=points[(i+1)%len];ctx.bezierCurveTo(cp1[0],cp1[1],cp2[0],cp2[1],p[0],p[1])}}else{ctx.moveTo(points[0][0],points[0][1]);i=1;for(var l=points.length;i<l;i++)ctx.lineTo(points[i][0],points[i][1])}closePath&&ctx.closePath()}}var PolygonShape=function PolygonShape(){this.points=null,this.smooth=0,this.smoothConstraint=null},Polygon_Polygon=function(_super){function Polygon(opts){return _super.call(this,opts)||this}return tslib_es6_extends(Polygon,_super),Polygon.prototype.getDefaultShape=function(){return new PolygonShape},Polygon.prototype.buildPath=function(ctx,shape){poly_buildPath(ctx,shape,!0)},Polygon}(graphic_Path);Polygon_Polygon.prototype.type="polygon";var shape_Polygon=Polygon_Polygon,PolylineShape=function PolylineShape(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},Polyline_Polyline=function(_super){function Polyline(opts){return _super.call(this,opts)||this}return tslib_es6_extends(Polyline,_super),Polyline.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Polyline.prototype.getDefaultShape=function(){return new PolylineShape},Polyline.prototype.buildPath=function(ctx,shape){poly_buildPath(ctx,shape,!1)},Polyline}(graphic_Path);Polyline_Polyline.prototype.type="polyline";var shape_Polyline=Polyline_Polyline,Line_subPixelOptimizeOutputShape={},LineShape=function LineShape(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},Line_Line=function(_super){function Line(opts){return _super.call(this,opts)||this}return tslib_es6_extends(Line,_super),Line.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Line.prototype.getDefaultShape=function(){return new LineShape},Line.prototype.buildPath=function(ctx,shape){var x1,y1,x2,y2;if(this.subPixelOptimize){var optimizedShape=subPixelOptimizeLine(Line_subPixelOptimizeOutputShape,shape,this.style);x1=optimizedShape.x1,y1=optimizedShape.y1,x2=optimizedShape.x2,y2=optimizedShape.y2}else x1=shape.x1,y1=shape.y1,x2=shape.x2,y2=shape.y2;var percent=shape.percent;0!==percent&&(ctx.moveTo(x1,y1),percent<1&&(x2=x1*(1-percent)+x2*percent,y2=y1*(1-percent)+y2*percent),ctx.lineTo(x2,y2))},Line.prototype.pointAt=function(p){var shape=this.shape;return[shape.x1*(1-p)+shape.x2*p,shape.y1*(1-p)+shape.y2*p]},Line}(graphic_Path);Line_Line.prototype.type="line";var shape_Line=Line_Line,BezierCurve_out=[],BezierCurveShape=function BezierCurveShape(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function someVectorAt(shape,t,isTangent){var cpx2=shape.cpx2,cpy2=shape.cpy2;return null!=cpx2||null!=cpy2?[(isTangent?cubicDerivativeAt:curve_cubicAt)(shape.x1,shape.cpx1,shape.cpx2,shape.x2,t),(isTangent?cubicDerivativeAt:curve_cubicAt)(shape.y1,shape.cpy1,shape.cpy2,shape.y2,t)]:[(isTangent?curve_quadraticDerivativeAt:curve_quadraticAt)(shape.x1,shape.cpx1,shape.x2,t),(isTangent?curve_quadraticDerivativeAt:curve_quadraticAt)(shape.y1,shape.cpy1,shape.y2,t)]}var BezierCurve_BezierCurve=function(_super){function BezierCurve(opts){return _super.call(this,opts)||this}return tslib_es6_extends(BezierCurve,_super),BezierCurve.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},BezierCurve.prototype.getDefaultShape=function(){return new BezierCurveShape},BezierCurve.prototype.buildPath=function(ctx,shape){var x1=shape.x1,y1=shape.y1,x2=shape.x2,y2=shape.y2,cpx1=shape.cpx1,cpy1=shape.cpy1,cpx2=shape.cpx2,cpy2=shape.cpy2,percent=shape.percent;0!==percent&&(ctx.moveTo(x1,y1),null==cpx2||null==cpy2?(percent<1&&(curve_quadraticSubdivide(x1,cpx1,x2,percent,BezierCurve_out),cpx1=BezierCurve_out[1],x2=BezierCurve_out[2],curve_quadraticSubdivide(y1,cpy1,y2,percent,BezierCurve_out),cpy1=BezierCurve_out[1],y2=BezierCurve_out[2]),ctx.quadraticCurveTo(cpx1,cpy1,x2,y2)):(percent<1&&(cubicSubdivide(x1,cpx1,cpx2,x2,percent,BezierCurve_out),cpx1=BezierCurve_out[1],cpx2=BezierCurve_out[2],x2=BezierCurve_out[3],cubicSubdivide(y1,cpy1,cpy2,y2,percent,BezierCurve_out),cpy1=BezierCurve_out[1],cpy2=BezierCurve_out[2],y2=BezierCurve_out[3]),ctx.bezierCurveTo(cpx1,cpy1,cpx2,cpy2,x2,y2)))},BezierCurve.prototype.pointAt=function(t){return someVectorAt(this.shape,t,!1)},BezierCurve.prototype.tangentAt=function(t){var p=someVectorAt(this.shape,t,!0);return normalize(p,p)},BezierCurve}(graphic_Path);BezierCurve_BezierCurve.prototype.type="bezier-curve";var shape_BezierCurve=BezierCurve_BezierCurve,ArcShape=function ArcShape(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},Arc_Arc=function(_super){function Arc(opts){return _super.call(this,opts)||this}return tslib_es6_extends(Arc,_super),Arc.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Arc.prototype.getDefaultShape=function(){return new ArcShape},Arc.prototype.buildPath=function(ctx,shape){var x=shape.cx,y=shape.cy,r=Math.max(shape.r,0),startAngle=shape.startAngle,endAngle=shape.endAngle,clockwise=shape.clockwise,unitX=Math.cos(startAngle),unitY=Math.sin(startAngle);ctx.moveTo(unitX*r+x,unitY*r+y),ctx.arc(x,y,r,startAngle,endAngle,!clockwise)},Arc}(graphic_Path);Arc_Arc.prototype.type="arc";var shape_Arc=Arc_Arc,CompoundPath_CompoundPath=function(_super){function CompoundPath(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="compound",_this}return tslib_es6_extends(CompoundPath,_super),CompoundPath.prototype._updatePathDirty=function(){for(var paths=this.shape.paths,dirtyPath=this.shapeChanged(),i=0;i<paths.length;i++)dirtyPath=dirtyPath||paths[i].shapeChanged();dirtyPath&&this.dirtyShape()},CompoundPath.prototype.beforeBrush=function(){this._updatePathDirty();for(var paths=this.shape.paths||[],scale=this.getGlobalScale(),i=0;i<paths.length;i++)paths[i].path||paths[i].createPathProxy(),paths[i].path.setScale(scale[0],scale[1],paths[i].segmentIgnoreThreshold)},CompoundPath.prototype.buildPath=function(ctx,shape){for(var paths=shape.paths||[],i=0;i<paths.length;i++)paths[i].buildPath(ctx,paths[i].shape,!0)},CompoundPath.prototype.afterBrush=function(){for(var paths=this.shape.paths||[],i=0;i<paths.length;i++)paths[i].pathUpdated()},CompoundPath.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),graphic_Path.prototype.getBoundingRect.call(this)},CompoundPath}(graphic_Path),graphic_CompoundPath=CompoundPath_CompoundPath,graphic_Gradient=function(){function Gradient(colorStops){this.colorStops=colorStops||[]}return Gradient.prototype.addColorStop=function(offset,color){this.colorStops.push({offset:offset,color:color})},Gradient}(),graphic_LinearGradient=function(_super){function LinearGradient(x,y,x2,y2,colorStops,globalCoord){var _this=_super.call(this,colorStops)||this;return _this.x=null==x?0:x,_this.y=null==y?0:y,_this.x2=null==x2?1:x2,_this.y2=null==y2?0:y2,_this.type="linear",_this.global=globalCoord||!1,_this}return tslib_es6_extends(LinearGradient,_super),LinearGradient}(graphic_Gradient),graphic_RadialGradient=function(_super){function RadialGradient(x,y,r,colorStops,globalCoord){var _this=_super.call(this,colorStops)||this;return _this.x=null==x?.5:x,_this.y=null==y?.5:y,_this.r=null==r?.5:r,_this.type="radial",_this.global=globalCoord||!1,_this}return tslib_es6_extends(RadialGradient,_super),RadialGradient}(graphic_Gradient),OrientedBoundingRect_extent=[0,0],extent2=[0,0],OrientedBoundingRect_minTv=new core_Point,OrientedBoundingRect_maxTv=new core_Point,core_OrientedBoundingRect=function(){function OrientedBoundingRect(rect,transform){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new core_Point;for(i=0;i<2;i++)this._axes[i]=new core_Point;rect&&this.fromBoundingRect(rect,transform)}return OrientedBoundingRect.prototype.fromBoundingRect=function(rect,transform){var corners=this._corners,axes=this._axes,x=rect.x,y=rect.y,x2=x+rect.width,y2=y+rect.height;if(corners[0].set(x,y),corners[1].set(x2,y),corners[2].set(x2,y2),corners[3].set(x,y2),transform)for(var i=0;i<4;i++)corners[i].transform(transform);core_Point.sub(axes[0],corners[1],corners[0]),core_Point.sub(axes[1],corners[3],corners[0]),axes[0].normalize(),axes[1].normalize();for(i=0;i<2;i++)this._origin[i]=axes[i].dot(corners[0])},OrientedBoundingRect.prototype.intersect=function(other,mtv){var overlapped=!0,noMtv=!mtv;return OrientedBoundingRect_minTv.set(1/0,1/0),OrientedBoundingRect_maxTv.set(0,0),!this._intersectCheckOneSide(this,other,OrientedBoundingRect_minTv,OrientedBoundingRect_maxTv,noMtv,1)&&(overlapped=!1,noMtv)||!this._intersectCheckOneSide(other,this,OrientedBoundingRect_minTv,OrientedBoundingRect_maxTv,noMtv,-1)&&(overlapped=!1,noMtv)||noMtv||core_Point.copy(mtv,overlapped?OrientedBoundingRect_minTv:OrientedBoundingRect_maxTv),overlapped},OrientedBoundingRect.prototype._intersectCheckOneSide=function(self,other,minTv,maxTv,noMtv,inverse){for(var overlapped=!0,i=0;i<2;i++){var axis=this._axes[i];if(this._getProjMinMaxOnAxis(i,self._corners,OrientedBoundingRect_extent),this._getProjMinMaxOnAxis(i,other._corners,extent2),OrientedBoundingRect_extent[1]<extent2[0]||OrientedBoundingRect_extent[0]>extent2[1]){if(overlapped=!1,noMtv)return overlapped;var dist0=Math.abs(extent2[0]-OrientedBoundingRect_extent[1]),dist1=Math.abs(OrientedBoundingRect_extent[0]-extent2[1]);Math.min(dist0,dist1)>maxTv.len()&&(dist0<dist1?core_Point.scale(maxTv,axis,-dist0*inverse):core_Point.scale(maxTv,axis,dist1*inverse))}else if(minTv){dist0=Math.abs(extent2[0]-OrientedBoundingRect_extent[1]),dist1=Math.abs(OrientedBoundingRect_extent[0]-extent2[1]);Math.min(dist0,dist1)<minTv.len()&&(dist0<dist1?core_Point.scale(minTv,axis,dist0*inverse):core_Point.scale(minTv,axis,-dist1*inverse))}}return overlapped},OrientedBoundingRect.prototype._getProjMinMaxOnAxis=function(dim,corners,out){for(var axis=this._axes[dim],origin=this._origin,proj=corners[0].dot(axis)+origin[dim],min=proj,max=proj,i=1;i<corners.length;i++){var proj_1=corners[i].dot(axis)+origin[dim];min=Math.min(proj_1,min),max=Math.max(proj_1,max)}out[0]=min,out[1]=max},OrientedBoundingRect}(),IncrementalDisplayable_m=[],IncrementalDisplayable_IncrementalDisplayable=function(_super){function IncrementalDisplayable(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.notClear=!0,_this.incremental=!0,_this._displayables=[],_this._temporaryDisplayables=[],_this._cursor=0,_this}return tslib_es6_extends(IncrementalDisplayable,_super),IncrementalDisplayable.prototype.traverse=function(cb,context){cb.call(context,this)},IncrementalDisplayable.prototype.useStyle=function(){this.style={}},IncrementalDisplayable.prototype.getCursor=function(){return this._cursor},IncrementalDisplayable.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},IncrementalDisplayable.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},IncrementalDisplayable.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},IncrementalDisplayable.prototype.addDisplayable=function(displayable,notPersistent){notPersistent?this._temporaryDisplayables.push(displayable):this._displayables.push(displayable),this.markRedraw()},IncrementalDisplayable.prototype.addDisplayables=function(displayables,notPersistent){notPersistent=notPersistent||!1;for(var i=0;i<displayables.length;i++)this.addDisplayable(displayables[i],notPersistent)},IncrementalDisplayable.prototype.getDisplayables=function(){return this._displayables},IncrementalDisplayable.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},IncrementalDisplayable.prototype.eachPendingDisplayable=function(cb){for(var i=this._cursor;i<this._displayables.length;i++)cb&&cb(this._displayables[i]);for(i=0;i<this._temporaryDisplayables.length;i++)cb&&cb(this._temporaryDisplayables[i])},IncrementalDisplayable.prototype.update=function(){this.updateTransform();for(var i=this._cursor;i<this._displayables.length;i++){(displayable=this._displayables[i]).parent=this,displayable.update(),displayable.parent=null}for(i=0;i<this._temporaryDisplayables.length;i++){var displayable;(displayable=this._temporaryDisplayables[i]).parent=this,displayable.update(),displayable.parent=null}},IncrementalDisplayable.prototype.getBoundingRect=function(){if(!this._rect){for(var rect=new core_BoundingRect(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var displayable=this._displayables[i],childRect=displayable.getBoundingRect().clone();displayable.needLocalTransform()&&childRect.applyTransform(displayable.getLocalTransform(IncrementalDisplayable_m)),rect.union(childRect)}this._rect=rect}return this._rect},IncrementalDisplayable.prototype.contain=function(x,y){var localPos=this.transformCoordToLocal(x,y);if(this.getBoundingRect().contain(localPos[0],localPos[1]))for(var i=0;i<this._displayables.length;i++){if(this._displayables[i].contain(x,y))return!0}return!1},IncrementalDisplayable}(graphic_Displayable),graphic_IncrementalDisplayable=IncrementalDisplayable_IncrementalDisplayable,graphic_mathMax=Math.max,graphic_mathMin=Math.min,_customShapeMap={};function extendShape(opts){return graphic_Path.extend(opts)}var extendPathFromString=function extendFromString(str,defaultOpts){var innerOpts=createPathOptions(str,defaultOpts);return function(_super){function Sub(opts){var _this=_super.call(this,opts)||this;return _this.applyTransform=innerOpts.applyTransform,_this.buildPath=innerOpts.buildPath,_this}return tslib_es6_extends(Sub,_super),Sub}(path_SVGPath)};function extendPath(pathData,opts){return extendPathFromString(pathData,opts)}function registerShape(name,ShapeClass){_customShapeMap[name]=ShapeClass}function getShapeClass(name){if(_customShapeMap.hasOwnProperty(name))return _customShapeMap[name]}function makePath(pathData,opts,rect,layout){var path=createFromString(pathData,opts);return rect&&("center"===layout&&(rect=centerGraphic(rect,path.getBoundingRect())),resizePath(path,rect)),path}function makeImage(imageUrl,rect,layout){var zrImg=new graphic_Image({style:{image:imageUrl,x:rect.x,y:rect.y,width:rect.width,height:rect.height},onload:function(img){if("center"===layout){var boundingRect={width:img.width,height:img.height};zrImg.setStyle(centerGraphic(rect,boundingRect))}}});return zrImg}function centerGraphic(rect,boundingRect){var height,aspect=boundingRect.width/boundingRect.height,width=rect.height*aspect;return height=width<=rect.width?rect.height:(width=rect.width)/aspect,{x:rect.x+rect.width/2-width/2,y:rect.y+rect.height/2-height/2,width:width,height:height}}var graphic_mergePath=function mergePath(pathEls,opts){for(var pathList=[],len=pathEls.length,i=0;i<len;i++){var pathEl=pathEls[i];pathList.push(pathEl.getUpdatedPathProxy(!0))}var pathBundle=new graphic_Path(opts);return pathBundle.createPathProxy(),pathBundle.buildPath=function(path){if(isPathProxy(path)){path.appendPath(pathList);var ctx=path.getContext();ctx&&path.rebuildPath(ctx,1)}},pathBundle};function resizePath(path,rect){if(path.applyTransform){var m=path.getBoundingRect().calculateTransform(rect);path.applyTransform(m)}}function graphic_subPixelOptimizeLine(param){return subPixelOptimizeLine(param.shape,param.shape,param.style),param}function graphic_subPixelOptimizeRect(param){return subPixelOptimizeRect(param.shape,param.shape,param.style),param}var graphic_subPixelOptimize=subPixelOptimize;function getTransform(target,ancestor){for(var mat=identity([]);target&&target!==ancestor;)matrix_mul(mat,target.getLocalTransform(),mat),target=target.parent;return mat}function graphic_applyTransform(target,transform,invert){return transform&&!Object(util.isArrayLike)(transform)&&(transform=core_Transformable.getLocalTransform(transform)),invert&&(transform=matrix_invert([],transform)),applyTransform([],target,transform)}function transformDirection(direction,transform,invert){var hBase=0===transform[4]||0===transform[5]||0===transform[0]?1:Math.abs(2*transform[4]/transform[0]),vBase=0===transform[4]||0===transform[5]||0===transform[2]?1:Math.abs(2*transform[4]/transform[2]),vertex=["left"===direction?-hBase:"right"===direction?hBase:0,"top"===direction?-vBase:"bottom"===direction?vBase:0];return vertex=graphic_applyTransform(vertex,transform,invert),Math.abs(vertex[0])>Math.abs(vertex[1])?vertex[0]>0?"right":"left":vertex[1]>0?"bottom":"top"}function isNotGroup(el){return!el.isGroup}function groupTransition(g1,g2,animatableModel){if(g1&&g2){var elMap1=function getElMap(g){var elMap={};return g.traverse((function(el){isNotGroup(el)&&el.anid&&(elMap[el.anid]=el)})),elMap}(g1);g2.traverse((function(el){if(isNotGroup(el)&&el.anid){var oldEl=elMap1[el.anid];if(oldEl){var newProp=getAnimatableProps(el);el.attr(getAnimatableProps(oldEl)),updateProps(el,newProp,animatableModel,getECData(el).dataIndex)}}}))}function getAnimatableProps(el){var obj={x:el.x,y:el.y,rotation:el.rotation};return function isPath(el){return null!=el.shape}(el)&&(obj.shape=Object(util.extend)({},el.shape)),obj}}function clipPointsByRect(points,rect){return Object(util.map)(points,(function(point){var x=point[0];x=graphic_mathMax(x,rect.x),x=graphic_mathMin(x,rect.x+rect.width);var y=point[1];return y=graphic_mathMax(y,rect.y),[x,y=graphic_mathMin(y,rect.y+rect.height)]}))}function clipRectByRect(targetRect,rect){var x=graphic_mathMax(targetRect.x,rect.x),x2=graphic_mathMin(targetRect.x+targetRect.width,rect.x+rect.width),y=graphic_mathMax(targetRect.y,rect.y),y2=graphic_mathMin(targetRect.y+targetRect.height,rect.y+rect.height);if(x2>=x&&y2>=y)return{x:x,y:y,width:x2-x,height:y2-y}}function createIcon(iconStr,opt,rect){var innerOpts=Object(util.extend)({rectHover:!0},opt),style=innerOpts.style={strokeNoScale:!0};if(rect=rect||{x:-1,y:-1,width:2,height:2},iconStr)return 0===iconStr.indexOf("image://")?(style.image=iconStr.slice(8),Object(util.defaults)(style,rect),new graphic_Image(innerOpts)):makePath(iconStr.replace("path://",""),innerOpts,rect,"center")}function linePolygonIntersect(a1x,a1y,a2x,a2y,points){for(var i=0,p2=points[points.length-1];i<points.length;i++){var p=points[i];if(lineLineIntersect(a1x,a1y,a2x,a2y,p[0],p[1],p2[0],p2[1]))return!0;p2=p}}function lineLineIntersect(a1x,a1y,a2x,a2y,b1x,b1y,b2x,b2y){var mx=a2x-a1x,my=a2y-a1y,nx=b2x-b1x,ny=b2y-b1y,nmCrossProduct=crossProduct2d(nx,ny,mx,my);if(function nearZero(val){return val<=1e-6&&val>=-1e-6}(nmCrossProduct))return!1;var b1a1x=a1x-b1x,b1a1y=a1y-b1y,q=crossProduct2d(b1a1x,b1a1y,mx,my)/nmCrossProduct;if(q<0||q>1)return!1;var p=crossProduct2d(b1a1x,b1a1y,nx,ny)/nmCrossProduct;return!(p<0||p>1)}function crossProduct2d(x1,y1,x2,y2){return x1*y2-x2*y1}function setTooltipConfig(opt){var itemTooltipOption=opt.itemTooltipOption,componentModel=opt.componentModel,itemName=opt.itemName,itemTooltipOptionObj=Object(util.isString)(itemTooltipOption)?{formatter:itemTooltipOption}:itemTooltipOption,mainType=componentModel.mainType,componentIndex=componentModel.componentIndex,formatterParams={componentType:mainType,name:itemName,$vars:["name"]};formatterParams[mainType+"Index"]=componentIndex;var formatterParamsExtra=opt.formatterParamsExtra;formatterParamsExtra&&Object(util.each)(Object(util.keys)(formatterParamsExtra),(function(key){Object(util.hasOwn)(formatterParams,key)||(formatterParams[key]=formatterParamsExtra[key],formatterParams.$vars.push(key))}));var ecData=getECData(opt.el);ecData.componentMainType=mainType,ecData.componentIndex=componentIndex,ecData.tooltipConfig={name:itemName,option:Object(util.defaults)({content:itemName,formatterParams:formatterParams},itemTooltipOptionObj)}}function traverseElement(el,cb){var stopped;el.isGroup&&(stopped=cb(el)),stopped||el.traverse(cb)}function traverseElements(els,cb){if(els)if(Object(util.isArray)(els))for(var i=0;i<els.length;i++)traverseElement(els[i],cb);else traverseElement(els,cb)}registerShape("circle",shape_Circle),registerShape("ellipse",shape_Ellipse),registerShape("sector",shape_Sector),registerShape("ring",shape_Ring),registerShape("polygon",shape_Polygon),registerShape("polyline",shape_Polyline),registerShape("rect",shape_Rect),registerShape("line",shape_Line),registerShape("bezierCurve",shape_BezierCurve),registerShape("arc",shape_Arc);var Chart_inner=makeInner(),renderPlanner=createRenderPlanner(),Chart_ChartView=function(){function ChartView(){this.group=new graphic_Group,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return ChartView.prototype.init=function(ecModel,api){},ChartView.prototype.render=function(seriesModel,ecModel,api,payload){0},ChartView.prototype.highlight=function(seriesModel,ecModel,api,payload){var data=seriesModel.getData(payload&&payload.dataType);data&&toggleHighlight(data,payload,"emphasis")},ChartView.prototype.downplay=function(seriesModel,ecModel,api,payload){var data=seriesModel.getData(payload&&payload.dataType);data&&toggleHighlight(data,payload,"normal")},ChartView.prototype.remove=function(ecModel,api){this.group.removeAll()},ChartView.prototype.dispose=function(ecModel,api){},ChartView.prototype.updateView=function(seriesModel,ecModel,api,payload){this.render(seriesModel,ecModel,api,payload)},ChartView.prototype.updateLayout=function(seriesModel,ecModel,api,payload){this.render(seriesModel,ecModel,api,payload)},ChartView.prototype.updateVisual=function(seriesModel,ecModel,api,payload){this.render(seriesModel,ecModel,api,payload)},ChartView.prototype.eachRendered=function(cb){traverseElements(this.group,cb)},ChartView.markUpdateMethod=function(payload,methodName){Chart_inner(payload).updateMethod=methodName},ChartView.protoInitialize=void(ChartView.prototype.type="chart"),ChartView}();function elSetState(el,state,highlightDigit){el&&isHighDownDispatcher(el)&&("emphasis"===state?enterEmphasis:leaveEmphasis)(el,highlightDigit)}function toggleHighlight(data,payload,state){var dataIndex=queryDataIndex(data,payload),highlightDigit=payload&&null!=payload.highlightKey?function getHighlightDigit(highlightKey){var highlightDigit=_highlightKeyMap[highlightKey];return null==highlightDigit&&_highlightNextDigit<=32&&(highlightDigit=_highlightKeyMap[highlightKey]=_highlightNextDigit++),highlightDigit}(payload.highlightKey):null;null!=dataIndex?Object(util.each)(normalizeToArray(dataIndex),(function(dataIdx){elSetState(data.getItemGraphicEl(dataIdx),state,highlightDigit)})):data.eachItemGraphicEl((function(el){elSetState(el,state,highlightDigit)}))}function renderTaskPlan(context){return renderPlanner(context.model)}function renderTaskReset(context){var seriesModel=context.model,ecModel=context.ecModel,api=context.api,payload=context.payload,progressiveRender=seriesModel.pipelineContext.progressiveRender,view=context.view,updateMethod=payload&&Chart_inner(payload).updateMethod,methodName=progressiveRender?"incrementalPrepareRender":updateMethod&&view[updateMethod]?updateMethod:"render";return"render"!==methodName&&view[methodName](seriesModel,ecModel,api,payload),progressMethodMap[methodName]}enableClassExtend(Chart_ChartView),enableClassManagement(Chart_ChartView);var progressMethodMap={incrementalPrepareRender:{progress:function(params,context){context.view.incrementalRender(params,context.model,context.ecModel,context.api,context.payload)}},render:{forceFirstProgress:!0,progress:function(params,context){context.view.render(context.model,context.ecModel,context.api,context.payload)}}},Chart=Chart_ChartView,ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate";function throttle(fn,delay,debounce){var currCall,diff,scope,args,debounceNextCall,lastCall=0,lastExec=0,timer=null;function exec(){lastExec=(new Date).getTime(),timer=null,fn.apply(scope,args||[])}delay=delay||0;var cb=function(){for(var cbArgs=[],_i=0;_i<arguments.length;_i++)cbArgs[_i]=arguments[_i];currCall=(new Date).getTime(),scope=this,args=cbArgs;var thisDelay=debounceNextCall||delay,thisDebounce=debounceNextCall||debounce;debounceNextCall=null,diff=currCall-(thisDebounce?lastCall:lastExec)-thisDelay,clearTimeout(timer),thisDebounce?timer=setTimeout(exec,thisDelay):diff>=0?exec():timer=setTimeout(exec,-diff),lastCall=currCall};return cb.clear=function(){timer&&(clearTimeout(timer),timer=null)},cb.debounceNextCall=function(debounceDelay){debounceNextCall=debounceDelay},cb}function createOrUpdate(obj,fnAttr,rate,throttleType){var fn=obj[fnAttr];if(fn){var originFn=fn[ORIGIN_METHOD]||fn,lastThrottleType=fn["\0__throttleType"];if(fn[RATE]!==rate||lastThrottleType!==throttleType){if(null==rate||!throttleType)return obj[fnAttr]=originFn;(fn=obj[fnAttr]=throttle(originFn,rate,"debounce"===throttleType))[ORIGIN_METHOD]=originFn,fn["\0__throttleType"]=throttleType,fn[RATE]=rate}return fn}}function clear(obj,fnAttr){var fn=obj[fnAttr];fn&&fn[ORIGIN_METHOD]&&(fn.clear&&fn.clear(),obj[fnAttr]=fn[ORIGIN_METHOD])}var style_inner=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(seriesModel,stylePath){var styleMapper=seriesModel.visualStyleMapper||defaultStyleMappers[stylePath];return styleMapper||(console.warn("Unkown style type '"+stylePath+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(seriesModel,stylePath){var colorKey=seriesModel.visualDrawType||defaultColorKey[stylePath];return colorKey||(console.warn("Unkown style type '"+stylePath+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(seriesModel,ecModel){var data=seriesModel.getData(),stylePath=seriesModel.visualStyleAccessPath||"itemStyle",styleModel=seriesModel.getModel(stylePath),globalStyle=getStyleMapper(seriesModel,stylePath)(styleModel),decalOption=styleModel.getShallow("decal");decalOption&&(data.setVisual("decal",decalOption),decalOption.dirty=!0);var colorKey=getDefaultColorKey(seriesModel,stylePath),color=globalStyle[colorKey],colorCallback=Object(util.isFunction)(color)?color:null,hasAutoColor="auto"===globalStyle.fill||"auto"===globalStyle.stroke;if(!globalStyle[colorKey]||colorCallback||hasAutoColor){var colorPalette=seriesModel.getColorFromPalette(seriesModel.name,null,ecModel.getSeriesCount());globalStyle[colorKey]||(globalStyle[colorKey]=colorPalette,data.setVisual("colorFromPalette",!0)),globalStyle.fill="auto"===globalStyle.fill||Object(util.isFunction)(globalStyle.fill)?colorPalette:globalStyle.fill,globalStyle.stroke="auto"===globalStyle.stroke||Object(util.isFunction)(globalStyle.stroke)?colorPalette:globalStyle.stroke}if(data.setVisual("style",globalStyle),data.setVisual("drawType",colorKey),!ecModel.isSeriesFiltered(seriesModel)&&colorCallback)return data.setVisual("colorFromPalette",!1),{dataEach:function(data,idx){var dataParams=seriesModel.getDataParams(idx),itemStyle=Object(util.extend)({},globalStyle);itemStyle[colorKey]=colorCallback(dataParams),data.setItemVisual(idx,"style",itemStyle)}}}},sharedModel=new model_Model,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(seriesModel,ecModel){if(!seriesModel.ignoreStyleOnData&&!ecModel.isSeriesFiltered(seriesModel)){var data=seriesModel.getData(),stylePath=seriesModel.visualStyleAccessPath||"itemStyle",getStyle=getStyleMapper(seriesModel,stylePath),colorKey=data.getVisual("drawType");return{dataEach:data.hasItemOption?function(data,idx){var rawItem=data.getRawDataItem(idx);if(rawItem&&rawItem[stylePath]){sharedModel.option=rawItem[stylePath];var style=getStyle(sharedModel),existsStyle=data.ensureUniqueItemVisual(idx,"style");Object(util.extend)(existsStyle,style),sharedModel.option.decal&&(data.setItemVisual(idx,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),colorKey in style&&data.setItemVisual(idx,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(ecModel){var paletteScopeGroupByType=Object(util.createHashMap)();ecModel.eachSeries((function(seriesModel){var colorBy=seriesModel.getColorBy();if(!seriesModel.isColorBySeries()){var key=seriesModel.type+"-"+colorBy,colorScope=paletteScopeGroupByType.get(key);colorScope||(colorScope={},paletteScopeGroupByType.set(key,colorScope)),style_inner(seriesModel).scope=colorScope}})),ecModel.eachSeries((function(seriesModel){if(!seriesModel.isColorBySeries()&&!ecModel.isSeriesFiltered(seriesModel)){var dataAll=seriesModel.getRawData(),idxMap={},data=seriesModel.getData(),colorScope=style_inner(seriesModel).scope,stylePath=seriesModel.visualStyleAccessPath||"itemStyle",colorKey=getDefaultColorKey(seriesModel,stylePath);data.each((function(idx){var rawIdx=data.getRawIndex(idx);idxMap[rawIdx]=idx})),dataAll.each((function(rawIdx){var idx=idxMap[rawIdx];if(data.getItemVisual(idx,"colorFromPalette")){var itemStyle=data.ensureUniqueItemVisual(idx,"style"),name_1=dataAll.getName(rawIdx)||rawIdx+"",dataCount=dataAll.count();itemStyle[colorKey]=seriesModel.getColorFromPalette(name_1,colorScope,dataCount)}}))}}))}},default_PI=Math.PI;var Scheduler_Scheduler=function(){function Scheduler(ecInstance,api,dataProcessorHandlers,visualHandlers){this._stageTaskMap=Object(util.createHashMap)(),this.ecInstance=ecInstance,this.api=api,dataProcessorHandlers=this._dataProcessorHandlers=dataProcessorHandlers.slice(),visualHandlers=this._visualHandlers=visualHandlers.slice(),this._allHandlers=dataProcessorHandlers.concat(visualHandlers)}return Scheduler.prototype.restoreData=function(ecModel,payload){ecModel.restoreData(payload),this._stageTaskMap.each((function(taskRecord){var overallTask=taskRecord.overallTask;overallTask&&overallTask.dirty()}))},Scheduler.prototype.getPerformArgs=function(task,isBlock){if(task.__pipeline){var pipeline=this._pipelineMap.get(task.__pipeline.id),pCtx=pipeline.context,step=!isBlock&&pipeline.progressiveEnabled&&(!pCtx||pCtx.progressiveRender)&&task.__idxInPipeline>pipeline.blockIndex?pipeline.step:null,modDataCount=pCtx&&pCtx.modDataCount;return{step:step,modBy:null!=modDataCount?Math.ceil(modDataCount/step):null,modDataCount:modDataCount}}},Scheduler.prototype.getPipeline=function(pipelineId){return this._pipelineMap.get(pipelineId)},Scheduler.prototype.updateStreamModes=function(seriesModel,view){var pipeline=this._pipelineMap.get(seriesModel.uid),dataLen=seriesModel.getData().count(),progressiveRender=pipeline.progressiveEnabled&&view.incrementalPrepareRender&&dataLen>=pipeline.threshold,large=seriesModel.get("large")&&dataLen>=seriesModel.get("largeThreshold"),modDataCount="mod"===seriesModel.get("progressiveChunkMode")?dataLen:null;seriesModel.pipelineContext=pipeline.context={progressiveRender:progressiveRender,modDataCount:modDataCount,large:large}},Scheduler.prototype.restorePipelines=function(ecModel){var scheduler=this,pipelineMap=scheduler._pipelineMap=Object(util.createHashMap)();ecModel.eachSeries((function(seriesModel){var progressive=seriesModel.getProgressive(),pipelineId=seriesModel.uid;pipelineMap.set(pipelineId,{id:pipelineId,head:null,tail:null,threshold:seriesModel.getProgressiveThreshold(),progressiveEnabled:progressive&&!(seriesModel.preventIncremental&&seriesModel.preventIncremental()),blockIndex:-1,step:Math.round(progressive||700),count:0}),scheduler._pipe(seriesModel,seriesModel.dataTask)}))},Scheduler.prototype.prepareStageTasks=function(){var stageTaskMap=this._stageTaskMap,ecModel=this.api.getModel(),api=this.api;Object(util.each)(this._allHandlers,(function(handler){var record=stageTaskMap.get(handler.uid)||stageTaskMap.set(handler.uid,{});Object(util.assert)(!(handler.reset&&handler.overallReset),""),handler.reset&&this._createSeriesStageTask(handler,record,ecModel,api),handler.overallReset&&this._createOverallStageTask(handler,record,ecModel,api)}),this)},Scheduler.prototype.prepareView=function(view,model,ecModel,api){var renderTask=view.renderTask,context=renderTask.context;context.model=model,context.ecModel=ecModel,context.api=api,renderTask.__block=!view.incrementalPrepareRender,this._pipe(model,renderTask)},Scheduler.prototype.performDataProcessorTasks=function(ecModel,payload){this._performStageTasks(this._dataProcessorHandlers,ecModel,payload,{block:!0})},Scheduler.prototype.performVisualTasks=function(ecModel,payload,opt){this._performStageTasks(this._visualHandlers,ecModel,payload,opt)},Scheduler.prototype._performStageTasks=function(stageHandlers,ecModel,payload,opt){opt=opt||{};var unfinished=!1,scheduler=this;function needSetDirty(opt,task){return opt.setDirty&&(!opt.dirtyMap||opt.dirtyMap.get(task.__pipeline.id))}Object(util.each)(stageHandlers,(function(stageHandler,idx){if(!opt.visualType||opt.visualType===stageHandler.visualType){var stageHandlerRecord=scheduler._stageTaskMap.get(stageHandler.uid),seriesTaskMap=stageHandlerRecord.seriesTaskMap,overallTask=stageHandlerRecord.overallTask;if(overallTask){var overallNeedDirty_1,agentStubMap=overallTask.agentStubMap;agentStubMap.each((function(stub){needSetDirty(opt,stub)&&(stub.dirty(),overallNeedDirty_1=!0)})),overallNeedDirty_1&&overallTask.dirty(),scheduler.updatePayload(overallTask,payload);var performArgs_1=scheduler.getPerformArgs(overallTask,opt.block);agentStubMap.each((function(stub){stub.perform(performArgs_1)})),overallTask.perform(performArgs_1)&&(unfinished=!0)}else seriesTaskMap&&seriesTaskMap.each((function(task,pipelineId){needSetDirty(opt,task)&&task.dirty();var performArgs=scheduler.getPerformArgs(task,opt.block);performArgs.skip=!stageHandler.performRawSeries&&ecModel.isSeriesFiltered(task.context.model),scheduler.updatePayload(task,payload),task.perform(performArgs)&&(unfinished=!0)}))}})),this.unfinished=unfinished||this.unfinished},Scheduler.prototype.performSeriesTasks=function(ecModel){var unfinished;ecModel.eachSeries((function(seriesModel){unfinished=seriesModel.dataTask.perform()||unfinished})),this.unfinished=unfinished||this.unfinished},Scheduler.prototype.plan=function(){this._pipelineMap.each((function(pipeline){var task=pipeline.tail;do{if(task.__block){pipeline.blockIndex=task.__idxInPipeline;break}task=task.getUpstream()}while(task)}))},Scheduler.prototype.updatePayload=function(task,payload){"remain"!==payload&&(task.context.payload=payload)},Scheduler.prototype._createSeriesStageTask=function(stageHandler,stageHandlerRecord,ecModel,api){var scheduler=this,oldSeriesTaskMap=stageHandlerRecord.seriesTaskMap,newSeriesTaskMap=stageHandlerRecord.seriesTaskMap=Object(util.createHashMap)(),seriesType=stageHandler.seriesType,getTargetSeries=stageHandler.getTargetSeries;function create(seriesModel){var pipelineId=seriesModel.uid,task=newSeriesTaskMap.set(pipelineId,oldSeriesTaskMap&&oldSeriesTaskMap.get(pipelineId)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));task.context={model:seriesModel,ecModel:ecModel,api:api,useClearVisual:stageHandler.isVisual&&!stageHandler.isLayout,plan:stageHandler.plan,reset:stageHandler.reset,scheduler:scheduler},scheduler._pipe(seriesModel,task)}stageHandler.createOnAllSeries?ecModel.eachRawSeries(create):seriesType?ecModel.eachRawSeriesByType(seriesType,create):getTargetSeries&&getTargetSeries(ecModel,api).each(create)},Scheduler.prototype._createOverallStageTask=function(stageHandler,stageHandlerRecord,ecModel,api){var scheduler=this,overallTask=stageHandlerRecord.overallTask=stageHandlerRecord.overallTask||createTask({reset:overallTaskReset});overallTask.context={ecModel:ecModel,api:api,overallReset:stageHandler.overallReset,scheduler:scheduler};var oldAgentStubMap=overallTask.agentStubMap,newAgentStubMap=overallTask.agentStubMap=Object(util.createHashMap)(),seriesType=stageHandler.seriesType,getTargetSeries=stageHandler.getTargetSeries,overallProgress=!0,shouldOverallTaskDirty=!1;function createStub(seriesModel){var pipelineId=seriesModel.uid,stub=newAgentStubMap.set(pipelineId,oldAgentStubMap&&oldAgentStubMap.get(pipelineId)||(shouldOverallTaskDirty=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));stub.context={model:seriesModel,overallProgress:overallProgress},stub.agent=overallTask,stub.__block=overallProgress,scheduler._pipe(seriesModel,stub)}Object(util.assert)(!stageHandler.createOnAllSeries,""),seriesType?ecModel.eachRawSeriesByType(seriesType,createStub):getTargetSeries?getTargetSeries(ecModel,api).each(createStub):(overallProgress=!1,Object(util.each)(ecModel.getSeries(),createStub)),shouldOverallTaskDirty&&overallTask.dirty()},Scheduler.prototype._pipe=function(seriesModel,task){var pipelineId=seriesModel.uid,pipeline=this._pipelineMap.get(pipelineId);!pipeline.head&&(pipeline.head=task),pipeline.tail&&pipeline.tail.pipe(task),pipeline.tail=task,task.__idxInPipeline=pipeline.count++,task.__pipeline=pipeline},Scheduler.wrapStageHandler=function(stageHandler,visualType){return Object(util.isFunction)(stageHandler)&&(stageHandler={overallReset:stageHandler,seriesType:detectSeriseType(stageHandler)}),stageHandler.uid=getUID("stageHandler"),visualType&&(stageHandler.visualType=visualType),stageHandler},Scheduler}();function overallTaskReset(context){context.overallReset(context.ecModel,context.api,context.payload)}function stubReset(context){return context.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(context){return context.plan?context.plan(context.model,context.ecModel,context.api,context.payload):null}function seriesTaskReset(context){context.useClearVisual&&context.data.clearAllVisual();var resetDefines=context.resetDefines=normalizeToArray(context.reset(context.model,context.ecModel,context.api,context.payload));return resetDefines.length>1?Object(util.map)(resetDefines,(function(v,idx){return makeSeriesTaskProgress(idx)})):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(resetDefineIdx){return function(params,context){var data=context.data,resetDefine=context.resetDefines[resetDefineIdx];if(resetDefine&&resetDefine.dataEach)for(var i=params.start;i<params.end;i++)resetDefine.dataEach(data,i);else resetDefine&&resetDefine.progress&&resetDefine.progress(params,data)}}function seriesTaskCount(context){return context.data.count()}function detectSeriseType(legacyFunc){Scheduler_seriesType=null;try{legacyFunc(ecModelMock,apiMock)}catch(e){}return Scheduler_seriesType}var Scheduler_seriesType,ecModelMock={},apiMock={};function mockMethods(target,Clz){for(var name_1 in Clz.prototype)target[name_1]=util.noop}mockMethods(ecModelMock,Global),mockMethods(apiMock,core_ExtensionAPI),ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(type){Scheduler_seriesType=type},ecModelMock.eachComponent=function(cond){"series"===cond.mainType&&cond.subType&&(Scheduler_seriesType=cond.subType)};var core_Scheduler=Scheduler_Scheduler,colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],light={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]},dark_colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],dark_theme={darkMode:!0,color:dark_colorPalette,backgroundColor:"#100C2A",axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:"#B9B8CE"}},textStyle:{color:"#B9B8CE"},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:"#B9B8CE"}},dataZoom:{borderColor:"#71708A",textStyle:{color:"#B9B8CE"},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:"#B9B8CE"}},timeline:{lineStyle:{color:"#B9B8CE"},label:{color:"#B9B8CE"},controlStyle:{color:"#B9B8CE",borderColor:"#B9B8CE"}},calendar:{itemStyle:{color:"#100C2A"},dayLabel:{color:"#B9B8CE"},monthLabel:{color:"#B9B8CE"},yearLabel:{color:"#B9B8CE"}},timeAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},logAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},valueAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},categoryAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},line:{symbol:"circle"},graph:{color:dark_colorPalette},gauge:{title:{color:"#B9B8CE"},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:"#B9B8CE"},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};dark_theme.categoryAxis.splitLine.show=!1;var dark=dark_theme,ECEventProcessor_ECEventProcessor=function(){function ECEventProcessor(){}return ECEventProcessor.prototype.normalizeQuery=function(query){var cptQuery={},dataQuery={},otherQuery={};if(util.isString(query)){var condCptType=parseClassType(query);cptQuery.mainType=condCptType.main||null,cptQuery.subType=condCptType.sub||null}else{var suffixes_1=["Index","Name","Id"],dataKeys_1={name:1,dataIndex:1,dataType:1};util.each(query,(function(val,key){for(var reserved=!1,i=0;i<suffixes_1.length;i++){var propSuffix=suffixes_1[i],suffixPos=key.lastIndexOf(propSuffix);if(suffixPos>0&&suffixPos===key.length-propSuffix.length){var mainType=key.slice(0,suffixPos);"data"!==mainType&&(cptQuery.mainType=mainType,cptQuery[propSuffix.toLowerCase()]=val,reserved=!0)}}dataKeys_1.hasOwnProperty(key)&&(dataQuery[key]=val,reserved=!0),reserved||(otherQuery[key]=val)}))}return{cptQuery:cptQuery,dataQuery:dataQuery,otherQuery:otherQuery}},ECEventProcessor.prototype.filter=function(eventType,query){var eventInfo=this.eventInfo;if(!eventInfo)return!0;var targetEl=eventInfo.targetEl,packedEvent=eventInfo.packedEvent,model=eventInfo.model,view=eventInfo.view;if(!model||!view)return!0;var cptQuery=query.cptQuery,dataQuery=query.dataQuery;return check(cptQuery,model,"mainType")&&check(cptQuery,model,"subType")&&check(cptQuery,model,"index","componentIndex")&&check(cptQuery,model,"name")&&check(cptQuery,model,"id")&&check(dataQuery,packedEvent,"name")&&check(dataQuery,packedEvent,"dataIndex")&&check(dataQuery,packedEvent,"dataType")&&(!view.filterForExposedEvent||view.filterForExposedEvent(eventType,query.otherQuery,targetEl,packedEvent));function check(query,host,prop,propOnHost){return null==query[prop]||host[propOnHost||prop]===query[prop]}},ECEventProcessor.prototype.afterTrigger=function(){this.eventInfo=null},ECEventProcessor}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(seriesModel,ecModel){var data=seriesModel.getData();if(seriesModel.legendIcon&&data.setVisual("legendIcon",seriesModel.legendIcon),seriesModel.hasSymbolVisual){for(var symbolOptions={},symbolOptionsCb={},hasCallback=!1,i=0;i<SYMBOL_PROPS_WITH_CB.length;i++){var symbolPropName=SYMBOL_PROPS_WITH_CB[i],val=seriesModel.get(symbolPropName);Object(util.isFunction)(val)?(hasCallback=!0,symbolOptionsCb[symbolPropName]=val):symbolOptions[symbolPropName]=val}if(symbolOptions.symbol=symbolOptions.symbol||seriesModel.defaultSymbol,data.setVisual(Object(util.extend)({legendIcon:seriesModel.legendIcon||symbolOptions.symbol,symbolKeepAspect:seriesModel.get("symbolKeepAspect")},symbolOptions)),!ecModel.isSeriesFiltered(seriesModel)){var symbolPropsCb=Object(util.keys)(symbolOptionsCb);return{dataEach:hasCallback?function dataEach(data,idx){for(var rawValue=seriesModel.getRawValue(idx),params=seriesModel.getDataParams(idx),i=0;i<symbolPropsCb.length;i++){var symbolPropName=symbolPropsCb[i];data.setItemVisual(idx,symbolPropName,symbolOptionsCb[symbolPropName](rawValue,params))}}:null}}}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(seriesModel,ecModel){if(seriesModel.hasSymbolVisual&&!ecModel.isSeriesFiltered(seriesModel))return{dataEach:seriesModel.getData().hasItemOption?function dataEach(data,idx){for(var itemModel=data.getItemModel(idx),i=0;i<SYMBOL_PROPS.length;i++){var symbolPropName=SYMBOL_PROPS[i],val=itemModel.getShallow(symbolPropName,!0);null!=val&&data.setItemVisual(idx,symbolPropName,val)}}:null}}};function getItemVisualFromData(data,dataIndex,key){switch(key){case"color":return data.getItemVisual(dataIndex,"style")[data.getVisual("drawType")];case"opacity":return data.getItemVisual(dataIndex,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return data.getItemVisual(dataIndex,key)}}function getVisualFromData(data,key){switch(key){case"color":return data.getVisual("style")[data.getVisual("drawType")];case"opacity":return data.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return data.getVisual(key)}}function setItemVisualFromData(data,dataIndex,key,value){switch(key){case"color":data.ensureUniqueItemVisual(dataIndex,"style")[data.getVisual("drawType")]=value,data.setItemVisual(dataIndex,"colorFromPalette",!1);break;case"opacity":data.ensureUniqueItemVisual(dataIndex,"style").opacity=value;break;case"symbol":case"symbolSize":case"liftZ":data.setItemVisual(dataIndex,key,value)}}function createLegacyDataSelectAction(seriesType,ecRegisterAction){function getSeriesIndices(ecModel,payload){var seriesIndices=[];return ecModel.eachComponent({mainType:"series",subType:seriesType,query:payload},(function(seriesModel){seriesIndices.push(seriesModel.seriesIndex)})),seriesIndices}Object(util.each)([[seriesType+"ToggleSelect","toggleSelect"],[seriesType+"Select","select"],[seriesType+"UnSelect","unselect"]],(function(eventsMap){ecRegisterAction(eventsMap[0],(function(payload,ecModel,api){payload=Object(util.extend)({},payload),api.dispatchAction(Object(util.extend)(payload,{type:eventsMap[1],seriesIndex:getSeriesIndices(ecModel,payload)}))}))}))}function handleSeriesLegacySelectEvents(type,eventPostfix,ecIns,ecModel,payload){var legacyEventName=type+eventPostfix;ecIns.isSilent(legacyEventName)||ecModel.eachComponent({mainType:"series",subType:"pie"},(function(seriesModel){for(var seriesIndex=seriesModel.seriesIndex,selectedMap=seriesModel.option.selectedMap,selected=payload.selected,i=0;i<selected.length;i++)if(selected[i].seriesIndex===seriesIndex){var data=seriesModel.getData(),dataIndex=queryDataIndex(data,payload.fromActionPayload);ecIns.trigger(legacyEventName,{type:legacyEventName,seriesId:seriesModel.id,name:Object(util.isArray)(dataIndex)?data.getName(dataIndex[0]):data.getName(dataIndex),selected:Object(util.isString)(selectedMap)?selectedMap:Object(util.extend)({},selectedMap)})}}))}function findEventDispatcher(target,det,returnFirstMatch){for(var found;target&&(!det(target)||(found=target,!returnFirstMatch));)target=target.__hostTarget||target.parent;return found}var wmUniqueIndex=Math.round(9*Math.random()),supportDefineProperty="function"==typeof Object.defineProperty,core_WeakMap=function(){function WeakMap(){this._id="__ec_inner_"+wmUniqueIndex++}return WeakMap.prototype.get=function(key){return this._guard(key)[this._id]},WeakMap.prototype.set=function(key,value){var target=this._guard(key);return supportDefineProperty?Object.defineProperty(target,this._id,{value:value,enumerable:!1,configurable:!0}):target[this._id]=value,this},WeakMap.prototype.delete=function(key){return!!this.has(key)&&(delete this._guard(key)[this._id],!0)},WeakMap.prototype.has=function(key){return!!this._guard(key)[this._id]},WeakMap.prototype._guard=function(key){if(key!==Object(key))throw TypeError("Value of WeakMap is not a non-null object.");return key},WeakMap}(),Triangle=graphic_Path.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(path,shape){var cx=shape.cx,cy=shape.cy,width=shape.width/2,height=shape.height/2;path.moveTo(cx,cy-height),path.lineTo(cx+width,cy+height),path.lineTo(cx-width,cy+height),path.closePath()}}),Diamond=graphic_Path.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(path,shape){var cx=shape.cx,cy=shape.cy,width=shape.width/2,height=shape.height/2;path.moveTo(cx,cy-height),path.lineTo(cx+width,cy),path.lineTo(cx,cy+height),path.lineTo(cx-width,cy),path.closePath()}}),Pin=graphic_Path.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(path,shape){var x=shape.x,y=shape.y,w=shape.width/5*3,h=Math.max(w,shape.height),r=w/2,dy=r*r/(h-r),cy=y-h+r+dy,angle=Math.asin(dy/r),dx=Math.cos(angle)*r,tanX=Math.sin(angle),tanY=Math.cos(angle),cpLen=.6*r,cpLen2=.7*r;path.moveTo(x-dx,cy+dy),path.arc(x,cy,r,Math.PI-angle,2*Math.PI+angle),path.bezierCurveTo(x+dx-tanX*cpLen,cy+dy+tanY*cpLen,x,y-cpLen2,x,y),path.bezierCurveTo(x,y-cpLen2,x-dx+tanX*cpLen,cy+dy+tanY*cpLen,x-dx,cy+dy),path.closePath()}}),Arrow=graphic_Path.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(ctx,shape){var height=shape.height,width=shape.width,x=shape.x,y=shape.y,dx=width/3*2;ctx.moveTo(x,y),ctx.lineTo(x+dx,y+height),ctx.lineTo(x,y+height/4*3),ctx.lineTo(x-dx,y+height),ctx.lineTo(x,y),ctx.closePath()}}),symbolCtors={line:shape_Line,rect:shape_Rect,roundRect:shape_Rect,square:shape_Rect,circle:shape_Circle,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(x,y,w,h,shape){shape.x1=x,shape.y1=y+h/2,shape.x2=x+w,shape.y2=y+h/2},rect:function(x,y,w,h,shape){shape.x=x,shape.y=y,shape.width=w,shape.height=h},roundRect:function(x,y,w,h,shape){shape.x=x,shape.y=y,shape.width=w,shape.height=h,shape.r=Math.min(w,h)/4},square:function(x,y,w,h,shape){var size=Math.min(w,h);shape.x=x,shape.y=y,shape.width=size,shape.height=size},circle:function(x,y,w,h,shape){shape.cx=x+w/2,shape.cy=y+h/2,shape.r=Math.min(w,h)/2},diamond:function(x,y,w,h,shape){shape.cx=x+w/2,shape.cy=y+h/2,shape.width=w,shape.height=h},pin:function(x,y,w,h,shape){shape.x=x+w/2,shape.y=y+h/2,shape.width=w,shape.height=h},arrow:function(x,y,w,h,shape){shape.x=x+w/2,shape.y=y+h/2,shape.width=w,shape.height=h},triangle:function(x,y,w,h,shape){shape.cx=x+w/2,shape.cy=y+h/2,shape.width=w,shape.height=h}},symbolBuildProxies={};Object(util.each)(symbolCtors,(function(Ctor,name){symbolBuildProxies[name]=new Ctor}));var SymbolClz=graphic_Path.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(out,config,rect){var res=calculateTextPosition(out,config,rect),shape=this.shape;return shape&&"pin"===shape.symbolType&&"inside"===config.position&&(res.y=rect.y+.4*rect.height),res},buildPath:function(ctx,shape,inBundle){var symbolType=shape.symbolType;if("none"!==symbolType){var proxySymbol=symbolBuildProxies[symbolType];proxySymbol||(proxySymbol=symbolBuildProxies[symbolType="rect"]),symbolShapeMakers[symbolType](shape.x,shape.y,shape.width,shape.height,proxySymbol.shape),proxySymbol.buildPath(ctx,proxySymbol.shape,inBundle)}}});function symbolPathSetColor(color,innerColor){if("image"!==this.type){var symbolStyle=this.style;this.__isEmptyBrush?(symbolStyle.stroke=color,symbolStyle.fill=innerColor||"#fff",symbolStyle.lineWidth=2):"line"===this.shape.symbolType?symbolStyle.stroke=color:symbolStyle.fill=color,this.markRedraw()}}function symbol_createSymbol(symbolType,x,y,w,h,color,keepAspect){var symbolPath,isEmpty=0===symbolType.indexOf("empty");return isEmpty&&(symbolType=symbolType.substr(5,1).toLowerCase()+symbolType.substr(6)),(symbolPath=0===symbolType.indexOf("image://")?makeImage(symbolType.slice(8),new core_BoundingRect(x,y,w,h),keepAspect?"center":"cover"):0===symbolType.indexOf("path://")?makePath(symbolType.slice(7),{},new core_BoundingRect(x,y,w,h),keepAspect?"center":"cover"):new SymbolClz({shape:{symbolType:symbolType,x:x,y:y,width:w,height:h}})).__isEmptyBrush=isEmpty,symbolPath.setColor=symbolPathSetColor,color&&symbolPath.setColor(color),symbolPath}function normalizeSymbolSize(symbolSize){return Object(util.isArray)(symbolSize)||(symbolSize=[+symbolSize,+symbolSize]),[symbolSize[0]||0,symbolSize[1]||0]}function normalizeSymbolOffset(symbolOffset,symbolSize){if(null!=symbolOffset)return Object(util.isArray)(symbolOffset)||(symbolOffset=[symbolOffset,symbolOffset]),[number_parsePercent(symbolOffset[0],symbolSize[0])||0,number_parsePercent(Object(util.retrieve2)(symbolOffset[1],symbolOffset[0]),symbolSize[1])||0]}function getCanvasGradient(ctx,obj,rect){for(var canvasGradient="radial"===obj.type?function createRadialGradient(ctx,obj,rect){var width=rect.width,height=rect.height,min=Math.min(width,height),x=null==obj.x?.5:obj.x,y=null==obj.y?.5:obj.y,r=null==obj.r?.5:obj.r;return obj.global||(x=x*width+rect.x,y=y*height+rect.y,r*=min),ctx.createRadialGradient(x,y,0,x,y,r)}(ctx,obj,rect):function createLinearGradient(ctx,obj,rect){var x=null==obj.x?0:obj.x,x2=null==obj.x2?1:obj.x2,y=null==obj.y?0:obj.y,y2=null==obj.y2?0:obj.y2;return obj.global||(x=x*rect.width+rect.x,x2=x2*rect.width+rect.x,y=y*rect.height+rect.y,y2=y2*rect.height+rect.y),x=isNaN(x)?0:x,x2=isNaN(x2)?1:x2,y=isNaN(y)?0:y,y2=isNaN(y2)?0:y2,ctx.createLinearGradient(x,y,x2,y2)}(ctx,obj,rect),colorStops=obj.colorStops,i=0;i<colorStops.length;i++)canvasGradient.addColorStop(colorStops[i].offset,colorStops[i].color);return canvasGradient}function parseInt10(val){return parseInt(val,10)}function getSize(root,whIdx,opts){var wh=["width","height"][whIdx],cwh=["clientWidth","clientHeight"][whIdx],plt=["paddingLeft","paddingTop"][whIdx],prb=["paddingRight","paddingBottom"][whIdx];if(null!=opts[wh]&&"auto"!==opts[wh])return parseFloat(opts[wh]);var stl=document.defaultView.getComputedStyle(root);return(root[cwh]||parseInt10(stl[wh])||parseInt10(root.style[wh]))-(parseInt10(stl[plt])||0)-(parseInt10(stl[prb])||0)|0}function getLineDash(el){var style=el.style,lineDash=style.lineDash&&style.lineWidth>0&&function normalizeLineDash(lineType,lineWidth){return lineType&&"solid"!==lineType&&lineWidth>0?"dashed"===lineType?[4*lineWidth,2*lineWidth]:"dotted"===lineType?[lineWidth]:Object(util.isNumber)(lineType)?[lineType]:Object(util.isArray)(lineType)?lineType:null:null}(style.lineDash,style.lineWidth),lineDashOffset=style.lineDashOffset;if(lineDash){var lineScale_1=style.strokeNoScale&&el.getLineScale?el.getLineScale():1;lineScale_1&&1!==lineScale_1&&(lineDash=Object(util.map)(lineDash,(function(rawVal){return rawVal/lineScale_1})),lineDashOffset/=lineScale_1)}return[lineDash,lineDashOffset]}var pathProxyForDraw=new core_PathProxy(!0);function styleHasStroke(style){var stroke=style.stroke;return!(null==stroke||"none"===stroke||!(style.lineWidth>0))}function isValidStrokeFillStyle(strokeOrFill){return"string"==typeof strokeOrFill&&"none"!==strokeOrFill}function styleHasFill(style){var fill=style.fill;return null!=fill&&"none"!==fill}function doFillPath(ctx,style){if(null!=style.fillOpacity&&1!==style.fillOpacity){var originalGlobalAlpha=ctx.globalAlpha;ctx.globalAlpha=style.fillOpacity*style.opacity,ctx.fill(),ctx.globalAlpha=originalGlobalAlpha}else ctx.fill()}function doStrokePath(ctx,style){if(null!=style.strokeOpacity&&1!==style.strokeOpacity){var originalGlobalAlpha=ctx.globalAlpha;ctx.globalAlpha=style.strokeOpacity*style.opacity,ctx.stroke(),ctx.globalAlpha=originalGlobalAlpha}else ctx.stroke()}function createCanvasPattern(ctx,pattern,el){var image=createOrUpdateImage(pattern.image,pattern.__image,el);if(isImageReady(image)){var canvasPattern=ctx.createPattern(image,pattern.repeat||"repeat");if("function"==typeof DOMMatrix&&canvasPattern&&canvasPattern.setTransform){var matrix=new DOMMatrix;matrix.translateSelf(pattern.x||0,pattern.y||0),matrix.rotateSelf(0,0,(pattern.rotation||0)*util.RADIAN_TO_DEGREE),matrix.scaleSelf(pattern.scaleX||1,pattern.scaleY||1),canvasPattern.setTransform(matrix)}return canvasPattern}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(ctx,style,prevStyle,forceSetAll,scope){var styleChanged=!1;if(!forceSetAll&&style===(prevStyle=prevStyle||{}))return!1;if(forceSetAll||style.opacity!==prevStyle.opacity){flushPathDrawn(ctx,scope),styleChanged=!0;var opacity=Math.max(Math.min(style.opacity,1),0);ctx.globalAlpha=isNaN(opacity)?DEFAULT_COMMON_STYLE.opacity:opacity}(forceSetAll||style.blend!==prevStyle.blend)&&(styleChanged||(flushPathDrawn(ctx,scope),styleChanged=!0),ctx.globalCompositeOperation=style.blend||DEFAULT_COMMON_STYLE.blend);for(var i=0;i<SHADOW_NUMBER_PROPS.length;i++){var propName=SHADOW_NUMBER_PROPS[i];(forceSetAll||style[propName]!==prevStyle[propName])&&(styleChanged||(flushPathDrawn(ctx,scope),styleChanged=!0),ctx[propName]=ctx.dpr*(style[propName]||0))}return(forceSetAll||style.shadowColor!==prevStyle.shadowColor)&&(styleChanged||(flushPathDrawn(ctx,scope),styleChanged=!0),ctx.shadowColor=style.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),styleChanged}function bindPathAndTextCommonStyle(ctx,el,prevEl,forceSetAll,scope){var style=graphic_getStyle(el,scope.inHover),prevStyle=forceSetAll?null:prevEl&&graphic_getStyle(prevEl,scope.inHover)||{};if(style===prevStyle)return!1;var styleChanged=bindCommonProps(ctx,style,prevStyle,forceSetAll,scope);if((forceSetAll||style.fill!==prevStyle.fill)&&(styleChanged||(flushPathDrawn(ctx,scope),styleChanged=!0),isValidStrokeFillStyle(style.fill)&&(ctx.fillStyle=style.fill)),(forceSetAll||style.stroke!==prevStyle.stroke)&&(styleChanged||(flushPathDrawn(ctx,scope),styleChanged=!0),isValidStrokeFillStyle(style.stroke)&&(ctx.strokeStyle=style.stroke)),(forceSetAll||style.opacity!==prevStyle.opacity)&&(styleChanged||(flushPathDrawn(ctx,scope),styleChanged=!0),ctx.globalAlpha=null==style.opacity?1:style.opacity),el.hasStroke()){var newLineWidth=style.lineWidth/(style.strokeNoScale&&el.getLineScale?el.getLineScale():1);ctx.lineWidth!==newLineWidth&&(styleChanged||(flushPathDrawn(ctx,scope),styleChanged=!0),ctx.lineWidth=newLineWidth)}for(var i=0;i<STROKE_PROPS.length;i++){var prop=STROKE_PROPS[i],propName=prop[0];(forceSetAll||style[propName]!==prevStyle[propName])&&(styleChanged||(flushPathDrawn(ctx,scope),styleChanged=!0),ctx[propName]=style[propName]||prop[1])}return styleChanged}function setContextTransform(ctx,el){var m=el.transform,dpr=ctx.dpr||1;m?ctx.setTransform(dpr*m[0],dpr*m[1],dpr*m[2],dpr*m[3],dpr*m[4],dpr*m[5]):ctx.setTransform(dpr,0,0,dpr,0,0)}function flushPathDrawn(ctx,scope){scope.batchFill&&ctx.fill(),scope.batchStroke&&ctx.stroke(),scope.batchFill="",scope.batchStroke=""}function graphic_getStyle(el,inHover){return inHover&&el.__hoverStyle||el.style}function brushSingle(ctx,el){brush(ctx,el,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush(ctx,el,scope,isLast){var m=el.transform;if(!el.shouldBePainted(scope.viewWidth,scope.viewHeight,!1,!1))return el.__dirty&=-2,void(el.__isRendered=!1);var clipPaths=el.__clipPaths,prevElClipPaths=scope.prevElClipPaths,forceSetTransform=!1,forceSetStyle=!1;if(prevElClipPaths&&!function isClipPathChanged(clipPaths,prevClipPaths){if(clipPaths===prevClipPaths||!clipPaths&&!prevClipPaths)return!1;if(!clipPaths||!prevClipPaths||clipPaths.length!==prevClipPaths.length)return!0;for(var i=0;i<clipPaths.length;i++)if(clipPaths[i]!==prevClipPaths[i])return!0;return!1}(clipPaths,prevElClipPaths)||(prevElClipPaths&&prevElClipPaths.length&&(flushPathDrawn(ctx,scope),ctx.restore(),forceSetStyle=forceSetTransform=!0,scope.prevElClipPaths=null,scope.allClipped=!1,scope.prevEl=null),clipPaths&&clipPaths.length&&(flushPathDrawn(ctx,scope),ctx.save(),function updateClipStatus(clipPaths,ctx,scope){for(var allClipped=!1,i=0;i<clipPaths.length;i++){var clipPath=clipPaths[i];allClipped=allClipped||clipPath.isZeroArea(),setContextTransform(ctx,clipPath),ctx.beginPath(),clipPath.buildPath(ctx,clipPath.shape),ctx.clip()}scope.allClipped=allClipped}(clipPaths,ctx,scope),forceSetTransform=!0),scope.prevElClipPaths=clipPaths),scope.allClipped)el.__isRendered=!1;else{el.beforeBrush&&el.beforeBrush(),el.innerBeforeBrush();var prevEl=scope.prevEl;prevEl||(forceSetStyle=forceSetTransform=!0);var canBatchPath=el instanceof graphic_Path&&el.autoBatch&&function canPathBatch(style){var hasFill=styleHasFill(style),hasStroke=styleHasStroke(style);return!(style.lineDash||!(+hasFill^+hasStroke)||hasFill&&"string"!=typeof style.fill||hasStroke&&"string"!=typeof style.stroke||style.strokePercent<1||style.strokeOpacity<1||style.fillOpacity<1)}(el.style);forceSetTransform||function isTransformChanged(m0,m1){return m0&&m1?m0[0]!==m1[0]||m0[1]!==m1[1]||m0[2]!==m1[2]||m0[3]!==m1[3]||m0[4]!==m1[4]||m0[5]!==m1[5]:!(!m0&&!m1)}(m,prevEl.transform)?(flushPathDrawn(ctx,scope),setContextTransform(ctx,el)):canBatchPath||flushPathDrawn(ctx,scope);var style=graphic_getStyle(el,scope.inHover);el instanceof graphic_Path?(1!==scope.lastDrawType&&(forceSetStyle=!0,scope.lastDrawType=1),bindPathAndTextCommonStyle(ctx,el,prevEl,forceSetStyle,scope),canBatchPath&&(scope.batchFill||scope.batchStroke)||ctx.beginPath(),function brushPath(ctx,el,style,inBatch){var _a,hasStroke=styleHasStroke(style),hasFill=styleHasFill(style),strokePercent=style.strokePercent,strokePart=strokePercent<1,firstDraw=!el.path;el.silent&&!strokePart||!firstDraw||el.createPathProxy();var path=el.path||pathProxyForDraw,dirtyFlag=el.__dirty;if(!inBatch){var fill=style.fill,stroke=style.stroke,hasFillGradient=hasFill&&!!fill.colorStops,hasStrokeGradient=hasStroke&&!!stroke.colorStops,hasFillPattern=hasFill&&!!fill.image,hasStrokePattern=hasStroke&&!!stroke.image,fillGradient=void 0,strokeGradient=void 0,fillPattern=void 0,strokePattern=void 0,rect=void 0;(hasFillGradient||hasStrokeGradient)&&(rect=el.getBoundingRect()),hasFillGradient&&(fillGradient=dirtyFlag?getCanvasGradient(ctx,fill,rect):el.__canvasFillGradient,el.__canvasFillGradient=fillGradient),hasStrokeGradient&&(strokeGradient=dirtyFlag?getCanvasGradient(ctx,stroke,rect):el.__canvasStrokeGradient,el.__canvasStrokeGradient=strokeGradient),hasFillPattern&&(fillPattern=dirtyFlag||!el.__canvasFillPattern?createCanvasPattern(ctx,fill,el):el.__canvasFillPattern,el.__canvasFillPattern=fillPattern),hasStrokePattern&&(strokePattern=dirtyFlag||!el.__canvasStrokePattern?createCanvasPattern(ctx,stroke,el):el.__canvasStrokePattern,el.__canvasStrokePattern=fillPattern),hasFillGradient?ctx.fillStyle=fillGradient:hasFillPattern&&(fillPattern?ctx.fillStyle=fillPattern:hasFill=!1),hasStrokeGradient?ctx.strokeStyle=strokeGradient:hasStrokePattern&&(strokePattern?ctx.strokeStyle=strokePattern:hasStroke=!1)}var lineDash,lineDashOffset,scale=el.getGlobalScale();path.setScale(scale[0],scale[1],el.segmentIgnoreThreshold),ctx.setLineDash&&style.lineDash&&(lineDash=(_a=getLineDash(el))[0],lineDashOffset=_a[1]);var needsRebuild=!0;(firstDraw||4&dirtyFlag)&&(path.setDPR(ctx.dpr),strokePart?path.setContext(null):(path.setContext(ctx),needsRebuild=!1),path.reset(),el.buildPath(path,el.shape,inBatch),path.toStatic(),el.pathUpdated()),needsRebuild&&path.rebuildPath(ctx,strokePart?strokePercent:1),lineDash&&(ctx.setLineDash(lineDash),ctx.lineDashOffset=lineDashOffset),inBatch||(style.strokeFirst?(hasStroke&&doStrokePath(ctx,style),hasFill&&doFillPath(ctx,style)):(hasFill&&doFillPath(ctx,style),hasStroke&&doStrokePath(ctx,style))),lineDash&&ctx.setLineDash([])}(ctx,el,style,canBatchPath),canBatchPath&&(scope.batchFill=style.fill||"",scope.batchStroke=style.stroke||"")):el instanceof graphic_TSpan?(3!==scope.lastDrawType&&(forceSetStyle=!0,scope.lastDrawType=3),bindPathAndTextCommonStyle(ctx,el,prevEl,forceSetStyle,scope),function brushText(ctx,el,style){var _a,text=style.text;if(null!=text&&(text+=""),text){ctx.font=style.font||platform.a,ctx.textAlign=style.textAlign,ctx.textBaseline=style.textBaseline;var lineDash=void 0,lineDashOffset=void 0;ctx.setLineDash&&style.lineDash&&(lineDash=(_a=getLineDash(el))[0],lineDashOffset=_a[1]),lineDash&&(ctx.setLineDash(lineDash),ctx.lineDashOffset=lineDashOffset),style.strokeFirst?(styleHasStroke(style)&&ctx.strokeText(text,style.x,style.y),styleHasFill(style)&&ctx.fillText(text,style.x,style.y)):(styleHasFill(style)&&ctx.fillText(text,style.x,style.y),styleHasStroke(style)&&ctx.strokeText(text,style.x,style.y)),lineDash&&ctx.setLineDash([])}}(ctx,el,style)):el instanceof graphic_Image?(2!==scope.lastDrawType&&(forceSetStyle=!0,scope.lastDrawType=2),function bindImageStyle(ctx,el,prevEl,forceSetAll,scope){return bindCommonProps(ctx,graphic_getStyle(el,scope.inHover),prevEl&&graphic_getStyle(prevEl,scope.inHover),forceSetAll,scope)}(ctx,el,prevEl,forceSetStyle,scope),function brushImage(ctx,el,style){var image=el.__image=createOrUpdateImage(style.image,el.__image,el,el.onload);if(image&&isImageReady(image)){var x=style.x||0,y=style.y||0,width=el.getWidth(),height=el.getHeight(),aspect=image.width/image.height;if(null==width&&null!=height?width=height*aspect:null==height&&null!=width?height=width/aspect:null==width&&null==height&&(width=image.width,height=image.height),style.sWidth&&style.sHeight){var sx=style.sx||0,sy=style.sy||0;ctx.drawImage(image,sx,sy,style.sWidth,style.sHeight,x,y,width,height)}else if(style.sx&&style.sy){var sWidth=width-(sx=style.sx),sHeight=height-(sy=style.sy);ctx.drawImage(image,sx,sy,sWidth,sHeight,x,y,width,height)}else ctx.drawImage(image,x,y,width,height)}}(ctx,el,style)):el.getTemporalDisplayables&&(4!==scope.lastDrawType&&(forceSetStyle=!0,scope.lastDrawType=4),function brushIncremental(ctx,el,scope){var displayables=el.getDisplayables(),temporalDisplayables=el.getTemporalDisplayables();ctx.save();var i,len,innerScope={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:scope.viewWidth,viewHeight:scope.viewHeight,inHover:scope.inHover};for(i=el.getCursor(),len=displayables.length;i<len;i++){(displayable=displayables[i]).beforeBrush&&displayable.beforeBrush(),displayable.innerBeforeBrush(),brush(ctx,displayable,innerScope,i===len-1),displayable.innerAfterBrush(),displayable.afterBrush&&displayable.afterBrush(),innerScope.prevEl=displayable}for(var i_1=0,len_1=temporalDisplayables.length;i_1<len_1;i_1++){var displayable;(displayable=temporalDisplayables[i_1]).beforeBrush&&displayable.beforeBrush(),displayable.innerBeforeBrush(),brush(ctx,displayable,innerScope,i_1===len_1-1),displayable.innerAfterBrush(),displayable.afterBrush&&displayable.afterBrush(),innerScope.prevEl=displayable}el.clearTemporalDisplayables(),el.notClear=!0,ctx.restore()}(ctx,el,scope)),canBatchPath&&isLast&&flushPathDrawn(ctx,scope),el.innerAfterBrush(),el.afterBrush&&el.afterBrush(),scope.prevEl=el,el.__dirty=0,el.__isRendered=!0}}var decalMap=new core_WeakMap,decalCache=new LRU.a(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(decalObject,api){if("none"===decalObject)return null;var dpr=api.getDevicePixelRatio(),zr=api.getZr(),isSVG="svg"===zr.painter.type;decalObject.dirty&&decalMap.delete(decalObject);var oldPattern=decalMap.get(decalObject);if(oldPattern)return oldPattern;var decalOpt=Object(util.defaults)(decalObject,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===decalOpt.backgroundColor&&(decalOpt.backgroundColor=null);var pattern={repeat:"repeat"};return function setPatternnSource(pattern){for(var cacheKey,keys=[dpr],isValidKey=!0,i=0;i<decalKeys.length;++i){var value=decalOpt[decalKeys[i]];if(null!=value&&!Object(util.isArray)(value)&&!Object(util.isString)(value)&&!Object(util.isNumber)(value)&&"boolean"!=typeof value){isValidKey=!1;break}keys.push(value)}if(isValidKey){cacheKey=keys.join(",")+(isSVG?"-svg":"");var cache=decalCache.get(cacheKey);cache&&(isSVG?pattern.svgElement=cache:pattern.image=cache)}var ctx,dashArrayX=normalizeDashArrayX(decalOpt.dashArrayX),dashArrayY=function normalizeDashArrayY(dash){if(!dash||"object"==typeof dash&&0===dash.length)return[0,0];if(Object(util.isNumber)(dash)){var dashValue_1=Math.ceil(dash);return[dashValue_1,dashValue_1]}var dashValue=Object(util.map)(dash,(function(n){return Math.ceil(n)}));return dash.length%2?dashValue.concat(dashValue):dashValue}(decalOpt.dashArrayY),symbolArray=normalizeSymbolArray(decalOpt.symbol),lineBlockLengthsX=function getLineBlockLengthX(dash){return Object(util.map)(dash,(function(line){return getLineBlockLengthY(line)}))}(dashArrayX),lineBlockLengthY=getLineBlockLengthY(dashArrayY),canvas=!isSVG&&platform.d.createCanvas(),svgRoot=isSVG&&{tag:"g",attrs:{},key:"dcl",children:[]},pSize=function getPatternSize(){for(var width=1,i=0,xlen=lineBlockLengthsX.length;i<xlen;++i)width=getLeastCommonMultiple(width,lineBlockLengthsX[i]);var symbolRepeats=1;for(i=0,xlen=symbolArray.length;i<xlen;++i)symbolRepeats=getLeastCommonMultiple(symbolRepeats,symbolArray[i].length);width*=symbolRepeats;var height=lineBlockLengthY*lineBlockLengthsX.length*symbolArray.length;0;return{width:Math.max(1,Math.min(width,decalOpt.maxTileWidth)),height:Math.max(1,Math.min(height,decalOpt.maxTileHeight))}}();canvas&&(canvas.width=pSize.width*dpr,canvas.height=pSize.height*dpr,ctx=canvas.getContext("2d"));(function brushDecal(){ctx&&(ctx.clearRect(0,0,canvas.width,canvas.height),decalOpt.backgroundColor&&(ctx.fillStyle=decalOpt.backgroundColor,ctx.fillRect(0,0,canvas.width,canvas.height)));for(var ySum=0,i=0;i<dashArrayY.length;++i)ySum+=dashArrayY[i];if(ySum<=0)return;var y=-lineBlockLengthY,yId=0,yIdTotal=0,xId0=0;for(;y<pSize.height;){if(yId%2==0){for(var symbolYId=yIdTotal/2%symbolArray.length,x=0,xId1=0,xId1Total=0;x<2*pSize.width;){var xSum=0;for(i=0;i<dashArrayX[xId0].length;++i)xSum+=dashArrayX[xId0][i];if(xSum<=0)break;if(xId1%2==0){var size=.5*(1-decalOpt.symbolSize),left=x+dashArrayX[xId0][xId1]*size,top_1=y+dashArrayY[yId]*size,width=dashArrayX[xId0][xId1]*decalOpt.symbolSize,height=dashArrayY[yId]*decalOpt.symbolSize,symbolXId=xId1Total/2%symbolArray[symbolYId].length;brushSymbol(left,top_1,width,height,symbolArray[symbolYId][symbolXId])}x+=dashArrayX[xId0][xId1],++xId1Total,++xId1===dashArrayX[xId0].length&&(xId1=0)}++xId0===dashArrayX.length&&(xId0=0)}y+=dashArrayY[yId],++yIdTotal,++yId===dashArrayY.length&&(yId=0)}function brushSymbol(x,y,width,height,symbolType){var scale=isSVG?1:dpr,symbol=symbol_createSymbol(symbolType,x*scale,y*scale,width*scale,height*scale,decalOpt.color,decalOpt.symbolKeepAspect);if(isSVG){var symbolVNode=zr.painter.renderOneToVNode(symbol);symbolVNode&&svgRoot.children.push(symbolVNode)}else brushSingle(ctx,symbol)}})(),isValidKey&&decalCache.put(cacheKey,canvas||svgRoot);pattern.image=canvas,pattern.svgElement=svgRoot,pattern.svgWidth=pSize.width,pattern.svgHeight=pSize.height}(pattern),pattern.rotation=decalOpt.rotation,pattern.scaleX=pattern.scaleY=isSVG?1:1/dpr,decalMap.set(decalObject,pattern),decalObject.dirty=!1,pattern}function normalizeSymbolArray(symbol){if(!symbol||0===symbol.length)return[["rect"]];if(Object(util.isString)(symbol))return[[symbol]];for(var isAllString=!0,i=0;i<symbol.length;++i)if(!Object(util.isString)(symbol[i])){isAllString=!1;break}if(isAllString)return normalizeSymbolArray([symbol]);var result=[];for(i=0;i<symbol.length;++i)Object(util.isString)(symbol[i])?result.push([symbol[i]]):result.push(symbol[i]);return result}function normalizeDashArrayX(dash){if(!dash||0===dash.length)return[[0,0]];if(Object(util.isNumber)(dash))return[[dashValue=Math.ceil(dash),dashValue]];for(var isAllNumber=!0,i=0;i<dash.length;++i)if(!Object(util.isNumber)(dash[i])){isAllNumber=!1;break}if(isAllNumber)return normalizeDashArrayX([dash]);var result=[];for(i=0;i<dash.length;++i)if(Object(util.isNumber)(dash[i])){var dashValue=Math.ceil(dash[i]);result.push([dashValue,dashValue])}else{(dashValue=Object(util.map)(dash[i],(function(n){return Math.ceil(n)}))).length%2==1?result.push(dashValue.concat(dashValue)):result.push(dashValue)}return result}function getLineBlockLengthY(dash){for(var blockLength=0,i=0;i<dash.length;++i)blockLength+=dash[i];return dash.length%2==1?2*blockLength:blockLength}var core_lifecycle=new core_Eventful,implsStore={};function getImpl(name){return implsStore[name]}var hasWindow="undefined"!=typeof window,echarts_version="5.3.2",dependencies={zrender:"5.3.1"},PRIORITY={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},ACTION_REG=/^[a-zA-Z0-9_]+$/;function createRegisterEventWithLowercaseECharts(method){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];if(!this.isDisposed())return toLowercaseNameAndCallEventful(this,method,args);disposedWarning(this.id)}}function createRegisterEventWithLowercaseMessageCenter(method){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return toLowercaseNameAndCallEventful(this,method,args)}}function toLowercaseNameAndCallEventful(host,method,args){return args[0]=args[0]&&args[0].toLowerCase(),core_Eventful.prototype[method].apply(host,args)}var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,echarts_MessageCenter=function(_super){function MessageCenter(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(MessageCenter,_super),MessageCenter}(core_Eventful),messageCenterProto=echarts_MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on"),messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var echarts_ECharts=function(_super){function ECharts(dom,theme,opts){var _this=_super.call(this,new ECEventProcessor_ECEventProcessor)||this;_this._chartsViews=[],_this._chartsMap={},_this._componentsViews=[],_this._componentsMap={},_this._pendingActions=[],opts=opts||{},Object(util.isString)(theme)&&(theme=themeStorage[theme]),_this._dom=dom;var zr=_this._zr=init(dom,{renderer:opts.renderer||"canvas",devicePixelRatio:opts.devicePixelRatio,width:opts.width,height:opts.height,ssr:opts.ssr,useDirtyRect:null!=opts.useDirtyRect&&opts.useDirtyRect});_this._ssr=opts.ssr,_this._throttledZrFlush=throttle(Object(util.bind)(zr.flush,zr),17),(theme=Object(util.clone)(theme))&&globalBackwardCompat(theme,!0),_this._theme=theme,_this._locale=function createLocaleObject(locale){if(Object(util.isString)(locale)){var localeObj=localeStorage[locale.toUpperCase()]||{};return"ZH"===locale||"EN"===locale?Object(util.clone)(localeObj):Object(util.merge)(Object(util.clone)(localeObj),Object(util.clone)(localeStorage.EN),!1)}return Object(util.merge)(Object(util.clone)(locale),Object(util.clone)(localeStorage.EN),!1)}(opts.locale||SYSTEM_LANG),_this._coordSysMgr=new CoordinateSystem;var api=_this._api=createExtensionAPI(_this);function prioritySortFunc(a,b){return a.__prio-b.__prio}return timsort_sort(visualFuncs,prioritySortFunc),timsort_sort(dataProcessorFuncs,prioritySortFunc),_this._scheduler=new core_Scheduler(_this,api,dataProcessorFuncs,visualFuncs),_this._messageCenter=new echarts_MessageCenter,_this._initEvents(),_this.resize=Object(util.bind)(_this.resize,_this),zr.animation.on("frame",_this._onframe,_this),bindRenderedEvent(zr,_this),bindMouseEvent(zr,_this),Object(util.setAsPrimitive)(_this),_this}return __extends(ECharts,_super),ECharts.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var scheduler=this._scheduler;if(this.__pendingUpdate){var silent=this.__pendingUpdate.silent;this.__flagInMainProcess=!0;try{prepare(this),updateMethods.update.call(this,null,this.__pendingUpdate.updateParams)}catch(e){throw this.__flagInMainProcess=!1,this.__pendingUpdate=null,e}this._zr.flush(),this.__flagInMainProcess=!1,this.__pendingUpdate=null,flushPendingActions.call(this,silent),triggerUpdatedEvent.call(this,silent)}else if(scheduler.unfinished){var remainTime=1,ecModel=this._model,api=this._api;scheduler.unfinished=!1;do{var startTime=+new Date;scheduler.performSeriesTasks(ecModel),scheduler.performDataProcessorTasks(ecModel),updateStreamModes(this,ecModel),scheduler.performVisualTasks(ecModel),renderSeries(this,this._model,api,"remain",{}),remainTime-=+new Date-startTime}while(remainTime>0&&scheduler.unfinished);scheduler.unfinished||this._zr.flush()}}},ECharts.prototype.getDom=function(){return this._dom},ECharts.prototype.getId=function(){return this.id},ECharts.prototype.getZr=function(){return this._zr},ECharts.prototype.isSSR=function(){return this._ssr},ECharts.prototype.setOption=function(option,notMerge,lazyUpdate){if(!this.__flagInMainProcess)if(this._disposed)disposedWarning(this.id);else{var silent,replaceMerge,transitionOpt;if(Object(util.isObject)(notMerge)&&(lazyUpdate=notMerge.lazyUpdate,silent=notMerge.silent,replaceMerge=notMerge.replaceMerge,transitionOpt=notMerge.transition,notMerge=notMerge.notMerge),this.__flagInMainProcess=!0,!this._model||notMerge){var optionManager=new model_OptionManager(this._api),theme=this._theme,ecModel=this._model=new Global;ecModel.scheduler=this._scheduler,ecModel.ssr=this._ssr,ecModel.init(null,null,null,theme,this._locale,optionManager)}this._model.setOption(option,{replaceMerge:replaceMerge},echarts_optionPreprocessorFuncs);var updateParams={seriesTransition:transitionOpt,optionChanged:!0};if(lazyUpdate)this.__pendingUpdate={silent:silent,updateParams:updateParams},this.__flagInMainProcess=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,updateParams)}catch(e){throw this.__pendingUpdate=null,this.__flagInMainProcess=!1,e}this._ssr||this._zr.flush(),this.__pendingUpdate=null,this.__flagInMainProcess=!1,flushPendingActions.call(this,silent),triggerUpdatedEvent.call(this,silent)}}},ECharts.prototype.setTheme=function(){deprecateLog()},ECharts.prototype.getModel=function(){return this._model},ECharts.prototype.getOption=function(){return this._model&&this._model.getOption()},ECharts.prototype.getWidth=function(){return this._zr.getWidth()},ECharts.prototype.getHeight=function(){return this._zr.getHeight()},ECharts.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||hasWindow&&window.devicePixelRatio||1},ECharts.prototype.getRenderedCanvas=function(opts){return this.renderToCanvas(opts)},ECharts.prototype.renderToCanvas=function(opts){return opts=opts||{},this._zr.painter.getRenderedCanvas({backgroundColor:opts.backgroundColor||this._model.get("backgroundColor"),pixelRatio:opts.pixelRatio||this.getDevicePixelRatio()})},ECharts.prototype.renderToSVGString=function(opts){return opts=opts||{},this._zr.painter.renderToString({useViewBox:opts.useViewBox})},ECharts.prototype.getSvgDataURL=function(){if(env.a.svgSupported){var zr=this._zr,list=zr.storage.getDisplayList();return Object(util.each)(list,(function(el){el.stopAnimation(null,!0)})),zr.painter.toDataURL()}},ECharts.prototype.getDataURL=function(opts){if(!this._disposed){var excludeComponents=(opts=opts||{}).excludeComponents,ecModel=this._model,excludesComponentViews=[],self=this;Object(util.each)(excludeComponents,(function(componentType){ecModel.eachComponent({mainType:componentType},(function(component){var view=self._componentsMap[component.__viewId];view.group.ignore||(excludesComponentViews.push(view),view.group.ignore=!0)}))}));var url="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(opts).toDataURL("image/"+(opts&&opts.type||"png"));return Object(util.each)(excludesComponentViews,(function(view){view.group.ignore=!1})),url}disposedWarning(this.id)},ECharts.prototype.getConnectedDataURL=function(opts){if(!this._disposed){var isSvg="svg"===opts.type,groupId=this.group,mathMin=Math.min,mathMax=Math.max;if(connectedGroups[groupId]){var left_1=Infinity,top_1=Infinity,right_1=-Infinity,bottom_1=-Infinity,canvasList_1=[],dpr_1=opts&&opts.pixelRatio||this.getDevicePixelRatio();Object(util.each)(echarts_instances,(function(chart,id){if(chart.group===groupId){var canvas=isSvg?chart.getZr().painter.getSvgDom().innerHTML:chart.renderToCanvas(Object(util.clone)(opts)),boundingRect=chart.getDom().getBoundingClientRect();left_1=mathMin(boundingRect.left,left_1),top_1=mathMin(boundingRect.top,top_1),right_1=mathMax(boundingRect.right,right_1),bottom_1=mathMax(boundingRect.bottom,bottom_1),canvasList_1.push({dom:canvas,left:boundingRect.left,top:boundingRect.top})}}));var width=(right_1*=dpr_1)-(left_1*=dpr_1),height=(bottom_1*=dpr_1)-(top_1*=dpr_1),targetCanvas=platform.d.createCanvas(),zr_1=init(targetCanvas,{renderer:isSvg?"svg":"canvas"});if(zr_1.resize({width:width,height:height}),isSvg){var content_1="";return Object(util.each)(canvasList_1,(function(item){var x=item.left-left_1,y=item.top-top_1;content_1+='<g transform="translate('+x+","+y+')">'+item.dom+"</g>"})),zr_1.painter.getSvgRoot().innerHTML=content_1,opts.connectedBackgroundColor&&zr_1.painter.setBackgroundColor(opts.connectedBackgroundColor),zr_1.refreshImmediately(),zr_1.painter.toDataURL()}return opts.connectedBackgroundColor&&zr_1.add(new shape_Rect({shape:{x:0,y:0,width:width,height:height},style:{fill:opts.connectedBackgroundColor}})),Object(util.each)(canvasList_1,(function(item){var img=new graphic_Image({style:{x:item.left*dpr_1-left_1,y:item.top*dpr_1-top_1,image:item.dom}});zr_1.add(img)})),zr_1.refreshImmediately(),targetCanvas.toDataURL("image/"+(opts&&opts.type||"png"))}return this.getDataURL(opts)}disposedWarning(this.id)},ECharts.prototype.convertToPixel=function(finder,value){return doConvertPixel(this,"convertToPixel",finder,value)},ECharts.prototype.convertFromPixel=function(finder,value){return doConvertPixel(this,"convertFromPixel",finder,value)},ECharts.prototype.containPixel=function(finder,value){if(!this._disposed){var result,findResult=parseFinder(this._model,finder);return Object(util.each)(findResult,(function(models,key){key.indexOf("Models")>=0&&Object(util.each)(models,(function(model){var coordSys=model.coordinateSystem;if(coordSys&&coordSys.containPoint)result=result||!!coordSys.containPoint(value);else if("seriesModels"===key){var view=this._chartsMap[model.__viewId];view&&view.containPoint&&(result=result||view.containPoint(value,model))}else 0}),this)}),this),!!result}disposedWarning(this.id)},ECharts.prototype.getVisual=function(finder,visualType){var parsedFinder=parseFinder(this._model,finder,{defaultMainType:"series"});var data=parsedFinder.seriesModel.getData(),dataIndexInside=parsedFinder.hasOwnProperty("dataIndexInside")?parsedFinder.dataIndexInside:parsedFinder.hasOwnProperty("dataIndex")?data.indexOfRawIndex(parsedFinder.dataIndex):null;return null!=dataIndexInside?getItemVisualFromData(data,dataIndexInside,visualType):getVisualFromData(data,visualType)},ECharts.prototype.getViewOfComponentModel=function(componentModel){return this._componentsMap[componentModel.__viewId]},ECharts.prototype.getViewOfSeriesModel=function(seriesModel){return this._chartsMap[seriesModel.__viewId]},ECharts.prototype._initEvents=function(){var _this=this;Object(util.each)(MOUSE_EVENT_NAMES,(function(eveName){var handler=function(e){var params,ecModel=_this.getModel(),el=e.target;if("globalout"===eveName?params={}:el&&findEventDispatcher(el,(function(parent){var ecData=getECData(parent);if(ecData&&null!=ecData.dataIndex){var dataModel=ecData.dataModel||ecModel.getSeriesByIndex(ecData.seriesIndex);return params=dataModel&&dataModel.getDataParams(ecData.dataIndex,ecData.dataType)||{},!0}if(ecData.eventData)return params=Object(util.extend)({},ecData.eventData),!0}),!0),params){var componentType=params.componentType,componentIndex=params.componentIndex;"markLine"!==componentType&&"markPoint"!==componentType&&"markArea"!==componentType||(componentType="series",componentIndex=params.seriesIndex);var model=componentType&&null!=componentIndex&&ecModel.getComponent(componentType,componentIndex),view=model&&_this["series"===model.mainType?"_chartsMap":"_componentsMap"][model.__viewId];0,params.event=e,params.type=eveName,_this._$eventProcessor.eventInfo={targetEl:el,packedEvent:params,model:model,view:view},_this.trigger(eveName,params)}};handler.zrEventfulCallAtLast=!0,_this._zr.on(eveName,handler,_this)})),Object(util.each)(eventActionMap,(function(actionType,eventType){_this._messageCenter.on(eventType,(function(event){this.trigger(eventType,event)}),_this)})),Object(util.each)(["selectchanged"],(function(eventType){_this._messageCenter.on(eventType,(function(event){this.trigger(eventType,event)}),_this)})),function handleLegacySelectEvents(messageCenter,ecIns,api){messageCenter.on("selectchanged",(function(params){var ecModel=api.getModel();params.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",ecIns,ecModel,params),handleSeriesLegacySelectEvents("pie","selectchanged",ecIns,ecModel,params)):"select"===params.fromAction?(handleSeriesLegacySelectEvents("map","selected",ecIns,ecModel,params),handleSeriesLegacySelectEvents("pie","selected",ecIns,ecModel,params)):"unselect"===params.fromAction&&(handleSeriesLegacySelectEvents("map","unselected",ecIns,ecModel,params),handleSeriesLegacySelectEvents("pie","unselected",ecIns,ecModel,params))}))}(this._messageCenter,this,this._api)},ECharts.prototype.isDisposed=function(){return this._disposed},ECharts.prototype.clear=function(){this._disposed?disposedWarning(this.id):this.setOption({series:[]},!0)},ECharts.prototype.dispose=function(){if(this._disposed)disposedWarning(this.id);else{this._disposed=!0,this.getDom()&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var api=this._api,ecModel=this._model;Object(util.each)(this._componentsViews,(function(component){component.dispose(ecModel,api)})),Object(util.each)(this._chartsViews,(function(chart){chart.dispose(ecModel,api)})),this._zr.dispose(),this._dom=this._model=this._chartsMap=this._componentsMap=this._chartsViews=this._componentsViews=this._scheduler=this._api=this._zr=this._throttledZrFlush=this._theme=this._coordSysMgr=this._messageCenter=null,delete echarts_instances[this.id]}},ECharts.prototype.resize=function(opts){if(!this.__flagInMainProcess)if(this._disposed)disposedWarning(this.id);else{this._zr.resize(opts);var ecModel=this._model;if(this._loadingFX&&this._loadingFX.resize(),ecModel){var needPrepare=ecModel.resetOption("media"),silent=opts&&opts.silent;this.__pendingUpdate&&(null==silent&&(silent=this.__pendingUpdate.silent),needPrepare=!0,this.__pendingUpdate=null),this.__flagInMainProcess=!0;try{needPrepare&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:Object(util.extend)({duration:0},opts&&opts.animation)})}catch(e){throw this.__flagInMainProcess=!1,e}this.__flagInMainProcess=!1,flushPendingActions.call(this,silent),triggerUpdatedEvent.call(this,silent)}}},ECharts.prototype.showLoading=function(name,cfg){if(this._disposed)disposedWarning(this.id);else if(Object(util.isObject)(name)&&(cfg=name,name=""),name=name||"default",this.hideLoading(),loadingEffects[name]){var el=loadingEffects[name](this._api,cfg),zr=this._zr;this._loadingFX=el,zr.add(el)}},ECharts.prototype.hideLoading=function(){this._disposed?disposedWarning(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},ECharts.prototype.makeActionFromEvent=function(eventObj){var payload=Object(util.extend)({},eventObj);return payload.type=eventActionMap[eventObj.type],payload},ECharts.prototype.dispatchAction=function(payload,opt){if(this._disposed)disposedWarning(this.id);else if(Object(util.isObject)(opt)||(opt={silent:!!opt}),actions[payload.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(payload);else{var silent=opt.silent;doDispatchAction.call(this,payload,silent);var flush=opt.flush;flush?this._zr.flush():!1!==flush&&env.a.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,silent),triggerUpdatedEvent.call(this,silent)}},ECharts.prototype.updateLabelLayout=function(){core_lifecycle.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},ECharts.prototype.appendData=function(params){if(this._disposed)disposedWarning(this.id);else{var seriesIndex=params.seriesIndex;0,this.getModel().getSeriesByIndex(seriesIndex).appendData(params),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},ECharts.internalField=function(){function clearColorPalette(ecModel){ecModel.clearColorPalette(),ecModel.eachSeries((function(seriesModel){seriesModel.clearColorPalette()}))}function applyElementStates(el){for(var newStates=[],oldStates=el.currentStates,i=0;i<oldStates.length;i++){var stateName=oldStates[i];"emphasis"!==stateName&&"blur"!==stateName&&"select"!==stateName&&newStates.push(stateName)}el.selected&&el.states.select&&newStates.push("select"),2===el.hoverState&&el.states.emphasis?newStates.push("emphasis"):1===el.hoverState&&el.states.blur&&newStates.push("blur"),el.useStates(newStates)}function updateZ(model,view){if(!model.preventAutoZ){var z=model.get("z")||0,zlevel=model.get("zlevel")||0;view.eachRendered((function(el){return doUpdateZ(el,z,zlevel,-1/0),!0}))}}function doUpdateZ(el,z,zlevel,maxZ2){var label=el.getTextContent(),labelLine=el.getTextGuideLine();if(el.isGroup)for(var children=el.childrenRef(),i=0;i<children.length;i++)maxZ2=Math.max(doUpdateZ(children[i],z,zlevel,maxZ2),maxZ2);else el.z=z,el.zlevel=zlevel,maxZ2=Math.max(el.z2,maxZ2);if(label&&(label.z=z,label.zlevel=zlevel,isFinite(maxZ2)&&(label.z2=maxZ2+2)),labelLine){var textGuideLineConfig=el.textGuideLineConfig;labelLine.z=z,labelLine.zlevel=zlevel,isFinite(maxZ2)&&(labelLine.z2=maxZ2+(textGuideLineConfig&&textGuideLineConfig.showAbove?1:-1))}return maxZ2}function clearStates(model,view){view.eachRendered((function(el){if(!isElementRemoved(el)){var textContent=el.getTextContent(),textGuide=el.getTextGuideLine();el.stateTransition&&(el.stateTransition=null),textContent&&textContent.stateTransition&&(textContent.stateTransition=null),textGuide&&textGuide.stateTransition&&(textGuide.stateTransition=null),el.hasState()?(el.prevStates=el.currentStates,el.clearStates()):el.prevStates&&(el.prevStates=null)}}))}function updateStates(model,view){var stateAnimationModel=model.getModel("stateAnimation"),enableAnimation=model.isAnimationEnabled(),duration=stateAnimationModel.get("duration"),stateTransition=duration>0?{duration:duration,delay:stateAnimationModel.get("delay"),easing:stateAnimationModel.get("easing")}:null;view.eachRendered((function(el){if(el.states&&el.states.emphasis){if(isElementRemoved(el))return;if(el instanceof graphic_Path&&function savePathStates(el){var store=getSavedStates(el);store.normalFill=el.style.fill,store.normalStroke=el.style.stroke;var selectState=el.states.select||{};store.selectFill=selectState.style&&selectState.style.fill||null,store.selectStroke=selectState.style&&selectState.style.stroke||null}(el),el.__dirty){var prevStates=el.prevStates;prevStates&&el.useStates(prevStates)}if(enableAnimation){el.stateTransition=stateTransition;var textContent=el.getTextContent(),textGuide=el.getTextGuideLine();textContent&&(textContent.stateTransition=stateTransition),textGuide&&(textGuide.stateTransition=stateTransition)}el.__dirty&&applyElementStates(el)}}))}prepare=function(ecIns){var scheduler=ecIns._scheduler;scheduler.restorePipelines(ecIns._model),scheduler.prepareStageTasks(),prepareView(ecIns,!0),prepareView(ecIns,!1),scheduler.plan()},prepareView=function(ecIns,isComponent){for(var ecModel=ecIns._model,scheduler=ecIns._scheduler,viewList=isComponent?ecIns._componentsViews:ecIns._chartsViews,viewMap=isComponent?ecIns._componentsMap:ecIns._chartsMap,zr=ecIns._zr,api=ecIns._api,i=0;i<viewList.length;i++)viewList[i].__alive=!1;function doPrepare(model){var requireNewView=model.__requireNewView;model.__requireNewView=!1;var viewId="_ec_"+model.id+"_"+model.type,view=!requireNewView&&viewMap[viewId];if(!view){var classType=parseClassType(model.type);0,(view=new(isComponent?view_Component.getClass(classType.main,classType.sub):Chart.getClass(classType.sub))).init(ecModel,api),viewMap[viewId]=view,viewList.push(view),zr.add(view.group)}model.__viewId=view.__id=viewId,view.__alive=!0,view.__model=model,view.group.__ecComponentInfo={mainType:model.mainType,index:model.componentIndex},!isComponent&&scheduler.prepareView(view,model,ecModel,api)}isComponent?ecModel.eachComponent((function(componentType,model){"series"!==componentType&&doPrepare(model)})):ecModel.eachSeries(doPrepare);for(i=0;i<viewList.length;){var view=viewList[i];view.__alive?i++:(!isComponent&&view.renderTask.dispose(),zr.remove(view.group),view.dispose(ecModel,api),viewList.splice(i,1),viewMap[view.__id]===view&&delete viewMap[view.__id],view.__id=view.group.__ecComponentInfo=null)}},updateDirectly=function(ecIns,method,payload,mainType,subType){var ecModel=ecIns._model;if(ecModel.setUpdatePayload(payload),mainType){var query={};query[mainType+"Id"]=payload[mainType+"Id"],query[mainType+"Index"]=payload[mainType+"Index"],query[mainType+"Name"]=payload[mainType+"Name"];var condition={mainType:mainType,query:query};subType&&(condition.subType=subType);var excludeSeriesIdMap,excludeSeriesId=payload.excludeSeriesId;null!=excludeSeriesId&&(excludeSeriesIdMap=Object(util.createHashMap)(),Object(util.each)(normalizeToArray(excludeSeriesId),(function(id){var modelId=convertOptionIdName(id,null);null!=modelId&&excludeSeriesIdMap.set(modelId,!0)}))),ecModel&&ecModel.eachComponent(condition,(function(model){if(!(excludeSeriesIdMap&&null!==excludeSeriesIdMap.get(model.id)))if(isHighDownPayload(payload))if(model instanceof Series)"highlight"!==payload.type||payload.notBlur||model.get(["emphasis","disabled"])||function blurSeriesFromHighlightPayload(seriesModel,payload,api){var seriesIndex=seriesModel.seriesIndex,data=seriesModel.getData(payload.dataType);if(data){var dataIndex=queryDataIndex(data,payload);dataIndex=(Object(util.isArray)(dataIndex)?dataIndex[0]:dataIndex)||0;var el=data.getItemGraphicEl(dataIndex);if(!el)for(var count=data.count(),current=0;!el&&current<count;)el=data.getItemGraphicEl(current++);if(el){var ecData=getECData(el);blurSeries(seriesIndex,ecData.focus,ecData.blurScope,api)}else{var focus_1=seriesModel.get(["emphasis","focus"]),blurScope=seriesModel.get(["emphasis","blurScope"]);null!=focus_1&&blurSeries(seriesIndex,focus_1,blurScope,api)}}}(model,payload,ecIns._api);else{var _a=findComponentHighDownDispatchers(model.mainType,model.componentIndex,payload.name,ecIns._api),focusSelf=_a.focusSelf,dispatchers=_a.dispatchers;"highlight"===payload.type&&focusSelf&&!payload.notBlur&&blurComponent(model.mainType,model.componentIndex,ecIns._api),dispatchers&&Object(util.each)(dispatchers,(function(dispatcher){"highlight"===payload.type?enterEmphasis(dispatcher):leaveEmphasis(dispatcher)}))}else isSelectChangePayload(payload)&&model instanceof Series&&(!function toggleSelectionFromPayload(seriesModel,payload,api){if(isSelectChangePayload(payload)){var dataType=payload.dataType,dataIndex=queryDataIndex(seriesModel.getData(dataType),payload);Object(util.isArray)(dataIndex)||(dataIndex=[dataIndex]),seriesModel["toggleSelect"===payload.type?"toggleSelect":"select"===payload.type?"select":"unselect"](dataIndex,dataType)}}(model,payload,ecIns._api),updateSeriesElementSelection(model),markStatusToUpdate(ecIns))}),ecIns),ecModel&&ecModel.eachComponent(condition,(function(model){excludeSeriesIdMap&&null!==excludeSeriesIdMap.get(model.id)||callView(ecIns["series"===mainType?"_chartsMap":"_componentsMap"][model.__viewId])}),ecIns)}else Object(util.each)([].concat(ecIns._componentsViews).concat(ecIns._chartsViews),callView);function callView(view){view&&view.__alive&&view[method]&&view[method](view.__model,ecModel,ecIns._api,payload)}},updateMethods={prepareAndUpdate:function(payload){prepare(this),updateMethods.update.call(this,payload,{optionChanged:null!=payload.newOption})},update:function(payload,updateParams){var ecModel=this._model,api=this._api,zr=this._zr,coordSysMgr=this._coordSysMgr,scheduler=this._scheduler;if(ecModel){ecModel.setUpdatePayload(payload),scheduler.restoreData(ecModel,payload),scheduler.performSeriesTasks(ecModel),coordSysMgr.create(ecModel,api),scheduler.performDataProcessorTasks(ecModel,payload),updateStreamModes(this,ecModel),coordSysMgr.update(ecModel,api),clearColorPalette(ecModel),scheduler.performVisualTasks(ecModel,payload),render(this,ecModel,api,payload,updateParams);var backgroundColor=ecModel.get("backgroundColor")||"transparent",darkMode=ecModel.get("darkMode");zr.setBackgroundColor(backgroundColor),null!=darkMode&&"auto"!==darkMode&&zr.setDarkMode(darkMode),core_lifecycle.trigger("afterupdate",ecModel,api)}},updateTransform:function(payload){var _this=this,ecModel=this._model,api=this._api;if(ecModel){ecModel.setUpdatePayload(payload);var componentDirtyList=[];ecModel.eachComponent((function(componentType,componentModel){if("series"!==componentType){var componentView=_this.getViewOfComponentModel(componentModel);if(componentView&&componentView.__alive)if(componentView.updateTransform){var result=componentView.updateTransform(componentModel,ecModel,api,payload);result&&result.update&&componentDirtyList.push(componentView)}else componentDirtyList.push(componentView)}}));var seriesDirtyMap=Object(util.createHashMap)();ecModel.eachSeries((function(seriesModel){var chartView=_this._chartsMap[seriesModel.__viewId];if(chartView.updateTransform){var result=chartView.updateTransform(seriesModel,ecModel,api,payload);result&&result.update&&seriesDirtyMap.set(seriesModel.uid,1)}else seriesDirtyMap.set(seriesModel.uid,1)})),clearColorPalette(ecModel),this._scheduler.performVisualTasks(ecModel,payload,{setDirty:!0,dirtyMap:seriesDirtyMap}),renderSeries(this,ecModel,api,payload,{},seriesDirtyMap),core_lifecycle.trigger("afterupdate",ecModel,api)}},updateView:function(payload){var ecModel=this._model;ecModel&&(ecModel.setUpdatePayload(payload),Chart.markUpdateMethod(payload,"updateView"),clearColorPalette(ecModel),this._scheduler.performVisualTasks(ecModel,payload,{setDirty:!0}),render(this,ecModel,this._api,payload,{}),core_lifecycle.trigger("afterupdate",ecModel,this._api))},updateVisual:function(payload){var _this=this,ecModel=this._model;ecModel&&(ecModel.setUpdatePayload(payload),ecModel.eachSeries((function(seriesModel){seriesModel.getData().clearAllVisual()})),Chart.markUpdateMethod(payload,"updateVisual"),clearColorPalette(ecModel),this._scheduler.performVisualTasks(ecModel,payload,{visualType:"visual",setDirty:!0}),ecModel.eachComponent((function(componentType,componentModel){if("series"!==componentType){var componentView=_this.getViewOfComponentModel(componentModel);componentView&&componentView.__alive&&componentView.updateVisual(componentModel,ecModel,_this._api,payload)}})),ecModel.eachSeries((function(seriesModel){_this._chartsMap[seriesModel.__viewId].updateVisual(seriesModel,ecModel,_this._api,payload)})),core_lifecycle.trigger("afterupdate",ecModel,this._api))},updateLayout:function(payload){updateMethods.update.call(this,payload)}},doConvertPixel=function(ecIns,methodName,finder,value){if(ecIns._disposed)disposedWarning(ecIns.id);else{for(var result,ecModel=ecIns._model,coordSysList=ecIns._coordSysMgr.getCoordinateSystems(),parsedFinder=parseFinder(ecModel,finder),i=0;i<coordSysList.length;i++){var coordSys=coordSysList[i];if(coordSys[methodName]&&null!=(result=coordSys[methodName](ecModel,parsedFinder,value)))return result}0}},updateStreamModes=function(ecIns,ecModel){var chartsMap=ecIns._chartsMap,scheduler=ecIns._scheduler;ecModel.eachSeries((function(seriesModel){scheduler.updateStreamModes(seriesModel,chartsMap[seriesModel.__viewId])}))},doDispatchAction=function(payload,silent){var _this=this,ecModel=this.getModel(),payloadType=payload.type,escapeConnect=payload.escapeConnect,actionWrap=actions[payloadType],actionInfo=actionWrap.actionInfo,cptTypeTmp=(actionInfo.update||"update").split(":"),updateMethod=cptTypeTmp.pop(),cptType=null!=cptTypeTmp[0]&&parseClassType(cptTypeTmp[0]);this.__flagInMainProcess=!0;var payloads=[payload],batched=!1;payload.batch&&(batched=!0,payloads=Object(util.map)(payload.batch,(function(item){return(item=Object(util.defaults)(Object(util.extend)({},item),payload)).batch=null,item})));var eventObj,eventObjBatch=[],isSelectChange=isSelectChangePayload(payload),isHighDown=isHighDownPayload(payload);if(isHighDown&&allLeaveBlur(this._api),Object(util.each)(payloads,(function(batchItem){if((eventObj=(eventObj=actionWrap.action(batchItem,_this._model,_this._api))||Object(util.extend)({},batchItem)).type=actionInfo.event||eventObj.type,eventObjBatch.push(eventObj),isHighDown){var _a=preParseFinder(payload),queryOptionMap=_a.queryOptionMap,componentMainType=_a.mainTypeSpecified?queryOptionMap.keys()[0]:"series";updateDirectly(_this,updateMethod,batchItem,componentMainType),markStatusToUpdate(_this)}else isSelectChange?(updateDirectly(_this,updateMethod,batchItem,"series"),markStatusToUpdate(_this)):cptType&&updateDirectly(_this,updateMethod,batchItem,cptType.main,cptType.sub)})),"none"!==updateMethod&&!isHighDown&&!isSelectChange&&!cptType)try{this.__pendingUpdate?(prepare(this),updateMethods.update.call(this,payload),this.__pendingUpdate=null):updateMethods[updateMethod].call(this,payload)}catch(e){throw this.__flagInMainProcess=!1,e}if(eventObj=batched?{type:actionInfo.event||payloadType,escapeConnect:escapeConnect,batch:eventObjBatch}:eventObjBatch[0],this.__flagInMainProcess=!1,!silent){var messageCenter=this._messageCenter;if(messageCenter.trigger(eventObj.type,eventObj),isSelectChange){var newObj={type:"selectchanged",escapeConnect:escapeConnect,selected:getAllSelectedIndices(ecModel),isFromClick:payload.isFromClick||!1,fromAction:payload.type,fromActionPayload:payload};messageCenter.trigger(newObj.type,newObj)}}},flushPendingActions=function(silent){for(var pendingActions=this._pendingActions;pendingActions.length;){var payload=pendingActions.shift();doDispatchAction.call(this,payload,silent)}},triggerUpdatedEvent=function(silent){!silent&&this.trigger("updated")},bindRenderedEvent=function(zr,ecIns){zr.on("rendered",(function(params){ecIns.trigger("rendered",params),!zr.animation.isFinished()||ecIns.__pendingUpdate||ecIns._scheduler.unfinished||ecIns._pendingActions.length||ecIns.trigger("finished")}))},bindMouseEvent=function(zr,ecIns){zr.on("mouseover",(function(e){var dispatcher=findEventDispatcher(e.target,isHighDownDispatcher);dispatcher&&(!function handleGlobalMouseOverForHighDown(dispatcher,e,api){var ecData=getECData(dispatcher),_a=findComponentHighDownDispatchers(ecData.componentMainType,ecData.componentIndex,ecData.componentHighDownName,api),dispatchers=_a.dispatchers,focusSelf=_a.focusSelf;dispatchers?(focusSelf&&blurComponent(ecData.componentMainType,ecData.componentIndex,api),Object(util.each)(dispatchers,(function(dispatcher){return enterEmphasisWhenMouseOver(dispatcher,e)}))):(blurSeries(ecData.seriesIndex,ecData.focus,ecData.blurScope,api),"self"===ecData.focus&&blurComponent(ecData.componentMainType,ecData.componentIndex,api),enterEmphasisWhenMouseOver(dispatcher,e))}(dispatcher,e,ecIns._api),markStatusToUpdate(ecIns))})).on("mouseout",(function(e){var dispatcher=findEventDispatcher(e.target,isHighDownDispatcher);dispatcher&&(!function handleGlobalMouseOutForHighDown(dispatcher,e,api){allLeaveBlur(api);var ecData=getECData(dispatcher),dispatchers=findComponentHighDownDispatchers(ecData.componentMainType,ecData.componentIndex,ecData.componentHighDownName,api).dispatchers;dispatchers?Object(util.each)(dispatchers,(function(dispatcher){return leaveEmphasisWhenMouseOut(dispatcher,e)})):leaveEmphasisWhenMouseOut(dispatcher,e)}(dispatcher,e,ecIns._api),markStatusToUpdate(ecIns))})).on("click",(function(e){var dispatcher=findEventDispatcher(e.target,(function(target){return null!=getECData(target).dataIndex}),!0);if(dispatcher){var actionType=dispatcher.selected?"unselect":"select",ecData=getECData(dispatcher);ecIns._api.dispatchAction({type:actionType,dataType:ecData.dataType,dataIndexInside:ecData.dataIndex,seriesIndex:ecData.seriesIndex,isFromClick:!0})}}))},render=function(ecIns,ecModel,api,payload,updateParams){!function allocateZlevels(ecModel){var componentZLevels=[],seriesZLevels=[],hasSeperateZLevel=!1;if(ecModel.eachComponent((function(componentType,componentModel){var zlevel=componentModel.get("zlevel")||0,z=componentModel.get("z")||0,zlevelKey=componentModel.getZLevelKey();hasSeperateZLevel=hasSeperateZLevel||!!zlevelKey,("series"===componentType?seriesZLevels:componentZLevels).push({zlevel:zlevel,z:z,idx:componentModel.componentIndex,type:componentType,key:zlevelKey})})),hasSeperateZLevel){var lastSeriesZLevel_1,lastSeriesKey_1,zLevels=componentZLevels.concat(seriesZLevels);timsort_sort(zLevels,(function(a,b){return a.zlevel===b.zlevel?a.z-b.z:a.zlevel-b.zlevel})),Object(util.each)(zLevels,(function(item){var componentModel=ecModel.getComponent(item.type,item.idx),zlevel=item.zlevel,key=item.key;null!=lastSeriesZLevel_1&&(zlevel=Math.max(lastSeriesZLevel_1,zlevel)),key?(zlevel===lastSeriesZLevel_1&&key!==lastSeriesKey_1&&zlevel++,lastSeriesKey_1=key):lastSeriesKey_1&&(zlevel===lastSeriesZLevel_1&&zlevel++,lastSeriesKey_1=""),lastSeriesZLevel_1=zlevel,componentModel.setZLevel(zlevel)}))}}(ecModel),renderComponents(ecIns,ecModel,api,payload,updateParams),Object(util.each)(ecIns._chartsViews,(function(chart){chart.__alive=!1})),renderSeries(ecIns,ecModel,api,payload,updateParams),Object(util.each)(ecIns._chartsViews,(function(chart){chart.__alive||chart.remove(ecModel,api)}))},renderComponents=function(ecIns,ecModel,api,payload,updateParams,dirtyList){Object(util.each)(dirtyList||ecIns._componentsViews,(function(componentView){var componentModel=componentView.__model;clearStates(componentModel,componentView),componentView.render(componentModel,ecModel,api,payload),updateZ(componentModel,componentView),updateStates(componentModel,componentView)}))},renderSeries=function(ecIns,ecModel,api,payload,updateParams,dirtyMap){var scheduler=ecIns._scheduler;updateParams=Object(util.extend)(updateParams||{},{updatedSeries:ecModel.getSeries()}),core_lifecycle.trigger("series:beforeupdate",ecModel,api,updateParams);var unfinished=!1;ecModel.eachSeries((function(seriesModel){var chartView=ecIns._chartsMap[seriesModel.__viewId];chartView.__alive=!0;var renderTask=chartView.renderTask;scheduler.updatePayload(renderTask,payload),clearStates(seriesModel,chartView),dirtyMap&&dirtyMap.get(seriesModel.uid)&&renderTask.dirty(),renderTask.perform(scheduler.getPerformArgs(renderTask))&&(unfinished=!0),chartView.group.silent=!!seriesModel.get("silent"),function updateBlend(seriesModel,chartView){var blendMode=seriesModel.get("blendMode")||null;chartView.eachRendered((function(el){el.isGroup||(el.style.blend=blendMode)}))}(seriesModel,chartView),updateSeriesElementSelection(seriesModel)})),scheduler.unfinished=unfinished||scheduler.unfinished,core_lifecycle.trigger("series:layoutlabels",ecModel,api,updateParams),core_lifecycle.trigger("series:transition",ecModel,api,updateParams),ecModel.eachSeries((function(seriesModel){var chartView=ecIns._chartsMap[seriesModel.__viewId];updateZ(seriesModel,chartView),updateStates(seriesModel,chartView)})),function updateHoverLayerStatus(ecIns,ecModel){var storage=ecIns._zr.storage,elCount=0;storage.traverse((function(el){el.isGroup||elCount++})),elCount>ecModel.get("hoverLayerThreshold")&&!env.a.node&&!env.a.worker&&ecModel.eachSeries((function(seriesModel){if(!seriesModel.preventUsingHoverLayer){var chartView=ecIns._chartsMap[seriesModel.__viewId];chartView.__alive&&chartView.eachRendered((function(el){el.states.emphasis&&(el.states.emphasis.hoverLayer=!0)}))}}))}(ecIns,ecModel),core_lifecycle.trigger("series:afterupdate",ecModel,api,updateParams)},markStatusToUpdate=function(ecIns){ecIns.__needsUpdateStatus=!0,ecIns.getZr().wakeUp()},applyChangedStates=function(ecIns){ecIns.__needsUpdateStatus&&(ecIns.getZr().storage.traverse((function(el){isElementRemoved(el)||applyElementStates(el)})),ecIns.__needsUpdateStatus=!1)},createExtensionAPI=function(ecIns){return new(function(_super){function class_1(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(class_1,_super),class_1.prototype.getCoordinateSystems=function(){return ecIns._coordSysMgr.getCoordinateSystems()},class_1.prototype.getComponentByElement=function(el){for(;el;){var modelInfo=el.__ecComponentInfo;if(null!=modelInfo)return ecIns._model.getComponent(modelInfo.mainType,modelInfo.index);el=el.parent}},class_1.prototype.enterEmphasis=function(el,highlightDigit){enterEmphasis(el,highlightDigit),markStatusToUpdate(ecIns)},class_1.prototype.leaveEmphasis=function(el,highlightDigit){leaveEmphasis(el,highlightDigit),markStatusToUpdate(ecIns)},class_1.prototype.enterBlur=function(el){enterBlur(el),markStatusToUpdate(ecIns)},class_1.prototype.leaveBlur=function(el){leaveBlur(el),markStatusToUpdate(ecIns)},class_1.prototype.enterSelect=function(el){enterSelect(el),markStatusToUpdate(ecIns)},class_1.prototype.leaveSelect=function(el){leaveSelect(el),markStatusToUpdate(ecIns)},class_1.prototype.getModel=function(){return ecIns.getModel()},class_1.prototype.getViewOfComponentModel=function(componentModel){return ecIns.getViewOfComponentModel(componentModel)},class_1.prototype.getViewOfSeriesModel=function(seriesModel){return ecIns.getViewOfSeriesModel(seriesModel)},class_1}(core_ExtensionAPI))(ecIns)},enableConnect=function(chart){function updateConnectedChartsStatus(charts,status){for(var i=0;i<charts.length;i++){charts[i].__connectUpdateStatus=status}}Object(util.each)(eventActionMap,(function(actionType,eventType){chart._messageCenter.on(eventType,(function(event){if(connectedGroups[chart.group]&&0!==chart.__connectUpdateStatus){if(event&&event.escapeConnect)return;var action_1=chart.makeActionFromEvent(event),otherCharts_1=[];Object(util.each)(echarts_instances,(function(otherChart){otherChart!==chart&&otherChart.group===chart.group&&otherCharts_1.push(otherChart)})),updateConnectedChartsStatus(otherCharts_1,0),Object(util.each)(otherCharts_1,(function(otherChart){1!==otherChart.__connectUpdateStatus&&otherChart.dispatchAction(action_1)})),updateConnectedChartsStatus(otherCharts_1,2)}}))}))}}(),ECharts}(core_Eventful),echartsProto=echarts_ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on"),echartsProto.off=createRegisterEventWithLowercaseECharts("off"),echartsProto.one=function(eventName,cb,ctx){var self=this;deprecateLog(),this.on.call(this,eventName,(function wrapped(){for(var args2=[],_i=0;_i<arguments.length;_i++)args2[_i]=arguments[_i];cb&&cb.apply&&cb.apply(this,args2),self.off(eventName,wrapped)}),ctx)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(id){0}var actions={},eventActionMap={},dataProcessorFuncs=[],echarts_optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},echarts_instances={},connectedGroups={},idBase=+new Date-0,groupIdBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function echarts_init(dom,theme,opts){var isClient=!(opts&&opts.ssr);if(isClient){0;var existInstance=getInstanceByDom(dom);if(existInstance)return existInstance;0}var chart=new echarts_ECharts(dom,theme,opts);return chart.id="ec_"+idBase++,echarts_instances[chart.id]=chart,isClient&&setAttribute(dom,DOM_ATTRIBUTE_KEY,chart.id),enableConnect(chart),core_lifecycle.trigger("afterinit",chart),chart}function connect(groupId){if(Object(util.isArray)(groupId)){var charts=groupId;groupId=null,Object(util.each)(charts,(function(chart){null!=chart.group&&(groupId=chart.group)})),groupId=groupId||"g_"+groupIdBase++,Object(util.each)(charts,(function(chart){chart.group=groupId}))}return connectedGroups[groupId]=!0,groupId}function disConnect(groupId){connectedGroups[groupId]=!1}var disconnect=disConnect;function echarts_dispose(chart){Object(util.isString)(chart)?chart=echarts_instances[chart]:chart instanceof echarts_ECharts||(chart=getInstanceByDom(chart)),chart instanceof echarts_ECharts&&!chart.isDisposed()&&chart.dispose()}function getInstanceByDom(dom){return echarts_instances[function getAttribute(dom,key){return dom.getAttribute?dom.getAttribute(key):dom[key]}(dom,DOM_ATTRIBUTE_KEY)]}function getInstanceById(key){return echarts_instances[key]}function registerTheme(name,theme){themeStorage[name]=theme}function registerPreprocessor(preprocessorFunc){Object(util.indexOf)(echarts_optionPreprocessorFuncs,preprocessorFunc)<0&&echarts_optionPreprocessorFuncs.push(preprocessorFunc)}function registerProcessor(priority,processor){normalizeRegister(dataProcessorFuncs,priority,processor,2e3)}function registerPostInit(postInitFunc){registerUpdateLifecycle("afterinit",postInitFunc)}function registerPostUpdate(postUpdateFunc){registerUpdateLifecycle("afterupdate",postUpdateFunc)}function registerUpdateLifecycle(name,cb){core_lifecycle.on(name,cb)}function registerAction(actionInfo,eventName,action){Object(util.isFunction)(eventName)&&(action=eventName,eventName="");var actionType=Object(util.isObject)(actionInfo)?actionInfo.type:[actionInfo,actionInfo={event:eventName}][0];actionInfo.event=(actionInfo.event||actionType).toLowerCase(),eventName=actionInfo.event,eventActionMap[eventName]||(Object(util.assert)(ACTION_REG.test(actionType)&&ACTION_REG.test(eventName)),actions[actionType]||(actions[actionType]={action:action,actionInfo:actionInfo}),eventActionMap[eventName]=actionType)}function registerCoordinateSystem(type,coordSysCreator){CoordinateSystem.register(type,coordSysCreator)}function getCoordinateSystemDimensions(type){var coordSysCreator=CoordinateSystem.get(type);if(coordSysCreator)return coordSysCreator.getDimensionsInfo?coordSysCreator.getDimensionsInfo():coordSysCreator.dimensions.slice()}function registerLayout(priority,layoutTask){normalizeRegister(visualFuncs,priority,layoutTask,1e3,"layout")}function registerVisual(priority,visualTask){normalizeRegister(visualFuncs,priority,visualTask,3e3,"visual")}var registeredTasks=[];function normalizeRegister(targetList,priority,fn,defaultPriority,visualType){if((Object(util.isFunction)(priority)||Object(util.isObject)(priority))&&(fn=priority,priority=defaultPriority),!(Object(util.indexOf)(registeredTasks,fn)>=0)){registeredTasks.push(fn);var stageHandler=core_Scheduler.wrapStageHandler(fn,visualType);stageHandler.__prio=priority,stageHandler.__raw=fn,targetList.push(stageHandler)}}function registerLoading(name,loadingFx){loadingEffects[name]=loadingFx}function setCanvasCreator(creator){Object(platform.e)({createCanvas:creator})}function echarts_registerMap(mapName,geoJson,specialAreas){var registerMap=getImpl("registerMap");registerMap&&registerMap(mapName,geoJson,specialAreas)}function echarts_getMap(mapName){var getMap=getImpl("getMap");return getMap&&getMap(mapName)}var registerTransform=function registerExternalTransform(externalTransform){var type=(externalTransform=Object(util.clone)(externalTransform)).type;type||throwError("");var typeParsed=type.split(":");2!==typeParsed.length&&throwError("");var isBuiltIn=!1;"echarts"===typeParsed[0]&&(type=typeParsed[1],isBuiltIn=!0),externalTransform.__isBuiltIn=isBuiltIn,externalTransformMap.set(type,externalTransform)};registerVisual(2e3,seriesStyleTask),registerVisual(4500,dataStyleTask),registerVisual(4500,dataColorPaletteTask),registerVisual(2e3,seriesSymbolTask),registerVisual(4500,dataSymbolTask),registerVisual(7e3,(function decalVisual(ecModel,api){ecModel.eachRawSeries((function(seriesModel){if(!ecModel.isSeriesFiltered(seriesModel)){var data=seriesModel.getData();data.hasItemVisual()&&data.each((function(idx){var decal=data.getItemVisual(idx,"decal");decal&&(data.ensureUniqueItemVisual(idx,"style").decal=createOrUpdatePatternFromDecal(decal,api))}));var decal=data.getVisual("decal");if(decal)data.getVisual("style").decal=createOrUpdatePatternFromDecal(decal,api)}}))})),registerPreprocessor(globalBackwardCompat),registerProcessor(900,(function dataStack(ecModel){var stackInfoMap=Object(util.createHashMap)();ecModel.eachSeries((function(seriesModel){var stack=seriesModel.get("stack");if(stack){var stackInfoList=stackInfoMap.get(stack)||stackInfoMap.set(stack,[]),data=seriesModel.getData(),stackInfo={stackResultDimension:data.getCalculationInfo("stackResultDimension"),stackedOverDimension:data.getCalculationInfo("stackedOverDimension"),stackedDimension:data.getCalculationInfo("stackedDimension"),stackedByDimension:data.getCalculationInfo("stackedByDimension"),isStackedByIndex:data.getCalculationInfo("isStackedByIndex"),data:data,seriesModel:seriesModel};if(!stackInfo.stackedDimension||!stackInfo.isStackedByIndex&&!stackInfo.stackedByDimension)return;stackInfoList.length&&data.setCalculationInfo("stackedOnSeries",stackInfoList[stackInfoList.length-1].seriesModel),stackInfoList.push(stackInfo)}})),stackInfoMap.each(calculateStack)})),registerLoading("default",(function defaultLoading(api,opts){opts=opts||{},util.defaults(opts,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var group=new graphic_Group,mask=new shape_Rect({style:{fill:opts.maskColor},zlevel:opts.zlevel,z:1e4});group.add(mask);var arc,textContent=new Text({style:{text:opts.text,fill:opts.textColor,fontSize:opts.fontSize,fontWeight:opts.fontWeight,fontStyle:opts.fontStyle,fontFamily:opts.fontFamily},zlevel:opts.zlevel,z:10001}),labelRect=new shape_Rect({style:{fill:"none"},textContent:textContent,textConfig:{position:"right",distance:10},zlevel:opts.zlevel,z:10001});return group.add(labelRect),opts.showSpinner&&((arc=new shape_Arc({shape:{startAngle:-default_PI/2,endAngle:-default_PI/2+.1,r:opts.spinnerRadius},style:{stroke:opts.color,lineCap:"round",lineWidth:opts.lineWidth},zlevel:opts.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*default_PI/2}).start("circularInOut"),arc.animateShape(!0).when(1e3,{startAngle:3*default_PI/2}).delay(300).start("circularInOut"),group.add(arc)),group.resize=function(){var textWidth=textContent.getBoundingRect().width,r=opts.showSpinner?opts.spinnerRadius:0,cx=(api.getWidth()-2*r-(opts.showSpinner&&textWidth?10:0)-textWidth)/2-(opts.showSpinner&&textWidth?0:5+textWidth/2)+(opts.showSpinner?0:textWidth/2)+(textWidth?0:r),cy=api.getHeight()/2;opts.showSpinner&&arc.setShape({cx:cx,cy:cy}),labelRect.setShape({x:cx-r,y:cy-r,width:2*r,height:2*r}),mask.setShape({x:0,y:0,width:api.getWidth(),height:api.getHeight()})},group.resize(),group})),registerAction({type:"highlight",event:"highlight",update:"highlight"},util.noop),registerAction({type:"downplay",event:"downplay",update:"downplay"},util.noop),registerAction({type:"select",event:"select",update:"select"},util.noop),registerAction({type:"unselect",event:"unselect",update:"unselect"},util.noop),registerAction({type:"toggleSelect",event:"toggleSelect",update:"toggleSelect"},util.noop),registerTheme("light",light),registerTheme("dark",dark);var dataTool={},extensions=[],extensionRegisters={registerPreprocessor:registerPreprocessor,registerProcessor:registerProcessor,registerPostInit:registerPostInit,registerPostUpdate:registerPostUpdate,registerUpdateLifecycle:registerUpdateLifecycle,registerAction:registerAction,registerCoordinateSystem:registerCoordinateSystem,registerLayout:registerLayout,registerVisual:registerVisual,registerTransform:registerTransform,registerLoading:registerLoading,registerMap:echarts_registerMap,registerImpl:function registerImpl(name,impl){implsStore[name]=impl},PRIORITY:PRIORITY,ComponentModel:Component,ComponentView:view_Component,SeriesModel:Series,ChartView:Chart,registerComponentModel:function(ComponentModelClass){Component.registerClass(ComponentModelClass)},registerComponentView:function(ComponentViewClass){view_Component.registerClass(ComponentViewClass)},registerSeriesModel:function(SeriesModelClass){Series.registerClass(SeriesModelClass)},registerChartView:function(ChartViewClass){Chart.registerClass(ChartViewClass)},registerSubTypeDefaulter:function(componentType,defaulter){Component.registerSubTypeDefaulter(componentType,defaulter)},registerPainter:function(painterType,PainterCtor){registerPainter(painterType,PainterCtor)}};function use(ext){Object(util.isArray)(ext)?Object(util.each)(ext,(function(singleExt){use(singleExt)})):Object(util.indexOf)(extensions,ext)>=0||(extensions.push(ext),Object(util.isFunction)(ext)&&(ext={install:ext}),ext.install(extensionRegisters))}function dataIndexMapValueLength(valNumOrArrLengthMoreThan2){return null==valNumOrArrLengthMoreThan2?0:valNumOrArrLengthMoreThan2.length||1}function defaultKeyGetter(item){return item}var data_DataDiffer=function(){function DataDiffer(oldArr,newArr,oldKeyGetter,newKeyGetter,context,diffMode){this._old=oldArr,this._new=newArr,this._oldKeyGetter=oldKeyGetter||defaultKeyGetter,this._newKeyGetter=newKeyGetter||defaultKeyGetter,this.context=context,this._diffModeMultiple="multiple"===diffMode}return DataDiffer.prototype.add=function(func){return this._add=func,this},DataDiffer.prototype.update=function(func){return this._update=func,this},DataDiffer.prototype.updateManyToOne=function(func){return this._updateManyToOne=func,this},DataDiffer.prototype.updateOneToMany=function(func){return this._updateOneToMany=func,this},DataDiffer.prototype.updateManyToMany=function(func){return this._updateManyToMany=func,this},DataDiffer.prototype.remove=function(func){return this._remove=func,this},DataDiffer.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},DataDiffer.prototype._executeOneToOne=function(){var oldArr=this._old,newArr=this._new,newDataIndexMap={},oldDataKeyArr=new Array(oldArr.length),newDataKeyArr=new Array(newArr.length);this._initIndexMap(oldArr,null,oldDataKeyArr,"_oldKeyGetter"),this._initIndexMap(newArr,newDataIndexMap,newDataKeyArr,"_newKeyGetter");for(var i=0;i<oldArr.length;i++){var oldKey=oldDataKeyArr[i],newIdxMapVal=newDataIndexMap[oldKey],newIdxMapValLen=dataIndexMapValueLength(newIdxMapVal);if(newIdxMapValLen>1){var newIdx=newIdxMapVal.shift();1===newIdxMapVal.length&&(newDataIndexMap[oldKey]=newIdxMapVal[0]),this._update&&this._update(newIdx,i)}else 1===newIdxMapValLen?(newDataIndexMap[oldKey]=null,this._update&&this._update(newIdxMapVal,i)):this._remove&&this._remove(i)}this._performRestAdd(newDataKeyArr,newDataIndexMap)},DataDiffer.prototype._executeMultiple=function(){var oldArr=this._old,newArr=this._new,oldDataIndexMap={},newDataIndexMap={},oldDataKeyArr=[],newDataKeyArr=[];this._initIndexMap(oldArr,oldDataIndexMap,oldDataKeyArr,"_oldKeyGetter"),this._initIndexMap(newArr,newDataIndexMap,newDataKeyArr,"_newKeyGetter");for(var i=0;i<oldDataKeyArr.length;i++){var oldKey=oldDataKeyArr[i],oldIdxMapVal=oldDataIndexMap[oldKey],newIdxMapVal=newDataIndexMap[oldKey],oldIdxMapValLen=dataIndexMapValueLength(oldIdxMapVal),newIdxMapValLen=dataIndexMapValueLength(newIdxMapVal);if(oldIdxMapValLen>1&&1===newIdxMapValLen)this._updateManyToOne&&this._updateManyToOne(newIdxMapVal,oldIdxMapVal),newDataIndexMap[oldKey]=null;else if(1===oldIdxMapValLen&&newIdxMapValLen>1)this._updateOneToMany&&this._updateOneToMany(newIdxMapVal,oldIdxMapVal),newDataIndexMap[oldKey]=null;else if(1===oldIdxMapValLen&&1===newIdxMapValLen)this._update&&this._update(newIdxMapVal,oldIdxMapVal),newDataIndexMap[oldKey]=null;else if(oldIdxMapValLen>1&&newIdxMapValLen>1)this._updateManyToMany&&this._updateManyToMany(newIdxMapVal,oldIdxMapVal),newDataIndexMap[oldKey]=null;else if(oldIdxMapValLen>1)for(var i_1=0;i_1<oldIdxMapValLen;i_1++)this._remove&&this._remove(oldIdxMapVal[i_1]);else this._remove&&this._remove(oldIdxMapVal)}this._performRestAdd(newDataKeyArr,newDataIndexMap)},DataDiffer.prototype._performRestAdd=function(newDataKeyArr,newDataIndexMap){for(var i=0;i<newDataKeyArr.length;i++){var newKey=newDataKeyArr[i],newIdxMapVal=newDataIndexMap[newKey],idxMapValLen=dataIndexMapValueLength(newIdxMapVal);if(idxMapValLen>1)for(var j=0;j<idxMapValLen;j++)this._add&&this._add(newIdxMapVal[j]);else 1===idxMapValLen&&this._add&&this._add(newIdxMapVal);newDataIndexMap[newKey]=null}},DataDiffer.prototype._initIndexMap=function(arr,map,keyArr,keyGetterName){for(var cbModeMultiple=this._diffModeMultiple,i=0;i<arr.length;i++){var key="_ec_"+this[keyGetterName](arr[i],i);if(cbModeMultiple||(keyArr[i]=key),map){var idxMapVal=map[key],idxMapValLen=dataIndexMapValueLength(idxMapVal);0===idxMapValLen?(map[key]=i,cbModeMultiple&&keyArr.push(key)):1===idxMapValLen?map[key]=[idxMapVal,i]:idxMapVal.push(i)}}},DataDiffer}(),DimensionUserOuput=function(){function DimensionUserOuput(encode,dimRequest){this._encode=encode,this._schema=dimRequest}return DimensionUserOuput.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},DimensionUserOuput.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},DimensionUserOuput}();function getOrCreateEncodeArr(encode,dim){return encode.hasOwnProperty(dim)||(encode[dim]=[]),encode[dim]}function getDimensionTypeByAxis(axisType){return"category"===axisType?"ordinal":"time"===axisType?"time":"float"}var data_SeriesDimensionDefine=function SeriesDimensionDefine(opt){this.otherDims={},null!=opt&&util.extend(this,opt)},SeriesDataSchema_inner=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema_SeriesDataSchema=function(){function SeriesDataSchema(opt){this.dimensions=opt.dimensions,this._dimOmitted=opt.dimensionOmitted,this.source=opt.source,this._fullDimCount=opt.fullDimensionCount,this._updateDimOmitted(opt.dimensionOmitted)}return SeriesDataSchema.prototype.isDimensionOmitted=function(){return this._dimOmitted},SeriesDataSchema.prototype._updateDimOmitted=function(dimensionOmitted){this._dimOmitted=dimensionOmitted,dimensionOmitted&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},SeriesDataSchema.prototype.getSourceDimensionIndex=function(dimName){return Object(util.retrieve2)(this._dimNameMap.get(dimName),-1)},SeriesDataSchema.prototype.getSourceDimension=function(dimIndex){var dimensionsDefine=this.source.dimensionsDefine;if(dimensionsDefine)return dimensionsDefine[dimIndex]},SeriesDataSchema.prototype.makeStoreSchema=function(){for(var dimCount=this._fullDimCount,willRetrieveDataByName=shouldRetrieveDataByName(this.source),makeHashStrict=!shouldOmitUnusedDimensions(dimCount),dimHash="",dims=[],fullDimIdx=0,seriesDimIdx=0;fullDimIdx<dimCount;fullDimIdx++){var property=void 0,type=void 0,ordinalMeta=void 0,seriesDimDef=this.dimensions[seriesDimIdx];if(seriesDimDef&&seriesDimDef.storeDimIndex===fullDimIdx)property=willRetrieveDataByName?seriesDimDef.name:null,type=seriesDimDef.type,ordinalMeta=seriesDimDef.ordinalMeta,seriesDimIdx++;else{var sourceDimDef=this.getSourceDimension(fullDimIdx);sourceDimDef&&(property=willRetrieveDataByName?sourceDimDef.name:null,type=sourceDimDef.type)}dims.push({property:property,type:type,ordinalMeta:ordinalMeta}),!willRetrieveDataByName||null==property||seriesDimDef&&seriesDimDef.isCalculationCoord||(dimHash+=makeHashStrict?property.replace(/\`/g,"`1").replace(/\$/g,"`2"):property),dimHash+="$",dimHash+=dimTypeShort[type]||"f",ordinalMeta&&(dimHash+=ordinalMeta.uid),dimHash+="$"}var source=this.source;return{dimensions:dims,hash:[source.seriesLayoutBy,source.startIndex,dimHash].join("$$")}},SeriesDataSchema.prototype.makeOutputDimensionNames=function(){for(var result=[],fullDimIdx=0,seriesDimIdx=0;fullDimIdx<this._fullDimCount;fullDimIdx++){var name_1=void 0,seriesDimDef=this.dimensions[seriesDimIdx];if(seriesDimDef&&seriesDimDef.storeDimIndex===fullDimIdx)seriesDimDef.isCalculationCoord||(name_1=seriesDimDef.name),seriesDimIdx++;else{var sourceDimDef=this.getSourceDimension(fullDimIdx);sourceDimDef&&(name_1=sourceDimDef.name)}result.push(name_1)}return result},SeriesDataSchema.prototype.appendCalculationDimension=function(dimDef){this.dimensions.push(dimDef),dimDef.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},SeriesDataSchema}();function isSeriesDataSchema(schema){return schema instanceof SeriesDataSchema_SeriesDataSchema}function createDimNameMap(dimsDef){for(var dataDimNameMap=Object(util.createHashMap)(),i=0;i<(dimsDef||[]).length;i++){var dimDefItemRaw=dimsDef[i],userDimName=Object(util.isObject)(dimDefItemRaw)?dimDefItemRaw.name:dimDefItemRaw;null!=userDimName&&null==dataDimNameMap.get(userDimName)&&dataDimNameMap.set(userDimName,i)}return dataDimNameMap}function ensureSourceDimNameMap(source){var innerSource=SeriesDataSchema_inner(source);return innerSource.dimNameMap||(innerSource.dimNameMap=createDimNameMap(source.dimensionsDefine))}function shouldOmitUnusedDimensions(dimCount){return dimCount>30}var prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData_isObject=util.isObject,SeriesData_map=util.map,SeriesData_CtorInt32Array="undefined"==typeof Int32Array?Array:Int32Array,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],SeriesData_SeriesData=function(){function SeriesData(dimensionsInput,hostModel){var dimensions;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var assignStoreDimIdx=!1;isSeriesDataSchema(dimensionsInput)?(dimensions=dimensionsInput.dimensions,this._dimOmitted=dimensionsInput.isDimensionOmitted(),this._schema=dimensionsInput):(assignStoreDimIdx=!0,dimensions=dimensionsInput),dimensions=dimensions||["x","y"];for(var dimensionInfos={},dimensionNames=[],invertedIndicesMap={},needsHasOwn=!1,emptyObj={},i=0;i<dimensions.length;i++){var dimInfoInput=dimensions[i],dimensionInfo=util.isString(dimInfoInput)?new data_SeriesDimensionDefine({name:dimInfoInput}):dimInfoInput instanceof data_SeriesDimensionDefine?dimInfoInput:new data_SeriesDimensionDefine(dimInfoInput),dimensionName=dimensionInfo.name;dimensionInfo.type=dimensionInfo.type||"float",dimensionInfo.coordDim||(dimensionInfo.coordDim=dimensionName,dimensionInfo.coordDimIndex=0);var otherDims=dimensionInfo.otherDims=dimensionInfo.otherDims||{};dimensionNames.push(dimensionName),dimensionInfos[dimensionName]=dimensionInfo,null!=emptyObj[dimensionName]&&(needsHasOwn=!0),dimensionInfo.createInvertedIndices&&(invertedIndicesMap[dimensionName]=[]),0===otherDims.itemName&&(this._nameDimIdx=i),0===otherDims.itemId&&(this._idDimIdx=i),assignStoreDimIdx&&(dimensionInfo.storeDimIndex=i)}if(this.dimensions=dimensionNames,this._dimInfos=dimensionInfos,this._initGetDimensionInfo(needsHasOwn),this.hostModel=hostModel,this._invertedIndicesMap=invertedIndicesMap,this._dimOmitted){var dimIdxToName_1=this._dimIdxToName=util.createHashMap();util.each(dimensionNames,(function(dimName){dimIdxToName_1.set(dimensionInfos[dimName].storeDimIndex,dimName)}))}}return SeriesData.prototype.getDimension=function(dim){var dimIdx=this._recognizeDimIndex(dim);if(null==dimIdx)return dim;if(dimIdx=dim,!this._dimOmitted)return this.dimensions[dimIdx];var dimName=this._dimIdxToName.get(dimIdx);if(null!=dimName)return dimName;var sourceDimDef=this._schema.getSourceDimension(dimIdx);return sourceDimDef?sourceDimDef.name:void 0},SeriesData.prototype.getDimensionIndex=function(dim){var dimIdx=this._recognizeDimIndex(dim);if(null!=dimIdx)return dimIdx;if(null==dim)return-1;var dimInfo=this._getDimInfo(dim);return dimInfo?dimInfo.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(dim):-1},SeriesData.prototype._recognizeDimIndex=function(dim){if(util.isNumber(dim)||null!=dim&&!isNaN(dim)&&!this._getDimInfo(dim)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(dim)<0))return+dim},SeriesData.prototype._getStoreDimIndex=function(dim){return this.getDimensionIndex(dim)},SeriesData.prototype.getDimensionInfo=function(dim){return this._getDimInfo(this.getDimension(dim))},SeriesData.prototype._initGetDimensionInfo=function(needsHasOwn){var dimensionInfos=this._dimInfos;this._getDimInfo=needsHasOwn?function(dimName){return dimensionInfos.hasOwnProperty(dimName)?dimensionInfos[dimName]:void 0}:function(dimName){return dimensionInfos[dimName]}},SeriesData.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},SeriesData.prototype.mapDimension=function(coordDim,idx){var dimensionsSummary=this._dimSummary;if(null==idx)return dimensionsSummary.encodeFirstDimNotExtra[coordDim];var dims=dimensionsSummary.encode[coordDim];return dims?dims[idx]:null},SeriesData.prototype.mapDimensionsAll=function(coordDim){return(this._dimSummary.encode[coordDim]||[]).slice()},SeriesData.prototype.getStore=function(){return this._store},SeriesData.prototype.initData=function(data,nameList,dimValueGetter){var store,_this=this;if(data instanceof data_DataStore&&(store=data),!store){var dimensions=this.dimensions,provider=isSourceInstance(data)||util.isArrayLike(data)?new dataProvider_DefaultDataProvider(data,dimensions.length):data;store=new data_DataStore;var dimensionInfos=SeriesData_map(dimensions,(function(dimName){return{type:_this._dimInfos[dimName].type,property:dimName}}));store.initData(provider,dimensionInfos,dimValueGetter)}this._store=store,this._nameList=(nameList||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,store.count()),this._dimSummary=function summarizeDimensions(data,schema){var summary={},encode=summary.encode={},notExtraCoordDimMap=Object(util.createHashMap)(),defaultedLabel=[],defaultedTooltip=[],userOutputEncode={};Object(util.each)(data.dimensions,(function(dimName){var dimItem=data.getDimensionInfo(dimName),coordDim=dimItem.coordDim;if(coordDim){var coordDimIndex=dimItem.coordDimIndex;getOrCreateEncodeArr(encode,coordDim)[coordDimIndex]=dimName,dimItem.isExtraCoord||(notExtraCoordDimMap.set(coordDim,1),function mayLabelDimType(dimType){return!("ordinal"===dimType||"time"===dimType)}(dimItem.type)&&(defaultedLabel[0]=dimName),getOrCreateEncodeArr(userOutputEncode,coordDim)[coordDimIndex]=data.getDimensionIndex(dimItem.name)),dimItem.defaultTooltip&&defaultedTooltip.push(dimName)}VISUAL_DIMENSIONS.each((function(v,otherDim){var encodeArr=getOrCreateEncodeArr(encode,otherDim),dimIndex=dimItem.otherDims[otherDim];null!=dimIndex&&!1!==dimIndex&&(encodeArr[dimIndex]=dimItem.name)}))}));var dataDimsOnCoord=[],encodeFirstDimNotExtra={};notExtraCoordDimMap.each((function(v,coordDim){var dimArr=encode[coordDim];encodeFirstDimNotExtra[coordDim]=dimArr[0],dataDimsOnCoord=dataDimsOnCoord.concat(dimArr)})),summary.dataDimsOnCoord=dataDimsOnCoord,summary.dataDimIndicesOnCoord=Object(util.map)(dataDimsOnCoord,(function(dimName){return data.getDimensionInfo(dimName).storeDimIndex})),summary.encodeFirstDimNotExtra=encodeFirstDimNotExtra;var encodeLabel=encode.label;encodeLabel&&encodeLabel.length&&(defaultedLabel=encodeLabel.slice());var encodeTooltip=encode.tooltip;return encodeTooltip&&encodeTooltip.length?defaultedTooltip=encodeTooltip.slice():defaultedTooltip.length||(defaultedTooltip=defaultedLabel.slice()),encode.defaultedLabel=defaultedLabel,encode.defaultedTooltip=defaultedTooltip,summary.userOutput=new DimensionUserOuput(userOutputEncode,schema),summary}(this,this._schema),this.userOutput=this._dimSummary.userOutput},SeriesData.prototype.appendData=function(data){var range=this._store.appendData(data);this._doInit(range[0],range[1])},SeriesData.prototype.appendValues=function(values,names){var _a=this._store.appendValues(values,names.length),start=_a.start,end=_a.end,shouldMakeIdFromName=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),names)for(var idx=start;idx<end;idx++){var sourceIdx=idx-start;this._nameList[idx]=names[sourceIdx],shouldMakeIdFromName&&makeIdFromName(this,idx)}},SeriesData.prototype._updateOrdinalMeta=function(){for(var store=this._store,dimensions=this.dimensions,i=0;i<dimensions.length;i++){var dimInfo=this._dimInfos[dimensions[i]];dimInfo.ordinalMeta&&store.collectOrdinalMeta(dimInfo.storeDimIndex,dimInfo.ordinalMeta)}},SeriesData.prototype._shouldMakeIdFromName=function(){var provider=this._store.getProvider();return null==this._idDimIdx&&"typedArray"!==provider.getSource().sourceFormat&&!provider.fillStorage},SeriesData.prototype._doInit=function(start,end){if(!(start>=end)){var provider=this._store.getProvider();this._updateOrdinalMeta();var nameList=this._nameList,idList=this._idList;if("original"===provider.getSource().sourceFormat&&!provider.pure)for(var sharedDataItem=[],idx=start;idx<end;idx++){var dataItem=provider.getItem(idx,sharedDataItem);if(!this.hasItemOption&&isDataItemOption(dataItem)&&(this.hasItemOption=!0),dataItem){var itemName=dataItem.name;null==nameList[idx]&&null!=itemName&&(nameList[idx]=convertOptionIdName(itemName,null));var itemId=dataItem.id;null==idList[idx]&&null!=itemId&&(idList[idx]=convertOptionIdName(itemId,null))}}if(this._shouldMakeIdFromName())for(idx=start;idx<end;idx++)makeIdFromName(this,idx);prepareInvertedIndex(this)}},SeriesData.prototype.getApproximateExtent=function(dim){return this._approximateExtent[dim]||this._store.getDataExtent(this._getStoreDimIndex(dim))},SeriesData.prototype.setApproximateExtent=function(extent,dim){dim=this.getDimension(dim),this._approximateExtent[dim]=extent.slice()},SeriesData.prototype.getCalculationInfo=function(key){return this._calculationInfo[key]},SeriesData.prototype.setCalculationInfo=function(key,value){SeriesData_isObject(key)?util.extend(this._calculationInfo,key):this._calculationInfo[key]=value},SeriesData.prototype.getName=function(idx){var rawIndex=this.getRawIndex(idx),name=this._nameList[rawIndex];return null==name&&null!=this._nameDimIdx&&(name=getIdNameFromStore(this,this._nameDimIdx,rawIndex)),null==name&&(name=""),name},SeriesData.prototype._getCategory=function(dimIdx,idx){var ordinal=this._store.get(dimIdx,idx),ordinalMeta=this._store.getOrdinalMeta(dimIdx);return ordinalMeta?ordinalMeta.categories[ordinal]:ordinal},SeriesData.prototype.getId=function(idx){return getId(this,this.getRawIndex(idx))},SeriesData.prototype.count=function(){return this._store.count()},SeriesData.prototype.get=function(dim,idx){var store=this._store,dimInfo=this._dimInfos[dim];if(dimInfo)return store.get(dimInfo.storeDimIndex,idx)},SeriesData.prototype.getByRawIndex=function(dim,rawIdx){var store=this._store,dimInfo=this._dimInfos[dim];if(dimInfo)return store.getByRawIndex(dimInfo.storeDimIndex,rawIdx)},SeriesData.prototype.getIndices=function(){return this._store.getIndices()},SeriesData.prototype.getDataExtent=function(dim){return this._store.getDataExtent(this._getStoreDimIndex(dim))},SeriesData.prototype.getSum=function(dim){return this._store.getSum(this._getStoreDimIndex(dim))},SeriesData.prototype.getMedian=function(dim){return this._store.getMedian(this._getStoreDimIndex(dim))},SeriesData.prototype.getValues=function(dimensions,idx){var _this=this,store=this._store;return util.isArray(dimensions)?store.getValues(SeriesData_map(dimensions,(function(dim){return _this._getStoreDimIndex(dim)})),idx):store.getValues(dimensions)},SeriesData.prototype.hasValue=function(idx){for(var dataDimIndicesOnCoord=this._dimSummary.dataDimIndicesOnCoord,i=0,len=dataDimIndicesOnCoord.length;i<len;i++)if(isNaN(this._store.get(dataDimIndicesOnCoord[i],idx)))return!1;return!0},SeriesData.prototype.indexOfName=function(name){for(var i=0,len=this._store.count();i<len;i++)if(this.getName(i)===name)return i;return-1},SeriesData.prototype.getRawIndex=function(idx){return this._store.getRawIndex(idx)},SeriesData.prototype.indexOfRawIndex=function(rawIndex){return this._store.indexOfRawIndex(rawIndex)},SeriesData.prototype.rawIndexOf=function(dim,value){var rawIndex=(dim&&this._invertedIndicesMap[dim])[value];return null==rawIndex||isNaN(rawIndex)?-1:rawIndex},SeriesData.prototype.indicesOfNearest=function(dim,value,maxDistance){return this._store.indicesOfNearest(this._getStoreDimIndex(dim),value,maxDistance)},SeriesData.prototype.each=function(dims,cb,ctx){util.isFunction(dims)&&(ctx=cb,cb=dims,dims=[]);var fCtx=ctx||this,dimIndices=SeriesData_map(normalizeDimensions(dims),this._getStoreDimIndex,this);this._store.each(dimIndices,fCtx?util.bind(cb,fCtx):cb)},SeriesData.prototype.filterSelf=function(dims,cb,ctx){util.isFunction(dims)&&(ctx=cb,cb=dims,dims=[]);var fCtx=ctx||this,dimIndices=SeriesData_map(normalizeDimensions(dims),this._getStoreDimIndex,this);return this._store=this._store.filter(dimIndices,fCtx?util.bind(cb,fCtx):cb),this},SeriesData.prototype.selectRange=function(range){var _this=this,innerRange={},dims=util.keys(range),dimIndices=[];return util.each(dims,(function(dim){var dimIdx=_this._getStoreDimIndex(dim);innerRange[dimIdx]=range[dim],dimIndices.push(dimIdx)})),this._store=this._store.selectRange(innerRange),this},SeriesData.prototype.mapArray=function(dims,cb,ctx){util.isFunction(dims)&&(ctx=cb,cb=dims,dims=[]),ctx=ctx||this;var result=[];return this.each(dims,(function(){result.push(cb&&cb.apply(this,arguments))}),ctx),result},SeriesData.prototype.map=function(dims,cb,ctx,ctxCompat){var fCtx=ctx||ctxCompat||this,dimIndices=SeriesData_map(normalizeDimensions(dims),this._getStoreDimIndex,this),list=cloneListForMapAndSample(this);return list._store=this._store.map(dimIndices,fCtx?util.bind(cb,fCtx):cb),list},SeriesData.prototype.modify=function(dims,cb,ctx,ctxCompat){var fCtx=ctx||ctxCompat||this;var dimIndices=SeriesData_map(normalizeDimensions(dims),this._getStoreDimIndex,this);this._store.modify(dimIndices,fCtx?util.bind(cb,fCtx):cb)},SeriesData.prototype.downSample=function(dimension,rate,sampleValue,sampleIndex){var list=cloneListForMapAndSample(this);return list._store=this._store.downSample(this._getStoreDimIndex(dimension),rate,sampleValue,sampleIndex),list},SeriesData.prototype.lttbDownSample=function(valueDimension,rate){var list=cloneListForMapAndSample(this);return list._store=this._store.lttbDownSample(this._getStoreDimIndex(valueDimension),rate),list},SeriesData.prototype.getRawDataItem=function(idx){return this._store.getRawDataItem(idx)},SeriesData.prototype.getItemModel=function(idx){var hostModel=this.hostModel,dataItem=this.getRawDataItem(idx);return new model_Model(dataItem,hostModel,hostModel&&hostModel.ecModel)},SeriesData.prototype.diff=function(otherList){var thisList=this;return new data_DataDiffer(otherList?otherList.getStore().getIndices():[],this.getStore().getIndices(),(function(idx){return getId(otherList,idx)}),(function(idx){return getId(thisList,idx)}))},SeriesData.prototype.getVisual=function(key){var visual=this._visual;return visual&&visual[key]},SeriesData.prototype.setVisual=function(kvObj,val){this._visual=this._visual||{},SeriesData_isObject(kvObj)?util.extend(this._visual,kvObj):this._visual[kvObj]=val},SeriesData.prototype.getItemVisual=function(idx,key){var itemVisual=this._itemVisuals[idx],val=itemVisual&&itemVisual[key];return null==val?this.getVisual(key):val},SeriesData.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},SeriesData.prototype.ensureUniqueItemVisual=function(idx,key){var itemVisuals=this._itemVisuals,itemVisual=itemVisuals[idx];itemVisual||(itemVisual=itemVisuals[idx]={});var val=itemVisual[key];return null==val&&(val=this.getVisual(key),util.isArray(val)?val=val.slice():SeriesData_isObject(val)&&(val=util.extend({},val)),itemVisual[key]=val),val},SeriesData.prototype.setItemVisual=function(idx,key,value){var itemVisual=this._itemVisuals[idx]||{};this._itemVisuals[idx]=itemVisual,SeriesData_isObject(key)?util.extend(itemVisual,key):itemVisual[key]=value},SeriesData.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},SeriesData.prototype.setLayout=function(key,val){SeriesData_isObject(key)?util.extend(this._layout,key):this._layout[key]=val},SeriesData.prototype.getLayout=function(key){return this._layout[key]},SeriesData.prototype.getItemLayout=function(idx){return this._itemLayouts[idx]},SeriesData.prototype.setItemLayout=function(idx,layout,merge){this._itemLayouts[idx]=merge?util.extend(this._itemLayouts[idx]||{},layout):layout},SeriesData.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},SeriesData.prototype.setItemGraphicEl=function(idx,el){var seriesIndex=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(seriesIndex,this.dataType,idx,el),this._graphicEls[idx]=el},SeriesData.prototype.getItemGraphicEl=function(idx){return this._graphicEls[idx]},SeriesData.prototype.eachItemGraphicEl=function(cb,context){util.each(this._graphicEls,(function(el,idx){el&&cb&&cb.call(context,el,idx)}))},SeriesData.prototype.cloneShallow=function(list){return list||(list=new SeriesData(this._schema?this._schema:SeriesData_map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(list,this),list._store=this._store,list},SeriesData.prototype.wrapMethod=function(methodName,injectFunction){var originalMethod=this[methodName];util.isFunction(originalMethod)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(methodName),this[methodName]=function(){var res=originalMethod.apply(this,arguments);return injectFunction.apply(this,[res].concat(util.slice(arguments)))})},SeriesData.internalField=(prepareInvertedIndex=function(data){var invertedIndicesMap=data._invertedIndicesMap;util.each(invertedIndicesMap,(function(invertedIndices,dim){var dimInfo=data._dimInfos[dim],ordinalMeta=dimInfo.ordinalMeta,store=data._store;if(ordinalMeta){invertedIndices=invertedIndicesMap[dim]=new SeriesData_CtorInt32Array(ordinalMeta.categories.length);for(var i=0;i<invertedIndices.length;i++)invertedIndices[i]=-1;for(i=0;i<store.count();i++)invertedIndices[store.get(dimInfo.storeDimIndex,i)]=i}}))},getIdNameFromStore=function(data,dimIdx,idx){return convertOptionIdName(data._getCategory(dimIdx,idx),null)},getId=function(data,rawIndex){var id=data._idList[rawIndex];return null==id&&null!=data._idDimIdx&&(id=getIdNameFromStore(data,data._idDimIdx,rawIndex)),null==id&&(id="e\0\0"+rawIndex),id},normalizeDimensions=function(dimensions){return util.isArray(dimensions)||(dimensions=null!=dimensions?[dimensions]:[]),dimensions},cloneListForMapAndSample=function(original){var list=new SeriesData(original._schema?original._schema:SeriesData_map(original.dimensions,original._getDimInfo,original),original.hostModel);return transferProperties(list,original),list},transferProperties=function(target,source){util.each(TRANSFERABLE_PROPERTIES.concat(source.__wrappedMethods||[]),(function(propName){source.hasOwnProperty(propName)&&(target[propName]=source[propName])})),target.__wrappedMethods=source.__wrappedMethods,util.each(CLONE_PROPERTIES,(function(propName){target[propName]=util.clone(source[propName])})),target._calculationInfo=util.extend({},source._calculationInfo)},void(makeIdFromName=function(data,idx){var nameList=data._nameList,idList=data._idList,nameDimIdx=data._nameDimIdx,idDimIdx=data._idDimIdx,name=nameList[idx],id=idList[idx];if(null==name&&null!=nameDimIdx&&(nameList[idx]=name=getIdNameFromStore(data,nameDimIdx,idx)),null==id&&null!=idDimIdx&&(idList[idx]=id=getIdNameFromStore(data,idDimIdx,idx)),null==id&&null!=name){var nameRepeatCount=data._nameRepeatCount,nmCnt=nameRepeatCount[name]=(nameRepeatCount[name]||0)+1;id=name,nmCnt>1&&(id+="__ec__"+nmCnt),idList[idx]=id}})),SeriesData}(),data_SeriesData=SeriesData_SeriesData;function createDimensions(source,opt){return prepareSeriesDataSchema(source,opt).dimensions}function prepareSeriesDataSchema(source,opt){isSourceInstance(source)||(source=createSourceFromSeriesDataOption(source));var sysDims=(opt=opt||{}).coordDimensions||[],dimsDef=opt.dimensionsDefine||source.dimensionsDefine||[],coordDimNameMap=Object(util.createHashMap)(),resultList=[],dimCount=function getDimCount(source,sysDims,dimsDef,optDimCount){var dimCount=Math.max(source.dimensionsDetectedCount||1,sysDims.length,dimsDef.length,optDimCount||0);return Object(util.each)(sysDims,(function(sysDimItem){var sysDimItemDimsDef;Object(util.isObject)(sysDimItem)&&(sysDimItemDimsDef=sysDimItem.dimsDef)&&(dimCount=Math.max(dimCount,sysDimItemDimsDef.length))})),dimCount}(source,sysDims,dimsDef,opt.dimensionsCount),omitUnusedDimensions=opt.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(dimCount),isUsingSourceDimensionsDef=dimsDef===source.dimensionsDefine,dataDimNameMap=isUsingSourceDimensionsDef?ensureSourceDimNameMap(source):createDimNameMap(dimsDef),encodeDef=opt.encodeDefine;!encodeDef&&opt.encodeDefaulter&&(encodeDef=opt.encodeDefaulter(source,dimCount));for(var encodeDefMap=Object(util.createHashMap)(encodeDef),indicesMap=new CtorInt32Array(dimCount),i=0;i<indicesMap.length;i++)indicesMap[i]=-1;function getResultItem(dimIdx){var idx=indicesMap[dimIdx];if(idx<0){var dimDefItemRaw=dimsDef[dimIdx],dimDefItem=Object(util.isObject)(dimDefItemRaw)?dimDefItemRaw:{name:dimDefItemRaw},resultItem=new data_SeriesDimensionDefine,userDimName=dimDefItem.name;null!=userDimName&&null!=dataDimNameMap.get(userDimName)&&(resultItem.name=resultItem.displayName=userDimName),null!=dimDefItem.type&&(resultItem.type=dimDefItem.type),null!=dimDefItem.displayName&&(resultItem.displayName=dimDefItem.displayName);var newIdx=resultList.length;return indicesMap[dimIdx]=newIdx,resultItem.storeDimIndex=dimIdx,resultList.push(resultItem),resultItem}return resultList[idx]}if(!omitUnusedDimensions)for(i=0;i<dimCount;i++)getResultItem(i);encodeDefMap.each((function(dataDimsRaw,coordDim){var dataDims=normalizeToArray(dataDimsRaw).slice();if(1===dataDims.length&&!Object(util.isString)(dataDims[0])&&dataDims[0]<0)encodeDefMap.set(coordDim,!1);else{var validDataDims=encodeDefMap.set(coordDim,[]);Object(util.each)(dataDims,(function(resultDimIdxOrName,idx){var resultDimIdx=Object(util.isString)(resultDimIdxOrName)?dataDimNameMap.get(resultDimIdxOrName):resultDimIdxOrName;null!=resultDimIdx&&resultDimIdx<dimCount&&(validDataDims[idx]=resultDimIdx,applyDim(getResultItem(resultDimIdx),coordDim,idx))}))}}));var availDimIdx=0;function applyDim(resultItem,coordDim,coordDimIndex){null!=VISUAL_DIMENSIONS.get(coordDim)?resultItem.otherDims[coordDim]=coordDimIndex:(resultItem.coordDim=coordDim,resultItem.coordDimIndex=coordDimIndex,coordDimNameMap.set(coordDim,!0))}Object(util.each)(sysDims,(function(sysDimItemRaw){var coordDim,sysDimItemDimsDef,sysDimItemOtherDims,sysDimItem;if(Object(util.isString)(sysDimItemRaw))coordDim=sysDimItemRaw,sysDimItem={};else{coordDim=(sysDimItem=sysDimItemRaw).name;var ordinalMeta=sysDimItem.ordinalMeta;sysDimItem.ordinalMeta=null,(sysDimItem=Object(util.extend)({},sysDimItem)).ordinalMeta=ordinalMeta,sysDimItemDimsDef=sysDimItem.dimsDef,sysDimItemOtherDims=sysDimItem.otherDims,sysDimItem.name=sysDimItem.coordDim=sysDimItem.coordDimIndex=sysDimItem.dimsDef=sysDimItem.otherDims=null}var dataDims=encodeDefMap.get(coordDim);if(!1!==dataDims){if(!(dataDims=normalizeToArray(dataDims)).length)for(var i=0;i<(sysDimItemDimsDef&&sysDimItemDimsDef.length||1);i++){for(;availDimIdx<dimCount&&null!=getResultItem(availDimIdx).coordDim;)availDimIdx++;availDimIdx<dimCount&&dataDims.push(availDimIdx++)}Object(util.each)(dataDims,(function(resultDimIdx,coordDimIndex){var resultItem=getResultItem(resultDimIdx);if(isUsingSourceDimensionsDef&&null!=sysDimItem.type&&(resultItem.type=sysDimItem.type),applyDim(Object(util.defaults)(resultItem,sysDimItem),coordDim,coordDimIndex),null==resultItem.name&&sysDimItemDimsDef){var sysDimItemDimsDefItem=sysDimItemDimsDef[coordDimIndex];!Object(util.isObject)(sysDimItemDimsDefItem)&&(sysDimItemDimsDefItem={name:sysDimItemDimsDefItem}),resultItem.name=resultItem.displayName=sysDimItemDimsDefItem.name,resultItem.defaultTooltip=sysDimItemDimsDefItem.defaultTooltip}sysDimItemOtherDims&&Object(util.defaults)(resultItem.otherDims,sysDimItemOtherDims)}))}}));var generateCoord=opt.generateCoord,generateCoordCount=opt.generateCoordCount,fromZero=null!=generateCoordCount;generateCoordCount=generateCoord?generateCoordCount||1:0;var extra=generateCoord||"value";function ifNoNameFillWithCoordName(resultItem){null==resultItem.name&&(resultItem.name=resultItem.coordDim)}if(omitUnusedDimensions)Object(util.each)(resultList,(function(resultItem){ifNoNameFillWithCoordName(resultItem)})),resultList.sort((function(item0,item1){return item0.storeDimIndex-item1.storeDimIndex}));else for(var resultDimIdx=0;resultDimIdx<dimCount;resultDimIdx++){var resultItem=getResultItem(resultDimIdx);null==resultItem.coordDim&&(resultItem.coordDim=genCoordDimName(extra,coordDimNameMap,fromZero),resultItem.coordDimIndex=0,(!generateCoord||generateCoordCount<=0)&&(resultItem.isExtraCoord=!0),generateCoordCount--),ifNoNameFillWithCoordName(resultItem),null!=resultItem.type||guessOrdinal(source,resultDimIdx)!==BE_ORDINAL_Must&&(!resultItem.isExtraCoord||null==resultItem.otherDims.itemName&&null==resultItem.otherDims.seriesName)||(resultItem.type="ordinal")}return function removeDuplication(result){for(var duplicationMap=Object(util.createHashMap)(),i=0;i<result.length;i++){var dim=result[i],dimOriginalName=dim.name,count=duplicationMap.get(dimOriginalName)||0;count>0&&(dim.name=dimOriginalName+(count-1)),count++,duplicationMap.set(dimOriginalName,count)}}(resultList),new SeriesDataSchema_SeriesDataSchema({source:source,dimensions:resultList,fullDimensionCount:dimCount,dimensionOmitted:omitUnusedDimensions})}function genCoordDimName(name,map,fromZero){var mapData=map.data;if(fromZero||mapData.hasOwnProperty(name)){for(var i=0;mapData.hasOwnProperty(name+i);)i++;name+=i}return map.set(name,!0),name}var referHelper_CoordSysInfo=function CoordSysInfo(coordSysName){this.coordSysDims=[],this.axisMap=Object(util.createHashMap)(),this.categoryAxisMap=Object(util.createHashMap)(),this.coordSysName=coordSysName};var fetchers={cartesian2d:function(seriesModel,result,axisMap,categoryAxisMap){var xAxisModel=seriesModel.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],yAxisModel=seriesModel.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];result.coordSysDims=["x","y"],axisMap.set("x",xAxisModel),axisMap.set("y",yAxisModel),referHelper_isCategory(xAxisModel)&&(categoryAxisMap.set("x",xAxisModel),result.firstCategoryDimIndex=0),referHelper_isCategory(yAxisModel)&&(categoryAxisMap.set("y",yAxisModel),null==result.firstCategoryDimIndex&&(result.firstCategoryDimIndex=1))},singleAxis:function(seriesModel,result,axisMap,categoryAxisMap){var singleAxisModel=seriesModel.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];result.coordSysDims=["single"],axisMap.set("single",singleAxisModel),referHelper_isCategory(singleAxisModel)&&(categoryAxisMap.set("single",singleAxisModel),result.firstCategoryDimIndex=0)},polar:function(seriesModel,result,axisMap,categoryAxisMap){var polarModel=seriesModel.getReferringComponents("polar",SINGLE_REFERRING).models[0],radiusAxisModel=polarModel.findAxisModel("radiusAxis"),angleAxisModel=polarModel.findAxisModel("angleAxis");result.coordSysDims=["radius","angle"],axisMap.set("radius",radiusAxisModel),axisMap.set("angle",angleAxisModel),referHelper_isCategory(radiusAxisModel)&&(categoryAxisMap.set("radius",radiusAxisModel),result.firstCategoryDimIndex=0),referHelper_isCategory(angleAxisModel)&&(categoryAxisMap.set("angle",angleAxisModel),null==result.firstCategoryDimIndex&&(result.firstCategoryDimIndex=1))},geo:function(seriesModel,result,axisMap,categoryAxisMap){result.coordSysDims=["lng","lat"]},parallel:function(seriesModel,result,axisMap,categoryAxisMap){var ecModel=seriesModel.ecModel,parallelModel=ecModel.getComponent("parallel",seriesModel.get("parallelIndex")),coordSysDims=result.coordSysDims=parallelModel.dimensions.slice();Object(util.each)(parallelModel.parallelAxisIndex,(function(axisIndex,index){var axisModel=ecModel.getComponent("parallelAxis",axisIndex),axisDim=coordSysDims[index];axisMap.set(axisDim,axisModel),referHelper_isCategory(axisModel)&&(categoryAxisMap.set(axisDim,axisModel),null==result.firstCategoryDimIndex&&(result.firstCategoryDimIndex=index))}))}};function referHelper_isCategory(axisModel){return"category"===axisModel.get("type")}function enableDataStack(seriesModel,dimensionsInput,opt){var dimensionDefineList,schema,store,byIndex=(opt=opt||{}).byIndex,stackedCoordDimension=opt.stackedCoordDimension;!function isLegacyDimensionsInput(dimensionsInput){return!isSeriesDataSchema(dimensionsInput.schema)}(dimensionsInput)?(schema=dimensionsInput.schema,dimensionDefineList=schema.dimensions,store=dimensionsInput.store):dimensionDefineList=dimensionsInput;var stackedByDimInfo,stackedDimInfo,stackResultDimension,stackedOverDimension,mayStack=!(!seriesModel||!seriesModel.get("stack"));if(Object(util.each)(dimensionDefineList,(function(dimensionInfo,index){Object(util.isString)(dimensionInfo)&&(dimensionDefineList[index]=dimensionInfo={name:dimensionInfo}),mayStack&&!dimensionInfo.isExtraCoord&&(byIndex||stackedByDimInfo||!dimensionInfo.ordinalMeta||(stackedByDimInfo=dimensionInfo),stackedDimInfo||"ordinal"===dimensionInfo.type||"time"===dimensionInfo.type||stackedCoordDimension&&stackedCoordDimension!==dimensionInfo.coordDim||(stackedDimInfo=dimensionInfo))})),!stackedDimInfo||byIndex||stackedByDimInfo||(byIndex=!0),stackedDimInfo){stackResultDimension="__\0ecstackresult_"+seriesModel.id,stackedOverDimension="__\0ecstackedover_"+seriesModel.id,stackedByDimInfo&&(stackedByDimInfo.createInvertedIndices=!0);var stackedDimCoordDim_1=stackedDimInfo.coordDim,stackedDimType=stackedDimInfo.type,stackedDimCoordIndex_1=0;Object(util.each)(dimensionDefineList,(function(dimensionInfo){dimensionInfo.coordDim===stackedDimCoordDim_1&&stackedDimCoordIndex_1++}));var stackedOverDimensionDefine={name:stackResultDimension,coordDim:stackedDimCoordDim_1,coordDimIndex:stackedDimCoordIndex_1,type:stackedDimType,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:dimensionDefineList.length},stackResultDimensionDefine={name:stackedOverDimension,coordDim:stackedOverDimension,coordDimIndex:stackedDimCoordIndex_1+1,type:stackedDimType,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:dimensionDefineList.length+1};schema?(store&&(stackedOverDimensionDefine.storeDimIndex=store.ensureCalculationDimension(stackedOverDimension,stackedDimType),stackResultDimensionDefine.storeDimIndex=store.ensureCalculationDimension(stackResultDimension,stackedDimType)),schema.appendCalculationDimension(stackedOverDimensionDefine),schema.appendCalculationDimension(stackResultDimensionDefine)):(dimensionDefineList.push(stackedOverDimensionDefine),dimensionDefineList.push(stackResultDimensionDefine))}return{stackedDimension:stackedDimInfo&&stackedDimInfo.name,stackedByDimension:stackedByDimInfo&&stackedByDimInfo.name,isStackedByIndex:byIndex,stackedOverDimension:stackedOverDimension,stackResultDimension:stackResultDimension}}function isDimensionStacked(data,stackedDim){return!!stackedDim&&stackedDim===data.getCalculationInfo("stackedDimension")}function getStackedDimension(data,targetDim){return isDimensionStacked(data,targetDim)?data.getCalculationInfo("stackResultDimension"):targetDim}var helper_createSeriesData=function createSeriesData(sourceRaw,seriesModel,opt){opt=opt||{};var source,sourceManager=seriesModel.getSourceManager(),isOriginalSource=!1;sourceRaw?(isOriginalSource=!0,source=createSourceFromSeriesDataOption(sourceRaw)):isOriginalSource="original"===(source=sourceManager.getSource()).sourceFormat;var coordSysInfo=function getCoordSysInfoBySeries(seriesModel){var coordSysName=seriesModel.get("coordinateSystem"),result=new referHelper_CoordSysInfo(coordSysName),fetch=fetchers[coordSysName];if(fetch)return fetch(seriesModel,result,result.axisMap,result.categoryAxisMap),result}(seriesModel),coordSysDimDefs=function getCoordSysDimDefs(seriesModel,coordSysInfo){var coordSysDimDefs,coordSysName=seriesModel.get("coordinateSystem"),registeredCoordSys=CoordinateSystem.get(coordSysName);return coordSysInfo&&coordSysInfo.coordSysDims&&(coordSysDimDefs=util.map(coordSysInfo.coordSysDims,(function(dim){var dimInfo={name:dim},axisModel=coordSysInfo.axisMap.get(dim);if(axisModel){var axisType=axisModel.get("type");dimInfo.type=getDimensionTypeByAxis(axisType)}return dimInfo}))),coordSysDimDefs||(coordSysDimDefs=registeredCoordSys&&(registeredCoordSys.getDimensionsInfo?registeredCoordSys.getDimensionsInfo():registeredCoordSys.dimensions.slice())||["x","y"]),coordSysDimDefs}(seriesModel,coordSysInfo),useEncodeDefaulter=opt.useEncodeDefaulter,encodeDefaulter=util.isFunction(useEncodeDefaulter)?useEncodeDefaulter:useEncodeDefaulter?util.curry(makeSeriesEncodeForAxisCoordSys,coordSysDimDefs,seriesModel):null,schema=prepareSeriesDataSchema(source,{coordDimensions:coordSysDimDefs,generateCoord:opt.generateCoord,encodeDefine:seriesModel.getEncode(),encodeDefaulter:encodeDefaulter,canOmitUnusedDimensions:!isOriginalSource}),firstCategoryDimIndex=function injectOrdinalMeta(dimInfoList,createInvertedIndices,coordSysInfo){var firstCategoryDimIndex,hasNameEncode;return coordSysInfo&&util.each(dimInfoList,(function(dimInfo,dimIndex){var coordDim=dimInfo.coordDim,categoryAxisModel=coordSysInfo.categoryAxisMap.get(coordDim);categoryAxisModel&&(null==firstCategoryDimIndex&&(firstCategoryDimIndex=dimIndex),dimInfo.ordinalMeta=categoryAxisModel.getOrdinalMeta(),createInvertedIndices&&(dimInfo.createInvertedIndices=!0)),null!=dimInfo.otherDims.itemName&&(hasNameEncode=!0)})),hasNameEncode||null==firstCategoryDimIndex||(dimInfoList[firstCategoryDimIndex].otherDims.itemName=0),firstCategoryDimIndex}(schema.dimensions,opt.createInvertedIndices,coordSysInfo),store=isOriginalSource?null:sourceManager.getSharedDataStore(schema),stackCalculationInfo=enableDataStack(seriesModel,{schema:schema,store:store}),data=new data_SeriesData(schema,seriesModel);data.setCalculationInfo(stackCalculationInfo);var dimValueGetter=null!=firstCategoryDimIndex&&function isNeedCompleteOrdinalData(source){if("original"===source.sourceFormat){var sampleItem=function firstDataNotNull(arr){var i=0;for(;i<arr.length&&null==arr[i];)i++;return arr[i]}(source.data||[]);return!util.isArray(getDataItemValue(sampleItem))}}(source)?function(itemOpt,dimName,dataIndex,dimIndex){return dimIndex===firstCategoryDimIndex?dataIndex:this.defaultDimValueGetter(itemOpt,dimName,dataIndex,dimIndex)}:null;return data.hasItemOption=!1,data.initData(isOriginalSource?source:store,null,dimValueGetter),data},Scale=function(){function Scale(setting){this._setting=setting||{},this._extent=[1/0,-1/0]}return Scale.prototype.getSetting=function(name){return this._setting[name]},Scale.prototype.unionExtent=function(other){var extent=this._extent;other[0]<extent[0]&&(extent[0]=other[0]),other[1]>extent[1]&&(extent[1]=other[1])},Scale.prototype.unionExtentFromData=function(data,dim){this.unionExtent(data.getApproximateExtent(dim))},Scale.prototype.getExtent=function(){return this._extent.slice()},Scale.prototype.setExtent=function(start,end){var thisExtent=this._extent;isNaN(start)||(thisExtent[0]=start),isNaN(end)||(thisExtent[1]=end)},Scale.prototype.isInExtentRange=function(value){return this._extent[0]<=value&&this._extent[1]>=value},Scale.prototype.isBlank=function(){return this._isBlank},Scale.prototype.setBlank=function(isBlank){this._isBlank=isBlank},Scale}();enableClassManagement(Scale);var scale_Scale=Scale,uidBase=0;function getName(obj){return Object(util.isObject)(obj)&&null!=obj.value?obj.value:obj+""}var data_OrdinalMeta=function(){function OrdinalMeta(opt){this.categories=opt.categories||[],this._needCollect=opt.needCollect,this._deduplication=opt.deduplication,this.uid=++uidBase}return OrdinalMeta.createByAxisModel=function(axisModel){var option=axisModel.option,data=option.data,categories=data&&Object(util.map)(data,getName);return new OrdinalMeta({categories:categories,needCollect:!categories,deduplication:!1!==option.dedplication})},OrdinalMeta.prototype.getOrdinal=function(category){return this._getOrCreateMap().get(category)},OrdinalMeta.prototype.parseAndCollect=function(category){var index,needCollect=this._needCollect;if(!Object(util.isString)(category)&&!needCollect)return category;if(needCollect&&!this._deduplication)return index=this.categories.length,this.categories[index]=category,index;var map=this._getOrCreateMap();return null==(index=map.get(category))&&(needCollect?(index=this.categories.length,this.categories[index]=category,map.set(category,index)):index=NaN),index},OrdinalMeta.prototype._getOrCreateMap=function(){return this._map||(this._map=Object(util.createHashMap)(this.categories))},OrdinalMeta}();function isIntervalOrLogScale(scale){return"interval"===scale.type||"log"===scale.type}function intervalScaleNiceTicks(extent,splitNumber,minInterval,maxInterval){var result={},span=extent[1]-extent[0],interval=result.interval=nice(span/splitNumber,!0);null!=minInterval&&interval<minInterval&&(interval=result.interval=minInterval),null!=maxInterval&&interval>maxInterval&&(interval=result.interval=maxInterval);var precision=result.intervalPrecision=getIntervalPrecision(interval);return function fixExtent(niceTickExtent,extent){!isFinite(niceTickExtent[0])&&(niceTickExtent[0]=extent[0]),!isFinite(niceTickExtent[1])&&(niceTickExtent[1]=extent[1]),helper_clamp(niceTickExtent,0,extent),helper_clamp(niceTickExtent,1,extent),niceTickExtent[0]>niceTickExtent[1]&&(niceTickExtent[0]=niceTickExtent[1])}(result.niceTickExtent=[round(Math.ceil(extent[0]/interval)*interval,precision),round(Math.floor(extent[1]/interval)*interval,precision)],extent),result}function increaseInterval(interval){var exp10=Math.pow(10,quantityExponent(interval)),f=interval/exp10;return f?2===f?f=3:3===f?f=5:f*=2:f=1,round(f*exp10)}function getIntervalPrecision(interval){return getPrecision(interval)+2}function helper_clamp(niceTickExtent,idx,extent){niceTickExtent[idx]=Math.max(Math.min(niceTickExtent[idx],extent[1]),extent[0])}function helper_contain(val,extent){return val>=extent[0]&&val<=extent[1]}function helper_normalize(val,extent){return extent[1]===extent[0]?.5:(val-extent[0])/(extent[1]-extent[0])}function helper_scale(val,extent){return val*(extent[1]-extent[0])+extent[0]}var Ordinal_OrdinalScale=function(_super){function OrdinalScale(setting){var _this=_super.call(this,setting)||this;_this.type="ordinal";var ordinalMeta=_this.getSetting("ordinalMeta");return ordinalMeta||(ordinalMeta=new data_OrdinalMeta({})),Object(util.isArray)(ordinalMeta)&&(ordinalMeta=new data_OrdinalMeta({categories:Object(util.map)(ordinalMeta,(function(item){return Object(util.isObject)(item)?item.value:item}))})),_this._ordinalMeta=ordinalMeta,_this._extent=_this.getSetting("extent")||[0,ordinalMeta.categories.length-1],_this}return __extends(OrdinalScale,_super),OrdinalScale.prototype.parse=function(val){return null==val?NaN:Object(util.isString)(val)?this._ordinalMeta.getOrdinal(val):Math.round(val)},OrdinalScale.prototype.contain=function(rank){return helper_contain(rank=this.parse(rank),this._extent)&&null!=this._ordinalMeta.categories[rank]},OrdinalScale.prototype.normalize=function(val){return helper_normalize(val=this._getTickNumber(this.parse(val)),this._extent)},OrdinalScale.prototype.scale=function(val){return val=Math.round(helper_scale(val,this._extent)),this.getRawOrdinalNumber(val)},OrdinalScale.prototype.getTicks=function(){for(var ticks=[],extent=this._extent,rank=extent[0];rank<=extent[1];)ticks.push({value:rank}),rank++;return ticks},OrdinalScale.prototype.getMinorTicks=function(splitNumber){},OrdinalScale.prototype.setSortInfo=function(info){if(null!=info){for(var infoOrdinalNumbers=info.ordinalNumbers,ordinalsByTick=this._ordinalNumbersByTick=[],ticksByOrdinal=this._ticksByOrdinalNumber=[],tickNum=0,allCategoryLen=this._ordinalMeta.categories.length,len=Math.min(allCategoryLen,infoOrdinalNumbers.length);tickNum<len;++tickNum){var ordinalNumber=infoOrdinalNumbers[tickNum];ordinalsByTick[tickNum]=ordinalNumber,ticksByOrdinal[ordinalNumber]=tickNum}for(var unusedOrdinal=0;tickNum<allCategoryLen;++tickNum){for(;null!=ticksByOrdinal[unusedOrdinal];)unusedOrdinal++;ordinalsByTick.push(unusedOrdinal),ticksByOrdinal[unusedOrdinal]=tickNum}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},OrdinalScale.prototype._getTickNumber=function(ordinal){var ticksByOrdinalNumber=this._ticksByOrdinalNumber;return ticksByOrdinalNumber&&ordinal>=0&&ordinal<ticksByOrdinalNumber.length?ticksByOrdinalNumber[ordinal]:ordinal},OrdinalScale.prototype.getRawOrdinalNumber=function(tickNumber){var ordinalNumbersByTick=this._ordinalNumbersByTick;return ordinalNumbersByTick&&tickNumber>=0&&tickNumber<ordinalNumbersByTick.length?ordinalNumbersByTick[tickNumber]:tickNumber},OrdinalScale.prototype.getLabel=function(tick){if(!this.isBlank()){var ordinalNumber=this.getRawOrdinalNumber(tick.value),cateogry=this._ordinalMeta.categories[ordinalNumber];return null==cateogry?"":cateogry+""}},OrdinalScale.prototype.count=function(){return this._extent[1]-this._extent[0]+1},OrdinalScale.prototype.unionExtentFromData=function(data,dim){this.unionExtent(data.getApproximateExtent(dim))},OrdinalScale.prototype.isInExtentRange=function(value){return value=this._getTickNumber(value),this._extent[0]<=value&&this._extent[1]>=value},OrdinalScale.prototype.getOrdinalMeta=function(){return this._ordinalMeta},OrdinalScale.prototype.calcNiceTicks=function(){},OrdinalScale.prototype.calcNiceExtent=function(){},OrdinalScale.type="ordinal",OrdinalScale}(scale_Scale);scale_Scale.registerClass(Ordinal_OrdinalScale);var Ordinal=Ordinal_OrdinalScale,roundNumber=round,Interval_IntervalScale=function(_super){function IntervalScale(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="interval",_this._interval=0,_this._intervalPrecision=2,_this}return __extends(IntervalScale,_super),IntervalScale.prototype.parse=function(val){return val},IntervalScale.prototype.contain=function(val){return helper_contain(val,this._extent)},IntervalScale.prototype.normalize=function(val){return helper_normalize(val,this._extent)},IntervalScale.prototype.scale=function(val){return helper_scale(val,this._extent)},IntervalScale.prototype.setExtent=function(start,end){var thisExtent=this._extent;isNaN(start)||(thisExtent[0]=parseFloat(start)),isNaN(end)||(thisExtent[1]=parseFloat(end))},IntervalScale.prototype.unionExtent=function(other){var extent=this._extent;other[0]<extent[0]&&(extent[0]=other[0]),other[1]>extent[1]&&(extent[1]=other[1]),this.setExtent(extent[0],extent[1])},IntervalScale.prototype.getInterval=function(){return this._interval},IntervalScale.prototype.setInterval=function(interval){this._interval=interval,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(interval)},IntervalScale.prototype.getTicks=function(expandToNicedExtent){var interval=this._interval,extent=this._extent,niceTickExtent=this._niceExtent,intervalPrecision=this._intervalPrecision,ticks=[];if(!interval)return ticks;extent[0]<niceTickExtent[0]&&(expandToNicedExtent?ticks.push({value:roundNumber(niceTickExtent[0]-interval,intervalPrecision)}):ticks.push({value:extent[0]}));for(var tick=niceTickExtent[0];tick<=niceTickExtent[1]&&(ticks.push({value:tick}),(tick=roundNumber(tick+interval,intervalPrecision))!==ticks[ticks.length-1].value);)if(ticks.length>1e4)return[];var lastNiceTick=ticks.length?ticks[ticks.length-1].value:niceTickExtent[1];return extent[1]>lastNiceTick&&(expandToNicedExtent?ticks.push({value:roundNumber(lastNiceTick+interval,intervalPrecision)}):ticks.push({value:extent[1]})),ticks},IntervalScale.prototype.getMinorTicks=function(splitNumber){for(var ticks=this.getTicks(!0),minorTicks=[],extent=this.getExtent(),i=1;i<ticks.length;i++){for(var nextTick=ticks[i],prevTick=ticks[i-1],count=0,minorTicksGroup=[],minorInterval=(nextTick.value-prevTick.value)/splitNumber;count<splitNumber-1;){var minorTick=roundNumber(prevTick.value+(count+1)*minorInterval);minorTick>extent[0]&&minorTick<extent[1]&&minorTicksGroup.push(minorTick),count++}minorTicks.push(minorTicksGroup)}return minorTicks},IntervalScale.prototype.getLabel=function(data,opt){if(null==data)return"";var precision=opt&&opt.precision;return null==precision?precision=getPrecision(data.value)||0:"auto"===precision&&(precision=this._intervalPrecision),addCommas(roundNumber(data.value,precision,!0))},IntervalScale.prototype.calcNiceTicks=function(splitNumber,minInterval,maxInterval){splitNumber=splitNumber||5;var extent=this._extent,span=extent[1]-extent[0];if(isFinite(span)){span<0&&(span=-span,extent.reverse());var result=intervalScaleNiceTicks(extent,splitNumber,minInterval,maxInterval);this._intervalPrecision=result.intervalPrecision,this._interval=result.interval,this._niceExtent=result.niceTickExtent}},IntervalScale.prototype.calcNiceExtent=function(opt){var extent=this._extent;if(extent[0]===extent[1])if(0!==extent[0]){var expandSize=extent[0];opt.fixMax||(extent[1]+=expandSize/2),extent[0]-=expandSize/2}else extent[1]=1;var span=extent[1]-extent[0];isFinite(span)||(extent[0]=0,extent[1]=1),this.calcNiceTicks(opt.splitNumber,opt.minInterval,opt.maxInterval);var interval=this._interval;opt.fixMin||(extent[0]=roundNumber(Math.floor(extent[0]/interval)*interval)),opt.fixMax||(extent[1]=roundNumber(Math.ceil(extent[1]/interval)*interval))},IntervalScale.prototype.setNiceExtent=function(min,max){this._niceExtent=[min,max]},IntervalScale.type="interval",IntervalScale}(scale_Scale);scale_Scale.registerClass(Interval_IntervalScale);var Interval=Interval_IntervalScale,supportFloat32Array="undefined"!=typeof Float32Array,Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(arg){return Object(util.isArray)(arg)?supportFloat32Array?new Float32Array(arg):arg:new Float32ArrayCtor(arg)}function getSeriesStackId(seriesModel){return seriesModel.get("stack")||"__ec_stack_"+seriesModel.seriesIndex}function getAxisKey(axis){return axis.dim+axis.index}function prepareLayoutBarSeries(seriesType,ecModel){var seriesModels=[];return ecModel.eachSeriesByType(seriesType,(function(seriesModel){isOnCartesian(seriesModel)&&seriesModels.push(seriesModel)})),seriesModels}function makeColumnLayout(barSeries){var axisMinGaps=function getValueAxesMinGaps(barSeries){var axisValues={};Object(util.each)(barSeries,(function(seriesModel){var baseAxis=seriesModel.coordinateSystem.getBaseAxis();if("time"===baseAxis.type||"value"===baseAxis.type)for(var data=seriesModel.getData(),key=baseAxis.dim+"_"+baseAxis.index,dimIdx=data.getDimensionIndex(data.mapDimension(baseAxis.dim)),store=data.getStore(),i=0,cnt=store.count();i<cnt;++i){var value=store.get(dimIdx,i);axisValues[key]?axisValues[key].push(value):axisValues[key]=[value]}}));var axisMinGaps={};for(var key in axisValues)if(axisValues.hasOwnProperty(key)){var valuesInAxis=axisValues[key];if(valuesInAxis){valuesInAxis.sort((function(a,b){return a-b}));for(var min=null,j=1;j<valuesInAxis.length;++j){var delta=valuesInAxis[j]-valuesInAxis[j-1];delta>0&&(min=null===min?delta:Math.min(min,delta))}axisMinGaps[key]=min}}return axisMinGaps}(barSeries),seriesInfoList=[];return Object(util.each)(barSeries,(function(seriesModel){var bandWidth,baseAxis=seriesModel.coordinateSystem.getBaseAxis(),axisExtent=baseAxis.getExtent();if("category"===baseAxis.type)bandWidth=baseAxis.getBandWidth();else if("value"===baseAxis.type||"time"===baseAxis.type){var key=baseAxis.dim+"_"+baseAxis.index,minGap=axisMinGaps[key],extentSpan=Math.abs(axisExtent[1]-axisExtent[0]),scale=baseAxis.scale.getExtent(),scaleSpan=Math.abs(scale[1]-scale[0]);bandWidth=minGap?extentSpan/scaleSpan*minGap:extentSpan}else{var data=seriesModel.getData();bandWidth=Math.abs(axisExtent[1]-axisExtent[0])/data.count()}var barWidth=number_parsePercent(seriesModel.get("barWidth"),bandWidth),barMaxWidth=number_parsePercent(seriesModel.get("barMaxWidth"),bandWidth),barMinWidth=number_parsePercent(seriesModel.get("barMinWidth")||(isInLargeMode(seriesModel)?.5:1),bandWidth),barGap=seriesModel.get("barGap"),barCategoryGap=seriesModel.get("barCategoryGap");seriesInfoList.push({bandWidth:bandWidth,barWidth:barWidth,barMaxWidth:barMaxWidth,barMinWidth:barMinWidth,barGap:barGap,barCategoryGap:barCategoryGap,axisKey:getAxisKey(baseAxis),stackId:getSeriesStackId(seriesModel)})})),doCalBarWidthAndOffset(seriesInfoList)}function doCalBarWidthAndOffset(seriesInfoList){var columnsMap={};Object(util.each)(seriesInfoList,(function(seriesInfo,idx){var axisKey=seriesInfo.axisKey,bandWidth=seriesInfo.bandWidth,columnsOnAxis=columnsMap[axisKey]||{bandWidth:bandWidth,remainedWidth:bandWidth,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},stacks=columnsOnAxis.stacks;columnsMap[axisKey]=columnsOnAxis;var stackId=seriesInfo.stackId;stacks[stackId]||columnsOnAxis.autoWidthCount++,stacks[stackId]=stacks[stackId]||{width:0,maxWidth:0};var barWidth=seriesInfo.barWidth;barWidth&&!stacks[stackId].width&&(stacks[stackId].width=barWidth,barWidth=Math.min(columnsOnAxis.remainedWidth,barWidth),columnsOnAxis.remainedWidth-=barWidth);var barMaxWidth=seriesInfo.barMaxWidth;barMaxWidth&&(stacks[stackId].maxWidth=barMaxWidth);var barMinWidth=seriesInfo.barMinWidth;barMinWidth&&(stacks[stackId].minWidth=barMinWidth);var barGap=seriesInfo.barGap;null!=barGap&&(columnsOnAxis.gap=barGap);var barCategoryGap=seriesInfo.barCategoryGap;null!=barCategoryGap&&(columnsOnAxis.categoryGap=barCategoryGap)}));var result={};return Object(util.each)(columnsMap,(function(columnsOnAxis,coordSysName){result[coordSysName]={};var stacks=columnsOnAxis.stacks,bandWidth=columnsOnAxis.bandWidth,categoryGapPercent=columnsOnAxis.categoryGap;if(null==categoryGapPercent){var columnCount=Object(util.keys)(stacks).length;categoryGapPercent=Math.max(35-4*columnCount,15)+"%"}var categoryGap=number_parsePercent(categoryGapPercent,bandWidth),barGapPercent=number_parsePercent(columnsOnAxis.gap,1),remainedWidth=columnsOnAxis.remainedWidth,autoWidthCount=columnsOnAxis.autoWidthCount,autoWidth=(remainedWidth-categoryGap)/(autoWidthCount+(autoWidthCount-1)*barGapPercent);autoWidth=Math.max(autoWidth,0),Object(util.each)(stacks,(function(column){var maxWidth=column.maxWidth,minWidth=column.minWidth;if(column.width){finalWidth=column.width;maxWidth&&(finalWidth=Math.min(finalWidth,maxWidth)),minWidth&&(finalWidth=Math.max(finalWidth,minWidth)),column.width=finalWidth,remainedWidth-=finalWidth+barGapPercent*finalWidth,autoWidthCount--}else{var finalWidth=autoWidth;maxWidth&&maxWidth<finalWidth&&(finalWidth=Math.min(maxWidth,remainedWidth)),minWidth&&minWidth>finalWidth&&(finalWidth=minWidth),finalWidth!==autoWidth&&(column.width=finalWidth,remainedWidth-=finalWidth+barGapPercent*finalWidth,autoWidthCount--)}})),autoWidth=(remainedWidth-categoryGap)/(autoWidthCount+(autoWidthCount-1)*barGapPercent),autoWidth=Math.max(autoWidth,0);var lastColumn,widthSum=0;Object(util.each)(stacks,(function(column,idx){column.width||(column.width=autoWidth),lastColumn=column,widthSum+=column.width*(1+barGapPercent)})),lastColumn&&(widthSum-=lastColumn.width*barGapPercent);var offset=-widthSum/2;Object(util.each)(stacks,(function(column,stackId){result[coordSysName][stackId]=result[coordSysName][stackId]||{bandWidth:bandWidth,offset:offset,width:column.width},offset+=column.width*(1+barGapPercent)}))})),result}function barGrid_layout(seriesType,ecModel){var seriesModels=prepareLayoutBarSeries(seriesType,ecModel),barWidthAndOffset=makeColumnLayout(seriesModels);Object(util.each)(seriesModels,(function(seriesModel){var data=seriesModel.getData(),baseAxis=seriesModel.coordinateSystem.getBaseAxis(),stackId=getSeriesStackId(seriesModel),columnLayoutInfo=barWidthAndOffset[getAxisKey(baseAxis)][stackId],columnOffset=columnLayoutInfo.offset,columnWidth=columnLayoutInfo.width;data.setLayout({bandWidth:columnLayoutInfo.bandWidth,offset:columnOffset,size:columnWidth})}))}function createProgressiveLayout(seriesType){return{seriesType:seriesType,plan:createRenderPlanner(),reset:function(seriesModel){if(isOnCartesian(seriesModel)){var data=seriesModel.getData(),cartesian=seriesModel.coordinateSystem,baseAxis=cartesian.getBaseAxis(),valueAxis=cartesian.getOtherAxis(baseAxis),valueDimIdx=data.getDimensionIndex(data.mapDimension(valueAxis.dim)),baseDimIdx=data.getDimensionIndex(data.mapDimension(baseAxis.dim)),drawBackground=seriesModel.get("showBackground",!0),valueDim=data.mapDimension(valueAxis.dim),stackResultDim=data.getCalculationInfo("stackResultDimension"),stacked=isDimensionStacked(data,valueDim)&&!!data.getCalculationInfo("stackedOnSeries"),isValueAxisH=valueAxis.isHorizontal(),valueAxisStart=function getValueAxisStart(baseAxis,valueAxis){return valueAxis.toGlobalCoord(valueAxis.dataToCoord("log"===valueAxis.type?1:0))}(0,valueAxis),isLarge=isInLargeMode(seriesModel),barMinHeight=seriesModel.get("barMinHeight")||0,stackedDimIdx=stackResultDim&&data.getDimensionIndex(stackResultDim),columnWidth=data.getLayout("size"),columnOffset=data.getLayout("offset");return{progress:function(params,data){for(var dataIndex,count=params.count,largePoints=isLarge&&createFloat32Array(3*count),largeBackgroundPoints=isLarge&&drawBackground&&createFloat32Array(3*count),largeDataIndices=isLarge&&createFloat32Array(count),coordLayout=cartesian.master.getRect(),bgSize=isValueAxisH?coordLayout.width:coordLayout.height,store=data.getStore(),idxOffset=0;null!=(dataIndex=params.next());){var value=store.get(stacked?stackedDimIdx:valueDimIdx,dataIndex),baseValue=store.get(baseDimIdx,dataIndex),baseCoord=valueAxisStart,startValue=void 0;stacked&&(startValue=+value-store.get(valueDimIdx,dataIndex));var x=void 0,y=void 0,width=void 0,height=void 0;if(isValueAxisH){var coord=cartesian.dataToPoint([value,baseValue]);if(stacked)baseCoord=cartesian.dataToPoint([startValue,baseValue])[0];x=baseCoord,y=coord[1]+columnOffset,width=coord[0]-baseCoord,height=columnWidth,Math.abs(width)<barMinHeight&&(width=(width<0?-1:1)*barMinHeight)}else{coord=cartesian.dataToPoint([baseValue,value]);if(stacked)baseCoord=cartesian.dataToPoint([baseValue,startValue])[1];x=coord[0]+columnOffset,y=baseCoord,width=columnWidth,height=coord[1]-baseCoord,Math.abs(height)<barMinHeight&&(height=(height<=0?-1:1)*barMinHeight)}isLarge?(largePoints[idxOffset]=x,largePoints[idxOffset+1]=y,largePoints[idxOffset+2]=isValueAxisH?width:height,largeBackgroundPoints&&(largeBackgroundPoints[idxOffset]=isValueAxisH?coordLayout.x:x,largeBackgroundPoints[idxOffset+1]=isValueAxisH?y:coordLayout.y,largeBackgroundPoints[idxOffset+2]=bgSize),largeDataIndices[dataIndex]=dataIndex):data.setItemLayout(dataIndex,{x:x,y:y,width:width,height:height}),idxOffset+=3}isLarge&&data.setLayout({largePoints:largePoints,largeDataIndices:largeDataIndices,largeBackgroundPoints:largeBackgroundPoints,valueAxisHorizontal:isValueAxisH})}}}}}}function isOnCartesian(seriesModel){return seriesModel.coordinateSystem&&"cartesian2d"===seriesModel.coordinateSystem.type}function isInLargeMode(seriesModel){return seriesModel.pipelineContext&&seriesModel.pipelineContext.large}var Time_TimeScale=function(_super){function TimeScale(settings){var _this=_super.call(this,settings)||this;return _this.type="time",_this}return __extends(TimeScale,_super),TimeScale.prototype.getLabel=function(tick){var useUTC=this.getSetting("useUTC");return format(tick.value,fullLeveledFormatter[function getDefaultFormatPrecisionOfInterval(timeUnit){switch(timeUnit){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,useUTC,this.getSetting("locale"))},TimeScale.prototype.getFormattedLabel=function(tick,idx,labelFormatter){var isUTC=this.getSetting("useUTC");return function leveledFormat(tick,idx,formatter,lang,isUTC){var template=null;if(util.isString(formatter))template=formatter;else if(util.isFunction(formatter))template=formatter(tick.value,idx,{level:tick.level});else{var defaults=util.extend({},defaultLeveledFormatter);if(tick.level>0)for(var i=0;i<primaryTimeUnits.length;++i)defaults[primaryTimeUnits[i]]="{primary|"+defaults[primaryTimeUnits[i]]+"}";var mergedFormatter=formatter?!1===formatter.inherit?formatter:util.defaults(formatter,defaults):defaults,unit=getUnitFromValue(tick.value,isUTC);if(mergedFormatter[unit])template=mergedFormatter[unit];else if(mergedFormatter.inherit){for(i=timeUnits.indexOf(unit)-1;i>=0;--i)if(mergedFormatter[unit]){template=mergedFormatter[unit];break}template=template||defaults.none}if(util.isArray(template)){var levelId=null==tick.level?0:tick.level>=0?tick.level:template.length+tick.level;template=template[levelId=Math.min(levelId,template.length-1)]}}return format(new Date(tick.value),template,isUTC,lang)}(tick,idx,labelFormatter,this.getSetting("locale"),isUTC)},TimeScale.prototype.getTicks=function(){var interval=this._interval,extent=this._extent,ticks=[];if(!interval)return ticks;ticks.push({value:extent[0],level:0});var useUTC=this.getSetting("useUTC"),innerTicks=function getIntervalTicks(bottomUnitName,approxInterval,isUTC,extent){var safeLimit=1e4,unitNames=timeUnits,iter=0;function addTicksInSpan(interval,minTimestamp,maxTimestamp,getMethodName,setMethodName,isDate,out){for(var date=new Date(minTimestamp),dateTime=minTimestamp,d=date[getMethodName]();dateTime<maxTimestamp&&dateTime<=extent[1];)out.push({value:dateTime}),d+=interval,date[setMethodName](d),dateTime=date.getTime();out.push({value:dateTime,notAdd:!0})}function addLevelTicks(unitName,lastLevelTicks,levelTicks){var newAddedTicks=[],isFirstLevel=!lastLevelTicks.length;if(!function isUnitValueSame(unit,valueA,valueB,isUTC){var dateA=parseDate(valueA),dateB=parseDate(valueB),isSame=function(unit){return getUnitValue(dateA,unit,isUTC)===getUnitValue(dateB,unit,isUTC)},isSameYear=function(){return isSame("year")},isSameMonth=function(){return isSameYear()&&isSame("month")},isSameDay=function(){return isSameMonth()&&isSame("day")},isSameHour=function(){return isSameDay()&&isSame("hour")},isSameMinute=function(){return isSameHour()&&isSame("minute")},isSameSecond=function(){return isSameMinute()&&isSame("second")},isSameMilliSecond=function(){return isSameSecond()&&isSame("millisecond")};switch(unit){case"year":return isSameYear();case"month":return isSameMonth();case"day":return isSameDay();case"hour":return isSameHour();case"minute":return isSameMinute();case"second":return isSameSecond();case"millisecond":return isSameMilliSecond()}}(getPrimaryTimeUnit(unitName),extent[0],extent[1],isUTC)){isFirstLevel&&(lastLevelTicks=[{value:getFirstTimestampOfUnit(new Date(extent[0]),unitName,isUTC)},{value:extent[1]}]);for(var i=0;i<lastLevelTicks.length-1;i++){var startTick=lastLevelTicks[i].value,endTick=lastLevelTicks[i+1].value;if(startTick!==endTick){var interval=void 0,getterName=void 0,setterName=void 0,isDate=!1;switch(unitName){case"year":interval=Math.max(1,Math.round(approxInterval/864e5/365)),getterName=fullYearGetterName(isUTC),setterName=fullYearSetterName(isUTC);break;case"half-year":case"quarter":case"month":interval=getMonthInterval(approxInterval),getterName=monthGetterName(isUTC),setterName=monthSetterName(isUTC);break;case"week":case"half-week":case"day":interval=getDateInterval(approxInterval,31),getterName=dateGetterName(isUTC),setterName=dateSetterName(isUTC),isDate=!0;break;case"half-day":case"quarter-day":case"hour":interval=getHourInterval(approxInterval),getterName=hoursGetterName(isUTC),setterName=hoursSetterName(isUTC);break;case"minute":interval=getMinutesAndSecondsInterval(approxInterval,!0),getterName=minutesGetterName(isUTC),setterName=minutesSetterName(isUTC);break;case"second":interval=getMinutesAndSecondsInterval(approxInterval,!1),getterName=secondsGetterName(isUTC),setterName=secondsSetterName(isUTC);break;case"millisecond":interval=getMillisecondsInterval(approxInterval),getterName=millisecondsGetterName(isUTC),setterName=millisecondsSetterName(isUTC)}addTicksInSpan(interval,startTick,endTick,getterName,setterName,isDate,newAddedTicks),"year"===unitName&&levelTicks.length>1&&0===i&&levelTicks.unshift({value:levelTicks[0].value-interval})}}for(i=0;i<newAddedTicks.length;i++)levelTicks.push(newAddedTicks[i]);return newAddedTicks}}for(var levelsTicks=[],currentLevelTicks=[],tickCount=0,lastLevelTickCount=0,i=0;i<unitNames.length&&iter++<safeLimit;++i){var primaryTimeUnit=getPrimaryTimeUnit(unitNames[i]);if(isPrimaryTimeUnit(unitNames[i]))if(addLevelTicks(unitNames[i],levelsTicks[levelsTicks.length-1]||[],currentLevelTicks),primaryTimeUnit!==(unitNames[i+1]?getPrimaryTimeUnit(unitNames[i+1]):null)){if(currentLevelTicks.length){lastLevelTickCount=tickCount,currentLevelTicks.sort((function(a,b){return a.value-b.value}));for(var levelTicksRemoveDuplicated=[],i_1=0;i_1<currentLevelTicks.length;++i_1){var tickValue=currentLevelTicks[i_1].value;0!==i_1&&currentLevelTicks[i_1-1].value===tickValue||(levelTicksRemoveDuplicated.push(currentLevelTicks[i_1]),tickValue>=extent[0]&&tickValue<=extent[1]&&tickCount++)}var targetTickNum=(extent[1]-extent[0])/approxInterval;if(tickCount>1.5*targetTickNum&&lastLevelTickCount>targetTickNum/1.5)break;if(levelsTicks.push(levelTicksRemoveDuplicated),tickCount>targetTickNum||bottomUnitName===unitNames[i])break}currentLevelTicks=[]}}0;var levelsTicksInExtent=Object(util.filter)(Object(util.map)(levelsTicks,(function(levelTicks){return Object(util.filter)(levelTicks,(function(tick){return tick.value>=extent[0]&&tick.value<=extent[1]&&!tick.notAdd}))})),(function(levelTicks){return levelTicks.length>0})),ticks=[],maxLevel=levelsTicksInExtent.length-1;for(i=0;i<levelsTicksInExtent.length;++i)for(var levelTicks=levelsTicksInExtent[i],k=0;k<levelTicks.length;++k)ticks.push({value:levelTicks[k].value,level:maxLevel-i});ticks.sort((function(a,b){return a.value-b.value}));var result=[];for(i=0;i<ticks.length;++i)0!==i&&ticks[i].value===ticks[i-1].value||result.push(ticks[i]);return result}(this._minLevelUnit,this._approxInterval,useUTC,extent);return(ticks=ticks.concat(innerTicks)).push({value:extent[1],level:0}),ticks},TimeScale.prototype.calcNiceExtent=function(opt){var extent=this._extent;if(extent[0]===extent[1]&&(extent[0]-=864e5,extent[1]+=864e5),extent[1]===-1/0&&extent[0]===1/0){var d=new Date;extent[1]=+new Date(d.getFullYear(),d.getMonth(),d.getDate()),extent[0]=extent[1]-864e5}this.calcNiceTicks(opt.splitNumber,opt.minInterval,opt.maxInterval)},TimeScale.prototype.calcNiceTicks=function(approxTickNum,minInterval,maxInterval){approxTickNum=approxTickNum||10;var extent=this._extent,span=extent[1]-extent[0];this._approxInterval=span/approxTickNum,null!=minInterval&&this._approxInterval<minInterval&&(this._approxInterval=minInterval),null!=maxInterval&&this._approxInterval>maxInterval&&(this._approxInterval=maxInterval);var scaleIntervalsLen=scaleIntervals.length,idx=Math.min(function(a,x,lo,hi){for(;lo<hi;){var mid=lo+hi>>>1;a[mid][1]<x?lo=mid+1:hi=mid}return lo}(scaleIntervals,this._approxInterval,0,scaleIntervalsLen),scaleIntervalsLen-1);this._interval=scaleIntervals[idx][1],this._minLevelUnit=scaleIntervals[Math.max(idx-1,0)][0]},TimeScale.prototype.parse=function(val){return Object(util.isNumber)(val)?val:+parseDate(val)},TimeScale.prototype.contain=function(val){return helper_contain(this.parse(val),this._extent)},TimeScale.prototype.normalize=function(val){return helper_normalize(this.parse(val),this._extent)},TimeScale.prototype.scale=function(val){return helper_scale(val,this._extent)},TimeScale.type="time",TimeScale}(Interval),scaleIntervals=[["second",1e3],["minute",6e4],["hour",36e5],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",15768e6],["year",31536e6]];function getDateInterval(approxInterval,daysInMonth){return(approxInterval/=864e5)>16?16:approxInterval>7.5?7:approxInterval>3.5?4:approxInterval>1.5?2:1}function getMonthInterval(approxInterval){return(approxInterval/=2592e6)>6?6:approxInterval>3?3:approxInterval>2?2:1}function getHourInterval(approxInterval){return(approxInterval/=36e5)>12?12:approxInterval>6?6:approxInterval>3.5?4:approxInterval>2?2:1}function getMinutesAndSecondsInterval(approxInterval,isMinutes){return(approxInterval/=isMinutes?6e4:1e3)>30?30:approxInterval>20?20:approxInterval>15?15:approxInterval>10?10:approxInterval>5?5:approxInterval>2?2:1}function getMillisecondsInterval(approxInterval){return nice(approxInterval,!0)}function getFirstTimestampOfUnit(date,unitName,isUTC){var outDate=new Date(date);switch(getPrimaryTimeUnit(unitName)){case"year":case"month":outDate[monthSetterName(isUTC)](0);case"day":outDate[dateSetterName(isUTC)](1);case"hour":outDate[hoursSetterName(isUTC)](0);case"minute":outDate[minutesSetterName(isUTC)](0);case"second":outDate[secondsSetterName(isUTC)](0),outDate[millisecondsSetterName(isUTC)](0)}return outDate.getTime()}scale_Scale.registerClass(Time_TimeScale);var Time=Time_TimeScale,scaleProto=scale_Scale.prototype,Log_intervalScaleProto=Interval.prototype,roundingErrorFix=round,mathFloor=Math.floor,mathCeil=Math.ceil,Log_mathPow=Math.pow,mathLog=Math.log,Log_LogScale=function(_super){function LogScale(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="log",_this.base=10,_this._originalScale=new Interval,_this._interval=0,_this}return __extends(LogScale,_super),LogScale.prototype.getTicks=function(expandToNicedExtent){var originalScale=this._originalScale,extent=this._extent,originalExtent=originalScale.getExtent(),ticks=Log_intervalScaleProto.getTicks.call(this,expandToNicedExtent);return util.map(ticks,(function(tick){var val=tick.value,powVal=round(Log_mathPow(this.base,val));return powVal=val===extent[0]&&this._fixMin?fixRoundingError(powVal,originalExtent[0]):powVal,{value:powVal=val===extent[1]&&this._fixMax?fixRoundingError(powVal,originalExtent[1]):powVal}}),this)},LogScale.prototype.setExtent=function(start,end){var base=this.base;start=mathLog(start)/mathLog(base),end=mathLog(end)/mathLog(base),Log_intervalScaleProto.setExtent.call(this,start,end)},LogScale.prototype.getExtent=function(){var base=this.base,extent=scaleProto.getExtent.call(this);extent[0]=Log_mathPow(base,extent[0]),extent[1]=Log_mathPow(base,extent[1]);var originalExtent=this._originalScale.getExtent();return this._fixMin&&(extent[0]=fixRoundingError(extent[0],originalExtent[0])),this._fixMax&&(extent[1]=fixRoundingError(extent[1],originalExtent[1])),extent},LogScale.prototype.unionExtent=function(extent){this._originalScale.unionExtent(extent);var base=this.base;extent[0]=mathLog(extent[0])/mathLog(base),extent[1]=mathLog(extent[1])/mathLog(base),scaleProto.unionExtent.call(this,extent)},LogScale.prototype.unionExtentFromData=function(data,dim){this.unionExtent(data.getApproximateExtent(dim))},LogScale.prototype.calcNiceTicks=function(approxTickNum){approxTickNum=approxTickNum||10;var extent=this._extent,span=extent[1]-extent[0];if(!(span===1/0||span<=0)){var interval=quantity(span);for(approxTickNum/span*interval<=.5&&(interval*=10);!isNaN(interval)&&Math.abs(interval)<1&&Math.abs(interval)>0;)interval*=10;var niceExtent=[round(mathCeil(extent[0]/interval)*interval),round(mathFloor(extent[1]/interval)*interval)];this._interval=interval,this._niceExtent=niceExtent}},LogScale.prototype.calcNiceExtent=function(opt){Log_intervalScaleProto.calcNiceExtent.call(this,opt),this._fixMin=opt.fixMin,this._fixMax=opt.fixMax},LogScale.prototype.parse=function(val){return val},LogScale.prototype.contain=function(val){return helper_contain(val=mathLog(val)/mathLog(this.base),this._extent)},LogScale.prototype.normalize=function(val){return helper_normalize(val=mathLog(val)/mathLog(this.base),this._extent)},LogScale.prototype.scale=function(val){return val=helper_scale(val,this._extent),Log_mathPow(this.base,val)},LogScale.type="log",LogScale}(scale_Scale),Log_proto=Log_LogScale.prototype;function fixRoundingError(val,originalVal){return roundingErrorFix(val,getPrecision(originalVal))}Log_proto.getMinorTicks=Log_intervalScaleProto.getMinorTicks,Log_proto.getLabel=Log_intervalScaleProto.getLabel,scale_Scale.registerClass(Log_LogScale);var Log=Log_LogScale,scaleRawExtentInfo_ScaleRawExtentInfo=function(){function ScaleRawExtentInfo(scale,model,originalExtent){this._prepareParams(scale,model,originalExtent)}return ScaleRawExtentInfo.prototype._prepareParams=function(scale,model,dataExtent){dataExtent[1]<dataExtent[0]&&(dataExtent=[NaN,NaN]),this._dataMin=dataExtent[0],this._dataMax=dataExtent[1];var isOrdinal=this._isOrdinal="ordinal"===scale.type;this._needCrossZero="interval"===scale.type&&model.getNeedCrossZero&&model.getNeedCrossZero();var modelMinRaw=this._modelMinRaw=model.get("min",!0);Object(util.isFunction)(modelMinRaw)?this._modelMinNum=parseAxisModelMinMax(scale,modelMinRaw({min:dataExtent[0],max:dataExtent[1]})):"dataMin"!==modelMinRaw&&(this._modelMinNum=parseAxisModelMinMax(scale,modelMinRaw));var modelMaxRaw=this._modelMaxRaw=model.get("max",!0);if(Object(util.isFunction)(modelMaxRaw)?this._modelMaxNum=parseAxisModelMinMax(scale,modelMaxRaw({min:dataExtent[0],max:dataExtent[1]})):"dataMax"!==modelMaxRaw&&(this._modelMaxNum=parseAxisModelMinMax(scale,modelMaxRaw)),isOrdinal)this._axisDataLen=model.getCategories().length;else{var boundaryGap=model.get("boundaryGap"),boundaryGapArr=Object(util.isArray)(boundaryGap)?boundaryGap:[boundaryGap||0,boundaryGap||0];"boolean"==typeof boundaryGapArr[0]||"boolean"==typeof boundaryGapArr[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent(boundaryGapArr[0],1),parsePercent(boundaryGapArr[1],1)]}},ScaleRawExtentInfo.prototype.calculate=function(){var isOrdinal=this._isOrdinal,dataMin=this._dataMin,dataMax=this._dataMax,axisDataLen=this._axisDataLen,boundaryGapInner=this._boundaryGapInner,span=isOrdinal?null:dataMax-dataMin||Math.abs(dataMin),min="dataMin"===this._modelMinRaw?dataMin:this._modelMinNum,max="dataMax"===this._modelMaxRaw?dataMax:this._modelMaxNum,minFixed=null!=min,maxFixed=null!=max;null==min&&(min=isOrdinal?axisDataLen?0:NaN:dataMin-boundaryGapInner[0]*span),null==max&&(max=isOrdinal?axisDataLen?axisDataLen-1:NaN:dataMax+boundaryGapInner[1]*span),(null==min||!isFinite(min))&&(min=NaN),(null==max||!isFinite(max))&&(max=NaN);var isBlank=Object(util.eqNaN)(min)||Object(util.eqNaN)(max)||isOrdinal&&!axisDataLen;this._needCrossZero&&(min>0&&max>0&&!minFixed&&(min=0),min<0&&max<0&&!maxFixed&&(max=0));var determinedMin=this._determinedMin,determinedMax=this._determinedMax;return null!=determinedMin&&(min=determinedMin,minFixed=!0),null!=determinedMax&&(max=determinedMax,maxFixed=!0),{min:min,max:max,minFixed:minFixed,maxFixed:maxFixed,isBlank:isBlank}},ScaleRawExtentInfo.prototype.modifyDataMinMax=function(minMaxName,val){this[DATA_MIN_MAX_ATTR[minMaxName]]=val},ScaleRawExtentInfo.prototype.setDeterminedMinMax=function(minMaxName,val){this[DETERMINED_MIN_MAX_ATTR[minMaxName]]=val},ScaleRawExtentInfo.prototype.freeze=function(){this.frozen=!0},ScaleRawExtentInfo}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(scale,model,originalExtent){var rawExtentInfo=scale.rawExtentInfo;return rawExtentInfo||(rawExtentInfo=new scaleRawExtentInfo_ScaleRawExtentInfo(scale,model,originalExtent),scale.rawExtentInfo=rawExtentInfo,rawExtentInfo)}function parseAxisModelMinMax(scale,minMax){return null==minMax?null:Object(util.eqNaN)(minMax)?NaN:scale.parse(minMax)}function getScaleExtent(scale,model){var scaleType=scale.type,rawExtentResult=ensureScaleRawExtentInfo(scale,model,scale.getExtent()).calculate();scale.setBlank(rawExtentResult.isBlank);var min=rawExtentResult.min,max=rawExtentResult.max,ecModel=model.ecModel;if(ecModel&&"time"===scaleType){var barSeriesModels=prepareLayoutBarSeries("bar",ecModel),isBaseAxisAndHasBarSeries_1=!1;if(util.each(barSeriesModels,(function(seriesModel){isBaseAxisAndHasBarSeries_1=isBaseAxisAndHasBarSeries_1||seriesModel.getBaseAxis()===model.axis})),isBaseAxisAndHasBarSeries_1){var barWidthAndOffset=makeColumnLayout(barSeriesModels),adjustedScale=function adjustScaleForOverflow(min,max,model,barWidthAndOffset){var axisExtent=model.axis.getExtent(),axisLength=axisExtent[1]-axisExtent[0],barsOnCurrentAxis=function retrieveColumnLayout(barWidthAndOffset,axis,seriesModel){if(barWidthAndOffset&&axis){var result=barWidthAndOffset[getAxisKey(axis)];return null!=result&&null!=seriesModel?result[getSeriesStackId(seriesModel)]:result}}(barWidthAndOffset,model.axis);if(void 0===barsOnCurrentAxis)return{min:min,max:max};var minOverflow=1/0;util.each(barsOnCurrentAxis,(function(item){minOverflow=Math.min(item.offset,minOverflow)}));var maxOverflow=-1/0;util.each(barsOnCurrentAxis,(function(item){maxOverflow=Math.max(item.offset+item.width,maxOverflow)})),minOverflow=Math.abs(minOverflow),maxOverflow=Math.abs(maxOverflow);var totalOverFlow=minOverflow+maxOverflow,oldRange=max-min,overflowBuffer=oldRange/(1-(minOverflow+maxOverflow)/axisLength)-oldRange;return{min:min-=overflowBuffer*(minOverflow/totalOverFlow),max:max+=overflowBuffer*(maxOverflow/totalOverFlow)}}(min,max,model,barWidthAndOffset);min=adjustedScale.min,max=adjustedScale.max}}return{extent:[min,max],fixMin:rawExtentResult.minFixed,fixMax:rawExtentResult.maxFixed}}function niceScaleExtent(scale,inModel){var model=inModel,extentInfo=getScaleExtent(scale,model),extent=extentInfo.extent,splitNumber=model.get("splitNumber");scale instanceof Log&&(scale.base=model.get("logBase"));var scaleType=scale.type,interval=model.get("interval"),isIntervalOrTime="interval"===scaleType||"time"===scaleType;scale.setExtent(extent[0],extent[1]),scale.calcNiceExtent({splitNumber:splitNumber,fixMin:extentInfo.fixMin,fixMax:extentInfo.fixMax,minInterval:isIntervalOrTime?model.get("minInterval"):null,maxInterval:isIntervalOrTime?model.get("maxInterval"):null}),null!=interval&&scale.setInterval&&scale.setInterval(interval)}function createScaleByModel(model,axisType){if(axisType=axisType||model.get("type"))switch(axisType){case"category":return new Ordinal({ordinalMeta:model.getOrdinalMeta?model.getOrdinalMeta():model.getCategories(),extent:[1/0,-1/0]});case"time":return new Time({locale:model.ecModel.getLocaleModel(),useUTC:model.ecModel.get("useUTC")});default:return new(scale_Scale.getClass(axisType)||Interval)}}function makeLabelFormatter(axis){var cb,tpl,labelFormatter=axis.getLabelModel().get("formatter"),categoryTickStart="category"===axis.type?axis.scale.getExtent()[0]:null;return"time"===axis.scale.type?(tpl=labelFormatter,function(tick,idx){return axis.scale.getFormattedLabel(tick,idx,tpl)}):util.isString(labelFormatter)?function(tpl){return function(tick){var label=axis.scale.getLabel(tick);return tpl.replace("{value}",null!=label?label:"")}}(labelFormatter):util.isFunction(labelFormatter)?(cb=labelFormatter,function(tick,idx){return null!=categoryTickStart&&(idx=tick.value-categoryTickStart),cb(getAxisRawValue(axis,tick),idx,null!=tick.level?{level:tick.level}:null)}):function(tick){return axis.scale.getLabel(tick)}}function getAxisRawValue(axis,tick){return"category"===axis.type?axis.scale.getLabel(tick):tick.value}function getOptionCategoryInterval(model){var interval=model.get("interval");return null==interval?"auto":interval}function shouldShowAllLabels(axis){return"category"===axis.type&&0===getOptionCategoryInterval(axis.getLabelModel())}function getDataDimensionsOnAxis(data,axisDim){var dataDimMap={};return util.each(data.mapDimensionsAll(axisDim),(function(dataDim){dataDimMap[getStackedDimension(data,dataDim)]=!0})),util.keys(dataDimMap)}var AxisModelCommonMixin=function(){function AxisModelCommonMixin(){}return AxisModelCommonMixin.prototype.getNeedCrossZero=function(){return!this.option.scale},AxisModelCommonMixin.prototype.getCoordSysModel=function(){},AxisModelCommonMixin}();function createList(seriesModel){return helper_createSeriesData(null,seriesModel)}var helper_dataStack={isDimensionStacked:isDimensionStacked,enableDataStack:enableDataStack,getStackedDimension:getStackedDimension};function createScale(dataExtent,option){var axisModel=option;option instanceof model_Model||(axisModel=new model_Model(option));var scale=createScaleByModel(axisModel);return scale.setExtent(dataExtent[0],dataExtent[1]),niceScaleExtent(scale,axisModel),scale}function mixinAxisModelCommonMethods(Model){util.mixin(Model,AxisModelCommonMixin)}function helper_createTextStyle(textStyleModel,opts){return createTextStyle(textStyleModel,null,null,"normal"!==(opts=opts||{}).state)}function polygon_isAroundEqual(a,b){return Math.abs(a-b)<1e-8}function polygon_contain(points,x,y){var w=0,p=points[0];if(!p)return!1;for(var i=1;i<points.length;i++){var p2=points[i];w+=windingLine(p[0],p[1],p2[0],p2[1],x,y),p=p2}var p0=points[0];return polygon_isAroundEqual(p[0],p0[0])&&polygon_isAroundEqual(p[1],p0[1])||(w+=windingLine(p[0],p[1],p0[0],p0[1],x,y)),0!==w}var TMP_TRANSFORM=[];function transformPoints(points,transform){for(var p=0;p<points.length;p++)applyTransform(points[p],points[p],transform)}function updateBBoxFromPoints(points,min,max,projection){for(var i=0;i<points.length;i++){var p=points[i];projection&&(p=projection.project(p)),p&&isFinite(p[0])&&isFinite(p[1])&&(vector_min(min,min,p),vector_max(max,max,p))}}var Region=function(){function Region(name){this.name=name}return Region.prototype.setCenter=function(center){this._center=center},Region.prototype.getCenter=function(){var center=this._center;return center||(center=this._center=this.calcCenter()),center},Region}(),GeoJSONPolygonGeometry=function GeoJSONPolygonGeometry(exterior,interiors){this.type="polygon",this.exterior=exterior,this.interiors=interiors},GeoJSONLineStringGeometry=function GeoJSONLineStringGeometry(points){this.type="linestring",this.points=points},Region_GeoJSONRegion=function(_super){function GeoJSONRegion(name,geometries,cp){var _this=_super.call(this,name)||this;return _this.type="geoJSON",_this.geometries=geometries,_this._center=cp&&[cp[0],cp[1]],_this}return __extends(GeoJSONRegion,_super),GeoJSONRegion.prototype.calcCenter=function(){for(var largestGeo,geometries=this.geometries,largestGeoSize=0,i=0;i<geometries.length;i++){var geo=geometries[i],exterior=geo.exterior,size=exterior&&exterior.length;size>largestGeoSize&&(largestGeo=geo,largestGeoSize=size)}if(largestGeo)return function centroid(points){for(var signedArea=0,cx=0,cy=0,len=points.length,x0=points[len-1][0],y0=points[len-1][1],i=0;i<len;i++){var x1=points[i][0],y1=points[i][1],a=x0*y1-x1*y0;signedArea+=a,cx+=(x0+x1)*a,cy+=(y0+y1)*a,x0=x1,y0=y1}return signedArea?[cx/signedArea/3,cy/signedArea/3,signedArea]:[points[0][0]||0,points[0][1]||0]}(largestGeo.exterior);var rect=this.getBoundingRect();return[rect.x+rect.width/2,rect.y+rect.height/2]},GeoJSONRegion.prototype.getBoundingRect=function(projection){var rect=this._rect;if(rect&&!projection)return rect;var min=[1/0,1/0],max=[-1/0,-1/0],geometries=this.geometries;return Object(util.each)(geometries,(function(geo){"polygon"===geo.type?updateBBoxFromPoints(geo.exterior,min,max,projection):Object(util.each)(geo.points,(function(points){updateBBoxFromPoints(points,min,max,projection)}))})),isFinite(min[0])&&isFinite(min[1])&&isFinite(max[0])&&isFinite(max[1])||(min[0]=min[1]=max[0]=max[1]=0),rect=new core_BoundingRect(min[0],min[1],max[0]-min[0],max[1]-min[1]),projection||(this._rect=rect),rect},GeoJSONRegion.prototype.contain=function(coord){var rect=this.getBoundingRect(),geometries=this.geometries;if(!rect.contain(coord[0],coord[1]))return!1;loopGeo:for(var i=0,len=geometries.length;i<len;i++){var geo=geometries[i];if("polygon"===geo.type){var exterior=geo.exterior,interiors=geo.interiors;if(polygon_contain(exterior,coord[0],coord[1])){for(var k=0;k<(interiors?interiors.length:0);k++)if(polygon_contain(interiors[k],coord[0],coord[1]))continue loopGeo;return!0}}}return!1},GeoJSONRegion.prototype.transformTo=function(x,y,width,height){var rect=this.getBoundingRect(),aspect=rect.width/rect.height;width?height||(height=width/aspect):width=aspect*height;for(var target=new core_BoundingRect(x,y,width,height),transform=rect.calculateTransform(target),geometries=this.geometries,i=0;i<geometries.length;i++){var geo=geometries[i];"polygon"===geo.type?(transformPoints(geo.exterior,transform),Object(util.each)(geo.interiors,(function(interior){transformPoints(interior,transform)}))):Object(util.each)(geo.points,(function(points){transformPoints(points,transform)}))}(rect=this._rect).copy(target),this._center=[rect.x+rect.width/2,rect.y+rect.height/2]},GeoJSONRegion.prototype.cloneShallow=function(name){null==name&&(name=this.name);var newRegion=new GeoJSONRegion(name,this.geometries,this._center);return newRegion._rect=this._rect,newRegion.transformTo=null,newRegion},GeoJSONRegion}(Region),Region_GeoSVGRegion=function(_super){function GeoSVGRegion(name,elOnlyForCalculate){var _this=_super.call(this,name)||this;return _this.type="geoSVG",_this._elOnlyForCalculate=elOnlyForCalculate,_this}return __extends(GeoSVGRegion,_super),GeoSVGRegion.prototype.calcCenter=function(){for(var el=this._elOnlyForCalculate,rect=el.getBoundingRect(),center=[rect.x+rect.width/2,rect.y+rect.height/2],mat=identity(TMP_TRANSFORM),target=el;target&&!target.isGeoSVGGraphicRoot;)matrix_mul(mat,target.getLocalTransform(),mat),target=target.parent;return matrix_invert(mat,mat),applyTransform(center,center,mat),center},GeoSVGRegion}(Region);function decodeRings(rings,encodeOffsets,encodeScale){for(var c=0;c<rings.length;c++)rings[c]=decodeRing(rings[c],encodeOffsets[c],encodeScale)}function decodeRing(coordinate,encodeOffsets,encodeScale){for(var result=[],prevX=encodeOffsets[0],prevY=encodeOffsets[1],i=0;i<coordinate.length;i+=2){var x=coordinate.charCodeAt(i)-64,y=coordinate.charCodeAt(i+1)-64;x=x>>1^-(1&x),y=y>>1^-(1&y),prevX=x+=prevX,prevY=y+=prevY,result.push([x/encodeScale,y/encodeScale])}return result}function parseGeoJSON(geoJson,nameProperty){return geoJson=function decode(json){if(!json.UTF8Encoding)return json;var jsonCompressed=json,encodeScale=jsonCompressed.UTF8Scale;null==encodeScale&&(encodeScale=1024);var features=jsonCompressed.features;return util.each(features,(function(feature){var geometry=feature.geometry,encodeOffsets=geometry.encodeOffsets,coordinates=geometry.coordinates;if(encodeOffsets)switch(geometry.type){case"LineString":geometry.coordinates=decodeRing(coordinates,encodeOffsets,encodeScale);break;case"Polygon":case"MultiLineString":decodeRings(coordinates,encodeOffsets,encodeScale);break;case"MultiPolygon":util.each(coordinates,(function(rings,idx){return decodeRings(rings,encodeOffsets[idx],encodeScale)}))}})),jsonCompressed.UTF8Encoding=!1,jsonCompressed}(geoJson),util.map(util.filter(geoJson.features,(function(featureObj){return featureObj.geometry&&featureObj.properties&&featureObj.geometry.coordinates.length>0})),(function(featureObj){var properties=featureObj.properties,geo=featureObj.geometry,geometries=[];switch(geo.type){case"Polygon":var coordinates=geo.coordinates;geometries.push(new GeoJSONPolygonGeometry(coordinates[0],coordinates.slice(1)));break;case"MultiPolygon":util.each(geo.coordinates,(function(item){item[0]&&geometries.push(new GeoJSONPolygonGeometry(item[0],item.slice(1)))}));break;case"LineString":geometries.push(new GeoJSONLineStringGeometry([geo.coordinates]));break;case"MultiLineString":geometries.push(new GeoJSONLineStringGeometry(geo.coordinates))}var region=new Region_GeoJSONRegion(properties[nameProperty||"name"],geometries,properties.cp);return region.properties=properties,region}))}function getTextRect(text,font,align,verticalAlign,padding,rich,truncate,lineHeight){return new Text({style:{text:text,font:font,align:align,verticalAlign:verticalAlign,padding:padding,rich:rich,overflow:truncate?"truncate":null,lineHeight:lineHeight}}).getBoundingRect()}var axisTickLabelBuilder_inner=makeInner();function createAxisLabels(axis){return"category"===axis.type?function makeCategoryLabels(axis){var labelModel=axis.getLabelModel(),result=makeCategoryLabelsActually(axis,labelModel);return!labelModel.get("show")||axis.scale.isBlank()?{labels:[],labelCategoryInterval:result.labelCategoryInterval}:result}(axis):function makeRealNumberLabels(axis){var ticks=axis.scale.getTicks(),labelFormatter=makeLabelFormatter(axis);return{labels:util.map(ticks,(function(tick,idx){return{level:tick.level,formattedLabel:labelFormatter(tick,idx),rawLabel:axis.scale.getLabel(tick),tickValue:tick.value}}))}}(axis)}function createAxisTicks(axis,tickModel){return"category"===axis.type?function makeCategoryTicks(axis,tickModel){var ticks,tickCategoryInterval,ticksCache=getListCache(axis,"ticks"),optionTickInterval=getOptionCategoryInterval(tickModel),result=listCacheGet(ticksCache,optionTickInterval);if(result)return result;tickModel.get("show")&&!axis.scale.isBlank()||(ticks=[]);if(util.isFunction(optionTickInterval))ticks=makeLabelsByCustomizedCategoryInterval(axis,optionTickInterval,!0);else if("auto"===optionTickInterval){var labelsResult=makeCategoryLabelsActually(axis,axis.getLabelModel());tickCategoryInterval=labelsResult.labelCategoryInterval,ticks=util.map(labelsResult.labels,(function(labelItem){return labelItem.tickValue}))}else ticks=makeLabelsByNumericCategoryInterval(axis,tickCategoryInterval=optionTickInterval,!0);return listCacheSet(ticksCache,optionTickInterval,{ticks:ticks,tickCategoryInterval:tickCategoryInterval})}(axis,tickModel):{ticks:util.map(axis.scale.getTicks(),(function(tick){return tick.value}))}}function makeCategoryLabelsActually(axis,labelModel){var labels,numericLabelInterval,labelsCache=getListCache(axis,"labels"),optionLabelInterval=getOptionCategoryInterval(labelModel),result=listCacheGet(labelsCache,optionLabelInterval);return result||(util.isFunction(optionLabelInterval)?labels=makeLabelsByCustomizedCategoryInterval(axis,optionLabelInterval):(numericLabelInterval="auto"===optionLabelInterval?function makeAutoCategoryInterval(axis){var result=axisTickLabelBuilder_inner(axis).autoInterval;return null!=result?result:axisTickLabelBuilder_inner(axis).autoInterval=axis.calculateCategoryInterval()}(axis):optionLabelInterval,labels=makeLabelsByNumericCategoryInterval(axis,numericLabelInterval)),listCacheSet(labelsCache,optionLabelInterval,{labels:labels,labelCategoryInterval:numericLabelInterval}))}function getListCache(axis,prop){return axisTickLabelBuilder_inner(axis)[prop]||(axisTickLabelBuilder_inner(axis)[prop]=[])}function listCacheGet(cache,key){for(var i=0;i<cache.length;i++)if(cache[i].key===key)return cache[i].value}function listCacheSet(cache,key,value){return cache.push({key:key,value:value}),value}function makeLabelsByNumericCategoryInterval(axis,categoryInterval,onlyTick){var labelFormatter=makeLabelFormatter(axis),ordinalScale=axis.scale,ordinalExtent=ordinalScale.getExtent(),labelModel=axis.getLabelModel(),result=[],step=Math.max((categoryInterval||0)+1,1),startTick=ordinalExtent[0],tickCount=ordinalScale.count();0!==startTick&&step>1&&tickCount/step>2&&(startTick=Math.round(Math.ceil(startTick/step)*step));var showAllLabel=shouldShowAllLabels(axis),includeMinLabel=labelModel.get("showMinLabel")||showAllLabel,includeMaxLabel=labelModel.get("showMaxLabel")||showAllLabel;includeMinLabel&&startTick!==ordinalExtent[0]&&addItem(ordinalExtent[0]);for(var tickValue=startTick;tickValue<=ordinalExtent[1];tickValue+=step)addItem(tickValue);function addItem(tickValue){var tickObj={value:tickValue};result.push(onlyTick?tickValue:{formattedLabel:labelFormatter(tickObj),rawLabel:ordinalScale.getLabel(tickObj),tickValue:tickValue})}return includeMaxLabel&&tickValue-step!==ordinalExtent[1]&&addItem(ordinalExtent[1]),result}function makeLabelsByCustomizedCategoryInterval(axis,categoryInterval,onlyTick){var ordinalScale=axis.scale,labelFormatter=makeLabelFormatter(axis),result=[];return util.each(ordinalScale.getTicks(),(function(tick){var rawLabel=ordinalScale.getLabel(tick),tickValue=tick.value;categoryInterval(tick.value,rawLabel)&&result.push(onlyTick?tickValue:{formattedLabel:labelFormatter(tick),rawLabel:rawLabel,tickValue:tickValue})})),result}var NORMALIZED_EXTENT=[0,1];function fixExtentWithBands(extent,nTick){var margin=(extent[1]-extent[0])/nTick/2;extent[0]+=margin,extent[1]-=margin}var coord_Axis=function(){function Axis(dim,scale,extent){this.onBand=!1,this.inverse=!1,this.dim=dim,this.scale=scale,this._extent=extent||[0,0]}return Axis.prototype.contain=function(coord){var extent=this._extent,min=Math.min(extent[0],extent[1]),max=Math.max(extent[0],extent[1]);return coord>=min&&coord<=max},Axis.prototype.containData=function(data){return this.scale.contain(data)},Axis.prototype.getExtent=function(){return this._extent.slice()},Axis.prototype.getPixelPrecision=function(dataExtent){return getPixelPrecision(dataExtent||this.scale.getExtent(),this._extent)},Axis.prototype.setExtent=function(start,end){var extent=this._extent;extent[0]=start,extent[1]=end},Axis.prototype.dataToCoord=function(data,clamp){var extent=this._extent,scale=this.scale;return data=scale.normalize(data),this.onBand&&"ordinal"===scale.type&&fixExtentWithBands(extent=extent.slice(),scale.count()),linearMap(data,NORMALIZED_EXTENT,extent,clamp)},Axis.prototype.coordToData=function(coord,clamp){var extent=this._extent,scale=this.scale;this.onBand&&"ordinal"===scale.type&&fixExtentWithBands(extent=extent.slice(),scale.count());var t=linearMap(coord,extent,NORMALIZED_EXTENT,clamp);return this.scale.scale(t)},Axis.prototype.pointToData=function(point,clamp){},Axis.prototype.getTicksCoords=function(opt){var tickModel=(opt=opt||{}).tickModel||this.getTickModel(),ticks=createAxisTicks(this,tickModel).ticks,ticksCoords=Object(util.map)(ticks,(function(tickVal){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(tickVal):tickVal),tickValue:tickVal}}),this);return function fixOnBandTicksCoords(axis,ticksCoords,alignWithLabel,clamp){var ticksLen=ticksCoords.length;if(!axis.onBand||alignWithLabel||!ticksLen)return;var last,diffSize,axisExtent=axis.getExtent();if(1===ticksLen)ticksCoords[0].coord=axisExtent[0],last=ticksCoords[1]={coord:axisExtent[0]};else{var crossLen=ticksCoords[ticksLen-1].tickValue-ticksCoords[0].tickValue,shift_1=(ticksCoords[ticksLen-1].coord-ticksCoords[0].coord)/crossLen;Object(util.each)(ticksCoords,(function(ticksItem){ticksItem.coord-=shift_1/2})),diffSize=1+axis.scale.getExtent()[1]-ticksCoords[ticksLen-1].tickValue,last={coord:ticksCoords[ticksLen-1].coord+shift_1*diffSize},ticksCoords.push(last)}var inverse=axisExtent[0]>axisExtent[1];littleThan(ticksCoords[0].coord,axisExtent[0])&&(clamp?ticksCoords[0].coord=axisExtent[0]:ticksCoords.shift());clamp&&littleThan(axisExtent[0],ticksCoords[0].coord)&&ticksCoords.unshift({coord:axisExtent[0]});littleThan(axisExtent[1],last.coord)&&(clamp?last.coord=axisExtent[1]:ticksCoords.pop());clamp&&littleThan(last.coord,axisExtent[1])&&ticksCoords.push({coord:axisExtent[1]});function littleThan(a,b){return a=round(a),b=round(b),inverse?a>b:a<b}}(this,ticksCoords,tickModel.get("alignWithLabel"),opt.clamp),ticksCoords},Axis.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var splitNumber=this.model.getModel("minorTick").get("splitNumber");splitNumber>0&&splitNumber<100||(splitNumber=5);var minorTicks=this.scale.getMinorTicks(splitNumber);return Object(util.map)(minorTicks,(function(minorTicksGroup){return Object(util.map)(minorTicksGroup,(function(minorTick){return{coord:this.dataToCoord(minorTick),tickValue:minorTick}}),this)}),this)},Axis.prototype.getViewLabels=function(){return createAxisLabels(this).labels},Axis.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},Axis.prototype.getTickModel=function(){return this.model.getModel("axisTick")},Axis.prototype.getBandWidth=function(){var axisExtent=this._extent,dataExtent=this.scale.getExtent(),len=dataExtent[1]-dataExtent[0]+(this.onBand?1:0);0===len&&(len=1);var size=Math.abs(axisExtent[1]-axisExtent[0]);return Math.abs(size)/len},Axis.prototype.calculateCategoryInterval=function(){return function calculateCategoryInterval(axis){var params=function fetchAutoCategoryIntervalCalculationParams(axis){var labelModel=axis.getLabelModel();return{axisRotate:axis.getRotate?axis.getRotate():axis.isHorizontal&&!axis.isHorizontal()?90:0,labelRotate:labelModel.get("rotate")||0,font:labelModel.getFont()}}(axis),labelFormatter=makeLabelFormatter(axis),rotation=(params.axisRotate-params.labelRotate)/180*Math.PI,ordinalScale=axis.scale,ordinalExtent=ordinalScale.getExtent(),tickCount=ordinalScale.count();if(ordinalExtent[1]-ordinalExtent[0]<1)return 0;var step=1;tickCount>40&&(step=Math.max(1,Math.floor(tickCount/40)));for(var tickValue=ordinalExtent[0],unitSpan=axis.dataToCoord(tickValue+1)-axis.dataToCoord(tickValue),unitW=Math.abs(unitSpan*Math.cos(rotation)),unitH=Math.abs(unitSpan*Math.sin(rotation)),maxW=0,maxH=0;tickValue<=ordinalExtent[1];tickValue+=step){var width,height,rect=getBoundingRect(labelFormatter({value:tickValue}),params.font,"center","top");width=1.3*rect.width,height=1.3*rect.height,maxW=Math.max(maxW,width,7),maxH=Math.max(maxH,height,7)}var dw=maxW/unitW,dh=maxH/unitH;isNaN(dw)&&(dw=1/0),isNaN(dh)&&(dh=1/0);var interval=Math.max(0,Math.floor(Math.min(dw,dh))),cache=axisTickLabelBuilder_inner(axis.model),axisExtent=axis.getExtent(),lastAutoInterval=cache.lastAutoInterval,lastTickCount=cache.lastTickCount;return null!=lastAutoInterval&&null!=lastTickCount&&Math.abs(lastAutoInterval-interval)<=1&&Math.abs(lastTickCount-tickCount)<=1&&lastAutoInterval>interval&&cache.axisExtent0===axisExtent[0]&&cache.axisExtent1===axisExtent[1]?interval=lastAutoInterval:(cache.lastTickCount=tickCount,cache.lastAutoInterval=interval,cache.axisExtent0=axisExtent[0],cache.axisExtent1=axisExtent[1]),interval}(this)},Axis}();function extendComponentModel(proto){var Model=Component.extend(proto);return Component.registerClass(Model),Model}function extendComponentView(proto){var View=view_Component.extend(proto);return view_Component.registerClass(View),View}function extendSeriesModel(proto){var Model=Series.extend(proto);return Series.registerClass(Model),Model}function extendChartView(proto){var View=Chart.extend(proto);return Chart.registerClass(View),View}var labelGuideHelper_PI2=2*Math.PI,labelGuideHelper_CMD=core_PathProxy.CMD,DEFAULT_SEARCH_SPACE=["top","right","bottom","left"];function getCandidateAnchor(pos,distance,rect,outPt,outDir){var width=rect.width,height=rect.height;switch(pos){case"top":outPt.set(rect.x+width/2,rect.y-distance),outDir.set(0,-1);break;case"bottom":outPt.set(rect.x+width/2,rect.y+height+distance),outDir.set(0,1);break;case"left":outPt.set(rect.x-distance,rect.y+height/2),outDir.set(-1,0);break;case"right":outPt.set(rect.x+width+distance,rect.y+height/2),outDir.set(1,0)}}function projectPointToArc(cx,cy,r,startAngle,endAngle,anticlockwise,x,y,out){x-=cx,y-=cy;var d=Math.sqrt(x*x+y*y),ox=(x/=d)*r+cx,oy=(y/=d)*r+cy;if(Math.abs(startAngle-endAngle)%labelGuideHelper_PI2<1e-4)return out[0]=ox,out[1]=oy,d-r;if(anticlockwise){var tmp=startAngle;startAngle=normalizeRadian(endAngle),endAngle=normalizeRadian(tmp)}else startAngle=normalizeRadian(startAngle),endAngle=normalizeRadian(endAngle);startAngle>endAngle&&(endAngle+=labelGuideHelper_PI2);var angle=Math.atan2(y,x);if(angle<0&&(angle+=labelGuideHelper_PI2),angle>=startAngle&&angle<=endAngle||angle+labelGuideHelper_PI2>=startAngle&&angle+labelGuideHelper_PI2<=endAngle)return out[0]=ox,out[1]=oy,d-r;var x1=r*Math.cos(startAngle)+cx,y1=r*Math.sin(startAngle)+cy,x2=r*Math.cos(endAngle)+cx,y2=r*Math.sin(endAngle)+cy,d1=(x1-x)*(x1-x)+(y1-y)*(y1-y),d2=(x2-x)*(x2-x)+(y2-y)*(y2-y);return d1<d2?(out[0]=x1,out[1]=y1,Math.sqrt(d1)):(out[0]=x2,out[1]=y2,Math.sqrt(d2))}function projectPointToLine(x1,y1,x2,y2,x,y,out,limitToEnds){var dx=x-x1,dy=y-y1,dx1=x2-x1,dy1=y2-y1,lineLen=Math.sqrt(dx1*dx1+dy1*dy1),t=(dx*(dx1/=lineLen)+dy*(dy1/=lineLen))/lineLen;limitToEnds&&(t=Math.min(Math.max(t,0),1)),t*=lineLen;var ox=out[0]=x1+t*dx1,oy=out[1]=y1+t*dy1;return Math.sqrt((ox-x)*(ox-x)+(oy-y)*(oy-y))}function projectPointToRect(x1,y1,width,height,x,y,out){width<0&&(x1+=width,width=-width),height<0&&(y1+=height,height=-height);var x2=x1+width,y2=y1+height,ox=out[0]=Math.min(Math.max(x,x1),x2),oy=out[1]=Math.min(Math.max(y,y1),y2);return Math.sqrt((ox-x)*(ox-x)+(oy-y)*(oy-y))}var tmpPt=[];function nearestPointOnRect(pt,rect,out){var dist=projectPointToRect(rect.x,rect.y,rect.width,rect.height,pt.x,pt.y,tmpPt);return out.set(tmpPt[0],tmpPt[1]),dist}function nearestPointOnPath(pt,path,out){for(var x1,y1,xi=0,yi=0,x0=0,y0=0,minDist=1/0,data=path.data,x=pt.x,y=pt.y,i=0;i<data.length;){var cmd=data[i++];1===i&&(x0=xi=data[i],y0=yi=data[i+1]);var d=minDist;switch(cmd){case labelGuideHelper_CMD.M:xi=x0=data[i++],yi=y0=data[i++];break;case labelGuideHelper_CMD.L:d=projectPointToLine(xi,yi,data[i],data[i+1],x,y,tmpPt,!0),xi=data[i++],yi=data[i++];break;case labelGuideHelper_CMD.C:d=cubicProjectPoint(xi,yi,data[i++],data[i++],data[i++],data[i++],data[i],data[i+1],x,y,tmpPt),xi=data[i++],yi=data[i++];break;case labelGuideHelper_CMD.Q:d=quadraticProjectPoint(xi,yi,data[i++],data[i++],data[i],data[i+1],x,y,tmpPt),xi=data[i++],yi=data[i++];break;case labelGuideHelper_CMD.A:var cx=data[i++],cy=data[i++],rx=data[i++],ry=data[i++],theta=data[i++],dTheta=data[i++];i+=1;var anticlockwise=!!(1-data[i++]);x1=Math.cos(theta)*rx+cx,y1=Math.sin(theta)*ry+cy,i<=1&&(x0=x1,y0=y1),d=projectPointToArc(cx,cy,ry,theta,theta+dTheta,anticlockwise,(x-cx)*ry/rx+cx,y,tmpPt),xi=Math.cos(theta+dTheta)*rx+cx,yi=Math.sin(theta+dTheta)*ry+cy;break;case labelGuideHelper_CMD.R:d=projectPointToRect(x0=xi=data[i++],y0=yi=data[i++],data[i++],data[i++],x,y,tmpPt);break;case labelGuideHelper_CMD.Z:d=projectPointToLine(xi,yi,x0,y0,x,y,tmpPt,!0),xi=x0,yi=y0}d<minDist&&(minDist=d,out.set(tmpPt[0],tmpPt[1]))}return minDist}var labelGuideHelper_pt0=new core_Point,labelGuideHelper_pt1=new core_Point,labelGuideHelper_pt2=new core_Point,labelGuideHelper_dir=new core_Point,labelGuideHelper_dir2=new core_Point;function updateLabelLinePoints(target,labelLineModel){if(target){var labelLine=target.getTextGuideLine(),label=target.getTextContent();if(label&&labelLine){var labelGuideConfig=target.textGuideLineConfig||{},points=[[0,0],[0,0],[0,0]],searchSpace=labelGuideConfig.candidates||DEFAULT_SEARCH_SPACE,labelRect=label.getBoundingRect().clone();labelRect.applyTransform(label.getComputedTransform());var minDist=1/0,anchorPoint=labelGuideConfig.anchor,targetTransform=target.getComputedTransform(),targetInversedTransform=targetTransform&&matrix_invert([],targetTransform),len=labelLineModel.get("length2")||0;anchorPoint&&labelGuideHelper_pt2.copy(anchorPoint);for(var i=0;i<searchSpace.length;i++){getCandidateAnchor(searchSpace[i],0,labelRect,labelGuideHelper_pt0,labelGuideHelper_dir),core_Point.scaleAndAdd(labelGuideHelper_pt1,labelGuideHelper_pt0,labelGuideHelper_dir,len),labelGuideHelper_pt1.transform(targetInversedTransform);var boundingRect=target.getBoundingRect(),dist=anchorPoint?anchorPoint.distance(labelGuideHelper_pt1):target instanceof graphic_Path?nearestPointOnPath(labelGuideHelper_pt1,target.path,labelGuideHelper_pt2):nearestPointOnRect(labelGuideHelper_pt1,boundingRect,labelGuideHelper_pt2);dist<minDist&&(minDist=dist,labelGuideHelper_pt1.transform(targetTransform),labelGuideHelper_pt2.transform(targetTransform),labelGuideHelper_pt2.toArray(points[0]),labelGuideHelper_pt1.toArray(points[1]),labelGuideHelper_pt0.toArray(points[2]))}limitTurnAngle(points,labelLineModel.get("minTurnAngle")),labelLine.setShape({points:points})}}}var labelGuideHelper_tmpArr=[],tmpProjPoint=new core_Point;function limitTurnAngle(linePoints,minTurnAngle){if(minTurnAngle<=180&&minTurnAngle>0){minTurnAngle=minTurnAngle/180*Math.PI,labelGuideHelper_pt0.fromArray(linePoints[0]),labelGuideHelper_pt1.fromArray(linePoints[1]),labelGuideHelper_pt2.fromArray(linePoints[2]),core_Point.sub(labelGuideHelper_dir,labelGuideHelper_pt0,labelGuideHelper_pt1),core_Point.sub(labelGuideHelper_dir2,labelGuideHelper_pt2,labelGuideHelper_pt1);var len1=labelGuideHelper_dir.len(),len2=labelGuideHelper_dir2.len();if(!(len1<.001||len2<.001)){labelGuideHelper_dir.scale(1/len1),labelGuideHelper_dir2.scale(1/len2);var angleCos=labelGuideHelper_dir.dot(labelGuideHelper_dir2);if(Math.cos(minTurnAngle)<angleCos){var d=projectPointToLine(labelGuideHelper_pt1.x,labelGuideHelper_pt1.y,labelGuideHelper_pt2.x,labelGuideHelper_pt2.y,labelGuideHelper_pt0.x,labelGuideHelper_pt0.y,labelGuideHelper_tmpArr,!1);tmpProjPoint.fromArray(labelGuideHelper_tmpArr),tmpProjPoint.scaleAndAdd(labelGuideHelper_dir2,d/Math.tan(Math.PI-minTurnAngle));var t=labelGuideHelper_pt2.x!==labelGuideHelper_pt1.x?(tmpProjPoint.x-labelGuideHelper_pt1.x)/(labelGuideHelper_pt2.x-labelGuideHelper_pt1.x):(tmpProjPoint.y-labelGuideHelper_pt1.y)/(labelGuideHelper_pt2.y-labelGuideHelper_pt1.y);if(isNaN(t))return;t<0?core_Point.copy(tmpProjPoint,labelGuideHelper_pt1):t>1&&core_Point.copy(tmpProjPoint,labelGuideHelper_pt2),tmpProjPoint.toArray(linePoints[1])}}}}function limitSurfaceAngle(linePoints,surfaceNormal,maxSurfaceAngle){if(maxSurfaceAngle<=180&&maxSurfaceAngle>0){maxSurfaceAngle=maxSurfaceAngle/180*Math.PI,labelGuideHelper_pt0.fromArray(linePoints[0]),labelGuideHelper_pt1.fromArray(linePoints[1]),labelGuideHelper_pt2.fromArray(linePoints[2]),core_Point.sub(labelGuideHelper_dir,labelGuideHelper_pt1,labelGuideHelper_pt0),core_Point.sub(labelGuideHelper_dir2,labelGuideHelper_pt2,labelGuideHelper_pt1);var len1=labelGuideHelper_dir.len(),len2=labelGuideHelper_dir2.len();if(!(len1<.001||len2<.001))if(labelGuideHelper_dir.scale(1/len1),labelGuideHelper_dir2.scale(1/len2),labelGuideHelper_dir.dot(surfaceNormal)<Math.cos(maxSurfaceAngle)){var d=projectPointToLine(labelGuideHelper_pt1.x,labelGuideHelper_pt1.y,labelGuideHelper_pt2.x,labelGuideHelper_pt2.y,labelGuideHelper_pt0.x,labelGuideHelper_pt0.y,labelGuideHelper_tmpArr,!1);tmpProjPoint.fromArray(labelGuideHelper_tmpArr);var HALF_PI=Math.PI/2,newAngle=HALF_PI+Math.acos(labelGuideHelper_dir2.dot(surfaceNormal))-maxSurfaceAngle;if(newAngle>=HALF_PI)core_Point.copy(tmpProjPoint,labelGuideHelper_pt2);else{tmpProjPoint.scaleAndAdd(labelGuideHelper_dir2,d/Math.tan(Math.PI/2-newAngle));var t=labelGuideHelper_pt2.x!==labelGuideHelper_pt1.x?(tmpProjPoint.x-labelGuideHelper_pt1.x)/(labelGuideHelper_pt2.x-labelGuideHelper_pt1.x):(tmpProjPoint.y-labelGuideHelper_pt1.y)/(labelGuideHelper_pt2.y-labelGuideHelper_pt1.y);if(isNaN(t))return;t<0?core_Point.copy(tmpProjPoint,labelGuideHelper_pt1):t>1&&core_Point.copy(tmpProjPoint,labelGuideHelper_pt2)}tmpProjPoint.toArray(linePoints[1])}}}function setLabelLineState(labelLine,ignore,stateName,stateModel){var isNormal="normal"===stateName,stateObj=isNormal?labelLine:labelLine.ensureState(stateName);stateObj.ignore=ignore;var smooth=stateModel.get("smooth");smooth&&!0===smooth&&(smooth=.3),stateObj.shape=stateObj.shape||{},smooth>0&&(stateObj.shape.smooth=smooth);var styleObj=stateModel.getModel("lineStyle").getLineStyle();isNormal?labelLine.useStyle(styleObj):stateObj.style=styleObj}function buildLabelLinePath(path,shape){var smooth=shape.smooth,points=shape.points;if(points)if(path.moveTo(points[0][0],points[0][1]),smooth>0&&points.length>=3){var len1=vector_dist(points[0],points[1]),len2=vector_dist(points[1],points[2]);if(!len1||!len2)return path.lineTo(points[1][0],points[1][1]),void path.lineTo(points[2][0],points[2][1]);var moveLen=Math.min(len1,len2)*smooth,midPoint0=lerp([],points[1],points[0],moveLen/len1),midPoint2=lerp([],points[1],points[2],moveLen/len2),midPoint1=lerp([],midPoint0,midPoint2,.5);path.bezierCurveTo(midPoint0[0],midPoint0[1],midPoint0[0],midPoint0[1],midPoint1[0],midPoint1[1]),path.bezierCurveTo(midPoint2[0],midPoint2[1],midPoint2[0],midPoint2[1],points[2][0],points[2][1])}else for(var i=1;i<points.length;i++)path.lineTo(points[i][0],points[i][1])}function setLabelLineStyle(targetEl,statesModels,defaultStyle){var labelLine=targetEl.getTextGuideLine(),label=targetEl.getTextContent();if(label){for(var normalModel=statesModels.normal,showNormal=normalModel.get("show"),labelIgnoreNormal=label.ignore,i=0;i<DISPLAY_STATES.length;i++){var stateName=DISPLAY_STATES[i],stateModel=statesModels[stateName],isNormal="normal"===stateName;if(stateModel){var stateShow=stateModel.get("show");if((isNormal?labelIgnoreNormal:Object(util.retrieve2)(label.states[stateName]&&label.states[stateName].ignore,labelIgnoreNormal))||!Object(util.retrieve2)(stateShow,showNormal)){var stateObj=isNormal?labelLine:labelLine&&labelLine.states[stateName];stateObj&&(stateObj.ignore=!0);continue}labelLine||(labelLine=new shape_Polyline,targetEl.setTextGuideLine(labelLine),isNormal||!labelIgnoreNormal&&showNormal||setLabelLineState(labelLine,!0,"normal",statesModels.normal),targetEl.stateProxy&&(labelLine.stateProxy=targetEl.stateProxy)),setLabelLineState(labelLine,!1,stateName,stateModel)}}if(labelLine){Object(util.defaults)(labelLine.style,defaultStyle),labelLine.style.fill=null;var showAbove=normalModel.get("showAbove");(targetEl.textGuideLineConfig=targetEl.textGuideLineConfig||{}).showAbove=showAbove||!1,labelLine.buildPath=buildLabelLinePath}}else labelLine&&targetEl.removeTextGuideLine()}function getLabelLineStatesModels(itemModel,labelLineName){labelLineName=labelLineName||"labelLine";for(var statesModels={normal:itemModel.getModel(labelLineName)},i=0;i<SPECIAL_STATES.length;i++){var stateName=SPECIAL_STATES[i];statesModels[stateName]=itemModel.getModel([stateName,labelLineName])}return statesModels}function prepareLayoutList(input){for(var list=[],i=0;i<input.length;i++){var rawItem=input[i];if(!rawItem.defaultAttr.ignore){var label=rawItem.label,transform=label.getComputedTransform(),localRect=label.getBoundingRect(),isAxisAligned=!transform||transform[1]<1e-5&&transform[2]<1e-5,minMargin=label.style.margin||0,globalRect=localRect.clone();globalRect.applyTransform(transform),globalRect.x-=minMargin/2,globalRect.y-=minMargin/2,globalRect.width+=minMargin,globalRect.height+=minMargin;var obb=isAxisAligned?new core_OrientedBoundingRect(localRect,transform):null;list.push({label:label,labelLine:rawItem.labelLine,rect:globalRect,localRect:localRect,obb:obb,priority:rawItem.priority,defaultAttr:rawItem.defaultAttr,layoutOption:rawItem.computedLayoutOption,axisAligned:isAxisAligned,transform:transform})}}return list}function shiftLayout(list,xyDim,sizeDim,minBound,maxBound,balanceShift){var len=list.length;if(!(len<2)){list.sort((function(a,b){return a.rect[xyDim]-b.rect[xyDim]}));for(var delta,lastPos=0,adjusted=!1,shifts=[],totalShifts=0,i=0;i<len;i++){var item=list[i],rect=item.rect;(delta=rect[xyDim]-lastPos)<0&&(rect[xyDim]-=delta,item.label[xyDim]-=delta,adjusted=!0);var shift=Math.max(-delta,0);shifts.push(shift),totalShifts+=shift,lastPos=rect[xyDim]+rect[sizeDim]}totalShifts>0&&balanceShift&&shiftList(-totalShifts/len,0,len);var minGap,maxGap,first=list[0],last=list[len-1];return updateMinMaxGap(),minGap<0&&squeezeGaps(-minGap,.8),maxGap<0&&squeezeGaps(maxGap,.8),updateMinMaxGap(),takeBoundsGap(minGap,maxGap,1),takeBoundsGap(maxGap,minGap,-1),updateMinMaxGap(),minGap<0&&squeezeWhenBailout(-minGap),maxGap<0&&squeezeWhenBailout(maxGap),adjusted}function updateMinMaxGap(){minGap=first.rect[xyDim]-minBound,maxGap=maxBound-last.rect[xyDim]-last.rect[sizeDim]}function takeBoundsGap(gapThisBound,gapOtherBound,moveDir){if(gapThisBound<0){var moveFromMaxGap=Math.min(gapOtherBound,-gapThisBound);if(moveFromMaxGap>0){shiftList(moveFromMaxGap*moveDir,0,len);var remained=moveFromMaxGap+gapThisBound;remained<0&&squeezeGaps(-remained*moveDir,1)}else squeezeGaps(-gapThisBound*moveDir,1)}}function shiftList(delta,start,end){0!==delta&&(adjusted=!0);for(var i=start;i<end;i++){var item=list[i];item.rect[xyDim]+=delta,item.label[xyDim]+=delta}}function squeezeGaps(delta,maxSqeezePercent){for(var gaps=[],totalGaps=0,i=1;i<len;i++){var prevItemRect=list[i-1].rect,gap=Math.max(list[i].rect[xyDim]-prevItemRect[xyDim]-prevItemRect[sizeDim],0);gaps.push(gap),totalGaps+=gap}if(totalGaps){var squeezePercent=Math.min(Math.abs(delta)/totalGaps,maxSqeezePercent);if(delta>0)for(i=0;i<len-1;i++){shiftList(gaps[i]*squeezePercent,0,i+1)}else for(i=len-1;i>0;i--){shiftList(-(gaps[i-1]*squeezePercent),i,len)}}}function squeezeWhenBailout(delta){var dir=delta<0?-1:1;delta=Math.abs(delta);for(var moveForEachLabel=Math.ceil(delta/(len-1)),i=0;i<len-1;i++)if(dir>0?shiftList(moveForEachLabel,0,i+1):shiftList(-moveForEachLabel,len-i-1,len),(delta-=moveForEachLabel)<=0)return}}function shiftLayoutOnY(list,topBound,bottomBound,balanceShift){return shiftLayout(list,"y","height",topBound,bottomBound,balanceShift)}function hideOverlap(labelList){var displayedLabels=[];labelList.sort((function(a,b){return b.priority-a.priority}));var globalRect=new core_BoundingRect(0,0,0,0);function hideEl(el){if(!el.ignore){var emphasisState=el.ensureState("emphasis");null==emphasisState.ignore&&(emphasisState.ignore=!1)}el.ignore=!0}for(var i=0;i<labelList.length;i++){var labelItem=labelList[i],isAxisAligned=labelItem.axisAligned,localRect=labelItem.localRect,transform=labelItem.transform,label=labelItem.label,labelLine=labelItem.labelLine;globalRect.copy(labelItem.rect),globalRect.width-=.1,globalRect.height-=.1,globalRect.x+=.05,globalRect.y+=.05;for(var obb=labelItem.obb,overlapped=!1,j=0;j<displayedLabels.length;j++){var existsTextCfg=displayedLabels[j];if(globalRect.intersect(existsTextCfg.rect)){if(isAxisAligned&&existsTextCfg.axisAligned){overlapped=!0;break}if(existsTextCfg.obb||(existsTextCfg.obb=new core_OrientedBoundingRect(existsTextCfg.localRect,existsTextCfg.transform)),obb||(obb=new core_OrientedBoundingRect(localRect,transform)),obb.intersect(existsTextCfg.obb)){overlapped=!0;break}}}overlapped?(hideEl(label),labelLine&&hideEl(labelLine)):(label.attr("ignore",labelItem.defaultAttr.ignore),labelLine&&labelLine.attr("ignore",labelItem.defaultAttr.labelGuideIgnore),displayedLabels.push(labelItem))}}function cloneArr(points){if(points){for(var newPoints=[],i=0;i<points.length;i++)newPoints.push(points[i].slice());return newPoints}}function prepareLayoutCallbackParams(labelItem,hostEl){var label=labelItem.label,labelLine=hostEl&&hostEl.getTextGuideLine();return{dataIndex:labelItem.dataIndex,dataType:labelItem.dataType,seriesIndex:labelItem.seriesModel.seriesIndex,text:labelItem.label.style.text,rect:labelItem.hostRect,labelRect:labelItem.rect,align:label.style.align,verticalAlign:label.style.verticalAlign,labelLinePoints:cloneArr(labelLine&&labelLine.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=["align","verticalAlign","width","height","fontSize"],LabelManager_dummyTransformable=new core_Transformable,labelLayoutInnerStore=makeInner(),labelLineAnimationStore=makeInner();function extendWithKeys(target,source,keys){for(var i=0;i<keys.length;i++){var key=keys[i];null!=source[key]&&(target[key]=source[key])}}var LABEL_LAYOUT_PROPS=["x","y","rotation"],label_LabelManager=function(){function LabelManager(){this._labelList=[],this._chartViewList=[]}return LabelManager.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},LabelManager.prototype._addLabel=function(dataIndex,dataType,seriesModel,label,layoutOption){var labelStyle=label.style,textConfig=label.__hostTarget.textConfig||{},labelTransform=label.getComputedTransform(),labelRect=label.getBoundingRect().plain();core_BoundingRect.applyTransform(labelRect,labelRect,labelTransform),labelTransform?LabelManager_dummyTransformable.setLocalTransform(labelTransform):(LabelManager_dummyTransformable.x=LabelManager_dummyTransformable.y=LabelManager_dummyTransformable.rotation=LabelManager_dummyTransformable.originX=LabelManager_dummyTransformable.originY=0,LabelManager_dummyTransformable.scaleX=LabelManager_dummyTransformable.scaleY=1);var hostRect,host=label.__hostTarget;if(host){hostRect=host.getBoundingRect().plain();var transform=host.getComputedTransform();core_BoundingRect.applyTransform(hostRect,hostRect,transform)}var labelGuide=hostRect&&host.getTextGuideLine();this._labelList.push({label:label,labelLine:labelGuide,seriesModel:seriesModel,dataIndex:dataIndex,dataType:dataType,layoutOption:layoutOption,computedLayoutOption:null,rect:labelRect,hostRect:hostRect,priority:hostRect?hostRect.width*hostRect.height:0,defaultAttr:{ignore:label.ignore,labelGuideIgnore:labelGuide&&labelGuide.ignore,x:LabelManager_dummyTransformable.x,y:LabelManager_dummyTransformable.y,scaleX:LabelManager_dummyTransformable.scaleX,scaleY:LabelManager_dummyTransformable.scaleY,rotation:LabelManager_dummyTransformable.rotation,style:{x:labelStyle.x,y:labelStyle.y,align:labelStyle.align,verticalAlign:labelStyle.verticalAlign,width:labelStyle.width,height:labelStyle.height,fontSize:labelStyle.fontSize},cursor:label.cursor,attachedPos:textConfig.position,attachedRot:textConfig.rotation}})},LabelManager.prototype.addLabelsOfSeries=function(chartView){var _this=this;this._chartViewList.push(chartView);var seriesModel=chartView.__model,layoutOption=seriesModel.get("labelLayout");(Object(util.isFunction)(layoutOption)||Object(util.keys)(layoutOption).length)&&chartView.group.traverse((function(child){if(child.ignore)return!0;var textEl=child.getTextContent(),ecData=getECData(child);textEl&&!textEl.disableLabelLayout&&_this._addLabel(ecData.dataIndex,ecData.dataType,seriesModel,textEl,layoutOption)}))},LabelManager.prototype.updateLayoutConfig=function(api){var width=api.getWidth(),height=api.getHeight();function createDragHandler(el,labelLineModel){return function(){updateLabelLinePoints(el,labelLineModel)}}for(var i=0;i<this._labelList.length;i++){var labelItem=this._labelList[i],label=labelItem.label,hostEl=label.__hostTarget,defaultLabelAttr=labelItem.defaultAttr,layoutOption=void 0;layoutOption=(layoutOption=Object(util.isFunction)(labelItem.layoutOption)?labelItem.layoutOption(prepareLayoutCallbackParams(labelItem,hostEl)):labelItem.layoutOption)||{},labelItem.computedLayoutOption=layoutOption;var degreeToRadian=Math.PI/180;hostEl&&hostEl.setTextConfig({local:!1,position:null!=layoutOption.x||null!=layoutOption.y?null:defaultLabelAttr.attachedPos,rotation:null!=layoutOption.rotate?layoutOption.rotate*degreeToRadian:defaultLabelAttr.attachedRot,offset:[layoutOption.dx||0,layoutOption.dy||0]});var needsUpdateLabelLine=!1;if(null!=layoutOption.x?(label.x=number_parsePercent(layoutOption.x,width),label.setStyle("x",0),needsUpdateLabelLine=!0):(label.x=defaultLabelAttr.x,label.setStyle("x",defaultLabelAttr.style.x)),null!=layoutOption.y?(label.y=number_parsePercent(layoutOption.y,height),label.setStyle("y",0),needsUpdateLabelLine=!0):(label.y=defaultLabelAttr.y,label.setStyle("y",defaultLabelAttr.style.y)),layoutOption.labelLinePoints){var guideLine=hostEl.getTextGuideLine();guideLine&&(guideLine.setShape({points:layoutOption.labelLinePoints}),needsUpdateLabelLine=!1)}labelLayoutInnerStore(label).needsUpdateLabelLine=needsUpdateLabelLine,label.rotation=null!=layoutOption.rotate?layoutOption.rotate*degreeToRadian:defaultLabelAttr.rotation,label.scaleX=defaultLabelAttr.scaleX,label.scaleY=defaultLabelAttr.scaleY;for(var k=0;k<LABEL_OPTION_TO_STYLE_KEYS.length;k++){var key=LABEL_OPTION_TO_STYLE_KEYS[k];label.setStyle(key,null!=layoutOption[key]?layoutOption[key]:defaultLabelAttr.style[key])}if(layoutOption.draggable){if(label.draggable=!0,label.cursor="move",hostEl){var hostModel=labelItem.seriesModel;if(null!=labelItem.dataIndex)hostModel=labelItem.seriesModel.getData(labelItem.dataType).getItemModel(labelItem.dataIndex);label.on("drag",createDragHandler(hostEl,hostModel.getModel("labelLine")))}}else label.off("drag"),label.cursor=defaultLabelAttr.cursor}},LabelManager.prototype.layout=function(api){var width=api.getWidth(),height=api.getHeight(),labelList=prepareLayoutList(this._labelList),labelsNeedsAdjustOnX=Object(util.filter)(labelList,(function(item){return"shiftX"===item.layoutOption.moveOverlap})),labelsNeedsAdjustOnY=Object(util.filter)(labelList,(function(item){return"shiftY"===item.layoutOption.moveOverlap}));!function shiftLayoutOnX(list,leftBound,rightBound,balanceShift){return shiftLayout(list,"x","width",leftBound,rightBound,balanceShift)}(labelsNeedsAdjustOnX,0,width),shiftLayoutOnY(labelsNeedsAdjustOnY,0,height),hideOverlap(Object(util.filter)(labelList,(function(item){return item.layoutOption.hideOverlap})))},LabelManager.prototype.processLabelsOverall=function(){var _this=this;Object(util.each)(this._chartViewList,(function(chartView){var seriesModel=chartView.__model,ignoreLabelLineUpdate=chartView.ignoreLabelLineUpdate,animationEnabled=seriesModel.isAnimationEnabled();chartView.group.traverse((function(child){if(child.ignore&&!child.forceLabelAnimation)return!0;var needsUpdateLabelLine=!ignoreLabelLineUpdate,label=child.getTextContent();!needsUpdateLabelLine&&label&&(needsUpdateLabelLine=labelLayoutInnerStore(label).needsUpdateLabelLine),needsUpdateLabelLine&&_this._updateLabelLine(child,seriesModel),animationEnabled&&_this._animateLabels(child,seriesModel)}))}))},LabelManager.prototype._updateLabelLine=function(el,seriesModel){var textEl=el.getTextContent(),ecData=getECData(el),dataIndex=ecData.dataIndex;if(textEl&&null!=dataIndex){var data=seriesModel.getData(ecData.dataType),itemModel=data.getItemModel(dataIndex),defaultStyle={},visualStyle=data.getItemVisual(dataIndex,"style"),visualType=data.getVisual("drawType");defaultStyle.stroke=visualStyle[visualType];var labelLineModel=itemModel.getModel("labelLine");setLabelLineStyle(el,getLabelLineStatesModels(itemModel),defaultStyle),updateLabelLinePoints(el,labelLineModel)}},LabelManager.prototype._animateLabels=function(el,seriesModel){var textEl=el.getTextContent(),guideLine=el.getTextGuideLine();if(textEl&&(el.forceLabelAnimation||!textEl.ignore&&!textEl.invisible&&!el.disableLabelAnimation&&!isElementRemoved(el))){var oldLayout=(layoutStore=labelLayoutInnerStore(textEl)).oldLayout,ecData=getECData(el),dataIndex=ecData.dataIndex,newProps={x:textEl.x,y:textEl.y,rotation:textEl.rotation},data=seriesModel.getData(ecData.dataType);if(oldLayout){textEl.attr(oldLayout);var prevStates=el.prevStates;prevStates&&(Object(util.indexOf)(prevStates,"select")>=0&&textEl.attr(layoutStore.oldLayoutSelect),Object(util.indexOf)(prevStates,"emphasis")>=0&&textEl.attr(layoutStore.oldLayoutEmphasis)),updateProps(textEl,newProps,seriesModel,dataIndex)}else if(textEl.attr(newProps),!labelInner(textEl).valueAnimation){var oldOpacity=Object(util.retrieve2)(textEl.style.opacity,1);textEl.style.opacity=0,initProps(textEl,{style:{opacity:oldOpacity}},seriesModel,dataIndex)}if(layoutStore.oldLayout=newProps,textEl.states.select){var layoutSelect=layoutStore.oldLayoutSelect={};extendWithKeys(layoutSelect,newProps,LABEL_LAYOUT_PROPS),extendWithKeys(layoutSelect,textEl.states.select,LABEL_LAYOUT_PROPS)}if(textEl.states.emphasis){var layoutEmphasis=layoutStore.oldLayoutEmphasis={};extendWithKeys(layoutEmphasis,newProps,LABEL_LAYOUT_PROPS),extendWithKeys(layoutEmphasis,textEl.states.emphasis,LABEL_LAYOUT_PROPS)}animateLabelValue(textEl,dataIndex,data,seriesModel,seriesModel)}if(guideLine&&!guideLine.ignore&&!guideLine.invisible){oldLayout=(layoutStore=labelLineAnimationStore(guideLine)).oldLayout;var layoutStore,newLayout={points:guideLine.shape.points};oldLayout?(guideLine.attr({shape:oldLayout}),updateProps(guideLine,{shape:newLayout},seriesModel)):(guideLine.setShape(newLayout),guideLine.style.strokePercent=0,initProps(guideLine,{style:{strokePercent:1}},seriesModel)),layoutStore.oldLayout=newLayout}},LabelManager}(),getLabelManager=makeInner();function installLabelLayout(registers){registers.registerUpdateLifecycle("series:beforeupdate",(function(ecModel,api,params){var labelManager=getLabelManager(api).labelManager;labelManager||(labelManager=getLabelManager(api).labelManager=new label_LabelManager),labelManager.clearLabels()})),registers.registerUpdateLifecycle("series:layoutlabels",(function(ecModel,api,params){var labelManager=getLabelManager(api).labelManager;params.updatedSeries.forEach((function(series){labelManager.addLabelsOfSeries(api.getViewOfSeriesModel(series))})),labelManager.updateLayoutConfig(api),labelManager.layout(api),labelManager.processLabelsOverall()}))}function createDom(id,painter,dpr){var newDom=platform.d.createCanvas(),width=painter.getWidth(),height=painter.getHeight(),newDomStyle=newDom.style;return newDomStyle&&(newDomStyle.position="absolute",newDomStyle.left="0",newDomStyle.top="0",newDomStyle.width=width+"px",newDomStyle.height=height+"px",newDom.setAttribute("data-zr-dom-id",id)),newDom.width=width*dpr,newDom.height=height*dpr,newDom}use(installLabelLayout);var canvas_Layer=function(_super){function Layer(id,painter,dpr){var dom,_this=_super.call(this)||this;_this.motionBlur=!1,_this.lastFrameAlpha=.7,_this.dpr=1,_this.virtual=!1,_this.config={},_this.incremental=!1,_this.zlevel=0,_this.maxRepaintRectCount=5,_this.__dirty=!0,_this.__firstTimePaint=!0,_this.__used=!1,_this.__drawIndex=0,_this.__startIndex=0,_this.__endIndex=0,_this.__prevStartIndex=null,_this.__prevEndIndex=null,dpr=dpr||devicePixelRatio,"string"==typeof id?dom=createDom(id,painter,dpr):util.isObject(id)&&(id=(dom=id).id),_this.id=id,_this.dom=dom;var domStyle=dom.style;return domStyle&&(util.disableUserSelect(dom),dom.onselectstart=function(){return!1},domStyle.padding="0",domStyle.margin="0",domStyle.borderWidth="0"),_this.painter=painter,_this.dpr=dpr,_this}return tslib_es6_extends(Layer,_super),Layer.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},Layer.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},Layer.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},Layer.prototype.setUnpainted=function(){this.__firstTimePaint=!0},Layer.prototype.createBackBuffer=function(){var dpr=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,dpr),this.ctxBack=this.domBack.getContext("2d"),1!==dpr&&this.ctxBack.scale(dpr,dpr)},Layer.prototype.createRepaintRects=function(displayList,prevList,viewWidth,viewHeight){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var hasIntersections,mergedRepaintRects=[],maxRepaintRectCount=this.maxRepaintRectCount,full=!1,pendingRect=new core_BoundingRect(0,0,0,0);function addRectToMergePool(rect){if(rect.isFinite()&&!rect.isZero())if(0===mergedRepaintRects.length){(boundingRect=new core_BoundingRect(0,0,0,0)).copy(rect),mergedRepaintRects.push(boundingRect)}else{for(var boundingRect,isMerged=!1,minDeltaArea=1/0,bestRectToMergeIdx=0,i=0;i<mergedRepaintRects.length;++i){var mergedRect=mergedRepaintRects[i];if(mergedRect.intersect(rect)){var pendingRect_1=new core_BoundingRect(0,0,0,0);pendingRect_1.copy(mergedRect),pendingRect_1.union(rect),mergedRepaintRects[i]=pendingRect_1,isMerged=!0;break}if(full){pendingRect.copy(rect),pendingRect.union(mergedRect);var aArea=rect.width*rect.height,bArea=mergedRect.width*mergedRect.height,deltaArea=pendingRect.width*pendingRect.height-aArea-bArea;deltaArea<minDeltaArea&&(minDeltaArea=deltaArea,bestRectToMergeIdx=i)}}if(full&&(mergedRepaintRects[bestRectToMergeIdx].union(rect),isMerged=!0),!isMerged)(boundingRect=new core_BoundingRect(0,0,0,0)).copy(rect),mergedRepaintRects.push(boundingRect);full||(full=mergedRepaintRects.length>=maxRepaintRectCount)}}for(var i=this.__startIndex;i<this.__endIndex;++i){if(el=displayList[i]){var shouldPaint=el.shouldBePainted(viewWidth,viewHeight,!0,!0);(prevRect=el.__isRendered&&(1&el.__dirty||!shouldPaint)?el.getPrevPaintRect():null)&&addRectToMergePool(prevRect);var curRect=shouldPaint&&(1&el.__dirty||!el.__isRendered)?el.getPaintRect():null;curRect&&addRectToMergePool(curRect)}}for(i=this.__prevStartIndex;i<this.__prevEndIndex;++i){var el,prevRect;shouldPaint=(el=prevList[i]).shouldBePainted(viewWidth,viewHeight,!0,!0);if(el&&(!shouldPaint||!el.__zr)&&el.__isRendered)(prevRect=el.getPrevPaintRect())&&addRectToMergePool(prevRect)}do{hasIntersections=!1;for(i=0;i<mergedRepaintRects.length;)if(mergedRepaintRects[i].isZero())mergedRepaintRects.splice(i,1);else{for(var j=i+1;j<mergedRepaintRects.length;)mergedRepaintRects[i].intersect(mergedRepaintRects[j])?(hasIntersections=!0,mergedRepaintRects[i].union(mergedRepaintRects[j]),mergedRepaintRects.splice(j,1)):j++;i++}}while(hasIntersections);return this._paintRects=mergedRepaintRects,mergedRepaintRects},Layer.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},Layer.prototype.resize=function(width,height){var dpr=this.dpr,dom=this.dom,domStyle=dom.style,domBack=this.domBack;domStyle&&(domStyle.width=width+"px",domStyle.height=height+"px"),dom.width=width*dpr,dom.height=height*dpr,domBack&&(domBack.width=width*dpr,domBack.height=height*dpr,1!==dpr&&this.ctxBack.scale(dpr,dpr))},Layer.prototype.clear=function(clearAll,clearColor,repaintRects){var dom=this.dom,ctx=this.ctx,width=dom.width,height=dom.height;clearColor=clearColor||this.clearColor;var haveMotionBLur=this.motionBlur&&!clearAll,lastFrameAlpha=this.lastFrameAlpha,dpr=this.dpr,self=this;haveMotionBLur&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(dom,0,0,width/dpr,height/dpr));var domBack=this.domBack;function doClear(x,y,width,height){if(ctx.clearRect(x,y,width,height),clearColor&&"transparent"!==clearColor){var clearColorGradientOrPattern=void 0;util.isGradientObject(clearColor)?(clearColorGradientOrPattern=clearColor.__canvasGradient||getCanvasGradient(ctx,clearColor,{x:0,y:0,width:width,height:height}),clearColor.__canvasGradient=clearColorGradientOrPattern):util.isImagePatternObject(clearColor)&&(clearColorGradientOrPattern=createCanvasPattern(ctx,clearColor,{dirty:function(){self.setUnpainted(),self.__painter.refresh()}})),ctx.save(),ctx.fillStyle=clearColorGradientOrPattern||clearColor,ctx.fillRect(x,y,width,height),ctx.restore()}haveMotionBLur&&(ctx.save(),ctx.globalAlpha=lastFrameAlpha,ctx.drawImage(domBack,x,y,width,height),ctx.restore())}!repaintRects||haveMotionBLur?doClear(0,0,width,height):repaintRects.length&&util.each(repaintRects,(function(rect){doClear(rect.x*dpr,rect.y*dpr,rect.width*dpr,rect.height*dpr)}))},Layer}(core_Eventful);var Painter=function(){function CanvasPainter(root,storage,opts,id){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var singleCanvas=!root.nodeName||"CANVAS"===root.nodeName.toUpperCase();this._opts=opts=util.extend({},opts||{}),this.dpr=opts.devicePixelRatio||devicePixelRatio,this._singleCanvas=singleCanvas,this.root=root,root.style&&(util.disableUserSelect(root),root.innerHTML=""),this.storage=storage;var zlevelList=this._zlevelList;this._prevDisplayList=[];var layers=this._layers;if(singleCanvas){var rootCanvas=root,width=rootCanvas.width,height=rootCanvas.height;null!=opts.width&&(width=opts.width),null!=opts.height&&(height=opts.height),this.dpr=opts.devicePixelRatio||1,rootCanvas.width=width*this.dpr,rootCanvas.height=height*this.dpr,this._width=width,this._height=height;var mainLayer=new canvas_Layer(rootCanvas,this,this.dpr);mainLayer.__builtin__=!0,mainLayer.initContext(),layers[314159]=mainLayer,mainLayer.zlevel=314159,zlevelList.push(314159),this._domRoot=root}else{this._width=getSize(root,0,opts),this._height=getSize(root,1,opts);var domRoot=this._domRoot=function createRoot(width,height){var domRoot=document.createElement("div");return domRoot.style.cssText=["position:relative","width:"+width+"px","height:"+height+"px","padding:0","margin:0","border-width:0"].join(";")+";",domRoot}(this._width,this._height);root.appendChild(domRoot)}}return CanvasPainter.prototype.getType=function(){return"canvas"},CanvasPainter.prototype.isSingleCanvas=function(){return this._singleCanvas},CanvasPainter.prototype.getViewportRoot=function(){return this._domRoot},CanvasPainter.prototype.getViewportRootOffset=function(){var viewportRoot=this.getViewportRoot();if(viewportRoot)return{offsetLeft:viewportRoot.offsetLeft||0,offsetTop:viewportRoot.offsetTop||0}},CanvasPainter.prototype.refresh=function(paintAll){var list=this.storage.getDisplayList(!0),prevList=this._prevDisplayList,zlevelList=this._zlevelList;this._redrawId=Math.random(),this._paintList(list,prevList,paintAll,this._redrawId);for(var i=0;i<zlevelList.length;i++){var z=zlevelList[i],layer=this._layers[z];if(!layer.__builtin__&&layer.refresh){var clearColor=0===i?this._backgroundColor:null;layer.refresh(clearColor)}}return this._opts.useDirtyRect&&(this._prevDisplayList=list.slice()),this},CanvasPainter.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},CanvasPainter.prototype._paintHoverList=function(list){var len=list.length,hoverLayer=this._hoverlayer;if(hoverLayer&&hoverLayer.clear(),len){for(var ctx,scope={inHover:!0,viewWidth:this._width,viewHeight:this._height},i=0;i<len;i++){var el=list[i];el.__inHover&&(hoverLayer||(hoverLayer=this._hoverlayer=this.getLayer(1e5)),ctx||(ctx=hoverLayer.ctx).save(),brush(ctx,el,scope,i===len-1))}ctx&&ctx.restore()}},CanvasPainter.prototype.getHoverLayer=function(){return this.getLayer(1e5)},CanvasPainter.prototype.paintOne=function(ctx,el){brushSingle(ctx,el)},CanvasPainter.prototype._paintList=function(list,prevList,paintAll,redrawId){if(this._redrawId===redrawId){paintAll=paintAll||!1,this._updateLayerStatus(list);var _a=this._doPaintList(list,prevList,paintAll),finished=_a.finished,needsRefreshHover=_a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),needsRefreshHover&&this._paintHoverList(list),finished)this.eachLayer((function(layer){layer.afterBrush&&layer.afterBrush()}));else{var self_1=this;animation_requestAnimationFrame((function(){self_1._paintList(list,prevList,paintAll,redrawId)}))}}},CanvasPainter.prototype._compositeManually=function(){var ctx=this.getLayer(314159).ctx,width=this._domRoot.width,height=this._domRoot.height;ctx.clearRect(0,0,width,height),this.eachBuiltinLayer((function(layer){layer.virtual&&ctx.drawImage(layer.dom,0,0,width,height)}))},CanvasPainter.prototype._doPaintList=function(list,prevList,paintAll){for(var _this=this,layerList=[],useDirtyRect=this._opts.useDirtyRect,zi=0;zi<this._zlevelList.length;zi++){var zlevel=this._zlevelList[zi],layer=this._layers[zlevel];layer.__builtin__&&layer!==this._hoverlayer&&(layer.__dirty||paintAll)&&layerList.push(layer)}for(var finished=!0,needsRefreshHover=!1,_loop_1=function(k){var i,layer=layerList[k],ctx=layer.ctx,repaintRects=useDirtyRect&&layer.createRepaintRects(list,prevList,this_1._width,this_1._height),start=paintAll?layer.__startIndex:layer.__drawIndex,useTimer=!paintAll&&layer.incremental&&Date.now,startTime=useTimer&&Date.now(),clearColor=layer.zlevel===this_1._zlevelList[0]?this_1._backgroundColor:null;if(layer.__startIndex===layer.__endIndex)layer.clear(!1,clearColor,repaintRects);else if(start===layer.__startIndex){var firstEl=list[start];firstEl.incremental&&firstEl.notClear&&!paintAll||layer.clear(!1,clearColor,repaintRects)}-1===start&&(console.error("For some unknown reason. drawIndex is -1"),start=layer.__startIndex);var repaint=function(repaintRect){var scope={inHover:!1,allClipped:!1,prevEl:null,viewWidth:_this._width,viewHeight:_this._height};for(i=start;i<layer.__endIndex;i++){var el=list[i];if(el.__inHover&&(needsRefreshHover=!0),_this._doPaintEl(el,layer,useDirtyRect,repaintRect,scope,i===layer.__endIndex-1),useTimer)if(Date.now()-startTime>15)break}scope.prevElClipPaths&&ctx.restore()};if(repaintRects)if(0===repaintRects.length)i=layer.__endIndex;else for(var dpr=this_1.dpr,r=0;r<repaintRects.length;++r){var rect=repaintRects[r];ctx.save(),ctx.beginPath(),ctx.rect(rect.x*dpr,rect.y*dpr,rect.width*dpr,rect.height*dpr),ctx.clip(),repaint(rect),ctx.restore()}else ctx.save(),repaint(),ctx.restore();layer.__drawIndex=i,layer.__drawIndex<layer.__endIndex&&(finished=!1)},this_1=this,k=0;k<layerList.length;k++)_loop_1(k);return env.a.wxa&&util.each(this._layers,(function(layer){layer&&layer.ctx&&layer.ctx.draw&&layer.ctx.draw()})),{finished:finished,needsRefreshHover:needsRefreshHover}},CanvasPainter.prototype._doPaintEl=function(el,currentLayer,useDirtyRect,repaintRect,scope,isLast){var ctx=currentLayer.ctx;if(useDirtyRect){var paintRect=el.getPaintRect();(!repaintRect||paintRect&&paintRect.intersect(repaintRect))&&(brush(ctx,el,scope,isLast),el.setPrevPaintRect(paintRect))}else brush(ctx,el,scope,isLast)},CanvasPainter.prototype.getLayer=function(zlevel,virtual){this._singleCanvas&&!this._needsManuallyCompositing&&(zlevel=314159);var layer=this._layers[zlevel];return layer||((layer=new canvas_Layer("zr_"+zlevel,this,this.dpr)).zlevel=zlevel,layer.__builtin__=!0,this._layerConfig[zlevel]?util.merge(layer,this._layerConfig[zlevel],!0):this._layerConfig[zlevel-.01]&&util.merge(layer,this._layerConfig[zlevel-.01],!0),virtual&&(layer.virtual=virtual),this.insertLayer(zlevel,layer),layer.initContext()),layer},CanvasPainter.prototype.insertLayer=function(zlevel,layer){var layersMap=this._layers,zlevelList=this._zlevelList,len=zlevelList.length,domRoot=this._domRoot,prevLayer=null,i=-1;if(!layersMap[zlevel]&&function isLayerValid(layer){return!!layer&&(!!layer.__builtin__||"function"==typeof layer.resize&&"function"==typeof layer.refresh)}(layer)){if(len>0&&zlevel>zlevelList[0]){for(i=0;i<len-1&&!(zlevelList[i]<zlevel&&zlevelList[i+1]>zlevel);i++);prevLayer=layersMap[zlevelList[i]]}if(zlevelList.splice(i+1,0,zlevel),layersMap[zlevel]=layer,!layer.virtual)if(prevLayer){var prevDom=prevLayer.dom;prevDom.nextSibling?domRoot.insertBefore(layer.dom,prevDom.nextSibling):domRoot.appendChild(layer.dom)}else domRoot.firstChild?domRoot.insertBefore(layer.dom,domRoot.firstChild):domRoot.appendChild(layer.dom);layer.__painter=this}},CanvasPainter.prototype.eachLayer=function(cb,context){for(var zlevelList=this._zlevelList,i=0;i<zlevelList.length;i++){var z=zlevelList[i];cb.call(context,this._layers[z],z)}},CanvasPainter.prototype.eachBuiltinLayer=function(cb,context){for(var zlevelList=this._zlevelList,i=0;i<zlevelList.length;i++){var z=zlevelList[i],layer=this._layers[z];layer.__builtin__&&cb.call(context,layer,z)}},CanvasPainter.prototype.eachOtherLayer=function(cb,context){for(var zlevelList=this._zlevelList,i=0;i<zlevelList.length;i++){var z=zlevelList[i],layer=this._layers[z];layer.__builtin__||cb.call(context,layer,z)}},CanvasPainter.prototype.getLayers=function(){return this._layers},CanvasPainter.prototype._updateLayerStatus=function(list){function updatePrevLayer(idx){prevLayer&&(prevLayer.__endIndex!==idx&&(prevLayer.__dirty=!0),prevLayer.__endIndex=idx)}if(this.eachBuiltinLayer((function(layer,z){layer.__dirty=layer.__used=!1})),this._singleCanvas)for(var i_1=1;i_1<list.length;i_1++){if((el=list[i_1]).zlevel!==list[i_1-1].zlevel||el.incremental){this._needsManuallyCompositing=!0;break}}var prevZlevel,i,prevLayer=null,incrementalLayerCount=0;for(i=0;i<list.length;i++){var el,zlevel=(el=list[i]).zlevel,layer=void 0;prevZlevel!==zlevel&&(prevZlevel=zlevel,incrementalLayerCount=0),el.incremental?((layer=this.getLayer(zlevel+.001,this._needsManuallyCompositing)).incremental=!0,incrementalLayerCount=1):layer=this.getLayer(zlevel+(incrementalLayerCount>0?.01:0),this._needsManuallyCompositing),layer.__builtin__||util.logError("ZLevel "+zlevel+" has been used by unkown layer "+layer.id),layer!==prevLayer&&(layer.__used=!0,layer.__startIndex!==i&&(layer.__dirty=!0),layer.__startIndex=i,layer.incremental?layer.__drawIndex=-1:layer.__drawIndex=i,updatePrevLayer(i),prevLayer=layer),1&el.__dirty&&!el.__inHover&&(layer.__dirty=!0,layer.incremental&&layer.__drawIndex<0&&(layer.__drawIndex=i))}updatePrevLayer(i),this.eachBuiltinLayer((function(layer,z){!layer.__used&&layer.getElementCount()>0&&(layer.__dirty=!0,layer.__startIndex=layer.__endIndex=layer.__drawIndex=0),layer.__dirty&&layer.__drawIndex<0&&(layer.__drawIndex=layer.__startIndex)}))},CanvasPainter.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},CanvasPainter.prototype._clearLayer=function(layer){layer.clear()},CanvasPainter.prototype.setBackgroundColor=function(backgroundColor){this._backgroundColor=backgroundColor,util.each(this._layers,(function(layer){layer.setUnpainted()}))},CanvasPainter.prototype.configLayer=function(zlevel,config){if(config){var layerConfig=this._layerConfig;layerConfig[zlevel]?util.merge(layerConfig[zlevel],config,!0):layerConfig[zlevel]=config;for(var i=0;i<this._zlevelList.length;i++){var _zlevel=this._zlevelList[i];if(_zlevel===zlevel||_zlevel===zlevel+.01){var layer=this._layers[_zlevel];util.merge(layer,layerConfig[zlevel],!0)}}}},CanvasPainter.prototype.delLayer=function(zlevel){var layers=this._layers,zlevelList=this._zlevelList,layer=layers[zlevel];layer&&(layer.dom.parentNode.removeChild(layer.dom),delete layers[zlevel],zlevelList.splice(util.indexOf(zlevelList,zlevel),1))},CanvasPainter.prototype.resize=function(width,height){if(this._domRoot.style){var domRoot=this._domRoot;domRoot.style.display="none";var opts=this._opts,root=this.root;if(null!=width&&(opts.width=width),null!=height&&(opts.height=height),width=getSize(root,0,opts),height=getSize(root,1,opts),domRoot.style.display="",this._width!==width||height!==this._height){for(var id in domRoot.style.width=width+"px",domRoot.style.height=height+"px",this._layers)this._layers.hasOwnProperty(id)&&this._layers[id].resize(width,height);this.refresh(!0)}this._width=width,this._height=height}else{if(null==width||null==height)return;this._width=width,this._height=height,this.getLayer(314159).resize(width,height)}return this},CanvasPainter.prototype.clearLayer=function(zlevel){var layer=this._layers[zlevel];layer&&layer.clear()},CanvasPainter.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},CanvasPainter.prototype.getRenderedCanvas=function(opts){if(opts=opts||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var imageLayer=new canvas_Layer("image",this,opts.pixelRatio||this.dpr);imageLayer.initContext(),imageLayer.clear(!1,opts.backgroundColor||this._backgroundColor);var ctx=imageLayer.ctx;if(opts.pixelRatio<=this.dpr){this.refresh();var width_1=imageLayer.dom.width,height_1=imageLayer.dom.height;this.eachLayer((function(layer){layer.__builtin__?ctx.drawImage(layer.dom,0,0,width_1,height_1):layer.renderToCanvas&&(ctx.save(),layer.renderToCanvas(ctx),ctx.restore())}))}else for(var scope={inHover:!1,viewWidth:this._width,viewHeight:this._height},displayList=this.storage.getDisplayList(!0),i=0,len=displayList.length;i<len;i++){var el=displayList[i];brush(ctx,el,scope,i===len-1)}return imageLayer.dom},CanvasPainter.prototype.getWidth=function(){return this._width},CanvasPainter.prototype.getHeight=function(){return this._height},CanvasPainter}();var SVGPathRebuilder_mathSin=Math.sin,SVGPathRebuilder_mathCos=Math.cos,SVGPathRebuilder_PI=Math.PI,SVGPathRebuilder_PI2=2*Math.PI,degree=180/SVGPathRebuilder_PI,SVGPathRebuilder_SVGPathRebuilder=function(){function SVGPathRebuilder(){}return SVGPathRebuilder.prototype.reset=function(precision){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,precision||4)},SVGPathRebuilder.prototype.moveTo=function(x,y){this._add("M",x,y)},SVGPathRebuilder.prototype.lineTo=function(x,y){this._add("L",x,y)},SVGPathRebuilder.prototype.bezierCurveTo=function(x,y,x2,y2,x3,y3){this._add("C",x,y,x2,y2,x3,y3)},SVGPathRebuilder.prototype.quadraticCurveTo=function(x,y,x2,y2){this._add("Q",x,y,x2,y2)},SVGPathRebuilder.prototype.arc=function(cx,cy,r,startAngle,endAngle,anticlockwise){this.ellipse(cx,cy,r,r,0,startAngle,endAngle,anticlockwise)},SVGPathRebuilder.prototype.ellipse=function(cx,cy,rx,ry,psi,startAngle,endAngle,anticlockwise){var dTheta=endAngle-startAngle,clockwise=!anticlockwise,dThetaPositive=Math.abs(dTheta),isCircle=Object(helper.j)(dThetaPositive-SVGPathRebuilder_PI2)||(clockwise?dTheta>=SVGPathRebuilder_PI2:-dTheta>=SVGPathRebuilder_PI2),unifiedTheta=dTheta>0?dTheta%SVGPathRebuilder_PI2:dTheta%SVGPathRebuilder_PI2+SVGPathRebuilder_PI2,large=!1;large=!!isCircle||!Object(helper.j)(dThetaPositive)&&unifiedTheta>=SVGPathRebuilder_PI==!!clockwise;var x0=cx+rx*SVGPathRebuilder_mathCos(startAngle),y0=cy+ry*SVGPathRebuilder_mathSin(startAngle);this._start&&this._add("M",x0,y0);var xRot=Math.round(psi*degree);if(isCircle){var p=1/this._p,dTheta_1=(clockwise?1:-1)*(SVGPathRebuilder_PI2-p);this._add("A",rx,ry,xRot,1,+clockwise,cx+rx*SVGPathRebuilder_mathCos(startAngle+dTheta_1),cy+ry*SVGPathRebuilder_mathSin(startAngle+dTheta_1)),p>.01&&this._add("A",rx,ry,xRot,0,+clockwise,x0,y0)}else{var x=cx+rx*SVGPathRebuilder_mathCos(endAngle),y=cy+ry*SVGPathRebuilder_mathSin(endAngle);this._add("A",rx,ry,xRot,+large,+clockwise,x,y)}},SVGPathRebuilder.prototype.rect=function(x,y,w,h){this._add("M",x,y),this._add("l",w,0),this._add("l",0,h),this._add("l",-w,0),this._add("Z")},SVGPathRebuilder.prototype.closePath=function(){this._d.length>0&&this._add("Z")},SVGPathRebuilder.prototype._add=function(cmd,a,b,c,d,e,f,g,h){for(var vals=[],p=this._p,i=1;i<arguments.length;i++){var val=arguments[i];if(isNaN(val))return void(this._invalid=!0);vals.push(Math.round(val*p)/p)}this._d.push(cmd+vals.join(" ")),this._start="Z"===cmd},SVGPathRebuilder.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},SVGPathRebuilder.prototype.getStr=function(){return this._str},SVGPathRebuilder}(),svg_SVGPathRebuilder=SVGPathRebuilder_SVGPathRebuilder,mathRound=Math.round;var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=Object(util.map)(strokeProps,(function(prop){return"stroke-"+prop.toLowerCase()}));var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink";function createElement(name){return document.createElementNS(SVGNS,name)}function createVNode(tag,key,attrs,children,text){return{tag:tag,attrs:attrs||{},children:children,text:text,key:key}}function vNodeToString(el,opts){var S=(opts=opts||{}).newline?"\n":"";return function convertElToString(el){var children=el.children,tag=el.tag;return function createElementOpen(name,attrs){var attrsStr=[];if(attrs)for(var key in attrs){var val=attrs[key],part=key;!1!==val&&(!0!==val&&null!=val&&(part+='="'+val+'"'),attrsStr.push(part))}return"<"+name+" "+attrsStr.join(" ")+">"}(tag,el.attrs)+(el.text||"")+(children?""+S+Object(util.map)(children,(function(child){return convertElToString(child)})).join(S)+S:"")+function createElementClose(name){return"</"+name+">"}(tag)}(el)}function createBrushScope(zrId){return{zrId:zrId,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(width,height,children,useViewBox){return createVNode("svg","root",{width:width,height:height,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:!!useViewBox&&"0 0 "+width+" "+height},children)}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"};function buildPathString(el,kfShape,path){var shape=Object(util.extend)({},el.shape);Object(util.extend)(shape,kfShape),el.buildPath(path,shape);var svgPathBuilder=new svg_SVGPathRebuilder;return svgPathBuilder.reset(Object(helper.f)(el)),path.rebuildPath(svgPathBuilder,1),svgPathBuilder.generateStr(),svgPathBuilder.getStr()}function setTransformOrigin(target,transform){var originX=transform.originX,originY=transform.originY;(originX||originY)&&(target["transform-origin"]=originX+"px "+originY+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(cssAnim,scope){var animationName=scope.zrId+"-ani-"+scope.cssAnimIdx++;return scope.cssAnims[animationName]=cssAnim,animationName}function getEasingFunc(easing){return Object(util.isString)(easing)?EASING_MAP[easing]?"cubic-bezier("+EASING_MAP[easing]+")":createCubicEasingFunc(easing)?easing:"":""}function createCSSAnimation(el,attrs,scope,onlyShape){var animators=el.animators,len=animators.length,cssAnimations=[];if(el instanceof graphic_CompoundPath){var animationCfg=function createCompoundPathCSSAnimation(el,attrs,scope){var cssAnimationCfg,cssAnimationName,paths=el.shape.paths,composedAnim={};if(Object(util.each)(paths,(function(path){var subScope=createBrushScope(scope.zrId);subScope.animation=!0,createCSSAnimation(path,{},subScope,!0);var cssAnims=subScope.cssAnims,cssNodes=subScope.cssNodes,animNames=Object(util.keys)(cssAnims),len=animNames.length;if(len){var lastAnim=cssAnims[cssAnimationName=animNames[len-1]];for(var percent in lastAnim){var kf=lastAnim[percent];composedAnim[percent]=composedAnim[percent]||{d:""},composedAnim[percent].d+=kf.d||""}for(var className in cssNodes){var val=cssNodes[className].animation;val.indexOf(cssAnimationName)>=0&&(cssAnimationCfg=val)}}})),cssAnimationCfg){attrs.d=!1;var animationName=addAnimation(composedAnim,scope);return cssAnimationCfg.replace(cssAnimationName,animationName)}}(el,attrs,scope);if(animationCfg)cssAnimations.push(animationCfg);else if(!len)return}else if(!len)return;for(var groupAnimators={},i=0;i<len;i++){var animator=animators[i],cfgArr=[animator.getMaxTime()/1e3+"s"],easing=getEasingFunc(animator.getClip().easing),delay=animator.getDelay();easing?cfgArr.push(easing):cfgArr.push("linear"),delay&&cfgArr.push(delay/1e3+"s"),animator.getLoop()&&cfgArr.push("infinite");var cfg=cfgArr.join(" ");groupAnimators[cfg]=groupAnimators[cfg]||[cfg,[]],groupAnimators[cfg][1].push(animator)}function createSingleCSSAnimation(groupAnimator){var path,animators=groupAnimator[1],len=animators.length,transformKfs={},shapeKfs={},finalKfs={};function saveAnimatorTrackToCssKfs(animator,cssKfs,toCssAttrName){for(var tracks=animator.getTracks(),maxTime=animator.getMaxTime(),k=0;k<tracks.length;k++){var track=tracks[k];if(track.needsAnimate()){var kfs=track.keyframes,attrName=track.propName;if(toCssAttrName&&(attrName=toCssAttrName(attrName)),attrName)for(var i=0;i<kfs.length;i++){var kf=kfs[i],percent=Math.round(kf.time/maxTime*100)+"%",kfEasing=getEasingFunc(kf.easing),rawValue=kf.rawValue;(Object(util.isString)(rawValue)||Object(util.isNumber)(rawValue))&&(cssKfs[percent]=cssKfs[percent]||{},cssKfs[percent][attrName]=kf.rawValue,kfEasing&&(cssKfs[percent]["animation-timing-function"]=kfEasing))}}}}for(var i=0;i<len;i++){(targetProp=(animator=animators[i]).targetName)?"shape"===targetProp&&saveAnimatorTrackToCssKfs(animator,shapeKfs):!onlyShape&&saveAnimatorTrackToCssKfs(animator,transformKfs)}for(var percent in transformKfs){var transform={};copyTransform(transform,el),Object(util.extend)(transform,transformKfs[percent]);var str=Object(helper.g)(transform),timingFunction=transformKfs[percent]["animation-timing-function"];finalKfs[percent]=str?{transform:str}:{},setTransformOrigin(finalKfs[percent],transform),timingFunction&&(finalKfs[percent]["animation-timing-function"]=timingFunction)}var canAnimateShape=!0;for(var percent in shapeKfs){finalKfs[percent]=finalKfs[percent]||{};var isFirst=!path;timingFunction=shapeKfs[percent]["animation-timing-function"];isFirst&&(path=new core_PathProxy);var len_1=path.len();path.reset(),finalKfs[percent].d=buildPathString(el,shapeKfs[percent],path);var newLen=path.len();if(!isFirst&&len_1!==newLen){canAnimateShape=!1;break}timingFunction&&(finalKfs[percent]["animation-timing-function"]=timingFunction)}if(!canAnimateShape)for(var percent in finalKfs)delete finalKfs[percent].d;if(!onlyShape)for(i=0;i<len;i++){var animator,targetProp;"style"===(targetProp=(animator=animators[i]).targetName)&&saveAnimatorTrackToCssKfs(animator,finalKfs,(function(propName){return ANIMATE_STYLE_MAP[propName]}))}var transformOrigin,percents=Object(util.keys)(finalKfs),allTransformOriginSame=!0;for(i=1;i<percents.length;i++){var p0=percents[i-1],p1=percents[i];if(finalKfs[p0]["transform-origin"]!==finalKfs[p1]["transform-origin"]){allTransformOriginSame=!1;break}transformOrigin=finalKfs[p0]["transform-origin"]}if(allTransformOriginSame&&transformOrigin){for(var percent in finalKfs)finalKfs[percent]["transform-origin"]&&delete finalKfs[percent]["transform-origin"];attrs["transform-origin"]=transformOrigin}if(Object(util.filter)(percents,(function(percent){return Object(util.keys)(finalKfs[percent]).length>0})).length)return addAnimation(finalKfs,scope)+" "+groupAnimator[0]+" both"}for(var key in groupAnimators){(animationCfg=createSingleCSSAnimation(groupAnimators[key]))&&cssAnimations.push(animationCfg)}if(cssAnimations.length){var className=scope.zrId+"-cls-"+scope.cssClassIdx++;scope.cssNodes["."+className]={animation:cssAnimations.join(",")},attrs.class=className}}var graphic_round=Math.round;function graphic_isImageLike(val){return val&&Object(util.isString)(val.src)}function isCanvasLike(val){return val&&Object(util.isFunction)(val.toDataURL)}function setStyleAttrs(attrs,style,el,scope){!function mapStyleToAttrs(updateAttr,style,el,forceUpdate){var opacity=null==style.opacity?1:style.opacity;if(el instanceof graphic_Image)updateAttr("opacity",opacity);else{if(function pathHasFill(style){var fill=style.fill;return null!=fill&&"none"!==fill}(style)){var fill=Object(helper.p)(style.fill);updateAttr("fill",fill.color);var fillOpacity=null!=style.fillOpacity?style.fillOpacity*fill.opacity*opacity:fill.opacity*opacity;(forceUpdate||fillOpacity<1)&&updateAttr("fill-opacity",fillOpacity)}else updateAttr("fill","none");if(function pathHasStroke(style){var stroke=style.stroke;return null!=stroke&&"none"!==stroke}(style)){var stroke=Object(helper.p)(style.stroke);updateAttr("stroke",stroke.color);var strokeScale=style.strokeNoScale?el.getLineScale():1,strokeWidth=strokeScale?(style.lineWidth||0)/strokeScale:0,strokeOpacity=null!=style.strokeOpacity?style.strokeOpacity*stroke.opacity*opacity:stroke.opacity*opacity,strokeFirst=style.strokeFirst;if((forceUpdate||1!==strokeWidth)&&updateAttr("stroke-width",strokeWidth),(forceUpdate||strokeFirst)&&updateAttr("paint-order",strokeFirst?"stroke":"fill"),(forceUpdate||strokeOpacity<1)&&updateAttr("stroke-opacity",strokeOpacity),style.lineDash){var _a=getLineDash(el),lineDash=_a[0],lineDashOffset=_a[1];lineDash&&(lineDashOffset=mathRound(lineDashOffset||0),updateAttr("stroke-dasharray",lineDash.join(",")),(lineDashOffset||forceUpdate)&&updateAttr("stroke-dashoffset",lineDashOffset))}else forceUpdate&&updateAttr("stroke-dasharray","none");for(var i=0;i<strokeProps.length;i++){var propName=strokeProps[i];if(forceUpdate||style[propName]!==DEFAULT_PATH_STYLE[propName]){var val=style[propName]||DEFAULT_PATH_STYLE[propName];val&&updateAttr(svgStrokeProps[i],val)}}}else forceUpdate&&updateAttr("stroke","none")}}((function(key,val){var isFillStroke="fill"===key||"stroke"===key;isFillStroke&&Object(helper.k)(val)?function setGradient(style,attrs,target,scope){var gradientTag,val=style[target],gradientAttrs={gradientUnits:val.global?"userSpaceOnUse":"objectBoundingBox"};if(Object(helper.m)(val))gradientTag="linearGradient",gradientAttrs.x1=val.x,gradientAttrs.y1=val.y,gradientAttrs.x2=val.x2,gradientAttrs.y2=val.y2;else{if(!Object(helper.o)(val))return void 0;gradientTag="radialGradient",gradientAttrs.cx=Object(util.retrieve2)(val.x,.5),gradientAttrs.cy=Object(util.retrieve2)(val.y,.5),gradientAttrs.r=Object(util.retrieve2)(val.r,.5)}for(var colors=val.colorStops,colorStops=[],i=0,len=colors.length;i<len;++i){var offset=100*Object(helper.q)(colors[i].offset)+"%",stopColor=colors[i].color,_a=Object(helper.p)(stopColor),color=_a.color,opacity=_a.opacity,stopsAttrs={offset:offset};stopsAttrs["stop-color"]=color,opacity<1&&(stopsAttrs["stop-opacity"]=opacity),colorStops.push(createVNode("stop",i+"",stopsAttrs))}var gradientKey=vNodeToString(createVNode(gradientTag,"",gradientAttrs,colorStops)),gradientCache=scope.gradientCache,gradientId=gradientCache[gradientKey];gradientId||(gradientId=scope.zrId+"-g"+scope.gradientIdx++,gradientCache[gradientKey]=gradientId,gradientAttrs.id=gradientId,scope.defs[gradientId]=createVNode(gradientTag,gradientId,gradientAttrs,colorStops));attrs[target]=Object(helper.d)(gradientId)}(style,attrs,key,scope):isFillStroke&&Object(helper.n)(val)?function setPattern(el,attrs,target,scope){var child,val=el.style[target],patternAttrs={patternUnits:"userSpaceOnUse"};if(Object(helper.l)(val)){var imageWidth_1=val.imageWidth,imageHeight_1=val.imageHeight,imageSrc=void 0,patternImage=val.image;if(Object(util.isString)(patternImage)?imageSrc=patternImage:graphic_isImageLike(patternImage)?imageSrc=patternImage.src:isCanvasLike(patternImage)&&(imageSrc=patternImage.toDataURL()),"undefined"==typeof Image){var errMsg="Image width/height must been given explictly in svg-ssr renderer.";Object(util.assert)(imageWidth_1,errMsg),Object(util.assert)(imageHeight_1,errMsg)}else if(null==imageWidth_1||null==imageHeight_1){var setSizeToVNode_1=function(vNode,img){if(vNode){var svgEl=vNode.elm,width=vNode.attrs.width=imageWidth_1||img.width,height=vNode.attrs.height=imageHeight_1||img.height;svgEl&&(svgEl.setAttribute("width",width),svgEl.setAttribute("height",height))}},createdImage=createOrUpdateImage(imageSrc,null,el,(function(img){setSizeToVNode_1(patternVNode,img),setSizeToVNode_1(child,img)}));createdImage&&createdImage.width&&createdImage.height&&(imageWidth_1=imageWidth_1||createdImage.width,imageHeight_1=imageHeight_1||createdImage.height)}child=createVNode("image","img",{href:imageSrc,width:imageWidth_1,height:imageHeight_1}),patternAttrs.width=imageWidth_1,patternAttrs.height=imageHeight_1}else val.svgElement&&(child=Object(util.clone)(val.svgElement),patternAttrs.width=val.svgWidth,patternAttrs.height=val.svgHeight);if(!child)return;patternAttrs.patternTransform=Object(helper.g)(val);var patternVNode=createVNode("pattern","",patternAttrs,[child]),patternKey=vNodeToString(patternVNode),patternCache=scope.patternCache,patternId=patternCache[patternKey];patternId||(patternId=scope.zrId+"-p"+scope.patternIdx++,patternCache[patternKey]=patternId,patternAttrs.id=patternId,patternVNode=scope.defs[patternId]=createVNode("pattern",patternId,patternAttrs,[child]));attrs[target]=Object(helper.d)(patternId)}(el,attrs,key,scope):attrs[key]=val}),style,el,!1),function setShadow(el,attrs,scope){var style=el.style;if(Object(helper.i)(style)){var shadowKey=Object(helper.h)(el),shadowCache=scope.shadowCache,shadowId=shadowCache[shadowKey];if(!shadowId){var globalScale=el.getGlobalScale(),scaleX=globalScale[0],scaleY=globalScale[1];if(!scaleX||!scaleY)return;var offsetX=style.shadowOffsetX||0,offsetY=style.shadowOffsetY||0,blur_1=style.shadowBlur,_a=Object(helper.p)(style.shadowColor),opacity=_a.opacity,color=_a.color,stdDeviation=blur_1/2/scaleX+" "+blur_1/2/scaleY;shadowId=scope.zrId+"-s"+scope.shadowIdx++,scope.defs[shadowId]=createVNode("filter",shadowId,{id:shadowId,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:offsetX/scaleX,dy:offsetY/scaleY,stdDeviation:stdDeviation,"flood-color":color,"flood-opacity":opacity})]),shadowCache[shadowKey]=shadowId}attrs.filter=Object(helper.d)(shadowId)}}(el,attrs,scope)}function noRotateScale(m){return Object(helper.j)(m[0]-1)&&Object(helper.j)(m[1])&&Object(helper.j)(m[2])&&Object(helper.j)(m[3]-1)}function setTransform(attrs,m,compress){if(m&&(!function noTranslate(m){return Object(helper.j)(m[4])&&Object(helper.j)(m[5])}(m)||!noRotateScale(m))){var mul=compress?10:1e4;attrs.transform=noRotateScale(m)?"translate("+graphic_round(m[4]*mul)/mul+" "+graphic_round(m[5]*mul)/mul+")":Object(helper.e)(m)}}function convertPolyShape(shape,attrs,mul){for(var points=shape.points,strArr=[],i=0;i<points.length;i++)strArr.push(graphic_round(points[i][0]*mul)/mul),strArr.push(graphic_round(points[i][1]*mul)/mul);attrs.points=strArr.join(" ")}function validatePolyShape(shape){return!shape.smooth}var buitinShapesDef={circle:[function createAttrsConvert(desc){var normalizedDesc=Object(util.map)(desc,(function(item){return"string"==typeof item?[item,item]:item}));return function(shape,attrs,mul){for(var i=0;i<normalizedDesc.length;i++){var item=normalizedDesc[i],val=shape[item[0]];null!=val&&(attrs[item[1]]=graphic_round(val*mul)/mul)}}}(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function brushSVGPath(el,scope){var style=el.style,shape=el.shape,builtinShpDef=buitinShapesDef[el.type],attrs={},needsAnimate=scope.animation,svgElType="path",strokePercent=el.style.strokePercent,precision=scope.compress&&Object(helper.f)(el)||4;if(!builtinShpDef||scope.willUpdate||builtinShpDef[1]&&!builtinShpDef[1](shape)||needsAnimate&&function hasShapeAnimation(el){for(var animators=el.animators,i=0;i<animators.length;i++)if("shape"===animators[i].targetName)return!0;return!1}(el)||strokePercent<1){el.path||el.createPathProxy();var path=el.path;el.shapeChanged()&&(path.beginPath(),el.buildPath(path,el.shape),el.pathUpdated());var pathVersion=path.getVersion(),elExt=el,svgPathBuilder=elExt.__svgPathBuilder;elExt.__svgPathVersion===pathVersion&&svgPathBuilder&&strokePercent===elExt.__svgPathStrokePercent||(svgPathBuilder||(svgPathBuilder=elExt.__svgPathBuilder=new svg_SVGPathRebuilder),svgPathBuilder.reset(precision),path.rebuildPath(svgPathBuilder,strokePercent),svgPathBuilder.generateStr(),elExt.__svgPathVersion=pathVersion,elExt.__svgPathStrokePercent=strokePercent),attrs.d=svgPathBuilder.getStr()}else{svgElType=el.type;var mul=Math.pow(10,precision);builtinShpDef[0](shape,attrs,mul)}return setTransform(attrs,el.transform),setStyleAttrs(attrs,style,el,scope),scope.animation&&createCSSAnimation(el,attrs,scope),createVNode(svgElType,el.id+"",attrs)}function graphic_brush(el,scope){return el instanceof graphic_Path?brushSVGPath(el,scope):el instanceof graphic_Image?function brushSVGImage(el,scope){var style=el.style,image=style.image;if(image&&!Object(util.isString)(image)&&(graphic_isImageLike(image)?image=image.src:isCanvasLike(image)&&(image=image.toDataURL())),image){var x=style.x||0,y=style.y||0,attrs={href:image,width:style.width,height:style.height};return x&&(attrs.x=x),y&&(attrs.y=y),setTransform(attrs,el.transform),setStyleAttrs(attrs,style,el,scope),scope.animation&&createCSSAnimation(el,attrs,scope),createVNode("image",el.id+"",attrs)}}(el,scope):el instanceof graphic_TSpan?function brushSVGTSpan(el,scope){var style=el.style,text=style.text;if(null!=text&&(text+=""),text&&!isNaN(style.x)&&!isNaN(style.y)){var font=style.font||platform.a,x=style.x||0,y=Object(helper.b)(style.y||0,getLineHeight(font),style.textBaseline),attrs={"dominant-baseline":"central","text-anchor":helper.a[style.textAlign]||style.textAlign};if(hasSeparateFont(style)){var separatedFontStr="",fontStyle=style.fontStyle,fontSize=parseFontSize(style.fontSize);if(!parseFloat(fontSize))return;var fontFamily=style.fontFamily||platform.b,fontWeight=style.fontWeight;separatedFontStr+="font-size:"+fontSize+";font-family:"+fontFamily+";",fontStyle&&"normal"!==fontStyle&&(separatedFontStr+="font-style:"+fontStyle+";"),fontWeight&&"normal"!==fontWeight&&(separatedFontStr+="font-weight:"+fontWeight+";"),attrs.style=separatedFontStr}else attrs.style="font: "+font;return text.match(/\s/)&&(attrs["xml:space"]="preserve"),x&&(attrs.x=x),y&&(attrs.y=y),setTransform(attrs,el.transform),setStyleAttrs(attrs,style,el,scope),scope.animation&&createCSSAnimation(el,attrs,scope),createVNode("text",el.id+"",attrs,void 0,text)}}(el,scope):void 0}function setClipPath(clipPath,attrs,scope){var clipPathCache=scope.clipPathCache,defs=scope.defs,clipPathId=clipPathCache[clipPath.id];if(!clipPathId){var clipPathAttrs={id:clipPathId=scope.zrId+"-c"+scope.clipPathIdx++};clipPathCache[clipPath.id]=clipPathId,defs[clipPathId]=createVNode("clipPath",clipPathId,clipPathAttrs,[brushSVGPath(clipPath,scope)])}attrs["clip-path"]=Object(helper.d)(clipPathId)}function createTextNode(text){return document.createTextNode(text)}function insertBefore(parentNode,newNode,referenceNode){parentNode.insertBefore(newNode,referenceNode)}function removeChild(node,child){node.removeChild(child)}function appendChild(node,child){node.appendChild(child)}function domapi_parentNode(node){return node.parentNode}function nextSibling(node){return node.nextSibling}function setTextContent(node,text){node.textContent=text}var emptyNode=createVNode("","");function isUndef(s){return void 0===s}function isDef(s){return void 0!==s}function createKeyToOldIdx(children,beginIdx,endIdx){for(var map={},i=beginIdx;i<=endIdx;++i){var key=children[i].key;void 0!==key&&(map[key]=i)}return map}function sameVnode(vnode1,vnode2){var isSameKey=vnode1.key===vnode2.key;return vnode1.tag===vnode2.tag&&isSameKey}function createElm(vnode){var i,children=vnode.children,tag=vnode.tag;if(isDef(tag)){var elm=vnode.elm=createElement(tag);if(updateAttrs(emptyNode,vnode),Object(util.isArray)(children))for(i=0;i<children.length;++i){var ch=children[i];null!=ch&&appendChild(elm,createElm(ch))}else isDef(vnode.text)&&!Object(util.isObject)(vnode.text)&&appendChild(elm,createTextNode(vnode.text))}else vnode.elm=createTextNode(vnode.text);return vnode.elm}function addVnodes(parentElm,before,vnodes,startIdx,endIdx){for(;startIdx<=endIdx;++startIdx){var ch=vnodes[startIdx];null!=ch&&insertBefore(parentElm,createElm(ch),before)}}function removeVnodes(parentElm,vnodes,startIdx,endIdx){for(;startIdx<=endIdx;++startIdx){var ch=vnodes[startIdx];if(null!=ch)if(isDef(ch.tag))removeChild(domapi_parentNode(ch.elm),ch.elm);else removeChild(parentElm,ch.elm)}}function updateAttrs(oldVnode,vnode){var key,elm=vnode.elm,oldAttrs=oldVnode&&oldVnode.attrs||{},attrs=vnode.attrs||{};if(oldAttrs!==attrs){for(key in attrs){var cur=attrs[key];oldAttrs[key]!==cur&&(!0===cur?elm.setAttribute(key,""):!1===cur?elm.removeAttribute(key):120!==key.charCodeAt(0)?elm.setAttribute(key,cur):"xmlns:xlink"===key||"xmlns"===key?elm.setAttributeNS("http://www.w3.org/2000/xmlns/",key,cur):58===key.charCodeAt(3)?elm.setAttributeNS("http://www.w3.org/XML/1998/namespace",key,cur):58===key.charCodeAt(5)?elm.setAttributeNS(XLINKNS,key,cur):elm.setAttribute(key,cur))}for(key in oldAttrs)key in attrs||elm.removeAttribute(key)}}function patchVnode(oldVnode,vnode){var elm=vnode.elm=oldVnode.elm,oldCh=oldVnode.children,ch=vnode.children;oldVnode!==vnode&&(updateAttrs(oldVnode,vnode),isUndef(vnode.text)?isDef(oldCh)&&isDef(ch)?oldCh!==ch&&function updateChildren(parentElm,oldCh,newCh){for(var oldKeyToIdx,idxInOld,elmToMove,oldStartIdx=0,newStartIdx=0,oldEndIdx=oldCh.length-1,oldStartVnode=oldCh[0],oldEndVnode=oldCh[oldEndIdx],newEndIdx=newCh.length-1,newStartVnode=newCh[0],newEndVnode=newCh[newEndIdx];oldStartIdx<=oldEndIdx&&newStartIdx<=newEndIdx;)null==oldStartVnode?oldStartVnode=oldCh[++oldStartIdx]:null==oldEndVnode?oldEndVnode=oldCh[--oldEndIdx]:null==newStartVnode?newStartVnode=newCh[++newStartIdx]:null==newEndVnode?newEndVnode=newCh[--newEndIdx]:sameVnode(oldStartVnode,newStartVnode)?(patchVnode(oldStartVnode,newStartVnode),oldStartVnode=oldCh[++oldStartIdx],newStartVnode=newCh[++newStartIdx]):sameVnode(oldEndVnode,newEndVnode)?(patchVnode(oldEndVnode,newEndVnode),oldEndVnode=oldCh[--oldEndIdx],newEndVnode=newCh[--newEndIdx]):sameVnode(oldStartVnode,newEndVnode)?(patchVnode(oldStartVnode,newEndVnode),insertBefore(parentElm,oldStartVnode.elm,nextSibling(oldEndVnode.elm)),oldStartVnode=oldCh[++oldStartIdx],newEndVnode=newCh[--newEndIdx]):sameVnode(oldEndVnode,newStartVnode)?(patchVnode(oldEndVnode,newStartVnode),insertBefore(parentElm,oldEndVnode.elm,oldStartVnode.elm),oldEndVnode=oldCh[--oldEndIdx],newStartVnode=newCh[++newStartIdx]):(isUndef(oldKeyToIdx)&&(oldKeyToIdx=createKeyToOldIdx(oldCh,oldStartIdx,oldEndIdx)),isUndef(idxInOld=oldKeyToIdx[newStartVnode.key])||(elmToMove=oldCh[idxInOld]).tag!==newStartVnode.tag?insertBefore(parentElm,createElm(newStartVnode),oldStartVnode.elm):(patchVnode(elmToMove,newStartVnode),oldCh[idxInOld]=void 0,insertBefore(parentElm,elmToMove.elm,oldStartVnode.elm)),newStartVnode=newCh[++newStartIdx]);(oldStartIdx<=oldEndIdx||newStartIdx<=newEndIdx)&&(oldStartIdx>oldEndIdx?addVnodes(parentElm,null==newCh[newEndIdx+1]?null:newCh[newEndIdx+1].elm,newCh,newStartIdx,newEndIdx):removeVnodes(parentElm,oldCh,oldStartIdx,oldEndIdx))}(elm,oldCh,ch):isDef(ch)?(isDef(oldVnode.text)&&setTextContent(elm,""),addVnodes(elm,null,ch,0,ch.length-1)):isDef(oldCh)?removeVnodes(elm,oldCh,0,oldCh.length-1):isDef(oldVnode.text)&&setTextContent(elm,""):oldVnode.text!==vnode.text&&(isDef(oldCh)&&removeVnodes(elm,oldCh,0,oldCh.length-1),setTextContent(elm,vnode.text)))}var svgId=0;var svg_Painter=function(){function SVGPainter(root,storage,opts){if(this.type="svg",this.refreshHover=function(){0},this.configLayer=function(){0},this.storage=storage,this._opts=opts=Object(util.extend)({},opts),this.root=root,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(opts.width,opts.height),root&&!opts.ssr){var viewport=this._viewport=document.createElement("div");viewport.style.cssText="position:relative;overflow:hidden";var svgDom=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),viewport.appendChild(svgDom),root.appendChild(viewport)}this.resize(opts.width,opts.height)}return SVGPainter.prototype.getType=function(){return this.type},SVGPainter.prototype.getViewportRoot=function(){return this._viewport},SVGPainter.prototype.getViewportRootOffset=function(){var viewportRoot=this.getViewportRoot();if(viewportRoot)return{offsetLeft:viewportRoot.offsetLeft||0,offsetTop:viewportRoot.offsetTop||0}},SVGPainter.prototype.getSvgDom=function(){return this._svgDom},SVGPainter.prototype.refresh=function(){if(this.root){var vnode=this.renderToVNode({willUpdate:!0});vnode.attrs.style="position:absolute;left:0;top:0;user-select:none",function patch(oldVnode,vnode){if(sameVnode(oldVnode,vnode))patchVnode(oldVnode,vnode);else{var elm=oldVnode.elm,parent_2=domapi_parentNode(elm);createElm(vnode),null!==parent_2&&(insertBefore(parent_2,vnode.elm,nextSibling(elm)),removeVnodes(parent_2,[oldVnode],0,0))}return vnode}(this._oldVNode,vnode),this._oldVNode=vnode}},SVGPainter.prototype.renderOneToVNode=function(el){return graphic_brush(el,createBrushScope(this._id))},SVGPainter.prototype.renderToVNode=function(opts){opts=opts||{};var list=this.storage.getDisplayList(!0),bgColor=this._backgroundColor,width=this._width,height=this._height,scope=createBrushScope(this._id);scope.animation=opts.animation,scope.willUpdate=opts.willUpdate,scope.compress=opts.compress;var children=[];if(bgColor&&"none"!==bgColor){var _a=Object(helper.p)(bgColor),color=_a.color,opacity=_a.opacity;this._bgVNode=createVNode("rect","bg",{width:width,height:height,x:"0",y:"0",id:"0",fill:color,"fill-opacity":opacity}),children.push(this._bgVNode)}else this._bgVNode=null;var mainVNode=opts.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(list,scope,mainVNode?mainVNode.children:children),mainVNode&&children.push(mainVNode);var defs=Object(util.map)(Object(util.keys)(scope.defs),(function(id){return scope.defs[id]}));if(defs.length&&children.push(createVNode("defs","defs",{},defs)),opts.animation){var animationCssStr=function getCssString(selectorNodes,animationNodes,opts){var S=(opts=opts||{}).newline?"\n":"",bracketBegin=" {"+S,bracketEnd=S+"}",selectors=Object(util.map)(Object(util.keys)(selectorNodes),(function(className){return className+bracketBegin+Object(util.map)(Object(util.keys)(selectorNodes[className]),(function(attrName){return attrName+":"+selectorNodes[className][attrName]+";"})).join(S)+bracketEnd})).join(S),animations=Object(util.map)(Object(util.keys)(animationNodes),(function(animationName){return"@keyframes "+animationName+bracketBegin+Object(util.map)(Object(util.keys)(animationNodes[animationName]),(function(percent){return percent+bracketBegin+Object(util.map)(Object(util.keys)(animationNodes[animationName][percent]),(function(attrName){var val=animationNodes[animationName][percent][attrName];return"d"===attrName&&(val='path("'+val+'")'),attrName+":"+val+";"})).join(S)+bracketEnd})).join(S)+bracketEnd})).join(S);return selectors||animations?["<![CDATA[",selectors,animations,"]]>"].join(S):""}(scope.cssNodes,scope.cssAnims,{newline:!0});if(animationCssStr){var styleNode=createVNode("style","stl",{},[],animationCssStr);children.push(styleNode)}}return createSVGVNode(width,height,children,opts.useViewBox)},SVGPainter.prototype.renderToString=function(opts){return opts=opts||{},vNodeToString(this.renderToVNode({animation:Object(util.retrieve2)(opts.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:Object(util.retrieve2)(opts.useViewBox,!0)}),{newline:!0})},SVGPainter.prototype.setBackgroundColor=function(backgroundColor){this._backgroundColor=backgroundColor;var bgVNode=this._bgVNode;if(bgVNode&&bgVNode.elm){var _a=Object(helper.p)(backgroundColor),color=_a.color,opacity=_a.opacity;bgVNode.elm.setAttribute("fill",color),opacity<1&&bgVNode.elm.setAttribute("fill-opacity",opacity)}},SVGPainter.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},SVGPainter.prototype._paintList=function(list,scope,out){for(var currentClipPathGroup,prevClipPaths,listLen=list.length,clipPathsGroupsStack=[],clipPathsGroupsStackDepth=0,clipGroupNodeIdx=0,i=0;i<listLen;i++){var displayable=list[i];if(!displayable.invisible){var clipPaths=displayable.__clipPaths,len=clipPaths&&clipPaths.length||0,prevLen=prevClipPaths&&prevClipPaths.length||0,lca=void 0;for(lca=Math.max(len-1,prevLen-1);lca>=0&&(!clipPaths||!prevClipPaths||clipPaths[lca]!==prevClipPaths[lca]);lca--);for(var i_1=prevLen-1;i_1>lca;i_1--)currentClipPathGroup=clipPathsGroupsStack[--clipPathsGroupsStackDepth-1];for(var i_2=lca+1;i_2<len;i_2++){var groupAttrs={};setClipPath(clipPaths[i_2],groupAttrs,scope);var g=createVNode("g","clip-g-"+clipGroupNodeIdx++,groupAttrs,[]);(currentClipPathGroup?currentClipPathGroup.children:out).push(g),clipPathsGroupsStack[clipPathsGroupsStackDepth++]=g,currentClipPathGroup=g}prevClipPaths=clipPaths;var ret=graphic_brush(displayable,scope);ret&&(currentClipPathGroup?currentClipPathGroup.children:out).push(ret)}}},SVGPainter.prototype.resize=function(width,height){var opts=this._opts,root=this.root,viewport=this._viewport;if(null!=width&&(opts.width=width),null!=height&&(opts.height=height),root&&viewport&&(viewport.style.display="none",width=getSize(root,0,opts),height=getSize(root,1,opts),viewport.style.display=""),this._width!==width||this._height!==height){if(this._width=width,this._height=height,viewport){var viewportStyle=viewport.style;viewportStyle.width=width+"px",viewportStyle.height=height+"px"}var svgDom=this._svgDom;svgDom&&(svgDom.setAttribute("width",width),svgDom.setAttribute("height",height))}},SVGPainter.prototype.getWidth=function(){return this._width},SVGPainter.prototype.getHeight=function(){return this._height},SVGPainter.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},SVGPainter.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},SVGPainter.prototype.toDataURL=function(base64){var str=encodeURIComponent(this.renderToString()),prefix="data:image/svg+xml;";return base64?(str=Object(helper.c)(str))&&prefix+"base64,"+str:prefix+"charset=UTF-8,"+str},SVGPainter}();var LineSeries_LineSeriesModel=function(_super){function LineSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=LineSeriesModel.type,_this.hasSymbolVisual=!0,_this}return __extends(LineSeriesModel,_super),LineSeriesModel.prototype.getInitialData=function(option){return helper_createSeriesData(null,this,{useEncodeDefaulter:!0})},LineSeriesModel.prototype.getLegendIcon=function(opt){var group=new graphic_Group,line=symbol_createSymbol("line",0,opt.itemHeight/2,opt.itemWidth,0,opt.lineStyle.stroke,!1);group.add(line),line.setStyle(opt.lineStyle);var visualType=this.getData().getVisual("symbol"),visualRotate=this.getData().getVisual("symbolRotate"),symbolType="none"===visualType?"circle":visualType,size=.8*opt.itemHeight,symbol=symbol_createSymbol(symbolType,(opt.itemWidth-size)/2,(opt.itemHeight-size)/2,size,size,opt.itemStyle.fill);group.add(symbol),symbol.setStyle(opt.itemStyle);var symbolRotate="inherit"===opt.iconRotate?visualRotate:opt.iconRotate||0;return symbol.rotation=symbolRotate*Math.PI/180,symbol.setOrigin([opt.itemWidth/2,opt.itemHeight/2]),symbolType.indexOf("empty")>-1&&(symbol.style.stroke=symbol.style.fill,symbol.style.fill="#fff",symbol.style.lineWidth=2),group},LineSeriesModel.type="series.line",LineSeriesModel.dependencies=["grid","polar"],LineSeriesModel.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},LineSeriesModel}(Series),LineSeries=LineSeries_LineSeriesModel;function getDefaultLabel(data,dataIndex){var labelDims=data.mapDimensionsAll("defaultedLabel"),len=labelDims.length;if(1===len){var rawVal=retrieveRawValue(data,dataIndex,labelDims[0]);return null!=rawVal?rawVal+"":null}if(len){for(var vals=[],i=0;i<labelDims.length;i++)vals.push(retrieveRawValue(data,dataIndex,labelDims[i]));return vals.join(" ")}}function getDefaultInterpolatedLabel(data,interpolatedValue){var labelDims=data.mapDimensionsAll("defaultedLabel");if(!Object(util.isArray)(interpolatedValue))return interpolatedValue+"";for(var vals=[],i=0;i<labelDims.length;i++){var dimIndex=data.getDimensionIndex(labelDims[i]);dimIndex>=0&&vals.push(interpolatedValue[dimIndex])}return vals.join(" ")}function driftSymbol(dx,dy){this.parent.drift(dx,dy)}var helper_Symbol=function(_super){function Symbol(data,idx,seriesScope,opts){var _this=_super.call(this)||this;return _this.updateData(data,idx,seriesScope,opts),_this}return __extends(Symbol,_super),Symbol.prototype._createSymbol=function(symbolType,data,idx,symbolSize,keepAspect){this.removeAll();var symbolPath=symbol_createSymbol(symbolType,-1,-1,2,2,null,keepAspect);symbolPath.attr({z2:100,culling:!0,scaleX:symbolSize[0]/2,scaleY:symbolSize[1]/2}),symbolPath.drift=driftSymbol,this._symbolType=symbolType,this.add(symbolPath)},Symbol.prototype.stopSymbolAnimation=function(toLastFrame){this.childAt(0).stopAnimation(null,toLastFrame)},Symbol.prototype.getSymbolType=function(){return this._symbolType},Symbol.prototype.getSymbolPath=function(){return this.childAt(0)},Symbol.prototype.highlight=function(){enterEmphasis(this.childAt(0))},Symbol.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},Symbol.prototype.setZ=function(zlevel,z){var symbolPath=this.childAt(0);symbolPath.zlevel=zlevel,symbolPath.z=z},Symbol.prototype.setDraggable=function(draggable){var symbolPath=this.childAt(0);symbolPath.draggable=draggable,symbolPath.cursor=draggable?"move":symbolPath.cursor},Symbol.prototype.updateData=function(data,idx,seriesScope,opts){this.silent=!1;var symbolType=data.getItemVisual(idx,"symbol")||"circle",seriesModel=data.hostModel,symbolSize=Symbol.getSymbolSize(data,idx),isInit=symbolType!==this._symbolType,disableAnimation=opts&&opts.disableAnimation;if(isInit){var keepAspect=data.getItemVisual(idx,"symbolKeepAspect");this._createSymbol(symbolType,data,idx,symbolSize,keepAspect)}else{(symbolPath=this.childAt(0)).silent=!1;var target={scaleX:symbolSize[0]/2,scaleY:symbolSize[1]/2};disableAnimation?symbolPath.attr(target):updateProps(symbolPath,target,seriesModel,idx),saveOldStyle(symbolPath)}if(this._updateCommon(data,idx,symbolSize,seriesScope,opts),isInit){var symbolPath=this.childAt(0);if(!disableAnimation){target={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:symbolPath.style.opacity}};symbolPath.scaleX=symbolPath.scaleY=0,symbolPath.style.opacity=0,initProps(symbolPath,target,seriesModel,idx)}}disableAnimation&&this.childAt(0).stopAnimation("leave")},Symbol.prototype._updateCommon=function(data,idx,symbolSize,seriesScope,opts){var emphasisItemStyle,blurItemStyle,selectItemStyle,focus,blurScope,emphasisDisabled,labelStatesModels,hoverScale,cursorStyle,symbolPath=this.childAt(0),seriesModel=data.hostModel;if(seriesScope&&(emphasisItemStyle=seriesScope.emphasisItemStyle,blurItemStyle=seriesScope.blurItemStyle,selectItemStyle=seriesScope.selectItemStyle,focus=seriesScope.focus,blurScope=seriesScope.blurScope,labelStatesModels=seriesScope.labelStatesModels,hoverScale=seriesScope.hoverScale,cursorStyle=seriesScope.cursorStyle,emphasisDisabled=seriesScope.emphasisDisabled),!seriesScope||data.hasItemOption){var itemModel=seriesScope&&seriesScope.itemModel?seriesScope.itemModel:data.getItemModel(idx),emphasisModel=itemModel.getModel("emphasis");emphasisItemStyle=emphasisModel.getModel("itemStyle").getItemStyle(),selectItemStyle=itemModel.getModel(["select","itemStyle"]).getItemStyle(),blurItemStyle=itemModel.getModel(["blur","itemStyle"]).getItemStyle(),focus=emphasisModel.get("focus"),blurScope=emphasisModel.get("blurScope"),emphasisDisabled=emphasisModel.get("disabled"),labelStatesModels=getLabelStatesModels(itemModel),hoverScale=emphasisModel.getShallow("scale"),cursorStyle=itemModel.getShallow("cursor")}var symbolRotate=data.getItemVisual(idx,"symbolRotate");symbolPath.attr("rotation",(symbolRotate||0)*Math.PI/180||0);var symbolOffset=normalizeSymbolOffset(data.getItemVisual(idx,"symbolOffset"),symbolSize);symbolOffset&&(symbolPath.x=symbolOffset[0],symbolPath.y=symbolOffset[1]),cursorStyle&&symbolPath.attr("cursor",cursorStyle);var symbolStyle=data.getItemVisual(idx,"style"),visualColor=symbolStyle.fill;if(symbolPath instanceof graphic_Image){var pathStyle=symbolPath.style;symbolPath.useStyle(Object(util.extend)({image:pathStyle.image,x:pathStyle.x,y:pathStyle.y,width:pathStyle.width,height:pathStyle.height},symbolStyle))}else symbolPath.__isEmptyBrush?symbolPath.useStyle(Object(util.extend)({},symbolStyle)):symbolPath.useStyle(symbolStyle),symbolPath.style.decal=null,symbolPath.setColor(visualColor,opts&&opts.symbolInnerColor),symbolPath.style.strokeNoScale=!0;var liftZ=data.getItemVisual(idx,"liftZ"),z2Origin=this._z2;null!=liftZ?null==z2Origin&&(this._z2=symbolPath.z2,symbolPath.z2+=liftZ):null!=z2Origin&&(symbolPath.z2=z2Origin,this._z2=null);var useNameLabel=opts&&opts.useNameLabel;setLabelStyle(symbolPath,labelStatesModels,{labelFetcher:seriesModel,labelDataIndex:idx,defaultText:function getLabelDefaultText(idx){return useNameLabel?data.getName(idx):getDefaultLabel(data,idx)},inheritColor:visualColor,defaultOpacity:symbolStyle.opacity}),this._sizeX=symbolSize[0]/2,this._sizeY=symbolSize[1]/2;var emphasisState=symbolPath.ensureState("emphasis");if(emphasisState.style=emphasisItemStyle,symbolPath.ensureState("select").style=selectItemStyle,symbolPath.ensureState("blur").style=blurItemStyle,hoverScale){var scaleRatio=Math.max(Object(util.isNumber)(hoverScale)?hoverScale:1.1,3/this._sizeY);emphasisState.scaleX=this._sizeX*scaleRatio,emphasisState.scaleY=this._sizeY*scaleRatio}this.setSymbolScale(1),toggleHoverEmphasis(this,focus,blurScope,emphasisDisabled)},Symbol.prototype.setSymbolScale=function(scale){this.scaleX=this.scaleY=scale},Symbol.prototype.fadeOut=function(cb,seriesModel,opt){var symbolPath=this.childAt(0),dataIndex=getECData(this).dataIndex,animationOpt=opt&&opt.animation;if(this.silent=symbolPath.silent=!0,opt&&opt.fadeLabel){var textContent=symbolPath.getTextContent();textContent&&removeElement(textContent,{style:{opacity:0}},seriesModel,{dataIndex:dataIndex,removeOpt:animationOpt,cb:function(){symbolPath.removeTextContent()}})}else symbolPath.removeTextContent();removeElement(symbolPath,{style:{opacity:0},scaleX:0,scaleY:0},seriesModel,{dataIndex:dataIndex,cb:cb,removeOpt:animationOpt})},Symbol.getSymbolSize=function(data,idx){return normalizeSymbolSize(data.getItemVisual(idx,"symbolSize"))},Symbol}(graphic_Group);function symbolNeedsDraw(data,point,idx,opt){return point&&!isNaN(point[0])&&!isNaN(point[1])&&!(opt.isIgnore&&opt.isIgnore(idx))&&!(opt.clipShape&&!opt.clipShape.contain(point[0],point[1]))&&"none"!==data.getItemVisual(idx,"symbol")}function normalizeUpdateOpt(opt){return null==opt||Object(util.isObject)(opt)||(opt={isIgnore:opt}),opt||{}}function makeSeriesScope(data){var seriesModel=data.hostModel,emphasisModel=seriesModel.getModel("emphasis");return{emphasisItemStyle:emphasisModel.getModel("itemStyle").getItemStyle(),blurItemStyle:seriesModel.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:seriesModel.getModel(["select","itemStyle"]).getItemStyle(),focus:emphasisModel.get("focus"),blurScope:emphasisModel.get("blurScope"),emphasisDisabled:emphasisModel.get("disabled"),hoverScale:emphasisModel.get("scale"),labelStatesModels:getLabelStatesModels(seriesModel),cursorStyle:seriesModel.get("cursor")}}var helper_SymbolDraw=function(){function SymbolDraw(SymbolCtor){this.group=new graphic_Group,this._SymbolCtor=SymbolCtor||helper_Symbol}return SymbolDraw.prototype.updateData=function(data,opt){this._progressiveEls=null,opt=normalizeUpdateOpt(opt);var group=this.group,seriesModel=data.hostModel,oldData=this._data,SymbolCtor=this._SymbolCtor,disableAnimation=opt.disableAnimation,seriesScope=makeSeriesScope(data),symbolUpdateOpt={disableAnimation:disableAnimation},getSymbolPoint=opt.getSymbolPoint||function(idx){return data.getItemLayout(idx)};oldData||group.removeAll(),data.diff(oldData).add((function(newIdx){var point=getSymbolPoint(newIdx);if(symbolNeedsDraw(data,point,newIdx,opt)){var symbolEl=new SymbolCtor(data,newIdx,seriesScope,symbolUpdateOpt);symbolEl.setPosition(point),data.setItemGraphicEl(newIdx,symbolEl),group.add(symbolEl)}})).update((function(newIdx,oldIdx){var symbolEl=oldData.getItemGraphicEl(oldIdx),point=getSymbolPoint(newIdx);if(symbolNeedsDraw(data,point,newIdx,opt)){var newSymbolType=data.getItemVisual(newIdx,"symbol")||"circle",oldSymbolType=symbolEl&&symbolEl.getSymbolType&&symbolEl.getSymbolType();if(!symbolEl||oldSymbolType&&oldSymbolType!==newSymbolType)group.remove(symbolEl),(symbolEl=new SymbolCtor(data,newIdx,seriesScope,symbolUpdateOpt)).setPosition(point);else{symbolEl.updateData(data,newIdx,seriesScope,symbolUpdateOpt);var target={x:point[0],y:point[1]};disableAnimation?symbolEl.attr(target):updateProps(symbolEl,target,seriesModel)}group.add(symbolEl),data.setItemGraphicEl(newIdx,symbolEl)}else group.remove(symbolEl)})).remove((function(oldIdx){var el=oldData.getItemGraphicEl(oldIdx);el&&el.fadeOut((function(){group.remove(el)}),seriesModel)})).execute(),this._getSymbolPoint=getSymbolPoint,this._data=data},SymbolDraw.prototype.updateLayout=function(){var _this=this,data=this._data;data&&data.eachItemGraphicEl((function(el,idx){var point=_this._getSymbolPoint(idx);el.setPosition(point),el.markRedraw()}))},SymbolDraw.prototype.incrementalPrepareUpdate=function(data){this._seriesScope=makeSeriesScope(data),this._data=null,this.group.removeAll()},SymbolDraw.prototype.incrementalUpdate=function(taskParams,data,opt){function updateIncrementalAndHover(el){el.isGroup||(el.incremental=!0,el.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],opt=normalizeUpdateOpt(opt);for(var idx=taskParams.start;idx<taskParams.end;idx++){var point=data.getItemLayout(idx);if(symbolNeedsDraw(data,point,idx,opt)){var el=new this._SymbolCtor(data,idx,this._seriesScope);el.traverse(updateIncrementalAndHover),el.setPosition(point),this.group.add(el),data.setItemGraphicEl(idx,el),this._progressiveEls.push(el)}}},SymbolDraw.prototype.eachRendered=function(cb){traverseElements(this._progressiveEls||this.group,cb)},SymbolDraw.prototype.remove=function(enableAnimation){var group=this.group,data=this._data;data&&enableAnimation?data.eachItemGraphicEl((function(el){el.fadeOut((function(){group.remove(el)}),data.hostModel)})):group.removeAll()},SymbolDraw}();function prepareDataCoordInfo(coordSys,data,valueOrigin){var baseAxis=coordSys.getBaseAxis(),valueAxis=coordSys.getOtherAxis(baseAxis),valueStart=function getValueStart(valueAxis,valueOrigin){var valueStart=0,extent=valueAxis.scale.getExtent();"start"===valueOrigin?valueStart=extent[0]:"end"===valueOrigin?valueStart=extent[1]:Object(util.isNumber)(valueOrigin)&&!isNaN(valueOrigin)?valueStart=valueOrigin:extent[0]>0?valueStart=extent[0]:extent[1]<0&&(valueStart=extent[1]);return valueStart}(valueAxis,valueOrigin),baseAxisDim=baseAxis.dim,valueAxisDim=valueAxis.dim,valueDim=data.mapDimension(valueAxisDim),baseDim=data.mapDimension(baseAxisDim),baseDataOffset="x"===valueAxisDim||"radius"===valueAxisDim?1:0,dims=Object(util.map)(coordSys.dimensions,(function(coordDim){return data.mapDimension(coordDim)})),stacked=!1,stackResultDim=data.getCalculationInfo("stackResultDimension");return isDimensionStacked(data,dims[0])&&(stacked=!0,dims[0]=stackResultDim),isDimensionStacked(data,dims[1])&&(stacked=!0,dims[1]=stackResultDim),{dataDimsForPoint:dims,valueStart:valueStart,valueAxisDim:valueAxisDim,baseAxisDim:baseAxisDim,stacked:!!stacked,valueDim:valueDim,baseDim:baseDim,baseDataOffset:baseDataOffset,stackedOverDimension:data.getCalculationInfo("stackedOverDimension")}}function getStackedOnPoint(dataCoordInfo,coordSys,data,idx){var value=NaN;dataCoordInfo.stacked&&(value=data.get(data.getCalculationInfo("stackedOverDimension"),idx)),isNaN(value)&&(value=dataCoordInfo.valueStart);var baseDataOffset=dataCoordInfo.baseDataOffset,stackedData=[];return stackedData[baseDataOffset]=data.get(dataCoordInfo.baseDim,idx),stackedData[1-baseDataOffset]=value,coordSys.dataToPoint(stackedData)}var poly_mathMin=Math.min,poly_mathMax=Math.max;function isPointNull(x,y){return isNaN(x)||isNaN(y)}function drawSegment(ctx,points,start,segLen,allLen,dir,smooth,smoothMonotone,connectNulls){for(var prevX,prevY,cpx0,cpy0,cpx1,cpy1,idx=start,k=0;k<segLen;k++){var x=points[2*idx],y=points[2*idx+1];if(idx>=allLen||idx<0)break;if(isPointNull(x,y)){if(connectNulls){idx+=dir;continue}break}if(idx===start)ctx[dir>0?"moveTo":"lineTo"](x,y),cpx0=x,cpy0=y;else{var dx=x-prevX,dy=y-prevY;if(dx*dx+dy*dy<.5){idx+=dir;continue}if(smooth>0){for(var nextIdx=idx+dir,nextX=points[2*nextIdx],nextY=points[2*nextIdx+1];nextX===x&&nextY===y&&k<segLen;)k++,idx+=dir,nextX=points[2*(nextIdx+=dir)],nextY=points[2*nextIdx+1],dx=(x=points[2*idx])-prevX,dy=(y=points[2*idx+1])-prevY;var tmpK=k+1;if(connectNulls)for(;isPointNull(nextX,nextY)&&tmpK<segLen;)tmpK++,nextX=points[2*(nextIdx+=dir)],nextY=points[2*nextIdx+1];var ratioNextSeg=.5,vx=0,vy=0,nextCpx0=void 0,nextCpy0=void 0;if(tmpK>=segLen||isPointNull(nextX,nextY))cpx1=x,cpy1=y;else{vx=nextX-prevX,vy=nextY-prevY;var dx0=x-prevX,dx1=nextX-x,dy0=y-prevY,dy1=nextY-y,lenPrevSeg=void 0,lenNextSeg=void 0;if("x"===smoothMonotone){var dir_1=vx>0?1:-1;cpx1=x-dir_1*(lenPrevSeg=Math.abs(dx0))*smooth,cpy1=y,nextCpx0=x+dir_1*(lenNextSeg=Math.abs(dx1))*smooth,nextCpy0=y}else if("y"===smoothMonotone){var dir_2=vy>0?1:-1;cpx1=x,cpy1=y-dir_2*(lenPrevSeg=Math.abs(dy0))*smooth,nextCpx0=x,nextCpy0=y+dir_2*(lenNextSeg=Math.abs(dy1))*smooth}else lenPrevSeg=Math.sqrt(dx0*dx0+dy0*dy0),cpx1=x-vx*smooth*(1-(ratioNextSeg=(lenNextSeg=Math.sqrt(dx1*dx1+dy1*dy1))/(lenNextSeg+lenPrevSeg))),cpy1=y-vy*smooth*(1-ratioNextSeg),nextCpy0=y+vy*smooth*ratioNextSeg,nextCpx0=poly_mathMin(nextCpx0=x+vx*smooth*ratioNextSeg,poly_mathMax(nextX,x)),nextCpy0=poly_mathMin(nextCpy0,poly_mathMax(nextY,y)),nextCpx0=poly_mathMax(nextCpx0,poly_mathMin(nextX,x)),cpy1=y-(vy=(nextCpy0=poly_mathMax(nextCpy0,poly_mathMin(nextY,y)))-y)*lenPrevSeg/lenNextSeg,cpx1=poly_mathMin(cpx1=x-(vx=nextCpx0-x)*lenPrevSeg/lenNextSeg,poly_mathMax(prevX,x)),cpy1=poly_mathMin(cpy1,poly_mathMax(prevY,y)),nextCpx0=x+(vx=x-(cpx1=poly_mathMax(cpx1,poly_mathMin(prevX,x))))*lenNextSeg/lenPrevSeg,nextCpy0=y+(vy=y-(cpy1=poly_mathMax(cpy1,poly_mathMin(prevY,y))))*lenNextSeg/lenPrevSeg}ctx.bezierCurveTo(cpx0,cpy0,cpx1,cpy1,x,y),cpx0=nextCpx0,cpy0=nextCpy0}else ctx.lineTo(x,y)}prevX=x,prevY=y,idx+=dir}return k}var ECPolylineShape=function ECPolylineShape(){this.smooth=0,this.smoothConstraint=!0},poly_ECPolyline=function(_super){function ECPolyline(opts){var _this=_super.call(this,opts)||this;return _this.type="ec-polyline",_this}return __extends(ECPolyline,_super),ECPolyline.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},ECPolyline.prototype.getDefaultShape=function(){return new ECPolylineShape},ECPolyline.prototype.buildPath=function(ctx,shape){var points=shape.points,i=0,len=points.length/2;if(shape.connectNulls){for(;len>0&&isPointNull(points[2*len-2],points[2*len-1]);len--);for(;i<len&&isPointNull(points[2*i],points[2*i+1]);i++);}for(;i<len;)i+=drawSegment(ctx,points,i,len,len,1,shape.smooth,shape.smoothMonotone,shape.connectNulls)+1},ECPolyline.prototype.getPointOn=function(xOrY,dim){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var x0,y0,data=this.path.data,CMD=core_PathProxy.CMD,isDimX="x"===dim,roots=[],i=0;i<data.length;){var x=void 0,y=void 0,x2=void 0,y2=void 0,x3=void 0,y3=void 0,t=void 0;switch(data[i++]){case CMD.M:x0=data[i++],y0=data[i++];break;case CMD.L:if(x=data[i++],y=data[i++],(t=isDimX?(xOrY-x0)/(x-x0):(xOrY-y0)/(y-y0))<=1&&t>=0){var val=isDimX?(y-y0)*t+y0:(x-x0)*t+x0;return isDimX?[xOrY,val]:[val,xOrY]}x0=x,y0=y;break;case CMD.C:x=data[i++],y=data[i++],x2=data[i++],y2=data[i++],x3=data[i++],y3=data[i++];var nRoot=isDimX?cubicRootAt(x0,x,x2,x3,xOrY,roots):cubicRootAt(y0,y,y2,y3,xOrY,roots);if(nRoot>0)for(var i_1=0;i_1<nRoot;i_1++){var t_1=roots[i_1];if(t_1<=1&&t_1>=0){val=isDimX?curve_cubicAt(y0,y,y2,y3,t_1):curve_cubicAt(x0,x,x2,x3,t_1);return isDimX?[xOrY,val]:[val,xOrY]}}x0=x3,y0=y3}}},ECPolyline}(graphic_Path),poly_ECPolygonShape=function(_super){function ECPolygonShape(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ECPolygonShape,_super),ECPolygonShape}(ECPolylineShape),poly_ECPolygon=function(_super){function ECPolygon(opts){var _this=_super.call(this,opts)||this;return _this.type="ec-polygon",_this}return __extends(ECPolygon,_super),ECPolygon.prototype.getDefaultShape=function(){return new poly_ECPolygonShape},ECPolygon.prototype.buildPath=function(ctx,shape){var points=shape.points,stackedOnPoints=shape.stackedOnPoints,i=0,len=points.length/2,smoothMonotone=shape.smoothMonotone;if(shape.connectNulls){for(;len>0&&isPointNull(points[2*len-2],points[2*len-1]);len--);for(;i<len&&isPointNull(points[2*i],points[2*i+1]);i++);}for(;i<len;){var k=drawSegment(ctx,points,i,len,len,1,shape.smooth,smoothMonotone,shape.connectNulls);drawSegment(ctx,stackedOnPoints,i+k-1,k,len,-1,shape.stackedOnSmooth,smoothMonotone,shape.connectNulls),i+=k+1,ctx.closePath()}},ECPolygon}(graphic_Path);function createGridClipPath(cartesian,hasAnimation,seriesModel,done,during){var rect=cartesian.getArea(),x=rect.x,y=rect.y,width=rect.width,height=rect.height,lineWidth=seriesModel.get(["lineStyle","width"])||2;x-=lineWidth/2,y-=lineWidth/2,width+=lineWidth,height+=lineWidth,x=Math.floor(x),width=Math.round(width);var clipPath=new shape_Rect({shape:{x:x,y:y,width:width,height:height}});if(hasAnimation){var baseAxis=cartesian.getBaseAxis(),isHorizontal=baseAxis.isHorizontal(),isAxisInversed=baseAxis.inverse;isHorizontal?(isAxisInversed&&(clipPath.shape.x+=width),clipPath.shape.width=0):(isAxisInversed||(clipPath.shape.y+=height),clipPath.shape.height=0);var duringCb=Object(util.isFunction)(during)?function(percent){during(percent,clipPath)}:null;initProps(clipPath,{shape:{width:width,height:height,x:x,y:y}},seriesModel,null,done,duringCb)}return clipPath}function createPolarClipPath(polar,hasAnimation,seriesModel){var sectorArea=polar.getArea(),r0=round(sectorArea.r0,1),r=round(sectorArea.r,1),clipPath=new shape_Sector({shape:{cx:round(polar.cx,1),cy:round(polar.cy,1),r0:r0,r:r,startAngle:sectorArea.startAngle,endAngle:sectorArea.endAngle,clockwise:sectorArea.clockwise}});hasAnimation&&("angle"===polar.getBaseAxis().dim?clipPath.shape.endAngle=sectorArea.startAngle:clipPath.shape.r=r0,initProps(clipPath,{shape:{endAngle:sectorArea.endAngle,r:r}},seriesModel));return clipPath}function createClipPath(coordSys,hasAnimation,seriesModel,done,during){return coordSys?"polar"===coordSys.type?createPolarClipPath(coordSys,hasAnimation,seriesModel):"cartesian2d"===coordSys.type?createGridClipPath(coordSys,hasAnimation,seriesModel,done,during):null:null}function isCoordinateSystemType(coordSys,type){return coordSys.type===type}function isPointsSame(points1,points2){if(points1.length===points2.length){for(var i=0;i<points1.length;i++)if(points1[i]!==points2[i])return;return!0}}function bboxFromPoints(points){for(var minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0,i=0;i<points.length;){var x=points[i++],y=points[i++];isNaN(x)||(minX=Math.min(x,minX),maxX=Math.max(x,maxX)),isNaN(y)||(minY=Math.min(y,minY),maxY=Math.max(y,maxY))}return[[minX,minY],[maxX,maxY]]}function getBoundingDiff(points1,points2){var _a=bboxFromPoints(points1),min1=_a[0],max1=_a[1],_b=bboxFromPoints(points2),min2=_b[0],max2=_b[1];return Math.max(Math.abs(min1[0]-min2[0]),Math.abs(min1[1]-min2[1]),Math.abs(max1[0]-max2[0]),Math.abs(max1[1]-max2[1]))}function getSmooth(smooth){return util.isNumber(smooth)?smooth:smooth?.5:0}function turnPointsIntoStep(points,coordSys,stepTurnAt,connectNulls){var baseAxis=coordSys.getBaseAxis(),baseIndex="x"===baseAxis.dim||"radius"===baseAxis.dim?0:1,stepPoints=[],i=0,stepPt=[],pt=[],nextPt=[],filteredPoints=[];if(connectNulls){for(i=0;i<points.length;i+=2)isNaN(points[i])||isNaN(points[i+1])||filteredPoints.push(points[i],points[i+1]);points=filteredPoints}for(i=0;i<points.length-2;i+=2)switch(nextPt[0]=points[i+2],nextPt[1]=points[i+3],pt[0]=points[i],pt[1]=points[i+1],stepPoints.push(pt[0],pt[1]),stepTurnAt){case"end":stepPt[baseIndex]=nextPt[baseIndex],stepPt[1-baseIndex]=pt[1-baseIndex],stepPoints.push(stepPt[0],stepPt[1]);break;case"middle":var middle=(pt[baseIndex]+nextPt[baseIndex])/2,stepPt2=[];stepPt[baseIndex]=stepPt2[baseIndex]=middle,stepPt[1-baseIndex]=pt[1-baseIndex],stepPt2[1-baseIndex]=nextPt[1-baseIndex],stepPoints.push(stepPt[0],stepPt[1]),stepPoints.push(stepPt2[0],stepPt2[1]);break;default:stepPt[baseIndex]=pt[baseIndex],stepPt[1-baseIndex]=nextPt[1-baseIndex],stepPoints.push(stepPt[0],stepPt[1])}return stepPoints.push(points[i++],points[i++]),stepPoints}function getVisualGradient(data,coordSys,api){var visualMetaList=data.getVisual("visualMeta");if(visualMetaList&&visualMetaList.length&&data.count()&&"cartesian2d"===coordSys.type){for(var coordDim,visualMeta,i=visualMetaList.length-1;i>=0;i--){var dimInfo=data.getDimensionInfo(visualMetaList[i].dimension);if("x"===(coordDim=dimInfo&&dimInfo.coordDim)||"y"===coordDim){visualMeta=visualMetaList[i];break}}if(visualMeta){var axis=coordSys.getAxis(coordDim),colorStops=util.map(visualMeta.stops,(function(stop){return{coord:axis.toGlobalCoord(axis.dataToCoord(stop.value)),color:stop.color}})),stopLen=colorStops.length,outerColors=visualMeta.outerColors.slice();stopLen&&colorStops[0].coord>colorStops[stopLen-1].coord&&(colorStops.reverse(),outerColors.reverse());var colorStopsInRange=function clipColorStops(colorStops,maxSize){var prevOutOfRangeColorStop,prevInRangeColorStop,newColorStops=[],len=colorStops.length;function lerpStop(stop0,stop1,clippedCoord){var coord0=stop0.coord,p=(clippedCoord-coord0)/(stop1.coord-coord0);return{coord:clippedCoord,color:Object(tool_color.lerp)(p,[stop0.color,stop1.color])}}for(var i=0;i<len;i++){var stop_1=colorStops[i],coord=stop_1.coord;if(coord<0)prevOutOfRangeColorStop=stop_1;else{if(coord>maxSize){prevInRangeColorStop?newColorStops.push(lerpStop(prevInRangeColorStop,stop_1,maxSize)):prevOutOfRangeColorStop&&newColorStops.push(lerpStop(prevOutOfRangeColorStop,stop_1,0),lerpStop(prevOutOfRangeColorStop,stop_1,maxSize));break}prevOutOfRangeColorStop&&(newColorStops.push(lerpStop(prevOutOfRangeColorStop,stop_1,0)),prevOutOfRangeColorStop=null),newColorStops.push(stop_1),prevInRangeColorStop=stop_1}}return newColorStops}(colorStops,"x"===coordDim?api.getWidth():api.getHeight()),inRangeStopLen=colorStopsInRange.length;if(!inRangeStopLen&&stopLen)return colorStops[0].coord<0?outerColors[1]?outerColors[1]:colorStops[stopLen-1].color:outerColors[0]?outerColors[0]:colorStops[0].color;var minCoord=colorStopsInRange[0].coord-10,maxCoord=colorStopsInRange[inRangeStopLen-1].coord+10,coordSpan=maxCoord-minCoord;if(coordSpan<.001)return"transparent";util.each(colorStopsInRange,(function(stop){stop.offset=(stop.coord-minCoord)/coordSpan})),colorStopsInRange.push({offset:inRangeStopLen?colorStopsInRange[inRangeStopLen-1].offset:.5,color:outerColors[1]||"transparent"}),colorStopsInRange.unshift({offset:inRangeStopLen?colorStopsInRange[0].offset:.5,color:outerColors[0]||"transparent"});var gradient=new graphic_LinearGradient(0,0,0,0,colorStopsInRange,!0);return gradient[coordDim]=minCoord,gradient[coordDim+"2"]=maxCoord,gradient}}}function getIsIgnoreFunc(seriesModel,data,coordSys){var showAllSymbol=seriesModel.get("showAllSymbol"),isAuto="auto"===showAllSymbol;if(!showAllSymbol||isAuto){var categoryAxis=coordSys.getAxesByScale("ordinal")[0];if(categoryAxis&&(!isAuto||!function canShowAllSymbolForCategory(categoryAxis,data){var axisExtent=categoryAxis.getExtent(),availSize=Math.abs(axisExtent[1]-axisExtent[0])/categoryAxis.scale.count();isNaN(availSize)&&(availSize=0);for(var dataLen=data.count(),step=Math.max(1,Math.round(dataLen/5)),dataIndex=0;dataIndex<dataLen;dataIndex+=step)if(1.5*helper_Symbol.getSymbolSize(data,dataIndex)[categoryAxis.isHorizontal()?1:0]>availSize)return!1;return!0}(categoryAxis,data))){var categoryDataDim=data.mapDimension(categoryAxis.dim),labelMap={};return util.each(categoryAxis.getViewLabels(),(function(labelItem){var ordinalNumber=categoryAxis.scale.getRawOrdinalNumber(labelItem.tickValue);labelMap[ordinalNumber]=1})),function(dataIndex){return!labelMap.hasOwnProperty(data.get(categoryDataDim,dataIndex))}}}}function getPointAtIndex(points,idx){return[points[2*idx],points[2*idx+1]]}function anyStateShowEndLabel(seriesModel){if(seriesModel.get(["endLabel","show"]))return!0;for(var i=0;i<SPECIAL_STATES.length;i++)if(seriesModel.get([SPECIAL_STATES[i],"endLabel","show"]))return!0;return!1}function createLineClipPath(lineView,coordSys,hasAnimation,seriesModel){if(isCoordinateSystemType(coordSys,"cartesian2d")){var endLabelModel_1=seriesModel.getModel("endLabel"),valueAnimation_1=endLabelModel_1.get("valueAnimation"),data_1=seriesModel.getData(),labelAnimationRecord_1={lastFrameIndex:0},during=anyStateShowEndLabel(seriesModel)?function(percent,clipRect){lineView._endLabelOnDuring(percent,clipRect,data_1,labelAnimationRecord_1,valueAnimation_1,endLabelModel_1,coordSys)}:null,isHorizontal=coordSys.getBaseAxis().isHorizontal(),clipPath=createGridClipPath(coordSys,hasAnimation,seriesModel,(function(){var endLabel=lineView._endLabel;endLabel&&hasAnimation&&null!=labelAnimationRecord_1.originalX&&endLabel.attr({x:labelAnimationRecord_1.originalX,y:labelAnimationRecord_1.originalY})}),during);if(!seriesModel.get("clip",!0)){var rectShape=clipPath.shape,expandSize=Math.max(rectShape.width,rectShape.height);isHorizontal?(rectShape.y-=expandSize,rectShape.height+=2*expandSize):(rectShape.x-=expandSize,rectShape.width+=2*expandSize)}return during&&during(1,clipPath),clipPath}return createPolarClipPath(coordSys,hasAnimation,seriesModel)}var LineView_LineView=function(_super){function LineView(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(LineView,_super),LineView.prototype.init=function(){var lineGroup=new graphic_Group,symbolDraw=new helper_SymbolDraw;this.group.add(symbolDraw.group),this._symbolDraw=symbolDraw,this._lineGroup=lineGroup},LineView.prototype.render=function(seriesModel,ecModel,api){var _this=this,coordSys=seriesModel.coordinateSystem,group=this.group,data=seriesModel.getData(),lineStyleModel=seriesModel.getModel("lineStyle"),areaStyleModel=seriesModel.getModel("areaStyle"),points=data.getLayout("points")||[],isCoordSysPolar="polar"===coordSys.type,prevCoordSys=this._coordSys,symbolDraw=this._symbolDraw,polyline=this._polyline,polygon=this._polygon,lineGroup=this._lineGroup,hasAnimation=seriesModel.get("animation"),isAreaChart=!areaStyleModel.isEmpty(),valueOrigin=areaStyleModel.get("origin"),dataCoordInfo=prepareDataCoordInfo(coordSys,data,valueOrigin),stackedOnPoints=isAreaChart&&function getStackedOnPoints(coordSys,data,dataCoordInfo){if(!dataCoordInfo.valueDim)return[];for(var len=data.count(),points=createFloat32Array(2*len),idx=0;idx<len;idx++){var pt=getStackedOnPoint(dataCoordInfo,coordSys,data,idx);points[2*idx]=pt[0],points[2*idx+1]=pt[1]}return points}(coordSys,data,dataCoordInfo),showSymbol=seriesModel.get("showSymbol"),connectNulls=seriesModel.get("connectNulls"),isIgnoreFunc=showSymbol&&!isCoordSysPolar&&getIsIgnoreFunc(seriesModel,data,coordSys),oldData=this._data;oldData&&oldData.eachItemGraphicEl((function(el,idx){el.__temp&&(group.remove(el),oldData.setItemGraphicEl(idx,null))})),showSymbol||symbolDraw.remove(),group.add(lineGroup);var clipShapeForSymbol,step=!isCoordSysPolar&&seriesModel.get("step");coordSys&&coordSys.getArea&&seriesModel.get("clip",!0)&&(null!=(clipShapeForSymbol=coordSys.getArea()).width?(clipShapeForSymbol.x-=.1,clipShapeForSymbol.y-=.1,clipShapeForSymbol.width+=.2,clipShapeForSymbol.height+=.2):clipShapeForSymbol.r0&&(clipShapeForSymbol.r0-=.5,clipShapeForSymbol.r+=.5)),this._clipShapeForSymbol=clipShapeForSymbol;var visualColor=getVisualGradient(data,coordSys,api)||data.getVisual("style")[data.getVisual("drawType")];if(polyline&&prevCoordSys.type===coordSys.type&&step===this._step){isAreaChart&&!polygon?polygon=this._newPolygon(points,stackedOnPoints):polygon&&!isAreaChart&&(lineGroup.remove(polygon),polygon=this._polygon=null),isCoordSysPolar||this._initOrUpdateEndLabel(seriesModel,coordSys,convertToColorString(visualColor));var oldClipPath=lineGroup.getClipPath();if(oldClipPath)initProps(oldClipPath,{shape:createLineClipPath(this,coordSys,!1,seriesModel).shape},seriesModel);else lineGroup.setClipPath(createLineClipPath(this,coordSys,!0,seriesModel));showSymbol&&symbolDraw.updateData(data,{isIgnore:isIgnoreFunc,clipShape:clipShapeForSymbol,disableAnimation:!0,getSymbolPoint:function(idx){return[points[2*idx],points[2*idx+1]]}}),isPointsSame(this._stackedOnPoints,stackedOnPoints)&&isPointsSame(this._points,points)||(hasAnimation?this._doUpdateAnimation(data,stackedOnPoints,coordSys,api,step,valueOrigin,connectNulls):(step&&(points=turnPointsIntoStep(points,coordSys,step,connectNulls),stackedOnPoints&&(stackedOnPoints=turnPointsIntoStep(stackedOnPoints,coordSys,step,connectNulls))),polyline.setShape({points:points}),polygon&&polygon.setShape({points:points,stackedOnPoints:stackedOnPoints})))}else showSymbol&&symbolDraw.updateData(data,{isIgnore:isIgnoreFunc,clipShape:clipShapeForSymbol,disableAnimation:!0,getSymbolPoint:function(idx){return[points[2*idx],points[2*idx+1]]}}),hasAnimation&&this._initSymbolLabelAnimation(data,coordSys,clipShapeForSymbol),step&&(points=turnPointsIntoStep(points,coordSys,step,connectNulls),stackedOnPoints&&(stackedOnPoints=turnPointsIntoStep(stackedOnPoints,coordSys,step,connectNulls))),polyline=this._newPolyline(points),isAreaChart&&(polygon=this._newPolygon(points,stackedOnPoints)),isCoordSysPolar||this._initOrUpdateEndLabel(seriesModel,coordSys,convertToColorString(visualColor)),lineGroup.setClipPath(createLineClipPath(this,coordSys,!0,seriesModel));var emphasisModel=seriesModel.getModel("emphasis"),focus=emphasisModel.get("focus"),blurScope=emphasisModel.get("blurScope"),emphasisDisabled=emphasisModel.get("disabled");(polyline.useStyle(util.defaults(lineStyleModel.getLineStyle(),{fill:"none",stroke:visualColor,lineJoin:"bevel"})),setStatesStylesFromModel(polyline,seriesModel,"lineStyle"),polyline.style.lineWidth>0&&"bolder"===seriesModel.get(["emphasis","lineStyle","width"]))&&(polyline.getState("emphasis").style.lineWidth=+polyline.style.lineWidth+1);getECData(polyline).seriesIndex=seriesModel.seriesIndex,toggleHoverEmphasis(polyline,focus,blurScope,emphasisDisabled);var smooth=getSmooth(seriesModel.get("smooth")),smoothMonotone=seriesModel.get("smoothMonotone");if(polyline.setShape({smooth:smooth,smoothMonotone:smoothMonotone,connectNulls:connectNulls}),polygon){var stackedOnSeries=data.getCalculationInfo("stackedOnSeries"),stackedOnSmooth=0;polygon.useStyle(util.defaults(areaStyleModel.getAreaStyle(),{fill:visualColor,opacity:.7,lineJoin:"bevel",decal:data.getVisual("style").decal})),stackedOnSeries&&(stackedOnSmooth=getSmooth(stackedOnSeries.get("smooth"))),polygon.setShape({smooth:smooth,stackedOnSmooth:stackedOnSmooth,smoothMonotone:smoothMonotone,connectNulls:connectNulls}),setStatesStylesFromModel(polygon,seriesModel,"areaStyle"),getECData(polygon).seriesIndex=seriesModel.seriesIndex,toggleHoverEmphasis(polygon,focus,blurScope,emphasisDisabled)}var changePolyState=function(toState){_this._changePolyState(toState)};data.eachItemGraphicEl((function(el){el&&(el.onHoverStateChange=changePolyState)})),this._polyline.onHoverStateChange=changePolyState,this._data=data,this._coordSys=coordSys,this._stackedOnPoints=stackedOnPoints,this._points=points,this._step=step,this._valueOrigin=valueOrigin,seriesModel.get("triggerLineEvent")&&(this.packEventData(seriesModel,polyline),polygon&&this.packEventData(seriesModel,polygon))},LineView.prototype.packEventData=function(seriesModel,el){getECData(el).eventData={componentType:"series",componentSubType:"line",componentIndex:seriesModel.componentIndex,seriesIndex:seriesModel.seriesIndex,seriesName:seriesModel.name,seriesType:"line"}},LineView.prototype.highlight=function(seriesModel,ecModel,api,payload){var data=seriesModel.getData(),dataIndex=queryDataIndex(data,payload);if(this._changePolyState("emphasis"),!(dataIndex instanceof Array)&&null!=dataIndex&&dataIndex>=0){var points=data.getLayout("points"),symbol=data.getItemGraphicEl(dataIndex);if(!symbol){var x=points[2*dataIndex],y=points[2*dataIndex+1];if(isNaN(x)||isNaN(y))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(x,y))return;var zlevel=seriesModel.get("zlevel"),z=seriesModel.get("z");(symbol=new helper_Symbol(data,dataIndex)).x=x,symbol.y=y,symbol.setZ(zlevel,z);var symbolLabel=symbol.getSymbolPath().getTextContent();symbolLabel&&(symbolLabel.zlevel=zlevel,symbolLabel.z=z,symbolLabel.z2=this._polyline.z2+1),symbol.__temp=!0,data.setItemGraphicEl(dataIndex,symbol),symbol.stopSymbolAnimation(!0),this.group.add(symbol)}symbol.highlight()}else Chart.prototype.highlight.call(this,seriesModel,ecModel,api,payload)},LineView.prototype.downplay=function(seriesModel,ecModel,api,payload){var data=seriesModel.getData(),dataIndex=queryDataIndex(data,payload);if(this._changePolyState("normal"),null!=dataIndex&&dataIndex>=0){var symbol=data.getItemGraphicEl(dataIndex);symbol&&(symbol.__temp?(data.setItemGraphicEl(dataIndex,null),this.group.remove(symbol)):symbol.downplay())}else Chart.prototype.downplay.call(this,seriesModel,ecModel,api,payload)},LineView.prototype._changePolyState=function(toState){var polygon=this._polygon;setStatesFlag(this._polyline,toState),polygon&&setStatesFlag(polygon,toState)},LineView.prototype._newPolyline=function(points){var polyline=this._polyline;return polyline&&this._lineGroup.remove(polyline),polyline=new poly_ECPolyline({shape:{points:points},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(polyline),this._polyline=polyline,polyline},LineView.prototype._newPolygon=function(points,stackedOnPoints){var polygon=this._polygon;return polygon&&this._lineGroup.remove(polygon),polygon=new poly_ECPolygon({shape:{points:points,stackedOnPoints:stackedOnPoints},segmentIgnoreThreshold:2}),this._lineGroup.add(polygon),this._polygon=polygon,polygon},LineView.prototype._initSymbolLabelAnimation=function(data,coordSys,clipShape){var isHorizontalOrRadial,isCoordSysPolar,baseAxis=coordSys.getBaseAxis(),isAxisInverse=baseAxis.inverse;"cartesian2d"===coordSys.type?(isHorizontalOrRadial=baseAxis.isHorizontal(),isCoordSysPolar=!1):"polar"===coordSys.type&&(isHorizontalOrRadial="angle"===baseAxis.dim,isCoordSysPolar=!0);var seriesModel=data.hostModel,seriesDuration=seriesModel.get("animationDuration");util.isFunction(seriesDuration)&&(seriesDuration=seriesDuration(null));var seriesDalay=seriesModel.get("animationDelay")||0,seriesDalayValue=util.isFunction(seriesDalay)?seriesDalay(null):seriesDalay;data.eachItemGraphicEl((function(symbol,idx){var el=symbol;if(el){var point=[symbol.x,symbol.y],start=void 0,end=void 0,current=void 0;if(clipShape)if(isCoordSysPolar){var polarClip=clipShape,coord=coordSys.pointToCoord(point);isHorizontalOrRadial?(start=polarClip.startAngle,end=polarClip.endAngle,current=-coord[1]/180*Math.PI):(start=polarClip.r0,end=polarClip.r,current=coord[0])}else{var gridClip=clipShape;isHorizontalOrRadial?(start=gridClip.x,end=gridClip.x+gridClip.width,current=symbol.x):(start=gridClip.y+gridClip.height,end=gridClip.y,current=symbol.y)}var ratio=end===start?0:(current-start)/(end-start);isAxisInverse&&(ratio=1-ratio);var delay=util.isFunction(seriesDalay)?seriesDalay(idx):seriesDuration*ratio+seriesDalayValue,symbolPath=el.getSymbolPath(),text=symbolPath.getTextContent();el.attr({scaleX:0,scaleY:0}),el.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:delay}),text&&text.animateFrom({style:{opacity:0}},{duration:300,delay:delay}),symbolPath.disableLabelAnimation=!0}}))},LineView.prototype._initOrUpdateEndLabel=function(seriesModel,coordSys,inheritColor){var endLabelModel=seriesModel.getModel("endLabel");if(anyStateShowEndLabel(seriesModel)){var data_2=seriesModel.getData(),polyline=this._polyline,points=data_2.getLayout("points");if(!points)return polyline.removeTextContent(),void(this._endLabel=null);var endLabel=this._endLabel;endLabel||((endLabel=this._endLabel=new Text({z2:200})).ignoreClip=!0,polyline.setTextContent(this._endLabel),polyline.disableLabelAnimation=!0);var dataIndex=function getLastIndexNotNull(points){for(var x,y,len=points.length/2;len>0&&(x=points[2*len-2],y=points[2*len-1],isNaN(x)||isNaN(y));len--);return len-1}(points);dataIndex>=0&&(setLabelStyle(polyline,getLabelStatesModels(seriesModel,"endLabel"),{inheritColor:inheritColor,labelFetcher:seriesModel,labelDataIndex:dataIndex,defaultText:function(dataIndex,opt,interpolatedValue){return null!=interpolatedValue?getDefaultInterpolatedLabel(data_2,interpolatedValue):getDefaultLabel(data_2,dataIndex)},enableTextSetter:!0},function getEndLabelStateSpecified(endLabelModel,coordSys){var baseAxis=coordSys.getBaseAxis(),isHorizontal=baseAxis.isHorizontal(),isBaseInversed=baseAxis.inverse,align=isHorizontal?isBaseInversed?"right":"left":"center",verticalAlign=isHorizontal?"middle":isBaseInversed?"top":"bottom";return{normal:{align:endLabelModel.get("align")||align,verticalAlign:endLabelModel.get("verticalAlign")||verticalAlign}}}(endLabelModel,coordSys)),polyline.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},LineView.prototype._endLabelOnDuring=function(percent,clipRect,data,animationRecord,valueAnimation,endLabelModel,coordSys){var endLabel=this._endLabel,polyline=this._polyline;if(endLabel){percent<1&&null==animationRecord.originalX&&(animationRecord.originalX=endLabel.x,animationRecord.originalY=endLabel.y);var points=data.getLayout("points"),seriesModel=data.hostModel,connectNulls=seriesModel.get("connectNulls"),precision=endLabelModel.get("precision"),distance=endLabelModel.get("distance")||0,baseAxis=coordSys.getBaseAxis(),isHorizontal=baseAxis.isHorizontal(),isBaseInversed=baseAxis.inverse,clipShape=clipRect.shape,xOrY=isBaseInversed?isHorizontal?clipShape.x:clipShape.y+clipShape.height:isHorizontal?clipShape.x+clipShape.width:clipShape.y,distanceX=(isHorizontal?distance:0)*(isBaseInversed?-1:1),distanceY=(isHorizontal?0:-distance)*(isBaseInversed?-1:1),dim=isHorizontal?"x":"y",dataIndexRange=function getIndexRange(points,xOrY,dim){for(var a,b,len=points.length/2,dimIdx="x"===dim?0:1,prevIndex=0,nextIndex=-1,i=0;i<len;i++)if(b=points[2*i+dimIdx],!isNaN(b)&&!isNaN(points[2*i+1-dimIdx]))if(0!==i){if(a<=xOrY&&b>=xOrY||a>=xOrY&&b<=xOrY){nextIndex=i;break}prevIndex=i,a=b}else a=b;return{range:[prevIndex,nextIndex],t:(xOrY-a)/(b-a)}}(points,xOrY,dim),indices=dataIndexRange.range,diff=indices[1]-indices[0],value=void 0;if(diff>=1){if(diff>1&&!connectNulls){var pt=getPointAtIndex(points,indices[0]);endLabel.attr({x:pt[0]+distanceX,y:pt[1]+distanceY}),valueAnimation&&(value=seriesModel.getRawValue(indices[0]))}else{(pt=polyline.getPointOn(xOrY,dim))&&endLabel.attr({x:pt[0]+distanceX,y:pt[1]+distanceY});var startValue=seriesModel.getRawValue(indices[0]),endValue=seriesModel.getRawValue(indices[1]);valueAnimation&&(value=interpolateRawValues(data,precision,startValue,endValue,dataIndexRange.t))}animationRecord.lastFrameIndex=indices[0]}else{var idx=1===percent||animationRecord.lastFrameIndex>0?indices[0]:0;pt=getPointAtIndex(points,idx);valueAnimation&&(value=seriesModel.getRawValue(idx)),endLabel.attr({x:pt[0]+distanceX,y:pt[1]+distanceY})}valueAnimation&&labelInner(endLabel).setLabelText(value)}},LineView.prototype._doUpdateAnimation=function(data,stackedOnPoints,coordSys,api,step,valueOrigin,connectNulls){var polyline=this._polyline,polygon=this._polygon,seriesModel=data.hostModel,diff=function lineAnimationDiff(oldData,newData,oldStackedOnPoints,newStackedOnPoints,oldCoordSys,newCoordSys,oldValueOrigin,newValueOrigin){for(var diff=function diffData(oldData,newData){var diffResult=[];return newData.diff(oldData).add((function(idx){diffResult.push({cmd:"+",idx:idx})})).update((function(newIdx,oldIdx){diffResult.push({cmd:"=",idx:oldIdx,idx1:newIdx})})).remove((function(idx){diffResult.push({cmd:"-",idx:idx})})).execute(),diffResult}(oldData,newData),currPoints=[],nextPoints=[],currStackedPoints=[],nextStackedPoints=[],status=[],sortedIndices=[],rawIndices=[],newDataOldCoordInfo=prepareDataCoordInfo(oldCoordSys,newData,oldValueOrigin),oldPoints=oldData.getLayout("points")||[],newPoints=newData.getLayout("points")||[],i=0;i<diff.length;i++){var diffItem=diff[i],pointAdded=!0,oldIdx2=void 0,newIdx2=void 0;switch(diffItem.cmd){case"=":oldIdx2=2*diffItem.idx,newIdx2=2*diffItem.idx1;var currentX=oldPoints[oldIdx2],currentY=oldPoints[oldIdx2+1],nextX=newPoints[newIdx2],nextY=newPoints[newIdx2+1];(isNaN(currentX)||isNaN(currentY))&&(currentX=nextX,currentY=nextY),currPoints.push(currentX,currentY),nextPoints.push(nextX,nextY),currStackedPoints.push(oldStackedOnPoints[oldIdx2],oldStackedOnPoints[oldIdx2+1]),nextStackedPoints.push(newStackedOnPoints[newIdx2],newStackedOnPoints[newIdx2+1]),rawIndices.push(newData.getRawIndex(diffItem.idx1));break;case"+":var newIdx=diffItem.idx,newDataDimsForPoint=newDataOldCoordInfo.dataDimsForPoint,oldPt=oldCoordSys.dataToPoint([newData.get(newDataDimsForPoint[0],newIdx),newData.get(newDataDimsForPoint[1],newIdx)]);newIdx2=2*newIdx,currPoints.push(oldPt[0],oldPt[1]),nextPoints.push(newPoints[newIdx2],newPoints[newIdx2+1]);var stackedOnPoint=getStackedOnPoint(newDataOldCoordInfo,oldCoordSys,newData,newIdx);currStackedPoints.push(stackedOnPoint[0],stackedOnPoint[1]),nextStackedPoints.push(newStackedOnPoints[newIdx2],newStackedOnPoints[newIdx2+1]),rawIndices.push(newData.getRawIndex(newIdx));break;case"-":pointAdded=!1}pointAdded&&(status.push(diffItem),sortedIndices.push(sortedIndices.length))}sortedIndices.sort((function(a,b){return rawIndices[a]-rawIndices[b]}));var len=currPoints.length,sortedCurrPoints=createFloat32Array(len),sortedNextPoints=createFloat32Array(len),sortedCurrStackedPoints=createFloat32Array(len),sortedNextStackedPoints=createFloat32Array(len),sortedStatus=[];for(i=0;i<sortedIndices.length;i++){var idx=sortedIndices[i],i2=2*i,idx2=2*idx;sortedCurrPoints[i2]=currPoints[idx2],sortedCurrPoints[i2+1]=currPoints[idx2+1],sortedNextPoints[i2]=nextPoints[idx2],sortedNextPoints[i2+1]=nextPoints[idx2+1],sortedCurrStackedPoints[i2]=currStackedPoints[idx2],sortedCurrStackedPoints[i2+1]=currStackedPoints[idx2+1],sortedNextStackedPoints[i2]=nextStackedPoints[idx2],sortedNextStackedPoints[i2+1]=nextStackedPoints[idx2+1],sortedStatus[i]=status[idx]}return{current:sortedCurrPoints,next:sortedNextPoints,stackedOnCurrent:sortedCurrStackedPoints,stackedOnNext:sortedNextStackedPoints,status:sortedStatus}}(this._data,data,this._stackedOnPoints,stackedOnPoints,this._coordSys,0,this._valueOrigin),current=diff.current,stackedOnCurrent=diff.stackedOnCurrent,next=diff.next,stackedOnNext=diff.stackedOnNext;if(step&&(current=turnPointsIntoStep(diff.current,coordSys,step,connectNulls),stackedOnCurrent=turnPointsIntoStep(diff.stackedOnCurrent,coordSys,step,connectNulls),next=turnPointsIntoStep(diff.next,coordSys,step,connectNulls),stackedOnNext=turnPointsIntoStep(diff.stackedOnNext,coordSys,step,connectNulls)),getBoundingDiff(current,next)>3e3||polygon&&getBoundingDiff(stackedOnCurrent,stackedOnNext)>3e3)return polyline.stopAnimation(),polyline.setShape({points:next}),void(polygon&&(polygon.stopAnimation(),polygon.setShape({points:next,stackedOnPoints:stackedOnNext})));polyline.shape.__points=diff.current,polyline.shape.points=current;var target={shape:{points:next}};diff.current!==current&&(target.shape.__points=diff.next),polyline.stopAnimation(),updateProps(polyline,target,seriesModel),polygon&&(polygon.setShape({points:current,stackedOnPoints:stackedOnCurrent}),polygon.stopAnimation(),updateProps(polygon,{shape:{stackedOnPoints:stackedOnNext}},seriesModel),polyline.shape.points!==polygon.shape.points&&(polygon.shape.points=polyline.shape.points));for(var updatedDataInfo=[],diffStatus=diff.status,i=0;i<diffStatus.length;i++){if("="===diffStatus[i].cmd){var el=data.getItemGraphicEl(diffStatus[i].idx1);el&&updatedDataInfo.push({el:el,ptIdx:i})}}polyline.animators&&polyline.animators.length&&polyline.animators[0].during((function(){polygon&&polygon.dirtyShape();for(var points=polyline.shape.__points,i=0;i<updatedDataInfo.length;i++){var el=updatedDataInfo[i].el,offset=2*updatedDataInfo[i].ptIdx;el.x=points[offset],el.y=points[offset+1],el.markRedraw()}}))},LineView.prototype.remove=function(ecModel){var group=this.group,oldData=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),oldData&&oldData.eachItemGraphicEl((function(el,idx){el.__temp&&(group.remove(el),oldData.setItemGraphicEl(idx,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},LineView.type="line",LineView}(Chart),line_LineView=LineView_LineView;function pointsLayout(seriesType,forceStoreInTypedArray){return{seriesType:seriesType,plan:createRenderPlanner(),reset:function(seriesModel){var data=seriesModel.getData(),coordSys=seriesModel.coordinateSystem,pipelineContext=seriesModel.pipelineContext,useTypedArray=forceStoreInTypedArray||pipelineContext.large;if(coordSys){var dims=Object(util.map)(coordSys.dimensions,(function(dim){return data.mapDimension(dim)})).slice(0,2),dimLen=dims.length,stackResultDim=data.getCalculationInfo("stackResultDimension");isDimensionStacked(data,dims[0])&&(dims[0]=stackResultDim),isDimensionStacked(data,dims[1])&&(dims[1]=stackResultDim);var store=data.getStore(),dimIdx0=data.getDimensionIndex(dims[0]),dimIdx1=data.getDimensionIndex(dims[1]);return dimLen&&{progress:function(params,data){for(var segCount=params.end-params.start,points=useTypedArray&&createFloat32Array(segCount*dimLen),tmpIn=[],tmpOut=[],i=params.start,offset=0;i<params.end;i++){var point=void 0;if(1===dimLen){var x=store.get(dimIdx0,i);point=coordSys.dataToPoint(x,null,tmpOut)}else tmpIn[0]=store.get(dimIdx0,i),tmpIn[1]=store.get(dimIdx1,i),point=coordSys.dataToPoint(tmpIn,null,tmpOut);useTypedArray?(points[offset++]=point[0],points[offset++]=point[1]):data.setItemLayout(i,point.slice())}useTypedArray&&data.setLayout("points",points)}}}}}}var samplers={average:function(frame){for(var sum=0,count=0,i=0;i<frame.length;i++)isNaN(frame[i])||(sum+=frame[i],count++);return 0===count?NaN:sum/count},sum:function(frame){for(var sum=0,i=0;i<frame.length;i++)sum+=frame[i]||0;return sum},max:function(frame){for(var max=-1/0,i=0;i<frame.length;i++)frame[i]>max&&(max=frame[i]);return isFinite(max)?max:NaN},min:function(frame){for(var min=1/0,i=0;i<frame.length;i++)frame[i]<min&&(min=frame[i]);return isFinite(min)?min:NaN},nearest:function(frame){return frame[0]}},indexSampler=function(frame){return Math.round(frame.length/2)};function dataSample(seriesType){return{seriesType:seriesType,reset:function(seriesModel,ecModel,api){var data=seriesModel.getData(),sampling=seriesModel.get("sampling"),coordSys=seriesModel.coordinateSystem,count=data.count();if(count>10&&"cartesian2d"===coordSys.type&&sampling){var baseAxis=coordSys.getBaseAxis(),valueAxis=coordSys.getOtherAxis(baseAxis),extent=baseAxis.getExtent(),dpr=api.getDevicePixelRatio(),size=Math.abs(extent[1]-extent[0])*(dpr||1),rate=Math.round(count/size);if(isFinite(rate)&&rate>1){"lttb"===sampling&&seriesModel.setData(data.lttbDownSample(data.mapDimension(valueAxis.dim),1/rate));var sampler=void 0;Object(util.isString)(sampling)?sampler=samplers[sampling]:Object(util.isFunction)(sampling)&&(sampler=sampling),sampler&&seriesModel.setData(data.downSample(data.mapDimension(valueAxis.dim),1/rate,sampler,indexSampler))}}}}}var BaseBarSeries_BaseBarSeriesModel=function(_super){function BaseBarSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=BaseBarSeriesModel.type,_this}return __extends(BaseBarSeriesModel,_super),BaseBarSeriesModel.prototype.getInitialData=function(option,ecModel){return helper_createSeriesData(null,this,{useEncodeDefaulter:!0})},BaseBarSeriesModel.prototype.getMarkerPosition=function(value){var coordSys=this.coordinateSystem;if(coordSys&&coordSys.clampData){var pt=coordSys.dataToPoint(coordSys.clampData(value)),data=this.getData(),offset=data.getLayout("offset"),size=data.getLayout("size");return pt[coordSys.getBaseAxis().isHorizontal()?0:1]+=offset+size/2,pt}return[NaN,NaN]},BaseBarSeriesModel.type="series.__base_bar__",BaseBarSeriesModel.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},BaseBarSeriesModel}(Series);Series.registerClass(BaseBarSeries_BaseBarSeriesModel);var BaseBarSeries=BaseBarSeries_BaseBarSeriesModel,BarSeries_BarSeriesModel=function(_super){function BarSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=BarSeriesModel.type,_this}return __extends(BarSeriesModel,_super),BarSeriesModel.prototype.getInitialData=function(){return helper_createSeriesData(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},BarSeriesModel.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},BarSeriesModel.prototype.getProgressiveThreshold=function(){var progressiveThreshold=this.get("progressiveThreshold"),largeThreshold=this.get("largeThreshold");return largeThreshold>progressiveThreshold&&(progressiveThreshold=largeThreshold),progressiveThreshold},BarSeriesModel.prototype.brushSelector=function(dataIndex,data,selectors){return selectors.rect(data.getItemLayout(dataIndex))},BarSeriesModel.type="series.bar",BarSeriesModel.dependencies=["grid","polar"],BarSeriesModel.defaultOption=inheritDefaultOption(BaseBarSeries.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),BarSeriesModel}(BaseBarSeries),BarSeries=BarSeries_BarSeriesModel,SausageShape=function SausageShape(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},sausage_SausagePath=function(_super){function SausagePath(opts){var _this=_super.call(this,opts)||this;return _this.type="sausage",_this}return __extends(SausagePath,_super),SausagePath.prototype.getDefaultShape=function(){return new SausageShape},SausagePath.prototype.buildPath=function(ctx,shape){var cx=shape.cx,cy=shape.cy,r0=Math.max(shape.r0||0,0),r=Math.max(shape.r,0),dr=.5*(r-r0),rCenter=r0+dr,startAngle=shape.startAngle,endAngle=shape.endAngle,clockwise=shape.clockwise,PI2=2*Math.PI,lessThanCircle=clockwise?endAngle-startAngle<PI2:startAngle-endAngle<PI2;lessThanCircle||(startAngle=endAngle-(clockwise?PI2:-PI2));var unitStartX=Math.cos(startAngle),unitStartY=Math.sin(startAngle),unitEndX=Math.cos(endAngle),unitEndY=Math.sin(endAngle);lessThanCircle?(ctx.moveTo(unitStartX*r0+cx,unitStartY*r0+cy),ctx.arc(unitStartX*rCenter+cx,unitStartY*rCenter+cy,dr,-Math.PI+startAngle,startAngle,!clockwise)):ctx.moveTo(unitStartX*r+cx,unitStartY*r+cy),ctx.arc(cx,cy,r,startAngle,endAngle,!clockwise),ctx.arc(unitEndX*rCenter+cx,unitEndY*rCenter+cy,dr,endAngle-2*Math.PI,endAngle-Math.PI,!clockwise),0!==r0&&ctx.arc(cx,cy,r0,endAngle,startAngle,clockwise)},SausagePath}(graphic_Path),sausage=sausage_SausagePath;function adjustAngleDistanceX(angle,distance,isEnd){return distance*Math.sin(angle)*(isEnd?-1:1)}function adjustAngleDistanceY(angle,distance,isEnd){return distance*Math.cos(angle)*(isEnd?1:-1)}var BarView_mathMax=Math.max,BarView_mathMin=Math.min;var BarView_BarView=function(_super){function BarView(){var _this=_super.call(this)||this;return _this.type=BarView.type,_this._isFirstFrame=!0,_this}return __extends(BarView,_super),BarView.prototype.render=function(seriesModel,ecModel,api,payload){this._model=seriesModel,this._removeOnRenderedListener(api),this._updateDrawMode(seriesModel);var coordinateSystemType=seriesModel.get("coordinateSystem");("cartesian2d"===coordinateSystemType||"polar"===coordinateSystemType)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(seriesModel,ecModel,api):this._renderNormal(seriesModel,ecModel,api,payload))},BarView.prototype.incrementalPrepareRender=function(seriesModel){this._clear(),this._updateDrawMode(seriesModel),this._updateLargeClip(seriesModel)},BarView.prototype.incrementalRender=function(params,seriesModel){this._progressiveEls=[],this._incrementalRenderLarge(params,seriesModel)},BarView.prototype.eachRendered=function(cb){traverseElements(this._progressiveEls||this.group,cb)},BarView.prototype._updateDrawMode=function(seriesModel){var isLargeDraw=seriesModel.pipelineContext.large;null!=this._isLargeDraw&&isLargeDraw===this._isLargeDraw||(this._isLargeDraw=isLargeDraw,this._clear())},BarView.prototype._renderNormal=function(seriesModel,ecModel,api,payload){var isHorizontalOrRadial,group=this.group,data=seriesModel.getData(),oldData=this._data,coord=seriesModel.coordinateSystem,baseAxis=coord.getBaseAxis();"cartesian2d"===coord.type?isHorizontalOrRadial=baseAxis.isHorizontal():"polar"===coord.type&&(isHorizontalOrRadial="angle"===baseAxis.dim);var animationModel=seriesModel.isAnimationEnabled()?seriesModel:null,realtimeSortCfg=function shouldRealtimeSort(seriesModel,coordSys){var realtimeSortOption=seriesModel.get("realtimeSort",!0),baseAxis=coordSys.getBaseAxis();0;if(realtimeSortOption&&"category"===baseAxis.type&&"cartesian2d"===coordSys.type)return{baseAxis:baseAxis,otherAxis:coordSys.getOtherAxis(baseAxis)}}(seriesModel,coord);realtimeSortCfg&&this._enableRealtimeSort(realtimeSortCfg,data,api);var needsClip=seriesModel.get("clip",!0)||realtimeSortCfg,coordSysClipArea=function getClipArea(coord,data){var coordSysClipArea=coord.getArea&&coord.getArea();if(isCoordinateSystemType(coord,"cartesian2d")){var baseAxis=coord.getBaseAxis();if("category"!==baseAxis.type||!baseAxis.onBand){var expandWidth=data.getLayout("bandWidth");baseAxis.isHorizontal()?(coordSysClipArea.x-=expandWidth,coordSysClipArea.width+=2*expandWidth):(coordSysClipArea.y-=expandWidth,coordSysClipArea.height+=2*expandWidth)}}return coordSysClipArea}(coord,data);group.removeClipPath();var roundCap=seriesModel.get("roundCap",!0),drawBackground=seriesModel.get("showBackground",!0),backgroundModel=seriesModel.getModel("backgroundStyle"),barBorderRadius=backgroundModel.get("borderRadius")||0,bgEls=[],oldBgEls=this._backgroundEls,isInitSort=payload&&payload.isInitSort,isChangeOrder=payload&&"changeAxisOrder"===payload.type;function createBackground(dataIndex){var bgLayout=getLayout[coord.type](data,dataIndex),bgEl=function createBackgroundEl(coord,isHorizontalOrRadial,layout){return new("polar"===coord.type?shape_Sector:shape_Rect)({shape:createBackgroundShape(isHorizontalOrRadial,layout,coord),silent:!0,z2:0})}(coord,isHorizontalOrRadial,bgLayout);return bgEl.useStyle(backgroundModel.getItemStyle()),"cartesian2d"===coord.type&&bgEl.setShape("r",barBorderRadius),bgEls[dataIndex]=bgEl,bgEl}data.diff(oldData).add((function(dataIndex){var itemModel=data.getItemModel(dataIndex),layout=getLayout[coord.type](data,dataIndex,itemModel);if(drawBackground&&createBackground(dataIndex),data.hasValue(dataIndex)&&isValidLayout[coord.type](layout)){var isClipped=!1;needsClip&&(isClipped=BarView_clip[coord.type](coordSysClipArea,layout));var el=elementCreator[coord.type](seriesModel,data,dataIndex,layout,isHorizontalOrRadial,animationModel,baseAxis.model,!1,roundCap);realtimeSortCfg&&(el.forceLabelAnimation=!0),updateStyle(el,data,dataIndex,itemModel,layout,seriesModel,isHorizontalOrRadial,"polar"===coord.type),isInitSort?el.attr({shape:layout}):realtimeSortCfg?updateRealtimeAnimation(realtimeSortCfg,animationModel,el,layout,dataIndex,isHorizontalOrRadial,!1,!1):initProps(el,{shape:layout},seriesModel,dataIndex),data.setItemGraphicEl(dataIndex,el),group.add(el),el.ignore=isClipped}})).update((function(newIndex,oldIndex){var itemModel=data.getItemModel(newIndex),layout=getLayout[coord.type](data,newIndex,itemModel);if(drawBackground){var bgEl=void 0;0===oldBgEls.length?bgEl=createBackground(oldIndex):((bgEl=oldBgEls[oldIndex]).useStyle(backgroundModel.getItemStyle()),"cartesian2d"===coord.type&&bgEl.setShape("r",barBorderRadius),bgEls[newIndex]=bgEl);var bgLayout=getLayout[coord.type](data,newIndex);updateProps(bgEl,{shape:createBackgroundShape(isHorizontalOrRadial,bgLayout,coord)},animationModel,newIndex)}var el=oldData.getItemGraphicEl(oldIndex);if(data.hasValue(newIndex)&&isValidLayout[coord.type](layout)){var isClipped=!1;if(needsClip&&(isClipped=BarView_clip[coord.type](coordSysClipArea,layout))&&group.remove(el),el?saveOldStyle(el):el=elementCreator[coord.type](seriesModel,data,newIndex,layout,isHorizontalOrRadial,animationModel,baseAxis.model,!!el,roundCap),realtimeSortCfg&&(el.forceLabelAnimation=!0),isChangeOrder){var textEl=el.getTextContent();if(textEl){var labelInnerStore=labelInner(textEl);null!=labelInnerStore.prevValue&&(labelInnerStore.prevValue=labelInnerStore.value)}}else updateStyle(el,data,newIndex,itemModel,layout,seriesModel,isHorizontalOrRadial,"polar"===coord.type);isInitSort?el.attr({shape:layout}):realtimeSortCfg?updateRealtimeAnimation(realtimeSortCfg,animationModel,el,layout,newIndex,isHorizontalOrRadial,!0,isChangeOrder):updateProps(el,{shape:layout},seriesModel,newIndex,null),data.setItemGraphicEl(newIndex,el),el.ignore=isClipped,group.add(el)}else group.remove(el)})).remove((function(dataIndex){var el=oldData.getItemGraphicEl(dataIndex);el&&removeElementWithFadeOut(el,seriesModel,dataIndex)})).execute();var bgGroup=this._backgroundGroup||(this._backgroundGroup=new graphic_Group);bgGroup.removeAll();for(var i=0;i<bgEls.length;++i)bgGroup.add(bgEls[i]);group.add(bgGroup),this._backgroundEls=bgEls,this._data=data},BarView.prototype._renderLarge=function(seriesModel,ecModel,api){this._clear(),createLarge(seriesModel,this.group),this._updateLargeClip(seriesModel)},BarView.prototype._incrementalRenderLarge=function(params,seriesModel){this._removeBackground(),createLarge(seriesModel,this.group,this._progressiveEls,!0)},BarView.prototype._updateLargeClip=function(seriesModel){var clipPath=seriesModel.get("clip",!0)&&createClipPath(seriesModel.coordinateSystem,!1,seriesModel),group=this.group;clipPath?group.setClipPath(clipPath):group.removeClipPath()},BarView.prototype._enableRealtimeSort=function(realtimeSortCfg,data,api){var _this=this;if(data.count()){var baseAxis=realtimeSortCfg.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(data,realtimeSortCfg,api),this._isFirstFrame=!1;else{var orderMapping_1=function(idx){var el=data.getItemGraphicEl(idx),shape=el&&el.shape;return shape&&Math.abs(baseAxis.isHorizontal()?shape.height:shape.width)||0};this._onRendered=function(){_this._updateSortWithinSameData(data,orderMapping_1,baseAxis,api)},api.getZr().on("rendered",this._onRendered)}}},BarView.prototype._dataSort=function(data,baseAxis,orderMapping){var info=[];return data.each(data.mapDimension(baseAxis.dim),(function(ordinalNumber,dataIdx){var mappedValue=orderMapping(dataIdx);mappedValue=null==mappedValue?NaN:mappedValue,info.push({dataIndex:dataIdx,mappedValue:mappedValue,ordinalNumber:ordinalNumber})})),info.sort((function(a,b){return b.mappedValue-a.mappedValue})),{ordinalNumbers:Object(util.map)(info,(function(item){return item.ordinalNumber}))}},BarView.prototype._isOrderChangedWithinSameData=function(data,orderMapping,baseAxis){for(var scale=baseAxis.scale,ordinalDataDim=data.mapDimension(baseAxis.dim),lastValue=Number.MAX_VALUE,tickNum=0,len=scale.getOrdinalMeta().categories.length;tickNum<len;++tickNum){var rawIdx=data.rawIndexOf(ordinalDataDim,scale.getRawOrdinalNumber(tickNum)),value=rawIdx<0?Number.MIN_VALUE:orderMapping(data.indexOfRawIndex(rawIdx));if(value>lastValue)return!0;lastValue=value}return!1},BarView.prototype._isOrderDifferentInView=function(orderInfo,baseAxis){for(var scale=baseAxis.scale,extent=scale.getExtent(),tickNum=Math.max(0,extent[0]),tickMax=Math.min(extent[1],scale.getOrdinalMeta().categories.length-1);tickNum<=tickMax;++tickNum)if(orderInfo.ordinalNumbers[tickNum]!==scale.getRawOrdinalNumber(tickNum))return!0},BarView.prototype._updateSortWithinSameData=function(data,orderMapping,baseAxis,api){if(this._isOrderChangedWithinSameData(data,orderMapping,baseAxis)){var sortInfo=this._dataSort(data,baseAxis,orderMapping);this._isOrderDifferentInView(sortInfo,baseAxis)&&(this._removeOnRenderedListener(api),api.dispatchAction({type:"changeAxisOrder",componentType:baseAxis.dim+"Axis",axisId:baseAxis.index,sortInfo:sortInfo}))}},BarView.prototype._dispatchInitSort=function(data,realtimeSortCfg,api){var baseAxis=realtimeSortCfg.baseAxis,sortResult=this._dataSort(data,baseAxis,(function(dataIdx){return data.get(data.mapDimension(realtimeSortCfg.otherAxis.dim),dataIdx)}));api.dispatchAction({type:"changeAxisOrder",componentType:baseAxis.dim+"Axis",isInitSort:!0,axisId:baseAxis.index,sortInfo:sortResult})},BarView.prototype.remove=function(ecModel,api){this._clear(this._model),this._removeOnRenderedListener(api)},BarView.prototype.dispose=function(ecModel,api){this._removeOnRenderedListener(api)},BarView.prototype._removeOnRenderedListener=function(api){this._onRendered&&(api.getZr().off("rendered",this._onRendered),this._onRendered=null)},BarView.prototype._clear=function(model){var group=this.group,data=this._data;model&&model.isAnimationEnabled()&&data&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],data.eachItemGraphicEl((function(el){removeElementWithFadeOut(el,model,getECData(el).dataIndex)}))):group.removeAll(),this._data=null,this._isFirstFrame=!0},BarView.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},BarView.type="bar",BarView}(Chart),BarView_clip={cartesian2d:function(coordSysBoundingRect,layout){var signWidth=layout.width<0?-1:1,signHeight=layout.height<0?-1:1;signWidth<0&&(layout.x+=layout.width,layout.width=-layout.width),signHeight<0&&(layout.y+=layout.height,layout.height=-layout.height);var coordSysX2=coordSysBoundingRect.x+coordSysBoundingRect.width,coordSysY2=coordSysBoundingRect.y+coordSysBoundingRect.height,x=BarView_mathMax(layout.x,coordSysBoundingRect.x),x2=BarView_mathMin(layout.x+layout.width,coordSysX2),y=BarView_mathMax(layout.y,coordSysBoundingRect.y),y2=BarView_mathMin(layout.y+layout.height,coordSysY2),xClipped=x2<x,yClipped=y2<y;return layout.x=xClipped&&x>coordSysX2?x2:x,layout.y=yClipped&&y>coordSysY2?y2:y,layout.width=xClipped?0:x2-x,layout.height=yClipped?0:y2-y,signWidth<0&&(layout.x+=layout.width,layout.width=-layout.width),signHeight<0&&(layout.y+=layout.height,layout.height=-layout.height),xClipped||yClipped},polar:function(coordSysClipArea,layout){var signR=layout.r0<=layout.r?1:-1;if(signR<0){var tmp=layout.r;layout.r=layout.r0,layout.r0=tmp}var r=BarView_mathMin(layout.r,coordSysClipArea.r),r0=BarView_mathMax(layout.r0,coordSysClipArea.r0);layout.r=r,layout.r0=r0;var clipped=r-r0<0;if(signR<0){tmp=layout.r;layout.r=layout.r0,layout.r0=tmp}return clipped}},elementCreator={cartesian2d:function(seriesModel,data,newIndex,layout,isHorizontal,animationModel,axisModel,isUpdate,roundCap){var rect=new shape_Rect({shape:Object(util.extend)({},layout),z2:1});(rect.__dataIndex=newIndex,rect.name="item",animationModel)&&(rect.shape[isHorizontal?"height":"width"]=0);return rect},polar:function(seriesModel,data,newIndex,layout,isRadial,animationModel,axisModel,isUpdate,roundCap){var ShapeClass=!isRadial&&roundCap?sausage:shape_Sector,sector=new ShapeClass({shape:layout,z2:1});sector.name="item";var positionMap=createPolarPositionMapping(isRadial);if(sector.calculateTextPosition=function createSectorCalculateTextPosition(positionMapping,opts){var isRoundCap=(opts=opts||{}).isRoundCap;return function(out,opts,boundingRect){var textPosition=opts.position;if(!textPosition||textPosition instanceof Array)return calculateTextPosition(out,opts,boundingRect);var mappedSectorPosition=positionMapping(textPosition),distance=null!=opts.distance?opts.distance:5,sector=this.shape,cx=sector.cx,cy=sector.cy,r=sector.r,r0=sector.r0,middleR=(r+r0)/2,startAngle=sector.startAngle,endAngle=sector.endAngle,middleAngle=(startAngle+endAngle)/2,extraDist=isRoundCap?Math.abs(r-r0)/2:0,mathCos=Math.cos,mathSin=Math.sin,x=cx+r*mathCos(startAngle),y=cy+r*mathSin(startAngle),textAlign="left",textVerticalAlign="top";switch(mappedSectorPosition){case"startArc":x=cx+(r0-distance)*mathCos(middleAngle),y=cy+(r0-distance)*mathSin(middleAngle),textAlign="center",textVerticalAlign="top";break;case"insideStartArc":x=cx+(r0+distance)*mathCos(middleAngle),y=cy+(r0+distance)*mathSin(middleAngle),textAlign="center",textVerticalAlign="bottom";break;case"startAngle":x=cx+middleR*mathCos(startAngle)+adjustAngleDistanceX(startAngle,distance+extraDist,!1),y=cy+middleR*mathSin(startAngle)+adjustAngleDistanceY(startAngle,distance+extraDist,!1),textAlign="right",textVerticalAlign="middle";break;case"insideStartAngle":x=cx+middleR*mathCos(startAngle)+adjustAngleDistanceX(startAngle,-distance+extraDist,!1),y=cy+middleR*mathSin(startAngle)+adjustAngleDistanceY(startAngle,-distance+extraDist,!1),textAlign="left",textVerticalAlign="middle";break;case"middle":x=cx+middleR*mathCos(middleAngle),y=cy+middleR*mathSin(middleAngle),textAlign="center",textVerticalAlign="middle";break;case"endArc":x=cx+(r+distance)*mathCos(middleAngle),y=cy+(r+distance)*mathSin(middleAngle),textAlign="center",textVerticalAlign="bottom";break;case"insideEndArc":x=cx+(r-distance)*mathCos(middleAngle),y=cy+(r-distance)*mathSin(middleAngle),textAlign="center",textVerticalAlign="top";break;case"endAngle":x=cx+middleR*mathCos(endAngle)+adjustAngleDistanceX(endAngle,distance+extraDist,!0),y=cy+middleR*mathSin(endAngle)+adjustAngleDistanceY(endAngle,distance+extraDist,!0),textAlign="left",textVerticalAlign="middle";break;case"insideEndAngle":x=cx+middleR*mathCos(endAngle)+adjustAngleDistanceX(endAngle,-distance+extraDist,!0),y=cy+middleR*mathSin(endAngle)+adjustAngleDistanceY(endAngle,-distance+extraDist,!0),textAlign="right",textVerticalAlign="middle";break;default:return calculateTextPosition(out,opts,boundingRect)}return(out=out||{}).x=x,out.y=y,out.align=textAlign,out.verticalAlign=textVerticalAlign,out}}(positionMap,{isRoundCap:ShapeClass===sausage}),animationModel){var animateProperty=isRadial?"r":"endAngle",animateTarget={};sector.shape[animateProperty]=isRadial?0:layout.startAngle,animateTarget[animateProperty]=layout[animateProperty],(isUpdate?updateProps:initProps)(sector,{shape:animateTarget},animationModel)}return sector}};function updateRealtimeAnimation(realtimeSortCfg,seriesAnimationModel,el,layout,newIndex,isHorizontal,isUpdate,isChangeOrder){var seriesTarget,axisTarget;isHorizontal?(axisTarget={x:layout.x,width:layout.width},seriesTarget={y:layout.y,height:layout.height}):(axisTarget={y:layout.y,height:layout.height},seriesTarget={x:layout.x,width:layout.width}),isChangeOrder||(isUpdate?updateProps:initProps)(el,{shape:seriesTarget},seriesAnimationModel,newIndex,null),(isUpdate?updateProps:initProps)(el,{shape:axisTarget},seriesAnimationModel?realtimeSortCfg.baseAxis.model:null,newIndex)}function checkPropertiesNotValid(obj,props){for(var i=0;i<props.length;i++)if(!isFinite(obj[props[i]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(layout){return!checkPropertiesNotValid(layout,rectPropties)},polar:function(layout){return!checkPropertiesNotValid(layout,polarPropties)}},getLayout={cartesian2d:function(data,dataIndex,itemModel){var layout=data.getItemLayout(dataIndex),fixedLineWidth=itemModel?function getLineWidth(itemModel,rawLayout){var borderColor=itemModel.get(["itemStyle","borderColor"]);if(!borderColor||"none"===borderColor)return 0;var lineWidth=itemModel.get(["itemStyle","borderWidth"])||0,width=isNaN(rawLayout.width)?Number.MAX_VALUE:Math.abs(rawLayout.width),height=isNaN(rawLayout.height)?Number.MAX_VALUE:Math.abs(rawLayout.height);return Math.min(lineWidth,width,height)}(itemModel,layout):0,signX=layout.width>0?1:-1,signY=layout.height>0?1:-1;return{x:layout.x+signX*fixedLineWidth/2,y:layout.y+signY*fixedLineWidth/2,width:layout.width-signX*fixedLineWidth,height:layout.height-signY*fixedLineWidth}},polar:function(data,dataIndex,itemModel){var layout=data.getItemLayout(dataIndex);return{cx:layout.cx,cy:layout.cy,r0:layout.r0,r:layout.r,startAngle:layout.startAngle,endAngle:layout.endAngle,clockwise:layout.clockwise}}};function createPolarPositionMapping(isRadial){return function(isRadial){var arcOrAngle=isRadial?"Arc":"Angle";return function(position){switch(position){case"start":case"insideStart":case"end":case"insideEnd":return position+arcOrAngle;default:return position}}}(isRadial)}function updateStyle(el,data,dataIndex,itemModel,layout,seriesModel,isHorizontalOrRadial,isPolar){var style=data.getItemVisual(dataIndex,"style");isPolar||el.setShape("r",itemModel.get(["itemStyle","borderRadius"])||0),el.useStyle(style);var cursorStyle=itemModel.getShallow("cursor");cursorStyle&&el.attr("cursor",cursorStyle);var labelPositionOutside=isPolar?isHorizontalOrRadial?layout.r>=layout.r0?"endArc":"startArc":layout.endAngle>=layout.startAngle?"endAngle":"startAngle":isHorizontalOrRadial?layout.height>=0?"bottom":"top":layout.width>=0?"right":"left",labelStatesModels=getLabelStatesModels(itemModel);setLabelStyle(el,labelStatesModels,{labelFetcher:seriesModel,labelDataIndex:dataIndex,defaultText:getDefaultLabel(seriesModel.getData(),dataIndex),inheritColor:style.fill,defaultOpacity:style.opacity,defaultOutsidePosition:labelPositionOutside});var label=el.getTextContent();if(isPolar&&label){var position=itemModel.get(["label","position"]);el.textConfig.inside="middle"===position||null,function setSectorTextRotation(sector,textPosition,positionMapping,rotateType){if(Object(util.isNumber)(rotateType))sector.setTextConfig({rotation:rotateType});else if(Object(util.isArray)(textPosition))sector.setTextConfig({rotation:0});else{var anchorAngle,shape=sector.shape,startAngle=shape.clockwise?shape.startAngle:shape.endAngle,endAngle=shape.clockwise?shape.endAngle:shape.startAngle,middleAngle=(startAngle+endAngle)/2,mappedSectorPosition=positionMapping(textPosition);switch(mappedSectorPosition){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":anchorAngle=middleAngle;break;case"startAngle":case"insideStartAngle":anchorAngle=startAngle;break;case"endAngle":case"insideEndAngle":anchorAngle=endAngle;break;default:return void sector.setTextConfig({rotation:0})}var rotate=1.5*Math.PI-anchorAngle;"middle"===mappedSectorPosition&&rotate>Math.PI/2&&rotate<1.5*Math.PI&&(rotate-=Math.PI),sector.setTextConfig({rotation:rotate})}}(el,"outside"===position?labelPositionOutside:position,createPolarPositionMapping(isHorizontalOrRadial),itemModel.get(["label","rotate"]))}setLabelValueAnimation(label,labelStatesModels,seriesModel.getRawValue(dataIndex),(function(value){return getDefaultInterpolatedLabel(data,value)}));var emphasisModel=itemModel.getModel(["emphasis"]);toggleHoverEmphasis(el,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled")),setStatesStylesFromModel(el,itemModel),function isZeroOnPolar(layout){return null!=layout.startAngle&&null!=layout.endAngle&&layout.startAngle===layout.endAngle}(layout)&&(el.style.fill="none",el.style.stroke="none",Object(util.each)(el.states,(function(state){state.style&&(state.style.fill=state.style.stroke="none")})))}var LagePathShape=function LagePathShape(){},BarView_LargePath=function(_super){function LargePath(opts){var _this=_super.call(this,opts)||this;return _this.type="largeBar",_this}return __extends(LargePath,_super),LargePath.prototype.getDefaultShape=function(){return new LagePathShape},LargePath.prototype.buildPath=function(ctx,shape){for(var points=shape.points,baseDimIdx=this.baseDimIdx,valueDimIdx=1-this.baseDimIdx,startPoint=[],size=[],barWidth=this.barWidth,i=0;i<points.length;i+=3)size[baseDimIdx]=barWidth,size[valueDimIdx]=points[i+2],startPoint[baseDimIdx]=points[i+baseDimIdx],startPoint[valueDimIdx]=points[i+valueDimIdx],ctx.rect(startPoint[0],startPoint[1],size[0],size[1])},LargePath}(graphic_Path);function createLarge(seriesModel,group,progressiveEls,incremental){var data=seriesModel.getData(),baseDimIdx=data.getLayout("valueAxisHorizontal")?1:0,largeDataIndices=data.getLayout("largeDataIndices"),barWidth=data.getLayout("size"),backgroundModel=seriesModel.getModel("backgroundStyle"),bgPoints=data.getLayout("largeBackgroundPoints");if(bgPoints){var bgEl=new BarView_LargePath({shape:{points:bgPoints},incremental:!!incremental,silent:!0,z2:0});bgEl.baseDimIdx=baseDimIdx,bgEl.largeDataIndices=largeDataIndices,bgEl.barWidth=barWidth,bgEl.useStyle(backgroundModel.getItemStyle()),group.add(bgEl),progressiveEls&&progressiveEls.push(bgEl)}var el=new BarView_LargePath({shape:{points:data.getLayout("largePoints")},incremental:!!incremental,z2:1});el.baseDimIdx=baseDimIdx,el.largeDataIndices=largeDataIndices,el.barWidth=barWidth,group.add(el),el.useStyle(data.getVisual("style")),getECData(el).seriesIndex=seriesModel.seriesIndex,seriesModel.get("silent")||(el.on("mousedown",largePathUpdateDataIndex),el.on("mousemove",largePathUpdateDataIndex)),progressiveEls&&progressiveEls.push(el)}var largePathUpdateDataIndex=throttle((function(event){var dataIndex=function largePathFindDataIndex(largePath,x,y){for(var baseDimIdx=largePath.baseDimIdx,valueDimIdx=1-baseDimIdx,points=largePath.shape.points,largeDataIndices=largePath.largeDataIndices,startPoint=[],size=[],barWidth=largePath.barWidth,i=0,len=points.length/3;i<len;i++){var ii=3*i;if(size[baseDimIdx]=barWidth,size[valueDimIdx]=points[ii+2],startPoint[baseDimIdx]=points[ii+baseDimIdx],startPoint[valueDimIdx]=points[ii+valueDimIdx],size[valueDimIdx]<0&&(startPoint[valueDimIdx]+=size[valueDimIdx],size[valueDimIdx]=-size[valueDimIdx]),x>=startPoint[0]&&x<=startPoint[0]+size[0]&&y>=startPoint[1]&&y<=startPoint[1]+size[1])return largeDataIndices[i]}return-1}(this,event.offsetX,event.offsetY);getECData(this).dataIndex=dataIndex>=0?dataIndex:null}),30,!1);function createBackgroundShape(isHorizontalOrRadial,layout,coord){if(isCoordinateSystemType(coord,"cartesian2d")){var rectShape=layout,coordLayout=coord.getArea();return{x:isHorizontalOrRadial?rectShape.x:coordLayout.x,y:isHorizontalOrRadial?coordLayout.y:rectShape.y,width:isHorizontalOrRadial?rectShape.width:coordLayout.width,height:isHorizontalOrRadial?coordLayout.height:rectShape.height}}var sectorShape=layout;return{cx:(coordLayout=coord.getArea()).cx,cy:coordLayout.cy,r0:isHorizontalOrRadial?coordLayout.r0:sectorShape.r0,r:isHorizontalOrRadial?coordLayout.r:sectorShape.r,startAngle:isHorizontalOrRadial?sectorShape.startAngle:0,endAngle:isHorizontalOrRadial?sectorShape.endAngle:2*Math.PI}}var bar_BarView=BarView_BarView;var pieLayout_PI2=2*Math.PI,pieLayout_RADIAN=Math.PI/180;function getViewRect(seriesModel,api){return getLayoutRect(seriesModel.getBoxLayoutParams(),{width:api.getWidth(),height:api.getHeight()})}function getBasicPieLayout(seriesModel,api){var viewRect=getViewRect(seriesModel,api),center=seriesModel.get("center"),radius=seriesModel.get("radius");util.isArray(radius)||(radius=[0,radius]),util.isArray(center)||(center=[center,center]);var width=number_parsePercent(viewRect.width,api.getWidth()),height=number_parsePercent(viewRect.height,api.getHeight()),size=Math.min(width,height);return{cx:number_parsePercent(center[0],width)+viewRect.x,cy:number_parsePercent(center[1],height)+viewRect.y,r0:number_parsePercent(radius[0],size/2),r:number_parsePercent(radius[1],size/2)}}function pieLayout(seriesType,ecModel,api){ecModel.eachSeriesByType(seriesType,(function(seriesModel){var data=seriesModel.getData(),valueDim=data.mapDimension("value"),viewRect=getViewRect(seriesModel,api),_a=getBasicPieLayout(seriesModel,api),cx=_a.cx,cy=_a.cy,r=_a.r,r0=_a.r0,startAngle=-seriesModel.get("startAngle")*pieLayout_RADIAN,minAngle=seriesModel.get("minAngle")*pieLayout_RADIAN,validDataCount=0;data.each(valueDim,(function(value){!isNaN(value)&&validDataCount++}));var sum=data.getSum(valueDim),unitRadian=Math.PI/(sum||validDataCount)*2,clockwise=seriesModel.get("clockwise"),roseType=seriesModel.get("roseType"),stillShowZeroSum=seriesModel.get("stillShowZeroSum"),extent=data.getDataExtent(valueDim);extent[0]=0;var restAngle=pieLayout_PI2,valueSumLargerThanMinAngle=0,currentAngle=startAngle,dir=clockwise?1:-1;if(data.setLayout({viewRect:viewRect,r:r}),data.each(valueDim,(function(value,idx){var angle;if(isNaN(value))data.setItemLayout(idx,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:clockwise,cx:cx,cy:cy,r0:r0,r:roseType?NaN:r});else{(angle="area"!==roseType?0===sum&&stillShowZeroSum?unitRadian:value*unitRadian:pieLayout_PI2/validDataCount)<minAngle?(angle=minAngle,restAngle-=minAngle):valueSumLargerThanMinAngle+=value;var endAngle=currentAngle+dir*angle;data.setItemLayout(idx,{angle:angle,startAngle:currentAngle,endAngle:endAngle,clockwise:clockwise,cx:cx,cy:cy,r0:r0,r:roseType?linearMap(value,extent,[r0,r]):r}),currentAngle=endAngle}})),restAngle<pieLayout_PI2&&validDataCount)if(restAngle<=.001){var angle_1=pieLayout_PI2/validDataCount;data.each(valueDim,(function(value,idx){if(!isNaN(value)){var layout_1=data.getItemLayout(idx);layout_1.angle=angle_1,layout_1.startAngle=startAngle+dir*idx*angle_1,layout_1.endAngle=startAngle+dir*(idx+1)*angle_1}}))}else unitRadian=restAngle/valueSumLargerThanMinAngle,currentAngle=startAngle,data.each(valueDim,(function(value,idx){if(!isNaN(value)){var layout_2=data.getItemLayout(idx),angle=layout_2.angle===minAngle?minAngle:value*unitRadian;layout_2.startAngle=currentAngle,layout_2.endAngle=currentAngle+dir*angle,currentAngle+=dir*angle}}))}))}function dataFilter(seriesType){return{seriesType:seriesType,reset:function(seriesModel,ecModel){var legendModels=ecModel.findComponents({mainType:"legend"});if(legendModels&&legendModels.length){var data=seriesModel.getData();data.filterSelf((function(idx){for(var name=data.getName(idx),i=0;i<legendModels.length;i++)if(!legendModels[i].isSelected(name))return!1;return!0}))}}}}var labelLayout_RADIAN=Math.PI/180;function adjustSingleSide(list,cx,cy,r,dir,viewWidth,viewHeight,viewLeft,viewTop,farthestX){if(!(list.length<2)){for(var len=list.length,i=0;i<len;i++)if("outer"===list[i].position&&"labelLine"===list[i].labelAlignTo){var dx=list[i].label.x-farthestX;list[i].linePoints[1][0]+=dx,list[i].label.x=farthestX}shiftLayoutOnY(list,viewTop,viewTop+viewHeight)&&function recalculateX(items){for(var topSemi={list:[],maxY:0},bottomSemi={list:[],maxY:0},i=0;i<items.length;i++)if("none"===items[i].labelAlignTo){var item=items[i],semi=item.label.y>cy?bottomSemi:topSemi,dy=Math.abs(item.label.y-cy);if(dy>=semi.maxY){var dx=item.label.x-cx-item.len2*dir,rA=r+item.len,rB=Math.abs(dx)<rA?Math.sqrt(dy*dy/(1-dx*dx/rA/rA)):rA;semi.rB=rB,semi.maxY=dy}semi.list.push(item)}recalculateXOnSemiToAlignOnEllipseCurve(topSemi),recalculateXOnSemiToAlignOnEllipseCurve(bottomSemi)}(list)}function recalculateXOnSemiToAlignOnEllipseCurve(semi){for(var rB=semi.rB,rB2=rB*rB,i=0;i<semi.list.length;i++){var item=semi.list[i],dy=Math.abs(item.label.y-cy),rA=r+item.len,rA2=rA*rA,dx=Math.sqrt((1-Math.abs(dy*dy/rB2))*rA2),newX=cx+(dx+item.len2)*dir,deltaX=newX-item.label.x;constrainTextWidth(item,item.targetTextWidth-deltaX*dir,!0),item.label.x=newX}}}function constrainTextWidth(layout,availableWidth,forceRecalculate){if(void 0===forceRecalculate&&(forceRecalculate=!1),null==layout.labelStyleWidth){var label=layout.label,style=label.style,textRect=layout.rect,bgColor=style.backgroundColor,padding=style.padding,paddingH=padding?padding[1]+padding[3]:0,overflow=style.overflow,oldOuterWidth=textRect.width+(bgColor?0:paddingH);if(availableWidth<oldOuterWidth||forceRecalculate){var oldHeight=textRect.height;if(overflow&&overflow.match("break")){label.setStyle("backgroundColor",null),label.setStyle("width",availableWidth-paddingH);var innerRect=label.getBoundingRect();label.setStyle("width",Math.ceil(innerRect.width)),label.setStyle("backgroundColor",bgColor)}else{var availableInnerWidth=availableWidth-paddingH,newWidth=availableWidth<oldOuterWidth?availableInnerWidth:forceRecalculate?availableInnerWidth>layout.unconstrainedWidth?null:availableInnerWidth:null;label.setStyle("width",newWidth)}var newRect=label.getBoundingRect();textRect.width=newRect.width;var margin=(label.style.margin||0)+2.1;textRect.height=newRect.height+margin,textRect.y-=(textRect.height-oldHeight)/2}}}function isPositionCenter(sectorShape){return"center"===sectorShape.position}function pieLabelLayout(seriesModel){var cx,cy,data=seriesModel.getData(),labelLayoutList=[],hasLabelRotate=!1,minShowLabelRadian=(seriesModel.get("minShowLabelAngle")||0)*labelLayout_RADIAN,viewRect=data.getLayout("viewRect"),r=data.getLayout("r"),viewWidth=viewRect.width,viewLeft=viewRect.x,viewTop=viewRect.y,viewHeight=viewRect.height;function setNotShow(el){el.ignore=!0}data.each((function(idx){var sector=data.getItemGraphicEl(idx),sectorShape=sector.shape,label=sector.getTextContent(),labelLine=sector.getTextGuideLine(),itemModel=data.getItemModel(idx),labelModel=itemModel.getModel("label"),labelPosition=labelModel.get("position")||itemModel.get(["emphasis","label","position"]),labelDistance=labelModel.get("distanceToLabelLine"),labelAlignTo=labelModel.get("alignTo"),edgeDistance=number_parsePercent(labelModel.get("edgeDistance"),viewWidth),bleedMargin=labelModel.get("bleedMargin"),labelLineModel=itemModel.getModel("labelLine"),labelLineLen=labelLineModel.get("length");labelLineLen=number_parsePercent(labelLineLen,viewWidth);var labelLineLen2=labelLineModel.get("length2");if(labelLineLen2=number_parsePercent(labelLineLen2,viewWidth),Math.abs(sectorShape.endAngle-sectorShape.startAngle)<minShowLabelRadian)return Object(util.each)(label.states,setNotShow),void(label.ignore=!0);if(function isLabelShown(label){if(!label.ignore)return!0;for(var key in label.states)if(!1===label.states[key].ignore)return!0;return!1}(label)){var textX,textY,linePoints,textAlign,midAngle=(sectorShape.startAngle+sectorShape.endAngle)/2,nx=Math.cos(midAngle),ny=Math.sin(midAngle);cx=sectorShape.cx,cy=sectorShape.cy;var isLabelInside="inside"===labelPosition||"inner"===labelPosition;if("center"===labelPosition)textX=sectorShape.cx,textY=sectorShape.cy,textAlign="center";else{var x1=(isLabelInside?(sectorShape.r+sectorShape.r0)/2*nx:sectorShape.r*nx)+cx,y1=(isLabelInside?(sectorShape.r+sectorShape.r0)/2*ny:sectorShape.r*ny)+cy;if(textX=x1+3*nx,textY=y1+3*ny,!isLabelInside){var x2=x1+nx*(labelLineLen+r-sectorShape.r),y2=y1+ny*(labelLineLen+r-sectorShape.r),x3=x2+(nx<0?-1:1)*labelLineLen2;textX="edge"===labelAlignTo?nx<0?viewLeft+edgeDistance:viewLeft+viewWidth-edgeDistance:x3+(nx<0?-labelDistance:labelDistance),textY=y2,linePoints=[[x1,y1],[x2,y2],[x3,y2]]}textAlign=isLabelInside?"center":"edge"===labelAlignTo?nx>0?"right":"left":nx>0?"left":"right"}var PI=Math.PI,labelRotate=0,rotate=labelModel.get("rotate");if(Object(util.isNumber)(rotate))labelRotate=rotate*(PI/180);else if("center"===labelPosition)labelRotate=0;else if("radial"===rotate||!0===rotate){labelRotate=nx<0?-midAngle+PI:-midAngle}else if("tangential"===rotate&&"outside"!==labelPosition&&"outer"!==labelPosition){var rad=Math.atan2(nx,ny);rad<0&&(rad=2*PI+rad),ny>0&&(rad=PI+rad),labelRotate=rad-PI}if(hasLabelRotate=!!labelRotate,label.x=textX,label.y=textY,label.rotation=labelRotate,label.setStyle({verticalAlign:"middle"}),isLabelInside){label.setStyle({align:textAlign});var selectState=label.states.select;selectState&&(selectState.x+=label.x,selectState.y+=label.y)}else{var textRect=label.getBoundingRect().clone();textRect.applyTransform(label.getComputedTransform());var margin=(label.style.margin||0)+2.1;textRect.y-=margin/2,textRect.height+=margin,labelLayoutList.push({label:label,labelLine:labelLine,position:labelPosition,len:labelLineLen,len2:labelLineLen2,minTurnAngle:labelLineModel.get("minTurnAngle"),maxSurfaceAngle:labelLineModel.get("maxSurfaceAngle"),surfaceNormal:new core_Point(nx,ny),linePoints:linePoints,textAlign:textAlign,labelDistance:labelDistance,labelAlignTo:labelAlignTo,edgeDistance:edgeDistance,bleedMargin:bleedMargin,rect:textRect,unconstrainedWidth:textRect.width,labelStyleWidth:label.style.width})}sector.setTextConfig({inside:isLabelInside})}})),!hasLabelRotate&&seriesModel.get("avoidLabelOverlap")&&function avoidOverlap(labelLayoutList,cx,cy,r,viewWidth,viewHeight,viewLeft,viewTop){for(var leftList=[],rightList=[],leftmostX=Number.MAX_VALUE,rightmostX=-Number.MAX_VALUE,i=0;i<labelLayoutList.length;i++){var label=labelLayoutList[i].label;isPositionCenter(labelLayoutList[i])||(label.x<cx?(leftmostX=Math.min(leftmostX,label.x),leftList.push(labelLayoutList[i])):(rightmostX=Math.max(rightmostX,label.x),rightList.push(labelLayoutList[i])))}for(i=0;i<labelLayoutList.length;i++)if(!isPositionCenter(layout=labelLayoutList[i])&&layout.linePoints){if(null!=layout.labelStyleWidth)continue;label=layout.label;var linePoints=layout.linePoints,targetTextWidth=void 0;targetTextWidth="edge"===layout.labelAlignTo?label.x<cx?linePoints[2][0]-layout.labelDistance-viewLeft-layout.edgeDistance:viewLeft+viewWidth-layout.edgeDistance-linePoints[2][0]-layout.labelDistance:"labelLine"===layout.labelAlignTo?label.x<cx?leftmostX-viewLeft-layout.bleedMargin:viewLeft+viewWidth-rightmostX-layout.bleedMargin:label.x<cx?label.x-viewLeft-layout.bleedMargin:viewLeft+viewWidth-label.x-layout.bleedMargin,layout.targetTextWidth=targetTextWidth,constrainTextWidth(layout,targetTextWidth)}for(adjustSingleSide(rightList,cx,cy,r,1,0,viewHeight,0,viewTop,rightmostX),adjustSingleSide(leftList,cx,cy,r,-1,0,viewHeight,0,viewTop,leftmostX),i=0;i<labelLayoutList.length;i++){var layout;if(!isPositionCenter(layout=labelLayoutList[i])&&layout.linePoints){label=layout.label,linePoints=layout.linePoints;var isAlignToEdge="edge"===layout.labelAlignTo,padding=label.style.padding,paddingH=padding?padding[1]+padding[3]:0,extraPaddingH=label.style.backgroundColor?0:paddingH,realTextWidth=layout.rect.width+extraPaddingH,dist=linePoints[1][0]-linePoints[2][0];isAlignToEdge?label.x<cx?linePoints[2][0]=viewLeft+layout.edgeDistance+realTextWidth+layout.labelDistance:linePoints[2][0]=viewLeft+viewWidth-layout.edgeDistance-realTextWidth-layout.labelDistance:(label.x<cx?linePoints[2][0]=label.x+layout.labelDistance:linePoints[2][0]=label.x-layout.labelDistance,linePoints[1][0]=linePoints[2][0]+dist),linePoints[1][1]=linePoints[2][1]=label.y}}}(labelLayoutList,cx,cy,r,viewWidth,viewHeight,viewLeft,viewTop);for(var i=0;i<labelLayoutList.length;i++){var layout=labelLayoutList[i],label=layout.label,labelLine=layout.labelLine,notShowLabel=isNaN(label.x)||isNaN(label.y);if(label){label.setStyle({align:layout.textAlign}),notShowLabel&&(Object(util.each)(label.states,setNotShow),label.ignore=!0);var selectState=label.states.select;selectState&&(selectState.x+=label.x,selectState.y+=label.y)}if(labelLine){var linePoints=layout.linePoints;notShowLabel||!linePoints?(Object(util.each)(labelLine.states,setNotShow),labelLine.ignore=!0):(limitTurnAngle(linePoints,layout.minTurnAngle),limitSurfaceAngle(linePoints,layout.surfaceNormal,layout.maxSurfaceAngle),labelLine.setShape({points:linePoints}),label.__hostTarget.textGuideLineConfig={anchor:new core_Point(linePoints[0][0],linePoints[0][1])})}}}function getSectorCornerRadius(model,shape,zeroIfNull){var cornerRadius=model.get("borderRadius");if(null==cornerRadius)return zeroIfNull?{cornerRadius:0}:null;Object(util.isArray)(cornerRadius)||(cornerRadius=[cornerRadius,cornerRadius,cornerRadius,cornerRadius]);var dr=Math.abs(shape.r||0-shape.r0||0);return{cornerRadius:Object(util.map)(cornerRadius,(function(cr){return parsePercent(cr,dr)}))}}var PieView_PiePiece=function(_super){function PiePiece(data,idx,startAngle){var _this=_super.call(this)||this;_this.z2=2;var text=new Text;return _this.setTextContent(text),_this.updateData(data,idx,startAngle,!0),_this}return __extends(PiePiece,_super),PiePiece.prototype.updateData=function(data,idx,startAngle,firstCreate){var seriesModel=data.hostModel,itemModel=data.getItemModel(idx),emphasisModel=itemModel.getModel("emphasis"),layout=data.getItemLayout(idx),sectorShape=Object(util.extend)(getSectorCornerRadius(itemModel.getModel("itemStyle"),layout,!0),layout);if(isNaN(sectorShape.startAngle))this.setShape(sectorShape);else{if(firstCreate){this.setShape(sectorShape);var animationType=seriesModel.getShallow("animationType");seriesModel.ecModel.ssr?(initProps(this,{scaleX:0,scaleY:0},seriesModel,{dataIndex:idx,isFrom:!0}),this.originX=sectorShape.cx,this.originY=sectorShape.cy):"scale"===animationType?(this.shape.r=layout.r0,initProps(this,{shape:{r:layout.r}},seriesModel,idx)):null!=startAngle?(this.setShape({startAngle:startAngle,endAngle:startAngle}),initProps(this,{shape:{startAngle:layout.startAngle,endAngle:layout.endAngle}},seriesModel,idx)):(this.shape.endAngle=layout.startAngle,updateProps(this,{shape:{endAngle:layout.endAngle}},seriesModel,idx))}else saveOldStyle(this),updateProps(this,{shape:sectorShape},seriesModel,idx);this.useStyle(data.getItemVisual(idx,"style")),setStatesStylesFromModel(this,itemModel);var midAngle=(layout.startAngle+layout.endAngle)/2,offset=seriesModel.get("selectedOffset"),dx=Math.cos(midAngle)*offset,dy=Math.sin(midAngle)*offset,cursorStyle=itemModel.getShallow("cursor");cursorStyle&&this.attr("cursor",cursorStyle),this._updateLabel(seriesModel,data,idx),this.ensureState("emphasis").shape=Object(util.extend)({r:layout.r+(emphasisModel.get("scale")&&emphasisModel.get("scaleSize")||0)},getSectorCornerRadius(emphasisModel.getModel("itemStyle"),layout)),Object(util.extend)(this.ensureState("select"),{x:dx,y:dy,shape:getSectorCornerRadius(itemModel.getModel(["select","itemStyle"]),layout)}),Object(util.extend)(this.ensureState("blur"),{shape:getSectorCornerRadius(itemModel.getModel(["blur","itemStyle"]),layout)});var labelLine=this.getTextGuideLine(),labelText=this.getTextContent();labelLine&&Object(util.extend)(labelLine.ensureState("select"),{x:dx,y:dy}),Object(util.extend)(labelText.ensureState("select"),{x:dx,y:dy}),toggleHoverEmphasis(this,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled"))}},PiePiece.prototype._updateLabel=function(seriesModel,data,idx){var itemModel=data.getItemModel(idx),labelLineModel=itemModel.getModel("labelLine"),style=data.getItemVisual(idx,"style"),visualColor=style&&style.fill,visualOpacity=style&&style.opacity;setLabelStyle(this,getLabelStatesModels(itemModel),{labelFetcher:data.hostModel,labelDataIndex:idx,inheritColor:visualColor,defaultOpacity:visualOpacity,defaultText:seriesModel.getFormattedLabel(idx,"normal")||data.getName(idx)});var labelText=this.getTextContent();this.setTextConfig({position:null,rotation:null}),labelText.attr({z2:10});var labelPosition=seriesModel.get(["label","position"]);if("outside"!==labelPosition&&"outer"!==labelPosition)this.removeTextGuideLine();else{var polyline=this.getTextGuideLine();polyline||(polyline=new shape_Polyline,this.setTextGuideLine(polyline)),setLabelLineStyle(this,getLabelLineStatesModels(itemModel),{stroke:visualColor,opacity:Object(util.retrieve3)(labelLineModel.get(["lineStyle","opacity"]),visualOpacity,1)})}},PiePiece}(shape_Sector),PieView_PieView=function(_super){function PieView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.ignoreLabelLineUpdate=!0,_this}return __extends(PieView,_super),PieView.prototype.render=function(seriesModel,ecModel,api,payload){var startAngle,data=seriesModel.getData(),oldData=this._data,group=this.group;if(!oldData&&data.count()>0){for(var shape=data.getItemLayout(0),s=1;isNaN(shape&&shape.startAngle)&&s<data.count();++s)shape=data.getItemLayout(s);shape&&(startAngle=shape.startAngle)}if(this._emptyCircleSector&&group.remove(this._emptyCircleSector),0===data.count()&&seriesModel.get("showEmptyCircle")){var sector=new shape_Sector({shape:getBasicPieLayout(seriesModel,api)});sector.useStyle(seriesModel.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=sector,group.add(sector)}data.diff(oldData).add((function(idx){var piePiece=new PieView_PiePiece(data,idx,startAngle);data.setItemGraphicEl(idx,piePiece),group.add(piePiece)})).update((function(newIdx,oldIdx){var piePiece=oldData.getItemGraphicEl(oldIdx);piePiece.updateData(data,newIdx,startAngle),piePiece.off("click"),group.add(piePiece),data.setItemGraphicEl(newIdx,piePiece)})).remove((function(idx){removeElementWithFadeOut(oldData.getItemGraphicEl(idx),seriesModel,idx)})).execute(),pieLabelLayout(seriesModel),"expansion"!==seriesModel.get("animationTypeUpdate")&&(this._data=data)},PieView.prototype.dispose=function(){},PieView.prototype.containPoint=function(point,seriesModel){var itemLayout=seriesModel.getData().getItemLayout(0);if(itemLayout){var dx=point[0]-itemLayout.cx,dy=point[1]-itemLayout.cy,radius=Math.sqrt(dx*dx+dy*dy);return radius<=itemLayout.r&&radius>=itemLayout.r0}},PieView.type="pie",PieView}(Chart),pie_PieView=PieView_PieView;function createSeriesDataSimply(seriesModel,opt,nameList){opt=Object(util.isArray)(opt)&&{coordDimensions:opt}||Object(util.extend)({encodeDefine:seriesModel.getEncode()},opt);var source=seriesModel.getSource(),dimensions=prepareSeriesDataSchema(source,opt).dimensions,list=new data_SeriesData(dimensions,seriesModel);return list.initData(source,nameList),list}var LegendVisualProvider=function(){function LegendVisualProvider(getDataWithEncodedVisual,getRawData){this._getDataWithEncodedVisual=getDataWithEncodedVisual,this._getRawData=getRawData}return LegendVisualProvider.prototype.getAllNames=function(){var rawData=this._getRawData();return rawData.mapArray(rawData.getName)},LegendVisualProvider.prototype.containName=function(name){return this._getRawData().indexOfName(name)>=0},LegendVisualProvider.prototype.indexOfName=function(name){return this._getDataWithEncodedVisual().indexOfName(name)},LegendVisualProvider.prototype.getItemVisual=function(dataIndex,key){return this._getDataWithEncodedVisual().getItemVisual(dataIndex,key)},LegendVisualProvider}(),visual_LegendVisualProvider=LegendVisualProvider,PieSeries_PieSeriesModel=function(_super){function PieSeriesModel(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(PieSeriesModel,_super),PieSeriesModel.prototype.init=function(option){_super.prototype.init.apply(this,arguments),this.legendVisualProvider=new visual_LegendVisualProvider(util.bind(this.getData,this),util.bind(this.getRawData,this)),this._defaultLabelLine(option)},PieSeriesModel.prototype.mergeOption=function(){_super.prototype.mergeOption.apply(this,arguments)},PieSeriesModel.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:util.curry(makeSeriesEncodeForNameBased,this)})},PieSeriesModel.prototype.getDataParams=function(dataIndex){var data=this.getData(),params=_super.prototype.getDataParams.call(this,dataIndex),valueList=[];return data.each(data.mapDimension("value"),(function(value){valueList.push(value)})),params.percent=getPercentWithPrecision(valueList,dataIndex,data.hostModel.get("percentPrecision")),params.$vars.push("percent"),params},PieSeriesModel.prototype._defaultLabelLine=function(option){defaultEmphasis(option,"labelLine",["show"]);var labelLineNormalOpt=option.labelLine,labelLineEmphasisOpt=option.emphasis.labelLine;labelLineNormalOpt.show=labelLineNormalOpt.show&&option.label.show,labelLineEmphasisOpt.show=labelLineEmphasisOpt.show&&option.emphasis.label.show},PieSeriesModel.type="series.pie",PieSeriesModel.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},PieSeriesModel}(Series),PieSeries=PieSeries_PieSeriesModel;var ScatterSeries_ScatterSeriesModel=function(_super){function ScatterSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ScatterSeriesModel.type,_this.hasSymbolVisual=!0,_this}return __extends(ScatterSeriesModel,_super),ScatterSeriesModel.prototype.getInitialData=function(option,ecModel){return helper_createSeriesData(null,this,{useEncodeDefaulter:!0})},ScatterSeriesModel.prototype.getProgressive=function(){var progressive=this.option.progressive;return null==progressive?this.option.large?5e3:this.get("progressive"):progressive},ScatterSeriesModel.prototype.getProgressiveThreshold=function(){var progressiveThreshold=this.option.progressiveThreshold;return null==progressiveThreshold?this.option.large?1e4:this.get("progressiveThreshold"):progressiveThreshold},ScatterSeriesModel.prototype.brushSelector=function(dataIndex,data,selectors){return selectors.point(data.getItemLayout(dataIndex))},ScatterSeriesModel.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},ScatterSeriesModel.type="series.scatter",ScatterSeriesModel.dependencies=["grid","polar","geo","singleAxis","calendar"],ScatterSeriesModel.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},ScatterSeriesModel}(Series),ScatterSeries=ScatterSeries_ScatterSeriesModel,LargeSymbolPathShape=function LargeSymbolPathShape(){},LargeSymbolDraw_LargeSymbolPath=function(_super){function LargeSymbolPath(opts){var _this=_super.call(this,opts)||this;return _this._off=0,_this.hoverDataIdx=-1,_this}return __extends(LargeSymbolPath,_super),LargeSymbolPath.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},LargeSymbolPath.prototype.reset=function(){this.notClear=!1,this._off=0},LargeSymbolPath.prototype.buildPath=function(path,shape){var i,points=shape.points,size=shape.size,symbolProxy=this.symbolProxy,symbolProxyShape=symbolProxy.shape,ctx=path.getContext?path.getContext():path,canBoost=ctx&&size[0]<4,softClipShape=this.softClipShape;if(canBoost)this._ctx=ctx;else{for(this._ctx=null,i=this._off;i<points.length;){var x=points[i++],y=points[i++];isNaN(x)||isNaN(y)||(softClipShape&&!softClipShape.contain(x,y)||(symbolProxyShape.x=x-size[0]/2,symbolProxyShape.y=y-size[1]/2,symbolProxyShape.width=size[0],symbolProxyShape.height=size[1],symbolProxy.buildPath(path,symbolProxyShape,!0)))}this.incremental&&(this._off=i,this.notClear=!0)}},LargeSymbolPath.prototype.afterBrush=function(){var i,shape=this.shape,points=shape.points,size=shape.size,ctx=this._ctx,softClipShape=this.softClipShape;if(ctx){for(i=this._off;i<points.length;){var x=points[i++],y=points[i++];isNaN(x)||isNaN(y)||(softClipShape&&!softClipShape.contain(x,y)||ctx.fillRect(x-size[0]/2,y-size[1]/2,size[0],size[1]))}this.incremental&&(this._off=i,this.notClear=!0)}},LargeSymbolPath.prototype.findDataIndex=function(x,y){for(var shape=this.shape,points=shape.points,size=shape.size,w=Math.max(size[0],4),h=Math.max(size[1],4),idx=points.length/2-1;idx>=0;idx--){var i=2*idx,x0=points[i]-w/2,y0=points[i+1]-h/2;if(x>=x0&&y>=y0&&x<=x0+w&&y<=y0+h)return idx}return-1},LargeSymbolPath.prototype.contain=function(x,y){var localPos=this.transformCoordToLocal(x,y),rect=this.getBoundingRect();return x=localPos[0],y=localPos[1],rect.contain(x,y)?(this.hoverDataIdx=this.findDataIndex(x,y))>=0:(this.hoverDataIdx=-1,!1)},LargeSymbolPath.prototype.getBoundingRect=function(){var rect=this._rect;if(!rect){for(var shape=this.shape,points=shape.points,size=shape.size,w=size[0],h=size[1],minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0,i=0;i<points.length;){var x=points[i++],y=points[i++];minX=Math.min(x,minX),maxX=Math.max(x,maxX),minY=Math.min(y,minY),maxY=Math.max(y,maxY)}rect=this._rect=new core_BoundingRect(minX-w/2,minY-h/2,maxX-minX+w,maxY-minY+h)}return rect},LargeSymbolPath}(graphic_Path),helper_LargeSymbolDraw=function(){function LargeSymbolDraw(){this.group=new graphic_Group}return LargeSymbolDraw.prototype.updateData=function(data,opt){this._clear();var symbolEl=this._create();symbolEl.setShape({points:data.getLayout("points")}),this._setCommon(symbolEl,data,opt)},LargeSymbolDraw.prototype.updateLayout=function(data){var points=data.getLayout("points");this.group.eachChild((function(child){if(null!=child.startIndex){var len=2*(child.endIndex-child.startIndex),byteOffset=4*child.startIndex*2;points=new Float32Array(points.buffer,byteOffset,len)}child.setShape("points",points),child.reset()}))},LargeSymbolDraw.prototype.incrementalPrepareUpdate=function(data){this._clear()},LargeSymbolDraw.prototype.incrementalUpdate=function(taskParams,data,opt){var lastAdded=this._newAdded[0],points=data.getLayout("points"),oldPoints=lastAdded&&lastAdded.shape.points;if(oldPoints&&oldPoints.length<2e4){var oldLen=oldPoints.length,newPoints=new Float32Array(oldLen+points.length);newPoints.set(oldPoints),newPoints.set(points,oldLen),lastAdded.endIndex=taskParams.end,lastAdded.setShape({points:newPoints})}else{this._newAdded=[];var symbolEl=this._create();symbolEl.startIndex=taskParams.start,symbolEl.endIndex=taskParams.end,symbolEl.incremental=!0,symbolEl.setShape({points:points}),this._setCommon(symbolEl,data,opt)}},LargeSymbolDraw.prototype.eachRendered=function(cb){this._newAdded[0]&&cb(this._newAdded[0])},LargeSymbolDraw.prototype._create=function(){var symbolEl=new LargeSymbolDraw_LargeSymbolPath({cursor:"default"});return this.group.add(symbolEl),this._newAdded.push(symbolEl),symbolEl},LargeSymbolDraw.prototype._setCommon=function(symbolEl,data,opt){var hostModel=data.hostModel;opt=opt||{};var size=data.getVisual("symbolSize");symbolEl.setShape("size",size instanceof Array?size:[size,size]),symbolEl.softClipShape=opt.clipShape||null,symbolEl.symbolProxy=symbol_createSymbol(data.getVisual("symbol"),0,0,0,0),symbolEl.setColor=symbolEl.symbolProxy.setColor;var extrudeShadow=symbolEl.shape.size[0]<4;symbolEl.useStyle(hostModel.getModel("itemStyle").getItemStyle(extrudeShadow?["color","shadowBlur","shadowColor"]:["color"]));var globalStyle=data.getVisual("style"),visualColor=globalStyle&&globalStyle.fill;visualColor&&symbolEl.setColor(visualColor);var ecData=getECData(symbolEl);ecData.seriesIndex=hostModel.seriesIndex,symbolEl.on("mousemove",(function(e){ecData.dataIndex=null;var dataIndex=symbolEl.hoverDataIdx;dataIndex>=0&&(ecData.dataIndex=dataIndex+(symbolEl.startIndex||0))}))},LargeSymbolDraw.prototype.remove=function(){this._clear()},LargeSymbolDraw.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},LargeSymbolDraw}(),ScatterView_ScatterView=function(_super){function ScatterView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ScatterView.type,_this}return __extends(ScatterView,_super),ScatterView.prototype.render=function(seriesModel,ecModel,api){var data=seriesModel.getData();this._updateSymbolDraw(data,seriesModel).updateData(data,{clipShape:this._getClipShape(seriesModel)}),this._finished=!0},ScatterView.prototype.incrementalPrepareRender=function(seriesModel,ecModel,api){var data=seriesModel.getData();this._updateSymbolDraw(data,seriesModel).incrementalPrepareUpdate(data),this._finished=!1},ScatterView.prototype.incrementalRender=function(taskParams,seriesModel,ecModel){this._symbolDraw.incrementalUpdate(taskParams,seriesModel.getData(),{clipShape:this._getClipShape(seriesModel)}),this._finished=taskParams.end===seriesModel.getData().count()},ScatterView.prototype.updateTransform=function(seriesModel,ecModel,api){var data=seriesModel.getData();if(this.group.dirty(),!this._finished||data.count()>1e4)return{update:!0};var res=pointsLayout("").reset(seriesModel,ecModel,api);res.progress&&res.progress({start:0,end:data.count(),count:data.count()},data),this._symbolDraw.updateLayout(data)},ScatterView.prototype.eachRendered=function(cb){this._symbolDraw&&this._symbolDraw.eachRendered(cb)},ScatterView.prototype._getClipShape=function(seriesModel){var coordSys=seriesModel.coordinateSystem,clipArea=coordSys&&coordSys.getArea&&coordSys.getArea();return seriesModel.get("clip",!0)?clipArea:null},ScatterView.prototype._updateSymbolDraw=function(data,seriesModel){var symbolDraw=this._symbolDraw,isLargeDraw=seriesModel.pipelineContext.large;return symbolDraw&&isLargeDraw===this._isLargeDraw||(symbolDraw&&symbolDraw.remove(),symbolDraw=this._symbolDraw=isLargeDraw?new helper_LargeSymbolDraw:new helper_SymbolDraw,this._isLargeDraw=isLargeDraw,this.group.removeAll()),this.group.add(symbolDraw.group),symbolDraw},ScatterView.prototype.remove=function(ecModel,api){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},ScatterView.prototype.dispose=function(){},ScatterView.type="scatter",ScatterView}(Chart),scatter_ScatterView=ScatterView_ScatterView,GridModel_GridModel=function(_super){function GridModel(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(GridModel,_super),GridModel.type="grid",GridModel.dependencies=["xAxis","yAxis"],GridModel.layoutMode="box",GridModel.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},GridModel}(Component),cartesian_GridModel=GridModel_GridModel,AxisModel_CartesianAxisModel=function(_super){function CartesianAxisModel(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(CartesianAxisModel,_super),CartesianAxisModel.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},CartesianAxisModel.type="cartesian2dAxis",CartesianAxisModel}(Component);util.mixin(AxisModel_CartesianAxisModel,AxisModelCommonMixin);var axisDefault_defaultOption={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},axisDefault_categoryAxis=util.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},axisDefault_defaultOption),axisDefault_valueAxis=util.merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},axisDefault_defaultOption),axisDefault={category:axisDefault_categoryAxis,value:axisDefault_valueAxis,time:util.merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},axisDefault_valueAxis),log:util.defaults({logBase:10},axisDefault_valueAxis)},AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(registers,axisName,BaseAxisModelClass,extraDefaultOption){Object(util.each)(AXIS_TYPES,(function(v,axisType){var defaultOption=Object(util.merge)(Object(util.merge)({},axisDefault[axisType],!0),extraDefaultOption,!0),AxisModel=function(_super){function AxisModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=axisName+"Axis."+axisType,_this}return __extends(AxisModel,_super),AxisModel.prototype.mergeDefaultAndTheme=function(option,ecModel){var layoutMode=fetchLayoutMode(this),inputPositionParams=layoutMode?getLayoutParams(option):{},themeModel=ecModel.getTheme();Object(util.merge)(option,themeModel.get(axisType+"Axis")),Object(util.merge)(option,this.getDefaultOption()),option.type=getAxisType(option),layoutMode&&mergeLayoutParam(option,inputPositionParams,layoutMode)},AxisModel.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=data_OrdinalMeta.createByAxisModel(this))},AxisModel.prototype.getCategories=function(rawData){var option=this.option;if("category"===option.type)return rawData?option.data:this.__ordinalMeta.categories},AxisModel.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},AxisModel.type=axisName+"Axis."+axisType,AxisModel.defaultOption=defaultOption,AxisModel}(BaseAxisModelClass);registers.registerComponentModel(AxisModel)})),registers.registerSubTypeDefaulter(axisName+"Axis",getAxisType)}function getAxisType(option){return option.type||(option.data?"category":"value")}var Cartesian_Cartesian=function(){function Cartesian(name){this.type="cartesian",this._dimList=[],this._axes={},this.name=name||""}return Cartesian.prototype.getAxis=function(dim){return this._axes[dim]},Cartesian.prototype.getAxes=function(){return util.map(this._dimList,(function(dim){return this._axes[dim]}),this)},Cartesian.prototype.getAxesByScale=function(scaleType){return scaleType=scaleType.toLowerCase(),util.filter(this.getAxes(),(function(axis){return axis.scale.type===scaleType}))},Cartesian.prototype.addAxis=function(axis){var dim=axis.dim;this._axes[dim]=axis,this._dimList.push(dim)},Cartesian}(),cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(scale){return"interval"===scale.type||"time"===scale.type}var Cartesian2D_Cartesian2D=function(_super){function Cartesian2D(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="cartesian2d",_this.dimensions=cartesian2DDimensions,_this}return __extends(Cartesian2D,_super),Cartesian2D.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var xAxisScale=this.getAxis("x").scale,yAxisScale=this.getAxis("y").scale;if(canCalculateAffineTransform(xAxisScale)&&canCalculateAffineTransform(yAxisScale)){var xScaleExtent=xAxisScale.getExtent(),yScaleExtent=yAxisScale.getExtent(),start=this.dataToPoint([xScaleExtent[0],yScaleExtent[0]]),end=this.dataToPoint([xScaleExtent[1],yScaleExtent[1]]),xScaleSpan=xScaleExtent[1]-xScaleExtent[0],yScaleSpan=yScaleExtent[1]-yScaleExtent[0];if(xScaleSpan&&yScaleSpan){var scaleX=(end[0]-start[0])/xScaleSpan,scaleY=(end[1]-start[1])/yScaleSpan,translateX=start[0]-xScaleExtent[0]*scaleX,translateY=start[1]-yScaleExtent[0]*scaleY,m=this._transform=[scaleX,0,0,scaleY,translateX,translateY];this._invTransform=matrix_invert([],m)}}},Cartesian2D.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},Cartesian2D.prototype.containPoint=function(point){var axisX=this.getAxis("x"),axisY=this.getAxis("y");return axisX.contain(axisX.toLocalCoord(point[0]))&&axisY.contain(axisY.toLocalCoord(point[1]))},Cartesian2D.prototype.containData=function(data){return this.getAxis("x").containData(data[0])&&this.getAxis("y").containData(data[1])},Cartesian2D.prototype.dataToPoint=function(data,clamp,out){out=out||[];var xVal=data[0],yVal=data[1];if(this._transform&&null!=xVal&&isFinite(xVal)&&null!=yVal&&isFinite(yVal))return applyTransform(out,data,this._transform);var xAxis=this.getAxis("x"),yAxis=this.getAxis("y");return out[0]=xAxis.toGlobalCoord(xAxis.dataToCoord(xVal,clamp)),out[1]=yAxis.toGlobalCoord(yAxis.dataToCoord(yVal,clamp)),out},Cartesian2D.prototype.clampData=function(data,out){var xScale=this.getAxis("x").scale,yScale=this.getAxis("y").scale,xAxisExtent=xScale.getExtent(),yAxisExtent=yScale.getExtent(),x=xScale.parse(data[0]),y=yScale.parse(data[1]);return(out=out||[])[0]=Math.min(Math.max(Math.min(xAxisExtent[0],xAxisExtent[1]),x),Math.max(xAxisExtent[0],xAxisExtent[1])),out[1]=Math.min(Math.max(Math.min(yAxisExtent[0],yAxisExtent[1]),y),Math.max(yAxisExtent[0],yAxisExtent[1])),out},Cartesian2D.prototype.pointToData=function(point,clamp){var out=[];if(this._invTransform)return applyTransform(out,point,this._invTransform);var xAxis=this.getAxis("x"),yAxis=this.getAxis("y");return out[0]=xAxis.coordToData(xAxis.toLocalCoord(point[0]),clamp),out[1]=yAxis.coordToData(yAxis.toLocalCoord(point[1]),clamp),out},Cartesian2D.prototype.getOtherAxis=function(axis){return this.getAxis("x"===axis.dim?"y":"x")},Cartesian2D.prototype.getArea=function(){var xExtent=this.getAxis("x").getGlobalExtent(),yExtent=this.getAxis("y").getGlobalExtent(),x=Math.min(xExtent[0],xExtent[1]),y=Math.min(yExtent[0],yExtent[1]),width=Math.max(xExtent[0],xExtent[1])-x,height=Math.max(yExtent[0],yExtent[1])-y;return new core_BoundingRect(x,y,width,height)},Cartesian2D}(Cartesian_Cartesian),cartesian_Cartesian2D=Cartesian2D_Cartesian2D,Axis2D_Axis2D=function(_super){function Axis2D(dim,scale,coordExtent,axisType,position){var _this=_super.call(this,dim,scale,coordExtent)||this;return _this.index=0,_this.type=axisType||"value",_this.position=position||"bottom",_this}return __extends(Axis2D,_super),Axis2D.prototype.isHorizontal=function(){var position=this.position;return"top"===position||"bottom"===position},Axis2D.prototype.getGlobalExtent=function(asc){var ret=this.getExtent();return ret[0]=this.toGlobalCoord(ret[0]),ret[1]=this.toGlobalCoord(ret[1]),asc&&ret[0]>ret[1]&&ret.reverse(),ret},Axis2D.prototype.pointToData=function(point,clamp){return this.coordToData(this.toLocalCoord(point["x"===this.dim?0:1]),clamp)},Axis2D.prototype.setCategorySortInfo=function(info){if("category"!==this.type)return!1;this.model.option.categorySortInfo=info,this.scale.setSortInfo(info)},Axis2D}(coord_Axis),cartesian_Axis2D=Axis2D_Axis2D;function cartesianAxisHelper_layout(gridModel,axisModel,opt){opt=opt||{};var grid=gridModel.coordinateSystem,axis=axisModel.axis,layout={},otherAxisOnZeroOf=axis.getAxesOnZeroOf()[0],rawAxisPosition=axis.position,axisPosition=otherAxisOnZeroOf?"onZero":rawAxisPosition,axisDim=axis.dim,rect=grid.getRect(),rectBound=[rect.x,rect.x+rect.width,rect.y,rect.y+rect.height],idx={left:0,right:1,top:0,bottom:1,onZero:2},axisOffset=axisModel.get("offset")||0,posBound="x"===axisDim?[rectBound[2]-axisOffset,rectBound[3]+axisOffset]:[rectBound[0]-axisOffset,rectBound[1]+axisOffset];if(otherAxisOnZeroOf){var onZeroCoord=otherAxisOnZeroOf.toGlobalCoord(otherAxisOnZeroOf.dataToCoord(0));posBound[idx.onZero]=Math.max(Math.min(onZeroCoord,posBound[1]),posBound[0])}layout.position=["y"===axisDim?posBound[idx[axisPosition]]:rectBound[0],"x"===axisDim?posBound[idx[axisPosition]]:rectBound[3]],layout.rotation=Math.PI/2*("x"===axisDim?0:1);layout.labelDirection=layout.tickDirection=layout.nameDirection={top:-1,bottom:1,left:-1,right:1}[rawAxisPosition],layout.labelOffset=otherAxisOnZeroOf?posBound[idx[rawAxisPosition]]-posBound[idx.onZero]:0,axisModel.get(["axisTick","inside"])&&(layout.tickDirection=-layout.tickDirection),util.retrieve(opt.labelInside,axisModel.get(["axisLabel","inside"]))&&(layout.labelDirection=-layout.labelDirection);var labelRotate=axisModel.get(["axisLabel","rotate"]);return layout.labelRotate="top"===axisPosition?-labelRotate:labelRotate,layout.z2=1,layout}function isCartesian2DSeries(seriesModel){return"cartesian2d"===seriesModel.get("coordinateSystem")}function findAxisModels(seriesModel){var axisModelMap={xAxisModel:null,yAxisModel:null};return util.each(axisModelMap,(function(v,key){var axisType=key.replace(/Model$/,""),axisModel=seriesModel.getReferringComponents(axisType,SINGLE_REFERRING).models[0];axisModelMap[key]=axisModel})),axisModelMap}var axisAlignTicks_mathLog=Math.log;function alignScaleTicks(scale,axisModel,alignToScale){var intervalScaleProto=Interval.prototype,alignToTicks=intervalScaleProto.getTicks.call(alignToScale),alignToNicedTicks=intervalScaleProto.getTicks.call(alignToScale,!0),alignToSplitNumber=alignToTicks.length-1,alignToInterval=intervalScaleProto.getInterval.call(alignToScale),scaleExtent=getScaleExtent(scale,axisModel),rawExtent=scaleExtent.extent,isMinFixed=scaleExtent.fixMin,isMaxFixed=scaleExtent.fixMax;if("log"===scale.type){var logBase=axisAlignTicks_mathLog(scale.base);rawExtent=[axisAlignTicks_mathLog(rawExtent[0])/logBase,axisAlignTicks_mathLog(rawExtent[1])/logBase]}scale.setExtent(rawExtent[0],rawExtent[1]),scale.calcNiceExtent({splitNumber:alignToSplitNumber,fixMin:isMinFixed,fixMax:isMaxFixed});var extent=intervalScaleProto.getExtent.call(scale);isMinFixed&&(rawExtent[0]=extent[0]),isMaxFixed&&(rawExtent[1]=extent[1]);var interval=intervalScaleProto.getInterval.call(scale),min=rawExtent[0],max=rawExtent[1];if(isMinFixed&&isMaxFixed)interval=(max-min)/alignToSplitNumber;else if(isMinFixed)for(max=rawExtent[0]+interval*alignToSplitNumber;max<rawExtent[1]&&isFinite(max)&&isFinite(rawExtent[1]);)interval=increaseInterval(interval),max=rawExtent[0]+interval*alignToSplitNumber;else if(isMaxFixed)for(min=rawExtent[1]-interval*alignToSplitNumber;min>rawExtent[0]&&isFinite(min)&&isFinite(rawExtent[0]);)interval=increaseInterval(interval),min=rawExtent[1]-interval*alignToSplitNumber;else{scale.getTicks().length-1>alignToSplitNumber&&(interval=increaseInterval(interval));var range=interval*alignToSplitNumber;(min=round((max=Math.ceil(rawExtent[1]/interval)*interval)-range))<0&&rawExtent[0]>=0?(min=0,max=round(range)):max>0&&rawExtent[1]<=0&&(max=0,min=-round(range))}var t0=(alignToTicks[0].value-alignToNicedTicks[0].value)/alignToInterval,t1=(alignToTicks[alignToSplitNumber].value-alignToNicedTicks[alignToSplitNumber].value)/alignToInterval;intervalScaleProto.setExtent.call(scale,min+interval*t0,max+interval*t1),intervalScaleProto.setInterval.call(scale,interval),(t0||t1)&&intervalScaleProto.setNiceExtent.call(scale,min+interval,max-interval)}function isAxisUsedInTheGrid(axisModel,gridModel){return axisModel.getCoordSysModel()===gridModel}function fixAxisOnZero(axesMap,otherAxisDim,axis,onZeroRecords){axis.getAxesOnZeroOf=function(){return otherAxisOnZeroOf?[otherAxisOnZeroOf]:[]};var otherAxisOnZeroOf,otherAxes=axesMap[otherAxisDim],axisModel=axis.model,onZero=axisModel.get(["axisLine","onZero"]),onZeroAxisIndex=axisModel.get(["axisLine","onZeroAxisIndex"]);if(onZero){if(null!=onZeroAxisIndex)canOnZeroToAxis(otherAxes[onZeroAxisIndex])&&(otherAxisOnZeroOf=otherAxes[onZeroAxisIndex]);else for(var idx in otherAxes)if(otherAxes.hasOwnProperty(idx)&&canOnZeroToAxis(otherAxes[idx])&&!onZeroRecords[getOnZeroRecordKey(otherAxes[idx])]){otherAxisOnZeroOf=otherAxes[idx];break}otherAxisOnZeroOf&&(onZeroRecords[getOnZeroRecordKey(otherAxisOnZeroOf)]=!0)}function getOnZeroRecordKey(axis){return axis.dim+"_"+axis.index}}function canOnZeroToAxis(axis){return axis&&"category"!==axis.type&&"time"!==axis.type&&function ifAxisCrossZero(axis){var dataExtent=axis.scale.getExtent(),min=dataExtent[0],max=dataExtent[1];return!(min>0&&max>0||min<0&&max<0)}(axis)}var cartesian_Grid=function(){function Grid(gridModel,ecModel,api){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(gridModel,ecModel,api),this.model=gridModel}return Grid.prototype.getRect=function(){return this._rect},Grid.prototype.update=function(ecModel,api){var axesMap=this._axesMap;function updateAxisTicks(axes){var alignTo,axesIndices=Object(util.keys)(axes),len=axesIndices.length;if(len){for(var axisNeedsAlign=[],i=len-1;i>=0;i--){var axis=axes[+axesIndices[i]],model=axis.model,scale=axis.scale;isIntervalOrLogScale(scale)&&model.get("alignTicks")&&null==model.get("interval")?axisNeedsAlign.push(axis):(niceScaleExtent(scale,model),isIntervalOrLogScale(scale)&&(alignTo=axis))}axisNeedsAlign.length&&(alignTo||niceScaleExtent((alignTo=axisNeedsAlign.pop()).scale,alignTo.model),Object(util.each)(axisNeedsAlign,(function(axis){alignScaleTicks(axis.scale,axis.model,alignTo.scale)})))}}this._updateScale(ecModel,this.model),updateAxisTicks(axesMap.x),updateAxisTicks(axesMap.y);var onZeroRecords={};Object(util.each)(axesMap.x,(function(xAxis){fixAxisOnZero(axesMap,"y",xAxis,onZeroRecords)})),Object(util.each)(axesMap.y,(function(yAxis){fixAxisOnZero(axesMap,"x",yAxis,onZeroRecords)})),this.resize(this.model,api)},Grid.prototype.resize=function(gridModel,api,ignoreContainLabel){var boxLayoutParams=gridModel.getBoxLayoutParams(),isContainLabel=!ignoreContainLabel&&gridModel.get("containLabel"),gridRect=getLayoutRect(boxLayoutParams,{width:api.getWidth(),height:api.getHeight()});this._rect=gridRect;var axesList=this._axesList;function adjustAxes(){Object(util.each)(axesList,(function(axis){var isHorizontal=axis.isHorizontal(),extent=isHorizontal?[0,gridRect.width]:[0,gridRect.height],idx=axis.inverse?1:0;axis.setExtent(extent[idx],extent[1-idx]),function updateAxisTransform(axis,coordBase){var axisExtent=axis.getExtent(),axisExtentSum=axisExtent[0]+axisExtent[1];axis.toGlobalCoord="x"===axis.dim?function(coord){return coord+coordBase}:function(coord){return axisExtentSum-coord+coordBase},axis.toLocalCoord="x"===axis.dim?function(coord){return coord-coordBase}:function(coord){return axisExtentSum-coord+coordBase}}(axis,isHorizontal?gridRect.x:gridRect.y)}))}adjustAxes(),isContainLabel&&(Object(util.each)(axesList,(function(axis){if(!axis.model.get(["axisLabel","inside"])){var labelUnionRect=function estimateLabelUnionRect(axis){var axisModel=axis.model,scale=axis.scale;if(axisModel.get(["axisLabel","show"])&&!scale.isBlank()){var realNumberScaleTicks,tickCount,categoryScaleExtent=scale.getExtent();tickCount=scale instanceof Ordinal?scale.count():(realNumberScaleTicks=scale.getTicks()).length;var rect,textRect,rotateRadians,beforeWidth,beforeHeight,afterWidth,afterHeight,axisLabelModel=axis.getLabelModel(),labelFormatter=makeLabelFormatter(axis),step=1;tickCount>40&&(step=Math.ceil(tickCount/40));for(var i=0;i<tickCount;i+=step){var label=labelFormatter(realNumberScaleTicks?realNumberScaleTicks[i]:{value:categoryScaleExtent[0]+i},i),singleRect=(textRect=axisLabelModel.getTextRect(label),rotateRadians=void 0,beforeWidth=void 0,beforeHeight=void 0,afterWidth=void 0,afterHeight=void 0,rotateRadians=(axisLabelModel.get("rotate")||0)*Math.PI/180,beforeWidth=textRect.width,beforeHeight=textRect.height,afterWidth=beforeWidth*Math.abs(Math.cos(rotateRadians))+Math.abs(beforeHeight*Math.sin(rotateRadians)),afterHeight=beforeWidth*Math.abs(Math.sin(rotateRadians))+Math.abs(beforeHeight*Math.cos(rotateRadians)),new core_BoundingRect(textRect.x,textRect.y,afterWidth,afterHeight));rect?rect.union(singleRect):rect=singleRect}return rect}}(axis);if(labelUnionRect){var dim=axis.isHorizontal()?"height":"width",margin=axis.model.get(["axisLabel","margin"]);gridRect[dim]-=labelUnionRect[dim]+margin,"top"===axis.position?gridRect.y+=labelUnionRect.height+margin:"left"===axis.position&&(gridRect.x+=labelUnionRect.width+margin)}}})),adjustAxes()),Object(util.each)(this._coordsList,(function(coord){coord.calcAffineTransform()}))},Grid.prototype.getAxis=function(dim,axisIndex){var axesMapOnDim=this._axesMap[dim];if(null!=axesMapOnDim)return axesMapOnDim[axisIndex||0]},Grid.prototype.getAxes=function(){return this._axesList.slice()},Grid.prototype.getCartesian=function(xAxisIndex,yAxisIndex){if(null!=xAxisIndex&&null!=yAxisIndex){var key="x"+xAxisIndex+"y"+yAxisIndex;return this._coordsMap[key]}Object(util.isObject)(xAxisIndex)&&(yAxisIndex=xAxisIndex.yAxisIndex,xAxisIndex=xAxisIndex.xAxisIndex);for(var i=0,coordList=this._coordsList;i<coordList.length;i++)if(coordList[i].getAxis("x").index===xAxisIndex||coordList[i].getAxis("y").index===yAxisIndex)return coordList[i]},Grid.prototype.getCartesians=function(){return this._coordsList.slice()},Grid.prototype.convertToPixel=function(ecModel,finder,value){var target=this._findConvertTarget(finder);return target.cartesian?target.cartesian.dataToPoint(value):target.axis?target.axis.toGlobalCoord(target.axis.dataToCoord(value)):null},Grid.prototype.convertFromPixel=function(ecModel,finder,value){var target=this._findConvertTarget(finder);return target.cartesian?target.cartesian.pointToData(value):target.axis?target.axis.coordToData(target.axis.toLocalCoord(value)):null},Grid.prototype._findConvertTarget=function(finder){var cartesian,axis,seriesModel=finder.seriesModel,xAxisModel=finder.xAxisModel||seriesModel&&seriesModel.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],yAxisModel=finder.yAxisModel||seriesModel&&seriesModel.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],gridModel=finder.gridModel,coordsList=this._coordsList;if(seriesModel)cartesian=seriesModel.coordinateSystem,Object(util.indexOf)(coordsList,cartesian)<0&&(cartesian=null);else if(xAxisModel&&yAxisModel)cartesian=this.getCartesian(xAxisModel.componentIndex,yAxisModel.componentIndex);else if(xAxisModel)axis=this.getAxis("x",xAxisModel.componentIndex);else if(yAxisModel)axis=this.getAxis("y",yAxisModel.componentIndex);else if(gridModel){gridModel.coordinateSystem===this&&(cartesian=this._coordsList[0])}return{cartesian:cartesian,axis:axis}},Grid.prototype.containPoint=function(point){var coord=this._coordsList[0];if(coord)return coord.containPoint(point)},Grid.prototype._initCartesian=function(gridModel,ecModel,api){var _this=this,grid=this,axisPositionUsed={left:!1,right:!1,top:!1,bottom:!1},axesMap={x:{},y:{}},axesCount={x:0,y:0};if(ecModel.eachComponent("xAxis",createAxisCreator("x"),this),ecModel.eachComponent("yAxis",createAxisCreator("y"),this),!axesCount.x||!axesCount.y)return this._axesMap={},void(this._axesList=[]);function createAxisCreator(dimName){return function(axisModel,idx){if(isAxisUsedInTheGrid(axisModel,gridModel)){var axisPosition=axisModel.get("position");"x"===dimName?"top"!==axisPosition&&"bottom"!==axisPosition&&(axisPosition=axisPositionUsed.bottom?"top":"bottom"):"left"!==axisPosition&&"right"!==axisPosition&&(axisPosition=axisPositionUsed.left?"right":"left"),axisPositionUsed[axisPosition]=!0;var axis=new cartesian_Axis2D(dimName,createScaleByModel(axisModel),[0,0],axisModel.get("type"),axisPosition),isCategory="category"===axis.type;axis.onBand=isCategory&&axisModel.get("boundaryGap"),axis.inverse=axisModel.get("inverse"),axisModel.axis=axis,axis.model=axisModel,axis.grid=grid,axis.index=idx,grid._axesList.push(axis),axesMap[dimName][idx]=axis,axesCount[dimName]++}}}this._axesMap=axesMap,Object(util.each)(axesMap.x,(function(xAxis,xAxisIndex){Object(util.each)(axesMap.y,(function(yAxis,yAxisIndex){var key="x"+xAxisIndex+"y"+yAxisIndex,cartesian=new cartesian_Cartesian2D(key);cartesian.master=_this,cartesian.model=gridModel,_this._coordsMap[key]=cartesian,_this._coordsList.push(cartesian),cartesian.addAxis(xAxis),cartesian.addAxis(yAxis)}))}))},Grid.prototype._updateScale=function(ecModel,gridModel){function unionExtent(data,axis){Object(util.each)(getDataDimensionsOnAxis(data,axis.dim),(function(dim){axis.scale.unionExtentFromData(data,dim)}))}Object(util.each)(this._axesList,(function(axis){if(axis.scale.setExtent(1/0,-1/0),"category"===axis.type){var categorySortInfo=axis.model.get("categorySortInfo");axis.scale.setSortInfo(categorySortInfo)}})),ecModel.eachSeries((function(seriesModel){if(isCartesian2DSeries(seriesModel)){var axesModelMap=findAxisModels(seriesModel),xAxisModel=axesModelMap.xAxisModel,yAxisModel=axesModelMap.yAxisModel;if(!isAxisUsedInTheGrid(xAxisModel,gridModel)||!isAxisUsedInTheGrid(yAxisModel,gridModel))return;var cartesian=this.getCartesian(xAxisModel.componentIndex,yAxisModel.componentIndex),data=seriesModel.getData(),xAxis=cartesian.getAxis("x"),yAxis=cartesian.getAxis("y");unionExtent(data,xAxis),unionExtent(data,yAxis)}}),this)},Grid.prototype.getTooltipAxes=function(dim){var baseAxes=[],otherAxes=[];return Object(util.each)(this.getCartesians(),(function(cartesian){var baseAxis=null!=dim&&"auto"!==dim?cartesian.getAxis(dim):cartesian.getBaseAxis(),otherAxis=cartesian.getOtherAxis(baseAxis);Object(util.indexOf)(baseAxes,baseAxis)<0&&baseAxes.push(baseAxis),Object(util.indexOf)(otherAxes,otherAxis)<0&&otherAxes.push(otherAxis)})),{baseAxes:baseAxes,otherAxes:otherAxes}},Grid.create=function(ecModel,api){var grids=[];return ecModel.eachComponent("grid",(function(gridModel,idx){var grid=new Grid(gridModel,ecModel,api);grid.name="grid_"+idx,grid.resize(gridModel,api,!0),gridModel.coordinateSystem=grid,grids.push(grid)})),ecModel.eachSeries((function(seriesModel){if(isCartesian2DSeries(seriesModel)){var axesModelMap=findAxisModels(seriesModel),xAxisModel=axesModelMap.xAxisModel,yAxisModel=axesModelMap.yAxisModel;0;var grid=xAxisModel.getCoordSysModel().coordinateSystem;seriesModel.coordinateSystem=grid.getCartesian(xAxisModel.componentIndex,yAxisModel.componentIndex)}})),grids},Grid.dimensions=cartesian2DDimensions,Grid}(),AxisBuilder_PI=Math.PI,AxisBuilder_AxisBuilder=function(){function AxisBuilder(axisModel,opt){this.group=new graphic_Group,this.opt=opt,this.axisModel=axisModel,Object(util.defaults)(opt,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var transformGroup=new graphic_Group({x:opt.position[0],y:opt.position[1],rotation:opt.rotation});transformGroup.updateTransform(),this._transformGroup=transformGroup}return AxisBuilder.prototype.hasBuilder=function(name){return!!builders[name]},AxisBuilder.prototype.add=function(name){builders[name](this.opt,this.axisModel,this.group,this._transformGroup)},AxisBuilder.prototype.getGroup=function(){return this.group},AxisBuilder.innerTextLayout=function(axisRotation,textRotation,direction){var textAlign,textVerticalAlign,rotationDiff=remRadian(textRotation-axisRotation);return isRadianAroundZero(rotationDiff)?(textVerticalAlign=direction>0?"top":"bottom",textAlign="center"):isRadianAroundZero(rotationDiff-AxisBuilder_PI)?(textVerticalAlign=direction>0?"bottom":"top",textAlign="center"):(textVerticalAlign="middle",textAlign=rotationDiff>0&&rotationDiff<AxisBuilder_PI?direction>0?"right":"left":direction>0?"left":"right"),{rotation:rotationDiff,textAlign:textAlign,textVerticalAlign:textVerticalAlign}},AxisBuilder.makeAxisEventDataBase=function(axisModel){var eventData={componentType:axisModel.mainType,componentIndex:axisModel.componentIndex};return eventData[axisModel.mainType+"Index"]=axisModel.componentIndex,eventData},AxisBuilder.isLabelSilent=function(axisModel){var tooltipOpt=axisModel.get("tooltip");return axisModel.get("silent")||!(axisModel.get("triggerEvent")||tooltipOpt&&tooltipOpt.show)},AxisBuilder}(),builders={axisLine:function(opt,axisModel,group,transformGroup){var shown=axisModel.get(["axisLine","show"]);if("auto"===shown&&opt.handleAutoShown&&(shown=opt.handleAutoShown("axisLine")),shown){var extent=axisModel.axis.getExtent(),matrix=transformGroup.transform,pt1=[extent[0],0],pt2=[extent[1],0];matrix&&(applyTransform(pt1,pt1,matrix),applyTransform(pt2,pt2,matrix));var lineStyle=Object(util.extend)({lineCap:"round"},axisModel.getModel(["axisLine","lineStyle"]).getLineStyle()),line=new shape_Line({subPixelOptimize:!0,shape:{x1:pt1[0],y1:pt1[1],x2:pt2[0],y2:pt2[1]},style:lineStyle,strokeContainThreshold:opt.strokeContainThreshold||5,silent:!0,z2:1});line.anid="line",group.add(line);var arrows=axisModel.get(["axisLine","symbol"]);if(null!=arrows){var arrowSize=axisModel.get(["axisLine","symbolSize"]);Object(util.isString)(arrows)&&(arrows=[arrows,arrows]),(Object(util.isString)(arrowSize)||Object(util.isNumber)(arrowSize))&&(arrowSize=[arrowSize,arrowSize]);var arrowOffset=normalizeSymbolOffset(axisModel.get(["axisLine","symbolOffset"])||0,arrowSize),symbolWidth_1=arrowSize[0],symbolHeight_1=arrowSize[1];Object(util.each)([{rotate:opt.rotation+Math.PI/2,offset:arrowOffset[0],r:0},{rotate:opt.rotation-Math.PI/2,offset:arrowOffset[1],r:Math.sqrt((pt1[0]-pt2[0])*(pt1[0]-pt2[0])+(pt1[1]-pt2[1])*(pt1[1]-pt2[1]))}],(function(point,index){if("none"!==arrows[index]&&null!=arrows[index]){var symbol=symbol_createSymbol(arrows[index],-symbolWidth_1/2,-symbolHeight_1/2,symbolWidth_1,symbolHeight_1,lineStyle.stroke,!0),r=point.r+point.offset;symbol.attr({rotation:point.rotate,x:pt1[0]+r*Math.cos(opt.rotation),y:pt1[1]-r*Math.sin(opt.rotation),silent:!0,z2:11}),group.add(symbol)}}))}}},axisTickLabel:function(opt,axisModel,group,transformGroup){var ticksEls=function buildAxisMajorTicks(group,transformGroup,axisModel,opt){var axis=axisModel.axis,tickModel=axisModel.getModel("axisTick"),shown=tickModel.get("show");"auto"===shown&&opt.handleAutoShown&&(shown=opt.handleAutoShown("axisTick"));if(!shown||axis.scale.isBlank())return;for(var lineStyleModel=tickModel.getModel("lineStyle"),tickEndCoord=opt.tickDirection*tickModel.get("length"),ticksEls=createTicks(axis.getTicksCoords(),transformGroup.transform,tickEndCoord,Object(util.defaults)(lineStyleModel.getLineStyle(),{stroke:axisModel.get(["axisLine","lineStyle","color"])}),"ticks"),i=0;i<ticksEls.length;i++)group.add(ticksEls[i]);return ticksEls}(group,transformGroup,axisModel,opt),labelEls=function buildAxisLabel(group,transformGroup,axisModel,opt){var axis=axisModel.axis;if(!Object(util.retrieve)(opt.axisLabelShow,axisModel.get(["axisLabel","show"]))||axis.scale.isBlank())return;var labelModel=axisModel.getModel("axisLabel"),labelMargin=labelModel.get("margin"),labels=axis.getViewLabels(),labelRotation=(Object(util.retrieve)(opt.labelRotate,labelModel.get("rotate"))||0)*AxisBuilder_PI/180,labelLayout=AxisBuilder_AxisBuilder.innerTextLayout(opt.rotation,labelRotation,opt.labelDirection),rawCategoryData=axisModel.getCategories&&axisModel.getCategories(!0),labelEls=[],silent=AxisBuilder_AxisBuilder.isLabelSilent(axisModel),triggerEvent=axisModel.get("triggerEvent");return Object(util.each)(labels,(function(labelItem,index){var tickValue="ordinal"===axis.scale.type?axis.scale.getRawOrdinalNumber(labelItem.tickValue):labelItem.tickValue,formattedLabel=labelItem.formattedLabel,rawLabel=labelItem.rawLabel,itemLabelModel=labelModel;if(rawCategoryData&&rawCategoryData[tickValue]){var rawCategoryItem=rawCategoryData[tickValue];Object(util.isObject)(rawCategoryItem)&&rawCategoryItem.textStyle&&(itemLabelModel=new model_Model(rawCategoryItem.textStyle,labelModel,axisModel.ecModel))}var textColor=itemLabelModel.getTextColor()||axisModel.get(["axisLine","lineStyle","color"]),tickCoord=axis.dataToCoord(tickValue),textEl=new Text({x:tickCoord,y:opt.labelOffset+opt.labelDirection*labelMargin,rotation:labelLayout.rotation,silent:silent,z2:10+(labelItem.level||0),style:createTextStyle(itemLabelModel,{text:formattedLabel,align:itemLabelModel.getShallow("align",!0)||labelLayout.textAlign,verticalAlign:itemLabelModel.getShallow("verticalAlign",!0)||itemLabelModel.getShallow("baseline",!0)||labelLayout.textVerticalAlign,fill:Object(util.isFunction)(textColor)?textColor("category"===axis.type?rawLabel:"value"===axis.type?tickValue+"":tickValue,index):textColor})});if(textEl.anid="label_"+tickValue,triggerEvent){var eventData=AxisBuilder_AxisBuilder.makeAxisEventDataBase(axisModel);eventData.targetType="axisLabel",eventData.value=rawLabel,eventData.tickIndex=index,"category"===axis.type&&(eventData.dataIndex=tickValue),getECData(textEl).eventData=eventData}transformGroup.add(textEl),textEl.updateTransform(),labelEls.push(textEl),group.add(textEl),textEl.decomposeTransform()})),labelEls}(group,transformGroup,axisModel,opt);(function fixMinMaxLabelShow(axisModel,labelEls,tickEls){if(shouldShowAllLabels(axisModel.axis))return;var showMinLabel=axisModel.get(["axisLabel","showMinLabel"]),showMaxLabel=axisModel.get(["axisLabel","showMaxLabel"]);tickEls=tickEls||[];var firstLabel=(labelEls=labelEls||[])[0],nextLabel=labelEls[1],lastLabel=labelEls[labelEls.length-1],prevLabel=labelEls[labelEls.length-2],firstTick=tickEls[0],nextTick=tickEls[1],lastTick=tickEls[tickEls.length-1],prevTick=tickEls[tickEls.length-2];!1===showMinLabel?(ignoreEl(firstLabel),ignoreEl(firstTick)):isTwoLabelOverlapped(firstLabel,nextLabel)&&(showMinLabel?(ignoreEl(nextLabel),ignoreEl(nextTick)):(ignoreEl(firstLabel),ignoreEl(firstTick)));!1===showMaxLabel?(ignoreEl(lastLabel),ignoreEl(lastTick)):isTwoLabelOverlapped(prevLabel,lastLabel)&&(showMaxLabel?(ignoreEl(prevLabel),ignoreEl(prevTick)):(ignoreEl(lastLabel),ignoreEl(lastTick)))}(axisModel,labelEls,ticksEls),function buildAxisMinorTicks(group,transformGroup,axisModel,tickDirection){var axis=axisModel.axis,minorTickModel=axisModel.getModel("minorTick");if(!minorTickModel.get("show")||axis.scale.isBlank())return;var minorTicksCoords=axis.getMinorTicksCoords();if(!minorTicksCoords.length)return;for(var lineStyleModel=minorTickModel.getModel("lineStyle"),tickEndCoord=tickDirection*minorTickModel.get("length"),minorTickLineStyle=Object(util.defaults)(lineStyleModel.getLineStyle(),Object(util.defaults)(axisModel.getModel("axisTick").getLineStyle(),{stroke:axisModel.get(["axisLine","lineStyle","color"])})),i=0;i<minorTicksCoords.length;i++)for(var minorTicksEls=createTicks(minorTicksCoords[i],transformGroup.transform,tickEndCoord,minorTickLineStyle,"minorticks_"+i),k=0;k<minorTicksEls.length;k++)group.add(minorTicksEls[k])}(group,transformGroup,axisModel,opt.tickDirection),axisModel.get(["axisLabel","hideOverlap"]))&&hideOverlap(prepareLayoutList(Object(util.map)(labelEls,(function(label){return{label:label,priority:label.z2,defaultAttr:{ignore:label.ignore}}}))))},axisName:function(opt,axisModel,group,transformGroup){var name=Object(util.retrieve)(opt.axisName,axisModel.get("name"));if(name){var labelLayout,axisNameAvailableWidth,nameLocation=axisModel.get("nameLocation"),nameDirection=opt.nameDirection,textStyleModel=axisModel.getModel("nameTextStyle"),gap=axisModel.get("nameGap")||0,extent=axisModel.axis.getExtent(),gapSignal=extent[0]>extent[1]?-1:1,pos=["start"===nameLocation?extent[0]-gapSignal*gap:"end"===nameLocation?extent[1]+gapSignal*gap:(extent[0]+extent[1])/2,isNameLocationCenter(nameLocation)?opt.labelOffset+nameDirection*gap:0],nameRotation=axisModel.get("nameRotate");null!=nameRotation&&(nameRotation=nameRotation*AxisBuilder_PI/180),isNameLocationCenter(nameLocation)?labelLayout=AxisBuilder_AxisBuilder.innerTextLayout(opt.rotation,null!=nameRotation?nameRotation:opt.rotation,nameDirection):(labelLayout=function endTextLayout(rotation,textPosition,textRotate,extent){var textAlign,textVerticalAlign,rotationDiff=remRadian(textRotate-rotation),inverse=extent[0]>extent[1],onLeft="start"===textPosition&&!inverse||"start"!==textPosition&&inverse;isRadianAroundZero(rotationDiff-AxisBuilder_PI/2)?(textVerticalAlign=onLeft?"bottom":"top",textAlign="center"):isRadianAroundZero(rotationDiff-1.5*AxisBuilder_PI)?(textVerticalAlign=onLeft?"top":"bottom",textAlign="center"):(textVerticalAlign="middle",textAlign=rotationDiff<1.5*AxisBuilder_PI&&rotationDiff>AxisBuilder_PI/2?onLeft?"left":"right":onLeft?"right":"left");return{rotation:rotationDiff,textAlign:textAlign,textVerticalAlign:textVerticalAlign}}(opt.rotation,nameLocation,nameRotation||0,extent),null!=(axisNameAvailableWidth=opt.axisNameAvailableWidth)&&(axisNameAvailableWidth=Math.abs(axisNameAvailableWidth/Math.sin(labelLayout.rotation)),!isFinite(axisNameAvailableWidth)&&(axisNameAvailableWidth=null)));var textFont=textStyleModel.getFont(),truncateOpt=axisModel.get("nameTruncate",!0)||{},ellipsis=truncateOpt.ellipsis,maxWidth=Object(util.retrieve)(opt.nameTruncateMaxWidth,truncateOpt.maxWidth,axisNameAvailableWidth),textEl=new Text({x:pos[0],y:pos[1],rotation:labelLayout.rotation,silent:AxisBuilder_AxisBuilder.isLabelSilent(axisModel),style:createTextStyle(textStyleModel,{text:name,font:textFont,overflow:"truncate",width:maxWidth,ellipsis:ellipsis,fill:textStyleModel.getTextColor()||axisModel.get(["axisLine","lineStyle","color"]),align:textStyleModel.get("align")||labelLayout.textAlign,verticalAlign:textStyleModel.get("verticalAlign")||labelLayout.textVerticalAlign}),z2:1});if(setTooltipConfig({el:textEl,componentModel:axisModel,itemName:name}),textEl.__fullText=name,textEl.anid="name",axisModel.get("triggerEvent")){var eventData=AxisBuilder_AxisBuilder.makeAxisEventDataBase(axisModel);eventData.targetType="axisName",eventData.name=name,getECData(textEl).eventData=eventData}transformGroup.add(textEl),textEl.updateTransform(),group.add(textEl),textEl.decomposeTransform()}}};function ignoreEl(el){el&&(el.ignore=!0)}function isTwoLabelOverlapped(current,next){var firstRect=current&&current.getBoundingRect().clone(),nextRect=next&&next.getBoundingRect().clone();if(firstRect&&nextRect){var mRotationBack=identity([]);return matrix_rotate(mRotationBack,mRotationBack,-current.rotation),firstRect.applyTransform(matrix_mul([],mRotationBack,current.getLocalTransform())),nextRect.applyTransform(matrix_mul([],mRotationBack,next.getLocalTransform())),firstRect.intersect(nextRect)}}function isNameLocationCenter(nameLocation){return"middle"===nameLocation||"center"===nameLocation}function createTicks(ticksCoords,tickTransform,tickEndCoord,tickLineStyle,anidPrefix){for(var tickEls=[],pt1=[],pt2=[],i=0;i<ticksCoords.length;i++){var tickCoord=ticksCoords[i].coord;pt1[0]=tickCoord,pt1[1]=0,pt2[0]=tickCoord,pt2[1]=tickEndCoord,tickTransform&&(applyTransform(pt1,pt1,tickTransform),applyTransform(pt2,pt2,tickTransform));var tickEl=new shape_Line({subPixelOptimize:!0,shape:{x1:pt1[0],y1:pt1[1],x2:pt2[0],y2:pt2[1]},style:tickLineStyle,z2:2,autoBatch:!0,silent:!0});tickEl.anid=anidPrefix+"_"+ticksCoords[i].tickValue,tickEls.push(tickEl)}return tickEls}var axis_AxisBuilder=AxisBuilder_AxisBuilder;function collect(ecModel,api){var result={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function collectAxesInfo(result,ecModel,api){var globalTooltipModel=ecModel.getComponent("tooltip"),globalAxisPointerModel=ecModel.getComponent("axisPointer"),linksOption=globalAxisPointerModel.get("link",!0)||[],linkGroups=[];Object(util.each)(api.getCoordinateSystems(),(function(coordSys){if(coordSys.axisPointerEnabled){var coordSysKey=makeKey(coordSys.model),axesInfoInCoordSys=result.coordSysAxesInfo[coordSysKey]={};result.coordSysMap[coordSysKey]=coordSys;var baseTooltipModel=coordSys.model.getModel("tooltip",globalTooltipModel);if(Object(util.each)(coordSys.getAxes(),Object(util.curry)(saveTooltipAxisInfo,!1,null)),coordSys.getTooltipAxes&&globalTooltipModel&&baseTooltipModel.get("show")){var triggerAxis="axis"===baseTooltipModel.get("trigger"),cross="cross"===baseTooltipModel.get(["axisPointer","type"]),tooltipAxes=coordSys.getTooltipAxes(baseTooltipModel.get(["axisPointer","axis"]));(triggerAxis||cross)&&Object(util.each)(tooltipAxes.baseAxes,Object(util.curry)(saveTooltipAxisInfo,!cross||"cross",triggerAxis)),cross&&Object(util.each)(tooltipAxes.otherAxes,Object(util.curry)(saveTooltipAxisInfo,"cross",!1))}}function saveTooltipAxisInfo(fromTooltip,triggerTooltip,axis){var axisPointerModel=axis.model.getModel("axisPointer",globalAxisPointerModel),axisPointerShow=axisPointerModel.get("show");if(axisPointerShow&&("auto"!==axisPointerShow||fromTooltip||isHandleTrigger(axisPointerModel))){null==triggerTooltip&&(triggerTooltip=axisPointerModel.get("triggerTooltip")),axisPointerModel=fromTooltip?function makeAxisPointerModel(axis,baseTooltipModel,globalAxisPointerModel,ecModel,fromTooltip,triggerTooltip){var tooltipAxisPointerModel=baseTooltipModel.getModel("axisPointer"),fields=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],volatileOption={};Object(util.each)(fields,(function(field){volatileOption[field]=Object(util.clone)(tooltipAxisPointerModel.get(field))})),volatileOption.snap="category"!==axis.type&&!!triggerTooltip,"cross"===tooltipAxisPointerModel.get("type")&&(volatileOption.type="line");var labelOption=volatileOption.label||(volatileOption.label={});if(null==labelOption.show&&(labelOption.show=!1),"cross"===fromTooltip){var tooltipAxisPointerLabelShow=tooltipAxisPointerModel.get(["label","show"]);if(labelOption.show=null==tooltipAxisPointerLabelShow||tooltipAxisPointerLabelShow,!triggerTooltip){var crossStyle=volatileOption.lineStyle=tooltipAxisPointerModel.get("crossStyle");crossStyle&&Object(util.defaults)(labelOption,crossStyle.textStyle)}}return axis.model.getModel("axisPointer",new model_Model(volatileOption,globalAxisPointerModel,ecModel))}(axis,baseTooltipModel,globalAxisPointerModel,ecModel,fromTooltip,triggerTooltip):axisPointerModel;var snap=axisPointerModel.get("snap"),axisKey=makeKey(axis.model),involveSeries=triggerTooltip||snap||"category"===axis.type,axisInfo=result.axesInfo[axisKey]={key:axisKey,axis:axis,coordSys:coordSys,axisPointerModel:axisPointerModel,triggerTooltip:triggerTooltip,involveSeries:involveSeries,snap:snap,useHandle:isHandleTrigger(axisPointerModel),seriesModels:[],linkGroup:null};axesInfoInCoordSys[axisKey]=axisInfo,result.seriesInvolved=result.seriesInvolved||involveSeries;var groupIndex=function getLinkGroupIndex(linksOption,axis){for(var axisModel=axis.model,dim=axis.dim,i=0;i<linksOption.length;i++){var linkOption=linksOption[i]||{};if(checkPropInLink(linkOption[dim+"AxisId"],axisModel.id)||checkPropInLink(linkOption[dim+"AxisIndex"],axisModel.componentIndex)||checkPropInLink(linkOption[dim+"AxisName"],axisModel.name))return i}}(linksOption,axis);if(null!=groupIndex){var linkGroup=linkGroups[groupIndex]||(linkGroups[groupIndex]={axesInfo:{}});linkGroup.axesInfo[axisKey]=axisInfo,linkGroup.mapper=linksOption[groupIndex].mapper,axisInfo.linkGroup=linkGroup}}}}))}(result,ecModel,api),result.seriesInvolved&&function collectSeriesInfo(result,ecModel){ecModel.eachSeries((function(seriesModel){var coordSys=seriesModel.coordinateSystem,seriesTooltipTrigger=seriesModel.get(["tooltip","trigger"],!0),seriesTooltipShow=seriesModel.get(["tooltip","show"],!0);coordSys&&"none"!==seriesTooltipTrigger&&!1!==seriesTooltipTrigger&&"item"!==seriesTooltipTrigger&&!1!==seriesTooltipShow&&!1!==seriesModel.get(["axisPointer","show"],!0)&&Object(util.each)(result.coordSysAxesInfo[makeKey(coordSys.model)],(function(axisInfo){var axis=axisInfo.axis;coordSys.getAxis(axis.dim)===axis&&(axisInfo.seriesModels.push(seriesModel),null==axisInfo.seriesDataCount&&(axisInfo.seriesDataCount=0),axisInfo.seriesDataCount+=seriesModel.getData().count())}))}))}(result,ecModel),result}function checkPropInLink(linkPropValue,axisPropValue){return"all"===linkPropValue||Object(util.isArray)(linkPropValue)&&Object(util.indexOf)(linkPropValue,axisPropValue)>=0||linkPropValue===axisPropValue}function fixValue(axisModel){var axisInfo=getAxisInfo(axisModel);if(axisInfo){var axisPointerModel=axisInfo.axisPointerModel,scale=axisInfo.axis.scale,option=axisPointerModel.option,status=axisPointerModel.get("status"),value=axisPointerModel.get("value");null!=value&&(value=scale.parse(value));var useHandle=isHandleTrigger(axisPointerModel);null==status&&(option.status=useHandle?"show":"hide");var extent=scale.getExtent().slice();extent[0]>extent[1]&&extent.reverse(),(null==value||value>extent[1])&&(value=extent[1]),value<extent[0]&&(value=extent[0]),option.value=value,useHandle&&(option.status=axisInfo.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo(axisModel){var coordSysAxesInfo=(axisModel.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return coordSysAxesInfo&&coordSysAxesInfo.axesInfo[makeKey(axisModel)]}function isHandleTrigger(axisPointerModel){return!!axisPointerModel.get(["handle","show"])}function makeKey(model){return model.type+"||"+model.id}var axisPointerClazz={},AxisView_AxisView=function(_super){function AxisView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=AxisView.type,_this}return __extends(AxisView,_super),AxisView.prototype.render=function(axisModel,ecModel,api,payload){this.axisPointerClass&&fixValue(axisModel),_super.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(axisModel,api,!0)},AxisView.prototype.updateAxisPointer=function(axisModel,ecModel,api,payload){this._doUpdateAxisPointerClass(axisModel,api,!1)},AxisView.prototype.remove=function(ecModel,api){var axisPointer=this._axisPointer;axisPointer&&axisPointer.remove(api)},AxisView.prototype.dispose=function(ecModel,api){this._disposeAxisPointer(api),_super.prototype.dispose.apply(this,arguments)},AxisView.prototype._doUpdateAxisPointerClass=function(axisModel,api,forceRender){var Clazz=AxisView.getAxisPointerClass(this.axisPointerClass);if(Clazz){var axisPointerModel=function getAxisPointerModel(axisModel){var axisInfo=getAxisInfo(axisModel);return axisInfo&&axisInfo.axisPointerModel}(axisModel);axisPointerModel?(this._axisPointer||(this._axisPointer=new Clazz)).render(axisModel,axisPointerModel,api,forceRender):this._disposeAxisPointer(api)}},AxisView.prototype._disposeAxisPointer=function(api){this._axisPointer&&this._axisPointer.dispose(api),this._axisPointer=null},AxisView.registerAxisPointerClass=function(type,clazz){axisPointerClazz[type]=clazz},AxisView.getAxisPointerClass=function(type){return type&&axisPointerClazz[type]},AxisView.type="axis",AxisView}(view_Component),axis_AxisView=AxisView_AxisView,axisSplitHelper_inner=makeInner();function rectCoordAxisBuildSplitArea(axisView,axisGroup,axisModel,gridModel){var axis=axisModel.axis;if(!axis.scale.isBlank()){var splitAreaModel=axisModel.getModel("splitArea"),areaStyleModel=splitAreaModel.getModel("areaStyle"),areaColors=areaStyleModel.get("color"),gridRect=gridModel.coordinateSystem.getRect(),ticksCoords=axis.getTicksCoords({tickModel:splitAreaModel,clamp:!0});if(ticksCoords.length){var areaColorsLen=areaColors.length,lastSplitAreaColors=axisSplitHelper_inner(axisView).splitAreaColors,newSplitAreaColors=util.createHashMap(),colorIndex=0;if(lastSplitAreaColors)for(var i=0;i<ticksCoords.length;i++){var cIndex=lastSplitAreaColors.get(ticksCoords[i].tickValue);if(null!=cIndex){colorIndex=(cIndex+(areaColorsLen-1)*i)%areaColorsLen;break}}var prev=axis.toGlobalCoord(ticksCoords[0].coord),areaStyle=areaStyleModel.getAreaStyle();areaColors=util.isArray(areaColors)?areaColors:[areaColors];for(i=1;i<ticksCoords.length;i++){var tickCoord=axis.toGlobalCoord(ticksCoords[i].coord),x=void 0,y=void 0,width=void 0,height=void 0;axis.isHorizontal()?(x=prev,y=gridRect.y,width=tickCoord-x,height=gridRect.height,prev=x+width):(x=gridRect.x,y=prev,width=gridRect.width,prev=y+(height=tickCoord-y));var tickValue=ticksCoords[i-1].tickValue;null!=tickValue&&newSplitAreaColors.set(tickValue,colorIndex),axisGroup.add(new shape_Rect({anid:null!=tickValue?"area_"+tickValue:null,shape:{x:x,y:y,width:width,height:height},style:util.defaults({fill:areaColors[colorIndex]},areaStyle),autoBatch:!0,silent:!0})),colorIndex=(colorIndex+1)%areaColorsLen}axisSplitHelper_inner(axisView).splitAreaColors=newSplitAreaColors}}}function rectCoordAxisHandleRemove(axisView){axisSplitHelper_inner(axisView).splitAreaColors=null}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine","minorSplitLine"],CartesianAxisView_CartesianAxisView=function(_super){function CartesianAxisView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CartesianAxisView.type,_this.axisPointerClass="CartesianAxisPointer",_this}return __extends(CartesianAxisView,_super),CartesianAxisView.prototype.render=function(axisModel,ecModel,api,payload){this.group.removeAll();var oldAxisGroup=this._axisGroup;if(this._axisGroup=new graphic_Group,this.group.add(this._axisGroup),axisModel.get("show")){var gridModel=axisModel.getCoordSysModel(),layout=cartesianAxisHelper_layout(gridModel,axisModel),axisBuilder=new axis_AxisBuilder(axisModel,util.extend({handleAutoShown:function(elementType){for(var cartesians=gridModel.coordinateSystem.getCartesians(),i=0;i<cartesians.length;i++)if(isIntervalOrLogScale(cartesians[i].getOtherAxis(axisModel.axis).scale))return!0;return!1}},layout));util.each(axisBuilderAttrs,axisBuilder.add,axisBuilder),this._axisGroup.add(axisBuilder.getGroup()),util.each(selfBuilderAttrs,(function(name){axisModel.get([name,"show"])&&axisElementBuilders[name](this,this._axisGroup,axisModel,gridModel)}),this),payload&&"changeAxisOrder"===payload.type&&payload.isInitSort||groupTransition(oldAxisGroup,this._axisGroup,axisModel),_super.prototype.render.call(this,axisModel,ecModel,api,payload)}},CartesianAxisView.prototype.remove=function(){rectCoordAxisHandleRemove(this)},CartesianAxisView.type="cartesianAxis",CartesianAxisView}(axis_AxisView),axisElementBuilders={splitLine:function(axisView,axisGroup,axisModel,gridModel){var axis=axisModel.axis;if(!axis.scale.isBlank()){var splitLineModel=axisModel.getModel("splitLine"),lineStyleModel=splitLineModel.getModel("lineStyle"),lineColors=lineStyleModel.get("color");lineColors=util.isArray(lineColors)?lineColors:[lineColors];for(var gridRect=gridModel.coordinateSystem.getRect(),isHorizontal=axis.isHorizontal(),lineCount=0,ticksCoords=axis.getTicksCoords({tickModel:splitLineModel}),p1=[],p2=[],lineStyle=lineStyleModel.getLineStyle(),i=0;i<ticksCoords.length;i++){var tickCoord=axis.toGlobalCoord(ticksCoords[i].coord);isHorizontal?(p1[0]=tickCoord,p1[1]=gridRect.y,p2[0]=tickCoord,p2[1]=gridRect.y+gridRect.height):(p1[0]=gridRect.x,p1[1]=tickCoord,p2[0]=gridRect.x+gridRect.width,p2[1]=tickCoord);var colorIndex=lineCount++%lineColors.length,tickValue=ticksCoords[i].tickValue;axisGroup.add(new shape_Line({anid:null!=tickValue?"line_"+ticksCoords[i].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:p1[0],y1:p1[1],x2:p2[0],y2:p2[1]},style:util.defaults({stroke:lineColors[colorIndex]},lineStyle),silent:!0}))}}},minorSplitLine:function(axisView,axisGroup,axisModel,gridModel){var axis=axisModel.axis,lineStyleModel=axisModel.getModel("minorSplitLine").getModel("lineStyle"),gridRect=gridModel.coordinateSystem.getRect(),isHorizontal=axis.isHorizontal(),minorTicksCoords=axis.getMinorTicksCoords();if(minorTicksCoords.length)for(var p1=[],p2=[],lineStyle=lineStyleModel.getLineStyle(),i=0;i<minorTicksCoords.length;i++)for(var k=0;k<minorTicksCoords[i].length;k++){var tickCoord=axis.toGlobalCoord(minorTicksCoords[i][k].coord);isHorizontal?(p1[0]=tickCoord,p1[1]=gridRect.y,p2[0]=tickCoord,p2[1]=gridRect.y+gridRect.height):(p1[0]=gridRect.x,p1[1]=tickCoord,p2[0]=gridRect.x+gridRect.width,p2[1]=tickCoord),axisGroup.add(new shape_Line({anid:"minor_line_"+minorTicksCoords[i][k].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:p1[0],y1:p1[1],x2:p2[0],y2:p2[1]},style:lineStyle,silent:!0}))}},splitArea:function(axisView,axisGroup,axisModel,gridModel){rectCoordAxisBuildSplitArea(axisView,axisGroup,axisModel,gridModel)}},CartesianAxisView_CartesianXAxisView=function(_super){function CartesianXAxisView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CartesianXAxisView.type,_this}return __extends(CartesianXAxisView,_super),CartesianXAxisView.type="xAxis",CartesianXAxisView}(CartesianAxisView_CartesianAxisView),CartesianAxisView_CartesianYAxisView=function(_super){function CartesianYAxisView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CartesianAxisView_CartesianXAxisView.type,_this}return __extends(CartesianYAxisView,_super),CartesianYAxisView.type="yAxis",CartesianYAxisView}(CartesianAxisView_CartesianAxisView),installSimple_GridView=function(_super){function GridView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="grid",_this}return __extends(GridView,_super),GridView.prototype.render=function(gridModel,ecModel){this.group.removeAll(),gridModel.get("show")&&this.group.add(new shape_Rect({shape:gridModel.coordinateSystem.getRect(),style:Object(util.defaults)({fill:gridModel.get("backgroundColor")},gridModel.getItemStyle()),silent:!0,z2:-1}))},GridView.type="grid",GridView}(view_Component),extraOption={offset:0};function installSimple_install(registers){registers.registerComponentView(installSimple_GridView),registers.registerComponentModel(cartesian_GridModel),registers.registerCoordinateSystem("cartesian2d",cartesian_Grid),axisModelCreator(registers,"x",AxisModel_CartesianAxisModel,extraOption),axisModelCreator(registers,"y",AxisModel_CartesianAxisModel,extraOption),registers.registerComponentView(CartesianAxisView_CartesianXAxisView),registers.registerComponentView(CartesianAxisView_CartesianYAxisView),registers.registerPreprocessor((function(option){option.xAxis&&option.yAxis&&!option.grid&&(option.grid={})}))}function radarLayout(ecModel){ecModel.eachSeriesByType("radar",(function(seriesModel){var data=seriesModel.getData(),points=[],coordSys=seriesModel.coordinateSystem;if(coordSys){var axes=coordSys.getIndicatorAxes();util.each(axes,(function(axis,axisIndex){data.each(data.mapDimension(axes[axisIndex].dim),(function(val,dataIndex){points[dataIndex]=points[dataIndex]||[];var point=coordSys.dataToPoint(val,axisIndex);points[dataIndex][axisIndex]=isValidPoint(point)?point:getValueMissingPoint(coordSys)}))})),data.each((function(idx){var firstPoint=util.find(points[idx],(function(point){return isValidPoint(point)}))||getValueMissingPoint(coordSys);points[idx].push(firstPoint.slice()),data.setItemLayout(idx,points[idx])}))}}))}function isValidPoint(point){return!isNaN(point[0])&&!isNaN(point[1])}function getValueMissingPoint(coordSys){return[coordSys.cx,coordSys.cy]}function radarBackwardCompat(option){var polarOptArr=option.polar;if(polarOptArr){util.isArray(polarOptArr)||(polarOptArr=[polarOptArr]);var polarNotRadar_1=[];util.each(polarOptArr,(function(polarOpt,idx){polarOpt.indicator?(polarOpt.type&&!polarOpt.shape&&(polarOpt.shape=polarOpt.type),option.radar=option.radar||[],util.isArray(option.radar)||(option.radar=[option.radar]),option.radar.push(polarOpt)):polarNotRadar_1.push(polarOpt)})),option.polar=polarNotRadar_1}util.each(option.series,(function(seriesOpt){seriesOpt&&"radar"===seriesOpt.type&&seriesOpt.polarIndex&&(seriesOpt.radarIndex=seriesOpt.polarIndex)}))}var RadarView_RadarView=function(_super){function RadarView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=RadarView.type,_this}return __extends(RadarView,_super),RadarView.prototype.render=function(seriesModel,ecModel,api){var polar=seriesModel.coordinateSystem,group=this.group,data=seriesModel.getData(),oldData=this._data;function createSymbol(data,idx){var symbolType=data.getItemVisual(idx,"symbol")||"circle";if("none"!==symbolType){var symbolSize=normalizeSymbolSize(data.getItemVisual(idx,"symbolSize")),symbolPath=symbol_createSymbol(symbolType,-1,-1,2,2),symbolRotate=data.getItemVisual(idx,"symbolRotate")||0;return symbolPath.attr({style:{strokeNoScale:!0},z2:100,scaleX:symbolSize[0]/2,scaleY:symbolSize[1]/2,rotation:symbolRotate*Math.PI/180||0}),symbolPath}}function updateSymbols(oldPoints,newPoints,symbolGroup,data,idx,isInit){symbolGroup.removeAll();for(var i=0;i<newPoints.length-1;i++){var symbolPath=createSymbol(data,idx);symbolPath&&(symbolPath.__dimIdx=i,oldPoints[i]?(symbolPath.setPosition(oldPoints[i]),graphic_namespaceObject[isInit?"initProps":"updateProps"](symbolPath,{x:newPoints[i][0],y:newPoints[i][1]},seriesModel,idx)):symbolPath.setPosition(newPoints[i]),symbolGroup.add(symbolPath))}}function getInitialPoints(points){return util.map(points,(function(pt){return[polar.cx,polar.cy]}))}data.diff(oldData).add((function(idx){var points=data.getItemLayout(idx);if(points){var polygon=new shape_Polygon,polyline=new shape_Polyline,target={shape:{points:points}};polygon.shape.points=getInitialPoints(points),polyline.shape.points=getInitialPoints(points),initProps(polygon,target,seriesModel,idx),initProps(polyline,target,seriesModel,idx);var itemGroup=new graphic_Group,symbolGroup=new graphic_Group;itemGroup.add(polyline),itemGroup.add(polygon),itemGroup.add(symbolGroup),updateSymbols(polyline.shape.points,points,symbolGroup,data,idx,!0),data.setItemGraphicEl(idx,itemGroup)}})).update((function(newIdx,oldIdx){var itemGroup=oldData.getItemGraphicEl(oldIdx),polyline=itemGroup.childAt(0),polygon=itemGroup.childAt(1),symbolGroup=itemGroup.childAt(2),target={shape:{points:data.getItemLayout(newIdx)}};target.shape.points&&(updateSymbols(polyline.shape.points,target.shape.points,symbolGroup,data,newIdx,!1),saveOldStyle(polygon),saveOldStyle(polyline),updateProps(polyline,target,seriesModel),updateProps(polygon,target,seriesModel),data.setItemGraphicEl(newIdx,itemGroup))})).remove((function(idx){group.remove(oldData.getItemGraphicEl(idx))})).execute(),data.eachItemGraphicEl((function(itemGroup,idx){var itemModel=data.getItemModel(idx),polyline=itemGroup.childAt(0),polygon=itemGroup.childAt(1),symbolGroup=itemGroup.childAt(2),itemStyle=data.getItemVisual(idx,"style"),color=itemStyle.fill;group.add(itemGroup),polyline.useStyle(util.defaults(itemModel.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:color})),setStatesStylesFromModel(polyline,itemModel,"lineStyle"),setStatesStylesFromModel(polygon,itemModel,"areaStyle");var areaStyleModel=itemModel.getModel("areaStyle"),polygonIgnore=areaStyleModel.isEmpty()&&areaStyleModel.parentModel.isEmpty();polygon.ignore=polygonIgnore,util.each(["emphasis","select","blur"],(function(stateName){var stateModel=itemModel.getModel([stateName,"areaStyle"]),stateIgnore=stateModel.isEmpty()&&stateModel.parentModel.isEmpty();polygon.ensureState(stateName).ignore=stateIgnore&&polygonIgnore})),polygon.useStyle(util.defaults(areaStyleModel.getAreaStyle(),{fill:color,opacity:.7,decal:itemStyle.decal}));var emphasisModel=itemModel.getModel("emphasis"),itemHoverStyle=emphasisModel.getModel("itemStyle").getItemStyle();symbolGroup.eachChild((function(symbolPath){if(symbolPath instanceof graphic_Image){var pathStyle=symbolPath.style;symbolPath.useStyle(util.extend({image:pathStyle.image,x:pathStyle.x,y:pathStyle.y,width:pathStyle.width,height:pathStyle.height},itemStyle))}else symbolPath.useStyle(itemStyle),symbolPath.setColor(color),symbolPath.style.strokeNoScale=!0;symbolPath.ensureState("emphasis").style=util.clone(itemHoverStyle);var defaultText=data.getStore().get(data.getDimensionIndex(symbolPath.__dimIdx),idx);(null==defaultText||isNaN(defaultText))&&(defaultText=""),setLabelStyle(symbolPath,getLabelStatesModels(itemModel),{labelFetcher:data.hostModel,labelDataIndex:idx,labelDimIndex:symbolPath.__dimIdx,defaultText:defaultText,inheritColor:color,defaultOpacity:itemStyle.opacity})})),toggleHoverEmphasis(itemGroup,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled"))})),this._data=data},RadarView.prototype.remove=function(){this.group.removeAll(),this._data=null},RadarView.type="radar",RadarView}(Chart),radar_RadarView=RadarView_RadarView,RadarSeries_RadarSeriesModel=function(_super){function RadarSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=RadarSeriesModel.type,_this.hasSymbolVisual=!0,_this}return __extends(RadarSeriesModel,_super),RadarSeriesModel.prototype.init=function(option){_super.prototype.init.apply(this,arguments),this.legendVisualProvider=new visual_LegendVisualProvider(util.bind(this.getData,this),util.bind(this.getRawData,this))},RadarSeriesModel.prototype.getInitialData=function(option,ecModel){return createSeriesDataSimply(this,{generateCoord:"indicator_",generateCoordCount:1/0})},RadarSeriesModel.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){var data=this.getData(),indicatorAxes=this.coordinateSystem.getIndicatorAxes(),name=this.getData().getName(dataIndex),nameToDisplay=""===name?this.name:name,markerColor=retrieveVisualColorForTooltipMarker(this,dataIndex);return createTooltipMarkup("section",{header:nameToDisplay,sortBlocks:!0,blocks:util.map(indicatorAxes,(function(axis){var val=data.get(data.mapDimension(axis.dim),dataIndex);return createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:markerColor,name:axis.name,value:val,sortParam:val})}))})},RadarSeriesModel.prototype.getTooltipPosition=function(dataIndex){if(null!=dataIndex)for(var data_1=this.getData(),coordSys=this.coordinateSystem,values=data_1.getValues(util.map(coordSys.dimensions,(function(dim){return data_1.mapDimension(dim)})),dataIndex),i=0,len=values.length;i<len;i++)if(!isNaN(values[i])){var indicatorAxes=coordSys.getIndicatorAxes();return coordSys.coordToPoint(indicatorAxes[i].dataToCoord(values[i]),i)}},RadarSeriesModel.type="series.radar",RadarSeriesModel.dependencies=["radar"],RadarSeriesModel.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},RadarSeriesModel}(Series),RadarSeries=RadarSeries_RadarSeriesModel,valueAxisDefault=axisDefault.value;function defaultsShow(opt,show){return util.defaults({show:show},opt)}var RadarModel_RadarModel=function(_super){function RadarModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=RadarModel.type,_this}return __extends(RadarModel,_super),RadarModel.prototype.optionUpdated=function(){var boundaryGap=this.get("boundaryGap"),splitNumber=this.get("splitNumber"),scale=this.get("scale"),axisLine=this.get("axisLine"),axisTick=this.get("axisTick"),axisLabel=this.get("axisLabel"),nameTextStyle=this.get("axisName"),showName=this.get(["axisName","show"]),nameFormatter=this.get(["axisName","formatter"]),nameGap=this.get("axisNameGap"),triggerEvent=this.get("triggerEvent"),indicatorModels=util.map(this.get("indicator")||[],(function(indicatorOpt){null!=indicatorOpt.max&&indicatorOpt.max>0&&!indicatorOpt.min?indicatorOpt.min=0:null!=indicatorOpt.min&&indicatorOpt.min<0&&!indicatorOpt.max&&(indicatorOpt.max=0);var iNameTextStyle=nameTextStyle;null!=indicatorOpt.color&&(iNameTextStyle=util.defaults({color:indicatorOpt.color},nameTextStyle));var innerIndicatorOpt=util.merge(util.clone(indicatorOpt),{boundaryGap:boundaryGap,splitNumber:splitNumber,scale:scale,axisLine:axisLine,axisTick:axisTick,axisLabel:axisLabel,name:indicatorOpt.text,showName:showName,nameLocation:"end",nameGap:nameGap,nameTextStyle:iNameTextStyle,triggerEvent:triggerEvent},!1);if(showName||(innerIndicatorOpt.name=""),util.isString(nameFormatter)){var indName=innerIndicatorOpt.name;innerIndicatorOpt.name=nameFormatter.replace("{value}",null!=indName?indName:"")}else util.isFunction(nameFormatter)&&(innerIndicatorOpt.name=nameFormatter(innerIndicatorOpt.name,innerIndicatorOpt));var model=new model_Model(innerIndicatorOpt,null,this.ecModel);return util.mixin(model,AxisModelCommonMixin.prototype),model.mainType="radar",model.componentIndex=this.componentIndex,model}),this);this._indicatorModels=indicatorModels},RadarModel.prototype.getIndicatorModels=function(){return this._indicatorModels},RadarModel.type="radar",RadarModel.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:util.merge({lineStyle:{color:"#bbb"}},valueAxisDefault.axisLine),axisLabel:defaultsShow(valueAxisDefault.axisLabel,!1),axisTick:defaultsShow(valueAxisDefault.axisTick,!1),splitLine:defaultsShow(valueAxisDefault.splitLine,!0),splitArea:defaultsShow(valueAxisDefault.splitArea,!0),indicator:[]},RadarModel}(Component),radar_RadarModel=RadarModel_RadarModel,RadarView_axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],radar_RadarView_RadarView=function(_super){function RadarView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=RadarView.type,_this}return __extends(RadarView,_super),RadarView.prototype.render=function(radarModel,ecModel,api){this.group.removeAll(),this._buildAxes(radarModel),this._buildSplitLineAndArea(radarModel)},RadarView.prototype._buildAxes=function(radarModel){var radar=radarModel.coordinateSystem,indicatorAxes=radar.getIndicatorAxes(),axisBuilders=util.map(indicatorAxes,(function(indicatorAxis){var axisName=indicatorAxis.model.get("showName")?indicatorAxis.name:"";return new axis_AxisBuilder(indicatorAxis.model,{axisName:axisName,position:[radar.cx,radar.cy],rotation:indicatorAxis.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}));util.each(axisBuilders,(function(axisBuilder){util.each(RadarView_axisBuilderAttrs,axisBuilder.add,axisBuilder),this.group.add(axisBuilder.getGroup())}),this)},RadarView.prototype._buildSplitLineAndArea=function(radarModel){var radar=radarModel.coordinateSystem,indicatorAxes=radar.getIndicatorAxes();if(indicatorAxes.length){var shape=radarModel.get("shape"),splitLineModel=radarModel.getModel("splitLine"),splitAreaModel=radarModel.getModel("splitArea"),lineStyleModel=splitLineModel.getModel("lineStyle"),areaStyleModel=splitAreaModel.getModel("areaStyle"),showSplitLine=splitLineModel.get("show"),showSplitArea=splitAreaModel.get("show"),splitLineColors=lineStyleModel.get("color"),splitAreaColors=areaStyleModel.get("color"),splitLineColorsArr=util.isArray(splitLineColors)?splitLineColors:[splitLineColors],splitAreaColorsArr=util.isArray(splitAreaColors)?splitAreaColors:[splitAreaColors],splitLines=[],splitAreas=[];if("circle"===shape)for(var ticksRadius=indicatorAxes[0].getTicksCoords(),cx=radar.cx,cy=radar.cy,i=0;i<ticksRadius.length;i++){if(showSplitLine)splitLines[getColorIndex(splitLines,splitLineColorsArr,i)].push(new shape_Circle({shape:{cx:cx,cy:cy,r:ticksRadius[i].coord}}));if(showSplitArea&&i<ticksRadius.length-1)splitAreas[getColorIndex(splitAreas,splitAreaColorsArr,i)].push(new shape_Ring({shape:{cx:cx,cy:cy,r0:ticksRadius[i].coord,r:ticksRadius[i+1].coord}}))}else{var realSplitNumber_1,axesTicksPoints=util.map(indicatorAxes,(function(indicatorAxis,idx){var ticksCoords=indicatorAxis.getTicksCoords();return realSplitNumber_1=null==realSplitNumber_1?ticksCoords.length-1:Math.min(ticksCoords.length-1,realSplitNumber_1),util.map(ticksCoords,(function(tickCoord){return radar.coordToPoint(tickCoord.coord,idx)}))})),prevPoints=[];for(i=0;i<=realSplitNumber_1;i++){for(var points=[],j=0;j<indicatorAxes.length;j++)points.push(axesTicksPoints[j][i]);if(points[0]&&points.push(points[0].slice()),showSplitLine)splitLines[getColorIndex(splitLines,splitLineColorsArr,i)].push(new shape_Polyline({shape:{points:points}}));if(showSplitArea&&prevPoints)splitAreas[getColorIndex(splitAreas,splitAreaColorsArr,i-1)].push(new shape_Polygon({shape:{points:points.concat(prevPoints)}}));prevPoints=points.slice().reverse()}}var lineStyle=lineStyleModel.getLineStyle(),areaStyle=areaStyleModel.getAreaStyle();util.each(splitAreas,(function(splitAreas,idx){this.group.add(graphic_mergePath(splitAreas,{style:util.defaults({stroke:"none",fill:splitAreaColorsArr[idx%splitAreaColorsArr.length]},areaStyle),silent:!0}))}),this),util.each(splitLines,(function(splitLines,idx){this.group.add(graphic_mergePath(splitLines,{style:util.defaults({fill:"none",stroke:splitLineColorsArr[idx%splitLineColorsArr.length]},lineStyle),silent:!0}))}),this)}function getColorIndex(areaOrLine,areaOrLineColorList,idx){var colorIndex=idx%areaOrLineColorList.length;return areaOrLine[colorIndex]=areaOrLine[colorIndex]||[],colorIndex}},RadarView.type="radar",RadarView}(view_Component),component_radar_RadarView=radar_RadarView_RadarView,radar_IndicatorAxis=function(_super){function IndicatorAxis(dim,scale,radiusExtent){var _this=_super.call(this,dim,scale,radiusExtent)||this;return _this.type="value",_this.angle=0,_this.name="",_this}return __extends(IndicatorAxis,_super),IndicatorAxis}(coord_Axis),radar_Radar=function(){function Radar(radarModel,ecModel,api){this.dimensions=[],this._model=radarModel,this._indicatorAxes=Object(util.map)(radarModel.getIndicatorModels(),(function(indicatorModel,idx){var dim="indicator_"+idx,indicatorAxis=new radar_IndicatorAxis(dim,new Interval);return indicatorAxis.name=indicatorModel.get("name"),indicatorAxis.model=indicatorModel,indicatorModel.axis=indicatorAxis,this.dimensions.push(dim),indicatorAxis}),this),this.resize(radarModel,api)}return Radar.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Radar.prototype.dataToPoint=function(value,indicatorIndex){var indicatorAxis=this._indicatorAxes[indicatorIndex];return this.coordToPoint(indicatorAxis.dataToCoord(value),indicatorIndex)},Radar.prototype.coordToPoint=function(coord,indicatorIndex){var angle=this._indicatorAxes[indicatorIndex].angle;return[this.cx+coord*Math.cos(angle),this.cy-coord*Math.sin(angle)]},Radar.prototype.pointToData=function(pt){var dx=pt[0]-this.cx,dy=pt[1]-this.cy,radius=Math.sqrt(dx*dx+dy*dy);dx/=radius,dy/=radius;for(var closestAxis,radian=Math.atan2(-dy,dx),minRadianDiff=1/0,closestAxisIdx=-1,i=0;i<this._indicatorAxes.length;i++){var indicatorAxis=this._indicatorAxes[i],diff=Math.abs(radian-indicatorAxis.angle);diff<minRadianDiff&&(closestAxis=indicatorAxis,closestAxisIdx=i,minRadianDiff=diff)}return[closestAxisIdx,+(closestAxis&&closestAxis.coordToData(radius))]},Radar.prototype.resize=function(radarModel,api){var center=radarModel.get("center"),viewWidth=api.getWidth(),viewHeight=api.getHeight(),viewSize=Math.min(viewWidth,viewHeight)/2;this.cx=number_parsePercent(center[0],viewWidth),this.cy=number_parsePercent(center[1],viewHeight),this.startAngle=radarModel.get("startAngle")*Math.PI/180;var radius=radarModel.get("radius");(Object(util.isString)(radius)||Object(util.isNumber)(radius))&&(radius=[0,radius]),this.r0=number_parsePercent(radius[0],viewSize),this.r=number_parsePercent(radius[1],viewSize),Object(util.each)(this._indicatorAxes,(function(indicatorAxis,idx){indicatorAxis.setExtent(this.r0,this.r);var angle=this.startAngle+idx*Math.PI*2/this._indicatorAxes.length;angle=Math.atan2(Math.sin(angle),Math.cos(angle)),indicatorAxis.angle=angle}),this)},Radar.prototype.update=function(ecModel,api){var indicatorAxes=this._indicatorAxes,radarModel=this._model;Object(util.each)(indicatorAxes,(function(indicatorAxis){indicatorAxis.scale.setExtent(1/0,-1/0)})),ecModel.eachSeriesByType("radar",(function(radarSeries,idx){if("radar"===radarSeries.get("coordinateSystem")&&ecModel.getComponent("radar",radarSeries.get("radarIndex"))===radarModel){var data=radarSeries.getData();Object(util.each)(indicatorAxes,(function(indicatorAxis){indicatorAxis.scale.unionExtentFromData(data,data.mapDimension(indicatorAxis.dim))}))}}),this);var splitNumber=radarModel.get("splitNumber"),dummyScale=new Interval;dummyScale.setExtent(0,splitNumber),dummyScale.setInterval(1),Object(util.each)(indicatorAxes,(function(indicatorAxis,idx){alignScaleTicks(indicatorAxis.scale,indicatorAxis.model,dummyScale)}))},Radar.prototype.convertToPixel=function(ecModel,finder,value){return console.warn("Not implemented."),null},Radar.prototype.convertFromPixel=function(ecModel,finder,pixel){return console.warn("Not implemented."),null},Radar.prototype.containPoint=function(point){return console.warn("Not implemented."),!1},Radar.create=function(ecModel,api){var radarList=[];return ecModel.eachComponent("radar",(function(radarModel){var radar=new Radar(radarModel,ecModel,api);radarList.push(radar),radarModel.coordinateSystem=radar})),ecModel.eachSeriesByType("radar",(function(radarSeries){"radar"===radarSeries.get("coordinateSystem")&&(radarSeries.coordinateSystem=radarList[radarSeries.get("radarIndex")||0])})),radarList},Radar.dimensions=[],Radar}();function radar_install_install(registers){registers.registerCoordinateSystem("radar",radar_Radar),registers.registerComponentModel(radar_RadarModel),registers.registerComponentView(component_radar_RadarView),registers.registerVisual({seriesType:"radar",reset:function(seriesModel){var data=seriesModel.getData();data.each((function(idx){data.setItemVisual(idx,"legendIcon","roundRect")})),data.setVisual("legendIcon","roundRect")}})}var ATTR="\0_ec_interaction_mutex";function isTaken(zr,resourceKey){return!!getStore(zr)[resourceKey]}function getStore(zr){return zr[ATTR]||(zr[ATTR]={})}function checkPointerAndTrigger(controller,eventName,behaviorToCheck,e,contollerEvent){controller.pointerChecker&&controller.pointerChecker(e,contollerEvent.originX,contollerEvent.originY)&&(event_stop(e.event),RoamController_trigger(controller,eventName,behaviorToCheck,e,contollerEvent))}function RoamController_trigger(controller,eventName,behaviorToCheck,e,contollerEvent){contollerEvent.isAvailableBehavior=Object(util.bind)(isAvailableBehavior,null,behaviorToCheck,e),controller.trigger(eventName,contollerEvent)}function isAvailableBehavior(behaviorToCheck,e,settings){var setting=settings[behaviorToCheck];return!behaviorToCheck||setting&&(!Object(util.isString)(setting)||e.event[setting+"Key"])}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},util.noop);var helper_RoamController=function(_super){function RoamController(zr){var _this=_super.call(this)||this;_this._zr=zr;var mousedownHandler=Object(util.bind)(_this._mousedownHandler,_this),mousemoveHandler=Object(util.bind)(_this._mousemoveHandler,_this),mouseupHandler=Object(util.bind)(_this._mouseupHandler,_this),mousewheelHandler=Object(util.bind)(_this._mousewheelHandler,_this),pinchHandler=Object(util.bind)(_this._pinchHandler,_this);return _this.enable=function(controlType,opt){this.disable(),this._opt=Object(util.defaults)(Object(util.clone)(opt)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==controlType&&(controlType=!0),!0!==controlType&&"move"!==controlType&&"pan"!==controlType||(zr.on("mousedown",mousedownHandler),zr.on("mousemove",mousemoveHandler),zr.on("mouseup",mouseupHandler)),!0!==controlType&&"scale"!==controlType&&"zoom"!==controlType||(zr.on("mousewheel",mousewheelHandler),zr.on("pinch",pinchHandler))},_this.disable=function(){zr.off("mousedown",mousedownHandler),zr.off("mousemove",mousemoveHandler),zr.off("mouseup",mouseupHandler),zr.off("mousewheel",mousewheelHandler),zr.off("pinch",pinchHandler)},_this}return __extends(RoamController,_super),RoamController.prototype.isDragging=function(){return this._dragging},RoamController.prototype.isPinching=function(){return this._pinching},RoamController.prototype.setPointerChecker=function(pointerChecker){this.pointerChecker=pointerChecker},RoamController.prototype.dispose=function(){this.disable()},RoamController.prototype._mousedownHandler=function(e){if(!(isMiddleOrRightButtonOnMouseUpDown(e)||e.target&&e.target.draggable)){var x=e.offsetX,y=e.offsetY;this.pointerChecker&&this.pointerChecker(e,x,y)&&(this._x=x,this._y=y,this._dragging=!0)}},RoamController.prototype._mousemoveHandler=function(e){if(this._dragging&&isAvailableBehavior("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!isTaken(this._zr,"globalPan")){var x=e.offsetX,y=e.offsetY,oldX=this._x,oldY=this._y,dx=x-oldX,dy=y-oldY;this._x=x,this._y=y,this._opt.preventDefaultMouseMove&&event_stop(e.event),RoamController_trigger(this,"pan","moveOnMouseMove",e,{dx:dx,dy:dy,oldX:oldX,oldY:oldY,newX:x,newY:y,isAvailableBehavior:null})}},RoamController.prototype._mouseupHandler=function(e){isMiddleOrRightButtonOnMouseUpDown(e)||(this._dragging=!1)},RoamController.prototype._mousewheelHandler=function(e){var shouldZoom=isAvailableBehavior("zoomOnMouseWheel",e,this._opt),shouldMove=isAvailableBehavior("moveOnMouseWheel",e,this._opt),wheelDelta=e.wheelDelta,absWheelDeltaDelta=Math.abs(wheelDelta),originX=e.offsetX,originY=e.offsetY;if(0!==wheelDelta&&(shouldZoom||shouldMove)){if(shouldZoom){var factor=absWheelDeltaDelta>3?1.4:absWheelDeltaDelta>1?1.2:1.1;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",e,{scale:wheelDelta>0?factor:1/factor,originX:originX,originY:originY,isAvailableBehavior:null})}if(shouldMove){var absDelta=Math.abs(wheelDelta);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(wheelDelta>0?1:-1)*(absDelta>3?.4:absDelta>1?.15:.05),originX:originX,originY:originY,isAvailableBehavior:null})}}},RoamController.prototype._pinchHandler=function(e){isTaken(this._zr,"globalPan")||checkPointerAndTrigger(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},RoamController}(core_Eventful);function updateViewOnPan(controllerHost,dx,dy){var target=controllerHost.target;target.x+=dx,target.y+=dy,target.dirty()}function updateViewOnZoom(controllerHost,zoomDelta,zoomX,zoomY){var target=controllerHost.target,zoomLimit=controllerHost.zoomLimit,newZoom=controllerHost.zoom=controllerHost.zoom||1;if(newZoom*=zoomDelta,zoomLimit){var zoomMin=zoomLimit.min||0,zoomMax=zoomLimit.max||1/0;newZoom=Math.max(Math.min(zoomMax,newZoom),zoomMin)}var zoomScale=newZoom/controllerHost.zoom;controllerHost.zoom=newZoom,target.x-=(zoomX-target.x)*(zoomScale-1),target.y-=(zoomY-target.y)*(zoomScale-1),target.scaleX*=zoomScale,target.scaleY*=zoomScale,target.dirty()}var nodeParsers,IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(e,api,targetCoordSysModel){var model=api.getComponentByElement(e.topTarget),coordSys=model&&model.coordinateSystem;return model&&model!==targetCoordSysModel&&!IRRELEVANT_EXCLUDES.hasOwnProperty(model.mainType)&&coordSys&&coordSys.model!==targetCoordSysModel}function parseXML(svg){Object(util.isString)(svg)&&(svg=(new DOMParser).parseFromString(svg,"text/xml"));var svgNode=svg;for(9===svgNode.nodeType&&(svgNode=svgNode.firstChild);"svg"!==svgNode.nodeName.toLowerCase()||1!==svgNode.nodeType;)svgNode=svgNode.nextSibling;return svgNode}var INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=Object(util.keys)(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=Object(util.keys)(SELF_STYLE_ATTRIBUTES_MAP),parseSVG_SVGParser=function(){function SVGParser(){this._defs={},this._root=null}return SVGParser.prototype.parse=function(xml,opt){opt=opt||{};var svg=parseXML(xml);this._defsUsePending=[];var root=new graphic_Group;this._root=root;var named=[],viewBox=svg.getAttribute("viewBox")||"",width=parseFloat(svg.getAttribute("width")||opt.width),height=parseFloat(svg.getAttribute("height")||opt.height);isNaN(width)&&(width=null),isNaN(height)&&(height=null),parseAttributes(svg,root,null,!0,!1);for(var viewBoxRect,viewBoxTransform,child=svg.firstChild;child;)this._parseNode(child,root,named,null,!1,!1),child=child.nextSibling;if(function applyDefs(defs,defsUsePending){for(var i=0;i<defsUsePending.length;i++){var item=defsUsePending[i];item[0].style[item[1]]=defs[item[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],viewBox){var viewBoxArr=splitNumberSequence(viewBox);viewBoxArr.length>=4&&(viewBoxRect={x:parseFloat(viewBoxArr[0]||0),y:parseFloat(viewBoxArr[1]||0),width:parseFloat(viewBoxArr[2]),height:parseFloat(viewBoxArr[3])})}if(viewBoxRect&&null!=width&&null!=height&&(viewBoxTransform=makeViewBoxTransform(viewBoxRect,{x:0,y:0,width:width,height:height}),!opt.ignoreViewBox)){var elRoot=root;(root=new graphic_Group).add(elRoot),elRoot.scaleX=elRoot.scaleY=viewBoxTransform.scale,elRoot.x=viewBoxTransform.x,elRoot.y=viewBoxTransform.y}return opt.ignoreRootClip||null==width||null==height||root.setClipPath(new shape_Rect({shape:{x:0,y:0,width:width,height:height}})),{root:root,width:width,height:height,viewBoxRect:viewBoxRect,viewBoxTransform:viewBoxTransform,named:named}},SVGParser.prototype._parseNode=function(xmlNode,parentGroup,named,namedFrom,isInDefs,isInText){var el,nodeName=xmlNode.nodeName.toLowerCase(),namedFromForSub=namedFrom;if("defs"===nodeName&&(isInDefs=!0),"text"===nodeName&&(isInText=!0),"defs"===nodeName||"switch"===nodeName)el=parentGroup;else{if(!isInDefs){var parser_1=nodeParsers[nodeName];if(parser_1&&Object(util.hasOwn)(nodeParsers,nodeName)){el=parser_1.call(this,xmlNode,parentGroup);var nameAttr=xmlNode.getAttribute("name");if(nameAttr){var newNamed={name:nameAttr,namedFrom:null,svgNodeTagLower:nodeName,el:el};named.push(newNamed),"g"===nodeName&&(namedFromForSub=newNamed)}else namedFrom&&named.push({name:namedFrom.name,namedFrom:namedFrom,svgNodeTagLower:nodeName,el:el});parentGroup.add(el)}}var parser=paintServerParsers[nodeName];if(parser&&Object(util.hasOwn)(paintServerParsers,nodeName)){var def=parser.call(this,xmlNode),id=xmlNode.getAttribute("id");id&&(this._defs[id]=def)}}if(el&&el.isGroup)for(var child=xmlNode.firstChild;child;)1===child.nodeType?this._parseNode(child,el,named,namedFromForSub,isInDefs,isInText):3===child.nodeType&&isInText&&this._parseText(child,el),child=child.nextSibling},SVGParser.prototype._parseText=function(xmlNode,parentGroup){var text=new graphic_TSpan({style:{text:xmlNode.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(parentGroup,text),parseAttributes(xmlNode,text,this._defsUsePending,!1,!1),function applyTextAlignment(text,parentGroup){var parentSelfStyle=parentGroup.__selfStyle;if(parentSelfStyle){var textBaseline=parentSelfStyle.textBaseline,zrTextBaseline=textBaseline;textBaseline&&"auto"!==textBaseline?"baseline"===textBaseline?zrTextBaseline="alphabetic":"before-edge"===textBaseline||"text-before-edge"===textBaseline?zrTextBaseline="top":"after-edge"===textBaseline||"text-after-edge"===textBaseline?zrTextBaseline="bottom":"central"!==textBaseline&&"mathematical"!==textBaseline||(zrTextBaseline="middle"):zrTextBaseline="alphabetic",text.style.textBaseline=zrTextBaseline}var parentInheritedStyle=parentGroup.__inheritedStyle;if(parentInheritedStyle){var textAlign=parentInheritedStyle.textAlign,zrTextAlign=textAlign;textAlign&&("middle"===textAlign&&(zrTextAlign="center"),text.style.textAlign=zrTextAlign)}}(text,parentGroup);var textStyle=text.style,fontSize=textStyle.fontSize;fontSize&&fontSize<9&&(textStyle.fontSize=9,text.scaleX*=fontSize/9,text.scaleY*=fontSize/9);var font=(textStyle.fontSize||textStyle.fontFamily)&&[textStyle.fontStyle,textStyle.fontWeight,(textStyle.fontSize||12)+"px",textStyle.fontFamily||"sans-serif"].join(" ");textStyle.font=font;var rect=text.getBoundingRect();return this._textX+=rect.width,parentGroup.add(text),text},SVGParser.internalField=void(nodeParsers={g:function(xmlNode,parentGroup){var g=new graphic_Group;return inheritStyle(parentGroup,g),parseAttributes(xmlNode,g,this._defsUsePending,!1,!1),g},rect:function(xmlNode,parentGroup){var rect=new shape_Rect;return inheritStyle(parentGroup,rect),parseAttributes(xmlNode,rect,this._defsUsePending,!1,!1),rect.setShape({x:parseFloat(xmlNode.getAttribute("x")||"0"),y:parseFloat(xmlNode.getAttribute("y")||"0"),width:parseFloat(xmlNode.getAttribute("width")||"0"),height:parseFloat(xmlNode.getAttribute("height")||"0")}),rect.silent=!0,rect},circle:function(xmlNode,parentGroup){var circle=new shape_Circle;return inheritStyle(parentGroup,circle),parseAttributes(xmlNode,circle,this._defsUsePending,!1,!1),circle.setShape({cx:parseFloat(xmlNode.getAttribute("cx")||"0"),cy:parseFloat(xmlNode.getAttribute("cy")||"0"),r:parseFloat(xmlNode.getAttribute("r")||"0")}),circle.silent=!0,circle},line:function(xmlNode,parentGroup){var line=new shape_Line;return inheritStyle(parentGroup,line),parseAttributes(xmlNode,line,this._defsUsePending,!1,!1),line.setShape({x1:parseFloat(xmlNode.getAttribute("x1")||"0"),y1:parseFloat(xmlNode.getAttribute("y1")||"0"),x2:parseFloat(xmlNode.getAttribute("x2")||"0"),y2:parseFloat(xmlNode.getAttribute("y2")||"0")}),line.silent=!0,line},ellipse:function(xmlNode,parentGroup){var ellipse=new shape_Ellipse;return inheritStyle(parentGroup,ellipse),parseAttributes(xmlNode,ellipse,this._defsUsePending,!1,!1),ellipse.setShape({cx:parseFloat(xmlNode.getAttribute("cx")||"0"),cy:parseFloat(xmlNode.getAttribute("cy")||"0"),rx:parseFloat(xmlNode.getAttribute("rx")||"0"),ry:parseFloat(xmlNode.getAttribute("ry")||"0")}),ellipse.silent=!0,ellipse},polygon:function(xmlNode,parentGroup){var pointsArr,pointsStr=xmlNode.getAttribute("points");pointsStr&&(pointsArr=parsePoints(pointsStr));var polygon=new shape_Polygon({shape:{points:pointsArr||[]},silent:!0});return inheritStyle(parentGroup,polygon),parseAttributes(xmlNode,polygon,this._defsUsePending,!1,!1),polygon},polyline:function(xmlNode,parentGroup){var pointsArr,pointsStr=xmlNode.getAttribute("points");pointsStr&&(pointsArr=parsePoints(pointsStr));var polyline=new shape_Polyline({shape:{points:pointsArr||[]},silent:!0});return inheritStyle(parentGroup,polyline),parseAttributes(xmlNode,polyline,this._defsUsePending,!1,!1),polyline},image:function(xmlNode,parentGroup){var img=new graphic_Image;return inheritStyle(parentGroup,img),parseAttributes(xmlNode,img,this._defsUsePending,!1,!1),img.setStyle({image:xmlNode.getAttribute("xlink:href")||xmlNode.getAttribute("href"),x:+xmlNode.getAttribute("x"),y:+xmlNode.getAttribute("y"),width:+xmlNode.getAttribute("width"),height:+xmlNode.getAttribute("height")}),img.silent=!0,img},text:function(xmlNode,parentGroup){var x=xmlNode.getAttribute("x")||"0",y=xmlNode.getAttribute("y")||"0",dx=xmlNode.getAttribute("dx")||"0",dy=xmlNode.getAttribute("dy")||"0";this._textX=parseFloat(x)+parseFloat(dx),this._textY=parseFloat(y)+parseFloat(dy);var g=new graphic_Group;return inheritStyle(parentGroup,g),parseAttributes(xmlNode,g,this._defsUsePending,!1,!0),g},tspan:function(xmlNode,parentGroup){var x=xmlNode.getAttribute("x"),y=xmlNode.getAttribute("y");null!=x&&(this._textX=parseFloat(x)),null!=y&&(this._textY=parseFloat(y));var dx=xmlNode.getAttribute("dx")||"0",dy=xmlNode.getAttribute("dy")||"0",g=new graphic_Group;return inheritStyle(parentGroup,g),parseAttributes(xmlNode,g,this._defsUsePending,!1,!0),this._textX+=parseFloat(dx),this._textY+=parseFloat(dy),g},path:function(xmlNode,parentGroup){var path=createFromString(xmlNode.getAttribute("d")||"");return inheritStyle(parentGroup,path),parseAttributes(xmlNode,path,this._defsUsePending,!1,!1),path.silent=!0,path}}),SVGParser}(),paintServerParsers={lineargradient:function(xmlNode){var x1=parseInt(xmlNode.getAttribute("x1")||"0",10),y1=parseInt(xmlNode.getAttribute("y1")||"0",10),x2=parseInt(xmlNode.getAttribute("x2")||"10",10),y2=parseInt(xmlNode.getAttribute("y2")||"0",10),gradient=new graphic_LinearGradient(x1,y1,x2,y2);return parsePaintServerUnit(xmlNode,gradient),parseGradientColorStops(xmlNode,gradient),gradient},radialgradient:function(xmlNode){var cx=parseInt(xmlNode.getAttribute("cx")||"0",10),cy=parseInt(xmlNode.getAttribute("cy")||"0",10),r=parseInt(xmlNode.getAttribute("r")||"0",10),gradient=new graphic_RadialGradient(cx,cy,r);return parsePaintServerUnit(xmlNode,gradient),parseGradientColorStops(xmlNode,gradient),gradient}};function parsePaintServerUnit(xmlNode,gradient){"userSpaceOnUse"===xmlNode.getAttribute("gradientUnits")&&(gradient.global=!0)}function parseGradientColorStops(xmlNode,gradient){for(var stop=xmlNode.firstChild;stop;){if(1===stop.nodeType&&"stop"===stop.nodeName.toLocaleLowerCase()){var offsetStr=stop.getAttribute("offset"),offset=void 0;offset=offsetStr&&offsetStr.indexOf("%")>0?parseInt(offsetStr,10)/100:offsetStr?parseFloat(offsetStr):0;var styleVals={};parseInlineStyle(stop,styleVals,styleVals);var stopColor=styleVals.stopColor||stop.getAttribute("stop-color")||"#000000";gradient.colorStops.push({offset:offset,color:stopColor})}stop=stop.nextSibling}}function inheritStyle(parent,child){parent&&parent.__inheritedStyle&&(child.__inheritedStyle||(child.__inheritedStyle={}),Object(util.defaults)(child.__inheritedStyle,parent.__inheritedStyle))}function parsePoints(pointsString){for(var list=splitNumberSequence(pointsString),points=[],i=0;i<list.length;i+=2){var x=parseFloat(list[i]),y=parseFloat(list[i+1]);points.push([x,y])}return points}function parseAttributes(xmlNode,el,defsUsePending,onlyInlineStyle,isTextGroup){var disp=el,inheritedStyle=disp.__inheritedStyle=disp.__inheritedStyle||{},selfStyle={};1===xmlNode.nodeType&&(!function parseTransformAttribute(xmlNode,node){var transform=xmlNode.getAttribute("transform");if(transform){transform=transform.replace(/,/g," ");var transformOps_1=[],mt=null;transform.replace(transformRegex,(function(str,type,value){return transformOps_1.push(type,value),""}));for(var i=transformOps_1.length-1;i>0;i-=2){var value=transformOps_1[i],type=transformOps_1[i-1],valueArr=splitNumberSequence(value);switch(mt=mt||[1,0,0,1,0,0],type){case"translate":matrix_translate(mt,mt,[parseFloat(valueArr[0]),parseFloat(valueArr[1]||"0")]);break;case"scale":matrix_scale(mt,mt,[parseFloat(valueArr[0]),parseFloat(valueArr[1]||valueArr[0])]);break;case"rotate":matrix_rotate(mt,mt,-parseFloat(valueArr[0])*DEGREE_TO_ANGLE);break;case"skewX":matrix_mul(mt,[1,0,Math.tan(parseFloat(valueArr[0])*DEGREE_TO_ANGLE),1,0,0],mt);break;case"skewY":matrix_mul(mt,[1,Math.tan(parseFloat(valueArr[0])*DEGREE_TO_ANGLE),0,1,0,0],mt);break;case"matrix":mt[0]=parseFloat(valueArr[0]),mt[1]=parseFloat(valueArr[1]),mt[2]=parseFloat(valueArr[2]),mt[3]=parseFloat(valueArr[3]),mt[4]=parseFloat(valueArr[4]),mt[5]=parseFloat(valueArr[5])}}node.setLocalTransform(mt)}}(xmlNode,el),parseInlineStyle(xmlNode,inheritedStyle,selfStyle),onlyInlineStyle||function parseAttributeStyle(xmlNode,inheritableStyleResult,selfStyleResult){for(var i=0;i<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;i++){var svgAttrName=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[i];null!=(attrValue=xmlNode.getAttribute(svgAttrName))&&(inheritableStyleResult[INHERITABLE_STYLE_ATTRIBUTES_MAP[svgAttrName]]=attrValue)}for(i=0;i<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;i++){var attrValue;svgAttrName=SELF_STYLE_ATTRIBUTES_MAP_KEYS[i];null!=(attrValue=xmlNode.getAttribute(svgAttrName))&&(selfStyleResult[SELF_STYLE_ATTRIBUTES_MAP[svgAttrName]]=attrValue)}}(xmlNode,inheritedStyle,selfStyle)),disp.style=disp.style||{},null!=inheritedStyle.fill&&(disp.style.fill=getFillStrokeStyle(disp,"fill",inheritedStyle.fill,defsUsePending)),null!=inheritedStyle.stroke&&(disp.style.stroke=getFillStrokeStyle(disp,"stroke",inheritedStyle.stroke,defsUsePending)),Object(util.each)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(propName){null!=inheritedStyle[propName]&&(disp.style[propName]=parseFloat(inheritedStyle[propName]))})),Object(util.each)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(propName){null!=inheritedStyle[propName]&&(disp.style[propName]=inheritedStyle[propName])})),isTextGroup&&(disp.__selfStyle=selfStyle),inheritedStyle.lineDash&&(disp.style.lineDash=Object(util.map)(splitNumberSequence(inheritedStyle.lineDash),(function(str){return parseFloat(str)}))),"hidden"!==inheritedStyle.visibility&&"collapse"!==inheritedStyle.visibility||(disp.invisible=!0),"none"===inheritedStyle.display&&(disp.ignore=!0)}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(el,method,str,defsUsePending){var urlMatch=str&&str.match(urlRegex);if(!urlMatch)return"none"===str&&(str=null),str;var url=Object(util.trim)(urlMatch[1]);defsUsePending.push([el,method,url])}var parseSVG_numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(rawStr){return rawStr.match(parseSVG_numberReg)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(xmlNode,inheritableStyleResult,selfStyleResult){var styleRegResult,style=xmlNode.getAttribute("style");if(style)for(styleRegex.lastIndex=0;null!=(styleRegResult=styleRegex.exec(style));){var svgStlAttr=styleRegResult[1],zrInheritableStlAttr=Object(util.hasOwn)(INHERITABLE_STYLE_ATTRIBUTES_MAP,svgStlAttr)?INHERITABLE_STYLE_ATTRIBUTES_MAP[svgStlAttr]:null;zrInheritableStlAttr&&(inheritableStyleResult[zrInheritableStlAttr]=styleRegResult[2]);var zrSelfStlAttr=Object(util.hasOwn)(SELF_STYLE_ATTRIBUTES_MAP,svgStlAttr)?SELF_STYLE_ATTRIBUTES_MAP[svgStlAttr]:null;zrSelfStlAttr&&(selfStyleResult[zrSelfStlAttr]=styleRegResult[2])}}function makeViewBoxTransform(viewBoxRect,boundingRect){var scaleX=boundingRect.width/viewBoxRect.width,scaleY=boundingRect.height/viewBoxRect.height,scale=Math.min(scaleX,scaleY);return{scale:scale,x:-(viewBoxRect.x+viewBoxRect.width/2)*scale+(boundingRect.x+boundingRect.width/2),y:-(viewBoxRect.y+viewBoxRect.height/2)*scale+(boundingRect.y+boundingRect.height/2)}}var REGION_AVAILABLE_SVG_TAG_MAP=Object(util.createHashMap)(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource_GeoSVGResource=function(){function GeoSVGResource(mapName,svg){this.type="geoSVG",this._usedGraphicMap=Object(util.createHashMap)(),this._freedGraphics=[],this._mapName=mapName,this._parsedXML=parseXML(svg)}return GeoSVGResource.prototype.load=function(){var firstGraphic=this._firstGraphic;if(!firstGraphic){firstGraphic=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(firstGraphic),this._boundingRect=this._firstGraphic.boundingRect.clone();var _a=function createRegions(named){var regions=[],regionsMap=Object(util.createHashMap)();return Object(util.each)(named,(function(namedItem){if(null==namedItem.namedFrom){var region=new Region_GeoSVGRegion(namedItem.name,namedItem.el);regions.push(region),regionsMap.set(namedItem.name,region)}})),{regions:regions,regionsMap:regionsMap}}(firstGraphic.named),regions=_a.regions,regionsMap=_a.regionsMap;this._regions=regions,this._regionsMap=regionsMap}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},GeoSVGResource.prototype._buildGraphic=function(svgXML){var result,rootFromParse;try{rootFromParse=(result=svgXML&&function parseSVG(xml,opt){return(new parseSVG_SVGParser).parse(xml,opt)}(svgXML,{ignoreViewBox:!0,ignoreRootClip:!0})||{}).root,Object(util.assert)(null!=rootFromParse)}catch(e){throw new Error("Invalid svg format\n"+e.message)}var root=new graphic_Group;root.add(rootFromParse),root.isGeoSVGGraphicRoot=!0;var svgWidth=result.width,svgHeight=result.height,viewBoxRect=result.viewBoxRect,boundingRect=this._boundingRect;if(!boundingRect){var bRectX=void 0,bRectY=void 0,bRectWidth=void 0,bRectHeight=void 0;if(null!=svgWidth?(bRectX=0,bRectWidth=svgWidth):viewBoxRect&&(bRectX=viewBoxRect.x,bRectWidth=viewBoxRect.width),null!=svgHeight?(bRectY=0,bRectHeight=svgHeight):viewBoxRect&&(bRectY=viewBoxRect.y,bRectHeight=viewBoxRect.height),null==bRectX||null==bRectY){var calculatedBoundingRect=rootFromParse.getBoundingRect();null==bRectX&&(bRectX=calculatedBoundingRect.x,bRectWidth=calculatedBoundingRect.width),null==bRectY&&(bRectY=calculatedBoundingRect.y,bRectHeight=calculatedBoundingRect.height)}boundingRect=this._boundingRect=new core_BoundingRect(bRectX,bRectY,bRectWidth,bRectHeight)}if(viewBoxRect){var viewBoxTransform=makeViewBoxTransform(viewBoxRect,boundingRect);rootFromParse.scaleX=rootFromParse.scaleY=viewBoxTransform.scale,rootFromParse.x=viewBoxTransform.x,rootFromParse.y=viewBoxTransform.y}root.setClipPath(new shape_Rect({shape:boundingRect.plain()}));var named=[];return Object(util.each)(result.named,(function(namedItem){null!=REGION_AVAILABLE_SVG_TAG_MAP.get(namedItem.svgNodeTagLower)&&(named.push(namedItem),function setSilent(el){el.silent=!1,el.isGroup&&el.traverse((function(child){child.silent=!1}))}(namedItem.el))})),{root:root,boundingRect:boundingRect,named:named}},GeoSVGResource.prototype.useGraphic=function(hostKey){var usedRootMap=this._usedGraphicMap,svgGraphic=usedRootMap.get(hostKey);return svgGraphic||(svgGraphic=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),usedRootMap.set(hostKey,svgGraphic),svgGraphic)},GeoSVGResource.prototype.freeGraphic=function(hostKey){var usedRootMap=this._usedGraphicMap,svgGraphic=usedRootMap.get(hostKey);svgGraphic&&(usedRootMap.removeKey(hostKey),this._freedGraphics.push(svgGraphic))},GeoSVGResource}();for(var geoCoord=[126,25],nanhai_points=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],nanhai_i=0;nanhai_i<nanhai_points.length;nanhai_i++)for(var nanhai_k=0;nanhai_k<nanhai_points[nanhai_i].length;nanhai_k++)nanhai_points[nanhai_i][nanhai_k][0]/=10.5,nanhai_points[nanhai_i][nanhai_k][1]/=-14,nanhai_points[nanhai_i][nanhai_k][0]+=geoCoord[0],nanhai_points[nanhai_i][nanhai_k][1]+=geoCoord[1];var coordsOffsetMap={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};var diaoyuIsland_points=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];var GeoJSONResource_GeoJSONResource=function(){function GeoJSONResource(mapName,geoJSON,specialAreas){this.type="geoJSON",this._parsedMap=Object(util.createHashMap)(),this._mapName=mapName,this._specialAreas=specialAreas,this._geoJSON=function parseInput(source){return Object(util.isString)(source)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(source):new Function("return ("+source+");")():source}(geoJSON)}return GeoJSONResource.prototype.load=function(nameMap,nameProperty){nameProperty=nameProperty||"name";var parsed=this._parsedMap.get(nameProperty);if(!parsed){var rawRegions=this._parseToRegions(nameProperty);parsed=this._parsedMap.set(nameProperty,{regions:rawRegions,boundingRect:calculateBoundingRect(rawRegions)})}var regionsMap=Object(util.createHashMap)(),finalRegions=[];return Object(util.each)(parsed.regions,(function(region){var regionName=region.name;nameMap&&Object(util.hasOwn)(nameMap,regionName)&&(region=region.cloneShallow(regionName=nameMap[regionName])),finalRegions.push(region),regionsMap.set(regionName,region)})),{regions:finalRegions,boundingRect:parsed.boundingRect||new core_BoundingRect(0,0,0,0),regionsMap:regionsMap}},GeoJSONResource.prototype._parseToRegions=function(nameProperty){var rawRegions,mapName=this._mapName,geoJSON=this._geoJSON;try{rawRegions=geoJSON?parseGeoJSON(geoJSON,nameProperty):[]}catch(e){throw new Error("Invalid geoJson format\n"+e.message)}return function fixNanhai(mapType,regions){if("china"===mapType){for(var i=0;i<regions.length;i++)if(""===regions[i].name)return;regions.push(new Region_GeoJSONRegion("",util.map(nanhai_points,(function(exterior){return{type:"polygon",exterior:exterior}})),geoCoord))}}(mapName,rawRegions),Object(util.each)(rawRegions,(function(region){var regionName=region.name;!function fixTextCoords(mapType,region){if("china"===mapType){var coordFix=coordsOffsetMap[region.name];if(coordFix){var cp=region.getCenter();cp[0]+=coordFix[0]/10.5,cp[1]+=-coordFix[1]/14,region.setCenter(cp)}}}(mapName,region),function fixDiaoyuIsland(mapType,region){"china"===mapType&&""===region.name&&region.geometries.push({type:"polygon",exterior:diaoyuIsland_points[0]})}(mapName,region);var specialArea=this._specialAreas&&this._specialAreas[regionName];specialArea&&region.transformTo(specialArea.left,specialArea.top,specialArea.width,specialArea.height)}),this),rawRegions},GeoJSONResource.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},GeoJSONResource}();function calculateBoundingRect(regions){for(var rect,i=0;i<regions.length;i++){var regionRect=regions[i].getBoundingRect();(rect=rect||regionRect.clone()).union(regionRect)}return rect}var geoSourceManager_storage=Object(util.createHashMap)(),geoSourceManager_registerMap=function(mapName,rawDef,rawSpecialAreas){if(rawDef.svg){var resource=new GeoSVGResource_GeoSVGResource(mapName,rawDef.svg);geoSourceManager_storage.set(mapName,resource)}else{var geoJSON=rawDef.geoJson||rawDef.geoJSON;geoJSON&&!rawDef.features?rawSpecialAreas=rawDef.specialAreas:geoJSON=rawDef;resource=new GeoJSONResource_GeoJSONResource(mapName,geoJSON,rawSpecialAreas);geoSourceManager_storage.set(mapName,resource)}},geoSourceManager_getGeoResource=function(mapName){return geoSourceManager_storage.get(mapName)},geoSourceManager_getMapForUser=function(mapName){var resource=geoSourceManager_storage.get(mapName);return resource&&"geoJSON"===resource.type&&resource.getMapForUser()},geoSourceManager_load=function(mapName,nameMap,nameProperty){var resource=geoSourceManager_storage.get(mapName);if(resource)return resource.load(nameMap,nameProperty)},OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=util.createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=util.createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=util.createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=makeInner();function getFixedItemStyle(model){var itemStyle=model.getItemStyle(),areaColor=model.get("areaColor");return null!=areaColor&&(itemStyle.fill=areaColor),itemStyle}function fixLineStyle(styleHost){var style=styleHost.style;style&&(style.stroke=style.stroke||style.fill,style.fill=null)}function applyOptionStyleForRegion(viewBuildCtx,el,dataIndex,regionModel){var normalStyleModel=regionModel.getModel("itemStyle"),emphasisStyleModel=regionModel.getModel(["emphasis","itemStyle"]),blurStyleModel=regionModel.getModel(["blur","itemStyle"]),selectStyleModel=regionModel.getModel(["select","itemStyle"]),normalStyle=getFixedItemStyle(normalStyleModel),emphasisStyle=getFixedItemStyle(emphasisStyleModel),selectStyle=getFixedItemStyle(selectStyleModel),blurStyle=getFixedItemStyle(blurStyleModel),data=viewBuildCtx.data;if(data){var style=data.getItemVisual(dataIndex,"style"),decal=data.getItemVisual(dataIndex,"decal");viewBuildCtx.isVisualEncodedByVisualMap&&style.fill&&(normalStyle.fill=style.fill),decal&&(normalStyle.decal=createOrUpdatePatternFromDecal(decal,viewBuildCtx.api))}el.setStyle(normalStyle),el.style.strokeNoScale=!0,el.ensureState("emphasis").style=emphasisStyle,el.ensureState("select").style=selectStyle,el.ensureState("blur").style=blurStyle,setDefaultStateProxy(el)}function resetLabelForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel,dataIdx,labelXY){var data=viewBuildCtx.data,isGeo=viewBuildCtx.isGeo,isDataNaN=data&&isNaN(data.get(data.mapDimension("value"),dataIdx)),itemLayout=data&&data.getItemLayout(dataIdx);if(isGeo||isDataNaN||itemLayout&&itemLayout.showLabel){var query=isGeo?regionName:dataIdx,labelFetcher=void 0;(!data||dataIdx>=0)&&(labelFetcher=mapOrGeoModel);var specifiedTextOpt=labelXY?{normal:{align:"center",verticalAlign:"middle"}}:null;setLabelStyle(el,getLabelStatesModels(regionModel),{labelFetcher:labelFetcher,labelDataIndex:query,defaultText:regionName},specifiedTextOpt);var textEl=el.getTextContent();if(textEl&&(mapLabelRaw(textEl).ignore=textEl.ignore,el.textConfig&&labelXY)){var rect=el.getBoundingRect().clone();el.textConfig.layoutRect=rect,el.textConfig.position=[(labelXY[0]-rect.x)/rect.width*100+"%",(labelXY[1]-rect.y)/rect.height*100+"%"]}el.disableLabelAnimation=!0}else el.removeTextContent(),el.removeTextConfig(),el.disableLabelAnimation=null}function resetEventTriggerForRegion(viewBuildCtx,eventTrigger,regionName,regionModel,mapOrGeoModel,dataIdx){viewBuildCtx.data?viewBuildCtx.data.setItemGraphicEl(dataIdx,eventTrigger):getECData(eventTrigger).eventData={componentType:"geo",componentIndex:mapOrGeoModel.componentIndex,geoIndex:mapOrGeoModel.componentIndex,name:regionName,region:regionModel&&regionModel.option||{}}}function resetTooltipForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel){viewBuildCtx.data||setTooltipConfig({el:el,componentModel:mapOrGeoModel,itemName:regionName,itemTooltipOption:regionModel.get("tooltip")})}function resetStateTriggerForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel){el.highDownSilentOnTouch=!!mapOrGeoModel.get("selectedMode");var emphasisModel=regionModel.getModel("emphasis"),focus=emphasisModel.get("focus");return toggleHoverEmphasis(el,focus,emphasisModel.get("blurScope"),emphasisModel.get("disabled")),viewBuildCtx.isGeo&&function enableComponentHighDownFeatures(el,componentModel,componentHighDownName){var ecData=getECData(el);ecData.componentMainType=componentModel.mainType,ecData.componentIndex=componentModel.componentIndex,ecData.componentHighDownName=componentHighDownName}(el,mapOrGeoModel,regionName),focus}function projectPolys(rings,createStream,isLine){var curPoly,polygons=[];function startPolygon(){curPoly=[]}function endPolygon(){curPoly.length&&(polygons.push(curPoly),curPoly=[])}var stream=createStream({polygonStart:startPolygon,polygonEnd:endPolygon,lineStart:startPolygon,lineEnd:endPolygon,point:function(x,y){isFinite(x)&&isFinite(y)&&curPoly.push([x,y])},sphere:function(){}});return!isLine&&stream.polygonStart(),util.each(rings,(function(ring){stream.lineStart();for(var i=0;i<ring.length;i++)stream.point(ring[i][0],ring[i][1]);stream.lineEnd()})),!isLine&&stream.polygonEnd(),polygons}var helper_MapDraw=function(){function MapDraw(api){var group=new graphic_Group;this.uid=getUID("ec_map_draw"),this._controller=new helper_RoamController(api.getZr()),this._controllerHost={target:group},this.group=group,group.add(this._regionsGroup=new graphic_Group),group.add(this._svgGroup=new graphic_Group)}return MapDraw.prototype.draw=function(mapOrGeoModel,ecModel,api,fromView,payload){var isGeo="geo"===mapOrGeoModel.mainType,data=mapOrGeoModel.getData&&mapOrGeoModel.getData();isGeo&&ecModel.eachComponent({mainType:"series",subType:"map"},(function(mapSeries){data||mapSeries.getHostGeoModel()!==mapOrGeoModel||(data=mapSeries.getData())}));var geo=mapOrGeoModel.coordinateSystem,regionsGroup=this._regionsGroup,group=this.group,transformInfo=geo.getTransformInfo(),transformInfoRaw=transformInfo.raw,transformInfoRoam=transformInfo.roam;!regionsGroup.childAt(0)||payload?(group.x=transformInfoRoam.x,group.y=transformInfoRoam.y,group.scaleX=transformInfoRoam.scaleX,group.scaleY=transformInfoRoam.scaleY,group.dirty()):updateProps(group,transformInfoRoam,mapOrGeoModel);var isVisualEncodedByVisualMap=data&&data.getVisual("visualMeta")&&data.getVisual("visualMeta").length>0,viewBuildCtx={api:api,geo:geo,mapOrGeoModel:mapOrGeoModel,data:data,isVisualEncodedByVisualMap:isVisualEncodedByVisualMap,isGeo:isGeo,transformInfoRaw:transformInfoRaw};"geoJSON"===geo.resourceType?this._buildGeoJSON(viewBuildCtx):"geoSVG"===geo.resourceType&&this._buildSVG(viewBuildCtx),this._updateController(mapOrGeoModel,ecModel,api),this._updateMapSelectHandler(mapOrGeoModel,regionsGroup,api,fromView)},MapDraw.prototype._buildGeoJSON=function(viewBuildCtx){var regionsGroupByName=this._regionsGroupByName=util.createHashMap(),regionsInfoByName=util.createHashMap(),regionsGroup=this._regionsGroup,transformInfoRaw=viewBuildCtx.transformInfoRaw,mapOrGeoModel=viewBuildCtx.mapOrGeoModel,data=viewBuildCtx.data,projection=viewBuildCtx.geo.projection,projectionStream=projection&&projection.stream;function transformPoint(point,project){return project&&(point=project(point)),point&&[point[0]*transformInfoRaw.scaleX+transformInfoRaw.x,point[1]*transformInfoRaw.scaleY+transformInfoRaw.y]}function transformPolygonPoints(inPoints){for(var outPoints=[],project=!projectionStream&&projection&&projection.project,i=0;i<inPoints.length;++i){var newPt=transformPoint(inPoints[i],project);newPt&&outPoints.push(newPt)}return outPoints}function getPolyShape(points){return{shape:{points:transformPolygonPoints(points)}}}regionsGroup.removeAll(),util.each(viewBuildCtx.geo.regions,(function(region){var regionName=region.name,regionGroup=regionsGroupByName.get(regionName),_a=regionsInfoByName.get(regionName)||{},dataIdx=_a.dataIdx,regionModel=_a.regionModel;regionGroup||(regionGroup=regionsGroupByName.set(regionName,new graphic_Group),regionsGroup.add(regionGroup),dataIdx=data?data.indexOfName(regionName):null,regionModel=viewBuildCtx.isGeo?mapOrGeoModel.getRegionModel(regionName):data?data.getItemModel(dataIdx):null,regionsInfoByName.set(regionName,{dataIdx:dataIdx,regionModel:regionModel}));var polygonSubpaths=[],polylineSubpaths=[];util.each(region.geometries,(function(geometry){if("polygon"===geometry.type){var polys=[geometry.exterior].concat(geometry.interiors||[]);projectionStream&&(polys=projectPolys(polys,projectionStream)),util.each(polys,(function(poly){polygonSubpaths.push(new shape_Polygon(getPolyShape(poly)))}))}else{var points=geometry.points;projectionStream&&(points=projectPolys(points,projectionStream,!0)),util.each(points,(function(points){polylineSubpaths.push(new shape_Polyline(getPolyShape(points)))}))}}));var centerPt=transformPoint(region.getCenter(),projection&&projection.project);function createCompoundPath(subpaths,isLine){if(subpaths.length){var compoundPath=new graphic_CompoundPath({culling:!0,segmentIgnoreThreshold:1,shape:{paths:subpaths}});regionGroup.add(compoundPath),applyOptionStyleForRegion(viewBuildCtx,compoundPath,dataIdx,regionModel),resetLabelForRegion(viewBuildCtx,compoundPath,regionName,regionModel,mapOrGeoModel,dataIdx,centerPt),isLine&&(fixLineStyle(compoundPath),util.each(compoundPath.states,fixLineStyle))}}createCompoundPath(polygonSubpaths),createCompoundPath(polylineSubpaths,!0)})),regionsGroupByName.each((function(regionGroup,regionName){var _a=regionsInfoByName.get(regionName),dataIdx=_a.dataIdx,regionModel=_a.regionModel;resetEventTriggerForRegion(viewBuildCtx,regionGroup,regionName,regionModel,mapOrGeoModel,dataIdx),resetTooltipForRegion(viewBuildCtx,regionGroup,regionName,regionModel,mapOrGeoModel),resetStateTriggerForRegion(viewBuildCtx,regionGroup,regionName,regionModel,mapOrGeoModel)}),this)},MapDraw.prototype._buildSVG=function(viewBuildCtx){var mapName=viewBuildCtx.geo.map,transformInfoRaw=viewBuildCtx.transformInfoRaw;this._svgGroup.x=transformInfoRaw.x,this._svgGroup.y=transformInfoRaw.y,this._svgGroup.scaleX=transformInfoRaw.scaleX,this._svgGroup.scaleY=transformInfoRaw.scaleY,this._svgResourceChanged(mapName)&&(this._freeSVG(),this._useSVG(mapName));var svgDispatcherMap=this._svgDispatcherMap=util.createHashMap(),focusSelf=!1;util.each(this._svgGraphicRecord.named,(function(namedItem){var regionName=namedItem.name,mapOrGeoModel=viewBuildCtx.mapOrGeoModel,data=viewBuildCtx.data,svgNodeTagLower=namedItem.svgNodeTagLower,el=namedItem.el,dataIdx=data?data.indexOfName(regionName):null,regionModel=mapOrGeoModel.getRegionModel(regionName);(null!=OPTION_STYLE_ENABLED_TAG_MAP.get(svgNodeTagLower)&&el instanceof graphic_Displayable&&applyOptionStyleForRegion(viewBuildCtx,el,dataIdx,regionModel),el instanceof graphic_Displayable&&(el.culling=!0),el.z2EmphasisLift=0,namedItem.namedFrom)||(null!=LABEL_HOST_MAP.get(svgNodeTagLower)&&resetLabelForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel,dataIdx,null),resetEventTriggerForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel,dataIdx),resetTooltipForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel),null!=STATE_TRIGGER_TAG_MAP.get(svgNodeTagLower)&&("self"===resetStateTriggerForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel)&&(focusSelf=!0),(svgDispatcherMap.get(regionName)||svgDispatcherMap.set(regionName,[])).push(el)))}),this),this._enableBlurEntireSVG(focusSelf,viewBuildCtx)},MapDraw.prototype._enableBlurEntireSVG=function(focusSelf,viewBuildCtx){if(focusSelf&&viewBuildCtx.isGeo){var opacity_1=viewBuildCtx.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse((function(el){if(!el.isGroup){setDefaultStateProxy(el);var style=el.ensureState("blur").style||{};null==style.opacity&&null!=opacity_1&&(style.opacity=opacity_1),el.ensureState("emphasis")}}))}},MapDraw.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},MapDraw.prototype.findHighDownDispatchers=function(name,geoModel){if(null==name)return[];var geo=geoModel.coordinateSystem;if("geoJSON"===geo.resourceType){var regionsGroupByName=this._regionsGroupByName;if(regionsGroupByName){var regionGroup=regionsGroupByName.get(name);return regionGroup?[regionGroup]:[]}}else if("geoSVG"===geo.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(name)||[]},MapDraw.prototype._svgResourceChanged=function(mapName){return this._svgMapName!==mapName},MapDraw.prototype._useSVG=function(mapName){var resource=geoSourceManager_getGeoResource(mapName);if(resource&&"geoSVG"===resource.type){var svgGraphic=resource.useGraphic(this.uid);this._svgGroup.add(svgGraphic.root),this._svgGraphicRecord=svgGraphic,this._svgMapName=mapName}},MapDraw.prototype._freeSVG=function(){var mapName=this._svgMapName;if(null!=mapName){var resource=geoSourceManager_getGeoResource(mapName);resource&&"geoSVG"===resource.type&&resource.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},MapDraw.prototype._updateController=function(mapOrGeoModel,ecModel,api){var geo=mapOrGeoModel.coordinateSystem,controller=this._controller,controllerHost=this._controllerHost;controllerHost.zoomLimit=mapOrGeoModel.get("scaleLimit"),controllerHost.zoom=geo.getZoom(),controller.enable(mapOrGeoModel.get("roam")||!1);var mainType=mapOrGeoModel.mainType;function makeActionBase(){var action={type:"geoRoam",componentType:mainType};return action[mainType+"Id"]=mapOrGeoModel.id,action}controller.off("pan").on("pan",(function(e){this._mouseDownFlag=!1,updateViewOnPan(controllerHost,e.dx,e.dy),api.dispatchAction(util.extend(makeActionBase(),{dx:e.dx,dy:e.dy,animation:{duration:0}}))}),this),controller.off("zoom").on("zoom",(function(e){this._mouseDownFlag=!1,updateViewOnZoom(controllerHost,e.scale,e.originX,e.originY),api.dispatchAction(util.extend(makeActionBase(),{zoom:e.scale,originX:e.originX,originY:e.originY,animation:{duration:0}}))}),this),controller.setPointerChecker((function(e,x,y){return geo.containPoint([x,y])&&!onIrrelevantElement(e,api,mapOrGeoModel)}))},MapDraw.prototype.resetForLabelLayout=function(){this.group.traverse((function(el){var label=el.getTextContent();label&&(label.ignore=mapLabelRaw(label).ignore)}))},MapDraw.prototype._updateMapSelectHandler=function(mapOrGeoModel,regionsGroup,api,fromView){var mapDraw=this;regionsGroup.off("mousedown"),regionsGroup.off("click"),mapOrGeoModel.get("selectedMode")&&(regionsGroup.on("mousedown",(function(){mapDraw._mouseDownFlag=!0})),regionsGroup.on("click",(function(e){mapDraw._mouseDownFlag&&(mapDraw._mouseDownFlag=!1)})))},MapDraw}(),MapView_MapView=function(_super){function MapView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MapView.type,_this}return __extends(MapView,_super),MapView.prototype.render=function(mapModel,ecModel,api,payload){if(!payload||"mapToggleSelect"!==payload.type||payload.from!==this.uid){var group=this.group;if(group.removeAll(),!mapModel.getHostGeoModel()){if(this._mapDraw&&payload&&"geoRoam"===payload.type&&this._mapDraw.resetForLabelLayout(),payload&&"geoRoam"===payload.type&&"series"===payload.componentType&&payload.seriesId===mapModel.id)(mapDraw=this._mapDraw)&&group.add(mapDraw.group);else if(mapModel.needsDrawMap){var mapDraw=this._mapDraw||new helper_MapDraw(api);group.add(mapDraw.group),mapDraw.draw(mapModel,ecModel,api,this,payload),this._mapDraw=mapDraw}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;mapModel.get("showLegendSymbol")&&ecModel.getComponent("legend")&&this._renderSymbols(mapModel,ecModel,api)}}},MapView.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},MapView.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},MapView.prototype._renderSymbols=function(mapModel,ecModel,api){var originalData=mapModel.originalData,group=this.group;originalData.each(originalData.mapDimension("value"),(function(value,originalDataIndex){if(!isNaN(value)){var layout=originalData.getItemLayout(originalDataIndex);if(layout&&layout.point){var point=layout.point,offset=layout.offset,circle=new shape_Circle({style:{fill:mapModel.getData().getVisual("style").fill},shape:{cx:point[0]+9*offset,cy:point[1],r:3},silent:!0,z2:8+(offset?0:11)});if(!offset){var fullData=mapModel.mainSeries.getData(),name_1=originalData.getName(originalDataIndex),fullIndex_1=fullData.indexOfName(name_1),itemModel=originalData.getItemModel(originalDataIndex),labelModel=itemModel.getModel("label"),regionGroup=fullData.getItemGraphicEl(fullIndex_1);setLabelStyle(circle,getLabelStatesModels(itemModel),{labelFetcher:{getFormattedLabel:function(idx,state){return mapModel.getFormattedLabel(fullIndex_1,state)}},defaultText:name_1}),circle.disableLabelAnimation=!0,labelModel.get("position")||circle.setTextConfig({position:"bottom"}),regionGroup.onHoverStateChange=function(toState){setStatesFlag(circle,toState)}}group.add(circle)}}}))},MapView.type="map",MapView}(Chart),map_MapView=MapView_MapView,MapSeries_MapSeries=function(_super){function MapSeries(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MapSeries.type,_this.needsDrawMap=!1,_this.seriesGroup=[],_this.getTooltipPosition=function(dataIndex){if(null!=dataIndex){var name_1=this.getData().getName(dataIndex),geo=this.coordinateSystem,region=geo.getRegion(name_1);return region&&geo.dataToPoint(region.getCenter())}},_this}return __extends(MapSeries,_super),MapSeries.prototype.getInitialData=function(option){for(var data=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:util.curry(makeSeriesEncodeForNameBased,this)}),dataNameMap=util.createHashMap(),toAppendNames=[],i=0,len=data.count();i<len;i++){var name_2=data.getName(i);dataNameMap.set(name_2,!0)}var geoSource=geoSourceManager_load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return util.each(geoSource.regions,(function(region){var name=region.name;dataNameMap.get(name)||toAppendNames.push(name)})),data.appendValues([],toAppendNames),data},MapSeries.prototype.getHostGeoModel=function(){var geoIndex=this.option.geoIndex;return null!=geoIndex?this.ecModel.getComponent("geo",geoIndex):null},MapSeries.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},MapSeries.prototype.getRawValue=function(dataIndex){var data=this.getData();return data.get(data.mapDimension("value"),dataIndex)},MapSeries.prototype.getRegionModel=function(regionName){var data=this.getData();return data.getItemModel(data.indexOfName(regionName))},MapSeries.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){for(var data=this.getData(),value=this.getRawValue(dataIndex),name=data.getName(dataIndex),seriesGroup=this.seriesGroup,seriesNames=[],i=0;i<seriesGroup.length;i++){var otherIndex=seriesGroup[i].originalData.indexOfName(name),valueDim=data.mapDimension("value");isNaN(seriesGroup[i].originalData.get(valueDim,otherIndex))||seriesNames.push(seriesGroup[i].name)}return createTooltipMarkup("section",{header:seriesNames.join(", "),noHeader:!seriesNames.length,blocks:[createTooltipMarkup("nameValue",{name:name,value:value})]})},MapSeries.prototype.setZoom=function(zoom){this.option.zoom=zoom},MapSeries.prototype.setCenter=function(center){this.option.center=center},MapSeries.prototype.getLegendIcon=function(opt){var iconType=opt.icon||"roundRect",icon=symbol_createSymbol(iconType,0,0,opt.itemWidth,opt.itemHeight,opt.itemStyle.fill);return icon.setStyle(opt.itemStyle),icon.style.stroke="none",iconType.indexOf("empty")>-1&&(icon.style.stroke=icon.style.fill,icon.style.fill="#fff",icon.style.lineWidth=2),icon},MapSeries.type="series.map",MapSeries.dependencies=["geo"],MapSeries.layoutMode="box",MapSeries.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},MapSeries}(Series),map_MapSeries=MapSeries_MapSeries;function mapDataStatistic(ecModel){var seriesGroups={};ecModel.eachSeriesByType("map",(function(seriesModel){var hostGeoModel=seriesModel.getHostGeoModel(),key=hostGeoModel?"o"+hostGeoModel.id:"i"+seriesModel.getMapType();(seriesGroups[key]=seriesGroups[key]||[]).push(seriesModel)})),util.each(seriesGroups,(function(seriesList,key){for(var data=function dataStatistics(datas,statisticType){var dataNameMap={};return util.each(datas,(function(data){data.each(data.mapDimension("value"),(function(value,idx){var mapKey="ec-"+data.getName(idx);dataNameMap[mapKey]=dataNameMap[mapKey]||[],isNaN(value)||dataNameMap[mapKey].push(value)}))})),datas[0].map(datas[0].mapDimension("value"),(function(value,idx){for(var mapKey="ec-"+datas[0].getName(idx),sum=0,min=1/0,max=-1/0,len=dataNameMap[mapKey].length,i=0;i<len;i++)min=Math.min(min,dataNameMap[mapKey][i]),max=Math.max(max,dataNameMap[mapKey][i]),sum+=dataNameMap[mapKey][i];return 0===len?NaN:"min"===statisticType?min:"max"===statisticType?max:"average"===statisticType?sum/len:sum}))}(util.map(seriesList,(function(seriesModel){return seriesModel.getData()})),seriesList[0].get("mapValueCalculation")),i=0;i<seriesList.length;i++)seriesList[i].originalData=seriesList[i].getData();for(i=0;i<seriesList.length;i++)seriesList[i].seriesGroup=seriesList,seriesList[i].needsDrawMap=0===i&&!seriesList[i].getHostGeoModel(),seriesList[i].setData(data.cloneShallow()),seriesList[i].mainSeries=seriesList[0]}))}function mapSymbolLayout(ecModel){var processedMapType={};ecModel.eachSeriesByType("map",(function(mapSeries){var mapType=mapSeries.getMapType();if(!mapSeries.getHostGeoModel()&&!processedMapType[mapType]){var mapSymbolOffsets={};util.each(mapSeries.seriesGroup,(function(subMapSeries){var geo=subMapSeries.coordinateSystem,data=subMapSeries.originalData;subMapSeries.get("showLegendSymbol")&&ecModel.getComponent("legend")&&data.each(data.mapDimension("value"),(function(value,idx){var name=data.getName(idx),region=geo.getRegion(name);if(region&&!isNaN(value)){var offset=mapSymbolOffsets[name]||0,point=geo.dataToPoint(region.getCenter());mapSymbolOffsets[name]=offset+1,data.setItemLayout(idx,{point:point,offset:offset})}}))}));var data=mapSeries.getData();data.each((function(idx){var name=data.getName(idx),layout=data.getItemLayout(idx)||{};layout.showLabel=!mapSymbolOffsets[name],data.setItemLayout(idx,layout)})),processedMapType[mapType]=!0}}))}var v2ApplyTransform=applyTransform;function getCoordSys(finder){var seriesModel=finder.seriesModel;return seriesModel?seriesModel.coordinateSystem:null}var coord_View=function(_super){function View(name){var _this=_super.call(this)||this;return _this.type="view",_this.dimensions=["x","y"],_this._roamTransformable=new core_Transformable,_this._rawTransformable=new core_Transformable,_this.name=name,_this}return __extends(View,_super),View.prototype.setBoundingRect=function(x,y,width,height){return this._rect=new core_BoundingRect(x,y,width,height),this._rect},View.prototype.getBoundingRect=function(){return this._rect},View.prototype.setViewRect=function(x,y,width,height){this._transformTo(x,y,width,height),this._viewRect=new core_BoundingRect(x,y,width,height)},View.prototype._transformTo=function(x,y,width,height){var rect=this.getBoundingRect(),rawTransform=this._rawTransformable;rawTransform.transform=rect.calculateTransform(new core_BoundingRect(x,y,width,height));var rawParent=rawTransform.parent;rawTransform.parent=null,rawTransform.decomposeTransform(),rawTransform.parent=rawParent,this._updateTransform()},View.prototype.setCenter=function(centerCoord){centerCoord&&(this._center=centerCoord,this._updateCenterAndZoom())},View.prototype.setZoom=function(zoom){zoom=zoom||1;var zoomLimit=this.zoomLimit;zoomLimit&&(null!=zoomLimit.max&&(zoom=Math.min(zoomLimit.max,zoom)),null!=zoomLimit.min&&(zoom=Math.max(zoomLimit.min,zoom))),this._zoom=zoom,this._updateCenterAndZoom()},View.prototype.getDefaultCenter=function(){var rawRect=this.getBoundingRect();return[rawRect.x+rawRect.width/2,rawRect.y+rawRect.height/2]},View.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},View.prototype.getZoom=function(){return this._zoom||1},View.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},View.prototype._updateCenterAndZoom=function(){var rawTransformMatrix=this._rawTransformable.getLocalTransform(),roamTransform=this._roamTransformable,defaultCenter=this.getDefaultCenter(),center=this.getCenter(),zoom=this.getZoom();center=applyTransform([],center,rawTransformMatrix),defaultCenter=applyTransform([],defaultCenter,rawTransformMatrix),roamTransform.originX=center[0],roamTransform.originY=center[1],roamTransform.x=defaultCenter[0]-center[0],roamTransform.y=defaultCenter[1]-center[1],roamTransform.scaleX=roamTransform.scaleY=zoom,this._updateTransform()},View.prototype._updateTransform=function(){var roamTransformable=this._roamTransformable,rawTransformable=this._rawTransformable;rawTransformable.parent=roamTransformable,roamTransformable.updateTransform(),rawTransformable.updateTransform(),matrix_copy(this.transform||(this.transform=[]),rawTransformable.transform||[1,0,0,1,0,0]),this._rawTransform=rawTransformable.getLocalTransform(),this.invTransform=this.invTransform||[],matrix_invert(this.invTransform,this.transform),this.decomposeTransform()},View.prototype.getTransformInfo=function(){var rawTransformable=this._rawTransformable,roamTransformable=this._roamTransformable,dummyTransformable=new core_Transformable;return dummyTransformable.transform=roamTransformable.transform,dummyTransformable.decomposeTransform(),{roam:{x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY},raw:{x:rawTransformable.x,y:rawTransformable.y,scaleX:rawTransformable.scaleX,scaleY:rawTransformable.scaleY}}},View.prototype.getViewRect=function(){return this._viewRect},View.prototype.getViewRectAfterRoam=function(){var rect=this.getBoundingRect().clone();return rect.applyTransform(this.transform),rect},View.prototype.dataToPoint=function(data,noRoam,out){var transform=noRoam?this._rawTransform:this.transform;return out=out||[],transform?v2ApplyTransform(out,data,transform):vector_copy(out,data)},View.prototype.pointToData=function(point){var invTransform=this.invTransform;return invTransform?v2ApplyTransform([],point,invTransform):[point[0],point[1]]},View.prototype.convertToPixel=function(ecModel,finder,value){var coordSys=getCoordSys(finder);return coordSys===this?coordSys.dataToPoint(value):null},View.prototype.convertFromPixel=function(ecModel,finder,pixel){var coordSys=getCoordSys(finder);return coordSys===this?coordSys.pointToData(pixel):null},View.prototype.containPoint=function(point){return this.getViewRectAfterRoam().contain(point[0],point[1])},View.dimensions=["x","y"],View}(core_Transformable),GEO_DEFAULT_PARAMS={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions=["lng","lat"],Geo_Geo=function(_super){function Geo(name,map,opt){var _this=_super.call(this,name)||this;_this.dimensions=geo2DDimensions,_this.type="geo",_this._nameCoordMap=util.createHashMap(),_this.map=map;var boundingRect,projection=opt.projection,source=geoSourceManager_load(map,opt.nameMap,opt.nameProperty),resource=geoSourceManager_getGeoResource(map),regions=(_this.resourceType=resource?resource.type:null,_this.regions=source.regions),defaultParams=GEO_DEFAULT_PARAMS[resource.type];if(_this._regionsMap=source.regionsMap,_this.regions=source.regions,_this.projection=projection,projection)for(var i=0;i<regions.length;i++){var regionRect=regions[i].getBoundingRect(projection);(boundingRect=boundingRect||regionRect.clone()).union(regionRect)}else boundingRect=source.boundingRect;return _this.setBoundingRect(boundingRect.x,boundingRect.y,boundingRect.width,boundingRect.height),_this.aspectScale=projection?1:util.retrieve2(opt.aspectScale,defaultParams.aspectScale),_this._invertLongitute=!projection&&defaultParams.invertLongitute,_this}return __extends(Geo,_super),Geo.prototype._transformTo=function(x,y,width,height){var rect=this.getBoundingRect(),invertLongitute=this._invertLongitute;rect=rect.clone(),invertLongitute&&(rect.y=-rect.y-rect.height);var rawTransformable=this._rawTransformable;rawTransformable.transform=rect.calculateTransform(new core_BoundingRect(x,y,width,height));var rawParent=rawTransformable.parent;rawTransformable.parent=null,rawTransformable.decomposeTransform(),rawTransformable.parent=rawParent,invertLongitute&&(rawTransformable.scaleY=-rawTransformable.scaleY),this._updateTransform()},Geo.prototype.getRegion=function(name){return this._regionsMap.get(name)},Geo.prototype.getRegionByCoord=function(coord){for(var regions=this.regions,i=0;i<regions.length;i++){var region=regions[i];if("geoJSON"===region.type&&region.contain(coord))return regions[i]}},Geo.prototype.addGeoCoord=function(name,geoCoord){this._nameCoordMap.set(name,geoCoord)},Geo.prototype.getGeoCoord=function(name){var region=this._regionsMap.get(name);return this._nameCoordMap.get(name)||region&&region.getCenter()},Geo.prototype.dataToPoint=function(data,noRoam,out){if(util.isString(data)&&(data=this.getGeoCoord(data)),data){var projection=this.projection;return projection&&(data=projection.project(data)),data&&this.projectedToPoint(data)}},Geo.prototype.pointToData=function(point){var projection=this.projection;return projection&&(point=projection.unproject(point)),point&&this.pointToProjected(point)},Geo.prototype.pointToProjected=function(point){return _super.prototype.pointToData.call(this,point)},Geo.prototype.projectedToPoint=function(projected,noRoam,out){return _super.prototype.dataToPoint.call(this,projected,noRoam,out)},Geo.prototype.convertToPixel=function(ecModel,finder,value){var coordSys=Geo_getCoordSys(finder);return coordSys===this?coordSys.dataToPoint(value):null},Geo.prototype.convertFromPixel=function(ecModel,finder,pixel){var coordSys=Geo_getCoordSys(finder);return coordSys===this?coordSys.pointToData(pixel):null},Geo}(coord_View);function Geo_getCoordSys(finder){var geoModel=finder.geoModel,seriesModel=finder.seriesModel;return geoModel?geoModel.coordinateSystem:seriesModel?seriesModel.coordinateSystem||(seriesModel.getReferringComponents("geo",SINGLE_REFERRING).models[0]||{}).coordinateSystem:null}util.mixin(Geo_Geo,coord_View);var geo_Geo=Geo_Geo;function resizeGeo(geoModel,api){var boundingCoords=geoModel.get("boundingCoords");if(null!=boundingCoords){var leftTop_1=boundingCoords[0],rightBottom_1=boundingCoords[1];if(isFinite(leftTop_1[0])&&isFinite(leftTop_1[1])&&isFinite(rightBottom_1[0])&&isFinite(rightBottom_1[1])){var projection_1=this.projection;if(projection_1){var xMin=leftTop_1[0],yMin=leftTop_1[1],xMax=rightBottom_1[0],yMax=rightBottom_1[1];leftTop_1=[1/0,1/0],rightBottom_1=[-1/0,-1/0];var sampleLine=function(x0,y0,x1,y1){for(var dx=x1-x0,dy=y1-y0,i=0;i<=100;i++){var p=i/100,pt=projection_1.project([x0+dx*p,y0+dy*p]);vector_min(leftTop_1,leftTop_1,pt),vector_max(rightBottom_1,rightBottom_1,pt)}};sampleLine(xMin,yMin,xMax,yMin),sampleLine(xMax,yMin,xMax,yMax),sampleLine(xMax,yMax,xMin,yMax),sampleLine(xMin,yMax,xMax,yMin)}this.setBoundingRect(leftTop_1[0],leftTop_1[1],rightBottom_1[0]-leftTop_1[0],rightBottom_1[1]-leftTop_1[1])}else 0}var center,size,viewRect,rect=this.getBoundingRect(),centerOption=geoModel.get("layoutCenter"),sizeOption=geoModel.get("layoutSize"),viewWidth=api.getWidth(),viewHeight=api.getHeight(),aspect=rect.width/rect.height*this.aspectScale,useCenterAndSize=!1;if(centerOption&&sizeOption&&(center=[number_parsePercent(centerOption[0],viewWidth),number_parsePercent(centerOption[1],viewHeight)],size=number_parsePercent(sizeOption,Math.min(viewWidth,viewHeight)),isNaN(center[0])||isNaN(center[1])||isNaN(size)||(useCenterAndSize=!0)),useCenterAndSize)viewRect={},aspect>1?(viewRect.width=size,viewRect.height=size/aspect):(viewRect.height=size,viewRect.width=size*aspect),viewRect.y=center[1]-viewRect.height/2,viewRect.x=center[0]-viewRect.width/2;else{var boxLayoutOption=geoModel.getBoxLayoutParams();boxLayoutOption.aspect=aspect,viewRect=getLayoutRect(boxLayoutOption,{width:viewWidth,height:viewHeight})}this.setViewRect(viewRect.x,viewRect.y,viewRect.width,viewRect.height),this.setCenter(geoModel.get("center")),this.setZoom(geoModel.get("zoom"))}var geoCreator_GeoCreator=function(){function GeoCreator(){this.dimensions=geo2DDimensions}return GeoCreator.prototype.create=function(ecModel,api){var geoList=[];function getCommonGeoProperties(model){return{nameProperty:model.get("nameProperty"),aspectScale:model.get("aspectScale"),projection:model.get("projection")}}ecModel.eachComponent("geo",(function(geoModel,idx){var mapName=geoModel.get("map"),geo=new geo_Geo(mapName+idx,mapName,util.extend({nameMap:geoModel.get("nameMap")},getCommonGeoProperties(geoModel)));geo.zoomLimit=geoModel.get("scaleLimit"),geoList.push(geo),geoModel.coordinateSystem=geo,geo.model=geoModel,geo.resize=resizeGeo,geo.resize(geoModel,api)})),ecModel.eachSeries((function(seriesModel){if("geo"===seriesModel.get("coordinateSystem")){var geoIndex=seriesModel.get("geoIndex")||0;seriesModel.coordinateSystem=geoList[geoIndex]}}));var mapModelGroupBySeries={};return ecModel.eachSeriesByType("map",(function(seriesModel){if(!seriesModel.getHostGeoModel()){var mapType=seriesModel.getMapType();mapModelGroupBySeries[mapType]=mapModelGroupBySeries[mapType]||[],mapModelGroupBySeries[mapType].push(seriesModel)}})),util.each(mapModelGroupBySeries,(function(mapSeries,mapType){var nameMapList=util.map(mapSeries,(function(singleMapSeries){return singleMapSeries.get("nameMap")})),geo=new geo_Geo(mapType,mapType,util.extend({nameMap:util.mergeAll(nameMapList)},getCommonGeoProperties(mapSeries[0])));geo.zoomLimit=util.retrieve.apply(null,util.map(mapSeries,(function(singleMapSeries){return singleMapSeries.get("scaleLimit")}))),geoList.push(geo),geo.resize=resizeGeo,geo.resize(mapSeries[0],api),util.each(mapSeries,(function(singleMapSeries){singleMapSeries.coordinateSystem=geo,function setGeoCoords(geo,model){util.each(model.get("geoCoord"),(function(geoCoord,name){geo.addGeoCoord(name,geoCoord)}))}(geo,singleMapSeries)}))})),geoList},GeoCreator.prototype.getFilledRegions=function(originRegionArr,mapName,nameMap,nameProperty){for(var regionsArr=(originRegionArr||[]).slice(),dataNameMap=util.createHashMap(),i=0;i<regionsArr.length;i++)dataNameMap.set(regionsArr[i].name,regionsArr[i]);var source=geoSourceManager_load(mapName,nameMap,nameProperty);return util.each(source.regions,(function(region){var name=region.name;!dataNameMap.get(name)&&regionsArr.push({name:name})})),regionsArr},GeoCreator}(),geo_geoCreator=new geoCreator_GeoCreator,GeoModel_GeoModel=function(_super){function GeoModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GeoModel.type,_this}return __extends(GeoModel,_super),GeoModel.prototype.init=function(option,parentModel,ecModel){var source=geoSourceManager_getGeoResource(option.map);if(source&&"geoJSON"===source.type){var itemStyle=option.itemStyle=option.itemStyle||{};"color"in itemStyle||(itemStyle.color="#eee")}this.mergeDefaultAndTheme(option,ecModel),defaultEmphasis(option,"label",["show"])},GeoModel.prototype.optionUpdated=function(){var _this=this,option=this.option;option.regions=geo_geoCreator.getFilledRegions(option.regions,option.map,option.nameMap,option.nameProperty);var selectedMap={};this._optionModelMap=util.reduce(option.regions||[],(function(optionModelMap,regionOpt){var regionName=regionOpt.name;return regionName&&(optionModelMap.set(regionName,new model_Model(regionOpt,_this,_this.ecModel)),regionOpt.selected&&(selectedMap[regionName]=!0)),optionModelMap}),util.createHashMap()),option.selectedMap||(option.selectedMap=selectedMap)},GeoModel.prototype.getRegionModel=function(name){return this._optionModelMap.get(name)||new model_Model(null,this,this.ecModel)},GeoModel.prototype.getFormattedLabel=function(name,status){var regionModel=this.getRegionModel(name),formatter="normal"===status?regionModel.get(["label","formatter"]):regionModel.get(["emphasis","label","formatter"]),params={name:name};return util.isFunction(formatter)?(params.status=status,formatter(params)):util.isString(formatter)?formatter.replace("{a}",null!=name?name:""):void 0},GeoModel.prototype.setZoom=function(zoom){this.option.zoom=zoom},GeoModel.prototype.setCenter=function(center){this.option.center=center},GeoModel.prototype.select=function(name){var option=this.option,selectedMode=option.selectedMode;selectedMode&&("multiple"!==selectedMode&&(option.selectedMap=null),(option.selectedMap||(option.selectedMap={}))[name]=!0)},GeoModel.prototype.unSelect=function(name){var selectedMap=this.option.selectedMap;selectedMap&&(selectedMap[name]=!1)},GeoModel.prototype.toggleSelected=function(name){this[this.isSelected(name)?"unSelect":"select"](name)},GeoModel.prototype.isSelected=function(name){var selectedMap=this.option.selectedMap;return!(!selectedMap||!selectedMap[name])},GeoModel.type="geo",GeoModel.layoutMode="box",GeoModel.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},GeoModel}(Component),geo_GeoModel=GeoModel_GeoModel;function getCenterCoord(view,point){return view.pointToProjected?view.pointToProjected(point):view.pointToData(point)}function updateCenterAndZoom(view,payload,zoomLimit){var previousZoom=view.getZoom(),center=view.getCenter(),zoom=payload.zoom,point=view.projectedToPoint?view.projectedToPoint(center):view.dataToPoint(center);if(null!=payload.dx&&null!=payload.dy&&(point[0]-=payload.dx,point[1]-=payload.dy,view.setCenter(getCenterCoord(view,point))),null!=zoom){if(zoomLimit){var zoomMin=zoomLimit.min||0,zoomMax=zoomLimit.max||1/0;zoom=Math.max(Math.min(previousZoom*zoom,zoomMax),zoomMin)/previousZoom}view.scaleX*=zoom,view.scaleY*=zoom;var fixX=(payload.originX-view.x)*(zoom-1),fixY=(payload.originY-view.y)*(zoom-1);view.x-=fixX,view.y-=fixY,view.updateTransform(),view.setCenter(getCenterCoord(view,point)),view.setZoom(zoom*previousZoom)}return{center:view.getCenter(),zoom:view.getZoom()}}var GeoView_GeoView=function(_super){function GeoView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GeoView.type,_this.focusBlurEnabled=!0,_this}return __extends(GeoView,_super),GeoView.prototype.init=function(ecModel,api){this._api=api},GeoView.prototype.render=function(geoModel,ecModel,api,payload){if(this._model=geoModel,!geoModel.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new helper_MapDraw(api));var mapDraw=this._mapDraw;mapDraw.draw(geoModel,ecModel,api,this,payload),mapDraw.group.on("click",this._handleRegionClick,this),mapDraw.group.silent=geoModel.get("silent"),this.group.add(mapDraw.group),this.updateSelectStatus(geoModel,ecModel,api)},GeoView.prototype._handleRegionClick=function(e){var eventData;findEventDispatcher(e.target,(function(current){return null!=(eventData=getECData(current).eventData)}),!0),eventData&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:eventData.name})},GeoView.prototype.updateSelectStatus=function(model,ecModel,api){var _this=this;this._mapDraw.group.traverse((function(node){var eventData=getECData(node).eventData;if(eventData)return _this._model.isSelected(eventData.name)?api.enterSelect(node):api.leaveSelect(node),!0}))},GeoView.prototype.findHighDownDispatchers=function(name){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(name,this._model)},GeoView.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},GeoView.type="geo",GeoView}(view_Component),geo_GeoView=GeoView_GeoView;function install_registerMap(mapName,geoJson,specialAreas){geoSourceManager_registerMap(mapName,geoJson,specialAreas)}function geo_install_install(registers){function makeAction(method,actionInfo){actionInfo.update="geo:updateSelectStatus",registers.registerAction(actionInfo,(function(payload,ecModel){var selected={},allSelected=[];return ecModel.eachComponent({mainType:"geo",query:payload},(function(geoModel){geoModel[method](payload.name);var geo=geoModel.coordinateSystem;Object(util.each)(geo.regions,(function(region){selected[region.name]=geoModel.isSelected(region.name)||!1}));var names=[];Object(util.each)(selected,(function(v,name){selected[name]&&names.push(name)})),allSelected.push({geoIndex:geoModel.componentIndex,name:names})})),{selected:selected,allSelected:allSelected,name:payload.name}}))}registers.registerCoordinateSystem("geo",geo_geoCreator),registers.registerComponentModel(geo_GeoModel),registers.registerComponentView(geo_GeoView),registers.registerImpl("registerMap",install_registerMap),registers.registerImpl("getMap",(function(mapName){return geoSourceManager_getMapForUser(mapName)})),makeAction("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),makeAction("select",{type:"geoSelect",event:"geoselected"}),makeAction("unSelect",{type:"geoUnSelect",event:"geounselected"}),registers.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(payload,ecModel){var componentType=payload.componentType||"series";ecModel.eachComponent({mainType:componentType,query:payload},(function(componentModel){var geo=componentModel.coordinateSystem;if("geo"===geo.type){var res=updateCenterAndZoom(geo,payload,componentModel.get("scaleLimit"));componentModel.setCenter&&componentModel.setCenter(res.center),componentModel.setZoom&&componentModel.setZoom(res.zoom),"series"===componentType&&Object(util.each)(componentModel.seriesGroup,(function(seriesModel){seriesModel.setCenter(res.center),seriesModel.setZoom(res.zoom)}))}}))}))}function firstWalk(node,separation){var children=node.isExpand?node.children:[],siblings=node.parentNode.children,subtreeW=node.hierNode.i?siblings[node.hierNode.i-1]:null;if(children.length){!function executeShifts(node){var children=node.children,n=children.length,shift=0,change=0;for(;--n>=0;){var child=children[n];child.hierNode.prelim+=shift,child.hierNode.modifier+=shift,change+=child.hierNode.change,shift+=child.hierNode.shift+change}}(node);var midPoint=(children[0].hierNode.prelim+children[children.length-1].hierNode.prelim)/2;subtreeW?(node.hierNode.prelim=subtreeW.hierNode.prelim+separation(node,subtreeW),node.hierNode.modifier=node.hierNode.prelim-midPoint):node.hierNode.prelim=midPoint}else subtreeW&&(node.hierNode.prelim=subtreeW.hierNode.prelim+separation(node,subtreeW));node.parentNode.hierNode.defaultAncestor=function apportion(subtreeV,subtreeW,ancestor,separation){if(subtreeW){for(var nodeOutRight=subtreeV,nodeInRight=subtreeV,nodeOutLeft=nodeInRight.parentNode.children[0],nodeInLeft=subtreeW,sumOutRight=nodeOutRight.hierNode.modifier,sumInRight=nodeInRight.hierNode.modifier,sumOutLeft=nodeOutLeft.hierNode.modifier,sumInLeft=nodeInLeft.hierNode.modifier;nodeInLeft=nextRight(nodeInLeft),nodeInRight=nextLeft(nodeInRight),nodeInLeft&&nodeInRight;){nodeOutRight=nextRight(nodeOutRight),nodeOutLeft=nextLeft(nodeOutLeft),nodeOutRight.hierNode.ancestor=subtreeV;var shift=nodeInLeft.hierNode.prelim+sumInLeft-nodeInRight.hierNode.prelim-sumInRight+separation(nodeInLeft,nodeInRight);shift>0&&(moveSubtree(nextAncestor(nodeInLeft,subtreeV,ancestor),subtreeV,shift),sumInRight+=shift,sumOutRight+=shift),sumInLeft+=nodeInLeft.hierNode.modifier,sumInRight+=nodeInRight.hierNode.modifier,sumOutRight+=nodeOutRight.hierNode.modifier,sumOutLeft+=nodeOutLeft.hierNode.modifier}nodeInLeft&&!nextRight(nodeOutRight)&&(nodeOutRight.hierNode.thread=nodeInLeft,nodeOutRight.hierNode.modifier+=sumInLeft-sumOutRight),nodeInRight&&!nextLeft(nodeOutLeft)&&(nodeOutLeft.hierNode.thread=nodeInRight,nodeOutLeft.hierNode.modifier+=sumInRight-sumOutLeft,ancestor=subtreeV)}return ancestor}(node,subtreeW,node.parentNode.hierNode.defaultAncestor||siblings[0],separation)}function secondWalk(node){var nodeX=node.hierNode.prelim+node.parentNode.hierNode.modifier;node.setLayout({x:nodeX},!0),node.hierNode.modifier+=node.parentNode.hierNode.modifier}function layoutHelper_separation(cb){return arguments.length?cb:defaultSeparation}function radialCoordinate(rad,r){return rad-=Math.PI/2,{x:r*Math.cos(rad),y:r*Math.sin(rad)}}function nextRight(node){var children=node.children;return children.length&&node.isExpand?children[children.length-1]:node.hierNode.thread}function nextLeft(node){var children=node.children;return children.length&&node.isExpand?children[0]:node.hierNode.thread}function nextAncestor(nodeInLeft,node,ancestor){return nodeInLeft.hierNode.ancestor.parentNode===node.parentNode?nodeInLeft.hierNode.ancestor:ancestor}function moveSubtree(wl,wr,shift){var change=shift/(wr.hierNode.i-wl.hierNode.i);wr.hierNode.change-=change,wr.hierNode.shift+=shift,wr.hierNode.modifier+=shift,wr.hierNode.prelim+=shift,wl.hierNode.change+=change}function defaultSeparation(node1,node2){return node1.parentNode===node2.parentNode?1:2}var TreeEdgeShape=function TreeEdgeShape(){this.parentPoint=[],this.childPoints=[]},TreeView_TreePath=function(_super){function TreePath(opts){return _super.call(this,opts)||this}return __extends(TreePath,_super),TreePath.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},TreePath.prototype.getDefaultShape=function(){return new TreeEdgeShape},TreePath.prototype.buildPath=function(ctx,shape){var childPoints=shape.childPoints,childLen=childPoints.length,parentPoint=shape.parentPoint,firstChildPos=childPoints[0],lastChildPos=childPoints[childLen-1];if(1===childLen)return ctx.moveTo(parentPoint[0],parentPoint[1]),void ctx.lineTo(firstChildPos[0],firstChildPos[1]);var orient=shape.orient,forkDim="TB"===orient||"BT"===orient?0:1,otherDim=1-forkDim,forkPosition=number_parsePercent(shape.forkPosition,1),tmpPoint=[];tmpPoint[forkDim]=parentPoint[forkDim],tmpPoint[otherDim]=parentPoint[otherDim]+(lastChildPos[otherDim]-parentPoint[otherDim])*forkPosition,ctx.moveTo(parentPoint[0],parentPoint[1]),ctx.lineTo(tmpPoint[0],tmpPoint[1]),ctx.moveTo(firstChildPos[0],firstChildPos[1]),tmpPoint[forkDim]=firstChildPos[forkDim],ctx.lineTo(tmpPoint[0],tmpPoint[1]),tmpPoint[forkDim]=lastChildPos[forkDim],ctx.lineTo(tmpPoint[0],tmpPoint[1]),ctx.lineTo(lastChildPos[0],lastChildPos[1]);for(var i=1;i<childLen-1;i++){var point=childPoints[i];ctx.moveTo(point[0],point[1]),tmpPoint[forkDim]=point[forkDim],ctx.lineTo(tmpPoint[0],tmpPoint[1])}},TreePath}(graphic_Path),TreeView_TreeView=function(_super){function TreeView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TreeView.type,_this._mainGroup=new graphic_Group,_this}return __extends(TreeView,_super),TreeView.prototype.init=function(ecModel,api){this._controller=new helper_RoamController(api.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},TreeView.prototype.render=function(seriesModel,ecModel,api){var data=seriesModel.getData(),layoutInfo=seriesModel.layoutInfo,group=this._mainGroup;"radial"===seriesModel.get("layout")?(group.x=layoutInfo.x+layoutInfo.width/2,group.y=layoutInfo.y+layoutInfo.height/2):(group.x=layoutInfo.x,group.y=layoutInfo.y),this._updateViewCoordSys(seriesModel),this._updateController(seriesModel,ecModel,api);var oldData=this._data;data.diff(oldData).add((function(newIdx){TreeView_symbolNeedsDraw(data,newIdx)&&updateNode(data,newIdx,null,group,seriesModel)})).update((function(newIdx,oldIdx){var symbolEl=oldData.getItemGraphicEl(oldIdx);TreeView_symbolNeedsDraw(data,newIdx)?updateNode(data,newIdx,symbolEl,group,seriesModel):symbolEl&&TreeView_removeNode(oldData,oldIdx,symbolEl,group,seriesModel)})).remove((function(oldIdx){var symbolEl=oldData.getItemGraphicEl(oldIdx);symbolEl&&TreeView_removeNode(oldData,oldIdx,symbolEl,group,seriesModel)})).execute(),this._nodeScaleRatio=seriesModel.get("nodeScaleRatio"),this._updateNodeAndLinkScale(seriesModel),!0===seriesModel.get("expandAndCollapse")&&data.eachItemGraphicEl((function(el,dataIndex){el.off("click").on("click",(function(){api.dispatchAction({type:"treeExpandAndCollapse",seriesId:seriesModel.id,dataIndex:dataIndex})}))})),this._data=data},TreeView.prototype._updateViewCoordSys=function(seriesModel){var data=seriesModel.getData(),points=[];data.each((function(idx){var layout=data.getItemLayout(idx);!layout||isNaN(layout.x)||isNaN(layout.y)||points.push([+layout.x,+layout.y])}));var min=[],max=[];fromPoints(points,min,max);var oldMin=this._min,oldMax=this._max;max[0]-min[0]==0&&(min[0]=oldMin?oldMin[0]:min[0]-1,max[0]=oldMax?oldMax[0]:max[0]+1),max[1]-min[1]==0&&(min[1]=oldMin?oldMin[1]:min[1]-1,max[1]=oldMax?oldMax[1]:max[1]+1);var viewCoordSys=seriesModel.coordinateSystem=new coord_View;viewCoordSys.zoomLimit=seriesModel.get("scaleLimit"),viewCoordSys.setBoundingRect(min[0],min[1],max[0]-min[0],max[1]-min[1]),viewCoordSys.setCenter(seriesModel.get("center")),viewCoordSys.setZoom(seriesModel.get("zoom")),this.group.attr({x:viewCoordSys.x,y:viewCoordSys.y,scaleX:viewCoordSys.scaleX,scaleY:viewCoordSys.scaleY}),this._min=min,this._max=max},TreeView.prototype._updateController=function(seriesModel,ecModel,api){var _this=this,controller=this._controller,controllerHost=this._controllerHost,group=this.group;controller.setPointerChecker((function(e,x,y){var rect=group.getBoundingRect();return rect.applyTransform(group.transform),rect.contain(x,y)&&!onIrrelevantElement(e,api,seriesModel)})),controller.enable(seriesModel.get("roam")),controllerHost.zoomLimit=seriesModel.get("scaleLimit"),controllerHost.zoom=seriesModel.coordinateSystem.getZoom(),controller.off("pan").off("zoom").on("pan",(function(e){updateViewOnPan(controllerHost,e.dx,e.dy),api.dispatchAction({seriesId:seriesModel.id,type:"treeRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){updateViewOnZoom(controllerHost,e.scale,e.originX,e.originY),api.dispatchAction({seriesId:seriesModel.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),_this._updateNodeAndLinkScale(seriesModel),api.updateLabelLayout()}))},TreeView.prototype._updateNodeAndLinkScale=function(seriesModel){var data=seriesModel.getData(),nodeScale=this._getNodeGlobalScale(seriesModel);data.eachItemGraphicEl((function(el,idx){el.setSymbolScale(nodeScale)}))},TreeView.prototype._getNodeGlobalScale=function(seriesModel){var coordSys=seriesModel.coordinateSystem;if("view"!==coordSys.type)return 1;var nodeScaleRatio=this._nodeScaleRatio,groupZoom=coordSys.scaleX||1;return((coordSys.getZoom()-1)*nodeScaleRatio+1)/groupZoom},TreeView.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},TreeView.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},TreeView.type="tree",TreeView}(Chart);function TreeView_symbolNeedsDraw(data,dataIndex){var layout=data.getItemLayout(dataIndex);return layout&&!isNaN(layout.x)&&!isNaN(layout.y)}function updateNode(data,dataIndex,symbolEl,group,seriesModel){var isInit=!symbolEl,node=data.tree.getNodeByDataIndex(dataIndex),itemModel=node.getModel(),visualColor=node.getVisual("style").fill,symbolInnerColor=!1===node.isExpand&&0!==node.children.length?visualColor:"#fff",virtualRoot=data.tree.root,source=node.parentNode===virtualRoot?node:node.parentNode||node,sourceSymbolEl=data.getItemGraphicEl(source.dataIndex),sourceLayout=source.getLayout(),sourceOldLayout=sourceSymbolEl?{x:sourceSymbolEl.__oldX,y:sourceSymbolEl.__oldY,rawX:sourceSymbolEl.__radialOldRawX,rawY:sourceSymbolEl.__radialOldRawY}:sourceLayout,targetLayout=node.getLayout();isInit?((symbolEl=new helper_Symbol(data,dataIndex,null,{symbolInnerColor:symbolInnerColor,useNameLabel:!0})).x=sourceOldLayout.x,symbolEl.y=sourceOldLayout.y):symbolEl.updateData(data,dataIndex,null,{symbolInnerColor:symbolInnerColor,useNameLabel:!0}),symbolEl.__radialOldRawX=symbolEl.__radialRawX,symbolEl.__radialOldRawY=symbolEl.__radialRawY,symbolEl.__radialRawX=targetLayout.rawX,symbolEl.__radialRawY=targetLayout.rawY,group.add(symbolEl),data.setItemGraphicEl(dataIndex,symbolEl),symbolEl.__oldX=symbolEl.x,symbolEl.__oldY=symbolEl.y,updateProps(symbolEl,{x:targetLayout.x,y:targetLayout.y},seriesModel);var symbolPath=symbolEl.getSymbolPath();if("radial"===seriesModel.get("layout")){var realRoot=virtualRoot.children[0],rootLayout=realRoot.getLayout(),length_1=realRoot.children.length,rad=void 0,isLeft=void 0;if(targetLayout.x===rootLayout.x&&!0===node.isExpand){var center={x:(realRoot.children[0].getLayout().x+realRoot.children[length_1-1].getLayout().x)/2,y:(realRoot.children[0].getLayout().y+realRoot.children[length_1-1].getLayout().y)/2};(rad=Math.atan2(center.y-rootLayout.y,center.x-rootLayout.x))<0&&(rad=2*Math.PI+rad),(isLeft=center.x<rootLayout.x)&&(rad-=Math.PI)}else(rad=Math.atan2(targetLayout.y-rootLayout.y,targetLayout.x-rootLayout.x))<0&&(rad=2*Math.PI+rad),0===node.children.length||0!==node.children.length&&!1===node.isExpand?(isLeft=targetLayout.x<rootLayout.x)&&(rad-=Math.PI):(isLeft=targetLayout.x>rootLayout.x)||(rad-=Math.PI);var textPosition=isLeft?"left":"right",normalLabelModel=itemModel.getModel("label"),rotate=normalLabelModel.get("rotate"),labelRotateRadian=rotate*(Math.PI/180),textContent=symbolPath.getTextContent();textContent&&(symbolPath.setTextConfig({position:normalLabelModel.get("position")||textPosition,rotation:null==rotate?-rad:labelRotateRadian,origin:"center"}),textContent.setStyle("verticalAlign","middle"))}var focus=itemModel.get(["emphasis","focus"]),focusDataIndices="ancestor"===focus?node.getAncestorsIndices():"descendant"===focus?node.getDescendantIndices():null;focusDataIndices&&(getECData(symbolEl).focus=focusDataIndices),function drawEdge(seriesModel,node,virtualRoot,symbolEl,sourceOldLayout,sourceLayout,targetLayout,group){var itemModel=node.getModel(),edgeShape=seriesModel.get("edgeShape"),layout=seriesModel.get("layout"),orient=seriesModel.getOrient(),curvature=seriesModel.get(["lineStyle","curveness"]),edgeForkPosition=seriesModel.get("edgeForkPosition"),lineStyle=itemModel.getModel("lineStyle").getLineStyle(),edge=symbolEl.__edge;if("curve"===edgeShape)node.parentNode&&node.parentNode!==virtualRoot&&(edge||(edge=symbolEl.__edge=new shape_BezierCurve({shape:getEdgeShape(layout,orient,curvature,sourceOldLayout,sourceOldLayout)})),updateProps(edge,{shape:getEdgeShape(layout,orient,curvature,sourceLayout,targetLayout)},seriesModel));else if("polyline"===edgeShape)if("orthogonal"===layout){if(node!==virtualRoot&&node.children&&0!==node.children.length&&!0===node.isExpand){for(var children=node.children,childPoints=[],i=0;i<children.length;i++){var childLayout=children[i].getLayout();childPoints.push([childLayout.x,childLayout.y])}edge||(edge=symbolEl.__edge=new TreeView_TreePath({shape:{parentPoint:[targetLayout.x,targetLayout.y],childPoints:[[targetLayout.x,targetLayout.y]],orient:orient,forkPosition:edgeForkPosition}})),updateProps(edge,{shape:{parentPoint:[targetLayout.x,targetLayout.y],childPoints:childPoints}},seriesModel)}}else 0;edge&&(edge.useStyle(util.defaults({strokeNoScale:!0,fill:null},lineStyle)),setStatesStylesFromModel(edge,itemModel,"lineStyle"),setDefaultStateProxy(edge),group.add(edge))}(seriesModel,node,virtualRoot,symbolEl,sourceOldLayout,sourceLayout,targetLayout,group),symbolEl.__edge&&(symbolEl.onHoverStateChange=function(toState){if("blur"!==toState){var parentEl=node.parentNode&&data.getItemGraphicEl(node.parentNode.dataIndex);parentEl&&1===parentEl.hoverState||setStatesFlag(symbolEl.__edge,toState)}})}function removeNodeEdge(node,data,group,seriesModel,removeAnimationOpt){var _a=getSourceNode(data.tree.root,node),source=_a.source,sourceLayout=_a.sourceLayout,symbolEl=data.getItemGraphicEl(node.dataIndex);if(symbolEl){var sourceEdge=data.getItemGraphicEl(source.dataIndex).__edge,edge=symbolEl.__edge||(!1===source.isExpand||1===source.children.length?sourceEdge:void 0),edgeShape=seriesModel.get("edgeShape"),layoutOpt=seriesModel.get("layout"),orient=seriesModel.get("orient"),curvature=seriesModel.get(["lineStyle","curveness"]);edge&&("curve"===edgeShape?removeElement(edge,{shape:getEdgeShape(layoutOpt,orient,curvature,sourceLayout,sourceLayout),style:{opacity:0}},seriesModel,{cb:function(){group.remove(edge)},removeOpt:removeAnimationOpt}):"polyline"===edgeShape&&"orthogonal"===seriesModel.get("layout")&&removeElement(edge,{shape:{parentPoint:[sourceLayout.x,sourceLayout.y],childPoints:[[sourceLayout.x,sourceLayout.y]]},style:{opacity:0}},seriesModel,{cb:function(){group.remove(edge)},removeOpt:removeAnimationOpt}))}}function getSourceNode(virtualRoot,node){for(var sourceLayout,source=node.parentNode===virtualRoot?node:node.parentNode||node;null==(sourceLayout=source.getLayout());)source=source.parentNode===virtualRoot?source:source.parentNode||source;return{source:source,sourceLayout:sourceLayout}}function TreeView_removeNode(data,dataIndex,symbolEl,group,seriesModel){var node=data.tree.getNodeByDataIndex(dataIndex),sourceLayout=getSourceNode(data.tree.root,node).sourceLayout,removeAnimationOpt={duration:seriesModel.get("animationDurationUpdate"),easing:seriesModel.get("animationEasingUpdate")};removeElement(symbolEl,{x:sourceLayout.x+1,y:sourceLayout.y+1},seriesModel,{cb:function(){group.remove(symbolEl),data.setItemGraphicEl(dataIndex,null)},removeOpt:removeAnimationOpt}),symbolEl.fadeOut(null,data.hostModel,{fadeLabel:!0,animation:removeAnimationOpt}),node.children.forEach((function(childNode){removeNodeEdge(childNode,data,group,seriesModel,removeAnimationOpt)})),removeNodeEdge(node,data,group,seriesModel,removeAnimationOpt)}function getEdgeShape(layoutOpt,orient,curvature,sourceLayout,targetLayout){var cpx1,cpy1,cpx2,cpy2,x1,x2,y1,y2;if("radial"===layoutOpt){x1=sourceLayout.rawX,y1=sourceLayout.rawY,x2=targetLayout.rawX,y2=targetLayout.rawY;var radialCoor1=radialCoordinate(x1,y1),radialCoor2=radialCoordinate(x1,y1+(y2-y1)*curvature),radialCoor3=radialCoordinate(x2,y2+(y1-y2)*curvature),radialCoor4=radialCoordinate(x2,y2);return{x1:radialCoor1.x||0,y1:radialCoor1.y||0,x2:radialCoor4.x||0,y2:radialCoor4.y||0,cpx1:radialCoor2.x||0,cpy1:radialCoor2.y||0,cpx2:radialCoor3.x||0,cpy2:radialCoor3.y||0}}return x1=sourceLayout.x,y1=sourceLayout.y,x2=targetLayout.x,y2=targetLayout.y,"LR"!==orient&&"RL"!==orient||(cpx1=x1+(x2-x1)*curvature,cpy1=y1,cpx2=x2+(x1-x2)*curvature,cpy2=y2),"TB"!==orient&&"BT"!==orient||(cpx1=x1,cpy1=y1+(y2-y1)*curvature,cpx2=x2,cpy2=y2+(y1-y2)*curvature),{x1:x1,y1:y1,x2:x2,y2:y2,cpx1:cpx1,cpy1:cpy1,cpx2:cpx2,cpy2:cpy2}}var tree_TreeView=TreeView_TreeView,linkSeriesData_inner=makeInner();function transferInjection(opt,res){if(function isMainData(data){return linkSeriesData_inner(data).mainData===data}(this)){var datas=Object(util.extend)({},linkSeriesData_inner(this).datas);datas[this.dataType]=res,linkAll(res,datas,opt)}else linkSingle(res,this.dataType,linkSeriesData_inner(this).mainData,opt);return res}function changeInjection(opt,res){return opt.struct&&opt.struct.update(),res}function cloneShallowInjection(opt,res){return Object(util.each)(linkSeriesData_inner(res).datas,(function(data,dataType){data!==res&&linkSingle(data.cloneShallow(),dataType,res,opt)})),res}function getLinkedData(dataType){var mainData=linkSeriesData_inner(this).mainData;return null==dataType||null==mainData?mainData:linkSeriesData_inner(mainData).datas[dataType]}function getLinkedDataAll(){var mainData=linkSeriesData_inner(this).mainData;return null==mainData?[{data:mainData}]:Object(util.map)(Object(util.keys)(linkSeriesData_inner(mainData).datas),(function(type){return{type:type,data:linkSeriesData_inner(mainData).datas[type]}}))}function linkAll(mainData,datas,opt){linkSeriesData_inner(mainData).datas={},Object(util.each)(datas,(function(data,dataType){linkSingle(data,dataType,mainData,opt)}))}function linkSingle(data,dataType,mainData,opt){linkSeriesData_inner(mainData).datas[dataType]=data,linkSeriesData_inner(data).mainData=mainData,data.dataType=dataType,opt.struct&&(data[opt.structAttr]=opt.struct,opt.struct[opt.datasAttr[dataType]]=data),data.getLinkedData=getLinkedData,data.getLinkedDataAll=getLinkedDataAll}var helper_linkSeriesData=function linkSeriesData(opt){var mainData=opt.mainData,datas=opt.datas;datas||(datas={main:mainData},opt.datasAttr={main:"data"}),opt.datas=opt.mainData=null,linkAll(mainData,datas,opt),Object(util.each)(datas,(function(data){Object(util.each)(mainData.TRANSFERABLE_METHODS,(function(methodName){data.wrapMethod(methodName,Object(util.curry)(transferInjection,opt))}))})),mainData.wrapMethod("cloneShallow",Object(util.curry)(cloneShallowInjection,opt)),Object(util.each)(mainData.CHANGABLE_METHODS,(function(methodName){mainData.wrapMethod(methodName,Object(util.curry)(changeInjection,opt))})),Object(util.assert)(datas[mainData.dataType]===mainData)},Tree_TreeNode=function(){function TreeNode(name,hostTree){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=name||"",this.hostTree=hostTree}return TreeNode.prototype.isRemoved=function(){return this.dataIndex<0},TreeNode.prototype.eachNode=function(options,cb,context){util.isFunction(options)&&(context=cb,cb=options,options=null),options=options||{},util.isString(options)&&(options={order:options});var suppressVisitSub,order=options.order||"preorder",children=this[options.attr||"children"];"preorder"===order&&(suppressVisitSub=cb.call(context,this));for(var i=0;!suppressVisitSub&&i<children.length;i++)children[i].eachNode(options,cb,context);"postorder"===order&&cb.call(context,this)},TreeNode.prototype.updateDepthAndHeight=function(depth){var height=0;this.depth=depth;for(var i=0;i<this.children.length;i++){var child=this.children[i];child.updateDepthAndHeight(depth+1),child.height>height&&(height=child.height)}this.height=height+1},TreeNode.prototype.getNodeById=function(id){if(this.getId()===id)return this;for(var i=0,children=this.children,len=children.length;i<len;i++){var res=children[i].getNodeById(id);if(res)return res}},TreeNode.prototype.contains=function(node){if(node===this)return!0;for(var i=0,children=this.children,len=children.length;i<len;i++){var res=children[i].contains(node);if(res)return res}},TreeNode.prototype.getAncestors=function(includeSelf){for(var ancestors=[],node=includeSelf?this:this.parentNode;node;)ancestors.push(node),node=node.parentNode;return ancestors.reverse(),ancestors},TreeNode.prototype.getAncestorsIndices=function(){for(var indices=[],currNode=this;currNode;)indices.push(currNode.dataIndex),currNode=currNode.parentNode;return indices.reverse(),indices},TreeNode.prototype.getDescendantIndices=function(){var indices=[];return this.eachNode((function(childNode){indices.push(childNode.dataIndex)})),indices},TreeNode.prototype.getValue=function(dimension){var data=this.hostTree.data;return data.getStore().get(data.getDimensionIndex(dimension||"value"),this.dataIndex)},TreeNode.prototype.setLayout=function(layout,merge){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,layout,merge)},TreeNode.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},TreeNode.prototype.getModel=function(path){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(path)},TreeNode.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},TreeNode.prototype.setVisual=function(key,value){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,key,value)},TreeNode.prototype.getVisual=function(key){return this.hostTree.data.getItemVisual(this.dataIndex,key)},TreeNode.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},TreeNode.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},TreeNode.prototype.getChildIndex=function(){if(this.parentNode){for(var children=this.parentNode.children,i=0;i<children.length;++i)if(children[i]===this)return i;return-1}return-1},TreeNode.prototype.isAncestorOf=function(node){for(var parent=node.parentNode;parent;){if(parent===this)return!0;parent=parent.parentNode}return!1},TreeNode.prototype.isDescendantOf=function(node){return node!==this&&node.isAncestorOf(this)},TreeNode}();var data_Tree=function(){function Tree(hostModel){this.type="tree",this._nodes=[],this.hostModel=hostModel}return Tree.prototype.eachNode=function(options,cb,context){this.root.eachNode(options,cb,context)},Tree.prototype.getNodeByDataIndex=function(dataIndex){var rawIndex=this.data.getRawIndex(dataIndex);return this._nodes[rawIndex]},Tree.prototype.getNodeById=function(name){return this.root.getNodeById(name)},Tree.prototype.update=function(){for(var data=this.data,nodes=this._nodes,i=0,len=nodes.length;i<len;i++)nodes[i].dataIndex=-1;for(i=0,len=data.count();i<len;i++)nodes[data.getRawIndex(i)].dataIndex=i},Tree.prototype.clearLayouts=function(){this.data.clearItemLayouts()},Tree.createTree=function(dataRoot,hostModel,beforeLink){var tree=new Tree(hostModel),listData=[],dimMax=1;!function buildHierarchy(dataNode,parentNode){var value=dataNode.value;dimMax=Math.max(dimMax,util.isArray(value)?value.length:1),listData.push(dataNode);var node=new Tree_TreeNode(convertOptionIdName(dataNode.name,""),tree);parentNode?function addChild(child,node){var children=node.children;if(child.parentNode===node)return;children.push(child),child.parentNode=node}(node,parentNode):tree.root=node,tree._nodes.push(node);var children=dataNode.children;if(children)for(var i=0;i<children.length;i++)buildHierarchy(children[i],node)}(dataRoot),tree.root.updateDepthAndHeight(0);var dimensions=prepareSeriesDataSchema(listData,{coordDimensions:["value"],dimensionsCount:dimMax}).dimensions,list=new data_SeriesData(dimensions,hostModel);return list.initData(listData),beforeLink&&beforeLink(list),helper_linkSeriesData({mainData:list,struct:tree,structAttr:"tree"}),tree.update(),tree},Tree}();function retrieveTargetInfo(payload,validPayloadTypes,seriesModel){if(payload&&util.indexOf(validPayloadTypes,payload.type)>=0){var root=seriesModel.getData().tree.root,targetNode=payload.targetNode;if(util.isString(targetNode)&&(targetNode=root.getNodeById(targetNode)),targetNode&&root.contains(targetNode))return{node:targetNode};var targetNodeId=payload.targetNodeId;if(null!=targetNodeId&&(targetNode=root.getNodeById(targetNodeId)))return{node:targetNode}}}function getPathToRoot(node){for(var path=[];node;)(node=node.parentNode)&&path.push(node);return path.reverse()}function aboveViewRoot(viewRoot,node){var viewPath=getPathToRoot(viewRoot);return util.indexOf(viewPath,node)>=0}function wrapTreePathInfo(node,seriesModel){for(var treePathInfo=[];node;){var nodeDataIndex=node.dataIndex;treePathInfo.push({name:node.name,dataIndex:nodeDataIndex,value:seriesModel.getRawValue(nodeDataIndex)}),node=node.parentNode}return treePathInfo.reverse(),treePathInfo}var TreeSeries_TreeSeriesModel=function(_super){function TreeSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.hasSymbolVisual=!0,_this.ignoreStyleOnData=!0,_this}return __extends(TreeSeriesModel,_super),TreeSeriesModel.prototype.getInitialData=function(option){var root={name:option.name,children:option.data},leaves=option.leaves||{},leavesModel=new model_Model(leaves,this,this.ecModel),tree=data_Tree.createTree(root,this,(function beforeLink(nodeData){nodeData.wrapMethod("getItemModel",(function(model,idx){var node=tree.getNodeByDataIndex(idx);return node&&node.children.length&&node.isExpand||(model.parentModel=leavesModel),model}))}));var treeDepth=0;tree.eachNode("preorder",(function(node){node.depth>treeDepth&&(treeDepth=node.depth)}));var expandTreeDepth=option.expandAndCollapse&&option.initialTreeDepth>=0?option.initialTreeDepth:treeDepth;return tree.root.eachNode("preorder",(function(node){var item=node.hostTree.data.getRawDataItem(node.dataIndex);node.isExpand=item&&null!=item.collapsed?!item.collapsed:node.depth<=expandTreeDepth})),tree.data},TreeSeriesModel.prototype.getOrient=function(){var orient=this.get("orient");return"horizontal"===orient?orient="LR":"vertical"===orient&&(orient="TB"),orient},TreeSeriesModel.prototype.setZoom=function(zoom){this.option.zoom=zoom},TreeSeriesModel.prototype.setCenter=function(center){this.option.center=center},TreeSeriesModel.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){for(var tree=this.getData().tree,realRoot=tree.root.children[0],node=tree.getNodeByDataIndex(dataIndex),value=node.getValue(),name=node.name;node&&node!==realRoot;)name=node.parentNode.name+"."+name,node=node.parentNode;return createTooltipMarkup("nameValue",{name:name,value:value,noValue:isNaN(value)||null==value})},TreeSeriesModel.prototype.getDataParams=function(dataIndex){var params=_super.prototype.getDataParams.apply(this,arguments),node=this.getData().tree.getNodeByDataIndex(dataIndex);return params.treeAncestors=wrapTreePathInfo(node,this),params.collapsed=!node.isExpand,params},TreeSeriesModel.type="series.tree",TreeSeriesModel.layoutMode="box",TreeSeriesModel.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},TreeSeriesModel}(Series),TreeSeries=TreeSeries_TreeSeriesModel;function eachBefore(root,callback){for(var node,nodes=[root];node=nodes.pop();)if(callback(node),node.isExpand){var children=node.children;if(children.length)for(var i=children.length-1;i>=0;i--)nodes.push(children[i])}}function treeLayout(ecModel,api){ecModel.eachSeriesByType("tree",(function(seriesModel){!function commonLayout(seriesModel,api){var layoutInfo=function layoutHelper_getViewRect(seriesModel,api){return getLayoutRect(seriesModel.getBoxLayoutParams(),{width:api.getWidth(),height:api.getHeight()})}(seriesModel,api);seriesModel.layoutInfo=layoutInfo;var layout=seriesModel.get("layout"),width=0,height=0,separation=null;"radial"===layout?(width=2*Math.PI,height=Math.min(layoutInfo.height,layoutInfo.width)/2,separation=layoutHelper_separation((function(node1,node2){return(node1.parentNode===node2.parentNode?1:2)/node1.depth}))):(width=layoutInfo.width,height=layoutInfo.height,separation=layoutHelper_separation());var virtualRoot=seriesModel.getData().tree.root,realRoot=virtualRoot.children[0];if(realRoot){!function layoutHelper_init(inRoot){var root=inRoot;root.hierNode={defaultAncestor:null,ancestor:root,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var node,children,nodes=[root];node=nodes.pop();)if(children=node.children,node.isExpand&&children.length)for(var i=children.length-1;i>=0;i--){var child=children[i];child.hierNode={defaultAncestor:null,ancestor:child,prelim:0,modifier:0,change:0,shift:0,i:i,thread:null},nodes.push(child)}}(virtualRoot),function eachAfter(root,callback,separation){for(var node,nodes=[root],next=[];node=nodes.pop();)if(next.push(node),node.isExpand){var children=node.children;if(children.length)for(var i=0;i<children.length;i++)nodes.push(children[i])}for(;node=next.pop();)callback(node,separation)}(realRoot,firstWalk,separation),virtualRoot.hierNode.modifier=-realRoot.hierNode.prelim,eachBefore(realRoot,secondWalk);var left_1=realRoot,right_1=realRoot,bottom_1=realRoot;eachBefore(realRoot,(function(node){var x=node.getLayout().x;x<left_1.getLayout().x&&(left_1=node),x>right_1.getLayout().x&&(right_1=node),node.depth>bottom_1.depth&&(bottom_1=node)}));var delta=left_1===right_1?1:separation(left_1,right_1)/2,tx_1=delta-left_1.getLayout().x,kx_1=0,ky_1=0,coorX_1=0,coorY_1=0;if("radial"===layout)kx_1=width/(right_1.getLayout().x+delta+tx_1),ky_1=height/(bottom_1.depth-1||1),eachBefore(realRoot,(function(node){coorX_1=(node.getLayout().x+tx_1)*kx_1,coorY_1=(node.depth-1)*ky_1;var finalCoor=radialCoordinate(coorX_1,coorY_1);node.setLayout({x:finalCoor.x,y:finalCoor.y,rawX:coorX_1,rawY:coorY_1},!0)}));else{var orient_1=seriesModel.getOrient();"RL"===orient_1||"LR"===orient_1?(ky_1=height/(right_1.getLayout().x+delta+tx_1),kx_1=width/(bottom_1.depth-1||1),eachBefore(realRoot,(function(node){coorY_1=(node.getLayout().x+tx_1)*ky_1,coorX_1="LR"===orient_1?(node.depth-1)*kx_1:width-(node.depth-1)*kx_1,node.setLayout({x:coorX_1,y:coorY_1},!0)}))):"TB"!==orient_1&&"BT"!==orient_1||(kx_1=width/(right_1.getLayout().x+delta+tx_1),ky_1=height/(bottom_1.depth-1||1),eachBefore(realRoot,(function(node){coorX_1=(node.getLayout().x+tx_1)*kx_1,coorY_1="TB"===orient_1?(node.depth-1)*ky_1:height-(node.depth-1)*ky_1,node.setLayout({x:coorX_1,y:coorY_1},!0)})))}}}(seriesModel,api)}))}function treeVisual(ecModel){ecModel.eachSeriesByType("tree",(function(seriesModel){var data=seriesModel.getData();data.tree.eachNode((function(node){var style=node.getModel().getModel("itemStyle").getItemStyle(),existsStyle=data.ensureUniqueItemVisual(node.dataIndex,"style");Object(util.extend)(existsStyle,style)}))}))}var actionTypes=["treemapZoomToNode","treemapRender","treemapMove"];function enableAriaDecalForTree(seriesModel){var tree=seriesModel.getData().tree,decalPaletteScope={};tree.eachNode((function(node){for(var current=node;current&&current.depth>1;)current=current.parentNode;var decal=getDecalFromPalette(seriesModel.ecModel,current.name||current.dataIndex+"",decalPaletteScope);node.setVisual("decal",decal)}))}var TreemapSeries_TreemapSeriesModel=function(_super){function TreemapSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TreemapSeriesModel.type,_this.preventUsingHoverLayer=!0,_this}return __extends(TreemapSeriesModel,_super),TreemapSeriesModel.prototype.getInitialData=function(option,ecModel){var root={name:option.name,children:option.data};completeTreeValue(root);var levels=option.levels||[],designatedVisualItemStyle=this.designatedVisualItemStyle={},designatedVisualModel=new model_Model({itemStyle:designatedVisualItemStyle},this,ecModel);levels=option.levels=function setDefault(levels,ecModel){var hasColorDefine,hasDecalDefine,globalColorList=normalizeToArray(ecModel.get("color")),globalDecalList=normalizeToArray(ecModel.get(["aria","decal","decals"]));if(!globalColorList)return;levels=levels||[],util.each(levels,(function(levelDefine){var model=new model_Model(levelDefine),modelColor=model.get("color"),modelDecal=model.get("decal");(model.get(["itemStyle","color"])||modelColor&&"none"!==modelColor)&&(hasColorDefine=!0),(model.get(["itemStyle","decal"])||modelDecal&&"none"!==modelDecal)&&(hasDecalDefine=!0)}));var level0=levels[0]||(levels[0]={});hasColorDefine||(level0.color=globalColorList.slice());!hasDecalDefine&&globalDecalList&&(level0.decal=globalDecalList.slice());return levels}(levels,ecModel);var levelModels=util.map(levels||[],(function(levelDefine){return new model_Model(levelDefine,designatedVisualModel,ecModel)}),this),tree=data_Tree.createTree(root,this,(function beforeLink(nodeData){nodeData.wrapMethod("getItemModel",(function(model,idx){var node=tree.getNodeByDataIndex(idx),levelModel=node?levelModels[node.depth]:null;return model.parentModel=levelModel||designatedVisualModel,model}))}));return tree.data},TreemapSeriesModel.prototype.optionUpdated=function(){this.resetViewRoot()},TreemapSeriesModel.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){var data=this.getData(),value=this.getRawValue(dataIndex);return createTooltipMarkup("nameValue",{name:data.getName(dataIndex),value:value})},TreemapSeriesModel.prototype.getDataParams=function(dataIndex){var params=_super.prototype.getDataParams.apply(this,arguments),node=this.getData().tree.getNodeByDataIndex(dataIndex);return params.treeAncestors=wrapTreePathInfo(node,this),params.treePathInfo=params.treeAncestors,params},TreemapSeriesModel.prototype.setLayoutInfo=function(layoutInfo){this.layoutInfo=this.layoutInfo||{},util.extend(this.layoutInfo,layoutInfo)},TreemapSeriesModel.prototype.mapIdToIndex=function(id){var idIndexMap=this._idIndexMap;idIndexMap||(idIndexMap=this._idIndexMap=util.createHashMap(),this._idIndexMapCount=0);var index=idIndexMap.get(id);return null==index&&idIndexMap.set(id,index=this._idIndexMapCount++),index},TreemapSeriesModel.prototype.getViewRoot=function(){return this._viewRoot},TreemapSeriesModel.prototype.resetViewRoot=function(viewRoot){viewRoot?this._viewRoot=viewRoot:viewRoot=this._viewRoot;var root=this.getRawData().tree.root;viewRoot&&(viewRoot===root||root.contains(viewRoot))||(this._viewRoot=root)},TreemapSeriesModel.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},TreemapSeriesModel.type="series.treemap",TreemapSeriesModel.layoutMode="box",TreemapSeriesModel.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},TreemapSeriesModel}(Series);function completeTreeValue(dataNode){var sum=0;util.each(dataNode.children,(function(child){completeTreeValue(child);var childValue=child.value;util.isArray(childValue)&&(childValue=childValue[0]),sum+=childValue}));var thisValue=dataNode.value;util.isArray(thisValue)&&(thisValue=thisValue[0]),(null==thisValue||isNaN(thisValue))&&(thisValue=sum),thisValue<0&&(thisValue=0),util.isArray(dataNode.value)?dataNode.value[0]=thisValue:dataNode.value=thisValue}var TreemapSeries=TreemapSeries_TreemapSeriesModel;function makeItemPoints(x,y,itemWidth,itemHeight,head,tail){var points=[[head?x:x-5,y],[x+itemWidth,y],[x+itemWidth,y+itemHeight],[head?x:x-5,y+itemHeight]];return!tail&&points.splice(2,0,[x+itemWidth+5,y+itemHeight/2]),!head&&points.push([x,y+itemHeight/2]),points}function packEventData(el,seriesModel,itemNode){getECData(el).eventData={componentType:"series",componentSubType:"treemap",componentIndex:seriesModel.componentIndex,seriesIndex:seriesModel.seriesIndex,seriesName:seriesModel.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:itemNode&&itemNode.dataIndex,name:itemNode&&itemNode.name},treePathInfo:itemNode&&wrapTreePathInfo(itemNode,seriesModel)}}var treemap_Breadcrumb=function(){function Breadcrumb(containerGroup){this.group=new graphic_Group,containerGroup.add(this.group)}return Breadcrumb.prototype.render=function(seriesModel,api,targetNode,onSelect){var model=seriesModel.getModel("breadcrumb"),thisGroup=this.group;if(thisGroup.removeAll(),model.get("show")&&targetNode){var normalStyleModel=model.getModel("itemStyle"),textStyleModel=normalStyleModel.getModel("textStyle"),layoutParam={pos:{left:model.get("left"),right:model.get("right"),top:model.get("top"),bottom:model.get("bottom")},box:{width:api.getWidth(),height:api.getHeight()},emptyItemWidth:model.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(targetNode,layoutParam,textStyleModel),this._renderContent(seriesModel,layoutParam,normalStyleModel,textStyleModel,onSelect),positionElement(thisGroup,layoutParam.pos,layoutParam.box)}},Breadcrumb.prototype._prepare=function(targetNode,layoutParam,textStyleModel){for(var node=targetNode;node;node=node.parentNode){var text=convertOptionIdName(node.getModel().get("name"),""),textRect=textStyleModel.getTextRect(text),itemWidth=Math.max(textRect.width+16,layoutParam.emptyItemWidth);layoutParam.totalWidth+=itemWidth+8,layoutParam.renderList.push({node:node,text:text,width:itemWidth})}},Breadcrumb.prototype._renderContent=function(seriesModel,layoutParam,normalStyleModel,textStyleModel,onSelect){for(var lastX=0,emptyItemWidth=layoutParam.emptyItemWidth,height=seriesModel.get(["breadcrumb","height"]),availableSize=function getAvailableSize(positionInfo,containerRect,margin){var containerWidth=containerRect.width,containerHeight=containerRect.height,x=number_parsePercent(positionInfo.left,containerWidth),y=number_parsePercent(positionInfo.top,containerHeight),x2=number_parsePercent(positionInfo.right,containerWidth),y2=number_parsePercent(positionInfo.bottom,containerHeight);return(isNaN(x)||isNaN(parseFloat(positionInfo.left)))&&(x=0),(isNaN(x2)||isNaN(parseFloat(positionInfo.right)))&&(x2=containerWidth),(isNaN(y)||isNaN(parseFloat(positionInfo.top)))&&(y=0),(isNaN(y2)||isNaN(parseFloat(positionInfo.bottom)))&&(y2=containerHeight),margin=normalizeCssArray(margin||0),{width:Math.max(x2-x-margin[1]-margin[3],0),height:Math.max(y2-y-margin[0]-margin[2],0)}}(layoutParam.pos,layoutParam.box),totalWidth=layoutParam.totalWidth,renderList=layoutParam.renderList,i=renderList.length-1;i>=0;i--){var item=renderList[i],itemNode=item.node,itemWidth=item.width,text=item.text;totalWidth>availableSize.width&&(totalWidth-=itemWidth-emptyItemWidth,itemWidth=emptyItemWidth,text=null);var el=new shape_Polygon({shape:{points:makeItemPoints(lastX,0,itemWidth,height,i===renderList.length-1,0===i)},style:Object(util.defaults)(normalStyleModel.getItemStyle(),{lineJoin:"bevel"}),textContent:new Text({style:{text:text,fill:textStyleModel.getTextColor(),font:textStyleModel.getFont()}}),textConfig:{position:"inside"},z2:1e5,onclick:Object(util.curry)(onSelect,itemNode)});el.disableLabelAnimation=!0,this.group.add(el),packEventData(el,seriesModel,itemNode),lastX+=itemWidth+8}},Breadcrumb.prototype.remove=function(){this.group.removeAll()},Breadcrumb}(),AnimationWrap=function(){function AnimationWrap(){this._storage=[],this._elExistsMap={}}return AnimationWrap.prototype.add=function(el,target,duration,delay,easing){return!this._elExistsMap[el.id]&&(this._elExistsMap[el.id]=!0,this._storage.push({el:el,target:target,duration:duration,delay:delay,easing:easing}),!0)},AnimationWrap.prototype.finished=function(callback){return this._finishedCallback=callback,this},AnimationWrap.prototype.start=function(){for(var _this=this,count=this._storage.length,checkTerminate=function(){--count<=0&&(_this._storage.length=0,_this._elExistsMap={},_this._finishedCallback&&_this._finishedCallback())},i=0,len=this._storage.length;i<len;i++){var item=this._storage[i];item.el.animateTo(item.target,{duration:item.duration,delay:item.delay,easing:item.easing,setToFinal:!0,done:checkTerminate,aborted:checkTerminate})}return this},AnimationWrap}();var TreemapView_Group=graphic_Group,TreemapView_Rect=shape_Rect,getStateItemStyle=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(model){var itemStyle=getStateItemStyle(model);return itemStyle.stroke=itemStyle.fill=itemStyle.lineWidth=null,itemStyle},TreemapView_inner=makeInner(),TreemapView_TreemapView=function(_super){function TreemapView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TreemapView.type,_this._state="ready",_this._storage={nodeGroup:[],background:[],content:[]},_this}return __extends(TreemapView,_super),TreemapView.prototype.render=function(seriesModel,ecModel,api,payload){var models=ecModel.findComponents({mainType:"series",subType:"treemap",query:payload});if(!(Object(util.indexOf)(models,seriesModel)<0)){this.seriesModel=seriesModel,this.api=api,this.ecModel=ecModel;var targetInfo=retrieveTargetInfo(payload,["treemapZoomToNode","treemapRootToNode"],seriesModel),payloadType=payload&&payload.type,layoutInfo=seriesModel.layoutInfo,isInit=!this._oldTree,thisStorage=this._storage,reRoot="treemapRootToNode"===payloadType&&targetInfo&&thisStorage?{rootNodeGroup:thisStorage.nodeGroup[targetInfo.node.getRawIndex()],direction:payload.direction}:null,containerGroup=this._giveContainerGroup(layoutInfo),hasAnimation=seriesModel.get("animation"),renderResult=this._doRender(containerGroup,seriesModel,reRoot);!hasAnimation||isInit||payloadType&&"treemapZoomToNode"!==payloadType&&"treemapRootToNode"!==payloadType?renderResult.renderFinally():this._doAnimation(containerGroup,renderResult,seriesModel,reRoot),this._resetController(api),this._renderBreadcrumb(seriesModel,api,targetInfo)}},TreemapView.prototype._giveContainerGroup=function(layoutInfo){var containerGroup=this._containerGroup;return containerGroup||(containerGroup=this._containerGroup=new TreemapView_Group,this._initEvents(containerGroup),this.group.add(containerGroup)),containerGroup.x=layoutInfo.x,containerGroup.y=layoutInfo.y,containerGroup},TreemapView.prototype._doRender=function(containerGroup,seriesModel,reRoot){var thisTree=seriesModel.getData().tree,oldTree=this._oldTree,lastsForAnimation={nodeGroup:[],background:[],content:[]},thisStorage={nodeGroup:[],background:[],content:[]},oldStorage=this._storage,willInvisibleEls=[];function doRenderNode(thisNode,oldNode,parentGroup,depth){return function TreemapView_renderNode(seriesModel,thisStorage,oldStorage,reRoot,lastsForAnimation,willInvisibleEls,thisNode,oldNode,parentGroup,depth){if(!thisNode)return;var thisLayout=thisNode.getLayout(),data=seriesModel.getData(),nodeModel=thisNode.getModel();if(data.setItemGraphicEl(thisNode.dataIndex,null),!thisLayout||!thisLayout.isInView)return;var thisWidth=thisLayout.width,thisHeight=thisLayout.height,borderWidth=thisLayout.borderWidth,thisInvisible=thisLayout.invisible,thisRawIndex=thisNode.getRawIndex(),oldRawIndex=oldNode&&oldNode.getRawIndex(),thisViewChildren=thisNode.viewChildren,upperHeight=thisLayout.upperHeight,isParent=thisViewChildren&&thisViewChildren.length,itemStyleNormalModel=nodeModel.getModel("itemStyle"),itemStyleEmphasisModel=nodeModel.getModel(["emphasis","itemStyle"]),itemStyleBlurModel=nodeModel.getModel(["blur","itemStyle"]),itemStyleSelectModel=nodeModel.getModel(["select","itemStyle"]),borderRadius=itemStyleNormalModel.get("borderRadius")||0,group=giveGraphic("nodeGroup",TreemapView_Group);if(!group)return;if(parentGroup.add(group),group.x=thisLayout.x||0,group.y=thisLayout.y||0,group.markRedraw(),TreemapView_inner(group).nodeWidth=thisWidth,TreemapView_inner(group).nodeHeight=thisHeight,thisLayout.isAboveViewRoot)return group;var bg=giveGraphic("background",TreemapView_Rect,depth,20);bg&&renderBackground(group,bg,isParent&&thisLayout.upperLabelHeight);var emphasisModel=nodeModel.getModel("emphasis"),focus=emphasisModel.get("focus"),blurScope=emphasisModel.get("blurScope"),isDisabled=emphasisModel.get("disabled"),focusOrIndices="ancestor"===focus?thisNode.getAncestorsIndices():"descendant"===focus?thisNode.getDescendantIndices():focus;if(isParent)isHighDownDispatcher(group)&&setAsHighDownDispatcher(group,!1),bg&&(setAsHighDownDispatcher(bg,!isDisabled),data.setItemGraphicEl(thisNode.dataIndex,bg),enableHoverFocus(bg,focusOrIndices,blurScope));else{var content=giveGraphic("content",TreemapView_Rect,depth,30);content&&renderContent(group,content),bg.disableMorphing=!0,bg&&isHighDownDispatcher(bg)&&setAsHighDownDispatcher(bg,!1),setAsHighDownDispatcher(group,!isDisabled),data.setItemGraphicEl(thisNode.dataIndex,group),enableHoverFocus(group,focusOrIndices,blurScope)}return group;function renderBackground(group,bg,useUpperLabel){var ecData=getECData(bg);if(ecData.dataIndex=thisNode.dataIndex,ecData.seriesIndex=seriesModel.seriesIndex,bg.setShape({x:0,y:0,width:thisWidth,height:thisHeight,r:borderRadius}),thisInvisible)processInvisible(bg);else{bg.invisible=!1;var style=thisNode.getVisual("style"),visualBorderColor=style.stroke,normalStyle=getItemStyleNormal(itemStyleNormalModel);normalStyle.fill=visualBorderColor;var emphasisStyle=getStateItemStyle(itemStyleEmphasisModel);emphasisStyle.fill=itemStyleEmphasisModel.get("borderColor");var blurStyle=getStateItemStyle(itemStyleBlurModel);blurStyle.fill=itemStyleBlurModel.get("borderColor");var selectStyle=getStateItemStyle(itemStyleSelectModel);if(selectStyle.fill=itemStyleSelectModel.get("borderColor"),useUpperLabel){var upperLabelWidth=thisWidth-2*borderWidth;prepareText(bg,visualBorderColor,style.opacity,{x:borderWidth,y:0,width:upperLabelWidth,height:upperHeight})}else bg.removeTextContent();bg.setStyle(normalStyle),bg.ensureState("emphasis").style=emphasisStyle,bg.ensureState("blur").style=blurStyle,bg.ensureState("select").style=selectStyle,setDefaultStateProxy(bg)}group.add(bg)}function renderContent(group,content){var ecData=getECData(content);ecData.dataIndex=thisNode.dataIndex,ecData.seriesIndex=seriesModel.seriesIndex;var contentWidth=Math.max(thisWidth-2*borderWidth,0),contentHeight=Math.max(thisHeight-2*borderWidth,0);if(content.culling=!0,content.setShape({x:borderWidth,y:borderWidth,width:contentWidth,height:contentHeight,r:borderRadius}),thisInvisible)processInvisible(content);else{content.invisible=!1;var nodeStyle=thisNode.getVisual("style"),visualColor=nodeStyle.fill,normalStyle=getItemStyleNormal(itemStyleNormalModel);normalStyle.fill=visualColor,normalStyle.decal=nodeStyle.decal;var emphasisStyle=getStateItemStyle(itemStyleEmphasisModel),blurStyle=getStateItemStyle(itemStyleBlurModel),selectStyle=getStateItemStyle(itemStyleSelectModel);prepareText(content,visualColor,nodeStyle.opacity,null),content.setStyle(normalStyle),content.ensureState("emphasis").style=emphasisStyle,content.ensureState("blur").style=blurStyle,content.ensureState("select").style=selectStyle,setDefaultStateProxy(content)}group.add(content)}function processInvisible(element){!element.invisible&&willInvisibleEls.push(element)}function prepareText(rectEl,visualColor,visualOpacity,upperLabelRect){var normalLabelModel=nodeModel.getModel(upperLabelRect?"upperLabel":"label"),defaultText=convertOptionIdName(nodeModel.get("name"),null),isShow=normalLabelModel.getShallow("show");setLabelStyle(rectEl,getLabelStatesModels(nodeModel,upperLabelRect?"upperLabel":"label"),{defaultText:isShow?defaultText:null,inheritColor:visualColor,defaultOpacity:visualOpacity,labelFetcher:seriesModel,labelDataIndex:thisNode.dataIndex});var textEl=rectEl.getTextContent();if(textEl){var textStyle=textEl.style,textPadding=Object(util.normalizeCssArray)(textStyle.padding||0);upperLabelRect&&(rectEl.setTextConfig({layoutRect:upperLabelRect}),textEl.disableLabelLayout=!0),textEl.beforeUpdate=function(){var width=Math.max((upperLabelRect?upperLabelRect.width:rectEl.shape.width)-textPadding[1]-textPadding[3],0),height=Math.max((upperLabelRect?upperLabelRect.height:rectEl.shape.height)-textPadding[0]-textPadding[2],0);textStyle.width===width&&textStyle.height===height||textEl.setStyle({width:width,height:height})},textStyle.truncateMinChar=2,textStyle.lineOverflow="truncate",addDrillDownIcon(textStyle,upperLabelRect,thisLayout);var textEmphasisState=textEl.getState("emphasis");addDrillDownIcon(textEmphasisState?textEmphasisState.style:null,upperLabelRect,thisLayout)}}function addDrillDownIcon(style,upperLabelRect,thisLayout){var text=style?style.text:null;if(!upperLabelRect&&thisLayout.isLeafRoot&&null!=text){var iconChar=seriesModel.get("drillDownIcon",!0);style.text=iconChar?iconChar+" "+text:text}}function giveGraphic(storageName,Ctor,depth,z){var element=null!=oldRawIndex&&oldStorage[storageName][oldRawIndex],lasts=lastsForAnimation[storageName];return element?(oldStorage[storageName][oldRawIndex]=null,prepareAnimationWhenHasOld(lasts,element)):thisInvisible||((element=new Ctor)instanceof graphic_Displayable&&(element.z2=function calculateZ2(depth,z2InLevel){return 100*depth+z2InLevel}(depth,z)),prepareAnimationWhenNoOld(lasts,element)),thisStorage[storageName][thisRawIndex]=element}function prepareAnimationWhenHasOld(lasts,element){var lastCfg=lasts[thisRawIndex]={};element instanceof TreemapView_Group?(lastCfg.oldX=element.x,lastCfg.oldY=element.y):lastCfg.oldShape=Object(util.extend)({},element.shape)}function prepareAnimationWhenNoOld(lasts,element){var lastCfg=lasts[thisRawIndex]={},parentNode=thisNode.parentNode,isGroup=element instanceof graphic_Group;if(parentNode&&(!reRoot||"drillDown"===reRoot.direction)){var parentOldX=0,parentOldY=0,parentOldBg=lastsForAnimation.background[parentNode.getRawIndex()];!reRoot&&parentOldBg&&parentOldBg.oldShape&&(parentOldX=parentOldBg.oldShape.width,parentOldY=parentOldBg.oldShape.height),isGroup?(lastCfg.oldX=0,lastCfg.oldY=parentOldY):lastCfg.oldShape={x:parentOldX,y:parentOldY,width:0,height:0}}lastCfg.fadein=!isGroup}}(seriesModel,thisStorage,oldStorage,reRoot,lastsForAnimation,willInvisibleEls,thisNode,oldNode,parentGroup,depth)}!function dualTravel(thisViewChildren,oldViewChildren,parentGroup,sameTree,depth){sameTree?(oldViewChildren=thisViewChildren,Object(util.each)(thisViewChildren,(function(child,index){!child.isRemoved()&&processNode(index,index)}))):new data_DataDiffer(oldViewChildren,thisViewChildren,getKey,getKey).add(processNode).update(processNode).remove(Object(util.curry)(processNode,null)).execute();function getKey(node){return node.getId()}function processNode(newIndex,oldIndex){var thisNode=null!=newIndex?thisViewChildren[newIndex]:null,oldNode=null!=oldIndex?oldViewChildren[oldIndex]:null,group=doRenderNode(thisNode,oldNode,parentGroup,depth);group&&dualTravel(thisNode&&thisNode.viewChildren||[],oldNode&&oldNode.viewChildren||[],group,sameTree,depth+1)}}(thisTree.root?[thisTree.root]:[],oldTree&&oldTree.root?[oldTree.root]:[],containerGroup,thisTree===oldTree||!oldTree,0);var willDeleteEls=function clearStorage(storage){var willDeleteEls={nodeGroup:[],background:[],content:[]};return storage&&Object(util.each)(storage,(function(store,storageName){var delEls=willDeleteEls[storageName];Object(util.each)(store,(function(el){el&&(delEls.push(el),TreemapView_inner(el).willDelete=!0)}))})),willDeleteEls}(oldStorage);return this._oldTree=thisTree,this._storage=thisStorage,{lastsForAnimation:lastsForAnimation,willDeleteEls:willDeleteEls,renderFinally:function renderFinally(){Object(util.each)(willDeleteEls,(function(els){Object(util.each)(els,(function(el){el.parent&&el.parent.remove(el)}))})),Object(util.each)(willInvisibleEls,(function(el){el.invisible=!0,el.dirty()}))}}},TreemapView.prototype._doAnimation=function(containerGroup,renderResult,seriesModel,reRoot){var durationOption=seriesModel.get("animationDurationUpdate"),easingOption=seriesModel.get("animationEasing"),duration=(Object(util.isFunction)(durationOption)?0:durationOption)||0,easing=(Object(util.isFunction)(easingOption)?null:easingOption)||"cubicOut",animationWrap=function createWrap(){return new AnimationWrap}();Object(util.each)(renderResult.willDeleteEls,(function(store,storageName){Object(util.each)(store,(function(el,rawIndex){if(!el.invisible){var target,parent=el.parent,innerStore=TreemapView_inner(parent);if(reRoot&&"drillDown"===reRoot.direction)target=parent===reRoot.rootNodeGroup?{shape:{x:0,y:0,width:innerStore.nodeWidth,height:innerStore.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var targetX=0,targetY=0;innerStore.willDelete||(targetX=innerStore.nodeWidth/2,targetY=innerStore.nodeHeight/2),target="nodeGroup"===storageName?{x:targetX,y:targetY,style:{opacity:0}}:{shape:{x:targetX,y:targetY,width:0,height:0},style:{opacity:0}}}target&&animationWrap.add(el,target,duration,0,easing)}}))})),Object(util.each)(this._storage,(function(store,storageName){Object(util.each)(store,(function(el,rawIndex){var last=renderResult.lastsForAnimation[storageName][rawIndex],target={};last&&(el instanceof graphic_Group?null!=last.oldX&&(target.x=el.x,target.y=el.y,el.x=last.oldX,el.y=last.oldY):(last.oldShape&&(target.shape=Object(util.extend)({},el.shape),el.setShape(last.oldShape)),last.fadein?(el.setStyle("opacity",0),target.style={opacity:1}):1!==el.style.opacity&&(target.style={opacity:1})),animationWrap.add(el,target,duration,0,easing))}))}),this),this._state="animating",animationWrap.finished(Object(util.bind)((function(){this._state="ready",renderResult.renderFinally()}),this)).start()},TreemapView.prototype._resetController=function(api){var controller=this._controller;controller||((controller=this._controller=new helper_RoamController(api.getZr())).enable(this.seriesModel.get("roam")),controller.on("pan",Object(util.bind)(this._onPan,this)),controller.on("zoom",Object(util.bind)(this._onZoom,this)));var rect=new core_BoundingRect(0,0,api.getWidth(),api.getHeight());controller.setPointerChecker((function(e,x,y){return rect.contain(x,y)}))},TreemapView.prototype._clearController=function(){var controller=this._controller;controller&&(controller.dispose(),controller=null)},TreemapView.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var root=this.seriesModel.getData().tree.root;if(!root)return;var rootLayout=root.getLayout();if(!rootLayout)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:rootLayout.x+e.dx,y:rootLayout.y+e.dy,width:rootLayout.width,height:rootLayout.height}})}},TreemapView.prototype._onZoom=function(e){var mouseX=e.originX,mouseY=e.originY;if("animating"!==this._state){var root=this.seriesModel.getData().tree.root;if(!root)return;var rootLayout=root.getLayout();if(!rootLayout)return;var rect=new core_BoundingRect(rootLayout.x,rootLayout.y,rootLayout.width,rootLayout.height),layoutInfo=this.seriesModel.layoutInfo,m=[1,0,0,1,0,0];matrix_translate(m,m,[-(mouseX-=layoutInfo.x),-(mouseY-=layoutInfo.y)]),matrix_scale(m,m,[e.scale,e.scale]),matrix_translate(m,m,[mouseX,mouseY]),rect.applyTransform(m),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:rect.x,y:rect.y,width:rect.width,height:rect.height}})}},TreemapView.prototype._initEvents=function(containerGroup){var _this=this;containerGroup.on("click",(function(e){if("ready"===_this._state){var nodeClick=_this.seriesModel.get("nodeClick",!0);if(nodeClick){var targetInfo=_this.findTarget(e.offsetX,e.offsetY);if(targetInfo){var node=targetInfo.node;if(node.getLayout().isLeafRoot)_this._rootToNode(targetInfo);else if("zoomToNode"===nodeClick)_this._zoomToNode(targetInfo);else if("link"===nodeClick){var itemModel=node.hostTree.data.getItemModel(node.dataIndex),link=itemModel.get("link",!0),linkTarget=itemModel.get("target",!0)||"blank";link&&windowOpen(link,linkTarget)}}}}}),this)},TreemapView.prototype._renderBreadcrumb=function(seriesModel,api,targetInfo){var _this=this;targetInfo||(targetInfo=null!=seriesModel.get("leafDepth",!0)?{node:seriesModel.getViewRoot()}:this.findTarget(api.getWidth()/2,api.getHeight()/2))||(targetInfo={node:seriesModel.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new treemap_Breadcrumb(this.group))).render(seriesModel,api,targetInfo.node,(function(node){"animating"!==_this._state&&(aboveViewRoot(seriesModel.getViewRoot(),node)?_this._rootToNode({node:node}):_this._zoomToNode({node:node}))}))},TreemapView.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},TreemapView.prototype.dispose=function(){this._clearController()},TreemapView.prototype._zoomToNode=function(targetInfo){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:targetInfo.node})},TreemapView.prototype._rootToNode=function(targetInfo){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:targetInfo.node})},TreemapView.prototype.findTarget=function(x,y){var targetInfo;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(node){var bgEl=this._storage.background[node.getRawIndex()];if(bgEl){var point=bgEl.transformCoordToLocal(x,y),shape=bgEl.shape;if(!(shape.x<=point[0]&&point[0]<=shape.x+shape.width&&shape.y<=point[1]&&point[1]<=shape.y+shape.height))return!1;targetInfo={node:node,offsetX:point[0],offsetY:point[1]}}}),this),targetInfo},TreemapView.type="treemap",TreemapView}(Chart);var treemap_TreemapView=TreemapView_TreemapView,VisualMapping_each=util.each,VisualMapping_isObject=util.isObject,VisualMapping_VisualMapping=function(){function VisualMapping(option){var mappingMethod=option.mappingMethod,visualType=option.type,thisOption=this.option=util.clone(option);this.type=visualType,this.mappingMethod=mappingMethod,this._normalizeData=normalizers[mappingMethod];var visualHandler=VisualMapping.visualHandlers[visualType];this.applyVisual=visualHandler.applyVisual,this.getColorMapper=visualHandler.getColorMapper,this._normalizedToVisual=visualHandler._normalizedToVisual[mappingMethod],"piecewise"===mappingMethod?(normalizeVisualRange(thisOption),function preprocessForPiecewise(thisOption){var pieceList=thisOption.pieceList;thisOption.hasSpecialVisual=!1,util.each(pieceList,(function(piece,index){piece.originIndex=index,null!=piece.visual&&(thisOption.hasSpecialVisual=!0)}))}(thisOption)):"category"===mappingMethod?thisOption.categories?function preprocessForSpecifiedCategory(thisOption){var categories=thisOption.categories,categoryMap=thisOption.categoryMap={},visual=thisOption.visual;if(VisualMapping_each(categories,(function(cate,index){categoryMap[cate]=index})),!util.isArray(visual)){var visualArr_1=[];util.isObject(visual)?VisualMapping_each(visual,(function(v,cate){var index=categoryMap[cate];visualArr_1[null!=index?index:-1]=v})):visualArr_1[-1]=visual,visual=setVisualToOption(thisOption,visualArr_1)}for(var i=categories.length-1;i>=0;i--)null==visual[i]&&(delete categoryMap[categories[i]],categories.pop())}(thisOption):normalizeVisualRange(thisOption,!0):(util.assert("linear"!==mappingMethod||thisOption.dataExtent),normalizeVisualRange(thisOption))}return VisualMapping.prototype.mapValueToVisual=function(value){var normalized=this._normalizeData(value);return this._normalizedToVisual(normalized,value)},VisualMapping.prototype.getNormalizer=function(){return util.bind(this._normalizeData,this)},VisualMapping.listVisualTypes=function(){return util.keys(VisualMapping.visualHandlers)},VisualMapping.isValidType=function(visualType){return VisualMapping.visualHandlers.hasOwnProperty(visualType)},VisualMapping.eachVisual=function(visual,callback,context){util.isObject(visual)?util.each(visual,callback,context):callback.call(context,visual)},VisualMapping.mapVisual=function(visual,callback,context){var isPrimary,newVisual=util.isArray(visual)?[]:util.isObject(visual)?{}:(isPrimary=!0,null);return VisualMapping.eachVisual(visual,(function(v,key){var newVal=callback.call(context,v,key);isPrimary?newVisual=newVal:newVisual[key]=newVal})),newVisual},VisualMapping.retrieveVisuals=function(obj){var hasVisual,ret={};return obj&&VisualMapping_each(VisualMapping.visualHandlers,(function(h,visualType){obj.hasOwnProperty(visualType)&&(ret[visualType]=obj[visualType],hasVisual=!0)})),hasVisual?ret:null},VisualMapping.prepareVisualTypes=function(visualTypes){if(util.isArray(visualTypes))visualTypes=visualTypes.slice();else{if(!VisualMapping_isObject(visualTypes))return[];var types_1=[];VisualMapping_each(visualTypes,(function(item,type){types_1.push(type)})),visualTypes=types_1}return visualTypes.sort((function(type1,type2){return"color"===type2&&"color"!==type1&&0===type1.indexOf("color")?1:-1})),visualTypes},VisualMapping.dependsOn=function(visualType1,visualType2){return"color"===visualType2?!(!visualType1||0!==visualType1.indexOf(visualType2)):visualType1===visualType2},VisualMapping.findPieceIndex=function(value,pieceList,findClosestWhenOutside){for(var possibleI,abs=1/0,i=0,len=pieceList.length;i<len;i++){var pieceValue=pieceList[i].value;if(null!=pieceValue){if(pieceValue===value||util.isString(pieceValue)&&pieceValue===value+"")return i;findClosestWhenOutside&&updatePossible(pieceValue,i)}}for(i=0,len=pieceList.length;i<len;i++){var piece=pieceList[i],interval=piece.interval,close_1=piece.close;if(interval){if(interval[0]===-1/0){if(VisualMapping_littleThan(close_1[1],value,interval[1]))return i}else if(interval[1]===1/0){if(VisualMapping_littleThan(close_1[0],interval[0],value))return i}else if(VisualMapping_littleThan(close_1[0],interval[0],value)&&VisualMapping_littleThan(close_1[1],value,interval[1]))return i;findClosestWhenOutside&&updatePossible(interval[0],i),findClosestWhenOutside&&updatePossible(interval[1],i)}}if(findClosestWhenOutside)return value===1/0?pieceList.length-1:value===-1/0?0:possibleI;function updatePossible(val,index){var newAbs=Math.abs(val-value);newAbs<abs&&(abs=newAbs,possibleI=index)}},VisualMapping.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var thisOption=this.option;return util.bind("category"===thisOption.mappingMethod?function(value,isNormalized){return!isNormalized&&(value=this._normalizeData(value)),doMapCategory.call(this,value)}:function(value,isNormalized,out){var returnRGBArray=!!out;return!isNormalized&&(value=this._normalizeData(value)),out=tool_color.fastLerp(value,thisOption.parsedVisual,out),returnRGBArray?out:tool_color.stringify(out,"rgba")},this)},_normalizedToVisual:{linear:function(normalized){return tool_color.stringify(tool_color.fastLerp(normalized,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(normalized,value){var result=getSpecifiedVisual.call(this,value);return null==result&&(result=tool_color.stringify(tool_color.fastLerp(normalized,this.option.parsedVisual),"rgba")),result},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler((function(color,value){return tool_color.modifyHSL(color,value)})),colorSaturation:makePartialColorVisualHandler((function(color,value){return tool_color.modifyHSL(color,null,value)})),colorLightness:makePartialColorVisualHandler((function(color,value){return tool_color.modifyHSL(color,null,null,value)})),colorAlpha:makePartialColorVisualHandler((function(color,value){return tool_color.modifyAlpha(color,value)})),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(value,getter,setter){setter("symbol",this.mapValueToVisual(value))},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(normalized,value){var result=getSpecifiedVisual.call(this,value);return null==result&&(result=doMapToArray.call(this,normalized)),result},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},VisualMapping}();function normalizeVisualRange(thisOption,isCategory){var visual=thisOption.visual,visualArr=[];util.isObject(visual)?VisualMapping_each(visual,(function(v){visualArr.push(v)})):null!=visual&&visualArr.push(visual);isCategory||1!==visualArr.length||{color:1,symbol:1}.hasOwnProperty(thisOption.type)||(visualArr[1]=visualArr[0]),setVisualToOption(thisOption,visualArr)}function makePartialColorVisualHandler(applyValue){return{applyVisual:function(value,getter,setter){var colorChannel=this.mapValueToVisual(value);setter("color",applyValue(getter("color"),colorChannel))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(normalized){var visual=this.option.visual;return visual[Math.round(linearMap(normalized,[0,1],[0,visual.length-1],!0))]||{}}function makeApplyVisual(visualType){return function(value,getter,setter){setter(visualType,this.mapValueToVisual(value))}}function doMapCategory(normalized){var visual=this.option.visual;return visual[this.option.loop&&-1!==normalized?normalized%visual.length:normalized]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(sourceExtent){return{linear:function(normalized){return linearMap(normalized,sourceExtent,this.option.visual,!0)},category:doMapCategory,piecewise:function(normalized,value){var result=getSpecifiedVisual.call(this,value);return null==result&&(result=linearMap(normalized,sourceExtent,this.option.visual,!0)),result},fixed:doMapFixed}}function getSpecifiedVisual(value){var thisOption=this.option,pieceList=thisOption.pieceList;if(thisOption.hasSpecialVisual){var piece=pieceList[VisualMapping_VisualMapping.findPieceIndex(value,pieceList)];if(piece&&piece.visual)return piece.visual[this.type]}}function setVisualToOption(thisOption,visualArr){return thisOption.visual=visualArr,"color"===thisOption.type&&(thisOption.parsedVisual=util.map(visualArr,(function(item){var color=tool_color.parse(item);return color||[0,0,0,1]}))),visualArr}var normalizers={linear:function(value){return linearMap(value,this.option.dataExtent,[0,1],!0)},piecewise:function(value){var pieceList=this.option.pieceList,pieceIndex=VisualMapping_VisualMapping.findPieceIndex(value,pieceList,!0);if(null!=pieceIndex)return linearMap(pieceIndex,[0,pieceList.length-1],[0,1],!0)},category:function(value){var index=this.option.categories?this.option.categoryMap[value]:value;return null==index?-1:index},fixed:util.noop};function VisualMapping_littleThan(close,a,b){return close?a<=b:a<b}var visual_VisualMapping=VisualMapping_VisualMapping,treemapVisual_inner=makeInner(),treemapVisual={seriesType:"treemap",reset:function(seriesModel){var root=seriesModel.getData().tree.root;root.isRemoved()||travelTree(root,{},seriesModel.getViewRoot().getAncestors(),seriesModel)}};function travelTree(node,designatedVisual,viewRootAncestors,seriesModel){var nodeModel=node.getModel(),nodeLayout=node.getLayout(),data=node.hostTree.data;if(nodeLayout&&!nodeLayout.invisible&&nodeLayout.isInView){var thisNodeColor,nodeItemStyleModel=nodeModel.getModel("itemStyle"),visuals=function buildVisuals(nodeItemStyleModel,designatedVisual,seriesModel){var visuals=Object(util.extend)({},designatedVisual),designatedVisualItemStyle=seriesModel.designatedVisualItemStyle;return Object(util.each)(["color","colorAlpha","colorSaturation"],(function(visualName){designatedVisualItemStyle[visualName]=designatedVisual[visualName];var val=nodeItemStyleModel.get(visualName);designatedVisualItemStyle[visualName]=null,null!=val&&(visuals[visualName]=val)})),visuals}(nodeItemStyleModel,designatedVisual,seriesModel),existsStyle=data.ensureUniqueItemVisual(node.dataIndex,"style"),borderColor=nodeItemStyleModel.get("borderColor"),borderColorSaturation=nodeItemStyleModel.get("borderColorSaturation");null!=borderColorSaturation&&(borderColor=function calculateBorderColor(borderColorSaturation,thisNodeColor){return null!=thisNodeColor?Object(tool_color.modifyHSL)(thisNodeColor,null,null,borderColorSaturation):null}(borderColorSaturation,thisNodeColor=calculateColor(visuals))),existsStyle.stroke=borderColor;var viewChildren=node.viewChildren;if(viewChildren&&viewChildren.length){var mapping_1=function buildVisualMapping(node,nodeModel,nodeLayout,nodeItemStyleModel,visuals,viewChildren){if(!viewChildren||!viewChildren.length)return;var rangeVisual=getRangeVisual(nodeModel,"color")||null!=visuals.color&&"none"!==visuals.color&&(getRangeVisual(nodeModel,"colorAlpha")||getRangeVisual(nodeModel,"colorSaturation"));if(!rangeVisual)return;var visualMin=nodeModel.get("visualMin"),visualMax=nodeModel.get("visualMax"),dataExtent=nodeLayout.dataExtent.slice();null!=visualMin&&visualMin<dataExtent[0]&&(dataExtent[0]=visualMin),null!=visualMax&&visualMax>dataExtent[1]&&(dataExtent[1]=visualMax);var colorMappingBy=nodeModel.get("colorMappingBy"),opt={type:rangeVisual.name,dataExtent:dataExtent,visual:rangeVisual.range};"color"!==opt.type||"index"!==colorMappingBy&&"id"!==colorMappingBy?opt.mappingMethod="linear":(opt.mappingMethod="category",opt.loop=!0);var mapping=new visual_VisualMapping(opt);return treemapVisual_inner(mapping).drColorMappingBy=colorMappingBy,mapping}(0,nodeModel,nodeLayout,0,visuals,viewChildren);Object(util.each)(viewChildren,(function(child,index){if(child.depth>=viewRootAncestors.length||child===viewRootAncestors[child.depth]){var childVisual=function mapVisual(nodeModel,visuals,child,index,mapping,seriesModel){var childVisuals=Object(util.extend)({},visuals);if(mapping){var mappingType=mapping.type,colorMappingBy="color"===mappingType&&treemapVisual_inner(mapping).drColorMappingBy,value="index"===colorMappingBy?index:"id"===colorMappingBy?seriesModel.mapIdToIndex(child.getId()):child.getValue(nodeModel.get("visualDimension"));childVisuals[mappingType]=mapping.mapValueToVisual(value)}return childVisuals}(nodeModel,visuals,child,index,mapping_1,seriesModel);travelTree(child,childVisual,viewRootAncestors,seriesModel)}}))}else thisNodeColor=calculateColor(visuals),existsStyle.fill=thisNodeColor}}function calculateColor(visuals){var color=getValueVisualDefine(visuals,"color");if(color){var colorAlpha=getValueVisualDefine(visuals,"colorAlpha"),colorSaturation=getValueVisualDefine(visuals,"colorSaturation");return colorSaturation&&(color=Object(tool_color.modifyHSL)(color,null,null,colorSaturation)),colorAlpha&&(color=Object(tool_color.modifyAlpha)(color,colorAlpha)),color}}function getValueVisualDefine(visuals,name){var value=visuals[name];if(null!=value&&"none"!==value)return value}function getRangeVisual(nodeModel,name){var range=nodeModel.get(name);return Object(util.isArray)(range)&&range.length?{name:name,range:range}:null}var treemapLayout_mathMax=Math.max,treemapLayout_mathMin=Math.min,retrieveValue=util.retrieve,treemapLayout_each=util.each,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"],treemapLayout={seriesType:"treemap",reset:function(seriesModel,ecModel,api,payload){var ecWidth=api.getWidth(),ecHeight=api.getHeight(),seriesOption=seriesModel.option,layoutInfo=getLayoutRect(seriesModel.getBoxLayoutParams(),{width:api.getWidth(),height:api.getHeight()}),size=seriesOption.size||[],containerWidth=number_parsePercent(retrieveValue(layoutInfo.width,size[0]),ecWidth),containerHeight=number_parsePercent(retrieveValue(layoutInfo.height,size[1]),ecHeight),payloadType=payload&&payload.type,targetInfo=retrieveTargetInfo(payload,["treemapZoomToNode","treemapRootToNode"],seriesModel),rootRect="treemapRender"===payloadType||"treemapMove"===payloadType?payload.rootRect:null,viewRoot=seriesModel.getViewRoot(),viewAbovePath=getPathToRoot(viewRoot);if("treemapMove"!==payloadType){var rootSize="treemapZoomToNode"===payloadType?function estimateRootSize(seriesModel,targetInfo,viewRoot,containerWidth,containerHeight){var parent,currNode=(targetInfo||{}).node,defaultSize=[containerWidth,containerHeight];if(!currNode||currNode===viewRoot)return defaultSize;var viewArea=containerWidth*containerHeight,area=viewArea*seriesModel.option.zoomToNodeRatio;for(;parent=currNode.parentNode;){for(var sum=0,siblings=parent.children,i=0,len=siblings.length;i<len;i++)sum+=siblings[i].getValue();var currNodeValue=currNode.getValue();if(0===currNodeValue)return defaultSize;area*=sum/currNodeValue;var parentModel=parent.getModel(),borderWidth=parentModel.get(PATH_BORDER_WIDTH);(area+=4*borderWidth*borderWidth+(3*borderWidth+Math.max(borderWidth,getUpperLabelHeight(parentModel)))*Math.pow(area,.5))>MAX_SAFE_INTEGER&&(area=MAX_SAFE_INTEGER),currNode=parent}area<viewArea&&(area=viewArea);var scale=Math.pow(area/viewArea,.5);return[containerWidth*scale,containerHeight*scale]}(seriesModel,targetInfo,viewRoot,containerWidth,containerHeight):rootRect?[rootRect.width,rootRect.height]:[containerWidth,containerHeight],sort_1=seriesOption.sort;sort_1&&"asc"!==sort_1&&"desc"!==sort_1&&(sort_1="desc");var options={squareRatio:seriesOption.squareRatio,sort:sort_1,leafDepth:seriesOption.leafDepth};viewRoot.hostTree.clearLayouts();var viewRootLayout_1={x:0,y:0,width:rootSize[0],height:rootSize[1],area:rootSize[0]*rootSize[1]};viewRoot.setLayout(viewRootLayout_1),squarify(viewRoot,options,!1,0),viewRootLayout_1=viewRoot.getLayout(),treemapLayout_each(viewAbovePath,(function(node,index){var childValue=(viewAbovePath[index+1]||viewRoot).getValue();node.setLayout(util.extend({dataExtent:[childValue,childValue],borderWidth:0,upperHeight:0},viewRootLayout_1))}))}var treeRoot=seriesModel.getData().tree.root;treeRoot.setLayout(function calculateRootPosition(layoutInfo,rootRect,targetInfo){if(rootRect)return{x:rootRect.x,y:rootRect.y};var defaultPosition={x:0,y:0};if(!targetInfo)return defaultPosition;var targetNode=targetInfo.node,layout=targetNode.getLayout();if(!layout)return defaultPosition;var targetCenter=[layout.width/2,layout.height/2],node=targetNode;for(;node;){var nodeLayout=node.getLayout();targetCenter[0]+=nodeLayout.x,targetCenter[1]+=nodeLayout.y,node=node.parentNode}return{x:layoutInfo.width/2-targetCenter[0],y:layoutInfo.height/2-targetCenter[1]}}(layoutInfo,rootRect,targetInfo),!0),seriesModel.setLayoutInfo(layoutInfo),prunning(treeRoot,new core_BoundingRect(-layoutInfo.x,-layoutInfo.y,ecWidth,ecHeight),viewAbovePath,viewRoot,0)}};function squarify(node,options,hideChildren,depth){var width,height;if(!node.isRemoved()){var thisLayout=node.getLayout();width=thisLayout.width,height=thisLayout.height;var nodeModel=node.getModel(),borderWidth=nodeModel.get(PATH_BORDER_WIDTH),halfGapWidth=nodeModel.get(PATH_GAP_WIDTH)/2,upperLabelHeight=getUpperLabelHeight(nodeModel),upperHeight=Math.max(borderWidth,upperLabelHeight),layoutOffset=borderWidth-halfGapWidth,layoutOffsetUpper=upperHeight-halfGapWidth;node.setLayout({borderWidth:borderWidth,upperHeight:upperHeight,upperLabelHeight:upperLabelHeight},!0);var totalArea=(width=treemapLayout_mathMax(width-2*layoutOffset,0))*(height=treemapLayout_mathMax(height-layoutOffset-layoutOffsetUpper,0)),viewChildren=function initChildren(node,nodeModel,totalArea,options,hideChildren,depth){var viewChildren=node.children||[],orderBy=options.sort;"asc"!==orderBy&&"desc"!==orderBy&&(orderBy=null);var overLeafDepth=null!=options.leafDepth&&options.leafDepth<=depth;if(hideChildren&&!overLeafDepth)return node.viewChildren=[];viewChildren=util.filter(viewChildren,(function(child){return!child.isRemoved()})),function treemapLayout_sort(viewChildren,orderBy){orderBy&&viewChildren.sort((function(a,b){var diff="asc"===orderBy?a.getValue()-b.getValue():b.getValue()-a.getValue();return 0===diff?"asc"===orderBy?a.dataIndex-b.dataIndex:b.dataIndex-a.dataIndex:diff}));return viewChildren}(viewChildren,orderBy);var info=function statistic(nodeModel,children,orderBy){for(var sum=0,i=0,len=children.length;i<len;i++)sum+=children[i].getValue();var dataExtent,dimension=nodeModel.get("visualDimension");children&&children.length?"value"===dimension&&orderBy?(dataExtent=[children[children.length-1].getValue(),children[0].getValue()],"asc"===orderBy&&dataExtent.reverse()):(dataExtent=[1/0,-1/0],treemapLayout_each(children,(function(child){var value=child.getValue(dimension);value<dataExtent[0]&&(dataExtent[0]=value),value>dataExtent[1]&&(dataExtent[1]=value)}))):dataExtent=[NaN,NaN];return{sum:sum,dataExtent:dataExtent}}(nodeModel,viewChildren,orderBy);if(0===info.sum)return node.viewChildren=[];if(info.sum=function filterByThreshold(nodeModel,totalArea,sum,orderBy,orderedChildren){if(!orderBy)return sum;for(var visibleMin=nodeModel.get("visibleMin"),len=orderedChildren.length,deletePoint=len,i=len-1;i>=0;i--){var value=orderedChildren["asc"===orderBy?len-i-1:i].getValue();value/sum*totalArea<visibleMin&&(deletePoint=i,sum-=value)}return"asc"===orderBy?orderedChildren.splice(0,len-deletePoint):orderedChildren.splice(deletePoint,len-deletePoint),sum}(nodeModel,totalArea,info.sum,orderBy,viewChildren),0===info.sum)return node.viewChildren=[];for(var i=0,len=viewChildren.length;i<len;i++){var area=viewChildren[i].getValue()/info.sum*totalArea;viewChildren[i].setLayout({area:area})}overLeafDepth&&(viewChildren.length&&node.setLayout({isLeafRoot:!0},!0),viewChildren.length=0);return node.viewChildren=viewChildren,node.setLayout({dataExtent:info.dataExtent},!0),viewChildren}(node,nodeModel,totalArea,options,hideChildren,depth);if(viewChildren.length){var rect={x:layoutOffset,y:layoutOffsetUpper,width:width,height:height},rowFixedLength=treemapLayout_mathMin(width,height),best=1/0,row=[];row.area=0;for(var i=0,len=viewChildren.length;i<len;){var child=viewChildren[i];row.push(child),row.area+=child.getLayout().area;var score=worst(row,rowFixedLength,options.squareRatio);score<=best?(i++,best=score):(row.area-=row.pop().getLayout().area,treemapLayout_position(row,rowFixedLength,rect,halfGapWidth,!1),rowFixedLength=treemapLayout_mathMin(rect.width,rect.height),row.length=row.area=0,best=1/0)}if(row.length&&treemapLayout_position(row,rowFixedLength,rect,halfGapWidth,!0),!hideChildren){var childrenVisibleMin=nodeModel.get("childrenVisibleMin");null!=childrenVisibleMin&&totalArea<childrenVisibleMin&&(hideChildren=!0)}for(i=0,len=viewChildren.length;i<len;i++)squarify(viewChildren[i],options,hideChildren,depth+1)}}}function worst(row,rowFixedLength,ratio){for(var areaMax=0,areaMin=1/0,i=0,area=void 0,len=row.length;i<len;i++)(area=row[i].getLayout().area)&&(area<areaMin&&(areaMin=area),area>areaMax&&(areaMax=area));var squareArea=row.area*row.area,f=rowFixedLength*rowFixedLength*ratio;return squareArea?treemapLayout_mathMax(f*areaMax/squareArea,squareArea/(f*areaMin)):1/0}function treemapLayout_position(row,rowFixedLength,rect,halfGapWidth,flush){var idx0WhenH=rowFixedLength===rect.width?0:1,idx1WhenH=1-idx0WhenH,xy=["x","y"],wh=["width","height"],last=rect[xy[idx0WhenH]],rowOtherLength=rowFixedLength?row.area/rowFixedLength:0;(flush||rowOtherLength>rect[wh[idx1WhenH]])&&(rowOtherLength=rect[wh[idx1WhenH]]);for(var i=0,rowLen=row.length;i<rowLen;i++){var node=row[i],nodeLayout={},step=rowOtherLength?node.getLayout().area/rowOtherLength:0,wh1=nodeLayout[wh[idx1WhenH]]=treemapLayout_mathMax(rowOtherLength-2*halfGapWidth,0),remain=rect[xy[idx0WhenH]]+rect[wh[idx0WhenH]]-last,modWH=i===rowLen-1||remain<step?remain:step,wh0=nodeLayout[wh[idx0WhenH]]=treemapLayout_mathMax(modWH-2*halfGapWidth,0);nodeLayout[xy[idx1WhenH]]=rect[xy[idx1WhenH]]+treemapLayout_mathMin(halfGapWidth,wh1/2),nodeLayout[xy[idx0WhenH]]=last+treemapLayout_mathMin(halfGapWidth,wh0/2),last+=modWH,node.setLayout(nodeLayout,!0)}rect[xy[idx1WhenH]]+=rowOtherLength,rect[wh[idx1WhenH]]-=rowOtherLength}function prunning(node,clipRect,viewAbovePath,viewRoot,depth){var nodeLayout=node.getLayout(),nodeInViewAbovePath=viewAbovePath[depth],isAboveViewRoot=nodeInViewAbovePath&&nodeInViewAbovePath===node;if(!(nodeInViewAbovePath&&!isAboveViewRoot||depth===viewAbovePath.length&&node!==viewRoot)){node.setLayout({isInView:!0,invisible:!isAboveViewRoot&&!clipRect.intersect(nodeLayout),isAboveViewRoot:isAboveViewRoot},!0);var childClipRect=new core_BoundingRect(clipRect.x-nodeLayout.x,clipRect.y-nodeLayout.y,clipRect.width,clipRect.height);treemapLayout_each(node.viewChildren||[],(function(child){prunning(child,childClipRect,viewAbovePath,viewRoot,depth+1)}))}}function getUpperLabelHeight(model){return model.get(PATH_UPPER_LABEL_SHOW)?model.get(PATH_UPPER_LABEL_HEIGHT):0}function categoryFilter(ecModel){var legendModels=ecModel.findComponents({mainType:"legend"});legendModels&&legendModels.length&&ecModel.eachSeriesByType("graph",(function(graphSeries){var categoriesData=graphSeries.getCategoriesData(),data=graphSeries.getGraph().data,categoryNames=categoriesData.mapArray(categoriesData.getName);data.filterSelf((function(idx){var category=data.getItemModel(idx).getShallow("category");if(null!=category){Object(util.isNumber)(category)&&(category=categoryNames[category]);for(var i=0;i<legendModels.length;i++)if(!legendModels[i].isSelected(category))return!1}return!0}))}))}function categoryVisual(ecModel){var paletteScope={};ecModel.eachSeriesByType("graph",(function(seriesModel){var categoriesData=seriesModel.getCategoriesData(),data=seriesModel.getData(),categoryNameIdxMap={};categoriesData.each((function(idx){var name=categoriesData.getName(idx);categoryNameIdxMap["ec-"+name]=idx;var itemModel=categoriesData.getItemModel(idx),style=itemModel.getModel("itemStyle").getItemStyle();style.fill||(style.fill=seriesModel.getColorFromPalette(name,paletteScope)),categoriesData.setItemVisual(idx,"style",style);for(var symbolVisualList=["symbol","symbolSize","symbolKeepAspect"],i=0;i<symbolVisualList.length;i++){var symbolVisual=itemModel.getShallow(symbolVisualList[i],!0);null!=symbolVisual&&categoriesData.setItemVisual(idx,symbolVisualList[i],symbolVisual)}})),categoriesData.count()&&data.each((function(idx){var categoryIdx=data.getItemModel(idx).getShallow("category");if(null!=categoryIdx){Object(util.isString)(categoryIdx)&&(categoryIdx=categoryNameIdxMap["ec-"+categoryIdx]);var categoryStyle=categoriesData.getItemVisual(categoryIdx,"style"),style=data.ensureUniqueItemVisual(idx,"style");Object(util.extend)(style,categoryStyle);for(var visualList=["symbol","symbolSize","symbolKeepAspect"],i=0;i<visualList.length;i++)data.setItemVisual(idx,visualList[i],categoriesData.getItemVisual(categoryIdx,visualList[i]))}}))}))}function edgeVisual_normalize(a){return a instanceof Array||(a=[a,a]),a}function graphEdgeVisual(ecModel){ecModel.eachSeriesByType("graph",(function(seriesModel){var graph=seriesModel.getGraph(),edgeData=seriesModel.getEdgeData(),symbolType=edgeVisual_normalize(seriesModel.get("edgeSymbol")),symbolSize=edgeVisual_normalize(seriesModel.get("edgeSymbolSize"));edgeData.setVisual("fromSymbol",symbolType&&symbolType[0]),edgeData.setVisual("toSymbol",symbolType&&symbolType[1]),edgeData.setVisual("fromSymbolSize",symbolSize&&symbolSize[0]),edgeData.setVisual("toSymbolSize",symbolSize&&symbolSize[1]),edgeData.setVisual("style",seriesModel.getModel("lineStyle").getLineStyle()),edgeData.each((function(idx){var itemModel=edgeData.getItemModel(idx),edge=graph.getEdgeByIndex(idx),symbolType=edgeVisual_normalize(itemModel.getShallow("symbol",!0)),symbolSize=edgeVisual_normalize(itemModel.getShallow("symbolSize",!0)),style=itemModel.getModel("lineStyle").getLineStyle(),existsStyle=edgeData.ensureUniqueItemVisual(idx,"style");switch(Object(util.extend)(existsStyle,style),existsStyle.stroke){case"source":var nodeStyle=edge.node1.getVisual("style");existsStyle.stroke=nodeStyle&&nodeStyle.fill;break;case"target":nodeStyle=edge.node2.getVisual("style");existsStyle.stroke=nodeStyle&&nodeStyle.fill}symbolType[0]&&edge.setVisual("fromSymbol",symbolType[0]),symbolType[1]&&edge.setVisual("toSymbol",symbolType[1]),symbolSize[0]&&edge.setVisual("fromSymbolSize",symbolSize[0]),symbolSize[1]&&edge.setVisual("toSymbolSize",symbolSize[1])}))}))}var getAutoCurvenessParams=function(seriesModel){return seriesModel.get("autoCurveness")||null},createCurveness=function(seriesModel,appendLength){var autoCurvenessParmas=getAutoCurvenessParams(seriesModel),length=20,curvenessList=[];if(util.isNumber(autoCurvenessParmas))length=autoCurvenessParmas;else if(util.isArray(autoCurvenessParmas))return void(seriesModel.__curvenessList=autoCurvenessParmas);appendLength>length&&(length=appendLength);var len=length%2?length+2:length+3;curvenessList=[];for(var i=0;i<len;i++)curvenessList.push((i%2?i+1:i)/10*(i%2?-1:1));seriesModel.__curvenessList=curvenessList},getKeyOfEdges=function(n1,n2,seriesModel){var source=[n1.id,n1.dataIndex].join("."),target=[n2.id,n2.dataIndex].join(".");return[seriesModel.uid,source,target].join("--\x3e")},getOppositeKey=function(key){var keys=key.split("--\x3e");return[keys[0],keys[2],keys[1]].join("--\x3e")},getEdgeMapLengthWithKey=function(key,seriesModel){var edgeMap=seriesModel.__edgeMap;return edgeMap[key]?edgeMap[key].length:0};function getCurvenessForEdge(edge,seriesModel,index,needReverse){var autoCurvenessParams=getAutoCurvenessParams(seriesModel),isArrayParam=util.isArray(autoCurvenessParams);if(!autoCurvenessParams)return null;var edgeArray=function(edge,seriesModel){var key=getKeyOfEdges(edge.node1,edge.node2,seriesModel);return seriesModel.__edgeMap[key]}(edge,seriesModel);if(!edgeArray)return null;for(var edgeIndex=-1,i=0;i<edgeArray.length;i++)if(edgeArray[i]===index){edgeIndex=i;break}var totalLen=function(edge,seriesModel){return getEdgeMapLengthWithKey(getKeyOfEdges(edge.node1,edge.node2,seriesModel),seriesModel)+getEdgeMapLengthWithKey(getKeyOfEdges(edge.node2,edge.node1,seriesModel),seriesModel)}(edge,seriesModel);createCurveness(seriesModel,totalLen),edge.lineStyle=edge.lineStyle||{};var curKey=getKeyOfEdges(edge.node1,edge.node2,seriesModel),curvenessList=seriesModel.__curvenessList,parityCorrection=isArrayParam||totalLen%2?0:1;if(edgeArray.isForward)return curvenessList[parityCorrection+edgeIndex];var oppositeKey=getOppositeKey(curKey),len=getEdgeMapLengthWithKey(oppositeKey,seriesModel),resValue=curvenessList[edgeIndex+len+parityCorrection];return needReverse?isArrayParam?autoCurvenessParams&&0===autoCurvenessParams[0]?(len+parityCorrection)%2?resValue:-resValue:((len%2?0:1)+parityCorrection)%2?resValue:-resValue:(len+parityCorrection)%2?resValue:-resValue:curvenessList[edgeIndex+len+parityCorrection]}function simpleLayout(seriesModel){var coordSys=seriesModel.coordinateSystem;if(!coordSys||"view"===coordSys.type){var graph=seriesModel.getGraph();graph.eachNode((function(node){var model=node.getModel();node.setLayout([+model.get("x"),+model.get("y")])})),simpleLayoutEdge(graph,seriesModel)}}function simpleLayoutEdge(graph,seriesModel){graph.eachEdge((function(edge,index){var curveness=util.retrieve3(edge.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(edge,seriesModel,index,!0),0),p1=clone(edge.node1.getLayout()),p2=clone(edge.node2.getLayout()),points=[p1,p2];+curveness&&points.push([(p1[0]+p2[0])/2-(p1[1]-p2[1])*curveness,(p1[1]+p2[1])/2-(p2[0]-p1[0])*curveness]),edge.setLayout(points)}))}function graphSimpleLayout(ecModel,api){ecModel.eachSeriesByType("graph",(function(seriesModel){var layout=seriesModel.get("layout"),coordSys=seriesModel.coordinateSystem;if(coordSys&&"view"!==coordSys.type){var data_1=seriesModel.getData(),dimensions_1=[];Object(util.each)(coordSys.dimensions,(function(coordDim){dimensions_1=dimensions_1.concat(data_1.mapDimensionsAll(coordDim))}));for(var dataIndex=0;dataIndex<data_1.count();dataIndex++){for(var value=[],hasValue=!1,i=0;i<dimensions_1.length;i++){var val=data_1.get(dimensions_1[i],dataIndex);isNaN(val)||(hasValue=!0),value.push(val)}hasValue?data_1.setItemLayout(dataIndex,coordSys.dataToPoint(value)):data_1.setItemLayout(dataIndex,[NaN,NaN])}simpleLayoutEdge(data_1.graph,seriesModel)}else layout&&"none"!==layout||simpleLayout(seriesModel)}))}function getNodeGlobalScale(seriesModel){var coordSys=seriesModel.coordinateSystem;if("view"!==coordSys.type)return 1;var nodeScaleRatio=seriesModel.option.nodeScaleRatio,groupZoom=coordSys.scaleX;return((coordSys.getZoom()-1)*nodeScaleRatio+1)/groupZoom}function getSymbolSize(node){var symbolSize=node.getVisual("symbolSize");return symbolSize instanceof Array&&(symbolSize=(symbolSize[0]+symbolSize[1])/2),+symbolSize}var circularLayoutHelper_PI=Math.PI,_symbolRadiansHalf=[];function circularLayout(seriesModel,basedOn){var coordSys=seriesModel.coordinateSystem;if(!coordSys||"view"===coordSys.type){var rect=coordSys.getBoundingRect(),nodeData=seriesModel.getData(),graph=nodeData.graph,cx=rect.width/2+rect.x,cy=rect.height/2+rect.y,r=Math.min(rect.width,rect.height)/2,count=nodeData.count();nodeData.setLayout({cx:cx,cy:cy}),count&&(_layoutNodesBasedOn[basedOn](seriesModel,graph,nodeData,r,cx,cy,count),graph.eachEdge((function(edge,index){var cp1,curveness=util.retrieve3(edge.getModel().get(["lineStyle","curveness"]),getCurvenessForEdge(edge,seriesModel,index),0),p1=clone(edge.node1.getLayout()),p2=clone(edge.node2.getLayout()),x12=(p1[0]+p2[0])/2,y12=(p1[1]+p2[1])/2;+curveness&&(cp1=[cx*(curveness*=3)+x12*(1-curveness),cy*curveness+y12*(1-curveness)]),edge.setLayout([p1,p2,cp1])})))}}var _layoutNodesBasedOn={value:function(seriesModel,graph,nodeData,r,cx,cy,count){var angle=0,sum=nodeData.getSum("value"),unitAngle=2*Math.PI/(sum||count);graph.eachNode((function(node){var value=node.getValue("value"),radianHalf=unitAngle*(sum?value:1)/2;angle+=radianHalf,node.setLayout([r*Math.cos(angle)+cx,r*Math.sin(angle)+cy]),angle+=radianHalf}))},symbolSize:function(seriesModel,graph,nodeData,r,cx,cy,count){var sumRadian=0;_symbolRadiansHalf.length=count;var nodeScale=getNodeGlobalScale(seriesModel);graph.eachNode((function(node){var symbolSize=getSymbolSize(node);isNaN(symbolSize)&&(symbolSize=2),symbolSize<0&&(symbolSize=0),symbolSize*=nodeScale;var symbolRadianHalf=Math.asin(symbolSize/2/r);isNaN(symbolRadianHalf)&&(symbolRadianHalf=circularLayoutHelper_PI/2),_symbolRadiansHalf[node.dataIndex]=symbolRadianHalf,sumRadian+=2*symbolRadianHalf}));var halfRemainRadian=(2*circularLayoutHelper_PI-sumRadian)/count/2,angle=0;graph.eachNode((function(node){var radianHalf=halfRemainRadian+_symbolRadiansHalf[node.dataIndex];angle+=radianHalf,node.setLayout([r*Math.cos(angle)+cx,r*Math.sin(angle)+cy]),angle+=radianHalf}))}};function graphCircularLayout(ecModel){ecModel.eachSeriesByType("graph",(function(seriesModel){"circular"===seriesModel.get("layout")&&circularLayout(seriesModel,"symbolSize")}))}var forceHelper_scaleAndAdd=scaleAndAdd;function graphForceLayout(ecModel){ecModel.eachSeriesByType("graph",(function(graphSeries){var coordSys=graphSeries.coordinateSystem;if(!coordSys||"view"===coordSys.type)if("force"===graphSeries.get("layout")){var preservedPoints_1=graphSeries.preservedPoints||{},graph_1=graphSeries.getGraph(),nodeData_1=graph_1.data,edgeData=graph_1.edgeData,forceModel=graphSeries.getModel("force"),initLayout=forceModel.get("initLayout");graphSeries.preservedPoints?nodeData_1.each((function(idx){var id=nodeData_1.getId(idx);nodeData_1.setItemLayout(idx,preservedPoints_1[id]||[NaN,NaN])})):initLayout&&"none"!==initLayout?"circular"===initLayout&&circularLayout(graphSeries,"value"):simpleLayout(graphSeries);var nodeDataExtent_1=nodeData_1.getDataExtent("value"),edgeDataExtent_1=edgeData.getDataExtent("value"),repulsion=forceModel.get("repulsion"),edgeLength=forceModel.get("edgeLength"),repulsionArr_1=util.isArray(repulsion)?repulsion:[repulsion,repulsion],edgeLengthArr_1=util.isArray(edgeLength)?edgeLength:[edgeLength,edgeLength];edgeLengthArr_1=[edgeLengthArr_1[1],edgeLengthArr_1[0]];var nodes_1=nodeData_1.mapArray("value",(function(value,idx){var point=nodeData_1.getItemLayout(idx),rep=linearMap(value,nodeDataExtent_1,repulsionArr_1);return isNaN(rep)&&(rep=(repulsionArr_1[0]+repulsionArr_1[1])/2),{w:rep,rep:rep,fixed:nodeData_1.getItemModel(idx).get("fixed"),p:!point||isNaN(point[0])||isNaN(point[1])?null:point}})),edges=edgeData.mapArray("value",(function(value,idx){var edge=graph_1.getEdgeByIndex(idx),d=linearMap(value,edgeDataExtent_1,edgeLengthArr_1);isNaN(d)&&(d=(edgeLengthArr_1[0]+edgeLengthArr_1[1])/2);var edgeModel=edge.getModel(),curveness=util.retrieve3(edge.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(edge,graphSeries,idx,!0),0);return{n1:nodes_1[edge.node1.dataIndex],n2:nodes_1[edge.node2.dataIndex],d:d,curveness:curveness,ignoreForceLayout:edgeModel.get("ignoreForceLayout")}})),rect=coordSys.getBoundingRect(),forceInstance=function forceHelper_forceLayout(inNodes,inEdges,opts){for(var nodes=inNodes,edges=inEdges,rect=opts.rect,width=rect.width,height=rect.height,center=[rect.x+width/2,rect.y+height/2],gravity=null==opts.gravity?.1:opts.gravity,i=0;i<nodes.length;i++){var n=nodes[i];n.p||(n.p=vector_create(width*(Math.random()-.5)+center[0],height*(Math.random()-.5)+center[1])),n.pp=clone(n.p),n.edges=null}var beforeStepCallback,afterStepCallback,initialFriction=null==opts.friction?.6:opts.friction,friction=initialFriction;return{warmUp:function(){friction=.8*initialFriction},setFixed:function(idx){nodes[idx].fixed=!0},setUnfixed:function(idx){nodes[idx].fixed=!1},beforeStep:function(cb){beforeStepCallback=cb},afterStep:function(cb){afterStepCallback=cb},step:function(cb){beforeStepCallback&&beforeStepCallback(nodes,edges);for(var v12=[],nLen=nodes.length,i=0;i<edges.length;i++){var e=edges[i];if(!e.ignoreForceLayout){var n1=e.n1;sub(v12,(n2=e.n2).p,n1.p);var d=vector_len(v12)-e.d,w=n2.w/(n1.w+n2.w);isNaN(w)&&(w=0),normalize(v12,v12),!n1.fixed&&forceHelper_scaleAndAdd(n1.p,n1.p,v12,w*d*friction),!n2.fixed&&forceHelper_scaleAndAdd(n2.p,n2.p,v12,-(1-w)*d*friction)}}for(i=0;i<nLen;i++)(n=nodes[i]).fixed||(sub(v12,center,n.p),forceHelper_scaleAndAdd(n.p,n.p,v12,gravity*friction));for(i=0;i<nLen;i++){n1=nodes[i];for(var j=i+1;j<nLen;j++){var n2;sub(v12,(n2=nodes[j]).p,n1.p),0===(d=vector_len(v12))&&(set(v12,Math.random()-.5,Math.random()-.5),d=1);var repFact=(n1.rep+n2.rep)/d/d;!n1.fixed&&forceHelper_scaleAndAdd(n1.pp,n1.pp,v12,repFact),!n2.fixed&&forceHelper_scaleAndAdd(n2.pp,n2.pp,v12,-repFact)}}var v=[];for(i=0;i<nLen;i++){var n;(n=nodes[i]).fixed||(sub(v,n.p,n.pp),forceHelper_scaleAndAdd(n.p,n.p,v,friction),vector_copy(n.pp,n.p))}var finished=(friction*=.992)<.01;afterStepCallback&&afterStepCallback(nodes,edges,finished),cb&&cb(finished)}}}(nodes_1,edges,{rect:rect,gravity:forceModel.get("gravity"),friction:forceModel.get("friction")});forceInstance.beforeStep((function(nodes,edges){for(var i=0,l=nodes.length;i<l;i++)nodes[i].fixed&&vector_copy(nodes[i].p,graph_1.getNodeByIndex(i).getLayout())})),forceInstance.afterStep((function(nodes,edges,stopped){for(var i=0,l=nodes.length;i<l;i++)nodes[i].fixed||graph_1.getNodeByIndex(i).setLayout(nodes[i].p),preservedPoints_1[nodeData_1.getId(i)]=nodes[i].p;for(i=0,l=edges.length;i<l;i++){var e=edges[i],edge=graph_1.getEdgeByIndex(i),p1=e.n1.p,p2=e.n2.p,points=edge.getLayout();(points=points?points.slice():[])[0]=points[0]||[],points[1]=points[1]||[],vector_copy(points[0],p1),vector_copy(points[1],p2),+e.curveness&&(points[2]=[(p1[0]+p2[0])/2-(p1[1]-p2[1])*e.curveness,(p1[1]+p2[1])/2-(p2[0]-p1[0])*e.curveness]),edge.setLayout(points)}})),graphSeries.forceLayout=forceInstance,graphSeries.preservedPoints=preservedPoints_1,forceInstance.step()}else graphSeries.forceLayout=null}))}function createViewCoordSys(ecModel,api){var viewList=[];return ecModel.eachSeriesByType("graph",(function(seriesModel){var coordSysType=seriesModel.get("coordinateSystem");if(!coordSysType||"view"===coordSysType){var data_1=seriesModel.getData(),min=[],max=[];fromPoints(data_1.mapArray((function(idx){var itemModel=data_1.getItemModel(idx);return[+itemModel.get("x"),+itemModel.get("y")]})),min,max),max[0]-min[0]==0&&(max[0]+=1,min[0]-=1),max[1]-min[1]==0&&(max[1]+=1,min[1]-=1);var aspect=(max[0]-min[0])/(max[1]-min[1]),viewRect=function createView_getViewRect(seriesModel,api,aspect){return getLayoutRect(Object(util.extend)(seriesModel.getBoxLayoutParams(),{aspect:aspect}),{width:api.getWidth(),height:api.getHeight()})}(seriesModel,api,aspect);isNaN(aspect)&&(min=[viewRect.x,viewRect.y],max=[viewRect.x+viewRect.width,viewRect.y+viewRect.height]);var bbWidth=max[0]-min[0],bbHeight=max[1]-min[1],viewWidth=viewRect.width,viewHeight=viewRect.height,viewCoordSys=seriesModel.coordinateSystem=new coord_View;viewCoordSys.zoomLimit=seriesModel.get("scaleLimit"),viewCoordSys.setBoundingRect(min[0],min[1],bbWidth,bbHeight),viewCoordSys.setViewRect(viewRect.x,viewRect.y,viewWidth,viewHeight),viewCoordSys.setCenter(seriesModel.get("center")),viewCoordSys.setZoom(seriesModel.get("zoom")),viewList.push(viewCoordSys)}})),viewList}var straightLineProto=shape_Line.prototype,bezierCurveProto=shape_BezierCurve.prototype,StraightLineShape=function StraightLineShape(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};!function(_super){function CurveShape(){return null!==_super&&_super.apply(this,arguments)||this}__extends(CurveShape,_super)}(StraightLineShape);function isStraightLine(shape){return isNaN(+shape.cpx1)||isNaN(+shape.cpy1)}var LinePath=function(_super){function ECLinePath(opts){var _this=_super.call(this,opts)||this;return _this.type="ec-line",_this}return __extends(ECLinePath,_super),ECLinePath.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},ECLinePath.prototype.getDefaultShape=function(){return new StraightLineShape},ECLinePath.prototype.buildPath=function(ctx,shape){isStraightLine(shape)?straightLineProto.buildPath.call(this,ctx,shape):bezierCurveProto.buildPath.call(this,ctx,shape)},ECLinePath.prototype.pointAt=function(t){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,t):bezierCurveProto.pointAt.call(this,t)},ECLinePath.prototype.tangentAt=function(t){var shape=this.shape,p=isStraightLine(shape)?[shape.x2-shape.x1,shape.y2-shape.y1]:bezierCurveProto.tangentAt.call(this,t);return normalize(p,p)},ECLinePath}(graphic_Path),SYMBOL_CATEGORIES=["fromSymbol","toSymbol"];function makeSymbolTypeKey(symbolCategory){return"_"+symbolCategory+"Type"}function Line_createSymbol(name,lineData,idx){var symbolType=lineData.getItemVisual(idx,name);if(symbolType&&"none"!==symbolType){var symbolSize=lineData.getItemVisual(idx,name+"Size"),symbolRotate=lineData.getItemVisual(idx,name+"Rotate"),symbolOffset=lineData.getItemVisual(idx,name+"Offset"),symbolKeepAspect=lineData.getItemVisual(idx,name+"KeepAspect"),symbolSizeArr=normalizeSymbolSize(symbolSize),symbolOffsetArr=normalizeSymbolOffset(symbolOffset||0,symbolSizeArr),symbolPath=symbol_createSymbol(symbolType,-symbolSizeArr[0]/2+symbolOffsetArr[0],-symbolSizeArr[1]/2+symbolOffsetArr[1],symbolSizeArr[0],symbolSizeArr[1],null,symbolKeepAspect);return symbolPath.__specifiedRotation=null==symbolRotate||isNaN(symbolRotate)?void 0:+symbolRotate*Math.PI/180||0,symbolPath.name=name,symbolPath}}function setLinePoints(targetShape,points){targetShape.x1=points[0][0],targetShape.y1=points[0][1],targetShape.x2=points[1][0],targetShape.y2=points[1][1],targetShape.percent=1;var cp1=points[2];cp1?(targetShape.cpx1=cp1[0],targetShape.cpy1=cp1[1]):(targetShape.cpx1=NaN,targetShape.cpy1=NaN)}var helper_Line=function(_super){function Line(lineData,idx,seriesScope){var _this=_super.call(this)||this;return _this._createLine(lineData,idx,seriesScope),_this}return __extends(Line,_super),Line.prototype._createLine=function(lineData,idx,seriesScope){var seriesModel=lineData.hostModel,line=function createLine(points){var line=new LinePath({name:"line",subPixelOptimize:!0});return setLinePoints(line.shape,points),line}(lineData.getItemLayout(idx));line.shape.percent=0,initProps(line,{shape:{percent:1}},seriesModel,idx),this.add(line),Object(util.each)(SYMBOL_CATEGORIES,(function(symbolCategory){var symbol=Line_createSymbol(symbolCategory,lineData,idx);this.add(symbol),this[makeSymbolTypeKey(symbolCategory)]=lineData.getItemVisual(idx,symbolCategory)}),this),this._updateCommonStl(lineData,idx,seriesScope)},Line.prototype.updateData=function(lineData,idx,seriesScope){var seriesModel=lineData.hostModel,line=this.childOfName("line"),linePoints=lineData.getItemLayout(idx),target={shape:{}};setLinePoints(target.shape,linePoints),updateProps(line,target,seriesModel,idx),Object(util.each)(SYMBOL_CATEGORIES,(function(symbolCategory){var symbolType=lineData.getItemVisual(idx,symbolCategory),key=makeSymbolTypeKey(symbolCategory);if(this[key]!==symbolType){this.remove(this.childOfName(symbolCategory));var symbol=Line_createSymbol(symbolCategory,lineData,idx);this.add(symbol)}this[key]=symbolType}),this),this._updateCommonStl(lineData,idx,seriesScope)},Line.prototype.getLinePath=function(){return this.childAt(0)},Line.prototype._updateCommonStl=function(lineData,idx,seriesScope){var seriesModel=lineData.hostModel,line=this.childOfName("line"),emphasisLineStyle=seriesScope&&seriesScope.emphasisLineStyle,blurLineStyle=seriesScope&&seriesScope.blurLineStyle,selectLineStyle=seriesScope&&seriesScope.selectLineStyle,labelStatesModels=seriesScope&&seriesScope.labelStatesModels,emphasisDisabled=seriesScope&&seriesScope.emphasisDisabled,focus=seriesScope&&seriesScope.focus,blurScope=seriesScope&&seriesScope.blurScope;if(!seriesScope||lineData.hasItemOption){var itemModel=lineData.getItemModel(idx),emphasisModel=itemModel.getModel("emphasis");emphasisLineStyle=emphasisModel.getModel("lineStyle").getLineStyle(),blurLineStyle=itemModel.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle=itemModel.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled=emphasisModel.get("disabled"),focus=emphasisModel.get("focus"),blurScope=emphasisModel.get("blurScope"),labelStatesModels=getLabelStatesModels(itemModel)}var lineStyle=lineData.getItemVisual(idx,"style"),visualColor=lineStyle.stroke;line.useStyle(lineStyle),line.style.fill=null,line.style.strokeNoScale=!0,line.ensureState("emphasis").style=emphasisLineStyle,line.ensureState("blur").style=blurLineStyle,line.ensureState("select").style=selectLineStyle,Object(util.each)(SYMBOL_CATEGORIES,(function(symbolCategory){var symbol=this.childOfName(symbolCategory);if(symbol){symbol.setColor(visualColor),symbol.style.opacity=lineStyle.opacity;for(var i=0;i<SPECIAL_STATES.length;i++){var stateName=SPECIAL_STATES[i],lineState=line.getState(stateName);if(lineState){var lineStateStyle=lineState.style||{},state=symbol.ensureState(stateName),stateStyle=state.style||(state.style={});null!=lineStateStyle.stroke&&(stateStyle[symbol.__isEmptyBrush?"stroke":"fill"]=lineStateStyle.stroke),null!=lineStateStyle.opacity&&(stateStyle.opacity=lineStateStyle.opacity)}}symbol.markRedraw()}}),this);var rawVal=seriesModel.getRawValue(idx);setLabelStyle(this,labelStatesModels,{labelDataIndex:idx,labelFetcher:{getFormattedLabel:function(dataIndex,stateName){return seriesModel.getFormattedLabel(dataIndex,stateName,lineData.dataType)}},inheritColor:visualColor||"#000",defaultOpacity:lineStyle.opacity,defaultText:(null==rawVal?lineData.getName(idx):isFinite(rawVal)?round(rawVal):rawVal)+""});var label=this.getTextContent();if(label){var labelNormalModel=labelStatesModels.normal;label.__align=label.style.align,label.__verticalAlign=label.style.verticalAlign,label.__position=labelNormalModel.get("position")||"middle";var distance=labelNormalModel.get("distance");Object(util.isArray)(distance)||(distance=[distance,distance]),label.__labelDistance=distance}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,focus,blurScope,emphasisDisabled)},Line.prototype.highlight=function(){enterEmphasis(this)},Line.prototype.downplay=function(){leaveEmphasis(this)},Line.prototype.updateLayout=function(lineData,idx){this.setLinePoints(lineData.getItemLayout(idx))},Line.prototype.setLinePoints=function(points){var linePath=this.childOfName("line");setLinePoints(linePath.shape,points),linePath.dirty()},Line.prototype.beforeUpdate=function(){var symbolFrom=this.childOfName("fromSymbol"),symbolTo=this.childOfName("toSymbol"),label=this.getTextContent();if(symbolFrom||symbolTo||label&&!label.ignore){for(var invScale=1,parentNode=this.parent;parentNode;)parentNode.scaleX&&(invScale/=parentNode.scaleX),parentNode=parentNode.parent;var line=this.childOfName("line");if(this.__dirty||line.__dirty){var percent=line.shape.percent,fromPos=line.pointAt(0),toPos=line.pointAt(percent),d=sub([],toPos,fromPos);if(normalize(d,d),symbolFrom&&(symbolFrom.setPosition(fromPos),setSymbolRotation(symbolFrom,0),symbolFrom.scaleX=symbolFrom.scaleY=invScale*percent,symbolFrom.markRedraw()),symbolTo&&(symbolTo.setPosition(toPos),setSymbolRotation(symbolTo,1),symbolTo.scaleX=symbolTo.scaleY=invScale*percent,symbolTo.markRedraw()),label&&!label.ignore){label.x=label.y=0,label.originX=label.originY=0;var textAlign=void 0,textVerticalAlign=void 0,distance=label.__labelDistance,distanceX=distance[0]*invScale,distanceY=distance[1]*invScale,halfPercent=percent/2,tangent=line.tangentAt(halfPercent),n=[tangent[1],-tangent[0]],cp=line.pointAt(halfPercent);n[1]>0&&(n[0]=-n[0],n[1]=-n[1]);var dir=tangent[0]<0?-1:1;if("start"!==label.__position&&"end"!==label.__position){var rotation=-Math.atan2(tangent[1],tangent[0]);toPos[0]<fromPos[0]&&(rotation=Math.PI+rotation),label.rotation=rotation}var dy=void 0;switch(label.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":dy=-distanceY,textVerticalAlign="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":dy=distanceY,textVerticalAlign="top";break;default:dy=0,textVerticalAlign="middle"}switch(label.__position){case"end":label.x=d[0]*distanceX+toPos[0],label.y=d[1]*distanceY+toPos[1],textAlign=d[0]>.8?"left":d[0]<-.8?"right":"center",textVerticalAlign=d[1]>.8?"top":d[1]<-.8?"bottom":"middle";break;case"start":label.x=-d[0]*distanceX+fromPos[0],label.y=-d[1]*distanceY+fromPos[1],textAlign=d[0]>.8?"right":d[0]<-.8?"left":"center",textVerticalAlign=d[1]>.8?"bottom":d[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":label.x=distanceX*dir+fromPos[0],label.y=fromPos[1]+dy,textAlign=tangent[0]<0?"right":"left",label.originX=-distanceX*dir,label.originY=-dy;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":label.x=cp[0],label.y=cp[1]+dy,textAlign="center",label.originY=-dy;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":label.x=-distanceX*dir+toPos[0],label.y=toPos[1]+dy,textAlign=tangent[0]>=0?"right":"left",label.originX=distanceX*dir,label.originY=-dy}label.scaleX=label.scaleY=invScale,label.setStyle({verticalAlign:label.__verticalAlign||textVerticalAlign,align:label.__align||textAlign})}}}function setSymbolRotation(symbol,percent){var specifiedRotation=symbol.__specifiedRotation;if(null==specifiedRotation){var tangent=line.tangentAt(percent);symbol.attr("rotation",(1===percent?-1:1)*Math.PI/2-Math.atan2(tangent[1],tangent[0]))}else symbol.attr("rotation",specifiedRotation)}},Line}(graphic_Group);function LineDraw_makeSeriesScope(lineData){var hostModel=lineData.hostModel,emphasisModel=hostModel.getModel("emphasis");return{lineStyle:hostModel.getModel("lineStyle").getLineStyle(),emphasisLineStyle:emphasisModel.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:hostModel.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:hostModel.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:emphasisModel.get("disabled"),blurScope:emphasisModel.get("blurScope"),focus:emphasisModel.get("focus"),labelStatesModels:getLabelStatesModels(hostModel)}}function isPointNaN(pt){return isNaN(pt[0])||isNaN(pt[1])}function lineNeedsDraw(pts){return pts&&!isPointNaN(pts[0])&&!isPointNaN(pts[1])}var helper_LineDraw=function(){function LineDraw(LineCtor){this.group=new graphic_Group,this._LineCtor=LineCtor||helper_Line}return LineDraw.prototype.updateData=function(lineData){var _this=this;this._progressiveEls=null;var group=this.group,oldLineData=this._lineData;this._lineData=lineData,oldLineData||group.removeAll();var seriesScope=LineDraw_makeSeriesScope(lineData);lineData.diff(oldLineData).add((function(idx){_this._doAdd(lineData,idx,seriesScope)})).update((function(newIdx,oldIdx){_this._doUpdate(oldLineData,lineData,oldIdx,newIdx,seriesScope)})).remove((function(idx){group.remove(oldLineData.getItemGraphicEl(idx))})).execute()},LineDraw.prototype.updateLayout=function(){var lineData=this._lineData;lineData&&lineData.eachItemGraphicEl((function(el,idx){el.updateLayout(lineData,idx)}),this)},LineDraw.prototype.incrementalPrepareUpdate=function(lineData){this._seriesScope=LineDraw_makeSeriesScope(lineData),this._lineData=null,this.group.removeAll()},LineDraw.prototype.incrementalUpdate=function(taskParams,lineData){function updateIncrementalAndHover(el){el.isGroup||function isEffectObject(el){return el.animators&&el.animators.length>0}(el)||(el.incremental=!0,el.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var idx=taskParams.start;idx<taskParams.end;idx++){if(lineNeedsDraw(lineData.getItemLayout(idx))){var el=new this._LineCtor(lineData,idx,this._seriesScope);el.traverse(updateIncrementalAndHover),this.group.add(el),lineData.setItemGraphicEl(idx,el),this._progressiveEls.push(el)}}},LineDraw.prototype.remove=function(){this.group.removeAll()},LineDraw.prototype.eachRendered=function(cb){traverseElements(this._progressiveEls||this.group,cb)},LineDraw.prototype._doAdd=function(lineData,idx,seriesScope){if(lineNeedsDraw(lineData.getItemLayout(idx))){var el=new this._LineCtor(lineData,idx,seriesScope);lineData.setItemGraphicEl(idx,el),this.group.add(el)}},LineDraw.prototype._doUpdate=function(oldLineData,newLineData,oldIdx,newIdx,seriesScope){var itemEl=oldLineData.getItemGraphicEl(oldIdx);lineNeedsDraw(newLineData.getItemLayout(newIdx))?(itemEl?itemEl.updateData(newLineData,newIdx,seriesScope):itemEl=new this._LineCtor(newLineData,newIdx,seriesScope),newLineData.setItemGraphicEl(newIdx,itemEl),this.group.add(itemEl)):this.group.remove(itemEl)},LineDraw}(),adjustEdge_v1=[],adjustEdge_v2=[],v3=[],adjustEdge_quadraticAt=curve_quadraticAt,v2DistSquare=distSquare,adjustEdge_mathAbs=Math.abs;function intersectCurveCircle(curvePoints,center,radius){for(var t,p0=curvePoints[0],p1=curvePoints[1],p2=curvePoints[2],d=1/0,radiusSquare=radius*radius,interval=.1,_t=.1;_t<=.9;_t+=.1){adjustEdge_v1[0]=adjustEdge_quadraticAt(p0[0],p1[0],p2[0],_t),adjustEdge_v1[1]=adjustEdge_quadraticAt(p0[1],p1[1],p2[1],_t),(diff=adjustEdge_mathAbs(v2DistSquare(adjustEdge_v1,center)-radiusSquare))<d&&(d=diff,t=_t)}for(var i=0;i<32;i++){var next=t+interval;adjustEdge_v2[0]=adjustEdge_quadraticAt(p0[0],p1[0],p2[0],t),adjustEdge_v2[1]=adjustEdge_quadraticAt(p0[1],p1[1],p2[1],t),v3[0]=adjustEdge_quadraticAt(p0[0],p1[0],p2[0],next),v3[1]=adjustEdge_quadraticAt(p0[1],p1[1],p2[1],next);var diff=v2DistSquare(adjustEdge_v2,center)-radiusSquare;if(adjustEdge_mathAbs(diff)<.01)break;var nextDiff=v2DistSquare(v3,center)-radiusSquare;interval/=2,diff<0?nextDiff>=0?t+=interval:t-=interval:nextDiff>=0?t-=interval:t+=interval}return t}function adjustEdge(graph,scale){var tmp0=[],quadraticSubdivide=curve_quadraticSubdivide,pts=[[],[],[]],pts2=[[],[]],v=[];scale/=2,graph.eachEdge((function(edge,idx){var linePoints=edge.getLayout(),fromSymbol=edge.getVisual("fromSymbol"),toSymbol=edge.getVisual("toSymbol");linePoints.__original||(linePoints.__original=[clone(linePoints[0]),clone(linePoints[1])],linePoints[2]&&linePoints.__original.push(clone(linePoints[2])));var originalPoints=linePoints.__original;if(null!=linePoints[2]){if(vector_copy(pts[0],originalPoints[0]),vector_copy(pts[1],originalPoints[2]),vector_copy(pts[2],originalPoints[1]),fromSymbol&&"none"!==fromSymbol){var symbolSize=getSymbolSize(edge.node1),t=intersectCurveCircle(pts,originalPoints[0],symbolSize*scale);quadraticSubdivide(pts[0][0],pts[1][0],pts[2][0],t,tmp0),pts[0][0]=tmp0[3],pts[1][0]=tmp0[4],quadraticSubdivide(pts[0][1],pts[1][1],pts[2][1],t,tmp0),pts[0][1]=tmp0[3],pts[1][1]=tmp0[4]}if(toSymbol&&"none"!==toSymbol){symbolSize=getSymbolSize(edge.node2),t=intersectCurveCircle(pts,originalPoints[1],symbolSize*scale);quadraticSubdivide(pts[0][0],pts[1][0],pts[2][0],t,tmp0),pts[1][0]=tmp0[1],pts[2][0]=tmp0[2],quadraticSubdivide(pts[0][1],pts[1][1],pts[2][1],t,tmp0),pts[1][1]=tmp0[1],pts[2][1]=tmp0[2]}vector_copy(linePoints[0],pts[0]),vector_copy(linePoints[1],pts[2]),vector_copy(linePoints[2],pts[1])}else{if(vector_copy(pts2[0],originalPoints[0]),vector_copy(pts2[1],originalPoints[1]),sub(v,pts2[1],pts2[0]),normalize(v,v),fromSymbol&&"none"!==fromSymbol){symbolSize=getSymbolSize(edge.node1);scaleAndAdd(pts2[0],pts2[0],v,symbolSize*scale)}if(toSymbol&&"none"!==toSymbol){symbolSize=getSymbolSize(edge.node2);scaleAndAdd(pts2[1],pts2[1],v,-symbolSize*scale)}vector_copy(linePoints[0],pts2[0]),vector_copy(linePoints[1],pts2[1])}}))}function isViewCoordSys(coordSys){return"view"===coordSys.type}var GraphView_GraphView=function(_super){function GraphView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GraphView.type,_this}return __extends(GraphView,_super),GraphView.prototype.init=function(ecModel,api){var symbolDraw=new helper_SymbolDraw,lineDraw=new helper_LineDraw,group=this.group;this._controller=new helper_RoamController(api.getZr()),this._controllerHost={target:group},group.add(symbolDraw.group),group.add(lineDraw.group),this._symbolDraw=symbolDraw,this._lineDraw=lineDraw,this._firstRender=!0},GraphView.prototype.render=function(seriesModel,ecModel,api){var _this=this,coordSys=seriesModel.coordinateSystem;this._model=seriesModel;var symbolDraw=this._symbolDraw,lineDraw=this._lineDraw,group=this.group;if(isViewCoordSys(coordSys)){var groupNewProp={x:coordSys.x,y:coordSys.y,scaleX:coordSys.scaleX,scaleY:coordSys.scaleY};this._firstRender?group.attr(groupNewProp):updateProps(group,groupNewProp,seriesModel)}adjustEdge(seriesModel.getGraph(),getNodeGlobalScale(seriesModel));var data=seriesModel.getData();symbolDraw.updateData(data);var edgeData=seriesModel.getEdgeData();lineDraw.updateData(edgeData),this._updateNodeAndLinkScale(),this._updateController(seriesModel,ecModel,api),clearTimeout(this._layoutTimeout);var forceLayout=seriesModel.forceLayout,layoutAnimation=seriesModel.get(["force","layoutAnimation"]);forceLayout&&this._startForceLayoutIteration(forceLayout,layoutAnimation),data.graph.eachNode((function(node){var idx=node.dataIndex,el=node.getGraphicEl(),itemModel=node.getModel();if(el){el.off("drag").off("dragend");var draggable=itemModel.get("draggable");draggable&&el.on("drag",(function(){forceLayout&&(forceLayout.warmUp(),!_this._layouting&&_this._startForceLayoutIteration(forceLayout,layoutAnimation),forceLayout.setFixed(idx),data.setItemLayout(idx,[el.x,el.y]))})).on("dragend",(function(){forceLayout&&forceLayout.setUnfixed(idx)})),el.setDraggable(draggable&&!!forceLayout),"adjacency"===itemModel.get(["emphasis","focus"])&&(getECData(el).focus=node.getAdjacentDataIndices())}})),data.graph.eachEdge((function(edge){var el=edge.getGraphicEl(),focus=edge.getModel().get(["emphasis","focus"]);el&&"adjacency"===focus&&(getECData(el).focus={edge:[edge.dataIndex],node:[edge.node1.dataIndex,edge.node2.dataIndex]})}));var circularRotateLabel="circular"===seriesModel.get("layout")&&seriesModel.get(["circular","rotateLabel"]),cx=data.getLayout("cx"),cy=data.getLayout("cy");data.eachItemGraphicEl((function(el,idx){var labelRotate=data.getItemModel(idx).get(["label","rotate"])||0,symbolPath=el.getSymbolPath();if(circularRotateLabel){var pos=data.getItemLayout(idx),rad=Math.atan2(pos[1]-cy,pos[0]-cx);rad<0&&(rad=2*Math.PI+rad);var isLeft=pos[0]<cx;isLeft&&(rad-=Math.PI);var textPosition=isLeft?"left":"right";symbolPath.setTextConfig({rotation:-rad,position:textPosition,origin:"center"});var emphasisState=symbolPath.ensureState("emphasis");util.extend(emphasisState.textConfig||(emphasisState.textConfig={}),{position:textPosition})}else symbolPath.setTextConfig({rotation:labelRotate*=Math.PI/180})})),this._firstRender=!1},GraphView.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},GraphView.prototype._startForceLayoutIteration=function(forceLayout,layoutAnimation){var self=this;!function step(){forceLayout.step((function(stopped){self.updateLayout(self._model),(self._layouting=!stopped)&&(layoutAnimation?self._layoutTimeout=setTimeout(step,16):step())}))}()},GraphView.prototype._updateController=function(seriesModel,ecModel,api){var _this=this,controller=this._controller,controllerHost=this._controllerHost,group=this.group;controller.setPointerChecker((function(e,x,y){var rect=group.getBoundingRect();return rect.applyTransform(group.transform),rect.contain(x,y)&&!onIrrelevantElement(e,api,seriesModel)})),isViewCoordSys(seriesModel.coordinateSystem)?(controller.enable(seriesModel.get("roam")),controllerHost.zoomLimit=seriesModel.get("scaleLimit"),controllerHost.zoom=seriesModel.coordinateSystem.getZoom(),controller.off("pan").off("zoom").on("pan",(function(e){updateViewOnPan(controllerHost,e.dx,e.dy),api.dispatchAction({seriesId:seriesModel.id,type:"graphRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){updateViewOnZoom(controllerHost,e.scale,e.originX,e.originY),api.dispatchAction({seriesId:seriesModel.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),_this._updateNodeAndLinkScale(),adjustEdge(seriesModel.getGraph(),getNodeGlobalScale(seriesModel)),_this._lineDraw.updateLayout(),api.updateLabelLayout()}))):controller.disable()},GraphView.prototype._updateNodeAndLinkScale=function(){var seriesModel=this._model,data=seriesModel.getData(),nodeScale=getNodeGlobalScale(seriesModel);data.eachItemGraphicEl((function(el,idx){el&&el.setSymbolScale(nodeScale)}))},GraphView.prototype.updateLayout=function(seriesModel){adjustEdge(seriesModel.getGraph(),getNodeGlobalScale(seriesModel)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},GraphView.prototype.remove=function(ecModel,api){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},GraphView.type="graph",GraphView}(Chart),graph_GraphView=GraphView_GraphView;function generateNodeKey(id){return"_EC_"+id}var Graph_Graph=function(){function Graph(directed){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=directed||!1}return Graph.prototype.isDirected=function(){return this._directed},Graph.prototype.addNode=function(id,dataIndex){id=null==id?""+dataIndex:""+id;var nodesMap=this._nodesMap;if(!nodesMap[generateNodeKey(id)]){var node=new GraphNode(id,dataIndex);return node.hostGraph=this,this.nodes.push(node),nodesMap[generateNodeKey(id)]=node,node}},Graph.prototype.getNodeByIndex=function(dataIndex){var rawIdx=this.data.getRawIndex(dataIndex);return this.nodes[rawIdx]},Graph.prototype.getNodeById=function(id){return this._nodesMap[generateNodeKey(id)]},Graph.prototype.addEdge=function(n1,n2,dataIndex){var nodesMap=this._nodesMap,edgesMap=this._edgesMap;if(util.isNumber(n1)&&(n1=this.nodes[n1]),util.isNumber(n2)&&(n2=this.nodes[n2]),n1 instanceof GraphNode||(n1=nodesMap[generateNodeKey(n1)]),n2 instanceof GraphNode||(n2=nodesMap[generateNodeKey(n2)]),n1&&n2){var key=n1.id+"-"+n2.id,edge=new GraphEdge(n1,n2,dataIndex);return edge.hostGraph=this,this._directed&&(n1.outEdges.push(edge),n2.inEdges.push(edge)),n1.edges.push(edge),n1!==n2&&n2.edges.push(edge),this.edges.push(edge),edgesMap[key]=edge,edge}},Graph.prototype.getEdgeByIndex=function(dataIndex){var rawIdx=this.edgeData.getRawIndex(dataIndex);return this.edges[rawIdx]},Graph.prototype.getEdge=function(n1,n2){n1 instanceof GraphNode&&(n1=n1.id),n2 instanceof GraphNode&&(n2=n2.id);var edgesMap=this._edgesMap;return this._directed?edgesMap[n1+"-"+n2]:edgesMap[n1+"-"+n2]||edgesMap[n2+"-"+n1]},Graph.prototype.eachNode=function(cb,context){for(var nodes=this.nodes,len=nodes.length,i=0;i<len;i++)nodes[i].dataIndex>=0&&cb.call(context,nodes[i],i)},Graph.prototype.eachEdge=function(cb,context){for(var edges=this.edges,len=edges.length,i=0;i<len;i++)edges[i].dataIndex>=0&&edges[i].node1.dataIndex>=0&&edges[i].node2.dataIndex>=0&&cb.call(context,edges[i],i)},Graph.prototype.breadthFirstTraverse=function(cb,startNode,direction,context){if(startNode instanceof GraphNode||(startNode=this._nodesMap[generateNodeKey(startNode)]),startNode){for(var edgeType="out"===direction?"outEdges":"in"===direction?"inEdges":"edges",i=0;i<this.nodes.length;i++)this.nodes[i].__visited=!1;if(!cb.call(context,startNode,null))for(var queue=[startNode];queue.length;){var currentNode=queue.shift(),edges=currentNode[edgeType];for(i=0;i<edges.length;i++){var e=edges[i],otherNode=e.node1===currentNode?e.node2:e.node1;if(!otherNode.__visited){if(cb.call(context,otherNode,currentNode))return;queue.push(otherNode),otherNode.__visited=!0}}}}},Graph.prototype.update=function(){for(var data=this.data,edgeData=this.edgeData,nodes=this.nodes,edges=this.edges,i=0,len=nodes.length;i<len;i++)nodes[i].dataIndex=-1;for(i=0,len=data.count();i<len;i++)nodes[data.getRawIndex(i)].dataIndex=i;edgeData.filterSelf((function(idx){var edge=edges[edgeData.getRawIndex(idx)];return edge.node1.dataIndex>=0&&edge.node2.dataIndex>=0}));for(i=0,len=edges.length;i<len;i++)edges[i].dataIndex=-1;for(i=0,len=edgeData.count();i<len;i++)edges[edgeData.getRawIndex(i)].dataIndex=i},Graph.prototype.clone=function(){for(var graph=new Graph(this._directed),nodes=this.nodes,edges=this.edges,i=0;i<nodes.length;i++)graph.addNode(nodes[i].id,nodes[i].dataIndex);for(i=0;i<edges.length;i++){var e=edges[i];graph.addEdge(e.node1.id,e.node2.id,e.dataIndex)}return graph},Graph}(),GraphNode=function(){function GraphNode(id,dataIndex){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==id?"":id,this.dataIndex=null==dataIndex?-1:dataIndex}return GraphNode.prototype.degree=function(){return this.edges.length},GraphNode.prototype.inDegree=function(){return this.inEdges.length},GraphNode.prototype.outDegree=function(){return this.outEdges.length},GraphNode.prototype.getModel=function(path){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(path)},GraphNode.prototype.getAdjacentDataIndices=function(){for(var dataIndices={edge:[],node:[]},i=0;i<this.edges.length;i++){var adjacentEdge=this.edges[i];adjacentEdge.dataIndex<0||(dataIndices.edge.push(adjacentEdge.dataIndex),dataIndices.node.push(adjacentEdge.node1.dataIndex,adjacentEdge.node2.dataIndex))}return dataIndices},GraphNode}(),GraphEdge=function(){function GraphEdge(n1,n2,dataIndex){this.dataIndex=-1,this.node1=n1,this.node2=n2,this.dataIndex=null==dataIndex?-1:dataIndex}return GraphEdge.prototype.getModel=function(path){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(path)},GraphEdge.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},GraphEdge}();function createGraphDataProxyMixin(hostName,dataName){return{getValue:function(dimension){var data=this[hostName][dataName];return data.getStore().get(data.getDimensionIndex(dimension||"value"),this.dataIndex)},setVisual:function(key,value){this.dataIndex>=0&&this[hostName][dataName].setItemVisual(this.dataIndex,key,value)},getVisual:function(key){return this[hostName][dataName].getItemVisual(this.dataIndex,key)},setLayout:function(layout,merge){this.dataIndex>=0&&this[hostName][dataName].setItemLayout(this.dataIndex,layout,merge)},getLayout:function(){return this[hostName][dataName].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[hostName][dataName].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[hostName][dataName].getRawIndex(this.dataIndex)}}}util.mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data")),util.mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));var data_Graph=Graph_Graph;function createGraphFromNodeEdge(nodes,edges,seriesModel,directed,beforeLink){for(var graph=new data_Graph(directed),i=0;i<nodes.length;i++)graph.addNode(util.retrieve(nodes[i].id,nodes[i].name,i),i);var linkNameList=[],validEdges=[],linkCount=0;for(i=0;i<edges.length;i++){var link=edges[i],source=link.source,target=link.target;graph.addEdge(source,target,linkCount)&&(validEdges.push(link),linkNameList.push(util.retrieve(convertOptionIdName(link.id,null),source+" > "+target)),linkCount++)}var nodeData,coordSys=seriesModel.get("coordinateSystem");if("cartesian2d"===coordSys||"polar"===coordSys)nodeData=helper_createSeriesData(nodes,seriesModel);else{var coordSysCtor=CoordinateSystem.get(coordSys),coordDimensions=coordSysCtor&&coordSysCtor.dimensions||[];util.indexOf(coordDimensions,"value")<0&&coordDimensions.concat(["value"]);var dimensions=prepareSeriesDataSchema(nodes,{coordDimensions:coordDimensions,encodeDefine:seriesModel.getEncode()}).dimensions;(nodeData=new data_SeriesData(dimensions,seriesModel)).initData(nodes)}var edgeData=new data_SeriesData(["value"],seriesModel);return edgeData.initData(validEdges,linkNameList),beforeLink&&beforeLink(nodeData,edgeData),helper_linkSeriesData({mainData:nodeData,struct:graph,structAttr:"graph",datas:{node:nodeData,edge:edgeData},datasAttr:{node:"data",edge:"edgeData"}}),graph.update(),graph}var GraphSeries_GraphSeriesModel=function(_super){function GraphSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GraphSeriesModel.type,_this.hasSymbolVisual=!0,_this}return __extends(GraphSeriesModel,_super),GraphSeriesModel.prototype.init=function(option){_super.prototype.init.apply(this,arguments);var self=this;function getCategoriesData(){return self._categoriesData}this.legendVisualProvider=new visual_LegendVisualProvider(getCategoriesData,getCategoriesData),this.fillDataTextStyle(option.edges||option.links),this._updateCategoriesData()},GraphSeriesModel.prototype.mergeOption=function(option){_super.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(option.edges||option.links),this._updateCategoriesData()},GraphSeriesModel.prototype.mergeDefaultAndTheme=function(option){_super.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis(option,"edgeLabel",["show"])},GraphSeriesModel.prototype.getInitialData=function(option,ecModel){var edges=option.edges||option.links||[],nodes=option.data||option.nodes||[],self=this;if(nodes&&edges){!function initCurvenessList(seriesModel){getAutoCurvenessParams(seriesModel)&&(seriesModel.__curvenessList=[],seriesModel.__edgeMap={},createCurveness(seriesModel))}(this);var graph=createGraphFromNodeEdge(nodes,edges,this,!0,(function beforeLink(nodeData,edgeData){nodeData.wrapMethod("getItemModel",(function(model){var categoryModel=self._categoriesModels[model.getShallow("category")];return categoryModel&&(categoryModel.parentModel=model.parentModel,model.parentModel=categoryModel),model}));var oldGetModel=model_Model.prototype.getModel;function newGetModel(path,parentModel){var model=oldGetModel.call(this,path,parentModel);return model.resolveParentPath=resolveParentPath,model}function resolveParentPath(pathArr){if(pathArr&&("label"===pathArr[0]||"label"===pathArr[1])){var newPathArr=pathArr.slice();return"label"===pathArr[0]?newPathArr[0]="edgeLabel":"label"===pathArr[1]&&(newPathArr[1]="edgeLabel"),newPathArr}return pathArr}edgeData.wrapMethod("getItemModel",(function(model){return model.resolveParentPath=resolveParentPath,model.getModel=newGetModel,model}))}));return util.each(graph.edges,(function(edge){!function createEdgeMapForCurveness(n1,n2,seriesModel,index){if(getAutoCurvenessParams(seriesModel)){var key=getKeyOfEdges(n1,n2,seriesModel),edgeMap=seriesModel.__edgeMap,oppositeEdges=edgeMap[getOppositeKey(key)];edgeMap[key]&&!oppositeEdges?edgeMap[key].isForward=!0:oppositeEdges&&edgeMap[key]&&(oppositeEdges.isForward=!0,edgeMap[key].isForward=!1),edgeMap[key]=edgeMap[key]||[],edgeMap[key].push(index)}}(edge.node1,edge.node2,this,edge.dataIndex)}),this),graph.data}},GraphSeriesModel.prototype.getGraph=function(){return this.getData().graph},GraphSeriesModel.prototype.getEdgeData=function(){return this.getGraph().edgeData},GraphSeriesModel.prototype.getCategoriesData=function(){return this._categoriesData},GraphSeriesModel.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){if("edge"===dataType){var nodeData=this.getData(),params=this.getDataParams(dataIndex,dataType),edge=nodeData.graph.getEdgeByIndex(dataIndex),sourceName=nodeData.getName(edge.node1.dataIndex),targetName=nodeData.getName(edge.node2.dataIndex),nameArr=[];return null!=sourceName&&nameArr.push(sourceName),null!=targetName&&nameArr.push(targetName),createTooltipMarkup("nameValue",{name:nameArr.join(" > "),value:params.value,noValue:null==params.value})}return defaultSeriesFormatTooltip({series:this,dataIndex:dataIndex,multipleSeries:multipleSeries})},GraphSeriesModel.prototype._updateCategoriesData=function(){var categories=util.map(this.option.categories||[],(function(category){return null!=category.value?category:util.extend({value:0},category)})),categoriesData=new data_SeriesData(["value"],this);categoriesData.initData(categories),this._categoriesData=categoriesData,this._categoriesModels=categoriesData.mapArray((function(idx){return categoriesData.getItemModel(idx)}))},GraphSeriesModel.prototype.setZoom=function(zoom){this.option.zoom=zoom},GraphSeriesModel.prototype.setCenter=function(center){this.option.center=center},GraphSeriesModel.prototype.isAnimationEnabled=function(){return _super.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},GraphSeriesModel.type="series.graph",GraphSeriesModel.dependencies=["grid","polar","geo","singleAxis","calendar"],GraphSeriesModel.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},GraphSeriesModel}(Series),GraphSeries=GraphSeries_GraphSeriesModel,install_actionInfo={type:"graphRoam",event:"graphRoam",update:"none"};var PointerShape=function PointerShape(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},gauge_PointerPath=function(_super){function PointerPath(opts){var _this=_super.call(this,opts)||this;return _this.type="pointer",_this}return __extends(PointerPath,_super),PointerPath.prototype.getDefaultShape=function(){return new PointerShape},PointerPath.prototype.buildPath=function(ctx,shape){var mathCos=Math.cos,mathSin=Math.sin,r=shape.r,width=shape.width,angle=shape.angle,x=shape.x-mathCos(angle)*width*(width>=r/3?1:2),y=shape.y-mathSin(angle)*width*(width>=r/3?1:2);angle=shape.angle-Math.PI/2,ctx.moveTo(x,y),ctx.lineTo(shape.x+mathCos(angle)*width,shape.y+mathSin(angle)*width),ctx.lineTo(shape.x+mathCos(shape.angle)*r,shape.y+mathSin(shape.angle)*r),ctx.lineTo(shape.x-mathCos(angle)*width,shape.y-mathSin(angle)*width),ctx.lineTo(x,y)},PointerPath}(graphic_Path);function formatLabel(value,labelFormatter){var label=null==value?"":value+"";return labelFormatter&&(Object(util.isString)(labelFormatter)?label=labelFormatter.replace("{value}",label):Object(util.isFunction)(labelFormatter)&&(label=labelFormatter(value))),label}var GaugeView_GaugeView=function(_super){function GaugeView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GaugeView.type,_this}return __extends(GaugeView,_super),GaugeView.prototype.render=function(seriesModel,ecModel,api){this.group.removeAll();var colorList=seriesModel.get(["axisLine","lineStyle","color"]),posInfo=function parsePosition(seriesModel,api){var center=seriesModel.get("center"),width=api.getWidth(),height=api.getHeight(),size=Math.min(width,height);return{cx:number_parsePercent(center[0],api.getWidth()),cy:number_parsePercent(center[1],api.getHeight()),r:number_parsePercent(seriesModel.get("radius"),size/2)}}(seriesModel,api);this._renderMain(seriesModel,ecModel,api,colorList,posInfo),this._data=seriesModel.getData()},GaugeView.prototype.dispose=function(){},GaugeView.prototype._renderMain=function(seriesModel,ecModel,api,colorList,posInfo){var group=this.group,clockwise=seriesModel.get("clockwise"),startAngle=-seriesModel.get("startAngle")/180*Math.PI,endAngle=-seriesModel.get("endAngle")/180*Math.PI,axisLineModel=seriesModel.getModel("axisLine"),MainPath=axisLineModel.get("roundCap")?sausage:shape_Sector,showAxis=axisLineModel.get("show"),lineStyleModel=axisLineModel.getModel("lineStyle"),axisLineWidth=lineStyleModel.get("width"),angles=[startAngle,endAngle];normalizeArcAngles(angles,!clockwise);for(var angleRangeSpan=(endAngle=angles[1])-(startAngle=angles[0]),prevEndAngle=startAngle,i=0;showAxis&&i<colorList.length;i++){var sector=new MainPath({shape:{startAngle:prevEndAngle,endAngle:endAngle=startAngle+angleRangeSpan*Math.min(Math.max(colorList[i][0],0),1),cx:posInfo.cx,cy:posInfo.cy,clockwise:clockwise,r0:posInfo.r-axisLineWidth,r:posInfo.r},silent:!0});sector.setStyle({fill:colorList[i][1]}),sector.setStyle(lineStyleModel.getLineStyle(["color","width"])),group.add(sector),prevEndAngle=endAngle}var getColor=function(percent){if(percent<=0)return colorList[0][1];var i;for(i=0;i<colorList.length;i++)if(colorList[i][0]>=percent&&(0===i?0:colorList[i-1][0])<percent)return colorList[i][1];return colorList[i-1][1]};this._renderTicks(seriesModel,ecModel,api,getColor,posInfo,startAngle,endAngle,clockwise,axisLineWidth),this._renderTitleAndDetail(seriesModel,ecModel,api,getColor,posInfo),this._renderAnchor(seriesModel,posInfo),this._renderPointer(seriesModel,ecModel,api,getColor,posInfo,startAngle,endAngle,clockwise,axisLineWidth)},GaugeView.prototype._renderTicks=function(seriesModel,ecModel,api,getColor,posInfo,startAngle,endAngle,clockwise,axisLineWidth){for(var unitX,unitY,group=this.group,cx=posInfo.cx,cy=posInfo.cy,r=posInfo.r,minVal=+seriesModel.get("min"),maxVal=+seriesModel.get("max"),splitLineModel=seriesModel.getModel("splitLine"),tickModel=seriesModel.getModel("axisTick"),labelModel=seriesModel.getModel("axisLabel"),splitNumber=seriesModel.get("splitNumber"),subSplitNumber=tickModel.get("splitNumber"),splitLineLen=number_parsePercent(splitLineModel.get("length"),r),tickLen=number_parsePercent(tickModel.get("length"),r),angle=startAngle,step=(endAngle-startAngle)/splitNumber,subStep=step/subSplitNumber,splitLineStyle=splitLineModel.getModel("lineStyle").getLineStyle(),tickLineStyle=tickModel.getModel("lineStyle").getLineStyle(),splitLineDistance=splitLineModel.get("distance"),i=0;i<=splitNumber;i++){if(unitX=Math.cos(angle),unitY=Math.sin(angle),splitLineModel.get("show")){var splitLine=new shape_Line({shape:{x1:unitX*(r-(distance=splitLineDistance?splitLineDistance+axisLineWidth:axisLineWidth))+cx,y1:unitY*(r-distance)+cy,x2:unitX*(r-splitLineLen-distance)+cx,y2:unitY*(r-splitLineLen-distance)+cy},style:splitLineStyle,silent:!0});"auto"===splitLineStyle.stroke&&splitLine.setStyle({stroke:getColor(i/splitNumber)}),group.add(splitLine)}if(labelModel.get("show")){var distance=labelModel.get("distance")+splitLineDistance,label=formatLabel(round(i/splitNumber*(maxVal-minVal)+minVal),labelModel.get("formatter")),autoColor=getColor(i/splitNumber);group.add(new Text({style:createTextStyle(labelModel,{text:label,x:unitX*(r-splitLineLen-distance)+cx,y:unitY*(r-splitLineLen-distance)+cy,verticalAlign:unitY<-.8?"top":unitY>.8?"bottom":"middle",align:unitX<-.4?"left":unitX>.4?"right":"center"},{inheritColor:autoColor}),silent:!0}))}if(tickModel.get("show")&&i!==splitNumber){distance=(distance=tickModel.get("distance"))?distance+axisLineWidth:axisLineWidth;for(var j=0;j<=subSplitNumber;j++){unitX=Math.cos(angle),unitY=Math.sin(angle);var tickLine=new shape_Line({shape:{x1:unitX*(r-distance)+cx,y1:unitY*(r-distance)+cy,x2:unitX*(r-tickLen-distance)+cx,y2:unitY*(r-tickLen-distance)+cy},silent:!0,style:tickLineStyle});"auto"===tickLineStyle.stroke&&tickLine.setStyle({stroke:getColor((i+j/subSplitNumber)/splitNumber)}),group.add(tickLine),angle+=subStep}angle-=subStep}else angle+=step}},GaugeView.prototype._renderPointer=function(seriesModel,ecModel,api,getColor,posInfo,startAngle,endAngle,clockwise,axisLineWidth){var group=this.group,oldData=this._data,oldProgressData=this._progressEls,progressList=[],showPointer=seriesModel.get(["pointer","show"]),progressModel=seriesModel.getModel("progress"),showProgress=progressModel.get("show"),data=seriesModel.getData(),valueDim=data.mapDimension("value"),minVal=+seriesModel.get("min"),maxVal=+seriesModel.get("max"),valueExtent=[minVal,maxVal],angleExtent=[startAngle,endAngle];function createPointer(idx,angle){var pointer,pointerModel=data.getItemModel(idx).getModel("pointer"),pointerWidth=number_parsePercent(pointerModel.get("width"),posInfo.r),pointerLength=number_parsePercent(pointerModel.get("length"),posInfo.r),pointerStr=seriesModel.get(["pointer","icon"]),pointerOffset=pointerModel.get("offsetCenter"),pointerOffsetX=number_parsePercent(pointerOffset[0],posInfo.r),pointerOffsetY=number_parsePercent(pointerOffset[1],posInfo.r),pointerKeepAspect=pointerModel.get("keepAspect");return(pointer=pointerStr?symbol_createSymbol(pointerStr,pointerOffsetX-pointerWidth/2,pointerOffsetY-pointerLength,pointerWidth,pointerLength,null,pointerKeepAspect):new gauge_PointerPath({shape:{angle:-Math.PI/2,width:pointerWidth,r:pointerLength,x:pointerOffsetX,y:pointerOffsetY}})).rotation=-(angle+Math.PI/2),pointer.x=posInfo.cx,pointer.y=posInfo.cy,pointer}function createProgress(idx,endAngle){var ProgressPath=progressModel.get("roundCap")?sausage:shape_Sector,isOverlap=progressModel.get("overlap"),progressWidth=isOverlap?progressModel.get("width"):axisLineWidth/data.count(),r0=isOverlap?posInfo.r-progressWidth:posInfo.r-(idx+1)*progressWidth,r=isOverlap?posInfo.r:posInfo.r-idx*progressWidth,progress=new ProgressPath({shape:{startAngle:startAngle,endAngle:endAngle,cx:posInfo.cx,cy:posInfo.cy,clockwise:clockwise,r0:r0,r:r}});return isOverlap&&(progress.z2=maxVal-data.get(valueDim,idx)%maxVal),progress}(showProgress||showPointer)&&(data.diff(oldData).add((function(idx){var val=data.get(valueDim,idx);if(showPointer){var pointer=createPointer(idx,startAngle);initProps(pointer,{rotation:-((isNaN(+val)?angleExtent[0]:linearMap(val,valueExtent,angleExtent,!0))+Math.PI/2)},seriesModel),group.add(pointer),data.setItemGraphicEl(idx,pointer)}if(showProgress){var progress=createProgress(idx,startAngle),isClip=progressModel.get("clip");initProps(progress,{shape:{endAngle:linearMap(val,valueExtent,angleExtent,isClip)}},seriesModel),group.add(progress),setCommonECData(seriesModel.seriesIndex,data.dataType,idx,progress),progressList[idx]=progress}})).update((function(newIdx,oldIdx){var val=data.get(valueDim,newIdx);if(showPointer){var previousPointer=oldData.getItemGraphicEl(oldIdx),previousRotate=previousPointer?previousPointer.rotation:startAngle,pointer=createPointer(newIdx,previousRotate);pointer.rotation=previousRotate,updateProps(pointer,{rotation:-((isNaN(+val)?angleExtent[0]:linearMap(val,valueExtent,angleExtent,!0))+Math.PI/2)},seriesModel),group.add(pointer),data.setItemGraphicEl(newIdx,pointer)}if(showProgress){var previousProgress=oldProgressData[oldIdx],progress=createProgress(newIdx,previousProgress?previousProgress.shape.endAngle:startAngle),isClip=progressModel.get("clip");updateProps(progress,{shape:{endAngle:linearMap(val,valueExtent,angleExtent,isClip)}},seriesModel),group.add(progress),setCommonECData(seriesModel.seriesIndex,data.dataType,newIdx,progress),progressList[newIdx]=progress}})).execute(),data.each((function(idx){var itemModel=data.getItemModel(idx),emphasisModel=itemModel.getModel("emphasis"),focus=emphasisModel.get("focus"),blurScope=emphasisModel.get("blurScope"),emphasisDisabled=emphasisModel.get("disabled");if(showPointer){var pointer=data.getItemGraphicEl(idx),symbolStyle=data.getItemVisual(idx,"style"),visualColor=symbolStyle.fill;if(pointer instanceof graphic_Image){var pathStyle=pointer.style;pointer.useStyle(Object(util.extend)({image:pathStyle.image,x:pathStyle.x,y:pathStyle.y,width:pathStyle.width,height:pathStyle.height},symbolStyle))}else pointer.useStyle(symbolStyle),"pointer"!==pointer.type&&pointer.setColor(visualColor);pointer.setStyle(itemModel.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===pointer.style.fill&&pointer.setStyle("fill",getColor(linearMap(data.get(valueDim,idx),valueExtent,[0,1],!0))),pointer.z2EmphasisLift=0,setStatesStylesFromModel(pointer,itemModel),toggleHoverEmphasis(pointer,focus,blurScope,emphasisDisabled)}if(showProgress){var progress=progressList[idx];progress.useStyle(data.getItemVisual(idx,"style")),progress.setStyle(itemModel.getModel(["progress","itemStyle"]).getItemStyle()),progress.z2EmphasisLift=0,setStatesStylesFromModel(progress,itemModel),toggleHoverEmphasis(progress,focus,blurScope,emphasisDisabled)}})),this._progressEls=progressList)},GaugeView.prototype._renderAnchor=function(seriesModel,posInfo){var anchorModel=seriesModel.getModel("anchor");if(anchorModel.get("show")){var anchorSize=anchorModel.get("size"),anchorType=anchorModel.get("icon"),offsetCenter=anchorModel.get("offsetCenter"),anchorKeepAspect=anchorModel.get("keepAspect"),anchor=symbol_createSymbol(anchorType,posInfo.cx-anchorSize/2+number_parsePercent(offsetCenter[0],posInfo.r),posInfo.cy-anchorSize/2+number_parsePercent(offsetCenter[1],posInfo.r),anchorSize,anchorSize,null,anchorKeepAspect);anchor.z2=anchorModel.get("showAbove")?1:0,anchor.setStyle(anchorModel.getModel("itemStyle").getItemStyle()),this.group.add(anchor)}},GaugeView.prototype._renderTitleAndDetail=function(seriesModel,ecModel,api,getColor,posInfo){var _this=this,data=seriesModel.getData(),valueDim=data.mapDimension("value"),minVal=+seriesModel.get("min"),maxVal=+seriesModel.get("max"),contentGroup=new graphic_Group,newTitleEls=[],newDetailEls=[],hasAnimation=seriesModel.isAnimationEnabled(),showPointerAbove=seriesModel.get(["pointer","showAbove"]);data.diff(this._data).add((function(idx){newTitleEls[idx]=new Text({silent:!0}),newDetailEls[idx]=new Text({silent:!0})})).update((function(idx,oldIdx){newTitleEls[idx]=_this._titleEls[oldIdx],newDetailEls[idx]=_this._detailEls[oldIdx]})).execute(),data.each((function(idx){var itemModel=data.getItemModel(idx),value=data.get(valueDim,idx),itemGroup=new graphic_Group,autoColor=getColor(linearMap(value,[minVal,maxVal],[0,1],!0)),itemTitleModel=itemModel.getModel("title");if(itemTitleModel.get("show")){var titleOffsetCenter=itemTitleModel.get("offsetCenter"),titleX=posInfo.cx+number_parsePercent(titleOffsetCenter[0],posInfo.r),titleY=posInfo.cy+number_parsePercent(titleOffsetCenter[1],posInfo.r);(labelEl=newTitleEls[idx]).attr({z2:showPointerAbove?0:2,style:createTextStyle(itemTitleModel,{x:titleX,y:titleY,text:data.getName(idx),align:"center",verticalAlign:"middle"},{inheritColor:autoColor})}),itemGroup.add(labelEl)}var itemDetailModel=itemModel.getModel("detail");if(itemDetailModel.get("show")){var detailOffsetCenter=itemDetailModel.get("offsetCenter"),detailX=posInfo.cx+number_parsePercent(detailOffsetCenter[0],posInfo.r),detailY=posInfo.cy+number_parsePercent(detailOffsetCenter[1],posInfo.r),width=number_parsePercent(itemDetailModel.get("width"),posInfo.r),height=number_parsePercent(itemDetailModel.get("height"),posInfo.r),detailColor=seriesModel.get(["progress","show"])?data.getItemVisual(idx,"style").fill:autoColor,labelEl=newDetailEls[idx],formatter_1=itemDetailModel.get("formatter");labelEl.attr({z2:showPointerAbove?0:2,style:createTextStyle(itemDetailModel,{x:detailX,y:detailY,text:formatLabel(value,formatter_1),width:isNaN(width)?null:width,height:isNaN(height)?null:height,align:"center",verticalAlign:"middle"},{inheritColor:detailColor})}),setLabelValueAnimation(labelEl,{normal:itemDetailModel},value,(function(value){return formatLabel(value,formatter_1)})),hasAnimation&&animateLabelValue(labelEl,idx,data,seriesModel,{getFormattedLabel:function(labelDataIndex,status,dataType,labelDimIndex,fmt,extendParams){return formatLabel(extendParams?extendParams.interpolatedValue:value,formatter_1)}}),itemGroup.add(labelEl)}contentGroup.add(itemGroup)})),this.group.add(contentGroup),this._titleEls=newTitleEls,this._detailEls=newDetailEls},GaugeView.type="gauge",GaugeView}(Chart),gauge_GaugeView=GaugeView_GaugeView,GaugeSeries_GaugeSeriesModel=function(_super){function GaugeSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GaugeSeriesModel.type,_this.visualStyleAccessPath="itemStyle",_this}return __extends(GaugeSeriesModel,_super),GaugeSeriesModel.prototype.getInitialData=function(option,ecModel){return createSeriesDataSimply(this,["value"])},GaugeSeriesModel.type="series.gauge",GaugeSeriesModel.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},GaugeSeriesModel}(Series),GaugeSeries=GaugeSeries_GaugeSeriesModel;var opacityAccessPath=["itemStyle","opacity"],FunnelView_FunnelPiece=function(_super){function FunnelPiece(data,idx){var _this=_super.call(this)||this,polygon=_this,labelLine=new shape_Polyline,text=new Text;return polygon.setTextContent(text),_this.setTextGuideLine(labelLine),_this.updateData(data,idx,!0),_this}return __extends(FunnelPiece,_super),FunnelPiece.prototype.updateData=function(data,idx,firstCreate){var seriesModel=data.hostModel,itemModel=data.getItemModel(idx),layout=data.getItemLayout(idx),emphasisModel=itemModel.getModel("emphasis"),opacity=itemModel.get(opacityAccessPath);opacity=null==opacity?1:opacity,firstCreate||saveOldStyle(this),this.useStyle(data.getItemVisual(idx,"style")),this.style.lineJoin="round",firstCreate?(this.setShape({points:layout.points}),this.style.opacity=0,initProps(this,{style:{opacity:opacity}},seriesModel,idx)):updateProps(this,{style:{opacity:opacity},shape:{points:layout.points}},seriesModel,idx),setStatesStylesFromModel(this,itemModel),this._updateLabel(data,idx),toggleHoverEmphasis(this,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled"))},FunnelPiece.prototype._updateLabel=function(data,idx){var labelLine=this.getTextGuideLine(),labelText=this.getTextContent(),seriesModel=data.hostModel,itemModel=data.getItemModel(idx),labelLayout=data.getItemLayout(idx).label,style=data.getItemVisual(idx,"style"),visualColor=style.fill;setLabelStyle(labelText,getLabelStatesModels(itemModel),{labelFetcher:data.hostModel,labelDataIndex:idx,defaultOpacity:style.opacity,defaultText:data.getName(idx)},{normal:{align:labelLayout.textAlign,verticalAlign:labelLayout.verticalAlign}}),this.setTextConfig({local:!0,inside:!!labelLayout.inside,insideStroke:visualColor,outsideFill:visualColor});var linePoints=labelLayout.linePoints;labelLine.setShape({points:linePoints}),this.textGuideLineConfig={anchor:linePoints?new core_Point(linePoints[0][0],linePoints[0][1]):null},updateProps(labelText,{style:{x:labelLayout.x,y:labelLayout.y}},seriesModel,idx),labelText.attr({rotation:labelLayout.rotation,originX:labelLayout.x,originY:labelLayout.y,z2:10}),setLabelLineStyle(this,getLabelLineStatesModels(itemModel),{stroke:visualColor})},FunnelPiece}(shape_Polygon),FunnelView_FunnelView=function(_super){function FunnelView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=FunnelView.type,_this.ignoreLabelLineUpdate=!0,_this}return __extends(FunnelView,_super),FunnelView.prototype.render=function(seriesModel,ecModel,api){var data=seriesModel.getData(),oldData=this._data,group=this.group;data.diff(oldData).add((function(idx){var funnelPiece=new FunnelView_FunnelPiece(data,idx);data.setItemGraphicEl(idx,funnelPiece),group.add(funnelPiece)})).update((function(newIdx,oldIdx){var piece=oldData.getItemGraphicEl(oldIdx);piece.updateData(data,newIdx),group.add(piece),data.setItemGraphicEl(newIdx,piece)})).remove((function(idx){removeElementWithFadeOut(oldData.getItemGraphicEl(idx),seriesModel,idx)})).execute(),this._data=data},FunnelView.prototype.remove=function(){this.group.removeAll(),this._data=null},FunnelView.prototype.dispose=function(){},FunnelView.type="funnel",FunnelView}(Chart),funnel_FunnelView=FunnelView_FunnelView,FunnelSeries_FunnelSeriesModel=function(_super){function FunnelSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=FunnelSeriesModel.type,_this}return __extends(FunnelSeriesModel,_super),FunnelSeriesModel.prototype.init=function(option){_super.prototype.init.apply(this,arguments),this.legendVisualProvider=new visual_LegendVisualProvider(util.bind(this.getData,this),util.bind(this.getRawData,this)),this._defaultLabelLine(option)},FunnelSeriesModel.prototype.getInitialData=function(option,ecModel){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:util.curry(makeSeriesEncodeForNameBased,this)})},FunnelSeriesModel.prototype._defaultLabelLine=function(option){defaultEmphasis(option,"labelLine",["show"]);var labelLineNormalOpt=option.labelLine,labelLineEmphasisOpt=option.emphasis.labelLine;labelLineNormalOpt.show=labelLineNormalOpt.show&&option.label.show,labelLineEmphasisOpt.show=labelLineEmphasisOpt.show&&option.emphasis.label.show},FunnelSeriesModel.prototype.getDataParams=function(dataIndex){var data=this.getData(),params=_super.prototype.getDataParams.call(this,dataIndex),valueDim=data.mapDimension("value"),sum=data.getSum(valueDim);return params.percent=sum?+(data.get(valueDim,dataIndex)/sum*100).toFixed(2):0,params.$vars.push("percent"),params},FunnelSeriesModel.type="series.funnel",FunnelSeriesModel.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},FunnelSeriesModel}(Series),FunnelSeries=FunnelSeries_FunnelSeriesModel;function funnelLayout(ecModel,api){ecModel.eachSeriesByType("funnel",(function(seriesModel){var data=seriesModel.getData(),valueDim=data.mapDimension("value"),sort=seriesModel.get("sort"),viewRect=function funnelLayout_getViewRect(seriesModel,api){return getLayoutRect(seriesModel.getBoxLayoutParams(),{width:api.getWidth(),height:api.getHeight()})}(seriesModel,api),orient=seriesModel.get("orient"),viewWidth=viewRect.width,viewHeight=viewRect.height,indices=function getSortedIndices(data,sort){for(var valueDim=data.mapDimension("value"),valueArr=data.mapArray(valueDim,(function(val){return val})),indices=[],isAscending="ascending"===sort,i=0,len=data.count();i<len;i++)indices[i]=i;return Object(util.isFunction)(sort)?indices.sort(sort):"none"!==sort&&indices.sort((function(a,b){return isAscending?valueArr[a]-valueArr[b]:valueArr[b]-valueArr[a]})),indices}(data,sort),x=viewRect.x,y=viewRect.y,sizeExtent="horizontal"===orient?[number_parsePercent(seriesModel.get("minSize"),viewHeight),number_parsePercent(seriesModel.get("maxSize"),viewHeight)]:[number_parsePercent(seriesModel.get("minSize"),viewWidth),number_parsePercent(seriesModel.get("maxSize"),viewWidth)],dataExtent=data.getDataExtent(valueDim),min=seriesModel.get("min"),max=seriesModel.get("max");null==min&&(min=Math.min(dataExtent[0],0)),null==max&&(max=dataExtent[1]);var funnelAlign=seriesModel.get("funnelAlign"),gap=seriesModel.get("gap"),itemSize=(("horizontal"===orient?viewWidth:viewHeight)-gap*(data.count()-1))/data.count(),getLinePoints=function(idx,offset){if("horizontal"===orient){var itemHeight=linearMap(data.get(valueDim,idx)||0,[min,max],sizeExtent,!0),y0=void 0;switch(funnelAlign){case"top":y0=y;break;case"center":y0=y+(viewHeight-itemHeight)/2;break;case"bottom":y0=y+(viewHeight-itemHeight)}return[[offset,y0],[offset,y0+itemHeight]]}var x0,itemWidth=linearMap(data.get(valueDim,idx)||0,[min,max],sizeExtent,!0);switch(funnelAlign){case"left":x0=x;break;case"center":x0=x+(viewWidth-itemWidth)/2;break;case"right":x0=x+viewWidth-itemWidth}return[[x0,offset],[x0+itemWidth,offset]]};"ascending"===sort&&(itemSize=-itemSize,gap=-gap,"horizontal"===orient?x+=viewWidth:y+=viewHeight,indices=indices.reverse());for(var i=0;i<indices.length;i++){var idx=indices[i],nextIdx=indices[i+1],itemModel=data.getItemModel(idx);if("horizontal"===orient){var width=itemModel.get(["itemStyle","width"]);null==width?width=itemSize:(width=number_parsePercent(width,viewWidth),"ascending"===sort&&(width=-width));var start=getLinePoints(idx,x),end=getLinePoints(nextIdx,x+width);x+=width+gap,data.setItemLayout(idx,{points:start.concat(end.slice().reverse())})}else{var height=itemModel.get(["itemStyle","height"]);null==height?height=itemSize:(height=number_parsePercent(height,viewHeight),"ascending"===sort&&(height=-height));start=getLinePoints(idx,y),end=getLinePoints(nextIdx,y+height);y+=height+gap,data.setItemLayout(idx,{points:start.concat(end.slice().reverse())})}}!function funnelLayout_labelLayout(data){var orient=data.hostModel.get("orient");data.each((function(idx){var textAlign,textX,textY,linePoints,itemModel=data.getItemModel(idx),labelPosition=itemModel.getModel("label").get("position"),labelLineModel=itemModel.getModel("labelLine"),layout=data.getItemLayout(idx),points=layout.points,isLabelInside="inner"===labelPosition||"inside"===labelPosition||"center"===labelPosition||"insideLeft"===labelPosition||"insideRight"===labelPosition;if(isLabelInside)"insideLeft"===labelPosition?(textX=(points[0][0]+points[3][0])/2+5,textY=(points[0][1]+points[3][1])/2,textAlign="left"):"insideRight"===labelPosition?(textX=(points[1][0]+points[2][0])/2-5,textY=(points[1][1]+points[2][1])/2,textAlign="right"):(textX=(points[0][0]+points[1][0]+points[2][0]+points[3][0])/4,textY=(points[0][1]+points[1][1]+points[2][1]+points[3][1])/4,textAlign="center"),linePoints=[[textX,textY],[textX,textY]];else{var x1=void 0,y1=void 0,x2=void 0,y2=void 0,labelLineLen=labelLineModel.get("length");"left"===labelPosition?(x1=(points[3][0]+points[0][0])/2,y1=(points[3][1]+points[0][1])/2,textX=(x2=x1-labelLineLen)-5,textAlign="right"):"right"===labelPosition?(x1=(points[1][0]+points[2][0])/2,y1=(points[1][1]+points[2][1])/2,textX=(x2=x1+labelLineLen)+5,textAlign="left"):"top"===labelPosition?(x1=(points[3][0]+points[0][0])/2,textY=(y2=(y1=(points[3][1]+points[0][1])/2)-labelLineLen)-5,textAlign="center"):"bottom"===labelPosition?(x1=(points[1][0]+points[2][0])/2,textY=(y2=(y1=(points[1][1]+points[2][1])/2)+labelLineLen)+5,textAlign="center"):"rightTop"===labelPosition?(x1="horizontal"===orient?points[3][0]:points[1][0],y1="horizontal"===orient?points[3][1]:points[1][1],"horizontal"===orient?(textY=(y2=y1-labelLineLen)-5,textAlign="center"):(textX=(x2=x1+labelLineLen)+5,textAlign="top")):"rightBottom"===labelPosition?(x1=points[2][0],y1=points[2][1],"horizontal"===orient?(textY=(y2=y1+labelLineLen)+5,textAlign="center"):(textX=(x2=x1+labelLineLen)+5,textAlign="bottom")):"leftTop"===labelPosition?(x1=points[0][0],y1="horizontal"===orient?points[0][1]:points[1][1],"horizontal"===orient?(textY=(y2=y1-labelLineLen)-5,textAlign="center"):(textX=(x2=x1-labelLineLen)-5,textAlign="right")):"leftBottom"===labelPosition?(x1="horizontal"===orient?points[1][0]:points[3][0],y1="horizontal"===orient?points[1][1]:points[2][1],"horizontal"===orient?(textY=(y2=y1+labelLineLen)+5,textAlign="center"):(textX=(x2=x1-labelLineLen)-5,textAlign="right")):(x1=(points[1][0]+points[2][0])/2,y1=(points[1][1]+points[2][1])/2,"horizontal"===orient?(textY=(y2=y1+labelLineLen)+5,textAlign="center"):(textX=(x2=x1+labelLineLen)+5,textAlign="left")),"horizontal"===orient?textX=x2=x1:textY=y2=y1,linePoints=[[x1,y1],[x2,y2]]}layout.label={linePoints:linePoints,x:textX,y:textY,verticalAlign:"middle",textAlign:textAlign,inside:isLabelInside}}))}(data)}))}var ParallelView_ParallelView=function(_super){function ParallelView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ParallelView.type,_this._dataGroup=new graphic_Group,_this._initialized=!1,_this}return __extends(ParallelView,_super),ParallelView.prototype.init=function(){this.group.add(this._dataGroup)},ParallelView.prototype.render=function(seriesModel,ecModel,api,payload){this._progressiveEls=null;var dataGroup=this._dataGroup,data=seriesModel.getData(),oldData=this._data,coordSys=seriesModel.coordinateSystem,dimensions=coordSys.dimensions,seriesScope=ParallelView_makeSeriesScope(seriesModel);if(data.diff(oldData).add((function add(newDataIndex){updateElCommon(addEl(data,dataGroup,newDataIndex,dimensions,coordSys),data,newDataIndex,seriesScope)})).update((function update(newDataIndex,oldDataIndex){var line=oldData.getItemGraphicEl(oldDataIndex),points=createLinePoints(data,newDataIndex,dimensions,coordSys);data.setItemGraphicEl(newDataIndex,line),updateProps(line,{shape:{points:points}},seriesModel,newDataIndex),saveOldStyle(line),updateElCommon(line,data,newDataIndex,seriesScope)})).remove((function remove(oldDataIndex){var line=oldData.getItemGraphicEl(oldDataIndex);dataGroup.remove(line)})).execute(),!this._initialized){this._initialized=!0;var clipPath=function createGridClipShape(coordSys,seriesModel,cb){var parallelModel=coordSys.model,rect=coordSys.getRect(),rectEl=new shape_Rect({shape:{x:rect.x,y:rect.y,width:rect.width,height:rect.height}}),dim="horizontal"===parallelModel.get("layout")?"width":"height";return rectEl.setShape(dim,0),initProps(rectEl,{shape:{width:rect.width,height:rect.height}},seriesModel,cb),rectEl}(coordSys,seriesModel,(function(){setTimeout((function(){dataGroup.removeClipPath()}))}));dataGroup.setClipPath(clipPath)}this._data=data},ParallelView.prototype.incrementalPrepareRender=function(seriesModel,ecModel,api){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},ParallelView.prototype.incrementalRender=function(taskParams,seriesModel,ecModel){for(var data=seriesModel.getData(),coordSys=seriesModel.coordinateSystem,dimensions=coordSys.dimensions,seriesScope=ParallelView_makeSeriesScope(seriesModel),progressiveEls=this._progressiveEls=[],dataIndex=taskParams.start;dataIndex<taskParams.end;dataIndex++){var line=addEl(data,this._dataGroup,dataIndex,dimensions,coordSys);line.incremental=!0,updateElCommon(line,data,dataIndex,seriesScope),progressiveEls.push(line)}},ParallelView.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},ParallelView.type="parallel",ParallelView}(Chart);function createLinePoints(data,dataIndex,dimensions,coordSys){for(var val,points=[],i=0;i<dimensions.length;i++){var dimName=dimensions[i],value=data.get(data.mapDimension(dimName),dataIndex);val=value,("category"===coordSys.getAxis(dimName).type?null==val:null==val||isNaN(val))||points.push(coordSys.dataToPoint(value,dimName))}return points}function addEl(data,dataGroup,dataIndex,dimensions,coordSys){var points=createLinePoints(data,dataIndex,dimensions,coordSys),line=new shape_Polyline({shape:{points:points},z2:10});return dataGroup.add(line),data.setItemGraphicEl(dataIndex,line),line}function ParallelView_makeSeriesScope(seriesModel){var smooth=seriesModel.get("smooth",!0);return!0===smooth&&(smooth=.3),smooth=numericToNumber(smooth),Object(util.eqNaN)(smooth)&&(smooth=0),{smooth:smooth}}function updateElCommon(el,data,dataIndex,seriesScope){el.useStyle(data.getItemVisual(dataIndex,"style")),el.style.fill=null,el.setShape("smooth",seriesScope.smooth);var itemModel=data.getItemModel(dataIndex),emphasisModel=itemModel.getModel("emphasis");setStatesStylesFromModel(el,itemModel,"lineStyle"),toggleHoverEmphasis(el,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled"))}var parallel_ParallelView=ParallelView_ParallelView,ParallelSeries_ParallelSeriesModel=function(_super){function ParallelSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ParallelSeriesModel.type,_this.visualStyleAccessPath="lineStyle",_this.visualDrawType="stroke",_this}return __extends(ParallelSeriesModel,_super),ParallelSeriesModel.prototype.getInitialData=function(option,ecModel){return helper_createSeriesData(null,this,{useEncodeDefaulter:Object(util.bind)(makeDefaultEncode,null,this)})},ParallelSeriesModel.prototype.getRawIndicesByActiveState=function(activeState){var coordSys=this.coordinateSystem,data=this.getData(),indices=[];return coordSys.eachActiveState(data,(function(theActiveState,dataIndex){activeState===theActiveState&&indices.push(data.getRawIndex(dataIndex))})),indices},ParallelSeriesModel.type="series.parallel",ParallelSeriesModel.dependencies=["parallel"],ParallelSeriesModel.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},ParallelSeriesModel}(Series);function makeDefaultEncode(seriesModel){var parallelModel=seriesModel.ecModel.getComponent("parallel",seriesModel.get("parallelIndex"));if(parallelModel){var encodeDefine={};return Object(util.each)(parallelModel.dimensions,(function(axisDim){var dataDimIndex=function convertDimNameToNumber(dimName){return+dimName.replace("dim","")}(axisDim);encodeDefine[axisDim]=dataDimIndex})),encodeDefine}}var ParallelSeries=ParallelSeries_ParallelSeriesModel,parallelVisual_opacityAccessPath=["lineStyle","opacity"],parallel_parallelVisual={seriesType:"parallel",reset:function(seriesModel,ecModel){var coordSys=seriesModel.coordinateSystem,opacityMap={normal:seriesModel.get(["lineStyle","opacity"]),active:seriesModel.get("activeOpacity"),inactive:seriesModel.get("inactiveOpacity")};return{progress:function(params,data){coordSys.eachActiveState(data,(function(activeState,dataIndex){var opacity=opacityMap[activeState];if("normal"===activeState&&data.hasItemOption){var itemOpacity=data.getItemModel(dataIndex).get(parallelVisual_opacityAccessPath,!0);null!=itemOpacity&&(opacity=itemOpacity)}data.ensureUniqueItemVisual(dataIndex,"style").opacity=opacity}),params.start,params.end)}}}};function parallelPreprocessor(option){!function createParallelIfNeeded(option){if(option.parallel)return;var hasParallelSeries=!1;util.each(option.series,(function(seriesOpt){seriesOpt&&"parallel"===seriesOpt.type&&(hasParallelSeries=!0)})),hasParallelSeries&&(option.parallel=[{}])}(option),function mergeAxisOptionFromParallel(option){var axes=normalizeToArray(option.parallelAxis);util.each(axes,(function(axisOption){if(util.isObject(axisOption)){var parallelIndex=axisOption.parallelIndex||0,parallelOption=normalizeToArray(option.parallel)[parallelIndex];parallelOption&&parallelOption.parallelAxisDefault&&util.merge(axisOption,parallelOption.parallelAxisDefault,!1)}}))}(option)}var parallel_ParallelView_ParallelView=function(_super){function ParallelView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ParallelView.type,_this}return __extends(ParallelView,_super),ParallelView.prototype.render=function(parallelModel,ecModel,api){this._model=parallelModel,this._api=api,this._handlers||(this._handlers={},Object(util.each)(handlers,(function(handler,eventName){api.getZr().on(eventName,this._handlers[eventName]=Object(util.bind)(handler,this))}),this)),createOrUpdate(this,"_throttledDispatchExpand",parallelModel.get("axisExpandRate"),"fixRate")},ParallelView.prototype.dispose=function(ecModel,api){clear(this,"_throttledDispatchExpand"),Object(util.each)(this._handlers,(function(handler,eventName){api.getZr().off(eventName,handler)})),this._handlers=null},ParallelView.prototype._throttledDispatchExpand=function(opt){this._dispatchExpand(opt)},ParallelView.prototype._dispatchExpand=function(opt){opt&&this._api.dispatchAction(Object(util.extend)({type:"parallelAxisExpand"},opt))},ParallelView.type="parallel",ParallelView}(view_Component),handlers={mousedown:function(e){checkTrigger(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var mouseDownPoint=this._mouseDownPoint;if(checkTrigger(this,"click")&&mouseDownPoint){var point=[e.offsetX,e.offsetY];if(Math.pow(mouseDownPoint[0]-point[0],2)+Math.pow(mouseDownPoint[1]-point[1],2)>5)return;var result=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==result.behavior&&this._dispatchExpand({axisExpandWindow:result.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&checkTrigger(this,"mousemove")){var model=this._model,result=model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),behavior=result.behavior;"jump"===behavior&&this._throttledDispatchExpand.debounceNextCall(model.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===behavior?null:{axisExpandWindow:result.axisExpandWindow,animation:"jump"===behavior?null:{duration:0}})}}};function checkTrigger(view,triggerOn){var model=view._model;return model.get("axisExpandable")&&model.get("axisExpandTriggerOn")===triggerOn}var component_parallel_ParallelView=parallel_ParallelView_ParallelView,ParallelModel_ParallelModel=function(_super){function ParallelModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ParallelModel.type,_this}return __extends(ParallelModel,_super),ParallelModel.prototype.init=function(){_super.prototype.init.apply(this,arguments),this.mergeOption({})},ParallelModel.prototype.mergeOption=function(newOption){var thisOption=this.option;newOption&&util.merge(thisOption,newOption,!0),this._initDimensions()},ParallelModel.prototype.contains=function(model,ecModel){var parallelIndex=model.get("parallelIndex");return null!=parallelIndex&&ecModel.getComponent("parallel",parallelIndex)===this},ParallelModel.prototype.setAxisExpand=function(opt){util.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(name){opt.hasOwnProperty(name)&&(this.option[name]=opt[name])}),this)},ParallelModel.prototype._initDimensions=function(){var dimensions=this.dimensions=[],parallelAxisIndex=this.parallelAxisIndex=[],axisModels=util.filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(axisModel){return(axisModel.get("parallelIndex")||0)===this.componentIndex}),this);util.each(axisModels,(function(axisModel){dimensions.push("dim"+axisModel.get("dim")),parallelAxisIndex.push(axisModel.componentIndex)}))},ParallelModel.type="parallel",ParallelModel.dependencies=["parallelAxis"],ParallelModel.layoutMode="box",ParallelModel.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},ParallelModel}(Component),parallel_ParallelModel=ParallelModel_ParallelModel,parallel_ParallelAxis=function(_super){function ParallelAxis(dim,scale,coordExtent,axisType,axisIndex){var _this=_super.call(this,dim,scale,coordExtent)||this;return _this.type=axisType||"value",_this.axisIndex=axisIndex,_this}return __extends(ParallelAxis,_super),ParallelAxis.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},ParallelAxis}(coord_Axis);function sliderMove(delta,handleEnds,extent,handleIndex,minSpan,maxSpan){delta=delta||0;var extentSpan=extent[1]-extent[0];if(null!=minSpan&&(minSpan=restrict(minSpan,[0,extentSpan])),null!=maxSpan&&(maxSpan=Math.max(maxSpan,null!=minSpan?minSpan:0)),"all"===handleIndex){var handleSpan=Math.abs(handleEnds[1]-handleEnds[0]);handleSpan=restrict(handleSpan,[0,extentSpan]),minSpan=maxSpan=restrict(handleSpan,[minSpan,maxSpan]),handleIndex=0}handleEnds[0]=restrict(handleEnds[0],extent),handleEnds[1]=restrict(handleEnds[1],extent);var originalDistSign=getSpanSign(handleEnds,handleIndex);handleEnds[handleIndex]+=delta;var currDistSign,extentMinSpan=minSpan||0,realExtent=extent.slice();return originalDistSign.sign<0?realExtent[0]+=extentMinSpan:realExtent[1]-=extentMinSpan,handleEnds[handleIndex]=restrict(handleEnds[handleIndex],realExtent),currDistSign=getSpanSign(handleEnds,handleIndex),null!=minSpan&&(currDistSign.sign!==originalDistSign.sign||currDistSign.span<minSpan)&&(handleEnds[1-handleIndex]=handleEnds[handleIndex]+originalDistSign.sign*minSpan),currDistSign=getSpanSign(handleEnds,handleIndex),null!=maxSpan&&currDistSign.span>maxSpan&&(handleEnds[1-handleIndex]=handleEnds[handleIndex]+currDistSign.sign*maxSpan),handleEnds}function getSpanSign(handleEnds,handleIndex){var dist=handleEnds[handleIndex]-handleEnds[1-handleIndex];return{span:Math.abs(dist),sign:dist>0?-1:dist<0?1:handleIndex?-1:1}}function restrict(value,extend){return Math.min(null!=extend[1]?extend[1]:1/0,Math.max(null!=extend[0]?extend[0]:-1/0,value))}var Parallel_each=util.each,Parallel_mathMin=Math.min,Parallel_mathMax=Math.max,Parallel_mathFloor=Math.floor,Parallel_mathCeil=Math.ceil,Parallel_round=round,Parallel_PI=Math.PI;function Parallel_restrict(len,extent){return Parallel_mathMin(Parallel_mathMax(len,extent[0]),extent[1])}function layoutAxisWithoutExpand(axisIndex,layoutInfo){var step=layoutInfo.layoutLength/(layoutInfo.axisCount-1);return{position:step*axisIndex,axisNameAvailableWidth:step,axisLabelShow:!0}}function layoutAxisWithExpand(axisIndex,layoutInfo){var position,nameTruncateMaxWidth,layoutLength=layoutInfo.layoutLength,axisExpandWidth=layoutInfo.axisExpandWidth,axisCount=layoutInfo.axisCount,axisCollapseWidth=layoutInfo.axisCollapseWidth,winInnerIndices=layoutInfo.winInnerIndices,axisNameAvailableWidth=axisCollapseWidth,axisLabelShow=!1;return axisIndex<winInnerIndices[0]?(position=axisIndex*axisCollapseWidth,nameTruncateMaxWidth=axisCollapseWidth):axisIndex<=winInnerIndices[1]?(position=layoutInfo.axisExpandWindow0Pos+axisIndex*axisExpandWidth-layoutInfo.axisExpandWindow[0],axisNameAvailableWidth=axisExpandWidth,axisLabelShow=!0):(position=layoutLength-(axisCount-1-axisIndex)*axisCollapseWidth,nameTruncateMaxWidth=axisCollapseWidth),{position:position,axisNameAvailableWidth:axisNameAvailableWidth,axisLabelShow:axisLabelShow,nameTruncateMaxWidth:nameTruncateMaxWidth}}var parallel_Parallel=function(){function Parallel(parallelModel,ecModel,api){this.type="parallel",this._axesMap=util.createHashMap(),this._axesLayout={},this.dimensions=parallelModel.dimensions,this._model=parallelModel,this._init(parallelModel,ecModel,api)}return Parallel.prototype._init=function(parallelModel,ecModel,api){var dimensions=parallelModel.dimensions,parallelAxisIndex=parallelModel.parallelAxisIndex;Parallel_each(dimensions,(function(dim,idx){var axisIndex=parallelAxisIndex[idx],axisModel=ecModel.getComponent("parallelAxis",axisIndex),axis=this._axesMap.set(dim,new parallel_ParallelAxis(dim,createScaleByModel(axisModel),[0,0],axisModel.get("type"),axisIndex)),isCategory="category"===axis.type;axis.onBand=isCategory&&axisModel.get("boundaryGap"),axis.inverse=axisModel.get("inverse"),axisModel.axis=axis,axis.model=axisModel,axis.coordinateSystem=axisModel.coordinateSystem=this}),this)},Parallel.prototype.update=function(ecModel,api){this._updateAxesFromSeries(this._model,ecModel)},Parallel.prototype.containPoint=function(point){var layoutInfo=this._makeLayoutInfo(),axisBase=layoutInfo.axisBase,layoutBase=layoutInfo.layoutBase,pixelDimIndex=layoutInfo.pixelDimIndex,pAxis=point[1-pixelDimIndex],pLayout=point[pixelDimIndex];return pAxis>=axisBase&&pAxis<=axisBase+layoutInfo.axisLength&&pLayout>=layoutBase&&pLayout<=layoutBase+layoutInfo.layoutLength},Parallel.prototype.getModel=function(){return this._model},Parallel.prototype._updateAxesFromSeries=function(parallelModel,ecModel){ecModel.eachSeries((function(seriesModel){if(parallelModel.contains(seriesModel,ecModel)){var data=seriesModel.getData();Parallel_each(this.dimensions,(function(dim){var axis=this._axesMap.get(dim);axis.scale.unionExtentFromData(data,data.mapDimension(dim)),niceScaleExtent(axis.scale,axis.model)}),this)}}),this)},Parallel.prototype.resize=function(parallelModel,api){this._rect=getLayoutRect(parallelModel.getBoxLayoutParams(),{width:api.getWidth(),height:api.getHeight()}),this._layoutAxes()},Parallel.prototype.getRect=function(){return this._rect},Parallel.prototype._makeLayoutInfo=function(){var winSize,parallelModel=this._model,rect=this._rect,xy=["x","y"],wh=["width","height"],layout=parallelModel.get("layout"),pixelDimIndex="horizontal"===layout?0:1,layoutLength=rect[wh[pixelDimIndex]],layoutExtent=[0,layoutLength],axisCount=this.dimensions.length,axisExpandWidth=Parallel_restrict(parallelModel.get("axisExpandWidth"),layoutExtent),axisExpandCount=Parallel_restrict(parallelModel.get("axisExpandCount")||0,[0,axisCount]),axisExpandable=parallelModel.get("axisExpandable")&&axisCount>3&&axisCount>axisExpandCount&&axisExpandCount>1&&axisExpandWidth>0&&layoutLength>0,axisExpandWindow=parallelModel.get("axisExpandWindow");axisExpandWindow?(winSize=Parallel_restrict(axisExpandWindow[1]-axisExpandWindow[0],layoutExtent),axisExpandWindow[1]=axisExpandWindow[0]+winSize):(winSize=Parallel_restrict(axisExpandWidth*(axisExpandCount-1),layoutExtent),(axisExpandWindow=[axisExpandWidth*(parallelModel.get("axisExpandCenter")||Parallel_mathFloor(axisCount/2))-winSize/2])[1]=axisExpandWindow[0]+winSize);var axisCollapseWidth=(layoutLength-winSize)/(axisCount-axisExpandCount);axisCollapseWidth<3&&(axisCollapseWidth=0);var winInnerIndices=[Parallel_mathFloor(Parallel_round(axisExpandWindow[0]/axisExpandWidth,1))+1,Parallel_mathCeil(Parallel_round(axisExpandWindow[1]/axisExpandWidth,1))-1],axisExpandWindow0Pos=axisCollapseWidth/axisExpandWidth*axisExpandWindow[0];return{layout:layout,pixelDimIndex:pixelDimIndex,layoutBase:rect[xy[pixelDimIndex]],layoutLength:layoutLength,axisBase:rect[xy[1-pixelDimIndex]],axisLength:rect[wh[1-pixelDimIndex]],axisExpandable:axisExpandable,axisExpandWidth:axisExpandWidth,axisCollapseWidth:axisCollapseWidth,axisExpandWindow:axisExpandWindow,axisCount:axisCount,winInnerIndices:winInnerIndices,axisExpandWindow0Pos:axisExpandWindow0Pos}},Parallel.prototype._layoutAxes=function(){var rect=this._rect,axes=this._axesMap,dimensions=this.dimensions,layoutInfo=this._makeLayoutInfo(),layout=layoutInfo.layout;axes.each((function(axis){var axisExtent=[0,layoutInfo.axisLength],idx=axis.inverse?1:0;axis.setExtent(axisExtent[idx],axisExtent[1-idx])})),Parallel_each(dimensions,(function(dim,idx){var posInfo=(layoutInfo.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(idx,layoutInfo),positionTable={horizontal:{x:posInfo.position,y:layoutInfo.axisLength},vertical:{x:0,y:posInfo.position}},rotationTable={horizontal:Parallel_PI/2,vertical:0},position=[positionTable[layout].x+rect.x,positionTable[layout].y+rect.y],rotation=rotationTable[layout],transform=[1,0,0,1,0,0];matrix_rotate(transform,transform,rotation),matrix_translate(transform,transform,position),this._axesLayout[dim]={position:position,rotation:rotation,transform:transform,axisNameAvailableWidth:posInfo.axisNameAvailableWidth,axisLabelShow:posInfo.axisLabelShow,nameTruncateMaxWidth:posInfo.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},Parallel.prototype.getAxis=function(dim){return this._axesMap.get(dim)},Parallel.prototype.dataToPoint=function(value,dim){return this.axisCoordToPoint(this._axesMap.get(dim).dataToCoord(value),dim)},Parallel.prototype.eachActiveState=function(data,callback,start,end){null==start&&(start=0),null==end&&(end=data.count());var axesMap=this._axesMap,dimensions=this.dimensions,dataDimensions=[],axisModels=[];util.each(dimensions,(function(axisDim){dataDimensions.push(data.mapDimension(axisDim)),axisModels.push(axesMap.get(axisDim).model)}));for(var hasActiveSet=this.hasAxisBrushed(),dataIndex=start;dataIndex<end;dataIndex++){var activeState=void 0;if(hasActiveSet){activeState="active";for(var values=data.getValues(dataDimensions,dataIndex),j=0,lenj=dimensions.length;j<lenj;j++){if("inactive"===axisModels[j].getActiveState(values[j])){activeState="inactive";break}}}else activeState="normal";callback(activeState,dataIndex)}},Parallel.prototype.hasAxisBrushed=function(){for(var dimensions=this.dimensions,axesMap=this._axesMap,hasActiveSet=!1,j=0,lenj=dimensions.length;j<lenj;j++)"normal"!==axesMap.get(dimensions[j]).model.getActiveState()&&(hasActiveSet=!0);return hasActiveSet},Parallel.prototype.axisCoordToPoint=function(coord,dim){return graphic_applyTransform([coord,0],this._axesLayout[dim].transform)},Parallel.prototype.getAxisLayout=function(dim){return util.clone(this._axesLayout[dim])},Parallel.prototype.getSlidedAxisExpandWindow=function(point){var layoutInfo=this._makeLayoutInfo(),pixelDimIndex=layoutInfo.pixelDimIndex,axisExpandWindow=layoutInfo.axisExpandWindow.slice(),winSize=axisExpandWindow[1]-axisExpandWindow[0],extent=[0,layoutInfo.axisExpandWidth*(layoutInfo.axisCount-1)];if(!this.containPoint(point))return{behavior:"none",axisExpandWindow:axisExpandWindow};var delta,pointCoord=point[pixelDimIndex]-layoutInfo.layoutBase-layoutInfo.axisExpandWindow0Pos,behavior="slide",axisCollapseWidth=layoutInfo.axisCollapseWidth,triggerArea=this._model.get("axisExpandSlideTriggerArea"),useJump=null!=triggerArea[0];if(axisCollapseWidth)useJump&&axisCollapseWidth&&pointCoord<winSize*triggerArea[0]?(behavior="jump",delta=pointCoord-winSize*triggerArea[2]):useJump&&axisCollapseWidth&&pointCoord>winSize*(1-triggerArea[0])?(behavior="jump",delta=pointCoord-winSize*(1-triggerArea[2])):(delta=pointCoord-winSize*triggerArea[1])>=0&&(delta=pointCoord-winSize*(1-triggerArea[1]))<=0&&(delta=0),(delta*=layoutInfo.axisExpandWidth/axisCollapseWidth)?sliderMove(delta,axisExpandWindow,extent,"all"):behavior="none";else{var winSize2=axisExpandWindow[1]-axisExpandWindow[0];(axisExpandWindow=[Parallel_mathMax(0,extent[1]*pointCoord/winSize2-winSize2/2)])[1]=Parallel_mathMin(extent[1],axisExpandWindow[0]+winSize2),axisExpandWindow[0]=axisExpandWindow[1]-winSize2}return{axisExpandWindow:axisExpandWindow,behavior:behavior}},Parallel}();var parallelCreator={create:function createParallelCoordSys(ecModel,api){var coordSysList=[];return ecModel.eachComponent("parallel",(function(parallelModel,idx){var coordSys=new parallel_Parallel(parallelModel,ecModel,api);coordSys.name="parallel_"+idx,coordSys.resize(parallelModel,api),parallelModel.coordinateSystem=coordSys,coordSys.model=parallelModel,coordSysList.push(coordSys)})),ecModel.eachSeries((function(seriesModel){if("parallel"===seriesModel.get("coordinateSystem")){var parallelModel=seriesModel.getReferringComponents("parallel",SINGLE_REFERRING).models[0];seriesModel.coordinateSystem=parallelModel.coordinateSystem}})),coordSysList}},AxisModel_ParallelAxisModel=function(_super){function ParallelAxisModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ParallelAxisModel.type,_this.activeIntervals=[],_this}return __extends(ParallelAxisModel,_super),ParallelAxisModel.prototype.getAreaSelectStyle=function(){return makeStyleMapper([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},ParallelAxisModel.prototype.setActiveIntervals=function(intervals){var activeIntervals=this.activeIntervals=util.clone(intervals);if(activeIntervals)for(var i=activeIntervals.length-1;i>=0;i--)asc(activeIntervals[i])},ParallelAxisModel.prototype.getActiveState=function(value){var activeIntervals=this.activeIntervals;if(!activeIntervals.length)return"normal";if(null==value||isNaN(+value))return"inactive";if(1===activeIntervals.length){var interval=activeIntervals[0];if(interval[0]<=value&&value<=interval[1])return"active"}else for(var i=0,len=activeIntervals.length;i<len;i++)if(activeIntervals[i][0]<=value&&value<=activeIntervals[i][1])return"active";return"inactive"},ParallelAxisModel}(Component);util.mixin(AxisModel_ParallelAxisModel,AxisModelCommonMixin);var parallel_AxisModel=AxisModel_ParallelAxisModel,BrushController_mathMin=Math.min,BrushController_mathMax=Math.max,BrushController_mathPow=Math.pow,DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID=0,BrushController_BrushController=function(_super){function BrushController(zr){var _this=_super.call(this)||this;return _this._track=[],_this._covers=[],_this._handlers={},_this._zr=zr,_this.group=new graphic_Group,_this._uid="brushController_"+baseUID++,Object(util.each)(pointerHandlers,(function(handler,eventName){this._handlers[eventName]=Object(util.bind)(handler,this)}),_this),_this}return __extends(BrushController,_super),BrushController.prototype.enableBrush=function(brushOption){return this._brushType&&this._doDisableBrush(),brushOption.brushType&&this._doEnableBrush(brushOption),this},BrushController.prototype._doEnableBrush=function(brushOption){var zr=this._zr;this._enableGlobalPan||function take(zr,resourceKey,userKey){getStore(zr)[resourceKey]=userKey}(zr,"globalPan",this._uid),Object(util.each)(this._handlers,(function(handler,eventName){zr.on(eventName,handler)})),this._brushType=brushOption.brushType,this._brushOption=Object(util.merge)(Object(util.clone)(DEFAULT_BRUSH_OPT),brushOption,!0)},BrushController.prototype._doDisableBrush=function(){var zr=this._zr;!function release(zr,resourceKey,userKey){var store=getStore(zr);store[resourceKey]===userKey&&(store[resourceKey]=null)}(zr,"globalPan",this._uid),Object(util.each)(this._handlers,(function(handler,eventName){zr.off(eventName,handler)})),this._brushType=this._brushOption=null},BrushController.prototype.setPanels=function(panelOpts){if(panelOpts&&panelOpts.length){var panels_1=this._panels={};Object(util.each)(panelOpts,(function(panelOpts){panels_1[panelOpts.panelId]=Object(util.clone)(panelOpts)}))}else this._panels=null;return this},BrushController.prototype.mount=function(opt){opt=opt||{},this._enableGlobalPan=opt.enableGlobalPan;var thisGroup=this.group;return this._zr.add(thisGroup),thisGroup.attr({x:opt.x||0,y:opt.y||0,rotation:opt.rotation||0,scaleX:opt.scaleX||1,scaleY:opt.scaleY||1}),this._transform=thisGroup.getLocalTransform(),this},BrushController.prototype.updateCovers=function(coverConfigList){coverConfigList=Object(util.map)(coverConfigList,(function(coverConfig){return Object(util.merge)(Object(util.clone)(DEFAULT_BRUSH_OPT),coverConfig,!0)}));var oldCovers=this._covers,newCovers=this._covers=[],controller=this,creatingCover=this._creatingCover;return new data_DataDiffer(oldCovers,coverConfigList,(function oldGetKey(cover,index){return getKey(cover.__brushOption,index)}),getKey).add(addOrUpdate).update(addOrUpdate).remove((function remove(oldIndex){oldCovers[oldIndex]!==creatingCover&&controller.group.remove(oldCovers[oldIndex])})).execute(),this;function getKey(brushOption,index){return(null!=brushOption.id?brushOption.id:"\0-brush-index-"+index)+"-"+brushOption.brushType}function addOrUpdate(newIndex,oldIndex){var newBrushInternal=coverConfigList[newIndex];if(null!=oldIndex&&oldCovers[oldIndex]===creatingCover)newCovers[newIndex]=oldCovers[oldIndex];else{var cover=newCovers[newIndex]=null!=oldIndex?(oldCovers[oldIndex].__brushOption=newBrushInternal,oldCovers[oldIndex]):endCreating(controller,createCover(controller,newBrushInternal));updateCoverAfterCreation(controller,cover)}}},BrushController.prototype.unmount=function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},BrushController.prototype.dispose=function(){this.unmount(),this.off()},BrushController}(core_Eventful);function createCover(controller,brushOption){var cover=coverRenderers[brushOption.brushType].createCover(controller,brushOption);return cover.__brushOption=brushOption,BrushController_updateZ(cover,brushOption),controller.group.add(cover),cover}function endCreating(controller,creatingCover){var coverRenderer=getCoverRenderer(creatingCover);return coverRenderer.endCreating&&(coverRenderer.endCreating(controller,creatingCover),BrushController_updateZ(creatingCover,creatingCover.__brushOption)),creatingCover}function updateCoverShape(controller,cover){var brushOption=cover.__brushOption;getCoverRenderer(cover).updateCoverShape(controller,cover,brushOption.range,brushOption)}function BrushController_updateZ(cover,brushOption){var z=brushOption.z;null==z&&(z=1e4),cover.traverse((function(el){el.z=z,el.z2=z}))}function updateCoverAfterCreation(controller,cover){getCoverRenderer(cover).updateCommon(controller,cover),updateCoverShape(controller,cover)}function getCoverRenderer(cover){return coverRenderers[cover.__brushOption.brushType]}function getPanelByPoint(controller,e,localCursorPoint){var panel,panels=controller._panels;if(!panels)return true;var transform=controller._transform;return Object(util.each)(panels,(function(pn){pn.isTargetByCursor(e,localCursorPoint,transform)&&(panel=pn)})),panel}function getPanelByCover(controller,cover){var panels=controller._panels;if(!panels)return true;var panelId=cover.__brushOption.panelId;return null==panelId||panels[panelId]}function clearCovers(controller){var covers=controller._covers,originalLength=covers.length;return Object(util.each)(covers,(function(cover){controller.group.remove(cover)}),controller),covers.length=0,!!originalLength}function BrushController_trigger(controller,opt){var areas=Object(util.map)(controller._covers,(function(cover){var brushOption=cover.__brushOption,range=Object(util.clone)(brushOption.range);return{brushType:brushOption.brushType,panelId:brushOption.panelId,range:range}}));controller.trigger("brush",{areas:areas,isEnd:!!opt.isEnd,removeOnClick:!!opt.removeOnClick})}function getTrackEnds(track){var tail=track.length-1;return tail<0&&(tail=0),[track[0],track[tail]]}function createBaseRectCover(rectRangeConverter,controller,brushOption,edgeNameSequences){var cover=new graphic_Group;return cover.add(new shape_Rect({name:"main",style:makeStyle(brushOption),silent:!0,draggable:!0,cursor:"move",drift:Object(util.curry)(driftRect,rectRangeConverter,controller,cover,["n","s","w","e"]),ondragend:Object(util.curry)(BrushController_trigger,controller,{isEnd:!0})})),Object(util.each)(edgeNameSequences,(function(nameSequence){cover.add(new shape_Rect({name:nameSequence.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Object(util.curry)(driftRect,rectRangeConverter,controller,cover,nameSequence),ondragend:Object(util.curry)(BrushController_trigger,controller,{isEnd:!0})}))})),cover}function updateBaseRect(controller,cover,localRange,brushOption){var lineWidth=brushOption.brushStyle.lineWidth||0,handleSize=BrushController_mathMax(lineWidth,6),x=localRange[0][0],y=localRange[1][0],xa=x-lineWidth/2,ya=y-lineWidth/2,x2=localRange[0][1],y2=localRange[1][1],x2a=x2-handleSize+lineWidth/2,y2a=y2-handleSize+lineWidth/2,width=x2-x,height=y2-y,widtha=width+lineWidth,heighta=height+lineWidth;updateRectShape(controller,cover,"main",x,y,width,height),brushOption.transformable&&(updateRectShape(controller,cover,"w",xa,ya,handleSize,heighta),updateRectShape(controller,cover,"e",x2a,ya,handleSize,heighta),updateRectShape(controller,cover,"n",xa,ya,widtha,handleSize),updateRectShape(controller,cover,"s",xa,y2a,widtha,handleSize),updateRectShape(controller,cover,"nw",xa,ya,handleSize,handleSize),updateRectShape(controller,cover,"ne",x2a,ya,handleSize,handleSize),updateRectShape(controller,cover,"sw",xa,y2a,handleSize,handleSize),updateRectShape(controller,cover,"se",x2a,y2a,handleSize,handleSize))}function updateCommon(controller,cover){var brushOption=cover.__brushOption,transformable=brushOption.transformable,mainEl=cover.childAt(0);mainEl.useStyle(makeStyle(brushOption)),mainEl.attr({silent:!transformable,cursor:transformable?"move":"default"}),Object(util.each)([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(nameSequence){var el=cover.childOfName(nameSequence.join("")),globalDir=1===nameSequence.length?getGlobalDirection1(controller,nameSequence[0]):function getGlobalDirection2(controller,localDirNameSeq){var globalDir=[getGlobalDirection1(controller,localDirNameSeq[0]),getGlobalDirection1(controller,localDirNameSeq[1])];return("e"===globalDir[0]||"w"===globalDir[0])&&globalDir.reverse(),globalDir.join("")}(controller,nameSequence);el&&el.attr({silent:!transformable,invisible:!transformable,cursor:transformable?CURSOR_MAP[globalDir]+"-resize":null})}))}function updateRectShape(controller,cover,name,x,y,w,h){var el=cover.childOfName(name);el&&el.setShape(function pointsToRect(points){var xmin=BrushController_mathMin(points[0][0],points[1][0]),ymin=BrushController_mathMin(points[0][1],points[1][1]),xmax=BrushController_mathMax(points[0][0],points[1][0]),ymax=BrushController_mathMax(points[0][1],points[1][1]);return{x:xmin,y:ymin,width:xmax-xmin,height:ymax-ymin}}(clipByPanel(controller,cover,[[x,y],[x+w,y+h]])))}function makeStyle(brushOption){return Object(util.defaults)({strokeNoScale:!0},brushOption.brushStyle)}function formatRectRange(x,y,x2,y2){var min=[BrushController_mathMin(x,x2),BrushController_mathMin(y,y2)],max=[BrushController_mathMax(x,x2),BrushController_mathMax(y,y2)];return[[min[0],max[0]],[min[1],max[1]]]}function getGlobalDirection1(controller,localDirName){var dir=transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[localDirName],function BrushController_getTransform(controller){return getTransform(controller.group)}(controller));return{left:"w",right:"e",top:"n",bottom:"s"}[dir]}function driftRect(rectRangeConverter,controller,cover,dirNameSequence,dx,dy){var brushOption=cover.__brushOption,rectRange=rectRangeConverter.toRectRange(brushOption.range),localDelta=toLocalDelta(controller,dx,dy);Object(util.each)(dirNameSequence,(function(dirName){var ind=DIRECTION_MAP[dirName];rectRange[ind[0]][ind[1]]+=localDelta[ind[0]]})),brushOption.range=rectRangeConverter.fromRectRange(formatRectRange(rectRange[0][0],rectRange[1][0],rectRange[0][1],rectRange[1][1])),updateCoverAfterCreation(controller,cover),BrushController_trigger(controller,{isEnd:!1})}function driftPolygon(controller,cover,dx,dy){var range=cover.__brushOption.range,localDelta=toLocalDelta(controller,dx,dy);Object(util.each)(range,(function(point){point[0]+=localDelta[0],point[1]+=localDelta[1]})),updateCoverAfterCreation(controller,cover),BrushController_trigger(controller,{isEnd:!1})}function toLocalDelta(controller,dx,dy){var thisGroup=controller.group,localD=thisGroup.transformCoordToLocal(dx,dy),localZero=thisGroup.transformCoordToLocal(0,0);return[localD[0]-localZero[0],localD[1]-localZero[1]]}function clipByPanel(controller,cover,data){var panel=getPanelByCover(controller,cover);return panel&&true!==panel?panel.clipPath(data,controller._transform):Object(util.clone)(data)}function preventDefault(e){var rawE=e.event;rawE.preventDefault&&rawE.preventDefault()}function mainShapeContain(cover,x,y){return cover.childOfName("main").contain(x,y)}function updateCoverByMouse(controller,e,localCursorPoint,isEnd){var eventParams,creatingCover=controller._creatingCover,panel=controller._creatingPanel,thisBrushOption=controller._brushOption;if(controller._track.push(localCursorPoint.slice()),function shouldShowCover(controller){var track=controller._track;if(!track.length)return!1;var p2=track[track.length-1],p1=track[0],dx=p2[0]-p1[0],dy=p2[1]-p1[1];return BrushController_mathPow(dx*dx+dy*dy,.5)>6}(controller)||creatingCover){if(panel&&!creatingCover){"single"===thisBrushOption.brushMode&&clearCovers(controller);var brushOption=Object(util.clone)(thisBrushOption);brushOption.brushType=determineBrushType(brushOption.brushType,panel),brushOption.panelId=true===panel?null:panel.panelId,creatingCover=controller._creatingCover=createCover(controller,brushOption),controller._covers.push(creatingCover)}if(creatingCover){var coverRenderer=coverRenderers[determineBrushType(controller._brushType,panel)];creatingCover.__brushOption.range=coverRenderer.getCreatingRange(clipByPanel(controller,creatingCover,controller._track)),isEnd&&(endCreating(controller,creatingCover),coverRenderer.updateCommon(controller,creatingCover)),updateCoverShape(controller,creatingCover),eventParams={isEnd:isEnd}}}else isEnd&&"single"===thisBrushOption.brushMode&&thisBrushOption.removeOnClick&&getPanelByPoint(controller,e,localCursorPoint)&&clearCovers(controller)&&(eventParams={isEnd:isEnd,removeOnClick:!0});return eventParams}function determineBrushType(brushType,panel){return"auto"===brushType?panel.defaultBrushType:brushType}var pointerHandlers={mousedown:function(e){if(this._dragging)handleDragEnd(this,e);else if(!e.target||!e.target.draggable){preventDefault(e);var localCursorPoint=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=getPanelByPoint(this,e,localCursorPoint))&&(this._dragging=!0,this._track=[localCursorPoint.slice()])}},mousemove:function(e){var x=e.offsetX,y=e.offsetY,localCursorPoint=this.group.transformCoordToLocal(x,y);if(function resetCursor(controller,e,localCursorPoint){if(controller._brushType&&!function isOutsideZrArea(controller,x,y){var zr=controller._zr;return x<0||x>zr.getWidth()||y<0||y>zr.getHeight()}(controller,e.offsetX,e.offsetY)){var zr=controller._zr,covers=controller._covers,currPanel=getPanelByPoint(controller,e,localCursorPoint);if(!controller._dragging)for(var i=0;i<covers.length;i++){var brushOption=covers[i].__brushOption;if(currPanel&&(!0===currPanel||brushOption.panelId===currPanel.panelId)&&coverRenderers[brushOption.brushType].contain(covers[i],localCursorPoint[0],localCursorPoint[1]))return}currPanel&&zr.setCursorStyle("crosshair")}}(this,e,localCursorPoint),this._dragging){preventDefault(e);var eventParams=updateCoverByMouse(this,e,localCursorPoint,!1);eventParams&&BrushController_trigger(this,eventParams)}},mouseup:function(e){handleDragEnd(this,e)}};function handleDragEnd(controller,e){if(controller._dragging){preventDefault(e);var x=e.offsetX,y=e.offsetY,localCursorPoint=controller.group.transformCoordToLocal(x,y),eventParams=updateCoverByMouse(controller,e,localCursorPoint,!0);controller._dragging=!1,controller._track=[],controller._creatingCover=null,eventParams&&BrushController_trigger(controller,eventParams)}}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(controller,brushOption){function returnInput(range){return range}return createBaseRectCover({toRectRange:returnInput,fromRectRange:returnInput},controller,brushOption,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(localTrack){var ends=getTrackEnds(localTrack);return formatRectRange(ends[1][0],ends[1][1],ends[0][0],ends[0][1])},updateCoverShape:function(controller,cover,localRange,brushOption){updateBaseRect(controller,cover,localRange,brushOption)},updateCommon:updateCommon,contain:mainShapeContain},polygon:{createCover:function(controller,brushOption){var cover=new graphic_Group;return cover.add(new shape_Polyline({name:"main",style:makeStyle(brushOption),silent:!0})),cover},getCreatingRange:function(localTrack){return localTrack},endCreating:function(controller,cover){cover.remove(cover.childAt(0)),cover.add(new shape_Polygon({name:"main",draggable:!0,drift:Object(util.curry)(driftPolygon,controller,cover),ondragend:Object(util.curry)(BrushController_trigger,controller,{isEnd:!0})}))},updateCoverShape:function(controller,cover,localRange,brushOption){cover.childAt(0).setShape({points:clipByPanel(controller,cover,localRange)})},updateCommon:updateCommon,contain:mainShapeContain}};function getLineRenderer(xyIndex){return{createCover:function(controller,brushOption){return createBaseRectCover({toRectRange:function(range){var rectRange=[range,[0,100]];return xyIndex&&rectRange.reverse(),rectRange},fromRectRange:function(rectRange){return rectRange[xyIndex]}},controller,brushOption,[[["w"],["e"]],[["n"],["s"]]][xyIndex])},getCreatingRange:function(localTrack){var ends=getTrackEnds(localTrack);return[BrushController_mathMin(ends[0][xyIndex],ends[1][xyIndex]),BrushController_mathMax(ends[0][xyIndex],ends[1][xyIndex])]},updateCoverShape:function(controller,cover,localRange,brushOption){var otherExtent,panel=getPanelByCover(controller,cover);if(true!==panel&&panel.getLinearBrushOtherExtent)otherExtent=panel.getLinearBrushOtherExtent(xyIndex);else{var zr=controller._zr;otherExtent=[0,[zr.getWidth(),zr.getHeight()][1-xyIndex]]}var rectRange=[localRange,otherExtent];xyIndex&&rectRange.reverse(),updateBaseRect(controller,cover,rectRange,brushOption)},updateCommon:updateCommon,contain:mainShapeContain}}var helper_BrushController=BrushController_BrushController;function makeRectPanelClipPath(rect){return rect=normalizeRect(rect),function(localPoints){return clipPointsByRect(localPoints,rect)}}function makeLinearBrushOtherExtent(rect,specifiedXYIndex){return rect=normalizeRect(rect),function(xyIndex){var idx=null!=specifiedXYIndex?specifiedXYIndex:xyIndex,brushWidth=idx?rect.width:rect.height,base=idx?rect.x:rect.y;return[base,base+(brushWidth||0)]}}function makeRectIsTargetByCursor(rect,api,targetModel){var boundingRect=normalizeRect(rect);return function(e,localCursorPoint){return boundingRect.contain(localCursorPoint[0],localCursorPoint[1])&&!onIrrelevantElement(e,api,targetModel)}}function normalizeRect(rect){return core_BoundingRect.create(rect)}var elementList=["axisLine","axisTickLabel","axisName"],ParallelAxisView_ParallelAxisView=function(_super){function ParallelAxisView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ParallelAxisView.type,_this}return __extends(ParallelAxisView,_super),ParallelAxisView.prototype.init=function(ecModel,api){_super.prototype.init.apply(this,arguments),(this._brushController=new helper_BrushController(api.getZr())).on("brush",util.bind(this._onBrush,this))},ParallelAxisView.prototype.render=function(axisModel,ecModel,api,payload){if(!function fromAxisAreaSelect(axisModel,ecModel,payload){return payload&&"axisAreaSelect"===payload.type&&ecModel.findComponents({mainType:"parallelAxis",query:payload})[0]===axisModel}(axisModel,ecModel,payload)){this.axisModel=axisModel,this.api=api,this.group.removeAll();var oldAxisGroup=this._axisGroup;if(this._axisGroup=new graphic_Group,this.group.add(this._axisGroup),axisModel.get("show")){var coordSysModel=function getCoordSysModel(axisModel,ecModel){return ecModel.getComponent("parallel",axisModel.get("parallelIndex"))}(axisModel,ecModel),coordSys=coordSysModel.coordinateSystem,areaSelectStyle=axisModel.getAreaSelectStyle(),areaWidth=areaSelectStyle.width,dim=axisModel.axis.dim,axisLayout=coordSys.getAxisLayout(dim),builderOpt=util.extend({strokeContainThreshold:areaWidth},axisLayout),axisBuilder=new axis_AxisBuilder(axisModel,builderOpt);util.each(elementList,axisBuilder.add,axisBuilder),this._axisGroup.add(axisBuilder.getGroup()),this._refreshBrushController(builderOpt,areaSelectStyle,axisModel,coordSysModel,areaWidth,api),groupTransition(oldAxisGroup,this._axisGroup,axisModel)}}},ParallelAxisView.prototype._refreshBrushController=function(builderOpt,areaSelectStyle,axisModel,coordSysModel,areaWidth,api){var extent=axisModel.axis.getExtent(),extentLen=extent[1]-extent[0],extra=Math.min(30,.1*Math.abs(extentLen)),rect=core_BoundingRect.create({x:extent[0],y:-areaWidth/2,width:extentLen,height:areaWidth});rect.x-=extra,rect.width+=2*extra,this._brushController.mount({enableGlobalPan:!0,rotation:builderOpt.rotation,x:builderOpt.position[0],y:builderOpt.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(rect),isTargetByCursor:makeRectIsTargetByCursor(rect,api,coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(rect,0)}]).enableBrush({brushType:"lineX",brushStyle:areaSelectStyle,removeOnClick:!0}).updateCovers(function getCoverInfoList(axisModel){var axis=axisModel.axis;return util.map(axisModel.activeIntervals,(function(interval){return{brushType:"lineX",panelId:"pl",range:[axis.dataToCoord(interval[0],!0),axis.dataToCoord(interval[1],!0)]}}))}(axisModel))},ParallelAxisView.prototype._onBrush=function(eventParam){var coverInfoList=eventParam.areas,axisModel=this.axisModel,axis=axisModel.axis,intervals=util.map(coverInfoList,(function(coverInfo){return[axis.coordToData(coverInfo.range[0],!0),axis.coordToData(coverInfo.range[1],!0)]}));(!axisModel.option.realtime===eventParam.isEnd||eventParam.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:axisModel.id,intervals:intervals})},ParallelAxisView.prototype.dispose=function(){this._brushController.dispose()},ParallelAxisView.type="parallelAxis",ParallelAxisView}(view_Component);var axis_ParallelAxisView=ParallelAxisView_ParallelAxisView,parallelAxisAction_actionInfo={type:"axisAreaSelect",event:"axisAreaSelected"};var defaultAxisOption={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function parallel_install_install(registers){registers.registerComponentView(component_parallel_ParallelView),registers.registerComponentModel(parallel_ParallelModel),registers.registerCoordinateSystem("parallel",parallelCreator),registers.registerPreprocessor(parallelPreprocessor),registers.registerComponentModel(parallel_AxisModel),registers.registerComponentView(axis_ParallelAxisView),axisModelCreator(registers,"parallel",parallel_AxisModel,defaultAxisOption),function installParallelActions(registers){registers.registerAction(parallelAxisAction_actionInfo,(function(payload,ecModel){ecModel.eachComponent({mainType:"parallelAxis",query:payload},(function(parallelAxisModel){parallelAxisModel.axis.model.setActiveIntervals(payload.intervals)}))})),registers.registerAction("parallelAxisExpand",(function(payload,ecModel){ecModel.eachComponent({mainType:"parallel",query:payload},(function(parallelModel){parallelModel.setAxisExpand(payload)}))}))}(registers)}var SankeyPathShape=function SankeyPathShape(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},SankeyView_SankeyPath=function(_super){function SankeyPath(opts){return _super.call(this,opts)||this}return __extends(SankeyPath,_super),SankeyPath.prototype.getDefaultShape=function(){return new SankeyPathShape},SankeyPath.prototype.buildPath=function(ctx,shape){var extent=shape.extent;ctx.moveTo(shape.x1,shape.y1),ctx.bezierCurveTo(shape.cpx1,shape.cpy1,shape.cpx2,shape.cpy2,shape.x2,shape.y2),"vertical"===shape.orient?(ctx.lineTo(shape.x2+extent,shape.y2),ctx.bezierCurveTo(shape.cpx2+extent,shape.cpy2,shape.cpx1+extent,shape.cpy1,shape.x1+extent,shape.y1)):(ctx.lineTo(shape.x2,shape.y2+extent),ctx.bezierCurveTo(shape.cpx2,shape.cpy2+extent,shape.cpx1,shape.cpy1+extent,shape.x1,shape.y1+extent)),ctx.closePath()},SankeyPath.prototype.highlight=function(){enterEmphasis(this)},SankeyPath.prototype.downplay=function(){leaveEmphasis(this)},SankeyPath}(graphic_Path),SankeyView_SankeyView=function(_super){function SankeyView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SankeyView.type,_this._focusAdjacencyDisabled=!1,_this}return __extends(SankeyView,_super),SankeyView.prototype.render=function(seriesModel,ecModel,api){var sankeyView=this,graph=seriesModel.getGraph(),group=this.group,layoutInfo=seriesModel.layoutInfo,width=layoutInfo.width,height=layoutInfo.height,nodeData=seriesModel.getData(),edgeData=seriesModel.getData("edge"),orient=seriesModel.get("orient");this._model=seriesModel,group.removeAll(),group.x=layoutInfo.x,group.y=layoutInfo.y,graph.eachEdge((function(edge){var curve=new SankeyView_SankeyPath,ecData=getECData(curve);ecData.dataIndex=edge.dataIndex,ecData.seriesIndex=seriesModel.seriesIndex,ecData.dataType="edge";var x1,y1,x2,y2,cpx1,cpy1,cpx2,cpy2,edgeModel=edge.getModel(),lineStyleModel=edgeModel.getModel("lineStyle"),curvature=lineStyleModel.get("curveness"),n1Layout=edge.node1.getLayout(),node1Model=edge.node1.getModel(),dragX1=node1Model.get("localX"),dragY1=node1Model.get("localY"),n2Layout=edge.node2.getLayout(),node2Model=edge.node2.getModel(),dragX2=node2Model.get("localX"),dragY2=node2Model.get("localY"),edgeLayout=edge.getLayout();switch(curve.shape.extent=Math.max(1,edgeLayout.dy),curve.shape.orient=orient,"vertical"===orient?(x1=(null!=dragX1?dragX1*width:n1Layout.x)+edgeLayout.sy,y1=(null!=dragY1?dragY1*height:n1Layout.y)+n1Layout.dy,x2=(null!=dragX2?dragX2*width:n2Layout.x)+edgeLayout.ty,cpx1=x1,cpy1=y1*(1-curvature)+(y2=null!=dragY2?dragY2*height:n2Layout.y)*curvature,cpx2=x2,cpy2=y1*curvature+y2*(1-curvature)):(x1=(null!=dragX1?dragX1*width:n1Layout.x)+n1Layout.dx,y1=(null!=dragY1?dragY1*height:n1Layout.y)+edgeLayout.sy,cpx1=x1*(1-curvature)+(x2=null!=dragX2?dragX2*width:n2Layout.x)*curvature,cpy1=y1,cpx2=x1*curvature+x2*(1-curvature),cpy2=y2=(null!=dragY2?dragY2*height:n2Layout.y)+edgeLayout.ty),curve.setShape({x1:x1,y1:y1,x2:x2,y2:y2,cpx1:cpx1,cpy1:cpy1,cpx2:cpx2,cpy2:cpy2}),curve.useStyle(lineStyleModel.getItemStyle()),curve.style.fill){case"source":curve.style.fill=edge.node1.getVisual("color"),curve.style.decal=edge.node1.getVisual("style").decal;break;case"target":curve.style.fill=edge.node2.getVisual("color"),curve.style.decal=edge.node2.getVisual("style").decal;break;case"gradient":var sourceColor=edge.node1.getVisual("color"),targetColor=edge.node2.getVisual("color");Object(util.isString)(sourceColor)&&Object(util.isString)(targetColor)&&(curve.style.fill=new graphic_LinearGradient(0,0,+("horizontal"===orient),+("vertical"===orient),[{color:sourceColor,offset:0},{color:targetColor,offset:1}]))}var emphasisModel=edgeModel.getModel("emphasis");setStatesStylesFromModel(curve,edgeModel,"lineStyle",(function(model){return model.getItemStyle()})),group.add(curve),edgeData.setItemGraphicEl(edge.dataIndex,curve);var focus=emphasisModel.get("focus");toggleHoverEmphasis(curve,"adjacency"===focus?edge.getAdjacentDataIndices():focus,emphasisModel.get("blurScope"),emphasisModel.get("disabled")),getECData(curve).dataType="edge"})),graph.eachNode((function(node){var layout=node.getLayout(),itemModel=node.getModel(),dragX=itemModel.get("localX"),dragY=itemModel.get("localY"),emphasisModel=itemModel.getModel("emphasis"),rect=new shape_Rect({shape:{x:null!=dragX?dragX*width:layout.x,y:null!=dragY?dragY*height:layout.y,width:layout.dx,height:layout.dy},style:itemModel.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle(rect,getLabelStatesModels(itemModel),{labelFetcher:seriesModel,labelDataIndex:node.dataIndex,defaultText:node.id}),rect.disableLabelAnimation=!0,rect.setStyle("fill",node.getVisual("color")),rect.setStyle("decal",node.getVisual("style").decal),setStatesStylesFromModel(rect,itemModel),group.add(rect),nodeData.setItemGraphicEl(node.dataIndex,rect),getECData(rect).dataType="node";var focus=emphasisModel.get("focus");toggleHoverEmphasis(rect,"adjacency"===focus?node.getAdjacentDataIndices():focus,emphasisModel.get("blurScope"),emphasisModel.get("disabled"))})),nodeData.eachItemGraphicEl((function(el,dataIndex){nodeData.getItemModel(dataIndex).get("draggable")&&(el.drift=function(dx,dy){sankeyView._focusAdjacencyDisabled=!0,this.shape.x+=dx,this.shape.y+=dy,this.dirty(),api.dispatchAction({type:"dragNode",seriesId:seriesModel.id,dataIndex:nodeData.getRawIndex(dataIndex),localX:this.shape.x/width,localY:this.shape.y/height})},el.ondragend=function(){sankeyView._focusAdjacencyDisabled=!1},el.draggable=!0,el.cursor="move")})),!this._data&&seriesModel.isAnimationEnabled()&&group.setClipPath(function SankeyView_createGridClipShape(rect,seriesModel,cb){var rectEl=new shape_Rect({shape:{x:rect.x-10,y:rect.y-10,width:0,height:rect.height+20}});return initProps(rectEl,{shape:{width:rect.width+20}},seriesModel,cb),rectEl}(group.getBoundingRect(),seriesModel,(function(){group.removeClipPath()}))),this._data=seriesModel.getData()},SankeyView.prototype.dispose=function(){},SankeyView.type="sankey",SankeyView}(Chart);var sankey_SankeyView=SankeyView_SankeyView,SankeySeries_SankeySeriesModel=function(_super){function SankeySeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SankeySeriesModel.type,_this}return __extends(SankeySeriesModel,_super),SankeySeriesModel.prototype.getInitialData=function(option,ecModel){var links=option.edges||option.links,nodes=option.data||option.nodes,levels=option.levels;this.levelModels=[];for(var levelModels=this.levelModels,i=0;i<levels.length;i++)null!=levels[i].depth&&levels[i].depth>=0&&(levelModels[levels[i].depth]=new model_Model(levels[i],this,ecModel));if(nodes&&links)return createGraphFromNodeEdge(nodes,links,this,!0,(function beforeLink(nodeData,edgeData){nodeData.wrapMethod("getItemModel",(function(model,idx){var seriesModel=model.parentModel,layout=seriesModel.getData().getItemLayout(idx);if(layout){var nodeDepth=layout.depth,levelModel=seriesModel.levelModels[nodeDepth];levelModel&&(model.parentModel=levelModel)}return model})),edgeData.wrapMethod("getItemModel",(function(model,idx){var seriesModel=model.parentModel,layout=seriesModel.getGraph().getEdgeByIndex(idx).node1.getLayout();if(layout){var depth=layout.depth,levelModel=seriesModel.levelModels[depth];levelModel&&(model.parentModel=levelModel)}return model}))})).data},SankeySeriesModel.prototype.setNodePosition=function(dataIndex,localPosition){var dataItem=(this.option.data||this.option.nodes)[dataIndex];dataItem.localX=localPosition[0],dataItem.localY=localPosition[1]},SankeySeriesModel.prototype.getGraph=function(){return this.getData().graph},SankeySeriesModel.prototype.getEdgeData=function(){return this.getGraph().edgeData},SankeySeriesModel.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){function noValue(val){return isNaN(val)||null==val}if("edge"===dataType){var params=this.getDataParams(dataIndex,dataType),rawDataOpt=params.data,edgeValue=params.value;return createTooltipMarkup("nameValue",{name:rawDataOpt.source+" -- "+rawDataOpt.target,value:edgeValue,noValue:noValue(edgeValue)})}var value=this.getGraph().getNodeByIndex(dataIndex).getLayout().value,name_1=this.getDataParams(dataIndex,dataType).data.name;return createTooltipMarkup("nameValue",{name:null!=name_1?name_1+"":null,value:value,noValue:noValue(value)})},SankeySeriesModel.prototype.optionUpdated=function(){},SankeySeriesModel.prototype.getDataParams=function(dataIndex,dataType){var params=_super.prototype.getDataParams.call(this,dataIndex,dataType);if(null==params.value&&"node"===dataType){var nodeValue=this.getGraph().getNodeByIndex(dataIndex).getLayout().value;params.value=nodeValue}return params},SankeySeriesModel.type="series.sankey",SankeySeriesModel.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},SankeySeriesModel}(Series),SankeySeries=SankeySeries_SankeySeriesModel;function sankeyLayout(ecModel,api){ecModel.eachSeriesByType("sankey",(function(seriesModel){var nodeWidth=seriesModel.get("nodeWidth"),nodeGap=seriesModel.get("nodeGap"),layoutInfo=function sankeyLayout_getViewRect(seriesModel,api){return getLayoutRect(seriesModel.getBoxLayoutParams(),{width:api.getWidth(),height:api.getHeight()})}(seriesModel,api);seriesModel.layoutInfo=layoutInfo;var width=layoutInfo.width,height=layoutInfo.height,graph=seriesModel.getGraph(),nodes=graph.nodes,edges=graph.edges;!function computeNodeValues(nodes){util.each(nodes,(function(node){var value1=sankeyLayout_sum(node.outEdges,getEdgeValue),value2=sankeyLayout_sum(node.inEdges,getEdgeValue),nodeRawValue=node.getValue()||0,value=Math.max(value1,value2,nodeRawValue);node.setLayout({value:value},!0)}))}(nodes),function layoutSankey(nodes,edges,nodeWidth,nodeGap,width,height,iterations,orient,nodeAlign){(function computeNodeBreadths(nodes,edges,nodeWidth,width,height,orient,nodeAlign){for(var remainEdges=[],indegreeArr=[],zeroIndegrees=[],nextTargetNode=[],x=0,i=0;i<edges.length;i++)remainEdges[i]=1;for(i=0;i<nodes.length;i++)indegreeArr[i]=nodes[i].inEdges.length,0===indegreeArr[i]&&zeroIndegrees.push(nodes[i]);var maxNodeDepth=-1;for(;zeroIndegrees.length;){for(var idx=0;idx<zeroIndegrees.length;idx++){var node=zeroIndegrees[idx],item=node.hostGraph.data.getRawDataItem(node.dataIndex),isItemDepth=null!=item.depth&&item.depth>=0;isItemDepth&&item.depth>maxNodeDepth&&(maxNodeDepth=item.depth),node.setLayout({depth:isItemDepth?item.depth:x},!0),"vertical"===orient?node.setLayout({dy:nodeWidth},!0):node.setLayout({dx:nodeWidth},!0);for(var edgeIdx=0;edgeIdx<node.outEdges.length;edgeIdx++){var edge=node.outEdges[edgeIdx];remainEdges[edges.indexOf(edge)]=0;var targetNode=edge.node2;0==--indegreeArr[nodes.indexOf(targetNode)]&&nextTargetNode.indexOf(targetNode)<0&&nextTargetNode.push(targetNode)}}++x,zeroIndegrees=nextTargetNode,nextTargetNode=[]}for(i=0;i<remainEdges.length;i++)if(1===remainEdges[i])throw new Error("Sankey is a DAG, the original data has cycle!");var maxDepth=maxNodeDepth>x-1?maxNodeDepth:x-1;nodeAlign&&"left"!==nodeAlign&&function adjustNodeWithNodeAlign(nodes,nodeAlign,orient,maxDepth){if("right"===nodeAlign){for(var nextSourceNode=[],remainNodes=nodes,nodeHeight=0;remainNodes.length;){for(var i=0;i<remainNodes.length;i++){var node=remainNodes[i];node.setLayout({skNodeHeight:nodeHeight},!0);for(var j=0;j<node.inEdges.length;j++){var edge=node.inEdges[j];nextSourceNode.indexOf(edge.node1)<0&&nextSourceNode.push(edge.node1)}}remainNodes=nextSourceNode,nextSourceNode=[],++nodeHeight}util.each(nodes,(function(node){isNodeDepth(node)||node.setLayout({depth:Math.max(0,maxDepth-node.getLayout().skNodeHeight)},!0)}))}else"justify"===nodeAlign&&function moveSinksRight(nodes,maxDepth){util.each(nodes,(function(node){isNodeDepth(node)||node.outEdges.length||node.setLayout({depth:maxDepth},!0)}))}(nodes,maxDepth)}(nodes,nodeAlign,0,maxDepth);!function scaleNodeBreadths(nodes,kx,orient){util.each(nodes,(function(node){var nodeDepth=node.getLayout().depth*kx;"vertical"===orient?node.setLayout({y:nodeDepth},!0):node.setLayout({x:nodeDepth},!0)}))}(nodes,"vertical"===orient?(height-nodeWidth)/maxDepth:(width-nodeWidth)/maxDepth,orient)})(nodes,edges,nodeWidth,width,height,orient,nodeAlign),function computeNodeDepths(nodes,edges,height,width,nodeGap,iterations,orient){var nodesByBreadth=function prepareNodesByBreadth(nodes,orient){var nodesByBreadth=[],keyAttr="vertical"===orient?"y":"x",groupResult=groupData(nodes,(function(node){return node.getLayout()[keyAttr]}));return groupResult.keys.sort((function(a,b){return a-b})),util.each(groupResult.keys,(function(key){nodesByBreadth.push(groupResult.buckets.get(key))})),nodesByBreadth}(nodes,orient);(function initializeNodeDepth(nodesByBreadth,edges,height,width,nodeGap,orient){var minKy=1/0;util.each(nodesByBreadth,(function(nodes){var n=nodes.length,sum=0;util.each(nodes,(function(node){sum+=node.getLayout().value}));var ky="vertical"===orient?(width-(n-1)*nodeGap)/sum:(height-(n-1)*nodeGap)/sum;ky<minKy&&(minKy=ky)})),util.each(nodesByBreadth,(function(nodes){util.each(nodes,(function(node,i){var nodeDy=node.getLayout().value*minKy;"vertical"===orient?(node.setLayout({x:i},!0),node.setLayout({dx:nodeDy},!0)):(node.setLayout({y:i},!0),node.setLayout({dy:nodeDy},!0))}))})),util.each(edges,(function(edge){var edgeDy=+edge.getValue()*minKy;edge.setLayout({dy:edgeDy},!0)}))})(nodesByBreadth,edges,height,width,nodeGap,orient),resolveCollisions(nodesByBreadth,nodeGap,height,width,orient);for(var alpha=1;iterations>0;iterations--)relaxRightToLeft(nodesByBreadth,alpha*=.99,orient),resolveCollisions(nodesByBreadth,nodeGap,height,width,orient),relaxLeftToRight(nodesByBreadth,alpha,orient),resolveCollisions(nodesByBreadth,nodeGap,height,width,orient)}(nodes,edges,height,width,nodeGap,iterations,orient),function computeEdgeDepths(nodes,orient){var keyAttr="vertical"===orient?"x":"y";util.each(nodes,(function(node){node.outEdges.sort((function(a,b){return a.node2.getLayout()[keyAttr]-b.node2.getLayout()[keyAttr]})),node.inEdges.sort((function(a,b){return a.node1.getLayout()[keyAttr]-b.node1.getLayout()[keyAttr]}))})),util.each(nodes,(function(node){var sy=0,ty=0;util.each(node.outEdges,(function(edge){edge.setLayout({sy:sy},!0),sy+=edge.getLayout().dy})),util.each(node.inEdges,(function(edge){edge.setLayout({ty:ty},!0),ty+=edge.getLayout().dy}))}))}(nodes,orient)}(nodes,edges,nodeWidth,nodeGap,width,height,0!==util.filter(nodes,(function(node){return 0===node.getLayout().value})).length?0:seriesModel.get("layoutIterations"),seriesModel.get("orient"),seriesModel.get("nodeAlign"))}))}function isNodeDepth(node){var item=node.hostGraph.data.getRawDataItem(node.dataIndex);return null!=item.depth&&item.depth>=0}function resolveCollisions(nodesByBreadth,nodeGap,height,width,orient){var keyAttr="vertical"===orient?"x":"y";util.each(nodesByBreadth,(function(nodes){var nodeX,node,dy;nodes.sort((function(a,b){return a.getLayout()[keyAttr]-b.getLayout()[keyAttr]}));for(var y0=0,n=nodes.length,nodeDyAttr="vertical"===orient?"dx":"dy",i=0;i<n;i++)(dy=y0-(node=nodes[i]).getLayout()[keyAttr])>0&&(nodeX=node.getLayout()[keyAttr]+dy,"vertical"===orient?node.setLayout({x:nodeX},!0):node.setLayout({y:nodeX},!0)),y0=node.getLayout()[keyAttr]+node.getLayout()[nodeDyAttr]+nodeGap;if((dy=y0-nodeGap-("vertical"===orient?width:height))>0){nodeX=node.getLayout()[keyAttr]-dy,"vertical"===orient?node.setLayout({x:nodeX},!0):node.setLayout({y:nodeX},!0),y0=nodeX;for(i=n-2;i>=0;--i)(dy=(node=nodes[i]).getLayout()[keyAttr]+node.getLayout()[nodeDyAttr]+nodeGap-y0)>0&&(nodeX=node.getLayout()[keyAttr]-dy,"vertical"===orient?node.setLayout({x:nodeX},!0):node.setLayout({y:nodeX},!0)),y0=node.getLayout()[keyAttr]}}))}function relaxRightToLeft(nodesByBreadth,alpha,orient){util.each(nodesByBreadth.slice().reverse(),(function(nodes){util.each(nodes,(function(node){if(node.outEdges.length){var y=sankeyLayout_sum(node.outEdges,weightedTarget,orient)/sankeyLayout_sum(node.outEdges,getEdgeValue);if(isNaN(y)){var len=node.outEdges.length;y=len?sankeyLayout_sum(node.outEdges,centerTarget,orient)/len:0}if("vertical"===orient){var nodeX=node.getLayout().x+(y-sankeyLayout_center(node,orient))*alpha;node.setLayout({x:nodeX},!0)}else{var nodeY=node.getLayout().y+(y-sankeyLayout_center(node,orient))*alpha;node.setLayout({y:nodeY},!0)}}}))}))}function weightedTarget(edge,orient){return sankeyLayout_center(edge.node2,orient)*edge.getValue()}function centerTarget(edge,orient){return sankeyLayout_center(edge.node2,orient)}function weightedSource(edge,orient){return sankeyLayout_center(edge.node1,orient)*edge.getValue()}function centerSource(edge,orient){return sankeyLayout_center(edge.node1,orient)}function sankeyLayout_center(node,orient){return"vertical"===orient?node.getLayout().x+node.getLayout().dx/2:node.getLayout().y+node.getLayout().dy/2}function getEdgeValue(edge){return edge.getValue()}function sankeyLayout_sum(array,cb,orient){for(var sum=0,len=array.length,i=-1;++i<len;){var value=+cb(array[i],orient);isNaN(value)||(sum+=value)}return sum}function relaxLeftToRight(nodesByBreadth,alpha,orient){util.each(nodesByBreadth,(function(nodes){util.each(nodes,(function(node){if(node.inEdges.length){var y=sankeyLayout_sum(node.inEdges,weightedSource,orient)/sankeyLayout_sum(node.inEdges,getEdgeValue);if(isNaN(y)){var len=node.inEdges.length;y=len?sankeyLayout_sum(node.inEdges,centerSource,orient)/len:0}if("vertical"===orient){var nodeX=node.getLayout().x+(y-sankeyLayout_center(node,orient))*alpha;node.setLayout({x:nodeX},!0)}else{var nodeY=node.getLayout().y+(y-sankeyLayout_center(node,orient))*alpha;node.setLayout({y:nodeY},!0)}}}))}))}function sankeyVisual(ecModel){ecModel.eachSeriesByType("sankey",(function(seriesModel){var nodes=seriesModel.getGraph().nodes;if(nodes.length){var minValue_1=1/0,maxValue_1=-1/0;util.each(nodes,(function(node){var nodeValue=node.getLayout().value;nodeValue<minValue_1&&(minValue_1=nodeValue),nodeValue>maxValue_1&&(maxValue_1=nodeValue)})),util.each(nodes,(function(node){var mapValueToColor=new visual_VisualMapping({type:"color",mappingMethod:"linear",dataExtent:[minValue_1,maxValue_1],visual:seriesModel.get("color")}).mapValueToVisual(node.getLayout().value),customColor=node.getModel().get(["itemStyle","color"]);null!=customColor?(node.setVisual("color",customColor),node.setVisual("style",{fill:customColor})):(node.setVisual("color",mapValueToColor),node.setVisual("style",{fill:mapValueToColor}))}))}}))}var whiskerBoxCommon_WhiskerBoxCommonMixin=function(){function WhiskerBoxCommonMixin(){}return WhiskerBoxCommonMixin.prototype.getInitialData=function(option,ecModel){var ordinalMeta,addOrdinal,xAxisModel=ecModel.getComponent("xAxis",this.get("xAxisIndex")),yAxisModel=ecModel.getComponent("yAxis",this.get("yAxisIndex")),xAxisType=xAxisModel.get("type"),yAxisType=yAxisModel.get("type");"category"===xAxisType?(option.layout="horizontal",ordinalMeta=xAxisModel.getOrdinalMeta(),addOrdinal=!0):"category"===yAxisType?(option.layout="vertical",ordinalMeta=yAxisModel.getOrdinalMeta(),addOrdinal=!0):option.layout=option.layout||"horizontal";var coordDims=["x","y"],baseAxisDimIndex="horizontal"===option.layout?0:1,baseAxisDim=this._baseAxisDim=coordDims[baseAxisDimIndex],otherAxisDim=coordDims[1-baseAxisDimIndex],axisModels=[xAxisModel,yAxisModel],baseAxisType=axisModels[baseAxisDimIndex].get("type"),otherAxisType=axisModels[1-baseAxisDimIndex].get("type"),data=option.data;if(data&&addOrdinal){var newOptionData_1=[];util.each(data,(function(item,index){var newItem;util.isArray(item)?(newItem=item.slice(),item.unshift(index)):util.isArray(item.value)?((newItem=util.extend({},item)).value=newItem.value.slice(),item.value.unshift(index)):newItem=item,newOptionData_1.push(newItem)})),option.data=newOptionData_1}var defaultValueDimensions=this.defaultValueDimensions,coordDimensions=[{name:baseAxisDim,type:getDimensionTypeByAxis(baseAxisType),ordinalMeta:ordinalMeta,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:otherAxisDim,type:getDimensionTypeByAxis(otherAxisType),dimsDef:defaultValueDimensions.slice()}];return createSeriesDataSimply(this,{coordDimensions:coordDimensions,dimensionsCount:defaultValueDimensions.length+1,encodeDefaulter:util.curry(makeSeriesEncodeForAxisCoordSys,coordDimensions,this)})},WhiskerBoxCommonMixin.prototype.getBaseAxis=function(){var dim=this._baseAxisDim;return this.ecModel.getComponent(dim+"Axis",this.get(dim+"AxisIndex")).axis},WhiskerBoxCommonMixin}(),BoxplotSeries_BoxplotSeriesModel=function(_super){function BoxplotSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=BoxplotSeriesModel.type,_this.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],_this.visualDrawType="stroke",_this}return __extends(BoxplotSeriesModel,_super),BoxplotSeriesModel.type="series.boxplot",BoxplotSeriesModel.dependencies=["xAxis","yAxis","grid"],BoxplotSeriesModel.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},BoxplotSeriesModel}(Series);Object(util.mixin)(BoxplotSeries_BoxplotSeriesModel,whiskerBoxCommon_WhiskerBoxCommonMixin,!0);var BoxplotSeries=BoxplotSeries_BoxplotSeriesModel,BoxplotView_BoxplotView=function(_super){function BoxplotView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=BoxplotView.type,_this}return __extends(BoxplotView,_super),BoxplotView.prototype.render=function(seriesModel,ecModel,api){var data=seriesModel.getData(),group=this.group,oldData=this._data;this._data||group.removeAll();var constDim="horizontal"===seriesModel.get("layout")?1:0;data.diff(oldData).add((function(newIdx){if(data.hasValue(newIdx)){var symbolEl=createNormalBox(data.getItemLayout(newIdx),data,newIdx,constDim,!0);data.setItemGraphicEl(newIdx,symbolEl),group.add(symbolEl)}})).update((function(newIdx,oldIdx){var symbolEl=oldData.getItemGraphicEl(oldIdx);if(data.hasValue(newIdx)){var itemLayout=data.getItemLayout(newIdx);symbolEl?(saveOldStyle(symbolEl),updateNormalBoxData(itemLayout,symbolEl,data,newIdx)):symbolEl=createNormalBox(itemLayout,data,newIdx,constDim),group.add(symbolEl),data.setItemGraphicEl(newIdx,symbolEl)}else group.remove(symbolEl)})).remove((function(oldIdx){var el=oldData.getItemGraphicEl(oldIdx);el&&group.remove(el)})).execute(),this._data=data},BoxplotView.prototype.remove=function(ecModel){var group=this.group,data=this._data;this._data=null,data&&data.eachItemGraphicEl((function(el){el&&group.remove(el)}))},BoxplotView.type="boxplot",BoxplotView}(Chart),BoxPathShape=function BoxPathShape(){},BoxplotView_BoxPath=function(_super){function BoxPath(opts){var _this=_super.call(this,opts)||this;return _this.type="boxplotBoxPath",_this}return __extends(BoxPath,_super),BoxPath.prototype.getDefaultShape=function(){return new BoxPathShape},BoxPath.prototype.buildPath=function(ctx,shape){var ends=shape.points,i=0;for(ctx.moveTo(ends[i][0],ends[i][1]),i++;i<4;i++)ctx.lineTo(ends[i][0],ends[i][1]);for(ctx.closePath();i<ends.length;i++)ctx.moveTo(ends[i][0],ends[i][1]),i++,ctx.lineTo(ends[i][0],ends[i][1])},BoxPath}(graphic_Path);function createNormalBox(itemLayout,data,dataIndex,constDim,isInit){var ends=itemLayout.ends,el=new BoxplotView_BoxPath({shape:{points:isInit?transInit(ends,constDim,itemLayout):ends}});return updateNormalBoxData(itemLayout,el,data,dataIndex,isInit),el}function updateNormalBoxData(itemLayout,el,data,dataIndex,isInit){var seriesModel=data.hostModel;(0,graphic_namespaceObject[isInit?"initProps":"updateProps"])(el,{shape:{points:itemLayout.ends}},seriesModel,dataIndex),el.useStyle(data.getItemVisual(dataIndex,"style")),el.style.strokeNoScale=!0,el.z2=100;var itemModel=data.getItemModel(dataIndex),emphasisModel=itemModel.getModel("emphasis");setStatesStylesFromModel(el,itemModel),toggleHoverEmphasis(el,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled"))}function transInit(points,dim,itemLayout){return util.map(points,(function(point){return(point=point.slice())[dim]=itemLayout.initBaseline,point}))}var boxplot_BoxplotView=BoxplotView_BoxplotView;function boxplotVisual(ecModel,api){}var boxplotLayout_each=util.each;function boxplotLayout(ecModel){var groupResult=function groupSeriesByAxis(ecModel){var result=[],axisList=[];return ecModel.eachSeriesByType("boxplot",(function(seriesModel){var baseAxis=seriesModel.getBaseAxis(),idx=util.indexOf(axisList,baseAxis);idx<0&&(idx=axisList.length,axisList[idx]=baseAxis,result[idx]={axis:baseAxis,seriesModels:[]}),result[idx].seriesModels.push(seriesModel)})),result}(ecModel);boxplotLayout_each(groupResult,(function(groupItem){var seriesModels=groupItem.seriesModels;seriesModels.length&&(!function calculateBase(groupItem){var bandWidth,baseAxis=groupItem.axis,seriesModels=groupItem.seriesModels,seriesCount=seriesModels.length,boxWidthList=groupItem.boxWidthList=[],boxOffsetList=groupItem.boxOffsetList=[],boundList=[];if("category"===baseAxis.type)bandWidth=baseAxis.getBandWidth();else{var maxDataCount_1=0;boxplotLayout_each(seriesModels,(function(seriesModel){maxDataCount_1=Math.max(maxDataCount_1,seriesModel.getData().count())}));var extent=baseAxis.getExtent();bandWidth=Math.abs(extent[1]-extent[0])/maxDataCount_1}boxplotLayout_each(seriesModels,(function(seriesModel){var boxWidthBound=seriesModel.get("boxWidth");util.isArray(boxWidthBound)||(boxWidthBound=[boxWidthBound,boxWidthBound]),boundList.push([number_parsePercent(boxWidthBound[0],bandWidth)||0,number_parsePercent(boxWidthBound[1],bandWidth)||0])}));var availableWidth=.8*bandWidth-2,boxGap=availableWidth/seriesCount*.3,boxWidth=(availableWidth-boxGap*(seriesCount-1))/seriesCount,base=boxWidth/2-availableWidth/2;boxplotLayout_each(seriesModels,(function(seriesModel,idx){boxOffsetList.push(base),base+=boxGap+boxWidth,boxWidthList.push(Math.min(Math.max(boxWidth,boundList[idx][0]),boundList[idx][1]))}))}(groupItem),boxplotLayout_each(seriesModels,(function(seriesModel,idx){!function layoutSingleSeries(seriesModel,offset,boxWidth){var coordSys=seriesModel.coordinateSystem,data=seriesModel.getData(),halfWidth=boxWidth/2,cDimIdx="horizontal"===seriesModel.get("layout")?0:1,vDimIdx=1-cDimIdx,coordDims=["x","y"],cDim=data.mapDimension(coordDims[cDimIdx]),vDims=data.mapDimensionsAll(coordDims[vDimIdx]);if(null==cDim||vDims.length<5)return;for(var dataIndex=0;dataIndex<data.count();dataIndex++){var axisDimVal=data.get(cDim,dataIndex),median=getPoint(axisDimVal,vDims[2],dataIndex),end1=getPoint(axisDimVal,vDims[0],dataIndex),end2=getPoint(axisDimVal,vDims[1],dataIndex),end4=getPoint(axisDimVal,vDims[3],dataIndex),end5=getPoint(axisDimVal,vDims[4],dataIndex),ends=[];addBodyEnd(ends,end2,!1),addBodyEnd(ends,end4,!0),ends.push(end1,end2,end5,end4),layEndLine(ends,end1),layEndLine(ends,end5),layEndLine(ends,median),data.setItemLayout(dataIndex,{initBaseline:median[vDimIdx],ends:ends})}function getPoint(axisDimVal,dim,dataIndex){var point,val=data.get(dim,dataIndex),p=[];return p[cDimIdx]=axisDimVal,p[vDimIdx]=val,isNaN(axisDimVal)||isNaN(val)?point=[NaN,NaN]:(point=coordSys.dataToPoint(p))[cDimIdx]+=offset,point}function addBodyEnd(ends,point,start){var point1=point.slice(),point2=point.slice();point1[cDimIdx]+=halfWidth,point2[cDimIdx]-=halfWidth,start?ends.push(point1,point2):ends.push(point2,point1)}function layEndLine(ends,endCenter){var from=endCenter.slice(),to=endCenter.slice();from[cDimIdx]-=halfWidth,to[cDimIdx]+=halfWidth,ends.push(from,to)}}(seriesModel,groupItem.boxOffsetList[idx],groupItem.boxWidthList[idx])})))}))}var boxplotTransform={type:"echarts:boxplot",transform:function transform(params){var upstream=params.upstream;if("arrayRows"!==upstream.sourceFormat){0,throwError("")}var result=function prepareBoxplotData(rawData,opt){for(var boxData=[],outliers=[],boundIQR=(opt=opt||{}).boundIQR,useExtreme="none"===boundIQR||0===boundIQR,i=0;i<rawData.length;i++){var ascList=asc(rawData[i].slice()),Q1=quantile(ascList,.25),Q2=quantile(ascList,.5),Q3=quantile(ascList,.75),min=ascList[0],max=ascList[ascList.length-1],bound=(null==boundIQR?1.5:boundIQR)*(Q3-Q1),low=useExtreme?min:Math.max(min,Q1-bound),high=useExtreme?max:Math.min(max,Q3+bound),itemNameFormatter=opt.itemNameFormatter,itemName=Object(util.isFunction)(itemNameFormatter)?itemNameFormatter({value:i}):Object(util.isString)(itemNameFormatter)?itemNameFormatter.replace("{value}",i+""):i+"";boxData.push([itemName,low,Q1,Q2,Q3,high]);for(var j=0;j<ascList.length;j++){var dataItem=ascList[j];if(dataItem<low||dataItem>high){var outlier=[itemName,dataItem];outliers.push(outlier)}}}return{boxData:boxData,outliers:outliers}}(upstream.getRawData(),params.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:result.boxData},{data:result.outliers}]}};var SKIP_PROPS=["color","borderColor"],CandlestickView_CandlestickView=function(_super){function CandlestickView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CandlestickView.type,_this}return __extends(CandlestickView,_super),CandlestickView.prototype.render=function(seriesModel,ecModel,api){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(seriesModel),this._isLargeDraw?this._renderLarge(seriesModel):this._renderNormal(seriesModel)},CandlestickView.prototype.incrementalPrepareRender=function(seriesModel,ecModel,api){this._clear(),this._updateDrawMode(seriesModel)},CandlestickView.prototype.incrementalRender=function(params,seriesModel,ecModel,api){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(params,seriesModel):this._incrementalRenderNormal(params,seriesModel)},CandlestickView.prototype.eachRendered=function(cb){traverseElements(this._progressiveEls||this.group,cb)},CandlestickView.prototype._updateDrawMode=function(seriesModel){var isLargeDraw=seriesModel.pipelineContext.large;null!=this._isLargeDraw&&isLargeDraw===this._isLargeDraw||(this._isLargeDraw=isLargeDraw,this._clear())},CandlestickView.prototype._renderNormal=function(seriesModel){var data=seriesModel.getData(),oldData=this._data,group=this.group,isSimpleBox=data.getLayout("isSimpleBox"),needsClip=seriesModel.get("clip",!0),coord=seriesModel.coordinateSystem,clipArea=coord.getArea&&coord.getArea();this._data||group.removeAll(),data.diff(oldData).add((function(newIdx){if(data.hasValue(newIdx)){var itemLayout=data.getItemLayout(newIdx);if(needsClip&&isNormalBoxClipped(clipArea,itemLayout))return;var el=CandlestickView_createNormalBox(itemLayout,newIdx,!0);initProps(el,{shape:{points:itemLayout.ends}},seriesModel,newIdx),setBoxCommon(el,data,newIdx,isSimpleBox),group.add(el),data.setItemGraphicEl(newIdx,el)}})).update((function(newIdx,oldIdx){var el=oldData.getItemGraphicEl(oldIdx);if(data.hasValue(newIdx)){var itemLayout=data.getItemLayout(newIdx);needsClip&&isNormalBoxClipped(clipArea,itemLayout)?group.remove(el):(el?(updateProps(el,{shape:{points:itemLayout.ends}},seriesModel,newIdx),saveOldStyle(el)):el=CandlestickView_createNormalBox(itemLayout,newIdx),setBoxCommon(el,data,newIdx,isSimpleBox),group.add(el),data.setItemGraphicEl(newIdx,el))}else group.remove(el)})).remove((function(oldIdx){var el=oldData.getItemGraphicEl(oldIdx);el&&group.remove(el)})).execute(),this._data=data},CandlestickView.prototype._renderLarge=function(seriesModel){this._clear(),CandlestickView_createLarge(seriesModel,this.group);var clipPath=seriesModel.get("clip",!0)?createClipPath(seriesModel.coordinateSystem,!1,seriesModel):null;clipPath?this.group.setClipPath(clipPath):this.group.removeClipPath()},CandlestickView.prototype._incrementalRenderNormal=function(params,seriesModel){for(var dataIndex,data=seriesModel.getData(),isSimpleBox=data.getLayout("isSimpleBox");null!=(dataIndex=params.next());){var el=CandlestickView_createNormalBox(data.getItemLayout(dataIndex),dataIndex);setBoxCommon(el,data,dataIndex,isSimpleBox),el.incremental=!0,this.group.add(el),this._progressiveEls.push(el)}},CandlestickView.prototype._incrementalRenderLarge=function(params,seriesModel){CandlestickView_createLarge(seriesModel,this.group,this._progressiveEls,!0)},CandlestickView.prototype.remove=function(ecModel){this._clear()},CandlestickView.prototype._clear=function(){this.group.removeAll(),this._data=null},CandlestickView.type="candlestick",CandlestickView}(Chart),NormalBoxPathShape=function NormalBoxPathShape(){},CandlestickView_NormalBoxPath=function(_super){function NormalBoxPath(opts){var _this=_super.call(this,opts)||this;return _this.type="normalCandlestickBox",_this}return __extends(NormalBoxPath,_super),NormalBoxPath.prototype.getDefaultShape=function(){return new NormalBoxPathShape},NormalBoxPath.prototype.buildPath=function(ctx,shape){var ends=shape.points;this.__simpleBox?(ctx.moveTo(ends[4][0],ends[4][1]),ctx.lineTo(ends[6][0],ends[6][1])):(ctx.moveTo(ends[0][0],ends[0][1]),ctx.lineTo(ends[1][0],ends[1][1]),ctx.lineTo(ends[2][0],ends[2][1]),ctx.lineTo(ends[3][0],ends[3][1]),ctx.closePath(),ctx.moveTo(ends[4][0],ends[4][1]),ctx.lineTo(ends[5][0],ends[5][1]),ctx.moveTo(ends[6][0],ends[6][1]),ctx.lineTo(ends[7][0],ends[7][1]))},NormalBoxPath}(graphic_Path);function CandlestickView_createNormalBox(itemLayout,dataIndex,isInit){var ends=itemLayout.ends;return new CandlestickView_NormalBoxPath({shape:{points:isInit?CandlestickView_transInit(ends,itemLayout):ends},z2:100})}function isNormalBoxClipped(clipArea,itemLayout){for(var clipped=!0,i=0;i<itemLayout.ends.length;i++)if(clipArea.contain(itemLayout.ends[i][0],itemLayout.ends[i][1])){clipped=!1;break}return clipped}function setBoxCommon(el,data,dataIndex,isSimpleBox){var itemModel=data.getItemModel(dataIndex);el.useStyle(data.getItemVisual(dataIndex,"style")),el.style.strokeNoScale=!0,el.__simpleBox=isSimpleBox,setStatesStylesFromModel(el,itemModel)}function CandlestickView_transInit(points,itemLayout){return util.map(points,(function(point){return(point=point.slice())[1]=itemLayout.initBaseline,point}))}var LargeBoxPathShape=function LargeBoxPathShape(){},CandlestickView_LargeBoxPath=function(_super){function LargeBoxPath(opts){var _this=_super.call(this,opts)||this;return _this.type="largeCandlestickBox",_this}return __extends(LargeBoxPath,_super),LargeBoxPath.prototype.getDefaultShape=function(){return new LargeBoxPathShape},LargeBoxPath.prototype.buildPath=function(ctx,shape){for(var points=shape.points,i=0;i<points.length;)if(this.__sign===points[i++]){var x=points[i++];ctx.moveTo(x,points[i++]),ctx.lineTo(x,points[i++])}else i+=3},LargeBoxPath}(graphic_Path);function CandlestickView_createLarge(seriesModel,group,progressiveEls,incremental){var data=seriesModel.getData(),largePoints=data.getLayout("largePoints"),elP=new CandlestickView_LargeBoxPath({shape:{points:largePoints},__sign:1});group.add(elP);var elN=new CandlestickView_LargeBoxPath({shape:{points:largePoints},__sign:-1});group.add(elN),setLargeStyle(1,elP,seriesModel,data),setLargeStyle(-1,elN,seriesModel,data),incremental&&(elP.incremental=!0,elN.incremental=!0),progressiveEls&&progressiveEls.push(elP,elN)}function setLargeStyle(sign,el,seriesModel,data){var borderColor=seriesModel.get(["itemStyle",sign>0?"borderColor":"borderColor0"])||seriesModel.get(["itemStyle",sign>0?"color":"color0"]),itemStyle=seriesModel.getModel("itemStyle").getItemStyle(SKIP_PROPS);el.useStyle(itemStyle),el.style.fill=null,el.style.stroke=borderColor}var candlestick_CandlestickView=CandlestickView_CandlestickView,CandlestickSeries_CandlestickSeriesModel=function(_super){function CandlestickSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CandlestickSeriesModel.type,_this.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],_this}return __extends(CandlestickSeriesModel,_super),CandlestickSeriesModel.prototype.getShadowDim=function(){return"open"},CandlestickSeriesModel.prototype.brushSelector=function(dataIndex,data,selectors){var itemLayout=data.getItemLayout(dataIndex);return itemLayout&&selectors.rect(itemLayout.brushRect)},CandlestickSeriesModel.type="series.candlestick",CandlestickSeriesModel.dependencies=["xAxis","yAxis","grid"],CandlestickSeriesModel.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},CandlestickSeriesModel}(Series);Object(util.mixin)(CandlestickSeries_CandlestickSeriesModel,whiskerBoxCommon_WhiskerBoxCommonMixin,!0);var CandlestickSeries=CandlestickSeries_CandlestickSeriesModel;function candlestickPreprocessor(option){option&&util.isArray(option.series)&&util.each(option.series,(function(seriesItem){util.isObject(seriesItem)&&"k"===seriesItem.type&&(seriesItem.type="candlestick")}))}var positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"],candlestick_candlestickVisual={seriesType:"candlestick",plan:createRenderPlanner(),performRawSeries:!0,reset:function(seriesModel,ecModel){function getColor(sign,model){return model.get(sign>0?positiveColorQuery:negativeColorQuery)}function getBorderColor(sign,model){return model.get(sign>0?positiveBorderColorQuery:negativeBorderColorQuery)}if(!ecModel.isSeriesFiltered(seriesModel))return!seriesModel.pipelineContext.large&&{progress:function(params,data){for(var dataIndex;null!=(dataIndex=params.next());){var itemModel=data.getItemModel(dataIndex),sign=data.getItemLayout(dataIndex).sign,style=itemModel.getItemStyle();style.fill=getColor(sign,itemModel),style.stroke=getBorderColor(sign,itemModel)||style.fill;var existsStyle=data.ensureUniqueItemVisual(dataIndex,"style");Object(util.extend)(existsStyle,style)}}}}};function getSign(store,dataIndex,openVal,closeVal,closeDimI){return openVal>closeVal?-1:openVal<closeVal?1:dataIndex>0?store.get(closeDimI,dataIndex-1)<=closeVal?1:-1:1}var candlestick_candlestickLayout={seriesType:"candlestick",plan:createRenderPlanner(),reset:function(seriesModel){var coordSys=seriesModel.coordinateSystem,data=seriesModel.getData(),candleWidth=function calculateCandleWidth(seriesModel,data){var extent,baseAxis=seriesModel.getBaseAxis(),bandWidth="category"===baseAxis.type?baseAxis.getBandWidth():(extent=baseAxis.getExtent(),Math.abs(extent[1]-extent[0])/data.count()),barMaxWidth=number_parsePercent(Object(util.retrieve2)(seriesModel.get("barMaxWidth"),bandWidth),bandWidth),barMinWidth=number_parsePercent(Object(util.retrieve2)(seriesModel.get("barMinWidth"),1),bandWidth),barWidth=seriesModel.get("barWidth");return null!=barWidth?number_parsePercent(barWidth,bandWidth):Math.max(Math.min(bandWidth/2,barMaxWidth),barMinWidth)}(seriesModel,data),coordDims=["x","y"],cDimI=data.getDimensionIndex(data.mapDimension(coordDims[0])),vDimsI=Object(util.map)(data.mapDimensionsAll(coordDims[1]),data.getDimensionIndex,data),openDimI=vDimsI[0],closeDimI=vDimsI[1],lowestDimI=vDimsI[2],highestDimI=vDimsI[3];if(data.setLayout({candleWidth:candleWidth,isSimpleBox:candleWidth<=1.3}),!(cDimI<0||vDimsI.length<4))return{progress:seriesModel.pipelineContext.large?function largeProgress(params,data){var point,dataIndex,points=createFloat32Array(4*params.count),offset=0,tmpIn=[],tmpOut=[],store=data.getStore();for(;null!=(dataIndex=params.next());){var axisDimVal=store.get(cDimI,dataIndex),openVal=store.get(openDimI,dataIndex),closeVal=store.get(closeDimI,dataIndex),lowestVal=store.get(lowestDimI,dataIndex),highestVal=store.get(highestDimI,dataIndex);isNaN(axisDimVal)||isNaN(lowestVal)||isNaN(highestVal)?(points[offset++]=NaN,offset+=3):(points[offset++]=getSign(store,dataIndex,openVal,closeVal,closeDimI),tmpIn[0]=axisDimVal,tmpIn[1]=lowestVal,point=coordSys.dataToPoint(tmpIn,null,tmpOut),points[offset++]=point?point[0]:NaN,points[offset++]=point?point[1]:NaN,tmpIn[1]=highestVal,point=coordSys.dataToPoint(tmpIn,null,tmpOut),points[offset++]=point?point[1]:NaN)}data.setLayout("largePoints",points)}:function normalProgress(params,data){var dataIndex,store=data.getStore();for(;null!=(dataIndex=params.next());){var axisDimVal=store.get(cDimI,dataIndex),openVal=store.get(openDimI,dataIndex),closeVal=store.get(closeDimI,dataIndex),lowestVal=store.get(lowestDimI,dataIndex),highestVal=store.get(highestDimI,dataIndex),ocLow=Math.min(openVal,closeVal),ocHigh=Math.max(openVal,closeVal),ocLowPoint=getPoint(ocLow,axisDimVal),ocHighPoint=getPoint(ocHigh,axisDimVal),lowestPoint=getPoint(lowestVal,axisDimVal),highestPoint=getPoint(highestVal,axisDimVal),ends=[];addBodyEnd(ends,ocHighPoint,0),addBodyEnd(ends,ocLowPoint,1),ends.push(subPixelOptimizePoint(highestPoint),subPixelOptimizePoint(ocHighPoint),subPixelOptimizePoint(lowestPoint),subPixelOptimizePoint(ocLowPoint)),data.setItemLayout(dataIndex,{sign:getSign(store,dataIndex,openVal,closeVal,closeDimI),initBaseline:openVal>closeVal?ocHighPoint[1]:ocLowPoint[1],ends:ends,brushRect:makeBrushRect(lowestVal,highestVal,axisDimVal)})}function getPoint(val,axisDimVal){var p=[];return p[0]=axisDimVal,p[1]=val,isNaN(axisDimVal)||isNaN(val)?[NaN,NaN]:coordSys.dataToPoint(p)}function addBodyEnd(ends,point,start){var point1=point.slice(),point2=point.slice();point1[0]=graphic_subPixelOptimize(point1[0]+candleWidth/2,1,!1),point2[0]=graphic_subPixelOptimize(point2[0]-candleWidth/2,1,!0),start?ends.push(point1,point2):ends.push(point2,point1)}function makeBrushRect(lowestVal,highestVal,axisDimVal){var pmin=getPoint(lowestVal,axisDimVal),pmax=getPoint(highestVal,axisDimVal);return pmin[0]-=candleWidth/2,pmax[0]-=candleWidth/2,{x:pmin[0],y:pmin[1],width:candleWidth,height:pmax[1]-pmin[1]}}function subPixelOptimizePoint(point){return point[0]=graphic_subPixelOptimize(point[0],1),point}}}}};function updateRipplePath(rippleGroup,effectCfg){var color=effectCfg.rippleEffectColor||effectCfg.color;rippleGroup.eachChild((function(ripplePath){ripplePath.attr({z:effectCfg.z,zlevel:effectCfg.zlevel,style:{stroke:"stroke"===effectCfg.brushType?color:null,fill:"fill"===effectCfg.brushType?color:null}})}))}var helper_EffectSymbol=function(_super){function EffectSymbol(data,idx){var _this=_super.call(this)||this,symbol=new helper_Symbol(data,idx),rippleGroup=new graphic_Group;return _this.add(symbol),_this.add(rippleGroup),_this.updateData(data,idx),_this}return __extends(EffectSymbol,_super),EffectSymbol.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},EffectSymbol.prototype.startEffectAnimation=function(effectCfg){for(var symbolType=effectCfg.symbolType,color=effectCfg.color,rippleNumber=effectCfg.rippleNumber,rippleGroup=this.childAt(1),i=0;i<rippleNumber;i++){var ripplePath=symbol_createSymbol(symbolType,-1,-1,2,2,color);ripplePath.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var delay=-i/rippleNumber*effectCfg.period+effectCfg.effectOffset;ripplePath.animate("",!0).when(effectCfg.period,{scaleX:effectCfg.rippleScale/2,scaleY:effectCfg.rippleScale/2}).delay(delay).start(),ripplePath.animateStyle(!0).when(effectCfg.period,{opacity:0}).delay(delay).start(),rippleGroup.add(ripplePath)}updateRipplePath(rippleGroup,effectCfg)},EffectSymbol.prototype.updateEffectAnimation=function(effectCfg){for(var oldEffectCfg=this._effectCfg,rippleGroup=this.childAt(1),DIFFICULT_PROPS=["symbolType","period","rippleScale","rippleNumber"],i=0;i<DIFFICULT_PROPS.length;i++){var propName=DIFFICULT_PROPS[i];if(oldEffectCfg[propName]!==effectCfg[propName])return this.stopEffectAnimation(),void this.startEffectAnimation(effectCfg)}updateRipplePath(rippleGroup,effectCfg)},EffectSymbol.prototype.highlight=function(){enterEmphasis(this)},EffectSymbol.prototype.downplay=function(){leaveEmphasis(this)},EffectSymbol.prototype.getSymbolType=function(){var symbol=this.childAt(0);return symbol&&symbol.getSymbolType()},EffectSymbol.prototype.updateData=function(data,idx){var _this=this,seriesModel=data.hostModel;this.childAt(0).updateData(data,idx);var rippleGroup=this.childAt(1),itemModel=data.getItemModel(idx),symbolType=data.getItemVisual(idx,"symbol"),symbolSize=normalizeSymbolSize(data.getItemVisual(idx,"symbolSize")),symbolStyle=data.getItemVisual(idx,"style"),color=symbolStyle&&symbolStyle.fill,emphasisModel=itemModel.getModel("emphasis");rippleGroup.setScale(symbolSize),rippleGroup.traverse((function(ripplePath){ripplePath.setStyle("fill",color)}));var symbolOffset=normalizeSymbolOffset(data.getItemVisual(idx,"symbolOffset"),symbolSize);symbolOffset&&(rippleGroup.x=symbolOffset[0],rippleGroup.y=symbolOffset[1]);var symbolRotate=data.getItemVisual(idx,"symbolRotate");rippleGroup.rotation=(symbolRotate||0)*Math.PI/180||0;var effectCfg={};effectCfg.showEffectOn=seriesModel.get("showEffectOn"),effectCfg.rippleScale=itemModel.get(["rippleEffect","scale"]),effectCfg.brushType=itemModel.get(["rippleEffect","brushType"]),effectCfg.period=1e3*itemModel.get(["rippleEffect","period"]),effectCfg.effectOffset=idx/data.count(),effectCfg.z=seriesModel.getShallow("z")||0,effectCfg.zlevel=seriesModel.getShallow("zlevel")||0,effectCfg.symbolType=symbolType,effectCfg.color=color,effectCfg.rippleEffectColor=itemModel.get(["rippleEffect","color"]),effectCfg.rippleNumber=itemModel.get(["rippleEffect","number"]),"render"===effectCfg.showEffectOn?(this._effectCfg?this.updateEffectAnimation(effectCfg):this.startEffectAnimation(effectCfg),this._effectCfg=effectCfg):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(toState){"emphasis"===toState?"render"!==effectCfg.showEffectOn&&_this.startEffectAnimation(effectCfg):"normal"===toState&&"render"!==effectCfg.showEffectOn&&_this.stopEffectAnimation()}),this._effectCfg=effectCfg,toggleHoverEmphasis(this,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled"))},EffectSymbol.prototype.fadeOut=function(cb){cb&&cb()},EffectSymbol}(graphic_Group),EffectScatterView_EffectScatterView=function(_super){function EffectScatterView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=EffectScatterView.type,_this}return __extends(EffectScatterView,_super),EffectScatterView.prototype.init=function(){this._symbolDraw=new helper_SymbolDraw(helper_EffectSymbol)},EffectScatterView.prototype.render=function(seriesModel,ecModel,api){var data=seriesModel.getData(),effectSymbolDraw=this._symbolDraw;effectSymbolDraw.updateData(data,{clipShape:this._getClipShape(seriesModel)}),this.group.add(effectSymbolDraw.group)},EffectScatterView.prototype._getClipShape=function(seriesModel){var coordSys=seriesModel.coordinateSystem,clipArea=coordSys&&coordSys.getArea&&coordSys.getArea();return seriesModel.get("clip",!0)?clipArea:null},EffectScatterView.prototype.updateTransform=function(seriesModel,ecModel,api){var data=seriesModel.getData();this.group.dirty();var res=pointsLayout("").reset(seriesModel,ecModel,api);res.progress&&res.progress({start:0,end:data.count(),count:data.count()},data),this._symbolDraw.updateLayout()},EffectScatterView.prototype._updateGroupTransform=function(seriesModel){var coordSys=seriesModel.coordinateSystem;coordSys&&coordSys.getRoamTransform&&(this.group.transform=matrix_clone(coordSys.getRoamTransform()),this.group.decomposeTransform())},EffectScatterView.prototype.remove=function(ecModel,api){this._symbolDraw&&this._symbolDraw.remove(!0)},EffectScatterView.type="effectScatter",EffectScatterView}(Chart),effectScatter_EffectScatterView=EffectScatterView_EffectScatterView,EffectScatterSeries_EffectScatterSeriesModel=function(_super){function EffectScatterSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=EffectScatterSeriesModel.type,_this.hasSymbolVisual=!0,_this}return __extends(EffectScatterSeriesModel,_super),EffectScatterSeriesModel.prototype.getInitialData=function(option,ecModel){return helper_createSeriesData(null,this,{useEncodeDefaulter:!0})},EffectScatterSeriesModel.prototype.brushSelector=function(dataIndex,data,selectors){return selectors.point(data.getItemLayout(dataIndex))},EffectScatterSeriesModel.type="series.effectScatter",EffectScatterSeriesModel.dependencies=["grid","polar"],EffectScatterSeriesModel.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},EffectScatterSeriesModel}(Series),EffectScatterSeries=EffectScatterSeries_EffectScatterSeriesModel;var helper_EffectLine=function(_super){function EffectLine(lineData,idx,seriesScope){var _this=_super.call(this)||this;return _this.add(_this.createLine(lineData,idx,seriesScope)),_this._updateEffectSymbol(lineData,idx),_this}return __extends(EffectLine,_super),EffectLine.prototype.createLine=function(lineData,idx,seriesScope){return new helper_Line(lineData,idx,seriesScope)},EffectLine.prototype._updateEffectSymbol=function(lineData,idx){var effectModel=lineData.getItemModel(idx).getModel("effect"),size=effectModel.get("symbolSize"),symbolType=effectModel.get("symbol");util.isArray(size)||(size=[size,size]);var lineStyle=lineData.getItemVisual(idx,"style"),color=effectModel.get("color")||lineStyle&&lineStyle.stroke,symbol=this.childAt(1);this._symbolType!==symbolType&&(this.remove(symbol),(symbol=symbol_createSymbol(symbolType,-.5,-.5,1,1,color)).z2=100,symbol.culling=!0,this.add(symbol)),symbol&&(symbol.setStyle("shadowColor",color),symbol.setStyle(effectModel.getItemStyle(["color"])),symbol.scaleX=size[0],symbol.scaleY=size[1],symbol.setColor(color),this._symbolType=symbolType,this._symbolScale=size,this._updateEffectAnimation(lineData,effectModel,idx))},EffectLine.prototype._updateEffectAnimation=function(lineData,effectModel,idx){var symbol=this.childAt(1);if(symbol){var points=lineData.getItemLayout(idx),period=1e3*effectModel.get("period"),loop=effectModel.get("loop"),constantSpeed=effectModel.get("constantSpeed"),delayExpr=util.retrieve(effectModel.get("delay"),(function(idx){return idx/lineData.count()*period/3}));if(symbol.ignore=!0,this._updateAnimationPoints(symbol,points),constantSpeed>0&&(period=this._getLineLength(symbol)/constantSpeed*1e3),period!==this._period||loop!==this._loop){symbol.stopAnimation();var delayNum=void 0;delayNum=util.isFunction(delayExpr)?delayExpr(idx):delayExpr,symbol.__t>0&&(delayNum=-period*symbol.__t),this._animateSymbol(symbol,period,delayNum,loop)}this._period=period,this._loop=loop}},EffectLine.prototype._animateSymbol=function(symbol,period,delayNum,loop){if(period>0){symbol.__t=0;var self_1=this,animator=symbol.animate("",loop).when(period,{__t:1}).delay(delayNum).during((function(){self_1._updateSymbolPosition(symbol)}));loop||animator.done((function(){self_1.remove(symbol)})),animator.start()}},EffectLine.prototype._getLineLength=function(symbol){return vector_dist(symbol.__p1,symbol.__cp1)+vector_dist(symbol.__cp1,symbol.__p2)},EffectLine.prototype._updateAnimationPoints=function(symbol,points){symbol.__p1=points[0],symbol.__p2=points[1],symbol.__cp1=points[2]||[(points[0][0]+points[1][0])/2,(points[0][1]+points[1][1])/2]},EffectLine.prototype.updateData=function(lineData,idx,seriesScope){this.childAt(0).updateData(lineData,idx,seriesScope),this._updateEffectSymbol(lineData,idx)},EffectLine.prototype._updateSymbolPosition=function(symbol){var p1=symbol.__p1,p2=symbol.__p2,cp1=symbol.__cp1,t=symbol.__t,pos=[symbol.x,symbol.y],lastPos=pos.slice(),quadraticAt=curve_quadraticAt,quadraticDerivativeAt=curve_quadraticDerivativeAt;pos[0]=quadraticAt(p1[0],cp1[0],p2[0],t),pos[1]=quadraticAt(p1[1],cp1[1],p2[1],t);var tx=quadraticDerivativeAt(p1[0],cp1[0],p2[0],t),ty=quadraticDerivativeAt(p1[1],cp1[1],p2[1],t);symbol.rotation=-Math.atan2(ty,tx)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==symbol.__lastT&&symbol.__lastT<symbol.__t?(symbol.scaleY=1.05*vector_dist(lastPos,pos),1===t&&(pos[0]=lastPos[0]+(pos[0]-lastPos[0])/2,pos[1]=lastPos[1]+(pos[1]-lastPos[1])/2)):1===symbol.__lastT?symbol.scaleY=2*vector_dist(p1,pos):symbol.scaleY=this._symbolScale[1]),symbol.__lastT=symbol.__t,symbol.ignore=!1,symbol.x=pos[0],symbol.y=pos[1]},EffectLine.prototype.updateLayout=function(lineData,idx){this.childAt(0).updateLayout(lineData,idx);var effectModel=lineData.getItemModel(idx).getModel("effect");this._updateEffectAnimation(lineData,effectModel,idx)},EffectLine}(graphic_Group),helper_Polyline=function(_super){function Polyline(lineData,idx,seriesScope){var _this=_super.call(this)||this;return _this._createPolyline(lineData,idx,seriesScope),_this}return __extends(Polyline,_super),Polyline.prototype._createPolyline=function(lineData,idx,seriesScope){var points=lineData.getItemLayout(idx),line=new shape_Polyline({shape:{points:points}});this.add(line),this._updateCommonStl(lineData,idx,seriesScope)},Polyline.prototype.updateData=function(lineData,idx,seriesScope){var seriesModel=lineData.hostModel;updateProps(this.childAt(0),{shape:{points:lineData.getItemLayout(idx)}},seriesModel,idx),this._updateCommonStl(lineData,idx,seriesScope)},Polyline.prototype._updateCommonStl=function(lineData,idx,seriesScope){var line=this.childAt(0),itemModel=lineData.getItemModel(idx),emphasisLineStyle=seriesScope&&seriesScope.emphasisLineStyle,focus=seriesScope&&seriesScope.focus,blurScope=seriesScope&&seriesScope.blurScope,emphasisDisabled=seriesScope&&seriesScope.emphasisDisabled;if(!seriesScope||lineData.hasItemOption){var emphasisModel=itemModel.getModel("emphasis");emphasisLineStyle=emphasisModel.getModel("lineStyle").getLineStyle(),emphasisDisabled=emphasisModel.get("disabled"),focus=emphasisModel.get("focus"),blurScope=emphasisModel.get("blurScope")}line.useStyle(lineData.getItemVisual(idx,"style")),line.style.fill=null,line.style.strokeNoScale=!0,line.ensureState("emphasis").style=emphasisLineStyle,toggleHoverEmphasis(this,focus,blurScope,emphasisDisabled)},Polyline.prototype.updateLayout=function(lineData,idx){this.childAt(0).setShape("points",lineData.getItemLayout(idx))},Polyline}(graphic_Group),EffectPolyline_EffectPolyline=function(_super){function EffectPolyline(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._lastFrame=0,_this._lastFramePercent=0,_this}return __extends(EffectPolyline,_super),EffectPolyline.prototype.createLine=function(lineData,idx,seriesScope){return new helper_Polyline(lineData,idx,seriesScope)},EffectPolyline.prototype._updateAnimationPoints=function(symbol,points){this._points=points;for(var accLenArr=[0],len=0,i=1;i<points.length;i++){var p1=points[i-1],p2=points[i];len+=vector_dist(p1,p2),accLenArr.push(len)}if(0!==len){for(i=0;i<accLenArr.length;i++)accLenArr[i]/=len;this._offsets=accLenArr,this._length=len}else this._length=0},EffectPolyline.prototype._getLineLength=function(){return this._length},EffectPolyline.prototype._updateSymbolPosition=function(symbol){var t=symbol.__t,points=this._points,offsets=this._offsets,len=points.length;if(offsets){var frame,lastFrame=this._lastFrame;if(t<this._lastFramePercent){for(frame=Math.min(lastFrame+1,len-1);frame>=0&&!(offsets[frame]<=t);frame--);frame=Math.min(frame,len-2)}else{for(frame=lastFrame;frame<len&&!(offsets[frame]>t);frame++);frame=Math.min(frame-1,len-2)}var p=(t-offsets[frame])/(offsets[frame+1]-offsets[frame]),p0=points[frame],p1=points[frame+1];symbol.x=p0[0]*(1-p)+p*p1[0],symbol.y=p0[1]*(1-p)+p*p1[1];var tx=p1[0]-p0[0],ty=p1[1]-p0[1];symbol.rotation=-Math.atan2(ty,tx)-Math.PI/2,this._lastFrame=frame,this._lastFramePercent=t,symbol.ignore=!1}},EffectPolyline}(helper_EffectLine),helper_EffectPolyline=EffectPolyline_EffectPolyline,LargeLinesPathShape=function LargeLinesPathShape(){this.polyline=!1,this.curveness=0,this.segs=[]},LargeLineDraw_LargeLinesPath=function(_super){function LargeLinesPath(opts){var _this=_super.call(this,opts)||this;return _this._off=0,_this.hoverDataIdx=-1,_this}return __extends(LargeLinesPath,_super),LargeLinesPath.prototype.reset=function(){this.notClear=!1,this._off=0},LargeLinesPath.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},LargeLinesPath.prototype.getDefaultShape=function(){return new LargeLinesPathShape},LargeLinesPath.prototype.buildPath=function(ctx,shape){var i,segs=shape.segs,curveness=shape.curveness;if(shape.polyline)for(i=this._off;i<segs.length;){var count=segs[i++];if(count>0){ctx.moveTo(segs[i++],segs[i++]);for(var k=1;k<count;k++)ctx.lineTo(segs[i++],segs[i++])}}else for(i=this._off;i<segs.length;){var x0=segs[i++],y0=segs[i++],x1=segs[i++],y1=segs[i++];if(ctx.moveTo(x0,y0),curveness>0){var x2=(x0+x1)/2-(y0-y1)*curveness,y2=(y0+y1)/2-(x1-x0)*curveness;ctx.quadraticCurveTo(x2,y2,x1,y1)}else ctx.lineTo(x1,y1)}this.incremental&&(this._off=i,this.notClear=!0)},LargeLinesPath.prototype.findDataIndex=function(x,y){var shape=this.shape,segs=shape.segs,curveness=shape.curveness,lineWidth=this.style.lineWidth;if(shape.polyline)for(var dataIndex=0,i=0;i<segs.length;){var count=segs[i++];if(count>0)for(var x0=segs[i++],y0=segs[i++],k=1;k<count;k++){if(containStroke(x0,y0,x1=segs[i++],y1=segs[i++],lineWidth,x,y))return dataIndex}dataIndex++}else for(dataIndex=0,i=0;i<segs.length;){x0=segs[i++],y0=segs[i++];var x1=segs[i++],y1=segs[i++];if(curveness>0){if(quadratic_containStroke(x0,y0,(x0+x1)/2-(y0-y1)*curveness,(y0+y1)/2-(x1-x0)*curveness,x1,y1,lineWidth,x,y))return dataIndex}else if(containStroke(x0,y0,x1,y1,lineWidth,x,y))return dataIndex;dataIndex++}return-1},LargeLinesPath.prototype.contain=function(x,y){var localPos=this.transformCoordToLocal(x,y),rect=this.getBoundingRect();return x=localPos[0],y=localPos[1],rect.contain(x,y)?(this.hoverDataIdx=this.findDataIndex(x,y))>=0:(this.hoverDataIdx=-1,!1)},LargeLinesPath.prototype.getBoundingRect=function(){var rect=this._rect;if(!rect){for(var points=this.shape.segs,minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0,i=0;i<points.length;){var x=points[i++],y=points[i++];minX=Math.min(x,minX),maxX=Math.max(x,maxX),minY=Math.min(y,minY),maxY=Math.max(y,maxY)}rect=this._rect=new core_BoundingRect(minX,minY,maxX,maxY)}return rect},LargeLinesPath}(graphic_Path),helper_LargeLineDraw=function(){function LargeLineDraw(){this.group=new graphic_Group}return LargeLineDraw.prototype.updateData=function(data){this._clear();var lineEl=this._create();lineEl.setShape({segs:data.getLayout("linesPoints")}),this._setCommon(lineEl,data)},LargeLineDraw.prototype.incrementalPrepareUpdate=function(data){this.group.removeAll(),this._clear()},LargeLineDraw.prototype.incrementalUpdate=function(taskParams,data){var lastAdded=this._newAdded[0],linePoints=data.getLayout("linesPoints"),oldSegs=lastAdded&&lastAdded.shape.segs;if(oldSegs&&oldSegs.length<2e4){var oldLen=oldSegs.length,newSegs=new Float32Array(oldLen+linePoints.length);newSegs.set(oldSegs),newSegs.set(linePoints,oldLen),lastAdded.setShape({segs:newSegs})}else{this._newAdded=[];var lineEl=this._create();lineEl.incremental=!0,lineEl.setShape({segs:linePoints}),this._setCommon(lineEl,data),lineEl.__startIndex=taskParams.start}},LargeLineDraw.prototype.remove=function(){this._clear()},LargeLineDraw.prototype.eachRendered=function(cb){this._newAdded[0]&&cb(this._newAdded[0])},LargeLineDraw.prototype._create=function(){var lineEl=new LargeLineDraw_LargeLinesPath({cursor:"default"});return this._newAdded.push(lineEl),this.group.add(lineEl),lineEl},LargeLineDraw.prototype._setCommon=function(lineEl,data,isIncremental){var hostModel=data.hostModel;lineEl.setShape({polyline:hostModel.get("polyline"),curveness:hostModel.get(["lineStyle","curveness"])}),lineEl.useStyle(hostModel.getModel("lineStyle").getLineStyle()),lineEl.style.strokeNoScale=!0;var style=data.getVisual("style");style&&style.stroke&&lineEl.setStyle("stroke",style.stroke),lineEl.setStyle("fill",null);var ecData=getECData(lineEl);ecData.seriesIndex=hostModel.seriesIndex,lineEl.on("mousemove",(function(e){ecData.dataIndex=null;var dataIndex=lineEl.hoverDataIdx;dataIndex>0&&(ecData.dataIndex=dataIndex+lineEl.__startIndex)}))},LargeLineDraw.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},LargeLineDraw}(),lines_linesLayout={seriesType:"lines",plan:createRenderPlanner(),reset:function(seriesModel){var coordSys=seriesModel.coordinateSystem;if(coordSys){var isPolyline=seriesModel.get("polyline"),isLarge=seriesModel.pipelineContext.large;return{progress:function(params,lineData){var lineCoords=[];if(isLarge){var points=void 0,segCount=params.end-params.start;if(isPolyline){for(var totalCoordsCount=0,i=params.start;i<params.end;i++)totalCoordsCount+=seriesModel.getLineCoordsCount(i);points=new Float32Array(segCount+2*totalCoordsCount)}else points=new Float32Array(4*segCount);var offset=0,pt=[];for(i=params.start;i<params.end;i++){var len=seriesModel.getLineCoords(i,lineCoords);isPolyline&&(points[offset++]=len);for(var k=0;k<len;k++)pt=coordSys.dataToPoint(lineCoords[k],!1,pt),points[offset++]=pt[0],points[offset++]=pt[1]}lineData.setLayout("linesPoints",points)}else for(i=params.start;i<params.end;i++){var itemModel=lineData.getItemModel(i),pts=(len=seriesModel.getLineCoords(i,lineCoords),[]);if(isPolyline)for(var j=0;j<len;j++)pts.push(coordSys.dataToPoint(lineCoords[j]));else{pts[0]=coordSys.dataToPoint(lineCoords[0]),pts[1]=coordSys.dataToPoint(lineCoords[1]);var curveness=itemModel.get(["lineStyle","curveness"]);+curveness&&(pts[2]=[(pts[0][0]+pts[1][0])/2-(pts[0][1]-pts[1][1])*curveness,(pts[0][1]+pts[1][1])/2-(pts[1][0]-pts[0][0])*curveness])}lineData.setItemLayout(i,pts)}}}}}},LinesView_LinesView=function(_super){function LinesView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=LinesView.type,_this}return __extends(LinesView,_super),LinesView.prototype.render=function(seriesModel,ecModel,api){var data=seriesModel.getData(),lineDraw=this._updateLineDraw(data,seriesModel),zlevel=seriesModel.get("zlevel"),trailLength=seriesModel.get(["effect","trailLength"]),zr=api.getZr(),isSvg="svg"===zr.painter.getType();isSvg||zr.painter.getLayer(zlevel).clear(!0),null==this._lastZlevel||isSvg||zr.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(seriesModel)&&trailLength>0&&(isSvg||zr.configLayer(zlevel,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(trailLength/10+.9,1),0)})),lineDraw.updateData(data);var clipPath=seriesModel.get("clip",!0)&&createClipPath(seriesModel.coordinateSystem,!1,seriesModel);clipPath?this.group.setClipPath(clipPath):this.group.removeClipPath(),this._lastZlevel=zlevel,this._finished=!0},LinesView.prototype.incrementalPrepareRender=function(seriesModel,ecModel,api){var data=seriesModel.getData();this._updateLineDraw(data,seriesModel).incrementalPrepareUpdate(data),this._clearLayer(api),this._finished=!1},LinesView.prototype.incrementalRender=function(taskParams,seriesModel,ecModel){this._lineDraw.incrementalUpdate(taskParams,seriesModel.getData()),this._finished=taskParams.end===seriesModel.getData().count()},LinesView.prototype.eachRendered=function(cb){this._lineDraw&&this._lineDraw.eachRendered(cb)},LinesView.prototype.updateTransform=function(seriesModel,ecModel,api){var data=seriesModel.getData(),pipelineContext=seriesModel.pipelineContext;if(!this._finished||pipelineContext.large||pipelineContext.progressiveRender)return{update:!0};var res=lines_linesLayout.reset(seriesModel,ecModel,api);res.progress&&res.progress({start:0,end:data.count(),count:data.count()},data),this._lineDraw.updateLayout(),this._clearLayer(api)},LinesView.prototype._updateLineDraw=function(data,seriesModel){var lineDraw=this._lineDraw,hasEffect=this._showEffect(seriesModel),isPolyline=!!seriesModel.get("polyline"),isLargeDraw=seriesModel.pipelineContext.large;return lineDraw&&hasEffect===this._hasEffet&&isPolyline===this._isPolyline&&isLargeDraw===this._isLargeDraw||(lineDraw&&lineDraw.remove(),lineDraw=this._lineDraw=isLargeDraw?new helper_LargeLineDraw:new helper_LineDraw(isPolyline?hasEffect?helper_EffectPolyline:helper_Polyline:hasEffect?helper_EffectLine:helper_Line),this._hasEffet=hasEffect,this._isPolyline=isPolyline,this._isLargeDraw=isLargeDraw),this.group.add(lineDraw.group),lineDraw},LinesView.prototype._showEffect=function(seriesModel){return!!seriesModel.get(["effect","show"])},LinesView.prototype._clearLayer=function(api){var zr=api.getZr();"svg"===zr.painter.getType()||null==this._lastZlevel||zr.painter.getLayer(this._lastZlevel).clear(!0)},LinesView.prototype.remove=function(ecModel,api){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(api)},LinesView.prototype.dispose=function(ecModel,api){this.remove(ecModel,api)},LinesView.type="lines",LinesView}(Chart),lines_LinesView=LinesView_LinesView,Uint32Arr="undefined"==typeof Uint32Array?Array:Uint32Array,Float64Arr="undefined"==typeof Float64Array?Array:Float64Array;function compatEc2(seriesOpt){var data=seriesOpt.data;data&&data[0]&&data[0][0]&&data[0][0].coord&&(seriesOpt.data=Object(util.map)(data,(function(itemOpt){var target={coords:[itemOpt[0].coord,itemOpt[1].coord]};return itemOpt[0].name&&(target.fromName=itemOpt[0].name),itemOpt[1].name&&(target.toName=itemOpt[1].name),Object(util.mergeAll)([target,itemOpt[0],itemOpt[1]])})))}var LinesSeries_LinesSeriesModel=function(_super){function LinesSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=LinesSeriesModel.type,_this.visualStyleAccessPath="lineStyle",_this.visualDrawType="stroke",_this}return __extends(LinesSeriesModel,_super),LinesSeriesModel.prototype.init=function(option){option.data=option.data||[],compatEc2(option);var result=this._processFlatCoordsArray(option.data);this._flatCoords=result.flatCoords,this._flatCoordsOffset=result.flatCoordsOffset,result.flatCoords&&(option.data=new Float32Array(result.count)),_super.prototype.init.apply(this,arguments)},LinesSeriesModel.prototype.mergeOption=function(option){if(compatEc2(option),option.data){var result=this._processFlatCoordsArray(option.data);this._flatCoords=result.flatCoords,this._flatCoordsOffset=result.flatCoordsOffset,result.flatCoords&&(option.data=new Float32Array(result.count))}_super.prototype.mergeOption.apply(this,arguments)},LinesSeriesModel.prototype.appendData=function(params){var result=this._processFlatCoordsArray(params.data);result.flatCoords&&(this._flatCoords?(this._flatCoords=Object(util.concatArray)(this._flatCoords,result.flatCoords),this._flatCoordsOffset=Object(util.concatArray)(this._flatCoordsOffset,result.flatCoordsOffset)):(this._flatCoords=result.flatCoords,this._flatCoordsOffset=result.flatCoordsOffset),params.data=new Float32Array(result.count)),this.getRawData().appendData(params.data)},LinesSeriesModel.prototype._getCoordsFromItemModel=function(idx){var itemModel=this.getData().getItemModel(idx);return itemModel.option instanceof Array?itemModel.option:itemModel.getShallow("coords")},LinesSeriesModel.prototype.getLineCoordsCount=function(idx){return this._flatCoordsOffset?this._flatCoordsOffset[2*idx+1]:this._getCoordsFromItemModel(idx).length},LinesSeriesModel.prototype.getLineCoords=function(idx,out){if(this._flatCoordsOffset){for(var offset=this._flatCoordsOffset[2*idx],len=this._flatCoordsOffset[2*idx+1],i=0;i<len;i++)out[i]=out[i]||[],out[i][0]=this._flatCoords[offset+2*i],out[i][1]=this._flatCoords[offset+2*i+1];return len}var coords=this._getCoordsFromItemModel(idx);for(i=0;i<coords.length;i++)out[i]=out[i]||[],out[i][0]=coords[i][0],out[i][1]=coords[i][1];return coords.length},LinesSeriesModel.prototype._processFlatCoordsArray=function(data){var startOffset=0;if(this._flatCoords&&(startOffset=this._flatCoords.length),Object(util.isNumber)(data[0])){for(var len=data.length,coordsOffsetAndLenStorage=new Uint32Arr(len),coordsStorage=new Float64Arr(len),coordsCursor=0,offsetCursor=0,dataCount=0,i=0;i<len;){dataCount++;var count=data[i++];coordsOffsetAndLenStorage[offsetCursor++]=coordsCursor+startOffset,coordsOffsetAndLenStorage[offsetCursor++]=count;for(var k=0;k<count;k++){var x=data[i++],y=data[i++];coordsStorage[coordsCursor++]=x,coordsStorage[coordsCursor++]=y}}return{flatCoordsOffset:new Uint32Array(coordsOffsetAndLenStorage.buffer,0,offsetCursor),flatCoords:coordsStorage,count:dataCount}}return{flatCoordsOffset:null,flatCoords:null,count:data.length}},LinesSeriesModel.prototype.getInitialData=function(option,ecModel){var lineData=new data_SeriesData(["value"],this);return lineData.hasItemOption=!1,lineData.initData(option.data,[],(function(dataItem,dimName,dataIndex,dimIndex){if(dataItem instanceof Array)return NaN;lineData.hasItemOption=!0;var value=dataItem.value;return null!=value?value instanceof Array?value[dimIndex]:value:void 0})),lineData},LinesSeriesModel.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){var itemModel=this.getData().getItemModel(dataIndex),name=itemModel.get("name");if(name)return name;var fromName=itemModel.get("fromName"),toName=itemModel.get("toName"),nameArr=[];return null!=fromName&&nameArr.push(fromName),null!=toName&&nameArr.push(toName),createTooltipMarkup("nameValue",{name:nameArr.join(" > ")})},LinesSeriesModel.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},LinesSeriesModel.prototype.getProgressive=function(){var progressive=this.option.progressive;return null==progressive?this.option.large?1e4:this.get("progressive"):progressive},LinesSeriesModel.prototype.getProgressiveThreshold=function(){var progressiveThreshold=this.option.progressiveThreshold;return null==progressiveThreshold?this.option.large?2e4:this.get("progressiveThreshold"):progressiveThreshold},LinesSeriesModel.prototype.getZLevelKey=function(){var effectModel=this.getModel("effect"),trailLength=effectModel.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:effectModel.get("show")&&trailLength>0?trailLength+"":""},LinesSeriesModel.type="series.lines",LinesSeriesModel.dependencies=["grid","polar","geo","calendar"],LinesSeriesModel.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},LinesSeriesModel}(Series),LinesSeries=LinesSeries_LinesSeriesModel;function linesVisual_normalize(a){return a instanceof Array||(a=[a,a]),a}var lines_linesVisual={seriesType:"lines",reset:function(seriesModel){var symbolType=linesVisual_normalize(seriesModel.get("symbol")),symbolSize=linesVisual_normalize(seriesModel.get("symbolSize")),data=seriesModel.getData();return data.setVisual("fromSymbol",symbolType&&symbolType[0]),data.setVisual("toSymbol",symbolType&&symbolType[1]),data.setVisual("fromSymbolSize",symbolSize&&symbolSize[0]),data.setVisual("toSymbolSize",symbolSize&&symbolSize[1]),{dataEach:data.hasItemOption?function dataEach(data,idx){var itemModel=data.getItemModel(idx),symbolType=linesVisual_normalize(itemModel.getShallow("symbol",!0)),symbolSize=linesVisual_normalize(itemModel.getShallow("symbolSize",!0));symbolType[0]&&data.setItemVisual(idx,"fromSymbol",symbolType[0]),symbolType[1]&&data.setItemVisual(idx,"toSymbol",symbolType[1]),symbolSize[0]&&data.setItemVisual(idx,"fromSymbolSize",symbolSize[0]),symbolSize[1]&&data.setItemVisual(idx,"toSymbolSize",symbolSize[1])}:null}}};var HeatmapLayer_HeatmapLayer=function(){function HeatmapLayer(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var canvas=platform.d.createCanvas();this.canvas=canvas}return HeatmapLayer.prototype.update=function(data,width,height,normalize,colorFunc,isInRange){var brush=this._getBrush(),gradientInRange=this._getGradient(colorFunc,"inRange"),gradientOutOfRange=this._getGradient(colorFunc,"outOfRange"),r=this.pointSize+this.blurSize,canvas=this.canvas,ctx=canvas.getContext("2d"),len=data.length;canvas.width=width,canvas.height=height;for(var i=0;i<len;++i){var p=data[i],x=p[0],y=p[1],alpha=normalize(p[2]);ctx.globalAlpha=alpha,ctx.drawImage(brush,x-r,y-r)}if(!canvas.width||!canvas.height)return canvas;for(var imageData=ctx.getImageData(0,0,canvas.width,canvas.height),pixels=imageData.data,offset=0,pixelLen=pixels.length,minOpacity=this.minOpacity,diffOpacity=this.maxOpacity-minOpacity;offset<pixelLen;){alpha=pixels[offset+3]/256;var gradientOffset=4*Math.floor(255*alpha);if(alpha>0){var gradient=isInRange(alpha)?gradientInRange:gradientOutOfRange;alpha>0&&(alpha=alpha*diffOpacity+minOpacity),pixels[offset++]=gradient[gradientOffset],pixels[offset++]=gradient[gradientOffset+1],pixels[offset++]=gradient[gradientOffset+2],pixels[offset++]=gradient[gradientOffset+3]*alpha*256}else offset+=4}return ctx.putImageData(imageData,0,0),canvas},HeatmapLayer.prototype._getBrush=function(){var brushCanvas=this._brushCanvas||(this._brushCanvas=platform.d.createCanvas()),r=this.pointSize+this.blurSize,d=2*r;brushCanvas.width=d,brushCanvas.height=d;var ctx=brushCanvas.getContext("2d");return ctx.clearRect(0,0,d,d),ctx.shadowOffsetX=d,ctx.shadowBlur=this.blurSize,ctx.shadowColor="#000",ctx.beginPath(),ctx.arc(-r,r,this.pointSize,0,2*Math.PI,!0),ctx.closePath(),ctx.fill(),brushCanvas},HeatmapLayer.prototype._getGradient=function(colorFunc,state){for(var gradientPixels=this._gradientPixels,pixelsSingleState=gradientPixels[state]||(gradientPixels[state]=new Uint8ClampedArray(1024)),color=[0,0,0,0],off=0,i=0;i<256;i++)colorFunc[state](i/255,!0,color),pixelsSingleState[off++]=color[0],pixelsSingleState[off++]=color[1],pixelsSingleState[off++]=color[2],pixelsSingleState[off++]=color[3];return pixelsSingleState},HeatmapLayer}(),heatmap_HeatmapLayer=HeatmapLayer_HeatmapLayer;function isGeoCoordSys(coordSys){var dimensions=coordSys.dimensions;return"lng"===dimensions[0]&&"lat"===dimensions[1]}var HeatmapView_HeatmapView=function(_super){function HeatmapView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=HeatmapView.type,_this}return __extends(HeatmapView,_super),HeatmapView.prototype.render=function(seriesModel,ecModel,api){var visualMapOfThisSeries;ecModel.eachComponent("visualMap",(function(visualMap){visualMap.eachTargetSeries((function(targetSeries){targetSeries===seriesModel&&(visualMapOfThisSeries=visualMap)}))})),this._progressiveEls=null,this.group.removeAll();var coordSys=seriesModel.coordinateSystem;"cartesian2d"===coordSys.type||"calendar"===coordSys.type?this._renderOnCartesianAndCalendar(seriesModel,api,0,seriesModel.getData().count()):isGeoCoordSys(coordSys)&&this._renderOnGeo(coordSys,seriesModel,visualMapOfThisSeries,api)},HeatmapView.prototype.incrementalPrepareRender=function(seriesModel,ecModel,api){this.group.removeAll()},HeatmapView.prototype.incrementalRender=function(params,seriesModel,ecModel,api){var coordSys=seriesModel.coordinateSystem;coordSys&&(isGeoCoordSys(coordSys)?this.render(seriesModel,ecModel,api):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(seriesModel,api,params.start,params.end,!0)))},HeatmapView.prototype.eachRendered=function(cb){traverseElements(this._progressiveEls||this.group,cb)},HeatmapView.prototype._renderOnCartesianAndCalendar=function(seriesModel,api,start,end,incremental){var width,height,xAxisExtent,yAxisExtent,coordSys=seriesModel.coordinateSystem,isCartesian2d=isCoordinateSystemType(coordSys,"cartesian2d");if(isCartesian2d){var xAxis=coordSys.getAxis("x"),yAxis=coordSys.getAxis("y");0,width=xAxis.getBandWidth()+.5,height=yAxis.getBandWidth()+.5,xAxisExtent=xAxis.scale.getExtent(),yAxisExtent=yAxis.scale.getExtent()}for(var group=this.group,data=seriesModel.getData(),emphasisStyle=seriesModel.getModel(["emphasis","itemStyle"]).getItemStyle(),blurStyle=seriesModel.getModel(["blur","itemStyle"]).getItemStyle(),selectStyle=seriesModel.getModel(["select","itemStyle"]).getItemStyle(),borderRadius=seriesModel.get(["itemStyle","borderRadius"]),labelStatesModels=getLabelStatesModels(seriesModel),emphasisModel=seriesModel.getModel("emphasis"),focus=emphasisModel.get("focus"),blurScope=emphasisModel.get("blurScope"),emphasisDisabled=emphasisModel.get("disabled"),dataDims=isCartesian2d?[data.mapDimension("x"),data.mapDimension("y"),data.mapDimension("value")]:[data.mapDimension("time"),data.mapDimension("value")],idx=start;idx<end;idx++){var rect=void 0,style=data.getItemVisual(idx,"style");if(isCartesian2d){var dataDimX=data.get(dataDims[0],idx),dataDimY=data.get(dataDims[1],idx);if(isNaN(data.get(dataDims[2],idx))||dataDimX<xAxisExtent[0]||dataDimX>xAxisExtent[1]||dataDimY<yAxisExtent[0]||dataDimY>yAxisExtent[1])continue;var point=coordSys.dataToPoint([dataDimX,dataDimY]);rect=new shape_Rect({shape:{x:point[0]-width/2,y:point[1]-height/2,width:width,height:height},style:style})}else{if(isNaN(data.get(dataDims[1],idx)))continue;rect=new shape_Rect({z2:1,shape:coordSys.dataToRect([data.get(dataDims[0],idx)]).contentShape,style:style})}if(data.hasItemOption){var itemModel=data.getItemModel(idx),emphasisModel_1=itemModel.getModel("emphasis");emphasisStyle=emphasisModel_1.getModel("itemStyle").getItemStyle(),blurStyle=itemModel.getModel(["blur","itemStyle"]).getItemStyle(),selectStyle=itemModel.getModel(["select","itemStyle"]).getItemStyle(),borderRadius=itemModel.get(["itemStyle","borderRadius"]),focus=emphasisModel_1.get("focus"),blurScope=emphasisModel_1.get("blurScope"),emphasisDisabled=emphasisModel_1.get("disabled"),labelStatesModels=getLabelStatesModels(itemModel)}rect.shape.r=borderRadius;var rawValue=seriesModel.getRawValue(idx),defaultText="-";rawValue&&null!=rawValue[2]&&(defaultText=rawValue[2]+""),setLabelStyle(rect,labelStatesModels,{labelFetcher:seriesModel,labelDataIndex:idx,defaultOpacity:style.opacity,defaultText:defaultText}),rect.ensureState("emphasis").style=emphasisStyle,rect.ensureState("blur").style=blurStyle,rect.ensureState("select").style=selectStyle,toggleHoverEmphasis(rect,focus,blurScope,emphasisDisabled),rect.incremental=incremental,incremental&&(rect.states.emphasis.hoverLayer=!0),group.add(rect),data.setItemGraphicEl(idx,rect),this._progressiveEls&&this._progressiveEls.push(rect)}},HeatmapView.prototype._renderOnGeo=function(geo,seriesModel,visualMapModel,api){var inRangeVisuals=visualMapModel.targetVisuals.inRange,outOfRangeVisuals=visualMapModel.targetVisuals.outOfRange,data=seriesModel.getData(),hmLayer=this._hmLayer||this._hmLayer||new heatmap_HeatmapLayer;hmLayer.blurSize=seriesModel.get("blurSize"),hmLayer.pointSize=seriesModel.get("pointSize"),hmLayer.minOpacity=seriesModel.get("minOpacity"),hmLayer.maxOpacity=seriesModel.get("maxOpacity");var rect=geo.getViewRect().clone(),roamTransform=geo.getRoamTransform();rect.applyTransform(roamTransform);var x=Math.max(rect.x,0),y=Math.max(rect.y,0),x2=Math.min(rect.width+rect.x,api.getWidth()),y2=Math.min(rect.height+rect.y,api.getHeight()),width=x2-x,height=y2-y,dims=[data.mapDimension("lng"),data.mapDimension("lat"),data.mapDimension("value")],points=data.mapArray(dims,(function(lng,lat,value){var pt=geo.dataToPoint([lng,lat]);return pt[0]-=x,pt[1]-=y,pt.push(value),pt})),dataExtent=visualMapModel.getExtent(),isInRange="visualMap.continuous"===visualMapModel.type?function getIsInContinuousRange(dataExtent,range){var dataSpan=dataExtent[1]-dataExtent[0];return range=[(range[0]-dataExtent[0])/dataSpan,(range[1]-dataExtent[0])/dataSpan],function(val){return val>=range[0]&&val<=range[1]}}(dataExtent,visualMapModel.option.range):function getIsInPiecewiseRange(dataExtent,pieceList,selected){var dataSpan=dataExtent[1]-dataExtent[0],len=(pieceList=util.map(pieceList,(function(piece){return{interval:[(piece.interval[0]-dataExtent[0])/dataSpan,(piece.interval[1]-dataExtent[0])/dataSpan]}}))).length,lastIndex=0;return function(val){var i;for(i=lastIndex;i<len;i++)if((interval=pieceList[i].interval)[0]<=val&&val<=interval[1]){lastIndex=i;break}if(i===len)for(i=lastIndex-1;i>=0;i--){var interval;if((interval=pieceList[i].interval)[0]<=val&&val<=interval[1]){lastIndex=i;break}}return i>=0&&i<len&&selected[i]}}(dataExtent,visualMapModel.getPieceList(),visualMapModel.option.selected);hmLayer.update(points,width,height,inRangeVisuals.color.getNormalizer(),{inRange:inRangeVisuals.color.getColorMapper(),outOfRange:outOfRangeVisuals.color.getColorMapper()},isInRange);var img=new graphic_Image({style:{width:width,height:height,x:x,y:y,image:hmLayer.canvas},silent:!0});this.group.add(img)},HeatmapView.type="heatmap",HeatmapView}(Chart),heatmap_HeatmapView=HeatmapView_HeatmapView,HeatmapSeries_HeatmapSeriesModel=function(_super){function HeatmapSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=HeatmapSeriesModel.type,_this}return __extends(HeatmapSeriesModel,_super),HeatmapSeriesModel.prototype.getInitialData=function(option,ecModel){return helper_createSeriesData(null,this,{generateCoord:"value"})},HeatmapSeriesModel.prototype.preventIncremental=function(){var coordSysCreator=CoordinateSystem.get(this.get("coordinateSystem"));if(coordSysCreator&&coordSysCreator.dimensions)return"lng"===coordSysCreator.dimensions[0]&&"lat"===coordSysCreator.dimensions[1]},HeatmapSeriesModel.type="series.heatmap",HeatmapSeriesModel.dependencies=["grid","geo","calendar"],HeatmapSeriesModel.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},HeatmapSeriesModel}(Series),HeatmapSeries=HeatmapSeries_HeatmapSeriesModel;var BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth=new shape_Circle,PictorialBarView_PictorialBarView=function(_super){function PictorialBarView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=PictorialBarView.type,_this}return __extends(PictorialBarView,_super),PictorialBarView.prototype.render=function(seriesModel,ecModel,api){var group=this.group,data=seriesModel.getData(),oldData=this._data,cartesian=seriesModel.coordinateSystem,isHorizontal=cartesian.getBaseAxis().isHorizontal(),coordSysRect=cartesian.master.getRect(),opt={ecSize:{width:api.getWidth(),height:api.getHeight()},seriesModel:seriesModel,coordSys:cartesian,coordSysExtent:[[coordSysRect.x,coordSysRect.x+coordSysRect.width],[coordSysRect.y,coordSysRect.y+coordSysRect.height]],isHorizontal:isHorizontal,valueDim:LAYOUT_ATTRS[+isHorizontal],categoryDim:LAYOUT_ATTRS[1-+isHorizontal]};return data.diff(oldData).add((function(dataIndex){if(data.hasValue(dataIndex)){var itemModel=PictorialBarView_getItemModel(data,dataIndex),symbolMeta=getSymbolMeta(data,dataIndex,itemModel,opt),bar=createBar(data,opt,symbolMeta);data.setItemGraphicEl(dataIndex,bar),group.add(bar),PictorialBarView_updateCommon(bar,opt,symbolMeta)}})).update((function(newIndex,oldIndex){var bar=oldData.getItemGraphicEl(oldIndex);if(data.hasValue(newIndex)){var itemModel=PictorialBarView_getItemModel(data,newIndex),symbolMeta=getSymbolMeta(data,newIndex,itemModel,opt),pictorialShapeStr=getShapeStr(data,symbolMeta);bar&&pictorialShapeStr!==bar.__pictorialShapeStr&&(group.remove(bar),data.setItemGraphicEl(newIndex,null),bar=null),bar?function updateBar(bar,opt,symbolMeta){var animationModel=symbolMeta.animationModel,dataIndex=symbolMeta.dataIndex;updateProps(bar.__pictorialBundle,{x:symbolMeta.bundlePosition[0],y:symbolMeta.bundlePosition[1]},animationModel,dataIndex),symbolMeta.symbolRepeat?createOrUpdateRepeatSymbols(bar,opt,symbolMeta,!0):createOrUpdateSingleSymbol(bar,opt,symbolMeta,!0);createOrUpdateBarRect(bar,symbolMeta,!0),createOrUpdateClip(bar,opt,symbolMeta,!0)}(bar,opt,symbolMeta):bar=createBar(data,opt,symbolMeta,!0),data.setItemGraphicEl(newIndex,bar),bar.__pictorialSymbolMeta=symbolMeta,group.add(bar),PictorialBarView_updateCommon(bar,opt,symbolMeta)}else group.remove(bar)})).remove((function(dataIndex){var bar=oldData.getItemGraphicEl(dataIndex);bar&&removeBar(oldData,dataIndex,bar.__pictorialSymbolMeta.animationModel,bar)})).execute(),this._data=data,this.group},PictorialBarView.prototype.remove=function(ecModel,api){var group=this.group,data=this._data;ecModel.get("animation")?data&&data.eachItemGraphicEl((function(bar){removeBar(data,getECData(bar).dataIndex,ecModel,bar)})):group.removeAll()},PictorialBarView.type="pictorialBar",PictorialBarView}(Chart);function getSymbolMeta(data,dataIndex,itemModel,opt){var layout=data.getItemLayout(dataIndex),symbolRepeat=itemModel.get("symbolRepeat"),symbolClip=itemModel.get("symbolClip"),symbolPosition=itemModel.get("symbolPosition")||"start",rotation=(itemModel.get("symbolRotate")||0)*Math.PI/180||0,symbolPatternSize=itemModel.get("symbolPatternSize")||2,isAnimationEnabled=itemModel.isAnimationEnabled(),symbolMeta={dataIndex:dataIndex,layout:layout,itemModel:itemModel,symbolType:data.getItemVisual(dataIndex,"symbol")||"circle",style:data.getItemVisual(dataIndex,"style"),symbolClip:symbolClip,symbolRepeat:symbolRepeat,symbolRepeatDirection:itemModel.get("symbolRepeatDirection"),symbolPatternSize:symbolPatternSize,rotation:rotation,animationModel:isAnimationEnabled?itemModel:null,hoverScale:isAnimationEnabled&&itemModel.get(["emphasis","scale"]),z2:itemModel.getShallow("z",!0)||0};!function prepareBarLength(itemModel,symbolRepeat,layout,opt,outputSymbolMeta){var boundingLength,valueDim=opt.valueDim,symbolBoundingData=itemModel.get("symbolBoundingData"),valueAxis=opt.coordSys.getOtherAxis(opt.coordSys.getBaseAxis()),zeroPx=valueAxis.toGlobalCoord(valueAxis.dataToCoord(0)),pxSignIdx=1-+(layout[valueDim.wh]<=0);if(util.isArray(symbolBoundingData)){var symbolBoundingExtent=[convertToCoordOnAxis(valueAxis,symbolBoundingData[0])-zeroPx,convertToCoordOnAxis(valueAxis,symbolBoundingData[1])-zeroPx];symbolBoundingExtent[1]<symbolBoundingExtent[0]&&symbolBoundingExtent.reverse(),boundingLength=symbolBoundingExtent[pxSignIdx]}else boundingLength=null!=symbolBoundingData?convertToCoordOnAxis(valueAxis,symbolBoundingData)-zeroPx:symbolRepeat?opt.coordSysExtent[valueDim.index][pxSignIdx]-zeroPx:layout[valueDim.wh];outputSymbolMeta.boundingLength=boundingLength,symbolRepeat&&(outputSymbolMeta.repeatCutLength=layout[valueDim.wh]);outputSymbolMeta.pxSign=boundingLength>0?1:-1}(itemModel,symbolRepeat,layout,opt,symbolMeta),function prepareSymbolSize(data,dataIndex,layout,symbolRepeat,symbolClip,boundingLength,pxSign,symbolPatternSize,opt,outputSymbolMeta){var parsedSymbolSize,valueDim=opt.valueDim,categoryDim=opt.categoryDim,categorySize=Math.abs(layout[categoryDim.wh]),symbolSize=data.getItemVisual(dataIndex,"symbolSize");parsedSymbolSize=util.isArray(symbolSize)?symbolSize.slice():null==symbolSize?["100%","100%"]:[symbolSize,symbolSize];parsedSymbolSize[categoryDim.index]=number_parsePercent(parsedSymbolSize[categoryDim.index],categorySize),parsedSymbolSize[valueDim.index]=number_parsePercent(parsedSymbolSize[valueDim.index],symbolRepeat?categorySize:Math.abs(boundingLength)),outputSymbolMeta.symbolSize=parsedSymbolSize,(outputSymbolMeta.symbolScale=[parsedSymbolSize[0]/symbolPatternSize,parsedSymbolSize[1]/symbolPatternSize])[valueDim.index]*=(opt.isHorizontal?-1:1)*pxSign}(data,dataIndex,layout,symbolRepeat,0,symbolMeta.boundingLength,symbolMeta.pxSign,symbolPatternSize,opt,symbolMeta),function prepareLineWidth(itemModel,symbolScale,rotation,opt,outputSymbolMeta){var valueLineWidth=itemModel.get(BAR_BORDER_WIDTH_QUERY)||0;valueLineWidth&&(pathForLineWidth.attr({scaleX:symbolScale[0],scaleY:symbolScale[1],rotation:rotation}),pathForLineWidth.updateTransform(),valueLineWidth/=pathForLineWidth.getLineScale(),valueLineWidth*=symbolScale[opt.valueDim.index]);outputSymbolMeta.valueLineWidth=valueLineWidth||0}(itemModel,symbolMeta.symbolScale,rotation,opt,symbolMeta);var symbolSize=symbolMeta.symbolSize,symbolOffset=normalizeSymbolOffset(itemModel.get("symbolOffset"),symbolSize);return function prepareLayoutInfo(itemModel,symbolSize,layout,symbolRepeat,symbolClip,symbolOffset,symbolPosition,valueLineWidth,boundingLength,repeatCutLength,opt,outputSymbolMeta){var categoryDim=opt.categoryDim,valueDim=opt.valueDim,pxSign=outputSymbolMeta.pxSign,unitLength=Math.max(symbolSize[valueDim.index]+valueLineWidth,0),pathLen=unitLength;if(symbolRepeat){var absBoundingLength=Math.abs(boundingLength),symbolMargin=util.retrieve(itemModel.get("symbolMargin"),"15%")+"",hasEndGap=!1;symbolMargin.lastIndexOf("!")===symbolMargin.length-1&&(hasEndGap=!0,symbolMargin=symbolMargin.slice(0,symbolMargin.length-1));var symbolMarginNumeric=number_parsePercent(symbolMargin,symbolSize[valueDim.index]),uLenWithMargin=Math.max(unitLength+2*symbolMarginNumeric,0),endFix=hasEndGap?0:2*symbolMarginNumeric,repeatSpecified=isNumeric(symbolRepeat),repeatTimes=repeatSpecified?symbolRepeat:toIntTimes((absBoundingLength+endFix)/uLenWithMargin);uLenWithMargin=unitLength+2*(symbolMarginNumeric=(absBoundingLength-repeatTimes*unitLength)/2/(hasEndGap?repeatTimes:Math.max(repeatTimes-1,1))),endFix=hasEndGap?0:2*symbolMarginNumeric,repeatSpecified||"fixed"===symbolRepeat||(repeatTimes=repeatCutLength?toIntTimes((Math.abs(repeatCutLength)+endFix)/uLenWithMargin):0),pathLen=repeatTimes*uLenWithMargin-endFix,outputSymbolMeta.repeatTimes=repeatTimes,outputSymbolMeta.symbolMargin=symbolMarginNumeric}var sizeFix=pxSign*(pathLen/2),pathPosition=outputSymbolMeta.pathPosition=[];pathPosition[categoryDim.index]=layout[categoryDim.wh]/2,pathPosition[valueDim.index]="start"===symbolPosition?sizeFix:"end"===symbolPosition?boundingLength-sizeFix:boundingLength/2,symbolOffset&&(pathPosition[0]+=symbolOffset[0],pathPosition[1]+=symbolOffset[1]);var bundlePosition=outputSymbolMeta.bundlePosition=[];bundlePosition[categoryDim.index]=layout[categoryDim.xy],bundlePosition[valueDim.index]=layout[valueDim.xy];var barRectShape=outputSymbolMeta.barRectShape=util.extend({},layout);barRectShape[valueDim.wh]=pxSign*Math.max(Math.abs(layout[valueDim.wh]),Math.abs(pathPosition[valueDim.index]+sizeFix)),barRectShape[categoryDim.wh]=layout[categoryDim.wh];var clipShape=outputSymbolMeta.clipShape={};clipShape[categoryDim.xy]=-layout[categoryDim.xy],clipShape[categoryDim.wh]=opt.ecSize[categoryDim.wh],clipShape[valueDim.xy]=0,clipShape[valueDim.wh]=layout[valueDim.wh]}(itemModel,symbolSize,layout,symbolRepeat,0,symbolOffset,symbolPosition,symbolMeta.valueLineWidth,symbolMeta.boundingLength,symbolMeta.repeatCutLength,opt,symbolMeta),symbolMeta}function convertToCoordOnAxis(axis,value){return axis.toGlobalCoord(axis.dataToCoord(axis.scale.parse(value)))}function createPath(symbolMeta){var symbolPatternSize=symbolMeta.symbolPatternSize,path=symbol_createSymbol(symbolMeta.symbolType,-symbolPatternSize/2,-symbolPatternSize/2,symbolPatternSize,symbolPatternSize);return path.attr({culling:!0}),"image"!==path.type&&path.setStyle({strokeNoScale:!0}),path}function createOrUpdateRepeatSymbols(bar,opt,symbolMeta,isUpdate){var bundle=bar.__pictorialBundle,symbolSize=symbolMeta.symbolSize,valueLineWidth=symbolMeta.valueLineWidth,pathPosition=symbolMeta.pathPosition,valueDim=opt.valueDim,repeatTimes=symbolMeta.repeatTimes||0,index=0,unit=symbolSize[opt.valueDim.index]+valueLineWidth+2*symbolMeta.symbolMargin;for(eachPath(bar,(function(path){path.__pictorialAnimationIndex=index,path.__pictorialRepeatTimes=repeatTimes,index<repeatTimes?PictorialBarView_updateAttr(path,null,makeTarget(index),symbolMeta,isUpdate):PictorialBarView_updateAttr(path,null,{scaleX:0,scaleY:0},symbolMeta,isUpdate,(function(){bundle.remove(path)})),index++}));index<repeatTimes;index++){var path=createPath(symbolMeta);path.__pictorialAnimationIndex=index,path.__pictorialRepeatTimes=repeatTimes,bundle.add(path);var target=makeTarget(index);PictorialBarView_updateAttr(path,{x:target.x,y:target.y,scaleX:0,scaleY:0},{scaleX:target.scaleX,scaleY:target.scaleY,rotation:target.rotation},symbolMeta,isUpdate)}function makeTarget(index){var position=pathPosition.slice(),pxSign=symbolMeta.pxSign,i=index;return("start"===symbolMeta.symbolRepeatDirection?pxSign>0:pxSign<0)&&(i=repeatTimes-1-index),position[valueDim.index]=unit*(i-repeatTimes/2+.5)+pathPosition[valueDim.index],{x:position[0],y:position[1],scaleX:symbolMeta.symbolScale[0],scaleY:symbolMeta.symbolScale[1],rotation:symbolMeta.rotation}}}function createOrUpdateSingleSymbol(bar,opt,symbolMeta,isUpdate){var bundle=bar.__pictorialBundle,mainPath=bar.__pictorialMainPath;mainPath?PictorialBarView_updateAttr(mainPath,null,{x:symbolMeta.pathPosition[0],y:symbolMeta.pathPosition[1],scaleX:symbolMeta.symbolScale[0],scaleY:symbolMeta.symbolScale[1],rotation:symbolMeta.rotation},symbolMeta,isUpdate):(mainPath=bar.__pictorialMainPath=createPath(symbolMeta),bundle.add(mainPath),PictorialBarView_updateAttr(mainPath,{x:symbolMeta.pathPosition[0],y:symbolMeta.pathPosition[1],scaleX:0,scaleY:0,rotation:symbolMeta.rotation},{scaleX:symbolMeta.symbolScale[0],scaleY:symbolMeta.symbolScale[1]},symbolMeta,isUpdate))}function createOrUpdateBarRect(bar,symbolMeta,isUpdate){var rectShape=util.extend({},symbolMeta.barRectShape),barRect=bar.__pictorialBarRect;barRect?PictorialBarView_updateAttr(barRect,null,{shape:rectShape},symbolMeta,isUpdate):((barRect=bar.__pictorialBarRect=new shape_Rect({z2:2,shape:rectShape,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,bar.add(barRect))}function createOrUpdateClip(bar,opt,symbolMeta,isUpdate){if(symbolMeta.symbolClip){var clipPath=bar.__pictorialClipPath,clipShape=util.extend({},symbolMeta.clipShape),valueDim=opt.valueDim,animationModel=symbolMeta.animationModel,dataIndex=symbolMeta.dataIndex;if(clipPath)updateProps(clipPath,{shape:clipShape},animationModel,dataIndex);else{clipShape[valueDim.wh]=0,clipPath=new shape_Rect({shape:clipShape}),bar.__pictorialBundle.setClipPath(clipPath),bar.__pictorialClipPath=clipPath;var target={};target[valueDim.wh]=symbolMeta.clipShape[valueDim.wh],graphic_namespaceObject[isUpdate?"updateProps":"initProps"](clipPath,{shape:target},animationModel,dataIndex)}}}function PictorialBarView_getItemModel(data,dataIndex){var itemModel=data.getItemModel(dataIndex);return itemModel.getAnimationDelayParams=getAnimationDelayParams,itemModel.isAnimationEnabled=PictorialBarView_isAnimationEnabled,itemModel}function getAnimationDelayParams(path){return{index:path.__pictorialAnimationIndex,count:path.__pictorialRepeatTimes}}function PictorialBarView_isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar(data,opt,symbolMeta,isUpdate){var bar=new graphic_Group,bundle=new graphic_Group;return bar.add(bundle),bar.__pictorialBundle=bundle,bundle.x=symbolMeta.bundlePosition[0],bundle.y=symbolMeta.bundlePosition[1],symbolMeta.symbolRepeat?createOrUpdateRepeatSymbols(bar,opt,symbolMeta):createOrUpdateSingleSymbol(bar,0,symbolMeta),createOrUpdateBarRect(bar,symbolMeta,isUpdate),createOrUpdateClip(bar,opt,symbolMeta,isUpdate),bar.__pictorialShapeStr=getShapeStr(data,symbolMeta),bar.__pictorialSymbolMeta=symbolMeta,bar}function removeBar(data,dataIndex,animationModel,bar){var labelRect=bar.__pictorialBarRect;labelRect&&labelRect.removeTextContent();var pathes=[];eachPath(bar,(function(path){pathes.push(path)})),bar.__pictorialMainPath&&pathes.push(bar.__pictorialMainPath),bar.__pictorialClipPath&&(animationModel=null),util.each(pathes,(function(path){removeElement(path,{scaleX:0,scaleY:0},animationModel,dataIndex,(function(){bar.parent&&bar.parent.remove(bar)}))})),data.setItemGraphicEl(dataIndex,null)}function getShapeStr(data,symbolMeta){return[data.getItemVisual(symbolMeta.dataIndex,"symbol")||"none",!!symbolMeta.symbolRepeat,!!symbolMeta.symbolClip].join(":")}function eachPath(bar,cb,context){util.each(bar.__pictorialBundle.children(),(function(el){el!==bar.__pictorialBarRect&&cb.call(context,el)}))}function PictorialBarView_updateAttr(el,immediateAttrs,animationAttrs,symbolMeta,isUpdate,cb){immediateAttrs&&el.attr(immediateAttrs),symbolMeta.symbolClip&&!isUpdate?animationAttrs&&el.attr(animationAttrs):animationAttrs&&graphic_namespaceObject[isUpdate?"updateProps":"initProps"](el,animationAttrs,symbolMeta.animationModel,symbolMeta.dataIndex,cb)}function PictorialBarView_updateCommon(bar,opt,symbolMeta){var dataIndex=symbolMeta.dataIndex,itemModel=symbolMeta.itemModel,emphasisModel=itemModel.getModel("emphasis"),emphasisStyle=emphasisModel.getModel("itemStyle").getItemStyle(),blurStyle=itemModel.getModel(["blur","itemStyle"]).getItemStyle(),selectStyle=itemModel.getModel(["select","itemStyle"]).getItemStyle(),cursorStyle=itemModel.getShallow("cursor"),focus=emphasisModel.get("focus"),blurScope=emphasisModel.get("blurScope"),hoverScale=emphasisModel.get("scale");eachPath(bar,(function(path){if(path instanceof graphic_Image){var pathStyle=path.style;path.useStyle(util.extend({image:pathStyle.image,x:pathStyle.x,y:pathStyle.y,width:pathStyle.width,height:pathStyle.height},symbolMeta.style))}else path.useStyle(symbolMeta.style);var emphasisState=path.ensureState("emphasis");emphasisState.style=emphasisStyle,hoverScale&&(emphasisState.scaleX=1.1*path.scaleX,emphasisState.scaleY=1.1*path.scaleY),path.ensureState("blur").style=blurStyle,path.ensureState("select").style=selectStyle,cursorStyle&&(path.cursor=cursorStyle),path.z2=symbolMeta.z2}));var barPositionOutside=opt.valueDim.posDesc[+(symbolMeta.boundingLength>0)];setLabelStyle(bar.__pictorialBarRect,getLabelStatesModels(itemModel),{labelFetcher:opt.seriesModel,labelDataIndex:dataIndex,defaultText:getDefaultLabel(opt.seriesModel.getData(),dataIndex),inheritColor:symbolMeta.style.fill,defaultOpacity:symbolMeta.style.opacity,defaultOutsidePosition:barPositionOutside}),toggleHoverEmphasis(bar,focus,blurScope,emphasisModel.get("disabled"))}function toIntTimes(times){var roundedTimes=Math.round(times);return Math.abs(times-roundedTimes)<1e-4?roundedTimes:Math.ceil(times)}var bar_PictorialBarView=PictorialBarView_PictorialBarView,PictorialBarSeries_PictorialBarSeriesModel=function(_super){function PictorialBarSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=PictorialBarSeriesModel.type,_this.hasSymbolVisual=!0,_this.defaultSymbol="roundRect",_this}return __extends(PictorialBarSeriesModel,_super),PictorialBarSeriesModel.prototype.getInitialData=function(option){return option.stack=null,_super.prototype.getInitialData.apply(this,arguments)},PictorialBarSeriesModel.type="series.pictorialBar",PictorialBarSeriesModel.dependencies=["grid"],PictorialBarSeriesModel.defaultOption=inheritDefaultOption(BaseBarSeries.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),PictorialBarSeriesModel}(BaseBarSeries),PictorialBarSeries=PictorialBarSeries_PictorialBarSeriesModel;var ThemeRiverView_ThemeRiverView=function(_super){function ThemeRiverView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ThemeRiverView.type,_this._layers=[],_this}return __extends(ThemeRiverView,_super),ThemeRiverView.prototype.render=function(seriesModel,ecModel,api){var data=seriesModel.getData(),self=this,group=this.group,layersSeries=seriesModel.getLayerSeries(),layoutInfo=data.getLayout("layoutInfo"),rect=layoutInfo.rect,boundaryGap=layoutInfo.boundaryGap;function keyGetter(item){return item.name}group.x=0,group.y=rect.y+boundaryGap[0];var dataDiffer=new data_DataDiffer(this._layersSeries||[],layersSeries,keyGetter,keyGetter),newLayersGroups=[];function process(status,idx,oldIdx){var oldLayersGroups=self._layers;if("remove"!==status){for(var style,polygon,points0=[],points1=[],indices=layersSeries[idx].indices,j=0;j<indices.length;j++){var layout=data.getItemLayout(indices[j]),x=layout.x,y0=layout.y0,y=layout.y;points0.push(x,y0),points1.push(x,y0+y),style=data.getItemVisual(indices[j],"style")}var textLayout=data.getItemLayout(indices[0]),margin=seriesModel.getModel("label").get("margin"),emphasisModel=seriesModel.getModel("emphasis");if("add"===status){var layerGroup=newLayersGroups[idx]=new graphic_Group;polygon=new poly_ECPolygon({shape:{points:points0,stackedOnPoints:points1,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),layerGroup.add(polygon),group.add(layerGroup),seriesModel.isAnimationEnabled()&&polygon.setClipPath(function ThemeRiverView_createGridClipShape(rect,seriesModel,cb){var rectEl=new shape_Rect({shape:{x:rect.x-10,y:rect.y-10,width:0,height:rect.height+20}});return initProps(rectEl,{shape:{x:rect.x-50,width:rect.width+100,height:rect.height+20}},seriesModel,cb),rectEl}(polygon.getBoundingRect(),seriesModel,(function(){polygon.removeClipPath()})))}else{layerGroup=oldLayersGroups[oldIdx];polygon=layerGroup.childAt(0),group.add(layerGroup),newLayersGroups[idx]=layerGroup,updateProps(polygon,{shape:{points:points0,stackedOnPoints:points1}},seriesModel),saveOldStyle(polygon)}setLabelStyle(polygon,getLabelStatesModels(seriesModel),{labelDataIndex:indices[j-1],defaultText:data.getName(indices[j-1]),inheritColor:style.fill},{normal:{verticalAlign:"middle"}}),polygon.setTextConfig({position:null,local:!0});var labelEl=polygon.getTextContent();labelEl&&(labelEl.x=textLayout.x-margin,labelEl.y=textLayout.y0+textLayout.y/2),polygon.useStyle(style),data.setItemGraphicEl(idx,polygon),setStatesStylesFromModel(polygon,seriesModel),toggleHoverEmphasis(polygon,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled"))}else group.remove(oldLayersGroups[idx])}dataDiffer.add(Object(util.bind)(process,this,"add")).update(Object(util.bind)(process,this,"update")).remove(Object(util.bind)(process,this,"remove")).execute(),this._layersSeries=layersSeries,this._layers=newLayersGroups},ThemeRiverView.type="themeRiver",ThemeRiverView}(Chart);var themeRiver_ThemeRiverView=ThemeRiverView_ThemeRiverView,ThemeRiverSeries_ThemeRiverSeriesModel=function(_super){function ThemeRiverSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ThemeRiverSeriesModel.type,_this}return __extends(ThemeRiverSeriesModel,_super),ThemeRiverSeriesModel.prototype.init=function(option){_super.prototype.init.apply(this,arguments),this.legendVisualProvider=new visual_LegendVisualProvider(util.bind(this.getData,this),util.bind(this.getRawData,this))},ThemeRiverSeriesModel.prototype.fixData=function(data){var rawDataLength=data.length,timeValueKeys={},groupResult=groupData(data,(function(item){return timeValueKeys.hasOwnProperty(item[0]+"")||(timeValueKeys[item[0]+""]=-1),item[2]})),layerData=[];groupResult.buckets.each((function(items,key){layerData.push({name:key,dataList:items})}));for(var layerNum=layerData.length,k=0;k<layerNum;++k){for(var name_1=layerData[k].name,j=0;j<layerData[k].dataList.length;++j){var timeValue=layerData[k].dataList[j][0]+"";timeValueKeys[timeValue]=k}for(var timeValue in timeValueKeys)timeValueKeys.hasOwnProperty(timeValue)&&timeValueKeys[timeValue]!==k&&(timeValueKeys[timeValue]=k,data[rawDataLength]=[timeValue,0,name_1],rawDataLength++)}return data},ThemeRiverSeriesModel.prototype.getInitialData=function(option,ecModel){for(var axisType=this.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0].get("type"),filterData=util.filter(option.data,(function(dataItem){return void 0!==dataItem[2]})),data=this.fixData(filterData||[]),nameList=[],nameMap=this.nameMap=util.createHashMap(),count=0,i=0;i<data.length;++i)nameList.push(data[i][2]),nameMap.get(data[i][2])||(nameMap.set(data[i][2],count),count++);var dimensions=prepareSeriesDataSchema(data,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis(axisType)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,list=new data_SeriesData(dimensions,this);return list.initData(data),list},ThemeRiverSeriesModel.prototype.getLayerSeries=function(){for(var data=this.getData(),lenCount=data.count(),indexArr=[],i=0;i<lenCount;++i)indexArr[i]=i;var timeDim=data.mapDimension("single"),groupResult=groupData(indexArr,(function(index){return data.get("name",index)})),layerSeries=[];return groupResult.buckets.each((function(items,key){items.sort((function(index1,index2){return data.get(timeDim,index1)-data.get(timeDim,index2)})),layerSeries.push({name:key,indices:items})})),layerSeries},ThemeRiverSeriesModel.prototype.getAxisTooltipData=function(dim,value,baseAxis){util.isArray(dim)||(dim=dim?[dim]:[]);for(var nestestValue,data=this.getData(),layerSeries=this.getLayerSeries(),indices=[],layerNum=layerSeries.length,i=0;i<layerNum;++i){for(var minDist=Number.MAX_VALUE,nearestIdx=-1,pointNum=layerSeries[i].indices.length,j=0;j<pointNum;++j){var theValue=data.get(dim[0],layerSeries[i].indices[j]),dist=Math.abs(theValue-value);dist<=minDist&&(nestestValue=theValue,minDist=dist,nearestIdx=layerSeries[i].indices[j])}indices.push(nearestIdx)}return{dataIndices:indices,nestestValue:nestestValue}},ThemeRiverSeriesModel.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){var data=this.getData();return createTooltipMarkup("nameValue",{name:data.getName(dataIndex),value:data.get(data.mapDimension("value"),dataIndex)})},ThemeRiverSeriesModel.type="series.themeRiver",ThemeRiverSeriesModel.dependencies=["singleAxis"],ThemeRiverSeriesModel.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},ThemeRiverSeriesModel}(Series),ThemeRiverSeries=ThemeRiverSeries_ThemeRiverSeriesModel;function themeRiverLayout(ecModel,api){ecModel.eachSeriesByType("themeRiver",(function(seriesModel){var data=seriesModel.getData(),single=seriesModel.coordinateSystem,layoutInfo={},rect=single.getRect();layoutInfo.rect=rect;var boundaryGap=seriesModel.get("boundaryGap"),axis=single.getAxis();(layoutInfo.boundaryGap=boundaryGap,"horizontal"===axis.orient)?(boundaryGap[0]=number_parsePercent(boundaryGap[0],rect.height),boundaryGap[1]=number_parsePercent(boundaryGap[1],rect.height),doThemeRiverLayout(data,seriesModel,rect.height-boundaryGap[0]-boundaryGap[1])):(boundaryGap[0]=number_parsePercent(boundaryGap[0],rect.width),boundaryGap[1]=number_parsePercent(boundaryGap[1],rect.width),doThemeRiverLayout(data,seriesModel,rect.width-boundaryGap[0]-boundaryGap[1]));data.setLayout("layoutInfo",layoutInfo)}))}function doThemeRiverLayout(data,seriesModel,height){if(data.count())for(var baseY0,coordSys=seriesModel.coordinateSystem,layerSeries=seriesModel.getLayerSeries(),timeDim=data.mapDimension("single"),valueDim=data.mapDimension("value"),layerPoints=util.map(layerSeries,(function(singleLayer){return util.map(singleLayer.indices,(function(idx){var pt=coordSys.dataToPoint(data.get(timeDim,idx));return pt[1]=data.get(valueDim,idx),pt}))})),base=function computeBaseline(data){for(var layerNum=data.length,pointNum=data[0].length,sums=[],y0=[],max=0,i=0;i<pointNum;++i){for(var temp=0,j=0;j<layerNum;++j)temp+=data[j][i][1];temp>max&&(max=temp),sums.push(temp)}for(var k=0;k<pointNum;++k)y0[k]=(max-sums[k])/2;max=0;for(var l=0;l<pointNum;++l){var sum=sums[l]+y0[l];sum>max&&(max=sum)}return{y0:y0,max:max}}(layerPoints),baseLine=base.y0,ky=height/base.max,n=layerSeries.length,m=layerSeries[0].indices.length,j=0;j<m;++j){baseY0=baseLine[j]*ky,data.setItemLayout(layerSeries[0].indices[j],{layerIndex:0,x:layerPoints[0][j][0],y0:baseY0,y:layerPoints[0][j][1]*ky});for(var i=1;i<n;++i)baseY0+=layerPoints[i-1][j][1]*ky,data.setItemLayout(layerSeries[i].indices[j],{layerIndex:i,x:layerPoints[i][j][0],y0:baseY0,y:layerPoints[i][j][1]*ky})}}var sunburst_SunburstPiece=function(_super){function SunburstPiece(node,seriesModel,ecModel,api){var _this=_super.call(this)||this;_this.z2=2,_this.textConfig={inside:!0},getECData(_this).seriesIndex=seriesModel.seriesIndex;var text=new Text({z2:4,silent:node.getModel().get(["label","silent"])});return _this.setTextContent(text),_this.updateData(!0,node,seriesModel,ecModel,api),_this}return __extends(SunburstPiece,_super),SunburstPiece.prototype.updateData=function(firstCreate,node,seriesModel,ecModel,api){this.node=node,node.piece=this,seriesModel=seriesModel||this._seriesModel,ecModel=ecModel||this._ecModel;var sector=this;getECData(sector).dataIndex=node.dataIndex;var itemModel=node.getModel(),emphasisModel=itemModel.getModel("emphasis"),layout=node.getLayout(),sectorShape=util.extend({},layout);sectorShape.label=null;var normalStyle=node.getVisual("style");normalStyle.lineJoin="bevel";var decal=node.getVisual("decal");decal&&(normalStyle.decal=createOrUpdatePatternFromDecal(decal,api));var cornerRadius=getSectorCornerRadius(itemModel.getModel("itemStyle"),sectorShape,!0);util.extend(sectorShape,cornerRadius),util.each(SPECIAL_STATES,(function(stateName){var state=sector.ensureState(stateName),itemStyleModel=itemModel.getModel([stateName,"itemStyle"]);state.style=itemStyleModel.getItemStyle();var cornerRadius=getSectorCornerRadius(itemStyleModel,sectorShape);cornerRadius&&(state.shape=cornerRadius)})),firstCreate?(sector.setShape(sectorShape),sector.shape.r=layout.r0,updateProps(sector,{shape:{r:layout.r}},seriesModel,node.dataIndex)):(updateProps(sector,{shape:sectorShape},seriesModel),saveOldStyle(sector)),sector.useStyle(normalStyle),this._updateLabel(seriesModel);var cursorStyle=itemModel.getShallow("cursor");cursorStyle&&sector.attr("cursor",cursorStyle),this._seriesModel=seriesModel||this._seriesModel,this._ecModel=ecModel||this._ecModel;var focus=emphasisModel.get("focus");toggleHoverEmphasis(this,"ancestor"===focus?node.getAncestorsIndices():"descendant"===focus?node.getDescendantIndices():focus,emphasisModel.get("blurScope"),emphasisModel.get("disabled"))},SunburstPiece.prototype._updateLabel=function(seriesModel){var _this=this,itemModel=this.node.getModel(),normalLabelModel=itemModel.getModel("label"),layout=this.node.getLayout(),angle=layout.endAngle-layout.startAngle,midAngle=(layout.startAngle+layout.endAngle)/2,dx=Math.cos(midAngle),dy=Math.sin(midAngle),sector=this,label=sector.getTextContent(),dataIndex=this.node.dataIndex,labelMinAngle=normalLabelModel.get("minAngle")/180*Math.PI,isNormalShown=normalLabelModel.get("show")&&!(null!=labelMinAngle&&Math.abs(angle)<labelMinAngle);function getLabelAttr(model,name){var stateAttr=model.get(name);return null==stateAttr?normalLabelModel.get(name):stateAttr}label.ignore=!isNormalShown,util.each(DISPLAY_STATES,(function(stateName){var labelStateModel="normal"===stateName?itemModel.getModel("label"):itemModel.getModel([stateName,"label"]),isNormal="normal"===stateName,state=isNormal?label:label.ensureState(stateName),text=seriesModel.getFormattedLabel(dataIndex,stateName);isNormal&&(text=text||_this.node.name),state.style=createTextStyle(labelStateModel,{},null,"normal"!==stateName,!0),text&&(state.style.text=text);var isShown=labelStateModel.get("show");null==isShown||isNormal||(state.ignore=!isShown);var r,labelPosition=getLabelAttr(labelStateModel,"position"),sectorState=isNormal?sector:sector.states[stateName],labelColor=sectorState.style.fill;sectorState.textConfig={outsideFill:"inherit"===labelStateModel.get("color")?labelColor:null,inside:"outside"!==labelPosition};var labelPadding=getLabelAttr(labelStateModel,"distance")||0,textAlign=getLabelAttr(labelStateModel,"align");"outside"===labelPosition?(r=layout.r+labelPadding,textAlign=midAngle>Math.PI/2?"right":"left"):textAlign&&"center"!==textAlign?"left"===textAlign?(r=layout.r0+labelPadding,midAngle>Math.PI/2&&(textAlign="right")):"right"===textAlign&&(r=layout.r-labelPadding,midAngle>Math.PI/2&&(textAlign="left")):(r=angle===2*Math.PI&&0===layout.r0?0:(layout.r+layout.r0)/2,textAlign="center"),state.style.align=textAlign,state.style.verticalAlign=getLabelAttr(labelStateModel,"verticalAlign")||"middle",state.x=r*dx+layout.cx,state.y=r*dy+layout.cy;var rotateType=getLabelAttr(labelStateModel,"rotate"),rotate=0;"radial"===rotateType?(rotate=-midAngle)<-Math.PI/2&&(rotate+=Math.PI):"tangential"===rotateType?(rotate=Math.PI/2-midAngle)>Math.PI/2?rotate-=Math.PI:rotate<-Math.PI/2&&(rotate+=Math.PI):util.isNumber(rotateType)&&(rotate=rotateType*Math.PI/180),state.rotation=rotate})),label.dirtyStyle()},SunburstPiece}(shape_Sector);var SunburstView_SunburstView=function(_super){function SunburstView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SunburstView.type,_this}return __extends(SunburstView,_super),SunburstView.prototype.render=function(seriesModel,ecModel,api,payload){var self=this;this.seriesModel=seriesModel,this.api=api,this.ecModel=ecModel;var data=seriesModel.getData(),virtualRoot=data.tree.root,newRoot=seriesModel.getViewRoot(),group=this.group,renderLabelForZeroData=seriesModel.get("renderLabelForZeroData"),newChildren=[];newRoot.eachNode((function(node){newChildren.push(node)}));var oldChildren=this._oldChildren||[];!function dualTravel(newChildren,oldChildren){if(0===newChildren.length&&0===oldChildren.length)return;function getKey(node){return node.getId()}function processNode(newIdx,oldIdx){!function doRenderNode(newNode,oldNode){renderLabelForZeroData||!newNode||newNode.getValue()||(newNode=null);if(newNode!==virtualRoot&&oldNode!==virtualRoot)if(oldNode&&oldNode.piece)newNode?(oldNode.piece.updateData(!1,newNode,seriesModel,ecModel,api),data.setItemGraphicEl(newNode.dataIndex,oldNode.piece)):function removeNode(node){if(!node)return;node.piece&&(group.remove(node.piece),node.piece=null)}(oldNode);else if(newNode){var piece=new sunburst_SunburstPiece(newNode,seriesModel,ecModel,api);group.add(piece),data.setItemGraphicEl(newNode.dataIndex,piece)}}(null==newIdx?null:newChildren[newIdx],null==oldIdx?null:oldChildren[oldIdx])}new data_DataDiffer(oldChildren,newChildren,getKey,getKey).add(processNode).update(processNode).remove(util.curry(processNode,null)).execute()}(newChildren,oldChildren),function renderRollUp(virtualRoot,viewRoot){viewRoot.depth>0?(self.virtualPiece?self.virtualPiece.updateData(!1,virtualRoot,seriesModel,ecModel,api):(self.virtualPiece=new sunburst_SunburstPiece(virtualRoot,seriesModel,ecModel,api),group.add(self.virtualPiece)),viewRoot.piece.off("click"),self.virtualPiece.on("click",(function(e){self._rootToNode(viewRoot.parentNode)}))):self.virtualPiece&&(group.remove(self.virtualPiece),self.virtualPiece=null)}(virtualRoot,newRoot),this._initEvents(),this._oldChildren=newChildren},SunburstView.prototype._initEvents=function(){var _this=this;this.group.off("click"),this.group.on("click",(function(e){var targetFound=!1;_this.seriesModel.getViewRoot().eachNode((function(node){if(!targetFound&&node.piece&&node.piece===e.target){var nodeClick=node.getModel().get("nodeClick");if("rootToNode"===nodeClick)_this._rootToNode(node);else if("link"===nodeClick){var itemModel=node.getModel(),link=itemModel.get("link");if(link)windowOpen(link,itemModel.get("target",!0)||"_blank")}targetFound=!0}}))}))},SunburstView.prototype._rootToNode=function(node){node!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:node})},SunburstView.prototype.containPoint=function(point,seriesModel){var itemLayout=seriesModel.getData().getItemLayout(0);if(itemLayout){var dx=point[0]-itemLayout.cx,dy=point[1]-itemLayout.cy,radius=Math.sqrt(dx*dx+dy*dy);return radius<=itemLayout.r&&radius>=itemLayout.r0}},SunburstView.type="sunburst",SunburstView}(Chart),sunburst_SunburstView=SunburstView_SunburstView,SunburstSeries_SunburstSeriesModel=function(_super){function SunburstSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SunburstSeriesModel.type,_this.ignoreStyleOnData=!0,_this}return __extends(SunburstSeriesModel,_super),SunburstSeriesModel.prototype.getInitialData=function(option,ecModel){var root={name:option.name,children:option.data};SunburstSeries_completeTreeValue(root);var levelModels=this._levelModels=util.map(option.levels||[],(function(levelDefine){return new model_Model(levelDefine,this,ecModel)}),this),tree=data_Tree.createTree(root,this,(function beforeLink(nodeData){nodeData.wrapMethod("getItemModel",(function(model,idx){var node=tree.getNodeByDataIndex(idx),levelModel=levelModels[node.depth];return levelModel&&(model.parentModel=levelModel),model}))}));return tree.data},SunburstSeriesModel.prototype.optionUpdated=function(){this.resetViewRoot()},SunburstSeriesModel.prototype.getDataParams=function(dataIndex){var params=_super.prototype.getDataParams.apply(this,arguments),node=this.getData().tree.getNodeByDataIndex(dataIndex);return params.treePathInfo=wrapTreePathInfo(node,this),params},SunburstSeriesModel.prototype.getLevelModel=function(node){return this._levelModels&&this._levelModels[node.depth]},SunburstSeriesModel.prototype.getViewRoot=function(){return this._viewRoot},SunburstSeriesModel.prototype.resetViewRoot=function(viewRoot){viewRoot?this._viewRoot=viewRoot:viewRoot=this._viewRoot;var root=this.getRawData().tree.root;viewRoot&&(viewRoot===root||root.contains(viewRoot))||(this._viewRoot=root)},SunburstSeriesModel.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},SunburstSeriesModel.type="series.sunburst",SunburstSeriesModel.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},SunburstSeriesModel}(Series);function SunburstSeries_completeTreeValue(dataNode){var sum=0;util.each(dataNode.children,(function(child){SunburstSeries_completeTreeValue(child);var childValue=child.value;util.isArray(childValue)&&(childValue=childValue[0]),sum+=childValue}));var thisValue=dataNode.value;util.isArray(thisValue)&&(thisValue=thisValue[0]),(null==thisValue||isNaN(thisValue))&&(thisValue=sum),thisValue<0&&(thisValue=0),util.isArray(dataNode.value)?dataNode.value[0]=thisValue:dataNode.value=thisValue}var SunburstSeries=SunburstSeries_SunburstSeriesModel,sunburstLayout_RADIAN=Math.PI/180;function sunburstLayout(seriesType,ecModel,api){ecModel.eachSeriesByType(seriesType,(function(seriesModel){var center=seriesModel.get("center"),radius=seriesModel.get("radius");util.isArray(radius)||(radius=[0,radius]),util.isArray(center)||(center=[center,center]);var width=api.getWidth(),height=api.getHeight(),size=Math.min(width,height),cx=number_parsePercent(center[0],width),cy=number_parsePercent(center[1],height),r0=number_parsePercent(radius[0],size/2),r=number_parsePercent(radius[1],size/2),startAngle=-seriesModel.get("startAngle")*sunburstLayout_RADIAN,minAngle=seriesModel.get("minAngle")*sunburstLayout_RADIAN,virtualRoot=seriesModel.getData().tree.root,treeRoot=seriesModel.getViewRoot(),rootDepth=treeRoot.depth,sort=seriesModel.get("sort");null!=sort&&sunburstLayout_initChildren(treeRoot,sort);var validDataCount=0;util.each(treeRoot.children,(function(child){!isNaN(child.getValue())&&validDataCount++}));var sum=treeRoot.getValue(),unitRadian=Math.PI/(sum||validDataCount)*2,renderRollupNode=treeRoot.depth>0,levels=treeRoot.height-(renderRollupNode?-1:1),rPerLevel=(r-r0)/(levels||1),clockwise=seriesModel.get("clockwise"),stillShowZeroSum=seriesModel.get("stillShowZeroSum"),dir=clockwise?1:-1,renderNode=function(node,startAngle){if(node){var endAngle=startAngle;if(node!==virtualRoot){var value=node.getValue(),angle=0===sum&&stillShowZeroSum?unitRadian:value*unitRadian;angle<minAngle&&(angle=minAngle),endAngle=startAngle+dir*angle;var depth=node.depth-rootDepth-(renderRollupNode?-1:1),rStart=r0+rPerLevel*depth,rEnd=r0+rPerLevel*(depth+1),levelModel=seriesModel.getLevelModel(node);if(levelModel){var r0_1=levelModel.get("r0",!0),r_1=levelModel.get("r",!0),radius_1=levelModel.get("radius",!0);null!=radius_1&&(r0_1=radius_1[0],r_1=radius_1[1]),null!=r0_1&&(rStart=number_parsePercent(r0_1,size/2)),null!=r_1&&(rEnd=number_parsePercent(r_1,size/2))}node.setLayout({angle:angle,startAngle:startAngle,endAngle:endAngle,clockwise:clockwise,cx:cx,cy:cy,r0:rStart,r:rEnd})}if(node.children&&node.children.length){var siblingAngle_1=0;util.each(node.children,(function(node){siblingAngle_1+=renderNode(node,startAngle+siblingAngle_1)}))}return endAngle-startAngle}};if(renderRollupNode){var rStart=r0,rEnd=r0+rPerLevel,angle=2*Math.PI;virtualRoot.setLayout({angle:angle,startAngle:startAngle,endAngle:startAngle+angle,clockwise:clockwise,cx:cx,cy:cy,r0:rStart,r:rEnd})}renderNode(treeRoot,startAngle)}))}function sunburstLayout_initChildren(node,sortOrder){var children=node.children||[];node.children=function sunburstLayout_sort(children,sortOrder){if(util.isFunction(sortOrder)){var sortTargets=util.map(children,(function(child,idx){var value=child.getValue();return{params:{depth:child.depth,height:child.height,dataIndex:child.dataIndex,getValue:function(){return value}},index:idx}}));return sortTargets.sort((function(a,b){return sortOrder(a.params,b.params)})),util.map(sortTargets,(function(target){return children[target.index]}))}var isAsc_1="asc"===sortOrder;return children.sort((function(a,b){var diff=(a.getValue()-b.getValue())*(isAsc_1?1:-1);return 0===diff?(a.dataIndex-b.dataIndex)*(isAsc_1?-1:1):diff}))}(children,sortOrder),children.length&&util.each(node.children,(function(child){sunburstLayout_initChildren(child,sortOrder)}))}function sunburstVisual(ecModel){var paletteScope={};ecModel.eachSeriesByType("sunburst",(function(seriesModel){var data=seriesModel.getData(),tree=data.tree;tree.eachNode((function(node){var style=node.getModel().getModel("itemStyle").getItemStyle();style.fill||(style.fill=function pickColor(node,seriesModel,treeHeight){for(var current=node;current&&current.depth>1;)current=current.parentNode;var color=seriesModel.getColorFromPalette(current.name||current.dataIndex+"",paletteScope);return node.depth>1&&Object(util.isString)(color)&&(color=Object(tool_color.lift)(color,(node.depth-1)/(treeHeight-1)*.5)),color}(node,seriesModel,tree.root.height));var existsStyle=data.ensureUniqueItemVisual(node.dataIndex,"style");Object(util.extend)(existsStyle,style)}))}))}var STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=makeInner(),CustomSeries_CustomSeriesModel=function(_super){function CustomSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CustomSeriesModel.type,_this}return __extends(CustomSeriesModel,_super),CustomSeriesModel.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},CustomSeriesModel.prototype.getInitialData=function(option,ecModel){return helper_createSeriesData(null,this)},CustomSeriesModel.prototype.getDataParams=function(dataIndex,dataType,el){var params=_super.prototype.getDataParams.call(this,dataIndex,dataType);return el&&(params.info=customInnerStore(el).info),params},CustomSeriesModel.type="series.custom",CustomSeriesModel.dependencies=["grid","polar","geo","singleAxis","calendar"],CustomSeriesModel.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},CustomSeriesModel}(Series),CustomSeries=CustomSeries_CustomSeriesModel;function dataToCoordSize(dataSize,dataItem){return dataItem=dataItem||[0,0],util.map(["x","y"],(function(dim,dimIdx){var axis=this.getAxis(dim),val=dataItem[dimIdx],halfSize=dataSize[dimIdx]/2;return"category"===axis.type?axis.getBandWidth():Math.abs(axis.dataToCoord(val-halfSize)-axis.dataToCoord(val+halfSize))}),this)}function prepareCustom_dataToCoordSize(dataSize,dataItem){return dataItem=dataItem||[0,0],util.map([0,1],(function(dimIdx){var val=dataItem[dimIdx],halfSize=dataSize[dimIdx]/2,p1=[],p2=[];return p1[dimIdx]=val-halfSize,p2[dimIdx]=val+halfSize,p1[1-dimIdx]=p2[1-dimIdx]=dataItem[1-dimIdx],Math.abs(this.dataToPoint(p1)[dimIdx]-this.dataToPoint(p2)[dimIdx])}),this)}function single_prepareCustom_dataToCoordSize(dataSize,dataItem){var axis=this.getAxis(),val=dataItem instanceof Array?dataItem[0]:dataItem,halfSize=(dataSize instanceof Array?dataSize[0]:dataSize)/2;return"category"===axis.type?axis.getBandWidth():Math.abs(axis.dataToCoord(val-halfSize)-axis.dataToCoord(val+halfSize))}function polar_prepareCustom_dataToCoordSize(dataSize,dataItem){return dataItem=dataItem||[0,0],util.map(["Radius","Angle"],(function(dim,dimIdx){var axis=this["get"+dim+"Axis"](),val=dataItem[dimIdx],halfSize=dataSize[dimIdx]/2,result="category"===axis.type?axis.getBandWidth():Math.abs(axis.dataToCoord(val-halfSize)-axis.dataToCoord(val+halfSize));return"Angle"===dim&&(result=result*Math.PI/180),result}),this)}function isEC4CompatibleStyle(style,elType,hasOwnTextContentOption,hasOwnTextConfig){return style&&(style.legacy||!1!==style.legacy&&!hasOwnTextContentOption&&!hasOwnTextConfig&&"tspan"!==elType&&("text"===elType||Object(util.hasOwn)(style,"text")))}function convertFromEC4CompatibleStyle(hostStyle,elType,isNormal){var textConfig,textContent,textContentStyle,srcStyle=hostStyle;if("text"===elType)textContentStyle=srcStyle;else{textContentStyle={},Object(util.hasOwn)(srcStyle,"text")&&(textContentStyle.text=srcStyle.text),Object(util.hasOwn)(srcStyle,"rich")&&(textContentStyle.rich=srcStyle.rich),Object(util.hasOwn)(srcStyle,"textFill")&&(textContentStyle.fill=srcStyle.textFill),Object(util.hasOwn)(srcStyle,"textStroke")&&(textContentStyle.stroke=srcStyle.textStroke),Object(util.hasOwn)(srcStyle,"fontFamily")&&(textContentStyle.fontFamily=srcStyle.fontFamily),Object(util.hasOwn)(srcStyle,"fontSize")&&(textContentStyle.fontSize=srcStyle.fontSize),Object(util.hasOwn)(srcStyle,"fontStyle")&&(textContentStyle.fontStyle=srcStyle.fontStyle),Object(util.hasOwn)(srcStyle,"fontWeight")&&(textContentStyle.fontWeight=srcStyle.fontWeight),textContent={type:"text",style:textContentStyle,silent:!0},textConfig={};var hasOwnPos=Object(util.hasOwn)(srcStyle,"textPosition");isNormal?textConfig.position=hasOwnPos?srcStyle.textPosition:"inside":hasOwnPos&&(textConfig.position=srcStyle.textPosition),Object(util.hasOwn)(srcStyle,"textPosition")&&(textConfig.position=srcStyle.textPosition),Object(util.hasOwn)(srcStyle,"textOffset")&&(textConfig.offset=srcStyle.textOffset),Object(util.hasOwn)(srcStyle,"textRotation")&&(textConfig.rotation=srcStyle.textRotation),Object(util.hasOwn)(srcStyle,"textDistance")&&(textConfig.distance=srcStyle.textDistance)}return convertEC4CompatibleRichItem(textContentStyle,hostStyle),Object(util.each)(textContentStyle.rich,(function(richItem){convertEC4CompatibleRichItem(richItem,richItem)})),{textConfig:textConfig,textContent:textContent}}function convertEC4CompatibleRichItem(out,richItem){richItem&&(richItem.font=richItem.textFont||richItem.font,Object(util.hasOwn)(richItem,"textStrokeWidth")&&(out.lineWidth=richItem.textStrokeWidth),Object(util.hasOwn)(richItem,"textAlign")&&(out.align=richItem.textAlign),Object(util.hasOwn)(richItem,"textVerticalAlign")&&(out.verticalAlign=richItem.textVerticalAlign),Object(util.hasOwn)(richItem,"textLineHeight")&&(out.lineHeight=richItem.textLineHeight),Object(util.hasOwn)(richItem,"textWidth")&&(out.width=richItem.textWidth),Object(util.hasOwn)(richItem,"textHeight")&&(out.height=richItem.textHeight),Object(util.hasOwn)(richItem,"textBackgroundColor")&&(out.backgroundColor=richItem.textBackgroundColor),Object(util.hasOwn)(richItem,"textPadding")&&(out.padding=richItem.textPadding),Object(util.hasOwn)(richItem,"textBorderColor")&&(out.borderColor=richItem.textBorderColor),Object(util.hasOwn)(richItem,"textBorderWidth")&&(out.borderWidth=richItem.textBorderWidth),Object(util.hasOwn)(richItem,"textBorderRadius")&&(out.borderRadius=richItem.textBorderRadius),Object(util.hasOwn)(richItem,"textBoxShadowColor")&&(out.shadowColor=richItem.textBoxShadowColor),Object(util.hasOwn)(richItem,"textBoxShadowBlur")&&(out.shadowBlur=richItem.textBoxShadowBlur),Object(util.hasOwn)(richItem,"textBoxShadowOffsetX")&&(out.shadowOffsetX=richItem.textBoxShadowOffsetX),Object(util.hasOwn)(richItem,"textBoxShadowOffsetY")&&(out.shadowOffsetY=richItem.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(itemStl,txStl,txCfg){var out=itemStl;out.textPosition=out.textPosition||txCfg.position||"inside",null!=txCfg.offset&&(out.textOffset=txCfg.offset),null!=txCfg.rotation&&(out.textRotation=txCfg.rotation),null!=txCfg.distance&&(out.textDistance=txCfg.distance);var isInside=out.textPosition.indexOf("inside")>=0,hostFill=itemStl.fill||"#000";convertToEC4RichItem(out,txStl);var textFillNotSet=null==out.textFill;return isInside?textFillNotSet&&(out.textFill=txCfg.insideFill||"#fff",!out.textStroke&&txCfg.insideStroke&&(out.textStroke=txCfg.insideStroke),!out.textStroke&&(out.textStroke=hostFill),null==out.textStrokeWidth&&(out.textStrokeWidth=2)):(textFillNotSet&&(out.textFill=itemStl.fill||txCfg.outsideFill||"#000"),!out.textStroke&&txCfg.outsideStroke&&(out.textStroke=txCfg.outsideStroke)),out.text=txStl.text,out.rich=txStl.rich,Object(util.each)(txStl.rich,(function(richItem){convertToEC4RichItem(richItem,richItem)})),out}function convertToEC4RichItem(out,richItem){richItem&&(Object(util.hasOwn)(richItem,"fill")&&(out.textFill=richItem.fill),Object(util.hasOwn)(richItem,"stroke")&&(out.textStroke=richItem.fill),Object(util.hasOwn)(richItem,"lineWidth")&&(out.textStrokeWidth=richItem.lineWidth),Object(util.hasOwn)(richItem,"font")&&(out.font=richItem.font),Object(util.hasOwn)(richItem,"fontStyle")&&(out.fontStyle=richItem.fontStyle),Object(util.hasOwn)(richItem,"fontWeight")&&(out.fontWeight=richItem.fontWeight),Object(util.hasOwn)(richItem,"fontSize")&&(out.fontSize=richItem.fontSize),Object(util.hasOwn)(richItem,"fontFamily")&&(out.fontFamily=richItem.fontFamily),Object(util.hasOwn)(richItem,"align")&&(out.textAlign=richItem.align),Object(util.hasOwn)(richItem,"verticalAlign")&&(out.textVerticalAlign=richItem.verticalAlign),Object(util.hasOwn)(richItem,"lineHeight")&&(out.textLineHeight=richItem.lineHeight),Object(util.hasOwn)(richItem,"width")&&(out.textWidth=richItem.width),Object(util.hasOwn)(richItem,"height")&&(out.textHeight=richItem.height),Object(util.hasOwn)(richItem,"backgroundColor")&&(out.textBackgroundColor=richItem.backgroundColor),Object(util.hasOwn)(richItem,"padding")&&(out.textPadding=richItem.padding),Object(util.hasOwn)(richItem,"borderColor")&&(out.textBorderColor=richItem.borderColor),Object(util.hasOwn)(richItem,"borderWidth")&&(out.textBorderWidth=richItem.borderWidth),Object(util.hasOwn)(richItem,"borderRadius")&&(out.textBorderRadius=richItem.borderRadius),Object(util.hasOwn)(richItem,"shadowColor")&&(out.textBoxShadowColor=richItem.shadowColor),Object(util.hasOwn)(richItem,"shadowBlur")&&(out.textBoxShadowBlur=richItem.shadowBlur),Object(util.hasOwn)(richItem,"shadowOffsetX")&&(out.textBoxShadowOffsetX=richItem.shadowOffsetX),Object(util.hasOwn)(richItem,"shadowOffsetY")&&(out.textBoxShadowOffsetY=richItem.shadowOffsetY),Object(util.hasOwn)(richItem,"textShadowColor")&&(out.textShadowColor=richItem.textShadowColor),Object(util.hasOwn)(richItem,"textShadowBlur")&&(out.textShadowBlur=richItem.textShadowBlur),Object(util.hasOwn)(richItem,"textShadowOffsetX")&&(out.textShadowOffsetX=richItem.textShadowOffsetX),Object(util.hasOwn)(richItem,"textShadowOffsetY")&&(out.textShadowOffsetY=richItem.textShadowOffsetY))}var LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=Object(util.keys)(LEGACY_TRANSFORM_PROPS_MAP),ELEMENT_ANIMATABLE_PROPS=(Object(util.reduce)(TRANSFORMABLE_PROPS,(function(obj,key){return obj[key]=1,obj}),{}),TRANSFORMABLE_PROPS.join(", "),["","style","shape","extra"]),transitionInnerStore=makeInner();function getElementAnimationConfig(animationType,el,elOption,parentModel,dataIndex){var animationProp=animationType+"Animation",config=getAnimationConfig(animationType,parentModel,dataIndex)||{},userDuring=transitionInnerStore(el).userDuring;return config.duration>0&&(config.during=userDuring?Object(util.bind)(duringCall,{el:el,userDuring:userDuring}):null,config.setToFinal=!0,config.scope=animationType),Object(util.extend)(config,elOption[animationProp]),config}function applyUpdateTransition(el,elOption,animatableModel,opts){var dataIndex=(opts=opts||{}).dataIndex,isInit=opts.isInit,clearStyle=opts.clearStyle,hasAnimation=animatableModel.isAnimationEnabled(),store=transitionInnerStore(el),styleOpt=elOption.style;store.userDuring=elOption.during;var transFromProps={},propsToSet={};if(function prepareTransformAllPropsFinal(el,elOption,allProps){for(var i=0;i<LEGACY_TRANSFORM_PROPS.length;i++){var legacyName=LEGACY_TRANSFORM_PROPS[i],xyName=LEGACY_TRANSFORM_PROPS_MAP[legacyName],legacyArr=elOption[legacyName];legacyArr&&(allProps[xyName[0]]=legacyArr[0],allProps[xyName[1]]=legacyArr[1])}for(i=0;i<TRANSFORMABLE_PROPS.length;i++){var key=TRANSFORMABLE_PROPS[i];null!=elOption[key]&&(allProps[key]=elOption[key])}}(0,elOption,propsToSet),prepareShapeOrExtraAllPropsFinal("shape",elOption,propsToSet),prepareShapeOrExtraAllPropsFinal("extra",elOption,propsToSet),!isInit&&hasAnimation&&(!function prepareTransformTransitionFrom(el,elOption,transFromProps){for(var transition=elOption.transition,transitionKeys=isTransitionAll(transition)?TRANSFORMABLE_PROPS:normalizeToArray(transition||[]),i=0;i<transitionKeys.length;i++){var key=transitionKeys[i];if("style"!==key&&"shape"!==key&&"extra"!==key){var elVal=el[key];0,transFromProps[key]=elVal}}}(el,elOption,transFromProps),prepareShapeOrExtraTransitionFrom("shape",el,elOption,transFromProps),prepareShapeOrExtraTransitionFrom("extra",el,elOption,transFromProps),function prepareStyleTransitionFrom(fromEl,elOption,styleOpt,transFromProps){if(!styleOpt)return;var transFromStyleProps,fromElStyle=fromEl.style;if(fromElStyle){var styleTransition=styleOpt.transition,elTransition=elOption.transition;if(styleTransition&&!isTransitionAll(styleTransition)){var transitionKeys=normalizeToArray(styleTransition);!transFromStyleProps&&(transFromStyleProps=transFromProps.style={});for(var i=0;i<transitionKeys.length;i++){var elVal=fromElStyle[key=transitionKeys[i]];transFromStyleProps[key]=elVal}}else if(fromEl.getAnimationStyleProps&&(isTransitionAll(elTransition)||isTransitionAll(styleTransition)||Object(util.indexOf)(elTransition,"style")>=0)){var animationProps=fromEl.getAnimationStyleProps(),animationStyleProps=animationProps?animationProps.style:null;if(animationStyleProps){!transFromStyleProps&&(transFromStyleProps=transFromProps.style={});var styleKeys=Object(util.keys)(styleOpt);for(i=0;i<styleKeys.length;i++){var key;if(animationStyleProps[key=styleKeys[i]]){elVal=fromElStyle[key];transFromStyleProps[key]=elVal}}}}}}(el,elOption,styleOpt,transFromProps)),propsToSet.style=styleOpt,function applyPropsDirectly(el,allPropsFinal,clearStyle){var styleOpt=allPropsFinal.style;if(!el.isGroup&&styleOpt){if(clearStyle){el.useStyle({});for(var animators=el.animators,i=0;i<animators.length;i++){var animator=animators[i];"style"===animator.targetName&&animator.changeTarget(el.style)}}el.setStyle(styleOpt)}allPropsFinal&&(allPropsFinal.style=null,allPropsFinal&&el.attr(allPropsFinal),allPropsFinal.style=styleOpt)}(el,propsToSet,clearStyle),function applyMiscProps(el,elOption){Object(util.hasOwn)(elOption,"silent")&&(el.silent=elOption.silent),Object(util.hasOwn)(elOption,"ignore")&&(el.ignore=elOption.ignore),el instanceof graphic_Displayable&&Object(util.hasOwn)(elOption,"invisible")&&(el.invisible=elOption.invisible);el instanceof graphic_Path&&Object(util.hasOwn)(elOption,"autoBatch")&&(el.autoBatch=elOption.autoBatch)}(el,elOption),hasAnimation)if(isInit){var enterFromProps_1={};Object(util.each)(ELEMENT_ANIMATABLE_PROPS,(function(propName){var prop=propName?elOption[propName]:elOption;prop&&prop.enterFrom&&(propName&&(enterFromProps_1[propName]=enterFromProps_1[propName]||{}),Object(util.extend)(propName?enterFromProps_1[propName]:enterFromProps_1,prop.enterFrom))}));var config=getElementAnimationConfig("enter",el,elOption,animatableModel,dataIndex);config.duration>0&&el.animateFrom(enterFromProps_1,config)}else!function applyPropsTransition(el,elOption,dataIndex,model,transFromProps){if(transFromProps){var config=getElementAnimationConfig("update",el,elOption,model,dataIndex);config.duration>0&&el.animateFrom(transFromProps,config)}}(el,elOption,dataIndex||0,animatableModel,transFromProps);updateLeaveTo(el,elOption),styleOpt?el.dirty():el.markRedraw()}function updateLeaveTo(el,elOption){for(var leaveToProps=transitionInnerStore(el).leaveToProps,i=0;i<ELEMENT_ANIMATABLE_PROPS.length;i++){var propName=ELEMENT_ANIMATABLE_PROPS[i],prop=propName?elOption[propName]:elOption;prop&&prop.leaveTo&&(leaveToProps||(leaveToProps=transitionInnerStore(el).leaveToProps={}),propName&&(leaveToProps[propName]=leaveToProps[propName]||{}),Object(util.extend)(propName?leaveToProps[propName]:leaveToProps,prop.leaveTo))}}function applyLeaveTransition(el,elOption,animatableModel,onRemove){if(el){var parent_1=el.parent,leaveToProps=transitionInnerStore(el).leaveToProps;if(leaveToProps){var config=getElementAnimationConfig("update",el,elOption,animatableModel,0);config.done=function(){parent_1.remove(el),onRemove&&onRemove()},el.animateTo(leaveToProps,config)}else parent_1.remove(el),onRemove&&onRemove()}}function isTransitionAll(transition){return"all"===transition}var tmpDuringScope={},transitionDuringAPI={setTransform:function(key,val){return tmpDuringScope.el[key]=val,this},getTransform:function(key){return tmpDuringScope.el[key]},setShape:function(key,val){var el=tmpDuringScope.el;return(el.shape||(el.shape={}))[key]=val,el.dirtyShape&&el.dirtyShape(),this},getShape:function(key){var shape=tmpDuringScope.el.shape;if(shape)return shape[key]},setStyle:function(key,val){var el=tmpDuringScope.el,style=el.style;return style&&(style[key]=val,el.dirtyStyle&&el.dirtyStyle()),this},getStyle:function(key){var style=tmpDuringScope.el.style;if(style)return style[key]},setExtra:function(key,val){return(tmpDuringScope.el.extra||(tmpDuringScope.el.extra={}))[key]=val,this},getExtra:function(key){var extra=tmpDuringScope.el.extra;if(extra)return extra[key]}};function duringCall(){var el=this.el;if(el){var latestUserDuring=transitionInnerStore(el).userDuring,scopeUserDuring=this.userDuring;latestUserDuring===scopeUserDuring?(tmpDuringScope.el=el,scopeUserDuring(transitionDuringAPI)):this.el=this.userDuring=null}}function prepareShapeOrExtraTransitionFrom(mainAttr,fromEl,elOption,transFromProps){var attrOpt=elOption[mainAttr];if(attrOpt){var transFromPropsInAttr,elPropsInAttr=fromEl[mainAttr];if(elPropsInAttr){var transition=elOption.transition,attrTransition=attrOpt.transition;if(attrTransition)if(!transFromPropsInAttr&&(transFromPropsInAttr=transFromProps[mainAttr]={}),isTransitionAll(attrTransition))Object(util.extend)(transFromPropsInAttr,elPropsInAttr);else for(var transitionKeys=normalizeToArray(attrTransition),i=0;i<transitionKeys.length;i++){var elVal=elPropsInAttr[key=transitionKeys[i]];transFromPropsInAttr[key]=elVal}else if(isTransitionAll(transition)||Object(util.indexOf)(transition,mainAttr)>=0){!transFromPropsInAttr&&(transFromPropsInAttr=transFromProps[mainAttr]={});var elPropsInAttrKeys=Object(util.keys)(elPropsInAttr);for(i=0;i<elPropsInAttrKeys.length;i++){var key;elVal=elPropsInAttr[key=elPropsInAttrKeys[i]];isNonStyleTransitionEnabled(attrOpt[key],elVal)&&(transFromPropsInAttr[key]=elVal)}}}}}function prepareShapeOrExtraAllPropsFinal(mainAttr,elOption,allProps){var attrOpt=elOption[mainAttr];if(attrOpt)for(var allPropsInAttr=allProps[mainAttr]={},keysInAttr=Object(util.keys)(attrOpt),i=0;i<keysInAttr.length;i++){var key=keysInAttr[i];allPropsInAttr[key]=cloneValue(attrOpt[key])}}function isNonStyleTransitionEnabled(optVal,elVal){return Object(util.isArrayLike)(optVal)?optVal!==elVal:null!=optVal&&isFinite(optVal)}var getStateToRestore=makeInner(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore(el){el.stopAnimation("keyframe"),el.attr(getStateToRestore(el))}function applyKeyframeAnimation(el,animationOpts,animatableModel){if(animatableModel.isAnimationEnabled()&&animationOpts)if(Object(util.isArray)(animationOpts))Object(util.each)(animationOpts,(function(singleAnimationOpts){applyKeyframeAnimation(el,singleAnimationOpts,animatableModel)}));else{var keyframes=animationOpts.keyframes,duration=animationOpts.duration;if(animatableModel&&null==duration){var config=getAnimationConfig("enter",animatableModel,0);duration=config&&config.duration}if(keyframes&&duration){var stateToRestore=getStateToRestore(el);Object(util.each)(ELEMENT_ANIMATABLE_PROPS,(function(targetPropName){if(!targetPropName||el[targetPropName]){var animator;keyframes.sort((function(a,b){return a.percent-b.percent})),Object(util.each)(keyframes,(function(kf){var animators=el.animators,kfValues=targetPropName?kf[targetPropName]:kf;if(kfValues){var propKeys=Object(util.keys)(kfValues);if(targetPropName||(propKeys=Object(util.filter)(propKeys,(function(key){return Object(util.indexOf)(KEYFRAME_EXCLUDE_KEYS,key)<0}))),propKeys.length){animator||((animator=el.animate(targetPropName,animationOpts.loop,!0)).scope="keyframe");for(var i=0;i<animators.length;i++)animators[i]!==animator&&animators[i].targetName===animator.targetName&&animators[i].stopTracks(propKeys);targetPropName&&(stateToRestore[targetPropName]=stateToRestore[targetPropName]||{});var savedTarget=targetPropName?stateToRestore[targetPropName]:stateToRestore;Object(util.each)(propKeys,(function(key){savedTarget[key]=((targetPropName?el[targetPropName]:el)||{})[key]})),animator.whenWithKeys(duration*kf.percent,kfValues,propKeys,kf.easing)}}})),animator&&animator.delay(animationOpts.delay||0).duration(duration).start(animationOpts.easing)}}))}}}var NORMAL="normal",STATES=["normal","emphasis","blur","select"],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:["emphasis","itemStyle"],blur:["blur","itemStyle"],select:["select","itemStyle"]},PATH_LABEL={normal:["label"],emphasis:["emphasis","label"],blur:["blur","label"],select:["select","label"]},DEFAULT_TRANSITION=["x","y"],attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:function cartesianPrepareCustom(coordSys){var rect=coordSys.master.getRect();return{coordSys:{type:"cartesian2d",x:rect.x,y:rect.y,width:rect.width,height:rect.height},api:{coord:function(data){return coordSys.dataToPoint(data)},size:util.bind(dataToCoordSize,coordSys)}}},geo:function geoPrepareCustom(coordSys){var rect=coordSys.getBoundingRect();return{coordSys:{type:"geo",x:rect.x,y:rect.y,width:rect.width,height:rect.height,zoom:coordSys.getZoom()},api:{coord:function(data){return coordSys.dataToPoint(data)},size:util.bind(prepareCustom_dataToCoordSize,coordSys)}}},singleAxis:function singlePrepareCustom(coordSys){var rect=coordSys.getRect();return{coordSys:{type:"singleAxis",x:rect.x,y:rect.y,width:rect.width,height:rect.height},api:{coord:function(val){return coordSys.dataToPoint(val)},size:Object(util.bind)(single_prepareCustom_dataToCoordSize,coordSys)}}},polar:function polarPrepareCustom(coordSys){var radiusAxis=coordSys.getRadiusAxis(),angleAxis=coordSys.getAngleAxis(),radius=radiusAxis.getExtent();return radius[0]>radius[1]&&radius.reverse(),{coordSys:{type:"polar",cx:coordSys.cx,cy:coordSys.cy,r:radius[1],r0:radius[0]},api:{coord:function(data){var radius=radiusAxis.dataToRadius(data[0]),angle=angleAxis.dataToAngle(data[1]),coord=coordSys.coordToPoint([radius,angle]);return coord.push(radius,angle*Math.PI/180),coord},size:util.bind(polar_prepareCustom_dataToCoordSize,coordSys)}}},calendar:function calendarPrepareCustom(coordSys){var rect=coordSys.getRect(),rangeInfo=coordSys.getRangeInfo();return{coordSys:{type:"calendar",x:rect.x,y:rect.y,width:rect.width,height:rect.height,cellWidth:coordSys.getCellWidth(),cellHeight:coordSys.getCellHeight(),rangeInfo:{start:rangeInfo.start,end:rangeInfo.end,weeks:rangeInfo.weeks,dayCount:rangeInfo.allDay}},api:{coord:function(data,clamp){return coordSys.dataToPoint(data,clamp)}}}}};function CustomView_isPath(el){return el instanceof graphic_Path}function isDisplayable(el){return el instanceof graphic_Displayable}var CustomView_CustomChartView=function(_super){function CustomChartView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CustomChartView.type,_this}return __extends(CustomChartView,_super),CustomChartView.prototype.render=function(customSeries,ecModel,api,payload){this._progressiveEls=null;var oldData=this._data,data=customSeries.getData(),group=this.group,renderItem=makeRenderItem(customSeries,data,ecModel,api);oldData||group.removeAll(),data.diff(oldData).add((function(newIdx){createOrUpdateItem(api,null,newIdx,renderItem(newIdx,payload),customSeries,group,data)})).remove((function(oldIdx){var el=oldData.getItemGraphicEl(oldIdx);applyLeaveTransition(el,customInnerStore(el).option,customSeries)})).update((function(newIdx,oldIdx){var oldEl=oldData.getItemGraphicEl(oldIdx);createOrUpdateItem(api,oldEl,newIdx,renderItem(newIdx,payload),customSeries,group,data)})).execute();var clipPath=customSeries.get("clip",!0)?createClipPath(customSeries.coordinateSystem,!1,customSeries):null;clipPath?group.setClipPath(clipPath):group.removeClipPath(),this._data=data},CustomChartView.prototype.incrementalPrepareRender=function(customSeries,ecModel,api){this.group.removeAll(),this._data=null},CustomChartView.prototype.incrementalRender=function(params,customSeries,ecModel,api,payload){var data=customSeries.getData(),renderItem=makeRenderItem(customSeries,data,ecModel,api),progressiveEls=this._progressiveEls=[];function setIncrementalAndHoverLayer(el){el.isGroup||(el.incremental=!0,el.ensureState("emphasis").hoverLayer=!0)}for(var idx=params.start;idx<params.end;idx++){var el=createOrUpdateItem(null,null,idx,renderItem(idx,payload),customSeries,this.group,data);el&&(el.traverse(setIncrementalAndHoverLayer),progressiveEls.push(el))}},CustomChartView.prototype.eachRendered=function(cb){traverseElements(this._progressiveEls||this.group,cb)},CustomChartView.prototype.filterForExposedEvent=function(eventType,query,targetEl,packedEvent){var elementName=query.element;if(null==elementName||targetEl.name===elementName)return!0;for(;(targetEl=targetEl.__hostTarget||targetEl.parent)&&targetEl!==this.group;)if(targetEl.name===elementName)return!0;return!1},CustomChartView.type="custom",CustomChartView}(Chart),CustomView=CustomView_CustomChartView;function createEl(elOption){var el,graphicType=elOption.type;if("path"===graphicType){var shape=elOption.shape,pathRect=null!=shape.width&&null!=shape.height?{x:shape.x||0,y:shape.y||0,width:shape.width,height:shape.height}:null,pathData=getPathData(shape);el=makePath(pathData,null,pathRect,shape.layout||"center"),customInnerStore(el).customPathData=pathData}else if("image"===graphicType)el=new graphic_Image({}),customInnerStore(el).customImagePath=elOption.style.image;else if("text"===graphicType)el=new Text({});else if("group"===graphicType)el=new graphic_Group;else{if("compoundPath"===graphicType)throw new Error('"compoundPath" is not supported yet.');var Clz=getShapeClass(graphicType);if(!Clz){0,throwError("")}el=new Clz}return customInnerStore(el).customGraphicType=graphicType,el.name=elOption.name,el.z2EmphasisLift=1,el.z2SelectLift=1,el}function updateElNormal(api,el,dataIndex,elOption,attachedTxInfo,seriesModel,isInit){stopPreviousKeyframeAnimationAndRestore(el);var txCfgOpt=attachedTxInfo&&attachedTxInfo.normal.cfg;txCfgOpt&&el.setTextConfig(txCfgOpt),elOption&&null==elOption.transition&&(elOption.transition=DEFAULT_TRANSITION);var styleOpt=elOption&&elOption.style;if(styleOpt){if("text"===el.type){var textOptionStyle=styleOpt;Object(util.hasOwn)(textOptionStyle,"textFill")&&(textOptionStyle.fill=textOptionStyle.textFill),Object(util.hasOwn)(textOptionStyle,"textStroke")&&(textOptionStyle.stroke=textOptionStyle.textStroke)}var decalPattern=void 0,decalObj=CustomView_isPath(el)?styleOpt.decal:null;api&&decalObj&&(decalObj.dirty=!0,decalPattern=createOrUpdatePatternFromDecal(decalObj,api)),styleOpt.__decalPattern=decalPattern}isDisplayable(el)&&(styleOpt&&(decalPattern=styleOpt.__decalPattern)&&(styleOpt.decal=decalPattern));applyUpdateTransition(el,elOption,seriesModel,{dataIndex:dataIndex,isInit:isInit,clearStyle:!0}),applyKeyframeAnimation(el,elOption.keyframeAnimation,seriesModel)}function updateElOnState(state,el,elStateOpt,styleOpt,attachedTxInfo){var elDisplayable=el.isGroup?null:el,txCfgOpt=attachedTxInfo&&attachedTxInfo[state].cfg;if(elDisplayable){var stateObj=elDisplayable.ensureState(state);if(!1===styleOpt){var existingEmphasisState=elDisplayable.getState(state);existingEmphasisState&&(existingEmphasisState.style=null)}else stateObj.style=styleOpt||null;txCfgOpt&&(stateObj.textConfig=txCfgOpt),setDefaultStateProxy(elDisplayable)}}function updateZForEachState(elDisplayable,elOption,state){var isNormal="normal"===state,elStateOpt=isNormal?elOption:retrieveStateOption(elOption,state),optZ2=elStateOpt?elStateOpt.z2:null;null!=optZ2&&((isNormal?elDisplayable:elDisplayable.ensureState(state)).z2=optZ2||0)}function makeRenderItem(customSeries,data,ecModel,api){var renderItem=customSeries.get("renderItem"),coordSys=customSeries.coordinateSystem,prepareResult={};coordSys&&(prepareResult=coordSys.prepareCustoms?coordSys.prepareCustoms(coordSys):prepareCustoms[coordSys.type](coordSys));for(var currDataIndexInside,currItemModel,userAPI=Object(util.defaults)({getWidth:api.getWidth,getHeight:api.getHeight,getZr:api.getZr,getDevicePixelRatio:api.getDevicePixelRatio,value:function value(dim,dataIndexInside){return null==dataIndexInside&&(dataIndexInside=currDataIndexInside),data.getStore().get(data.getDimensionIndex(dim||0),dataIndexInside)},style:function style(userProps,dataIndexInside){0;null==dataIndexInside&&(dataIndexInside=currDataIndexInside);var style=data.getItemVisual(dataIndexInside,"style"),visualColor=style&&style.fill,opacity=style&&style.opacity,itemStyle=getItemStyleModel(dataIndexInside,"normal").getItemStyle();null!=visualColor&&(itemStyle.fill=visualColor),null!=opacity&&(itemStyle.opacity=opacity);var opt={inheritColor:Object(util.isString)(visualColor)?visualColor:"#000"},labelModel=getLabelModel(dataIndexInside,"normal"),textStyle=createTextStyle(labelModel,null,opt,!1,!0);textStyle.text=labelModel.getShallow("show")?Object(util.retrieve2)(customSeries.getFormattedLabel(dataIndexInside,"normal"),getDefaultLabel(data,dataIndexInside)):null;var textConfig=createTextConfig(labelModel,opt,!1);return preFetchFromExtra(userProps,itemStyle),itemStyle=convertToEC4StyleForCustomSerise(itemStyle,textStyle,textConfig),userProps&&applyUserPropsAfter(itemStyle,userProps),itemStyle.legacy=!0,itemStyle},ordinalRawValue:function ordinalRawValue(dim,dataIndexInside){null==dataIndexInside&&(dataIndexInside=currDataIndexInside),dim=dim||0;var dimInfo=data.getDimensionInfo(dim);if(!dimInfo){var dimIndex=data.getDimensionIndex(dim);return dimIndex>=0?data.getStore().get(dimIndex,dataIndexInside):void 0}var val=data.get(dimInfo.name,dataIndexInside),ordinalMeta=dimInfo&&dimInfo.ordinalMeta;return ordinalMeta?ordinalMeta.categories[val]:val},styleEmphasis:function styleEmphasis(userProps,dataIndexInside){0;null==dataIndexInside&&(dataIndexInside=currDataIndexInside);var itemStyle=getItemStyleModel(dataIndexInside,"emphasis").getItemStyle(),labelModel=getLabelModel(dataIndexInside,"emphasis"),textStyle=createTextStyle(labelModel,null,null,!0,!0);textStyle.text=labelModel.getShallow("show")?Object(util.retrieve3)(customSeries.getFormattedLabel(dataIndexInside,"emphasis"),customSeries.getFormattedLabel(dataIndexInside,"normal"),getDefaultLabel(data,dataIndexInside)):null;var textConfig=createTextConfig(labelModel,null,!0);return preFetchFromExtra(userProps,itemStyle),itemStyle=convertToEC4StyleForCustomSerise(itemStyle,textStyle,textConfig),userProps&&applyUserPropsAfter(itemStyle,userProps),itemStyle.legacy=!0,itemStyle},visual:function visual(visualType,dataIndexInside){if(null==dataIndexInside&&(dataIndexInside=currDataIndexInside),Object(util.hasOwn)(STYLE_VISUAL_TYPE,visualType)){var style_1=data.getItemVisual(dataIndexInside,"style");return style_1?style_1[STYLE_VISUAL_TYPE[visualType]]:null}if(Object(util.hasOwn)(NON_STYLE_VISUAL_PROPS,visualType))return data.getItemVisual(dataIndexInside,visualType)},barLayout:function barLayout(opt){if("cartesian2d"===coordSys.type){var baseAxis=coordSys.getBaseAxis();return function getLayoutOnAxis(opt){var params=[],baseAxis=opt.axis;if("category"===baseAxis.type){for(var bandWidth=baseAxis.getBandWidth(),i=0;i<opt.count;i++)params.push(Object(util.defaults)({bandWidth:bandWidth,axisKey:"axis0",stackId:"__ec_stack_"+i},opt));var widthAndOffsets=doCalBarWidthAndOffset(params),result=[];for(i=0;i<opt.count;i++){var item=widthAndOffsets.axis0["__ec_stack_"+i];item.offsetCenter=item.offset+item.width/2,result.push(item)}return result}}(Object(util.defaults)({axis:baseAxis},opt))}},currentSeriesIndices:function currentSeriesIndices(){return ecModel.getCurrentSeriesIndices()},font:function font(opt){return getFont(opt,ecModel)}},prepareResult.api||{}),userParams={context:{},seriesId:customSeries.id,seriesName:customSeries.name,seriesIndex:customSeries.seriesIndex,coordSys:prepareResult.coordSys,dataInsideLength:data.count(),encode:wrapEncodeDef(customSeries.getData())},currItemStyleModels={},currLabelModels={},seriesItemStyleModels={},seriesLabelModels={},i=0;i<STATES.length;i++){var stateName=STATES[i];seriesItemStyleModels[stateName]=customSeries.getModel(PATH_ITEM_STYLE[stateName]),seriesLabelModels[stateName]=customSeries.getModel(PATH_LABEL[stateName])}function getItemModel(dataIndexInside){return dataIndexInside===currDataIndexInside?currItemModel||(currItemModel=data.getItemModel(dataIndexInside)):data.getItemModel(dataIndexInside)}function getItemStyleModel(dataIndexInside,state){return data.hasItemOption?dataIndexInside===currDataIndexInside?currItemStyleModels[state]||(currItemStyleModels[state]=getItemModel(dataIndexInside).getModel(PATH_ITEM_STYLE[state])):getItemModel(dataIndexInside).getModel(PATH_ITEM_STYLE[state]):seriesItemStyleModels[state]}function getLabelModel(dataIndexInside,state){return data.hasItemOption?dataIndexInside===currDataIndexInside?currLabelModels[state]||(currLabelModels[state]=getItemModel(dataIndexInside).getModel(PATH_LABEL[state])):getItemModel(dataIndexInside).getModel(PATH_LABEL[state]):seriesLabelModels[state]}return function(dataIndexInside,payload){return currDataIndexInside=dataIndexInside,currItemModel=null,currItemStyleModels={},currLabelModels={},renderItem&&renderItem(Object(util.defaults)({dataIndexInside:dataIndexInside,dataIndex:data.getRawIndex(dataIndexInside),actionType:payload?payload.type:null},userParams),userAPI)};function applyUserPropsAfter(itemStyle,extra){for(var key in extra)Object(util.hasOwn)(extra,key)&&(itemStyle[key]=extra[key])}function preFetchFromExtra(extra,itemStyle){extra&&(extra.textFill&&(itemStyle.textFill=extra.textFill),extra.textPosition&&(itemStyle.textPosition=extra.textPosition))}}function wrapEncodeDef(data){var encodeDef={};return Object(util.each)(data.dimensions,(function(dimName){var dimInfo=data.getDimensionInfo(dimName);if(!dimInfo.isExtraCoord){var coordDim=dimInfo.coordDim;(encodeDef[coordDim]=encodeDef[coordDim]||[])[dimInfo.coordDimIndex]=data.getDimensionIndex(dimName)}})),encodeDef}function createOrUpdateItem(api,existsEl,dataIndex,elOption,seriesModel,group,data){if(elOption){var el=doCreateOrUpdateEl(api,existsEl,dataIndex,elOption,seriesModel,group);return el&&data.setItemGraphicEl(dataIndex,el),el&&toggleHoverEmphasis(el,elOption.focus,elOption.blurScope,elOption.emphasisDisabled),el}group.remove(existsEl)}function doCreateOrUpdateEl(api,existsEl,dataIndex,elOption,seriesModel,group){var toBeReplacedIdx=-1,oldEl=existsEl;existsEl&&doesElNeedRecreate(existsEl,elOption,seriesModel)&&(toBeReplacedIdx=Object(util.indexOf)(group.childrenRef(),existsEl),existsEl=null);var isInit=!existsEl,el=existsEl;el?el.clearStates():(el=createEl(elOption),oldEl&&function copyElement(sourceEl,targetEl){targetEl.copyTransform(sourceEl),isDisplayable(targetEl)&&isDisplayable(sourceEl)&&(targetEl.setStyle(sourceEl.style),targetEl.z=sourceEl.z,targetEl.z2=sourceEl.z2,targetEl.zlevel=sourceEl.zlevel,targetEl.invisible=sourceEl.invisible,targetEl.ignore=sourceEl.ignore,CustomView_isPath(targetEl)&&CustomView_isPath(sourceEl)&&targetEl.setShape(sourceEl.shape))}(oldEl,el)),!1===elOption.morph?el.disableMorphing=!0:el.disableMorphing&&(el.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,function doCreateOrUpdateAttachedTx(el,dataIndex,elOption,seriesModel,isInit,attachedTxInfo){if(el.isGroup)return;processTxInfo(elOption,null,attachedTxInfo),processTxInfo(elOption,"emphasis",attachedTxInfo);var txConOptNormal=attachedTxInfo.normal.conOpt,txConOptEmphasis=attachedTxInfo.emphasis.conOpt,txConOptBlur=attachedTxInfo.blur.conOpt,txConOptSelect=attachedTxInfo.select.conOpt;if(null!=txConOptNormal||null!=txConOptEmphasis||null!=txConOptSelect||null!=txConOptBlur){var textContent=el.getTextContent();if(!1===txConOptNormal)textContent&&el.removeTextContent();else{txConOptNormal=attachedTxInfo.normal.conOpt=txConOptNormal||{type:"text"},textContent?textContent.clearStates():(textContent=createEl(txConOptNormal),el.setTextContent(textContent)),updateElNormal(null,textContent,dataIndex,txConOptNormal,null,seriesModel,isInit);for(var txConStlOptNormal=txConOptNormal&&txConOptNormal.style,i=0;i<STATES.length;i++){var stateName=STATES[i];if(stateName!==NORMAL){var txConOptOtherState=attachedTxInfo[stateName].conOpt;updateElOnState(stateName,textContent,0,retrieveStyleOptionOnState(txConOptNormal,txConOptOtherState,stateName),null)}}txConStlOptNormal?textContent.dirty():textContent.markRedraw()}}}(el,dataIndex,elOption,seriesModel,isInit,attachedTxInfoTmp),function doCreateOrUpdateClipPath(el,dataIndex,elOption,seriesModel,isInit){var clipPathOpt=elOption.clipPath;if(!1===clipPathOpt)el&&el.getClipPath()&&el.removeClipPath();else if(clipPathOpt){var clipPath=el.getClipPath();clipPath&&doesElNeedRecreate(clipPath,clipPathOpt,seriesModel)&&(clipPath=null),clipPath||(clipPath=createEl(clipPathOpt),el.setClipPath(clipPath)),updateElNormal(null,clipPath,dataIndex,clipPathOpt,null,seriesModel,isInit)}}(el,dataIndex,elOption,seriesModel,isInit),updateElNormal(api,el,dataIndex,elOption,attachedTxInfoTmp,seriesModel,isInit),Object(util.hasOwn)(elOption,"info")&&(customInnerStore(el).info=elOption.info);for(var i=0;i<STATES.length;i++){var stateName=STATES[i];if(stateName!==NORMAL){var otherStateOpt=retrieveStateOption(elOption,stateName);updateElOnState(stateName,el,0,retrieveStyleOptionOnState(elOption,otherStateOpt,stateName),attachedTxInfoTmp)}}return function CustomView_updateZ(el,elOption,seriesModel){if(!el.isGroup){var elDisplayable=el,currentZ=seriesModel.currentZ,currentZLevel=seriesModel.currentZLevel;elDisplayable.z=currentZ,elDisplayable.zlevel=currentZLevel;var optZ2=elOption.z2;null!=optZ2&&(elDisplayable.z2=optZ2||0);for(var i=0;i<STATES.length;i++)updateZForEachState(elDisplayable,elOption,STATES[i])}}(el,elOption,seriesModel),"group"===elOption.type&&function CustomView_mergeChildren(api,el,dataIndex,elOption,seriesModel){var newChildren=elOption.children,newLen=newChildren?newChildren.length:0,mergeChildren=elOption.$mergeChildren,byName="byName"===mergeChildren||elOption.diffChildrenByName,notMerge=!1===mergeChildren;if(!newLen&&!byName&&!notMerge)return;if(byName)return void function diffGroupChildren(context){new data_DataDiffer(context.oldChildren,context.newChildren,CustomView_getKey,CustomView_getKey,context).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}({api:api,oldChildren:el.children()||[],newChildren:newChildren||[],dataIndex:dataIndex,seriesModel:seriesModel,group:el});notMerge&&el.removeAll();for(var index=0;index<newLen;index++)newChildren[index]&&doCreateOrUpdateEl(api,el.childAt(index),dataIndex,newChildren[index],seriesModel,el);for(var i=el.childCount()-1;i>=index;i--){applyLeaveTransition(el.childAt(i),customInnerStore(el).option,seriesModel)}}(api,el,dataIndex,elOption,seriesModel),toBeReplacedIdx>=0?group.replaceAt(el,toBeReplacedIdx):group.add(el),el}function doesElNeedRecreate(el,elOption,seriesModel){var elInner=customInnerStore(el),elOptionType=elOption.type,elOptionShape=elOption.shape,elOptionStyle=elOption.style;return seriesModel.isUniversalTransitionEnabled()||null!=elOptionType&&elOptionType!==elInner.customGraphicType||"path"===elOptionType&&function hasOwnPathData(shape){return shape&&(Object(util.hasOwn)(shape,"pathData")||Object(util.hasOwn)(shape,"d"))}(elOptionShape)&&getPathData(elOptionShape)!==elInner.customPathData||"image"===elOptionType&&Object(util.hasOwn)(elOptionStyle,"image")&&elOptionStyle.image!==elInner.customImagePath}function processTxInfo(elOption,state,attachedTxInfo){var stateOpt=state?retrieveStateOption(elOption,state):elOption,styleOpt=state?retrieveStyleOptionOnState(elOption,stateOpt,"emphasis"):elOption.style,elType=elOption.type,txCfg=stateOpt?stateOpt.textConfig:null,txConOptNormal=elOption.textContent,txConOpt=txConOptNormal?state?retrieveStateOption(txConOptNormal,state):txConOptNormal:null;if(styleOpt&&(attachedTxInfo.isLegacy||isEC4CompatibleStyle(styleOpt,elType,!!txCfg,!!txConOpt))){attachedTxInfo.isLegacy=!0;var convertResult=convertFromEC4CompatibleStyle(styleOpt,elType,!state);!txCfg&&convertResult.textConfig&&(txCfg=convertResult.textConfig),!txConOpt&&convertResult.textContent&&(txConOpt=convertResult.textContent)}if(!state&&txConOpt){var txConOptNormal_1=txConOpt;!txConOptNormal_1.type&&(txConOptNormal_1.type="text")}var info=state?attachedTxInfo[state]:attachedTxInfo.normal;info.cfg=txCfg,info.conOpt=txConOpt}function retrieveStateOption(elOption,state){return state?elOption?elOption[state]:null:elOption}function retrieveStyleOptionOnState(stateOptionNormal,stateOption,state){var style=stateOption&&stateOption.style;return null==style&&"emphasis"===state&&stateOptionNormal&&(style=stateOptionNormal.styleEmphasis),style}function CustomView_getKey(item,idx){var name=item&&item.name;return null!=name?name:"e\0\0"+idx}function processAddUpdate(newIndex,oldIndex){var context=this.context,childOption=null!=newIndex?context.newChildren[newIndex]:null,child=null!=oldIndex?context.oldChildren[oldIndex]:null;doCreateOrUpdateEl(context.api,child,context.dataIndex,childOption,context.seriesModel,context.group)}function processRemove(oldIndex){var context=this.context,child=context.oldChildren[oldIndex];applyLeaveTransition(child,customInnerStore(child).option,context.seriesModel)}function getPathData(shape){return shape&&(shape.pathData||shape.d)}var BaseAxisPointer_inner=makeInner(),BaseAxisPointer_clone=util.clone,bind=util.bind,BaseAxisPointer_BaseAxisPointer=function(){function BaseAxisPointer(){this._dragging=!1,this.animationThreshold=15}return BaseAxisPointer.prototype.render=function(axisModel,axisPointerModel,api,forceRender){var value=axisPointerModel.get("value"),status=axisPointerModel.get("status");if(this._axisModel=axisModel,this._axisPointerModel=axisPointerModel,this._api=api,forceRender||this._lastValue!==value||this._lastStatus!==status){this._lastValue=value,this._lastStatus=status;var group=this._group,handle=this._handle;if(!status||"hide"===status)return group&&group.hide(),void(handle&&handle.hide());group&&group.show(),handle&&handle.show();var elOption={};this.makeElOption(elOption,value,axisModel,axisPointerModel,api);var graphicKey=elOption.graphicKey;graphicKey!==this._lastGraphicKey&&this.clear(api),this._lastGraphicKey=graphicKey;var moveAnimation=this._moveAnimation=this.determineAnimation(axisModel,axisPointerModel);if(group){var doUpdateProps=util.curry(BaseAxisPointer_updateProps,axisPointerModel,moveAnimation);this.updatePointerEl(group,elOption,doUpdateProps),this.updateLabelEl(group,elOption,doUpdateProps,axisPointerModel)}else group=this._group=new graphic_Group,this.createPointerEl(group,elOption,axisModel,axisPointerModel),this.createLabelEl(group,elOption,axisModel,axisPointerModel),api.getZr().add(group);updateMandatoryProps(group,axisPointerModel,!0),this._renderHandle(value)}},BaseAxisPointer.prototype.remove=function(api){this.clear(api)},BaseAxisPointer.prototype.dispose=function(api){this.clear(api)},BaseAxisPointer.prototype.determineAnimation=function(axisModel,axisPointerModel){var animation=axisPointerModel.get("animation"),axis=axisModel.axis,isCategoryAxis="category"===axis.type,useSnap=axisPointerModel.get("snap");if(!useSnap&&!isCategoryAxis)return!1;if("auto"===animation||null==animation){var animationThreshold=this.animationThreshold;if(isCategoryAxis&&axis.getBandWidth()>animationThreshold)return!0;if(useSnap){var seriesDataCount=getAxisInfo(axisModel).seriesDataCount,axisExtent=axis.getExtent();return Math.abs(axisExtent[0]-axisExtent[1])/seriesDataCount>animationThreshold}return!1}return!0===animation},BaseAxisPointer.prototype.makeElOption=function(elOption,value,axisModel,axisPointerModel,api){},BaseAxisPointer.prototype.createPointerEl=function(group,elOption,axisModel,axisPointerModel){var pointerOption=elOption.pointer;if(pointerOption){var pointerEl=BaseAxisPointer_inner(group).pointerEl=new graphic_namespaceObject[pointerOption.type](BaseAxisPointer_clone(elOption.pointer));group.add(pointerEl)}},BaseAxisPointer.prototype.createLabelEl=function(group,elOption,axisModel,axisPointerModel){if(elOption.label){var labelEl=BaseAxisPointer_inner(group).labelEl=new Text(BaseAxisPointer_clone(elOption.label));group.add(labelEl),updateLabelShowHide(labelEl,axisPointerModel)}},BaseAxisPointer.prototype.updatePointerEl=function(group,elOption,updateProps){var pointerEl=BaseAxisPointer_inner(group).pointerEl;pointerEl&&elOption.pointer&&(pointerEl.setStyle(elOption.pointer.style),updateProps(pointerEl,{shape:elOption.pointer.shape}))},BaseAxisPointer.prototype.updateLabelEl=function(group,elOption,updateProps,axisPointerModel){var labelEl=BaseAxisPointer_inner(group).labelEl;labelEl&&(labelEl.setStyle(elOption.label.style),updateProps(labelEl,{x:elOption.label.x,y:elOption.label.y}),updateLabelShowHide(labelEl,axisPointerModel))},BaseAxisPointer.prototype._renderHandle=function(value){if(!this._dragging&&this.updateHandleTransform){var isInit,axisPointerModel=this._axisPointerModel,zr=this._api.getZr(),handle=this._handle,handleModel=axisPointerModel.getModel("handle"),status=axisPointerModel.get("status");if(!handleModel.get("show")||!status||"hide"===status)return handle&&zr.remove(handle),void(this._handle=null);this._handle||(isInit=!0,handle=this._handle=createIcon(handleModel.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){event_stop(e.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),zr.add(handle)),updateMandatoryProps(handle,axisPointerModel,!1),handle.setStyle(handleModel.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var handleSize=handleModel.get("size");util.isArray(handleSize)||(handleSize=[handleSize,handleSize]),handle.scaleX=handleSize[0]/2,handle.scaleY=handleSize[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",handleModel.get("throttle")||0,"fixRate"),this._moveHandleToValue(value,isInit)}},BaseAxisPointer.prototype._moveHandleToValue=function(value,isInit){BaseAxisPointer_updateProps(this._axisPointerModel,!isInit&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(value,this._axisModel,this._axisPointerModel)))},BaseAxisPointer.prototype._onHandleDragMove=function(dx,dy){var handle=this._handle;if(handle){this._dragging=!0;var trans=this.updateHandleTransform(getHandleTransProps(handle),[dx,dy],this._axisModel,this._axisPointerModel);this._payloadInfo=trans,handle.stopAnimation(),handle.attr(getHandleTransProps(trans)),BaseAxisPointer_inner(handle).lastProp=null,this._doDispatchAxisPointer()}},BaseAxisPointer.prototype._doDispatchAxisPointer=function(){if(this._handle){var payloadInfo=this._payloadInfo,axisModel=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:payloadInfo.cursorPoint[0],y:payloadInfo.cursorPoint[1],tooltipOption:payloadInfo.tooltipOption,axesInfo:[{axisDim:axisModel.axis.dim,axisIndex:axisModel.componentIndex}]})}},BaseAxisPointer.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var value=this._axisPointerModel.get("value");this._moveHandleToValue(value),this._api.dispatchAction({type:"hideTip"})}},BaseAxisPointer.prototype.clear=function(api){this._lastValue=null,this._lastStatus=null;var zr=api.getZr(),group=this._group,handle=this._handle;zr&&group&&(this._lastGraphicKey=null,group&&zr.remove(group),handle&&zr.remove(handle),this._group=null,this._handle=null,this._payloadInfo=null),clear(this,"_doDispatchAxisPointer")},BaseAxisPointer.prototype.doClear=function(){},BaseAxisPointer.prototype.buildLabel=function(xy,wh,xDimIndex){return{x:xy[xDimIndex=xDimIndex||0],y:xy[1-xDimIndex],width:wh[xDimIndex],height:wh[1-xDimIndex]}},BaseAxisPointer}();function BaseAxisPointer_updateProps(animationModel,moveAnimation,el,props){propsEqual(BaseAxisPointer_inner(el).lastProp,props)||(BaseAxisPointer_inner(el).lastProp=props,moveAnimation?updateProps(el,props,animationModel):(el.stopAnimation(),el.attr(props)))}function propsEqual(lastProps,newProps){if(util.isObject(lastProps)&&util.isObject(newProps)){var equals_1=!0;return util.each(newProps,(function(item,key){equals_1=equals_1&&propsEqual(lastProps[key],item)})),!!equals_1}return lastProps===newProps}function updateLabelShowHide(labelEl,axisPointerModel){labelEl[axisPointerModel.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(trans){return{x:trans.x||0,y:trans.y||0,rotation:trans.rotation||0}}function updateMandatoryProps(group,axisPointerModel,silent){var z=axisPointerModel.get("z"),zlevel=axisPointerModel.get("zlevel");group&&group.traverse((function(el){"group"!==el.type&&(null!=z&&(el.z=z),null!=zlevel&&(el.zlevel=zlevel),el.silent=silent)}))}var axisPointer_BaseAxisPointer=BaseAxisPointer_BaseAxisPointer;function buildElStyle(axisPointerModel){var style,axisPointerType=axisPointerModel.get("type"),styleModel=axisPointerModel.getModel(axisPointerType+"Style");return"line"===axisPointerType?(style=styleModel.getLineStyle()).fill=null:"shadow"===axisPointerType&&((style=styleModel.getAreaStyle()).stroke=null),style}function buildLabelElOption(elOption,axisModel,axisPointerModel,api,labelPos){var text=getValueLabel(axisPointerModel.get("value"),axisModel.axis,axisModel.ecModel,axisPointerModel.get("seriesDataIndices"),{precision:axisPointerModel.get(["label","precision"]),formatter:axisPointerModel.get(["label","formatter"])}),labelModel=axisPointerModel.getModel("label"),paddings=normalizeCssArray(labelModel.get("padding")||0),font=labelModel.getFont(),textRect=getBoundingRect(text,font),position=labelPos.position,width=textRect.width+paddings[1]+paddings[3],height=textRect.height+paddings[0]+paddings[2],align=labelPos.align;"right"===align&&(position[0]-=width),"center"===align&&(position[0]-=width/2);var verticalAlign=labelPos.verticalAlign;"bottom"===verticalAlign&&(position[1]-=height),"middle"===verticalAlign&&(position[1]-=height/2),function confineInContainer(position,width,height,api){var viewWidth=api.getWidth(),viewHeight=api.getHeight();position[0]=Math.min(position[0]+width,viewWidth)-width,position[1]=Math.min(position[1]+height,viewHeight)-height,position[0]=Math.max(position[0],0),position[1]=Math.max(position[1],0)}(position,width,height,api);var bgColor=labelModel.get("backgroundColor");bgColor&&"auto"!==bgColor||(bgColor=axisModel.get(["axisLine","lineStyle","color"])),elOption.label={x:position[0],y:position[1],style:createTextStyle(labelModel,{text:text,font:font,fill:labelModel.getTextColor(),padding:paddings,backgroundColor:bgColor}),z2:10}}function getValueLabel(value,axis,ecModel,seriesDataIndices,opt){value=axis.scale.parse(value);var text=axis.scale.getLabel({value:value},{precision:opt.precision}),formatter=opt.formatter;if(formatter){var params_1={value:getAxisRawValue(axis,{value:value}),axisDimension:axis.dim,axisIndex:axis.index,seriesData:[]};util.each(seriesDataIndices,(function(idxItem){var series=ecModel.getSeriesByIndex(idxItem.seriesIndex),dataIndex=idxItem.dataIndexInside,dataParams=series&&series.getDataParams(dataIndex);dataParams&&params_1.seriesData.push(dataParams)})),util.isString(formatter)?text=formatter.replace("{value}",text):util.isFunction(formatter)&&(text=formatter(params_1))}return text}function getTransformedPosition(axis,value,layoutInfo){var transform=[1,0,0,1,0,0];return matrix_rotate(transform,transform,layoutInfo.rotation),matrix_translate(transform,transform,layoutInfo.position),graphic_applyTransform([axis.dataToCoord(value),(layoutInfo.labelOffset||0)+(layoutInfo.labelDirection||1)*(layoutInfo.labelMargin||0)],transform)}function buildCartesianSingleLabelElOption(value,elOption,layoutInfo,axisModel,axisPointerModel,api){var textLayout=axis_AxisBuilder.innerTextLayout(layoutInfo.rotation,0,layoutInfo.labelDirection);layoutInfo.labelMargin=axisPointerModel.get(["label","margin"]),buildLabelElOption(elOption,axisModel,axisPointerModel,api,{position:getTransformedPosition(axisModel.axis,value,layoutInfo),align:textLayout.textAlign,verticalAlign:textLayout.textVerticalAlign})}function makeLineShape(p1,p2,xDimIndex){return{x1:p1[xDimIndex=xDimIndex||0],y1:p1[1-xDimIndex],x2:p2[xDimIndex],y2:p2[1-xDimIndex]}}function makeRectShape(xy,wh,xDimIndex){return{x:xy[xDimIndex=xDimIndex||0],y:xy[1-xDimIndex],width:wh[xDimIndex],height:wh[1-xDimIndex]}}function makeSectorShape(cx,cy,r0,r,startAngle,endAngle){return{cx:cx,cy:cy,r0:r0,r:r,startAngle:startAngle,endAngle:endAngle,clockwise:!0}}var CartesianAxisPointer_CartesianAxisPointer=function(_super){function CartesianAxisPointer(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(CartesianAxisPointer,_super),CartesianAxisPointer.prototype.makeElOption=function(elOption,value,axisModel,axisPointerModel,api){var axis=axisModel.axis,grid=axis.grid,axisPointerType=axisPointerModel.get("type"),otherExtent=getCartesian(grid,axis).getOtherAxis(axis).getGlobalExtent(),pixelValue=axis.toGlobalCoord(axis.dataToCoord(value,!0));if(axisPointerType&&"none"!==axisPointerType){var elStyle=buildElStyle(axisPointerModel),pointerOption=pointerShapeBuilder[axisPointerType](axis,pixelValue,otherExtent);pointerOption.style=elStyle,elOption.graphicKey=pointerOption.type,elOption.pointer=pointerOption}buildCartesianSingleLabelElOption(value,elOption,cartesianAxisHelper_layout(grid.model,axisModel),axisModel,axisPointerModel,api)},CartesianAxisPointer.prototype.getHandleTransform=function(value,axisModel,axisPointerModel){var layoutInfo=cartesianAxisHelper_layout(axisModel.axis.grid.model,axisModel,{labelInside:!1});layoutInfo.labelMargin=axisPointerModel.get(["handle","margin"]);var pos=getTransformedPosition(axisModel.axis,value,layoutInfo);return{x:pos[0],y:pos[1],rotation:layoutInfo.rotation+(layoutInfo.labelDirection<0?Math.PI:0)}},CartesianAxisPointer.prototype.updateHandleTransform=function(transform,delta,axisModel,axisPointerModel){var axis=axisModel.axis,grid=axis.grid,axisExtent=axis.getGlobalExtent(!0),otherExtent=getCartesian(grid,axis).getOtherAxis(axis).getGlobalExtent(),dimIndex="x"===axis.dim?0:1,currPosition=[transform.x,transform.y];currPosition[dimIndex]+=delta[dimIndex],currPosition[dimIndex]=Math.min(axisExtent[1],currPosition[dimIndex]),currPosition[dimIndex]=Math.max(axisExtent[0],currPosition[dimIndex]);var cursorOtherValue=(otherExtent[1]+otherExtent[0])/2,cursorPoint=[cursorOtherValue,cursorOtherValue];cursorPoint[dimIndex]=currPosition[dimIndex];return{x:currPosition[0],y:currPosition[1],rotation:transform.rotation,cursorPoint:cursorPoint,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][dimIndex]}},CartesianAxisPointer}(axisPointer_BaseAxisPointer);function getCartesian(grid,axis){var opt={};return opt[axis.dim+"AxisIndex"]=axis.index,grid.getCartesian(opt)}var pointerShapeBuilder={line:function(axis,pixelValue,otherExtent){return{type:"Line",subPixelOptimize:!0,shape:makeLineShape([pixelValue,otherExtent[0]],[pixelValue,otherExtent[1]],getAxisDimIndex(axis))}},shadow:function(axis,pixelValue,otherExtent){var bandWidth=Math.max(1,axis.getBandWidth()),span=otherExtent[1]-otherExtent[0];return{type:"Rect",shape:makeRectShape([pixelValue-bandWidth/2,otherExtent[0]],[bandWidth,span],getAxisDimIndex(axis))}}};function getAxisDimIndex(axis){return"x"===axis.dim?0:1}var axisPointer_CartesianAxisPointer=CartesianAxisPointer_CartesianAxisPointer,AxisPointerModel_AxisPointerModel=function(_super){function AxisPointerModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=AxisPointerModel.type,_this}return __extends(AxisPointerModel,_super),AxisPointerModel.type="axisPointer",AxisPointerModel.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},AxisPointerModel}(Component),axisPointer_AxisPointerModel=AxisPointerModel_AxisPointerModel,globalListener_inner=makeInner(),globalListener_each=util.each;function register(key,api,handler){if(!env.a.node){var zr=api.getZr();globalListener_inner(zr).records||(globalListener_inner(zr).records={}),function initGlobalListeners(zr,api){if(globalListener_inner(zr).initialized)return;function useHandler(eventType,cb){zr.on(eventType,(function(e){var dis=function makeDispatchAction(api){var pendings={showTip:[],hideTip:[]},dispatchAction=function(payload){var pendingList=pendings[payload.type];pendingList?pendingList.push(payload):(payload.dispatchAction=dispatchAction,api.dispatchAction(payload))};return{dispatchAction:dispatchAction,pendings:pendings}}(api);globalListener_each(globalListener_inner(zr).records,(function(record){record&&cb(record,e,dis.dispatchAction)})),function dispatchTooltipFinally(pendings,api){var actuallyPayload,showLen=pendings.showTip.length,hideLen=pendings.hideTip.length;showLen?actuallyPayload=pendings.showTip[showLen-1]:hideLen&&(actuallyPayload=pendings.hideTip[hideLen-1]);actuallyPayload&&(actuallyPayload.dispatchAction=null,api.dispatchAction(actuallyPayload))}(dis.pendings,api)}))}globalListener_inner(zr).initialized=!0,useHandler("click",util.curry(doEnter,"click")),useHandler("mousemove",util.curry(doEnter,"mousemove")),useHandler("globalout",onLeave)}(zr,api),(globalListener_inner(zr).records[key]||(globalListener_inner(zr).records[key]={})).handler=handler}}function onLeave(record,e,dispatchAction){record.handler("leave",null,dispatchAction)}function doEnter(currTrigger,record,e,dispatchAction){record.handler(currTrigger,e,dispatchAction)}function unregister(key,api){if(!env.a.node){var zr=api.getZr();(globalListener_inner(zr).records||{})[key]&&(globalListener_inner(zr).records[key]=null)}}var AxisPointerView_AxisPointerView=function(_super){function AxisPointerView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=AxisPointerView.type,_this}return __extends(AxisPointerView,_super),AxisPointerView.prototype.render=function(globalAxisPointerModel,ecModel,api){var globalTooltipModel=ecModel.getComponent("tooltip"),triggerOn=globalAxisPointerModel.get("triggerOn")||globalTooltipModel&&globalTooltipModel.get("triggerOn")||"mousemove|click";register("axisPointer",api,(function(currTrigger,e,dispatchAction){"none"!==triggerOn&&("leave"===currTrigger||triggerOn.indexOf(currTrigger)>=0)&&dispatchAction({type:"updateAxisPointer",currTrigger:currTrigger,x:e&&e.offsetX,y:e&&e.offsetY})}))},AxisPointerView.prototype.remove=function(ecModel,api){unregister("axisPointer",api)},AxisPointerView.prototype.dispose=function(ecModel,api){unregister("axisPointer",api)},AxisPointerView.type="axisPointer",AxisPointerView}(view_Component),axisPointer_AxisPointerView=AxisPointerView_AxisPointerView;function findPointFromSeries(finder,ecModel){var seriesModel,point=[],seriesIndex=finder.seriesIndex;if(null==seriesIndex||!(seriesModel=ecModel.getSeriesByIndex(seriesIndex)))return{point:[]};var data=seriesModel.getData(),dataIndex=queryDataIndex(data,finder);if(null==dataIndex||dataIndex<0||util.isArray(dataIndex))return{point:[]};var el=data.getItemGraphicEl(dataIndex),coordSys=seriesModel.coordinateSystem;if(seriesModel.getTooltipPosition)point=seriesModel.getTooltipPosition(dataIndex)||[];else if(coordSys&&coordSys.dataToPoint)if(finder.isStacked){var baseAxis=coordSys.getBaseAxis(),valueAxisDim=coordSys.getOtherAxis(baseAxis).dim,baseAxisDim=baseAxis.dim,baseDataOffset="x"===valueAxisDim||"radius"===valueAxisDim?1:0,baseDim=data.mapDimension(baseAxisDim),stackedData=[];stackedData[baseDataOffset]=data.get(baseDim,dataIndex),stackedData[1-baseDataOffset]=data.get(data.getCalculationInfo("stackResultDimension"),dataIndex),point=coordSys.dataToPoint(stackedData)||[]}else point=coordSys.dataToPoint(data.getValues(util.map(coordSys.dimensions,(function(dim){return data.mapDimension(dim)})),dataIndex))||[];else if(el){var rect=el.getBoundingRect().clone();rect.applyTransform(el.transform),point=[rect.x+rect.width/2,rect.y+rect.height/2]}return{point:point,el:el}}var axisTrigger_inner=makeInner();function axisTrigger(payload,ecModel,api){var currTrigger=payload.currTrigger,point=[payload.x,payload.y],finder=payload,dispatchAction=payload.dispatchAction||Object(util.bind)(api.dispatchAction,api),coordSysAxesInfo=ecModel.getComponent("axisPointer").coordSysAxesInfo;if(coordSysAxesInfo){illegalPoint(point)&&(point=findPointFromSeries({seriesIndex:finder.seriesIndex,dataIndex:finder.dataIndex},ecModel).point);var isIllegalPoint=illegalPoint(point),inputAxesInfo=finder.axesInfo,axesInfo=coordSysAxesInfo.axesInfo,shouldHide="leave"===currTrigger||illegalPoint(point),outputPayload={},showValueMap={},dataByCoordSys={list:[],map:{}},updaters={showPointer:Object(util.curry)(axisTrigger_showPointer,showValueMap),showTooltip:Object(util.curry)(showTooltip,dataByCoordSys)};Object(util.each)(coordSysAxesInfo.coordSysMap,(function(coordSys,coordSysKey){var coordSysContainsPoint=isIllegalPoint||coordSys.containPoint(point);Object(util.each)(coordSysAxesInfo.coordSysAxesInfo[coordSysKey],(function(axisInfo,key){var axis=axisInfo.axis,inputAxisInfo=function findInputAxisInfo(inputAxesInfo,axisInfo){for(var i=0;i<(inputAxesInfo||[]).length;i++){var inputAxisInfo=inputAxesInfo[i];if(axisInfo.axis.dim===inputAxisInfo.axisDim&&axisInfo.axis.model.componentIndex===inputAxisInfo.axisIndex)return inputAxisInfo}}(inputAxesInfo,axisInfo);if(!shouldHide&&coordSysContainsPoint&&(!inputAxesInfo||inputAxisInfo)){var val=inputAxisInfo&&inputAxisInfo.value;null!=val||isIllegalPoint||(val=axis.pointToData(point)),null!=val&&processOnAxis(axisInfo,val,updaters,!1,outputPayload)}}))}));var linkTriggers={};return Object(util.each)(axesInfo,(function(tarAxisInfo,tarKey){var linkGroup=tarAxisInfo.linkGroup;linkGroup&&!showValueMap[tarKey]&&Object(util.each)(linkGroup.axesInfo,(function(srcAxisInfo,srcKey){var srcValItem=showValueMap[srcKey];if(srcAxisInfo!==tarAxisInfo&&srcValItem){var val=srcValItem.value;linkGroup.mapper&&(val=tarAxisInfo.axis.scale.parse(linkGroup.mapper(val,makeMapperParam(srcAxisInfo),makeMapperParam(tarAxisInfo)))),linkTriggers[tarAxisInfo.key]=val}}))})),Object(util.each)(linkTriggers,(function(val,tarKey){processOnAxis(axesInfo[tarKey],val,updaters,!0,outputPayload)})),function updateModelActually(showValueMap,axesInfo,outputPayload){var outputAxesInfo=outputPayload.axesInfo=[];Object(util.each)(axesInfo,(function(axisInfo,key){var option=axisInfo.axisPointerModel.option,valItem=showValueMap[key];valItem?(!axisInfo.useHandle&&(option.status="show"),option.value=valItem.value,option.seriesDataIndices=(valItem.payloadBatch||[]).slice()):!axisInfo.useHandle&&(option.status="hide"),"show"===option.status&&outputAxesInfo.push({axisDim:axisInfo.axis.dim,axisIndex:axisInfo.axis.model.componentIndex,value:option.value})}))}(showValueMap,axesInfo,outputPayload),function dispatchTooltipActually(dataByCoordSys,point,payload,dispatchAction){if(illegalPoint(point)||!dataByCoordSys.list.length)return void dispatchAction({type:"hideTip"});var sampleItem=((dataByCoordSys.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};dispatchAction({type:"showTip",escapeConnect:!0,x:point[0],y:point[1],tooltipOption:payload.tooltipOption,position:payload.position,dataIndexInside:sampleItem.dataIndexInside,dataIndex:sampleItem.dataIndex,seriesIndex:sampleItem.seriesIndex,dataByCoordSys:dataByCoordSys.list})}(dataByCoordSys,point,payload,dispatchAction),function dispatchHighDownActually(axesInfo,dispatchAction,api){var zr=api.getZr(),highDownKey="axisPointerLastHighlights",lastHighlights=axisTrigger_inner(zr)[highDownKey]||{},newHighlights=axisTrigger_inner(zr)[highDownKey]={};Object(util.each)(axesInfo,(function(axisInfo,key){var option=axisInfo.axisPointerModel.option;"show"===option.status&&Object(util.each)(option.seriesDataIndices,(function(batchItem){var key=batchItem.seriesIndex+" | "+batchItem.dataIndex;newHighlights[key]=batchItem}))}));var toHighlight=[],toDownplay=[];Object(util.each)(lastHighlights,(function(batchItem,key){!newHighlights[key]&&toDownplay.push(batchItem)})),Object(util.each)(newHighlights,(function(batchItem,key){!lastHighlights[key]&&toHighlight.push(batchItem)})),toDownplay.length&&api.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:toDownplay}),toHighlight.length&&api.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:toHighlight})}(axesInfo,0,api),outputPayload}}function processOnAxis(axisInfo,newValue,updaters,noSnap,outputFinder){var axis=axisInfo.axis;if(!axis.scale.isBlank()&&axis.containData(newValue))if(axisInfo.involveSeries){var payloadInfo=function buildPayloadsBySeries(value,axisInfo){var axis=axisInfo.axis,dim=axis.dim,snapToValue=value,payloadBatch=[],minDist=Number.MAX_VALUE,minDiff=-1;return Object(util.each)(axisInfo.seriesModels,(function(series,idx){var seriesNestestValue,dataIndices,dataDim=series.getData().mapDimensionsAll(dim);if(series.getAxisTooltipData){var result=series.getAxisTooltipData(dataDim,value,axis);dataIndices=result.dataIndices,seriesNestestValue=result.nestestValue}else{if(!(dataIndices=series.getData().indicesOfNearest(dataDim[0],value,"category"===axis.type?.5:null)).length)return;seriesNestestValue=series.getData().get(dataDim[0],dataIndices[0])}if(null!=seriesNestestValue&&isFinite(seriesNestestValue)){var diff=value-seriesNestestValue,dist=Math.abs(diff);dist<=minDist&&((dist<minDist||diff>=0&&minDiff<0)&&(minDist=dist,minDiff=diff,snapToValue=seriesNestestValue,payloadBatch.length=0),Object(util.each)(dataIndices,(function(dataIndex){payloadBatch.push({seriesIndex:series.seriesIndex,dataIndexInside:dataIndex,dataIndex:series.getData().getRawIndex(dataIndex)})})))}})),{payloadBatch:payloadBatch,snapToValue:snapToValue}}(newValue,axisInfo),payloadBatch=payloadInfo.payloadBatch,snapToValue=payloadInfo.snapToValue;payloadBatch[0]&&null==outputFinder.seriesIndex&&Object(util.extend)(outputFinder,payloadBatch[0]),!noSnap&&axisInfo.snap&&axis.containData(snapToValue)&&null!=snapToValue&&(newValue=snapToValue),updaters.showPointer(axisInfo,newValue,payloadBatch),updaters.showTooltip(axisInfo,payloadInfo,snapToValue)}else updaters.showPointer(axisInfo,newValue)}function axisTrigger_showPointer(showValueMap,axisInfo,value,payloadBatch){showValueMap[axisInfo.key]={value:value,payloadBatch:payloadBatch}}function showTooltip(dataByCoordSys,axisInfo,payloadInfo,value){var payloadBatch=payloadInfo.payloadBatch,axis=axisInfo.axis,axisModel=axis.model,axisPointerModel=axisInfo.axisPointerModel;if(axisInfo.triggerTooltip&&payloadBatch.length){var coordSysModel=axisInfo.coordSys.model,coordSysKey=makeKey(coordSysModel),coordSysItem=dataByCoordSys.map[coordSysKey];coordSysItem||(coordSysItem=dataByCoordSys.map[coordSysKey]={coordSysId:coordSysModel.id,coordSysIndex:coordSysModel.componentIndex,coordSysType:coordSysModel.type,coordSysMainType:coordSysModel.mainType,dataByAxis:[]},dataByCoordSys.list.push(coordSysItem)),coordSysItem.dataByAxis.push({axisDim:axis.dim,axisIndex:axisModel.componentIndex,axisType:axisModel.type,axisId:axisModel.id,value:value,valueLabelOpt:{precision:axisPointerModel.get(["label","precision"]),formatter:axisPointerModel.get(["label","formatter"])},seriesDataIndices:payloadBatch.slice()})}}function makeMapperParam(axisInfo){var axisModel=axisInfo.axis.model,item={},dim=item.axisDim=axisInfo.axis.dim;return item.axisIndex=item[dim+"AxisIndex"]=axisModel.componentIndex,item.axisName=item[dim+"AxisName"]=axisModel.name,item.axisId=item[dim+"AxisId"]=axisModel.id,item}function illegalPoint(point){return!point||null==point[0]||isNaN(point[0])||null==point[1]||isNaN(point[1])}function axisPointer_install_install(registers){axis_AxisView.registerAxisPointerClass("CartesianAxisPointer",axisPointer_CartesianAxisPointer),registers.registerComponentModel(axisPointer_AxisPointerModel),registers.registerComponentView(axisPointer_AxisPointerView),registers.registerPreprocessor((function(option){if(option){(!option.axisPointer||0===option.axisPointer.length)&&(option.axisPointer={});var link=option.axisPointer.link;link&&!Object(util.isArray)(link)&&(option.axisPointer.link=[link])}})),registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC,(function(ecModel,api){ecModel.getComponent("axisPointer").coordSysAxesInfo=collect(ecModel,api)})),registers.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}var PolarAxisPointer_PolarAxisPointer=function(_super){function PolarAxisPointer(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(PolarAxisPointer,_super),PolarAxisPointer.prototype.makeElOption=function(elOption,value,axisModel,axisPointerModel,api){var axis=axisModel.axis;"angle"===axis.dim&&(this.animationThreshold=Math.PI/18);var polar=axis.polar,otherExtent=polar.getOtherAxis(axis).getExtent(),coordValue=axis.dataToCoord(value),axisPointerType=axisPointerModel.get("type");if(axisPointerType&&"none"!==axisPointerType){var elStyle=buildElStyle(axisPointerModel),pointerOption=PolarAxisPointer_pointerShapeBuilder[axisPointerType](axis,polar,coordValue,otherExtent);pointerOption.style=elStyle,elOption.graphicKey=pointerOption.type,elOption.pointer=pointerOption}var labelPos=function getLabelPosition(value,axisModel,axisPointerModel,polar,labelMargin){var axis=axisModel.axis,coord=axis.dataToCoord(value),axisAngle=polar.getAngleAxis().getExtent()[0];axisAngle=axisAngle/180*Math.PI;var position,align,verticalAlign,radiusExtent=polar.getRadiusAxis().getExtent();if("radius"===axis.dim){var transform=[1,0,0,1,0,0];matrix_rotate(transform,transform,axisAngle),matrix_translate(transform,transform,[polar.cx,polar.cy]),position=graphic_applyTransform([coord,-labelMargin],transform);var labelRotation=axisModel.getModel("axisLabel").get("rotate")||0,labelLayout=axis_AxisBuilder.innerTextLayout(axisAngle,labelRotation*Math.PI/180,-1);align=labelLayout.textAlign,verticalAlign=labelLayout.textVerticalAlign}else{var r=radiusExtent[1];position=polar.coordToPoint([r+labelMargin,coord]);var cx=polar.cx,cy=polar.cy;align=Math.abs(position[0]-cx)/r<.3?"center":position[0]>cx?"left":"right",verticalAlign=Math.abs(position[1]-cy)/r<.3?"middle":position[1]>cy?"top":"bottom"}return{position:position,align:align,verticalAlign:verticalAlign}}(value,axisModel,0,polar,axisPointerModel.get(["label","margin"]));buildLabelElOption(elOption,axisModel,axisPointerModel,api,labelPos)},PolarAxisPointer}(axisPointer_BaseAxisPointer);var PolarAxisPointer_pointerShapeBuilder={line:function(axis,polar,coordValue,otherExtent){return"angle"===axis.dim?{type:"Line",shape:makeLineShape(polar.coordToPoint([otherExtent[0],coordValue]),polar.coordToPoint([otherExtent[1],coordValue]))}:{type:"Circle",shape:{cx:polar.cx,cy:polar.cy,r:coordValue}}},shadow:function(axis,polar,coordValue,otherExtent){var bandWidth=Math.max(1,axis.getBandWidth()),radian=Math.PI/180;return"angle"===axis.dim?{type:"Sector",shape:makeSectorShape(polar.cx,polar.cy,otherExtent[0],otherExtent[1],(-coordValue-bandWidth/2)*radian,(bandWidth/2-coordValue)*radian)}:{type:"Sector",shape:makeSectorShape(polar.cx,polar.cy,coordValue-bandWidth/2,coordValue+bandWidth/2,0,2*Math.PI)}}},axisPointer_PolarAxisPointer=PolarAxisPointer_PolarAxisPointer,PolarModel_PolarModel=function(_super){function PolarModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=PolarModel.type,_this}return __extends(PolarModel,_super),PolarModel.prototype.findAxisModel=function(axisType){var foundAxisModel;return this.ecModel.eachComponent(axisType,(function(axisModel){axisModel.getCoordSysModel()===this&&(foundAxisModel=axisModel)}),this),foundAxisModel},PolarModel.type="polar",PolarModel.dependencies=["radiusAxis","angleAxis"],PolarModel.defaultOption={z:0,center:["50%","50%"],radius:"80%"},PolarModel}(Component),polar_PolarModel=PolarModel_PolarModel,AxisModel_PolarAxisModel=function(_super){function PolarAxisModel(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(PolarAxisModel,_super),PolarAxisModel.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",SINGLE_REFERRING).models[0]},PolarAxisModel.type="polarAxis",PolarAxisModel}(Component);util.mixin(AxisModel_PolarAxisModel,AxisModelCommonMixin);var AxisModel_AngleAxisModel=function(_super){function AngleAxisModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=AngleAxisModel.type,_this}return __extends(AngleAxisModel,_super),AngleAxisModel.type="angleAxis",AngleAxisModel}(AxisModel_PolarAxisModel),AxisModel_RadiusAxisModel=function(_super){function RadiusAxisModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=RadiusAxisModel.type,_this}return __extends(RadiusAxisModel,_super),RadiusAxisModel.type="radiusAxis",RadiusAxisModel}(AxisModel_PolarAxisModel),RadiusAxis_RadiusAxis=function(_super){function RadiusAxis(scale,radiusExtent){return _super.call(this,"radius",scale,radiusExtent)||this}return __extends(RadiusAxis,_super),RadiusAxis.prototype.pointToData=function(point,clamp){return this.polar.pointToData(point,clamp)["radius"===this.dim?0:1]},RadiusAxis}(coord_Axis);RadiusAxis_RadiusAxis.prototype.dataToRadius=coord_Axis.prototype.dataToCoord,RadiusAxis_RadiusAxis.prototype.radiusToData=coord_Axis.prototype.coordToData;var polar_RadiusAxis=RadiusAxis_RadiusAxis,AngleAxis_inner=makeInner(),AngleAxis_AngleAxis=function(_super){function AngleAxis(scale,angleExtent){return _super.call(this,"angle",scale,angleExtent||[0,360])||this}return __extends(AngleAxis,_super),AngleAxis.prototype.pointToData=function(point,clamp){return this.polar.pointToData(point,clamp)["radius"===this.dim?0:1]},AngleAxis.prototype.calculateCategoryInterval=function(){var labelModel=this.getLabelModel(),ordinalScale=this.scale,ordinalExtent=ordinalScale.getExtent(),tickCount=ordinalScale.count();if(ordinalExtent[1]-ordinalExtent[0]<1)return 0;var tickValue=ordinalExtent[0],unitSpan=this.dataToCoord(tickValue+1)-this.dataToCoord(tickValue),unitH=Math.abs(unitSpan),rect=getBoundingRect(null==tickValue?"":tickValue+"",labelModel.getFont(),"center","top"),dh=Math.max(rect.height,7)/unitH;isNaN(dh)&&(dh=1/0);var interval=Math.max(0,Math.floor(dh)),cache=AngleAxis_inner(this.model),lastAutoInterval=cache.lastAutoInterval,lastTickCount=cache.lastTickCount;return null!=lastAutoInterval&&null!=lastTickCount&&Math.abs(lastAutoInterval-interval)<=1&&Math.abs(lastTickCount-tickCount)<=1&&lastAutoInterval>interval?interval=lastAutoInterval:(cache.lastTickCount=tickCount,cache.lastAutoInterval=interval),interval},AngleAxis}(coord_Axis);AngleAxis_AngleAxis.prototype.dataToAngle=coord_Axis.prototype.dataToCoord,AngleAxis_AngleAxis.prototype.angleToData=coord_Axis.prototype.coordToData;var polar_AngleAxis=AngleAxis_AngleAxis,polarDimensions=["radius","angle"];function Polar_getCoordSys(finder){var seriesModel=finder.seriesModel,polarModel=finder.polarModel;return polarModel&&polarModel.coordinateSystem||seriesModel&&seriesModel.coordinateSystem}var polar_Polar=function(){function Polar(name){this.dimensions=polarDimensions,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new polar_RadiusAxis,this._angleAxis=new polar_AngleAxis,this.axisPointerEnabled=!0,this.name=name||"",this._radiusAxis.polar=this._angleAxis.polar=this}return Polar.prototype.containPoint=function(point){var coord=this.pointToCoord(point);return this._radiusAxis.contain(coord[0])&&this._angleAxis.contain(coord[1])},Polar.prototype.containData=function(data){return this._radiusAxis.containData(data[0])&&this._angleAxis.containData(data[1])},Polar.prototype.getAxis=function(dim){return this["_"+dim+"Axis"]},Polar.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},Polar.prototype.getAxesByScale=function(scaleType){var axes=[],angleAxis=this._angleAxis,radiusAxis=this._radiusAxis;return angleAxis.scale.type===scaleType&&axes.push(angleAxis),radiusAxis.scale.type===scaleType&&axes.push(radiusAxis),axes},Polar.prototype.getAngleAxis=function(){return this._angleAxis},Polar.prototype.getRadiusAxis=function(){return this._radiusAxis},Polar.prototype.getOtherAxis=function(axis){var angleAxis=this._angleAxis;return axis===angleAxis?this._radiusAxis:angleAxis},Polar.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},Polar.prototype.getTooltipAxes=function(dim){var baseAxis=null!=dim&&"auto"!==dim?this.getAxis(dim):this.getBaseAxis();return{baseAxes:[baseAxis],otherAxes:[this.getOtherAxis(baseAxis)]}},Polar.prototype.dataToPoint=function(data,clamp){return this.coordToPoint([this._radiusAxis.dataToRadius(data[0],clamp),this._angleAxis.dataToAngle(data[1],clamp)])},Polar.prototype.pointToData=function(point,clamp){var coord=this.pointToCoord(point);return[this._radiusAxis.radiusToData(coord[0],clamp),this._angleAxis.angleToData(coord[1],clamp)]},Polar.prototype.pointToCoord=function(point){var dx=point[0]-this.cx,dy=point[1]-this.cy,angleAxis=this.getAngleAxis(),extent=angleAxis.getExtent(),minAngle=Math.min(extent[0],extent[1]),maxAngle=Math.max(extent[0],extent[1]);angleAxis.inverse?minAngle=maxAngle-360:maxAngle=minAngle+360;var radius=Math.sqrt(dx*dx+dy*dy);dx/=radius,dy/=radius;for(var radian=Math.atan2(-dy,dx)/Math.PI*180,dir=radian<minAngle?1:-1;radian<minAngle||radian>maxAngle;)radian+=360*dir;return[radius,radian]},Polar.prototype.coordToPoint=function(coord){var radius=coord[0],radian=coord[1]/180*Math.PI;return[Math.cos(radian)*radius+this.cx,-Math.sin(radian)*radius+this.cy]},Polar.prototype.getArea=function(){var angleAxis=this.getAngleAxis(),radiusExtent=this.getRadiusAxis().getExtent().slice();radiusExtent[0]>radiusExtent[1]&&radiusExtent.reverse();var angleExtent=angleAxis.getExtent(),RADIAN=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:radiusExtent[0],r:radiusExtent[1],startAngle:-angleExtent[0]*RADIAN,endAngle:-angleExtent[1]*RADIAN,clockwise:angleAxis.inverse,contain:function(x,y){var dx=x-this.cx,dy=y-this.cy,d2=dx*dx+dy*dy-1e-4,r=this.r,r0=this.r0;return d2<=r*r&&d2>=r0*r0}}},Polar.prototype.convertToPixel=function(ecModel,finder,value){return Polar_getCoordSys(finder)===this?this.dataToPoint(value):null},Polar.prototype.convertFromPixel=function(ecModel,finder,pixel){return Polar_getCoordSys(finder)===this?this.pointToData(pixel):null},Polar}();function updatePolarScale(ecModel,api){var polar=this,angleAxis=polar.getAngleAxis(),radiusAxis=polar.getRadiusAxis();if(angleAxis.scale.setExtent(1/0,-1/0),radiusAxis.scale.setExtent(1/0,-1/0),ecModel.eachSeries((function(seriesModel){if(seriesModel.coordinateSystem===polar){var data_1=seriesModel.getData();util.each(getDataDimensionsOnAxis(data_1,"radius"),(function(dim){radiusAxis.scale.unionExtentFromData(data_1,dim)})),util.each(getDataDimensionsOnAxis(data_1,"angle"),(function(dim){angleAxis.scale.unionExtentFromData(data_1,dim)}))}})),niceScaleExtent(angleAxis.scale,angleAxis.model),niceScaleExtent(radiusAxis.scale,radiusAxis.model),"category"===angleAxis.type&&!angleAxis.onBand){var extent=angleAxis.getExtent(),diff=360/angleAxis.scale.count();angleAxis.inverse?extent[1]+=diff:extent[1]-=diff,angleAxis.setExtent(extent[0],extent[1])}}function setAxis(axis,axisModel){if(axis.type=axisModel.get("type"),axis.scale=createScaleByModel(axisModel),axis.onBand=axisModel.get("boundaryGap")&&"category"===axis.type,axis.inverse=axisModel.get("inverse"),function isAngleAxisModel(axisModel){return"angleAxis"===axisModel.mainType}(axisModel)){axis.inverse=axis.inverse!==axisModel.get("clockwise");var startAngle=axisModel.get("startAngle");axis.setExtent(startAngle,startAngle+(axis.inverse?-360:360))}axisModel.axis=axis,axis.model=axisModel}var polar_polarCreator={dimensions:polarDimensions,create:function(ecModel,api){var polarList=[];return ecModel.eachComponent("polar",(function(polarModel,idx){var polar=new polar_Polar(idx+"");polar.update=updatePolarScale;var radiusAxis=polar.getRadiusAxis(),angleAxis=polar.getAngleAxis(),radiusAxisModel=polarModel.findAxisModel("radiusAxis"),angleAxisModel=polarModel.findAxisModel("angleAxis");setAxis(radiusAxis,radiusAxisModel),setAxis(angleAxis,angleAxisModel),function resizePolar(polar,polarModel,api){var center=polarModel.get("center"),width=api.getWidth(),height=api.getHeight();polar.cx=number_parsePercent(center[0],width),polar.cy=number_parsePercent(center[1],height);var radiusAxis=polar.getRadiusAxis(),size=Math.min(width,height)/2,radius=polarModel.get("radius");null==radius?radius=[0,"100%"]:util.isArray(radius)||(radius=[0,radius]);var parsedRadius=[number_parsePercent(radius[0],size),number_parsePercent(radius[1],size)];radiusAxis.inverse?radiusAxis.setExtent(parsedRadius[1],parsedRadius[0]):radiusAxis.setExtent(parsedRadius[0],parsedRadius[1])}(polar,polarModel,api),polarList.push(polar),polarModel.coordinateSystem=polar,polar.model=polarModel})),ecModel.eachSeries((function(seriesModel){if("polar"===seriesModel.get("coordinateSystem")){var polarModel=seriesModel.getReferringComponents("polar",SINGLE_REFERRING).models[0];0,seriesModel.coordinateSystem=polarModel.coordinateSystem}})),polarList}},AngleAxisView_elementList=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape(polar,rExtent,angle){rExtent[1]>rExtent[0]&&(rExtent=rExtent.slice().reverse());var start=polar.coordToPoint([rExtent[0],angle]),end=polar.coordToPoint([rExtent[1],angle]);return{x1:start[0],y1:start[1],x2:end[0],y2:end[1]}}function getRadiusIdx(polar){return polar.getRadiusAxis().inverse?0:1}function fixAngleOverlap(list){var firstItem=list[0],lastItem=list[list.length-1];firstItem&&lastItem&&Math.abs(Math.abs(firstItem.coord-lastItem.coord)-360)<1e-4&&list.pop()}var AngleAxisView_AngleAxisView=function(_super){function AngleAxisView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=AngleAxisView.type,_this.axisPointerClass="PolarAxisPointer",_this}return __extends(AngleAxisView,_super),AngleAxisView.prototype.render=function(angleAxisModel,ecModel){if(this.group.removeAll(),angleAxisModel.get("show")){var angleAxis=angleAxisModel.axis,polar=angleAxis.polar,radiusExtent=polar.getRadiusAxis().getExtent(),ticksAngles=angleAxis.getTicksCoords(),minorTickAngles=angleAxis.getMinorTicksCoords(),labels=util.map(angleAxis.getViewLabels(),(function(labelItem){labelItem=util.clone(labelItem);var scale=angleAxis.scale,tickValue="ordinal"===scale.type?scale.getRawOrdinalNumber(labelItem.tickValue):labelItem.tickValue;return labelItem.coord=angleAxis.dataToCoord(tickValue),labelItem}));fixAngleOverlap(labels),fixAngleOverlap(ticksAngles),util.each(AngleAxisView_elementList,(function(name){!angleAxisModel.get([name,"show"])||angleAxis.scale.isBlank()&&"axisLine"!==name||angelAxisElementsBuilders[name](this.group,angleAxisModel,polar,ticksAngles,minorTickAngles,radiusExtent,labels)}),this)}},AngleAxisView.type="angleAxis",AngleAxisView}(axis_AxisView),angelAxisElementsBuilders={axisLine:function(group,angleAxisModel,polar,ticksAngles,minorTickAngles,radiusExtent){var shape,lineStyleModel=angleAxisModel.getModel(["axisLine","lineStyle"]),rId=getRadiusIdx(polar),r0Id=rId?0:1;(shape=0===radiusExtent[r0Id]?new shape_Circle({shape:{cx:polar.cx,cy:polar.cy,r:radiusExtent[rId]},style:lineStyleModel.getLineStyle(),z2:1,silent:!0}):new shape_Ring({shape:{cx:polar.cx,cy:polar.cy,r:radiusExtent[rId],r0:radiusExtent[r0Id]},style:lineStyleModel.getLineStyle(),z2:1,silent:!0})).style.fill=null,group.add(shape)},axisTick:function(group,angleAxisModel,polar,ticksAngles,minorTickAngles,radiusExtent){var tickModel=angleAxisModel.getModel("axisTick"),tickLen=(tickModel.get("inside")?-1:1)*tickModel.get("length"),radius=radiusExtent[getRadiusIdx(polar)],lines=util.map(ticksAngles,(function(tickAngleItem){return new shape_Line({shape:getAxisLineShape(polar,[radius,radius+tickLen],tickAngleItem.coord)})}));group.add(graphic_mergePath(lines,{style:util.defaults(tickModel.getModel("lineStyle").getLineStyle(),{stroke:angleAxisModel.get(["axisLine","lineStyle","color"])})}))},minorTick:function(group,angleAxisModel,polar,tickAngles,minorTickAngles,radiusExtent){if(minorTickAngles.length){for(var tickModel=angleAxisModel.getModel("axisTick"),minorTickModel=angleAxisModel.getModel("minorTick"),tickLen=(tickModel.get("inside")?-1:1)*minorTickModel.get("length"),radius=radiusExtent[getRadiusIdx(polar)],lines=[],i=0;i<minorTickAngles.length;i++)for(var k=0;k<minorTickAngles[i].length;k++)lines.push(new shape_Line({shape:getAxisLineShape(polar,[radius,radius+tickLen],minorTickAngles[i][k].coord)}));group.add(graphic_mergePath(lines,{style:util.defaults(minorTickModel.getModel("lineStyle").getLineStyle(),util.defaults(tickModel.getLineStyle(),{stroke:angleAxisModel.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(group,angleAxisModel,polar,ticksAngles,minorTickAngles,radiusExtent,labels){var rawCategoryData=angleAxisModel.getCategories(!0),commonLabelModel=angleAxisModel.getModel("axisLabel"),labelMargin=commonLabelModel.get("margin"),triggerEvent=angleAxisModel.get("triggerEvent");util.each(labels,(function(labelItem,idx){var labelModel=commonLabelModel,tickValue=labelItem.tickValue,r=radiusExtent[getRadiusIdx(polar)],p=polar.coordToPoint([r+labelMargin,labelItem.coord]),cx=polar.cx,cy=polar.cy,labelTextAlign=Math.abs(p[0]-cx)/r<.3?"center":p[0]>cx?"left":"right",labelTextVerticalAlign=Math.abs(p[1]-cy)/r<.3?"middle":p[1]>cy?"top":"bottom";if(rawCategoryData&&rawCategoryData[tickValue]){var rawCategoryItem=rawCategoryData[tickValue];util.isObject(rawCategoryItem)&&rawCategoryItem.textStyle&&(labelModel=new model_Model(rawCategoryItem.textStyle,commonLabelModel,commonLabelModel.ecModel))}var textEl=new Text({silent:axis_AxisBuilder.isLabelSilent(angleAxisModel),style:createTextStyle(labelModel,{x:p[0],y:p[1],fill:labelModel.getTextColor()||angleAxisModel.get(["axisLine","lineStyle","color"]),text:labelItem.formattedLabel,align:labelTextAlign,verticalAlign:labelTextVerticalAlign})});if(group.add(textEl),triggerEvent){var eventData=axis_AxisBuilder.makeAxisEventDataBase(angleAxisModel);eventData.targetType="axisLabel",eventData.value=labelItem.rawLabel,getECData(textEl).eventData=eventData}}),this)},splitLine:function(group,angleAxisModel,polar,ticksAngles,minorTickAngles,radiusExtent){var lineStyleModel=angleAxisModel.getModel("splitLine").getModel("lineStyle"),lineColors=lineStyleModel.get("color"),lineCount=0;lineColors=lineColors instanceof Array?lineColors:[lineColors];for(var splitLines=[],i=0;i<ticksAngles.length;i++){var colorIndex=lineCount++%lineColors.length;splitLines[colorIndex]=splitLines[colorIndex]||[],splitLines[colorIndex].push(new shape_Line({shape:getAxisLineShape(polar,radiusExtent,ticksAngles[i].coord)}))}for(i=0;i<splitLines.length;i++)group.add(graphic_mergePath(splitLines[i],{style:util.defaults({stroke:lineColors[i%lineColors.length]},lineStyleModel.getLineStyle()),silent:!0,z:angleAxisModel.get("z")}))},minorSplitLine:function(group,angleAxisModel,polar,ticksAngles,minorTickAngles,radiusExtent){if(minorTickAngles.length){for(var lineStyleModel=angleAxisModel.getModel("minorSplitLine").getModel("lineStyle"),lines=[],i=0;i<minorTickAngles.length;i++)for(var k=0;k<minorTickAngles[i].length;k++)lines.push(new shape_Line({shape:getAxisLineShape(polar,radiusExtent,minorTickAngles[i][k].coord)}));group.add(graphic_mergePath(lines,{style:lineStyleModel.getLineStyle(),silent:!0,z:angleAxisModel.get("z")}))}},splitArea:function(group,angleAxisModel,polar,ticksAngles,minorTickAngles,radiusExtent){if(ticksAngles.length){var areaStyleModel=angleAxisModel.getModel("splitArea").getModel("areaStyle"),areaColors=areaStyleModel.get("color"),lineCount=0;areaColors=areaColors instanceof Array?areaColors:[areaColors];for(var splitAreas=[],RADIAN=Math.PI/180,prevAngle=-ticksAngles[0].coord*RADIAN,r0=Math.min(radiusExtent[0],radiusExtent[1]),r1=Math.max(radiusExtent[0],radiusExtent[1]),clockwise=angleAxisModel.get("clockwise"),i=1,len=ticksAngles.length;i<=len;i++){var coord=i===len?ticksAngles[0].coord:ticksAngles[i].coord,colorIndex=lineCount++%areaColors.length;splitAreas[colorIndex]=splitAreas[colorIndex]||[],splitAreas[colorIndex].push(new shape_Sector({shape:{cx:polar.cx,cy:polar.cy,r0:r0,r:r1,startAngle:prevAngle,endAngle:-coord*RADIAN,clockwise:clockwise},silent:!0})),prevAngle=-coord*RADIAN}for(i=0;i<splitAreas.length;i++)group.add(graphic_mergePath(splitAreas[i],{style:util.defaults({fill:areaColors[i%areaColors.length]},areaStyleModel.getAreaStyle()),silent:!0}))}}},axis_AngleAxisView=AngleAxisView_AngleAxisView,RadiusAxisView_axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],RadiusAxisView_selfBuilderAttrs=["splitLine","splitArea","minorSplitLine"],RadiusAxisView_RadiusAxisView=function(_super){function RadiusAxisView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=RadiusAxisView.type,_this.axisPointerClass="PolarAxisPointer",_this}return __extends(RadiusAxisView,_super),RadiusAxisView.prototype.render=function(radiusAxisModel,ecModel){if(this.group.removeAll(),radiusAxisModel.get("show")){var oldAxisGroup=this._axisGroup,newAxisGroup=this._axisGroup=new graphic_Group;this.group.add(newAxisGroup);var radiusAxis=radiusAxisModel.axis,polar=radiusAxis.polar,angleAxis=polar.getAngleAxis(),ticksCoords=radiusAxis.getTicksCoords(),minorTicksCoords=radiusAxis.getMinorTicksCoords(),axisAngle=angleAxis.getExtent()[0],radiusExtent=radiusAxis.getExtent(),layout=function layoutAxis(polar,radiusAxisModel,axisAngle){return{position:[polar.cx,polar.cy],rotation:axisAngle/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:radiusAxisModel.getModel("axisLabel").get("rotate"),z2:1}}(polar,radiusAxisModel,axisAngle),axisBuilder=new axis_AxisBuilder(radiusAxisModel,layout);util.each(RadiusAxisView_axisBuilderAttrs,axisBuilder.add,axisBuilder),newAxisGroup.add(axisBuilder.getGroup()),groupTransition(oldAxisGroup,newAxisGroup,radiusAxisModel),util.each(RadiusAxisView_selfBuilderAttrs,(function(name){radiusAxisModel.get([name,"show"])&&!radiusAxis.scale.isBlank()&&RadiusAxisView_axisElementBuilders[name](this.group,radiusAxisModel,polar,axisAngle,radiusExtent,ticksCoords,minorTicksCoords)}),this)}},RadiusAxisView.type="radiusAxis",RadiusAxisView}(axis_AxisView),RadiusAxisView_axisElementBuilders={splitLine:function(group,radiusAxisModel,polar,axisAngle,radiusExtent,ticksCoords){var lineStyleModel=radiusAxisModel.getModel("splitLine").getModel("lineStyle"),lineColors=lineStyleModel.get("color"),lineCount=0;lineColors=lineColors instanceof Array?lineColors:[lineColors];for(var splitLines=[],i=0;i<ticksCoords.length;i++){var colorIndex=lineCount++%lineColors.length;splitLines[colorIndex]=splitLines[colorIndex]||[],splitLines[colorIndex].push(new shape_Circle({shape:{cx:polar.cx,cy:polar.cy,r:Math.max(ticksCoords[i].coord,0)}}))}for(i=0;i<splitLines.length;i++)group.add(graphic_mergePath(splitLines[i],{style:util.defaults({stroke:lineColors[i%lineColors.length],fill:null},lineStyleModel.getLineStyle()),silent:!0}))},minorSplitLine:function(group,radiusAxisModel,polar,axisAngle,radiusExtent,ticksCoords,minorTicksCoords){if(minorTicksCoords.length){for(var lineStyleModel=radiusAxisModel.getModel("minorSplitLine").getModel("lineStyle"),lines=[],i=0;i<minorTicksCoords.length;i++)for(var k=0;k<minorTicksCoords[i].length;k++)lines.push(new shape_Circle({shape:{cx:polar.cx,cy:polar.cy,r:minorTicksCoords[i][k].coord}}));group.add(graphic_mergePath(lines,{style:util.defaults({fill:null},lineStyleModel.getLineStyle()),silent:!0}))}},splitArea:function(group,radiusAxisModel,polar,axisAngle,radiusExtent,ticksCoords){if(ticksCoords.length){var areaStyleModel=radiusAxisModel.getModel("splitArea").getModel("areaStyle"),areaColors=areaStyleModel.get("color"),lineCount=0;areaColors=areaColors instanceof Array?areaColors:[areaColors];for(var splitAreas=[],prevRadius=ticksCoords[0].coord,i=1;i<ticksCoords.length;i++){var colorIndex=lineCount++%areaColors.length;splitAreas[colorIndex]=splitAreas[colorIndex]||[],splitAreas[colorIndex].push(new shape_Sector({shape:{cx:polar.cx,cy:polar.cy,r0:prevRadius,r:ticksCoords[i].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),prevRadius=ticksCoords[i].coord}for(i=0;i<splitAreas.length;i++)group.add(graphic_mergePath(splitAreas[i],{style:util.defaults({fill:areaColors[i%areaColors.length]},areaStyleModel.getAreaStyle()),silent:!0}))}}};var axis_RadiusAxisView=RadiusAxisView_RadiusAxisView;function barPolar_getSeriesStackId(seriesModel){return seriesModel.get("stack")||"__ec_stack_"+seriesModel.seriesIndex}function barPolar_getAxisKey(polar,axis){return axis.dim+polar.model.componentIndex}var barPolar=function barLayoutPolar(seriesType,ecModel,api){var lastStackCoords={},barWidthAndOffset=function calRadialBar(barSeries){var columnsMap={};util.each(barSeries,(function(seriesModel,idx){var data=seriesModel.getData(),polar=seriesModel.coordinateSystem,baseAxis=polar.getBaseAxis(),axisKey=barPolar_getAxisKey(polar,baseAxis),axisExtent=baseAxis.getExtent(),bandWidth="category"===baseAxis.type?baseAxis.getBandWidth():Math.abs(axisExtent[1]-axisExtent[0])/data.count(),columnsOnAxis=columnsMap[axisKey]||{bandWidth:bandWidth,remainedWidth:bandWidth,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},stacks=columnsOnAxis.stacks;columnsMap[axisKey]=columnsOnAxis;var stackId=barPolar_getSeriesStackId(seriesModel);stacks[stackId]||columnsOnAxis.autoWidthCount++,stacks[stackId]=stacks[stackId]||{width:0,maxWidth:0};var barWidth=number_parsePercent(seriesModel.get("barWidth"),bandWidth),barMaxWidth=number_parsePercent(seriesModel.get("barMaxWidth"),bandWidth),barGap=seriesModel.get("barGap"),barCategoryGap=seriesModel.get("barCategoryGap");barWidth&&!stacks[stackId].width&&(barWidth=Math.min(columnsOnAxis.remainedWidth,barWidth),stacks[stackId].width=barWidth,columnsOnAxis.remainedWidth-=barWidth),barMaxWidth&&(stacks[stackId].maxWidth=barMaxWidth),null!=barGap&&(columnsOnAxis.gap=barGap),null!=barCategoryGap&&(columnsOnAxis.categoryGap=barCategoryGap)}));var result={};return util.each(columnsMap,(function(columnsOnAxis,coordSysName){result[coordSysName]={};var stacks=columnsOnAxis.stacks,bandWidth=columnsOnAxis.bandWidth,categoryGap=number_parsePercent(columnsOnAxis.categoryGap,bandWidth),barGapPercent=number_parsePercent(columnsOnAxis.gap,1),remainedWidth=columnsOnAxis.remainedWidth,autoWidthCount=columnsOnAxis.autoWidthCount,autoWidth=(remainedWidth-categoryGap)/(autoWidthCount+(autoWidthCount-1)*barGapPercent);autoWidth=Math.max(autoWidth,0),util.each(stacks,(function(column,stack){var maxWidth=column.maxWidth;maxWidth&&maxWidth<autoWidth&&(maxWidth=Math.min(maxWidth,remainedWidth),column.width&&(maxWidth=Math.min(maxWidth,column.width)),remainedWidth-=maxWidth,column.width=maxWidth,autoWidthCount--)})),autoWidth=(remainedWidth-categoryGap)/(autoWidthCount+(autoWidthCount-1)*barGapPercent),autoWidth=Math.max(autoWidth,0);var lastColumn,widthSum=0;util.each(stacks,(function(column,idx){column.width||(column.width=autoWidth),lastColumn=column,widthSum+=column.width*(1+barGapPercent)})),lastColumn&&(widthSum-=lastColumn.width*barGapPercent);var offset=-widthSum/2;util.each(stacks,(function(column,stackId){result[coordSysName][stackId]=result[coordSysName][stackId]||{offset:offset,width:column.width},offset+=column.width*(1+barGapPercent)}))})),result}(util.filter(ecModel.getSeriesByType(seriesType),(function(seriesModel){return!ecModel.isSeriesFiltered(seriesModel)&&seriesModel.coordinateSystem&&"polar"===seriesModel.coordinateSystem.type})));ecModel.eachSeriesByType(seriesType,(function(seriesModel){if("polar"===seriesModel.coordinateSystem.type){var data=seriesModel.getData(),polar=seriesModel.coordinateSystem,baseAxis=polar.getBaseAxis(),axisKey=barPolar_getAxisKey(polar,baseAxis),stackId=barPolar_getSeriesStackId(seriesModel),columnLayoutInfo=barWidthAndOffset[axisKey][stackId],columnOffset=columnLayoutInfo.offset,columnWidth=columnLayoutInfo.width,valueAxis=polar.getOtherAxis(baseAxis),cx=seriesModel.coordinateSystem.cx,cy=seriesModel.coordinateSystem.cy,barMinHeight=seriesModel.get("barMinHeight")||0,barMinAngle=seriesModel.get("barMinAngle")||0;lastStackCoords[stackId]=lastStackCoords[stackId]||[];for(var valueDim=data.mapDimension(valueAxis.dim),baseDim=data.mapDimension(baseAxis.dim),stacked=isDimensionStacked(data,valueDim),clampLayout="radius"!==baseAxis.dim||!seriesModel.get("roundCap",!0),valueAxisStart=valueAxis.dataToCoord(0),idx=0,len=data.count();idx<len;idx++){var value=data.get(valueDim,idx),baseValue=data.get(baseDim,idx),sign=value>=0?"p":"n",baseCoord=valueAxisStart;stacked&&(lastStackCoords[stackId][baseValue]||(lastStackCoords[stackId][baseValue]={p:valueAxisStart,n:valueAxisStart}),baseCoord=lastStackCoords[stackId][baseValue][sign]);var r0=void 0,r=void 0,startAngle=void 0,endAngle=void 0;if("radius"===valueAxis.dim){var radiusSpan=valueAxis.dataToCoord(value)-valueAxisStart,angle=baseAxis.dataToCoord(baseValue);Math.abs(radiusSpan)<barMinHeight&&(radiusSpan=(radiusSpan<0?-1:1)*barMinHeight),r0=baseCoord,r=baseCoord+radiusSpan,endAngle=(startAngle=angle-columnOffset)-columnWidth,stacked&&(lastStackCoords[stackId][baseValue][sign]=r)}else{var angleSpan=valueAxis.dataToCoord(value,clampLayout)-valueAxisStart,radius=baseAxis.dataToCoord(baseValue);Math.abs(angleSpan)<barMinAngle&&(angleSpan=(angleSpan<0?-1:1)*barMinAngle),r=(r0=radius+columnOffset)+columnWidth,startAngle=baseCoord,endAngle=baseCoord+angleSpan,stacked&&(lastStackCoords[stackId][baseValue][sign]=endAngle)}data.setItemLayout(idx,{cx:cx,cy:cy,r0:r0,r:r,startAngle:-startAngle*Math.PI/180,endAngle:-endAngle*Math.PI/180,clockwise:startAngle>=endAngle})}}}))},angleAxisExtraOption={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},radiusAxisExtraOption={splitNumber:5},install_PolarView=function(_super){function PolarView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=PolarView.type,_this}return __extends(PolarView,_super),PolarView.type="polar",PolarView}(view_Component);function singleAxisHelper_layout(axisModel,opt){opt=opt||{};var single=axisModel.coordinateSystem,axis=axisModel.axis,layout={},axisPosition=axis.position,orient=axis.orient,rect=single.getRect(),rectBound=[rect.x,rect.x+rect.width,rect.y,rect.y+rect.height],positionMap={horizontal:{top:rectBound[2],bottom:rectBound[3]},vertical:{left:rectBound[0],right:rectBound[1]}};layout.position=["vertical"===orient?positionMap.vertical[axisPosition]:rectBound[0],"horizontal"===orient?positionMap.horizontal[axisPosition]:rectBound[3]];layout.rotation=Math.PI/2*{horizontal:0,vertical:1}[orient];layout.labelDirection=layout.tickDirection=layout.nameDirection={top:-1,bottom:1,right:1,left:-1}[axisPosition],axisModel.get(["axisTick","inside"])&&(layout.tickDirection=-layout.tickDirection),util.retrieve(opt.labelInside,axisModel.get(["axisLabel","inside"]))&&(layout.labelDirection=-layout.labelDirection);var labelRotation=opt.rotate;return null==labelRotation&&(labelRotation=axisModel.get(["axisLabel","rotate"])),layout.labelRotation="top"===axisPosition?-labelRotation:labelRotation,layout.z2=1,layout}var SingleAxisView_axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],SingleAxisView_selfBuilderAttrs=["splitArea","splitLine"],SingleAxisView_SingleAxisView=function(_super){function SingleAxisView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SingleAxisView.type,_this.axisPointerClass="SingleAxisPointer",_this}return __extends(SingleAxisView,_super),SingleAxisView.prototype.render=function(axisModel,ecModel,api,payload){var group=this.group;group.removeAll();var oldAxisGroup=this._axisGroup;this._axisGroup=new graphic_Group;var layout=singleAxisHelper_layout(axisModel),axisBuilder=new axis_AxisBuilder(axisModel,layout);util.each(SingleAxisView_axisBuilderAttrs,axisBuilder.add,axisBuilder),group.add(this._axisGroup),group.add(axisBuilder.getGroup()),util.each(SingleAxisView_selfBuilderAttrs,(function(name){axisModel.get([name,"show"])&&SingleAxisView_axisElementBuilders[name](this,this.group,this._axisGroup,axisModel)}),this),groupTransition(oldAxisGroup,this._axisGroup,axisModel),_super.prototype.render.call(this,axisModel,ecModel,api,payload)},SingleAxisView.prototype.remove=function(){rectCoordAxisHandleRemove(this)},SingleAxisView.type="singleAxis",SingleAxisView}(axis_AxisView),SingleAxisView_axisElementBuilders={splitLine:function(axisView,group,axisGroup,axisModel){var axis=axisModel.axis;if(!axis.scale.isBlank()){var splitLineModel=axisModel.getModel("splitLine"),lineStyleModel=splitLineModel.getModel("lineStyle"),lineColors=lineStyleModel.get("color");lineColors=lineColors instanceof Array?lineColors:[lineColors];for(var gridRect=axisModel.coordinateSystem.getRect(),isHorizontal=axis.isHorizontal(),splitLines=[],lineCount=0,ticksCoords=axis.getTicksCoords({tickModel:splitLineModel}),p1=[],p2=[],i=0;i<ticksCoords.length;++i){var tickCoord=axis.toGlobalCoord(ticksCoords[i].coord);isHorizontal?(p1[0]=tickCoord,p1[1]=gridRect.y,p2[0]=tickCoord,p2[1]=gridRect.y+gridRect.height):(p1[0]=gridRect.x,p1[1]=tickCoord,p2[0]=gridRect.x+gridRect.width,p2[1]=tickCoord);var colorIndex=lineCount++%lineColors.length;splitLines[colorIndex]=splitLines[colorIndex]||[],splitLines[colorIndex].push(new shape_Line({subPixelOptimize:!0,shape:{x1:p1[0],y1:p1[1],x2:p2[0],y2:p2[1]},silent:!0}))}var lineStyle=lineStyleModel.getLineStyle(["color"]);for(i=0;i<splitLines.length;++i)group.add(graphic_mergePath(splitLines[i],{style:util.defaults({stroke:lineColors[i%lineColors.length]},lineStyle),silent:!0}))}},splitArea:function(axisView,group,axisGroup,axisModel){rectCoordAxisBuildSplitArea(axisView,axisGroup,axisModel,axisModel)}},axis_SingleAxisView=SingleAxisView_SingleAxisView,AxisModel_SingleAxisModel=function(_super){function SingleAxisModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SingleAxisModel.type,_this}return __extends(SingleAxisModel,_super),SingleAxisModel.prototype.getCoordSysModel=function(){return this},SingleAxisModel.type="singleAxis",SingleAxisModel.layoutMode="box",SingleAxisModel.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},SingleAxisModel}(Component);Object(util.mixin)(AxisModel_SingleAxisModel,AxisModelCommonMixin.prototype);var single_AxisModel=AxisModel_SingleAxisModel,single_SingleAxis=function(_super){function SingleAxis(dim,scale,coordExtent,axisType,position){var _this=_super.call(this,dim,scale,coordExtent)||this;return _this.type=axisType||"value",_this.position=position||"bottom",_this}return __extends(SingleAxis,_super),SingleAxis.prototype.isHorizontal=function(){var position=this.position;return"top"===position||"bottom"===position},SingleAxis.prototype.pointToData=function(point,clamp){return this.coordinateSystem.pointToData(point)[0]},SingleAxis}(coord_Axis),singleDimensions=["single"];function Single_getCoordSys(finder){var seriesModel=finder.seriesModel,singleModel=finder.singleAxisModel;return singleModel&&singleModel.coordinateSystem||seriesModel&&seriesModel.coordinateSystem}var single_Single=function(){function Single(axisModel,ecModel,api){this.type="single",this.dimension="single",this.dimensions=singleDimensions,this.axisPointerEnabled=!0,this.model=axisModel,this._init(axisModel,ecModel,api)}return Single.prototype._init=function(axisModel,ecModel,api){var dim=this.dimension,axis=new single_SingleAxis(dim,createScaleByModel(axisModel),[0,0],axisModel.get("type"),axisModel.get("position")),isCategory="category"===axis.type;axis.onBand=isCategory&&axisModel.get("boundaryGap"),axis.inverse=axisModel.get("inverse"),axis.orient=axisModel.get("orient"),axisModel.axis=axis,axis.model=axisModel,axis.coordinateSystem=this,this._axis=axis},Single.prototype.update=function(ecModel,api){ecModel.eachSeries((function(seriesModel){if(seriesModel.coordinateSystem===this){var data_1=seriesModel.getData();Object(util.each)(data_1.mapDimensionsAll(this.dimension),(function(dim){this._axis.scale.unionExtentFromData(data_1,dim)}),this),niceScaleExtent(this._axis.scale,this._axis.model)}}),this)},Single.prototype.resize=function(axisModel,api){this._rect=getLayoutRect({left:axisModel.get("left"),top:axisModel.get("top"),right:axisModel.get("right"),bottom:axisModel.get("bottom"),width:axisModel.get("width"),height:axisModel.get("height")},{width:api.getWidth(),height:api.getHeight()}),this._adjustAxis()},Single.prototype.getRect=function(){return this._rect},Single.prototype._adjustAxis=function(){var rect=this._rect,axis=this._axis,isHorizontal=axis.isHorizontal(),extent=isHorizontal?[0,rect.width]:[0,rect.height],idx=axis.reverse?1:0;axis.setExtent(extent[idx],extent[1-idx]),this._updateAxisTransform(axis,isHorizontal?rect.x:rect.y)},Single.prototype._updateAxisTransform=function(axis,coordBase){var axisExtent=axis.getExtent(),extentSum=axisExtent[0]+axisExtent[1],isHorizontal=axis.isHorizontal();axis.toGlobalCoord=isHorizontal?function(coord){return coord+coordBase}:function(coord){return extentSum-coord+coordBase},axis.toLocalCoord=isHorizontal?function(coord){return coord-coordBase}:function(coord){return extentSum-coord+coordBase}},Single.prototype.getAxis=function(){return this._axis},Single.prototype.getBaseAxis=function(){return this._axis},Single.prototype.getAxes=function(){return[this._axis]},Single.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},Single.prototype.containPoint=function(point){var rect=this.getRect(),axis=this.getAxis();return"horizontal"===axis.orient?axis.contain(axis.toLocalCoord(point[0]))&&point[1]>=rect.y&&point[1]<=rect.y+rect.height:axis.contain(axis.toLocalCoord(point[1]))&&point[0]>=rect.y&&point[0]<=rect.y+rect.height},Single.prototype.pointToData=function(point){var axis=this.getAxis();return[axis.coordToData(axis.toLocalCoord(point["horizontal"===axis.orient?0:1]))]},Single.prototype.dataToPoint=function(val){var axis=this.getAxis(),rect=this.getRect(),pt=[],idx="horizontal"===axis.orient?0:1;return val instanceof Array&&(val=val[0]),pt[idx]=axis.toGlobalCoord(axis.dataToCoord(+val)),pt[1-idx]=0===idx?rect.y+rect.height/2:rect.x+rect.width/2,pt},Single.prototype.convertToPixel=function(ecModel,finder,value){return Single_getCoordSys(finder)===this?this.dataToPoint(value):null},Single.prototype.convertFromPixel=function(ecModel,finder,pixel){return Single_getCoordSys(finder)===this?this.pointToData(pixel):null},Single}();var single_singleCreator={create:function singleCreator_create(ecModel,api){var singles=[];return ecModel.eachComponent("singleAxis",(function(axisModel,idx){var single=new single_Single(axisModel,ecModel,api);single.name="single_"+idx,single.resize(axisModel,api),axisModel.coordinateSystem=single,singles.push(single)})),ecModel.eachSeries((function(seriesModel){if("singleAxis"===seriesModel.get("coordinateSystem")){var singleAxisModel=seriesModel.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];seriesModel.coordinateSystem=singleAxisModel&&singleAxisModel.coordinateSystem}})),singles},dimensions:singleDimensions},XY=["x","y"],WH=["width","height"],SingleAxisPointer_SingleAxisPointer=function(_super){function SingleAxisPointer(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SingleAxisPointer,_super),SingleAxisPointer.prototype.makeElOption=function(elOption,value,axisModel,axisPointerModel,api){var axis=axisModel.axis,coordSys=axis.coordinateSystem,otherExtent=getGlobalExtent(coordSys,1-getPointDimIndex(axis)),pixelValue=coordSys.dataToPoint(value)[0],axisPointerType=axisPointerModel.get("type");if(axisPointerType&&"none"!==axisPointerType){var elStyle=buildElStyle(axisPointerModel),pointerOption=SingleAxisPointer_pointerShapeBuilder[axisPointerType](axis,pixelValue,otherExtent);pointerOption.style=elStyle,elOption.graphicKey=pointerOption.type,elOption.pointer=pointerOption}buildCartesianSingleLabelElOption(value,elOption,singleAxisHelper_layout(axisModel),axisModel,axisPointerModel,api)},SingleAxisPointer.prototype.getHandleTransform=function(value,axisModel,axisPointerModel){var layoutInfo=singleAxisHelper_layout(axisModel,{labelInside:!1});layoutInfo.labelMargin=axisPointerModel.get(["handle","margin"]);var position=getTransformedPosition(axisModel.axis,value,layoutInfo);return{x:position[0],y:position[1],rotation:layoutInfo.rotation+(layoutInfo.labelDirection<0?Math.PI:0)}},SingleAxisPointer.prototype.updateHandleTransform=function(transform,delta,axisModel,axisPointerModel){var axis=axisModel.axis,coordSys=axis.coordinateSystem,dimIndex=getPointDimIndex(axis),axisExtent=getGlobalExtent(coordSys,dimIndex),currPosition=[transform.x,transform.y];currPosition[dimIndex]+=delta[dimIndex],currPosition[dimIndex]=Math.min(axisExtent[1],currPosition[dimIndex]),currPosition[dimIndex]=Math.max(axisExtent[0],currPosition[dimIndex]);var otherExtent=getGlobalExtent(coordSys,1-dimIndex),cursorOtherValue=(otherExtent[1]+otherExtent[0])/2,cursorPoint=[cursorOtherValue,cursorOtherValue];return cursorPoint[dimIndex]=currPosition[dimIndex],{x:currPosition[0],y:currPosition[1],rotation:transform.rotation,cursorPoint:cursorPoint,tooltipOption:{verticalAlign:"middle"}}},SingleAxisPointer}(axisPointer_BaseAxisPointer),SingleAxisPointer_pointerShapeBuilder={line:function(axis,pixelValue,otherExtent){return{type:"Line",subPixelOptimize:!0,shape:makeLineShape([pixelValue,otherExtent[0]],[pixelValue,otherExtent[1]],getPointDimIndex(axis))}},shadow:function(axis,pixelValue,otherExtent){var bandWidth=axis.getBandWidth(),span=otherExtent[1]-otherExtent[0];return{type:"Rect",shape:makeRectShape([pixelValue-bandWidth/2,otherExtent[0]],[bandWidth,span],getPointDimIndex(axis))}}};function getPointDimIndex(axis){return axis.isHorizontal()?0:1}function getGlobalExtent(coordSys,dimIndex){var rect=coordSys.getRect();return[rect[XY[dimIndex]],rect[XY[dimIndex]]+rect[WH[dimIndex]]]}var axisPointer_SingleAxisPointer=SingleAxisPointer_SingleAxisPointer,install_SingleView=function(_super){function SingleView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SingleView.type,_this}return __extends(SingleView,_super),SingleView.type="single",SingleView}(view_Component);var CalendarModel_CalendarModel=function(_super){function CalendarModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CalendarModel.type,_this}return __extends(CalendarModel,_super),CalendarModel.prototype.init=function(option,parentModel,ecModel){var inputPositionParams=getLayoutParams(option);_super.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams(option,inputPositionParams)},CalendarModel.prototype.mergeOption=function(option){_super.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams(this.option,option)},CalendarModel.prototype.getCellSize=function(){return this.option.cellSize},CalendarModel.type="calendar",CalendarModel.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},CalendarModel}(Component);function mergeAndNormalizeLayoutParams(target,raw){var cellSizeArr,cellSize=target.cellSize;1===(cellSizeArr=util.isArray(cellSize)?cellSize:target.cellSize=[cellSize,cellSize]).length&&(cellSizeArr[1]=cellSizeArr[0]);var ignoreSize=util.map([0,1],(function(hvIdx){return function sizeCalculable(option,hvIdx){return null!=option[HV_NAMES[hvIdx][0]]||null!=option[HV_NAMES[hvIdx][1]]&&null!=option[HV_NAMES[hvIdx][2]]}(raw,hvIdx)&&(cellSizeArr[hvIdx]="auto"),null!=cellSizeArr[hvIdx]&&"auto"!==cellSizeArr[hvIdx]}));mergeLayoutParam(target,raw,{type:"box",ignoreSize:ignoreSize})}var calendar_CalendarModel=CalendarModel_CalendarModel,CalendarView_CalendarView=function(_super){function CalendarView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CalendarView.type,_this}return __extends(CalendarView,_super),CalendarView.prototype.render=function(calendarModel,ecModel,api){var group=this.group;group.removeAll();var coordSys=calendarModel.coordinateSystem,rangeData=coordSys.getRangeInfo(),orient=coordSys.getOrient(),localeModel=ecModel.getLocaleModel();this._renderDayRect(calendarModel,rangeData,group),this._renderLines(calendarModel,rangeData,orient,group),this._renderYearText(calendarModel,rangeData,orient,group),this._renderMonthText(calendarModel,localeModel,orient,group),this._renderWeekText(calendarModel,localeModel,rangeData,orient,group)},CalendarView.prototype._renderDayRect=function(calendarModel,rangeData,group){for(var coordSys=calendarModel.coordinateSystem,itemRectStyleModel=calendarModel.getModel("itemStyle").getItemStyle(),sw=coordSys.getCellWidth(),sh=coordSys.getCellHeight(),i=rangeData.start.time;i<=rangeData.end.time;i=coordSys.getNextNDay(i,1).time){var point=coordSys.dataToRect([i],!1).tl,rect=new shape_Rect({shape:{x:point[0],y:point[1],width:sw,height:sh},cursor:"default",style:itemRectStyleModel});group.add(rect)}},CalendarView.prototype._renderLines=function(calendarModel,rangeData,orient,group){var self=this,coordSys=calendarModel.coordinateSystem,lineStyleModel=calendarModel.getModel(["splitLine","lineStyle"]).getLineStyle(),show=calendarModel.get(["splitLine","show"]),lineWidth=lineStyleModel.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var firstDay=rangeData.start,i=0;firstDay.time<=rangeData.end.time;i++){addPoints(firstDay.formatedDate),0===i&&(firstDay=coordSys.getDateInfo(rangeData.start.y+"-"+rangeData.start.m));var date=firstDay.date;date.setMonth(date.getMonth()+1),firstDay=coordSys.getDateInfo(date)}function addPoints(date){self._firstDayOfMonth.push(coordSys.getDateInfo(date)),self._firstDayPoints.push(coordSys.dataToRect([date],!1).tl);var points=self._getLinePointsOfOneWeek(calendarModel,date,orient);self._tlpoints.push(points[0]),self._blpoints.push(points[points.length-1]),show&&self._drawSplitline(points,lineStyleModel,group)}addPoints(coordSys.getNextNDay(rangeData.end.time,1).formatedDate),show&&this._drawSplitline(self._getEdgesPoints(self._tlpoints,lineWidth,orient),lineStyleModel,group),show&&this._drawSplitline(self._getEdgesPoints(self._blpoints,lineWidth,orient),lineStyleModel,group)},CalendarView.prototype._getEdgesPoints=function(points,lineWidth,orient){var rs=[points[0].slice(),points[points.length-1].slice()],idx="horizontal"===orient?0:1;return rs[0][idx]=rs[0][idx]-lineWidth/2,rs[1][idx]=rs[1][idx]+lineWidth/2,rs},CalendarView.prototype._drawSplitline=function(points,lineStyle,group){var poyline=new shape_Polyline({z2:20,shape:{points:points},style:lineStyle});group.add(poyline)},CalendarView.prototype._getLinePointsOfOneWeek=function(calendarModel,date,orient){for(var coordSys=calendarModel.coordinateSystem,parsedDate=coordSys.getDateInfo(date),points=[],i=0;i<7;i++){var tmpD=coordSys.getNextNDay(parsedDate.time,i),point=coordSys.dataToRect([tmpD.time],!1);points[2*tmpD.day]=point.tl,points[2*tmpD.day+1]=point["horizontal"===orient?"bl":"tr"]}return points},CalendarView.prototype._formatterLabel=function(formatter,params){return Object(util.isString)(formatter)&&formatter?function formatTplSimple(tpl,param,encode){return util.each(param,(function(value,key){tpl=tpl.replace("{"+key+"}",encode?encodeHTML(value):value)})),tpl}(formatter,params):Object(util.isFunction)(formatter)?formatter(params):params.nameMap},CalendarView.prototype._yearTextPositionControl=function(textEl,point,orient,position,margin){var x=point[0],y=point[1],aligns=["center","bottom"];"bottom"===position?(y+=margin,aligns=["center","top"]):"left"===position?x-=margin:"right"===position?(x+=margin,aligns=["center","top"]):y-=margin;var rotate=0;return"left"!==position&&"right"!==position||(rotate=Math.PI/2),{rotation:rotate,x:x,y:y,style:{align:aligns[0],verticalAlign:aligns[1]}}},CalendarView.prototype._renderYearText=function(calendarModel,rangeData,orient,group){var yearLabel=calendarModel.getModel("yearLabel");if(yearLabel.get("show")){var margin=yearLabel.get("margin"),pos=yearLabel.get("position");pos||(pos="horizontal"!==orient?"top":"left");var points=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],xc=(points[0][0]+points[1][0])/2,yc=(points[0][1]+points[1][1])/2,idx="horizontal"===orient?0:1,posPoints={top:[xc,points[idx][1]],bottom:[xc,points[1-idx][1]],left:[points[1-idx][0],yc],right:[points[idx][0],yc]},name=rangeData.start.y;+rangeData.end.y>+rangeData.start.y&&(name=name+"-"+rangeData.end.y);var formatter=yearLabel.get("formatter"),params={start:rangeData.start.y,end:rangeData.end.y,nameMap:name},content=this._formatterLabel(formatter,params),yearText=new Text({z2:30,style:createTextStyle(yearLabel,{text:content})});yearText.attr(this._yearTextPositionControl(yearText,posPoints[pos],orient,pos,margin)),group.add(yearText)}},CalendarView.prototype._monthTextPositionControl=function(point,isCenter,orient,position,margin){var align="left",vAlign="top",x=point[0],y=point[1];return"horizontal"===orient?(y+=margin,isCenter&&(align="center"),"start"===position&&(vAlign="bottom")):(x+=margin,isCenter&&(vAlign="middle"),"start"===position&&(align="right")),{x:x,y:y,align:align,verticalAlign:vAlign}},CalendarView.prototype._renderMonthText=function(calendarModel,localeModel,orient,group){var monthLabel=calendarModel.getModel("monthLabel");if(monthLabel.get("show")){var nameMap=monthLabel.get("nameMap"),margin=monthLabel.get("margin"),pos=monthLabel.get("position"),align=monthLabel.get("align"),termPoints=[this._tlpoints,this._blpoints];nameMap&&!Object(util.isString)(nameMap)||(nameMap&&(localeModel=getLocaleModel(nameMap)||localeModel),nameMap=localeModel.get(["time","monthAbbr"])||[]);var idx="start"===pos?0:1,axis="horizontal"===orient?0:1;margin="start"===pos?-margin:margin;for(var isCenter="center"===align,i=0;i<termPoints[idx].length-1;i++){var tmp=termPoints[idx][i].slice(),firstDay=this._firstDayOfMonth[i];if(isCenter){var firstDayPoints=this._firstDayPoints[i];tmp[axis]=(firstDayPoints[axis]+termPoints[0][i+1][axis])/2}var formatter=monthLabel.get("formatter"),name_1=nameMap[+firstDay.m-1],params={yyyy:firstDay.y,yy:(firstDay.y+"").slice(2),MM:firstDay.m,M:+firstDay.m,nameMap:name_1},content=this._formatterLabel(formatter,params),monthText=new Text({z2:30,style:Object(util.extend)(createTextStyle(monthLabel,{text:content}),this._monthTextPositionControl(tmp,isCenter,orient,pos,margin))});group.add(monthText)}}},CalendarView.prototype._weekTextPositionControl=function(point,orient,position,margin,cellSize){var align="center",vAlign="middle",x=point[0],y=point[1],isStart="start"===position;return"horizontal"===orient?(x=x+margin+(isStart?1:-1)*cellSize[0]/2,align=isStart?"right":"left"):(y=y+margin+(isStart?1:-1)*cellSize[1]/2,vAlign=isStart?"bottom":"top"),{x:x,y:y,align:align,verticalAlign:vAlign}},CalendarView.prototype._renderWeekText=function(calendarModel,localeModel,rangeData,orient,group){var dayLabel=calendarModel.getModel("dayLabel");if(dayLabel.get("show")){var coordSys=calendarModel.coordinateSystem,pos=dayLabel.get("position"),nameMap=dayLabel.get("nameMap"),margin=dayLabel.get("margin"),firstDayOfWeek=coordSys.getFirstDayOfWeek();if(!nameMap||Object(util.isString)(nameMap))nameMap&&(localeModel=getLocaleModel(nameMap)||localeModel),nameMap=localeModel.get(["time","dayOfWeekShort"])||Object(util.map)(localeModel.get(["time","dayOfWeekAbbr"]),(function(val){return val[0]}));var start=coordSys.getNextNDay(rangeData.end.time,7-rangeData.lweek).time,cellSize=[coordSys.getCellWidth(),coordSys.getCellHeight()];margin=number_parsePercent(margin,Math.min(cellSize[1],cellSize[0])),"start"===pos&&(start=coordSys.getNextNDay(rangeData.start.time,-(7+rangeData.fweek)).time,margin=-margin);for(var i=0;i<7;i++){var day,tmpD=coordSys.getNextNDay(start,i),point=coordSys.dataToRect([tmpD.time],!1).center;day=Math.abs((i+firstDayOfWeek)%7);var weekText=new Text({z2:30,style:Object(util.extend)(createTextStyle(dayLabel,{text:nameMap[day]}),this._weekTextPositionControl(point,orient,pos,margin,cellSize))});group.add(weekText)}}},CalendarView.type="calendar",CalendarView}(view_Component),calendar_CalendarView=CalendarView_CalendarView;function Calendar_getCoordSys(finder){var calendarModel=finder.calendarModel,seriesModel=finder.seriesModel;return calendarModel?calendarModel.coordinateSystem:seriesModel?seriesModel.coordinateSystem:null}var calendar_Calendar=function(){function Calendar(calendarModel,ecModel,api){this.type="calendar",this.dimensions=Calendar.dimensions,this.getDimensionsInfo=Calendar.getDimensionsInfo,this._model=calendarModel}return Calendar.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},Calendar.prototype.getRangeInfo=function(){return this._rangeInfo},Calendar.prototype.getModel=function(){return this._model},Calendar.prototype.getRect=function(){return this._rect},Calendar.prototype.getCellWidth=function(){return this._sw},Calendar.prototype.getCellHeight=function(){return this._sh},Calendar.prototype.getOrient=function(){return this._orient},Calendar.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},Calendar.prototype.getDateInfo=function(date){var y=(date=parseDate(date)).getFullYear(),m=date.getMonth()+1,mStr=m<10?"0"+m:""+m,d=date.getDate(),dStr=d<10?"0"+d:""+d,day=date.getDay();return{y:y+"",m:mStr,d:dStr,day:day=Math.abs((day+7-this.getFirstDayOfWeek())%7),time:date.getTime(),formatedDate:y+"-"+mStr+"-"+dStr,date:date}},Calendar.prototype.getNextNDay=function(date,n){return 0===(n=n||0)||(date=new Date(this.getDateInfo(date).time)).setDate(date.getDate()+n),this.getDateInfo(date)},Calendar.prototype.update=function(ecModel,api){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var weeks=this._rangeInfo.weeks||1,whNames=["width","height"],cellSize=this._model.getCellSize().slice(),layoutParams=this._model.getBoxLayoutParams(),cellNumbers="horizontal"===this._orient?[weeks,7]:[7,weeks];util.each([0,1],(function(idx){cellSizeSpecified(cellSize,idx)&&(layoutParams[whNames[idx]]=cellSize[idx]*cellNumbers[idx])}));var whGlobal={width:api.getWidth(),height:api.getHeight()},calendarRect=this._rect=getLayoutRect(layoutParams,whGlobal);function cellSizeSpecified(cellSize,idx){return null!=cellSize[idx]&&"auto"!==cellSize[idx]}util.each([0,1],(function(idx){cellSizeSpecified(cellSize,idx)||(cellSize[idx]=calendarRect[whNames[idx]]/cellNumbers[idx])})),this._sw=cellSize[0],this._sh=cellSize[1]},Calendar.prototype.dataToPoint=function(data,clamp){util.isArray(data)&&(data=data[0]),null==clamp&&(clamp=!0);var dayInfo=this.getDateInfo(data),range=this._rangeInfo,date=dayInfo.formatedDate;if(clamp&&!(dayInfo.time>=range.start.time&&dayInfo.time<range.end.time+864e5))return[NaN,NaN];var week=dayInfo.day,nthWeek=this._getRangeInfo([range.start.time,date]).nthWeek;return"vertical"===this._orient?[this._rect.x+week*this._sw+this._sw/2,this._rect.y+nthWeek*this._sh+this._sh/2]:[this._rect.x+nthWeek*this._sw+this._sw/2,this._rect.y+week*this._sh+this._sh/2]},Calendar.prototype.pointToData=function(point){var date=this.pointToDate(point);return date&&date.time},Calendar.prototype.dataToRect=function(data,clamp){var point=this.dataToPoint(data,clamp);return{contentShape:{x:point[0]-(this._sw-this._lineWidth)/2,y:point[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:point,tl:[point[0]-this._sw/2,point[1]-this._sh/2],tr:[point[0]+this._sw/2,point[1]-this._sh/2],br:[point[0]+this._sw/2,point[1]+this._sh/2],bl:[point[0]-this._sw/2,point[1]+this._sh/2]}},Calendar.prototype.pointToDate=function(point){var nthX=Math.floor((point[0]-this._rect.x)/this._sw)+1,nthY=Math.floor((point[1]-this._rect.y)/this._sh)+1,range=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(nthY,nthX-1,range):this._getDateByWeeksAndDay(nthX,nthY-1,range)},Calendar.prototype.convertToPixel=function(ecModel,finder,value){var coordSys=Calendar_getCoordSys(finder);return coordSys===this?coordSys.dataToPoint(value):null},Calendar.prototype.convertFromPixel=function(ecModel,finder,pixel){var coordSys=Calendar_getCoordSys(finder);return coordSys===this?coordSys.pointToData(pixel):null},Calendar.prototype.containPoint=function(point){return console.warn("Not implemented."),!1},Calendar.prototype._initRangeOption=function(){var normalizedRange,range=this._model.get("range");if(util.isArray(range)&&1===range.length&&(range=range[0]),util.isArray(range))normalizedRange=range;else{var rangeStr=range.toString();if(/^\d{4}$/.test(rangeStr)&&(normalizedRange=[rangeStr+"-01-01",rangeStr+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(rangeStr)){var start=this.getDateInfo(rangeStr),firstDay=start.date;firstDay.setMonth(firstDay.getMonth()+1);var end=this.getNextNDay(firstDay,-1);normalizedRange=[start.formatedDate,end.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(rangeStr)&&(normalizedRange=[rangeStr,rangeStr])}if(!normalizedRange)return range;var tmp=this._getRangeInfo(normalizedRange);return tmp.start.time>tmp.end.time&&normalizedRange.reverse(),normalizedRange},Calendar.prototype._getRangeInfo=function(range){var reversed,parsedRange=[this.getDateInfo(range[0]),this.getDateInfo(range[1])];parsedRange[0].time>parsedRange[1].time&&(reversed=!0,parsedRange.reverse());var allDay=Math.floor(parsedRange[1].time/864e5)-Math.floor(parsedRange[0].time/864e5)+1,date=new Date(parsedRange[0].time),startDateNum=date.getDate(),endDateNum=parsedRange[1].date.getDate();date.setDate(startDateNum+allDay-1);var dateNum=date.getDate();if(dateNum!==endDateNum)for(var sign=date.getTime()-parsedRange[1].time>0?1:-1;(dateNum=date.getDate())!==endDateNum&&(date.getTime()-parsedRange[1].time)*sign>0;)allDay-=sign,date.setDate(dateNum-sign);var weeks=Math.floor((allDay+parsedRange[0].day+6)/7),nthWeek=reversed?1-weeks:weeks-1;return reversed&&parsedRange.reverse(),{range:[parsedRange[0].formatedDate,parsedRange[1].formatedDate],start:parsedRange[0],end:parsedRange[1],allDay:allDay,weeks:weeks,nthWeek:nthWeek,fweek:parsedRange[0].day,lweek:parsedRange[1].day}},Calendar.prototype._getDateByWeeksAndDay=function(nthWeek,day,range){var rangeInfo=this._getRangeInfo(range);if(nthWeek>rangeInfo.weeks||0===nthWeek&&day<rangeInfo.fweek||nthWeek===rangeInfo.weeks&&day>rangeInfo.lweek)return null;var nthDay=7*(nthWeek-1)-rangeInfo.fweek+day,date=new Date(rangeInfo.start.time);return date.setDate(+rangeInfo.start.d+nthDay),this.getDateInfo(date)},Calendar.create=function(ecModel,api){var calendarList=[];return ecModel.eachComponent("calendar",(function(calendarModel){var calendar=new Calendar(calendarModel,ecModel,api);calendarList.push(calendar),calendarModel.coordinateSystem=calendar})),ecModel.eachSeries((function(calendarSeries){"calendar"===calendarSeries.get("coordinateSystem")&&(calendarSeries.coordinateSystem=calendarList[calendarSeries.get("calendarIndex")||0])})),calendarList},Calendar.dimensions=["time","value"],Calendar}();function isSetLoc(obj,props){var isSet;return util.each(props,(function(prop){null!=obj[prop]&&"auto"!==obj[prop]&&(isSet=!0)})),isSet}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(target,source,targetProp){if(targetProp&&(!target[targetProp]&&source[targetProp]&&(target[targetProp]={}),target=target[targetProp],source=source[targetProp]),target&&source)for(var props=targetProp?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,i=0;i<props.length;i++){var prop=props[i];null==target[prop]&&null!=source[prop]&&(target[prop]=source[prop])}}var GraphicModel_GraphicComponentModel=function(_super){function GraphicComponentModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GraphicComponentModel.type,_this.preventAutoZ=!0,_this}return __extends(GraphicComponentModel,_super),GraphicComponentModel.prototype.mergeOption=function(option,ecModel){var elements=this.option.elements;this.option.elements=null,_super.prototype.mergeOption.call(this,option,ecModel),this.option.elements=elements},GraphicComponentModel.prototype.optionUpdated=function(newOption,isInit){var thisOption=this.option,newList=(isInit?thisOption:newOption).elements,existList=thisOption.elements=isInit?[]:thisOption.elements,flattenedList=[];this._flatten(newList,flattenedList,null);var mappingResult=mappingToExists(existList,flattenedList,"normalMerge"),elOptionsToUpdate=this._elOptionsToUpdate=[];util.each(mappingResult,(function(resultItem,index){var newElOption=resultItem.newOption;newElOption&&(elOptionsToUpdate.push(newElOption),function setKeyInfoToNewElOption(resultItem,newElOption){var existElOption=resultItem.existing;if(newElOption.id=resultItem.keyInfo.id,!newElOption.type&&existElOption&&(newElOption.type=existElOption.type),null==newElOption.parentId){var newElParentOption=newElOption.parentOption;newElParentOption?newElOption.parentId=newElParentOption.id:existElOption&&(newElOption.parentId=existElOption.parentId)}newElOption.parentOption=null}(resultItem,newElOption),function mergeNewElOptionToExist(existList,index,newElOption){var newElOptCopy=util.extend({},newElOption),existElOption=existList[index],$action=newElOption.$action||"merge";"merge"===$action?existElOption?(util.merge(existElOption,newElOptCopy,!0),mergeLayoutParam(existElOption,newElOptCopy,{ignoreSize:!0}),copyLayoutParams(newElOption,existElOption),copyTransitionInfo(newElOption,existElOption),copyTransitionInfo(newElOption,existElOption,"shape"),copyTransitionInfo(newElOption,existElOption,"style"),copyTransitionInfo(newElOption,existElOption,"extra"),newElOption.clipPath=existElOption.clipPath):existList[index]=newElOptCopy:"replace"===$action?existList[index]=newElOptCopy:"remove"===$action&&existElOption&&(existList[index]=null)}(existList,index,newElOption),function setLayoutInfoToExist(existItem,newElOption){if(existItem&&(existItem.hv=newElOption.hv=[isSetLoc(newElOption,["left","right"]),isSetLoc(newElOption,["top","bottom"])],"group"===existItem.type)){var existingGroupOpt=existItem,newGroupOpt=newElOption;null==existingGroupOpt.width&&(existingGroupOpt.width=newGroupOpt.width=0),null==existingGroupOpt.height&&(existingGroupOpt.height=newGroupOpt.height=0)}}(existList[index],newElOption))}),this),thisOption.elements=util.filter(existList,(function(item){return item&&delete item.$action,null!=item}))},GraphicComponentModel.prototype._flatten=function(optionList,result,parentOption){util.each(optionList,(function(option){if(option){parentOption&&(option.parentOption=parentOption),result.push(option);var children=option.children;"group"===option.type&&children&&this._flatten(children,result,option),delete option.children}}),this)},GraphicComponentModel.prototype.useElOptionsToUpdate=function(){var els=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,els},GraphicComponentModel.type="graphic",GraphicComponentModel.defaultOption={elements:[]},GraphicComponentModel}(Component),nonShapeGraphicElements={path:null,compoundPath:null,group:graphic_Group,image:graphic_Image,text:Text},GraphicView_inner=makeInner(),GraphicView_GraphicComponentView=function(_super){function GraphicComponentView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GraphicComponentView.type,_this}return __extends(GraphicComponentView,_super),GraphicComponentView.prototype.init=function(){this._elMap=util.createHashMap()},GraphicComponentView.prototype.render=function(graphicModel,ecModel,api){graphicModel!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=graphicModel,this._updateElements(graphicModel),this._relocate(graphicModel,api)},GraphicComponentView.prototype._updateElements=function(graphicModel){var elOptionsToUpdate=graphicModel.useElOptionsToUpdate();if(elOptionsToUpdate){var elMap=this._elMap,rootGroup=this.group,globalZ=graphicModel.get("z"),globalZLevel=graphicModel.get("zlevel");util.each(elOptionsToUpdate,(function(elOption){var id=convertOptionIdName(elOption.id,null),elExisting=null!=id?elMap.get(id):null,parentId=convertOptionIdName(elOption.parentId,null),targetElParent=null!=parentId?elMap.get(parentId):rootGroup,elType=elOption.type,elOptionStyle=elOption.style;"text"===elType&&elOptionStyle&&elOption.hv&&elOption.hv[1]&&(elOptionStyle.textVerticalAlign=elOptionStyle.textBaseline=elOptionStyle.verticalAlign=elOptionStyle.align=null);var textContentOption=elOption.textContent,textConfig=elOption.textConfig;if(elOptionStyle&&isEC4CompatibleStyle(elOptionStyle,elType,!!textConfig,!!textContentOption)){var convertResult=convertFromEC4CompatibleStyle(elOptionStyle,elType,!0);!textConfig&&convertResult.textConfig&&(textConfig=elOption.textConfig=convertResult.textConfig),!textContentOption&&convertResult.textContent&&(textContentOption=convertResult.textContent)}var elOptionCleaned=function getCleanedElOption(elOption){return elOption=util.extend({},elOption),util.each(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LOCATION_PARAMS),(function(name){delete elOption[name]})),elOption}(elOption);var $action=elOption.$action||"merge",isMerge="merge"===$action,isReplace="replace"===$action;if(isMerge){var el_1=elExisting;(isInit=!elExisting)?el_1=GraphicView_createEl(id,targetElParent,elOption.type,elMap):(el_1&&(GraphicView_inner(el_1).isNew=!1),stopPreviousKeyframeAnimationAndRestore(el_1)),el_1&&(applyUpdateTransition(el_1,elOptionCleaned,graphicModel,{isInit:isInit}),updateCommonAttrs(el_1,elOption,globalZ,globalZLevel))}else if(isReplace){removeEl(elExisting,elOption,elMap,graphicModel);var el_2=GraphicView_createEl(id,targetElParent,elOption.type,elMap);el_2&&(applyUpdateTransition(el_2,elOptionCleaned,graphicModel,{isInit:!0}),updateCommonAttrs(el_2,elOption,globalZ,globalZLevel))}else"remove"===$action&&(updateLeaveTo(elExisting,elOption),removeEl(elExisting,elOption,elMap,graphicModel));var el=elMap.get(id);if(el&&textContentOption)if(isMerge){var textContentExisting=el.getTextContent();textContentExisting?textContentExisting.attr(textContentOption):el.setTextContent(new Text(textContentOption))}else isReplace&&el.setTextContent(new Text(textContentOption));if(el){var clipPathOption=elOption.clipPath;if(clipPathOption){var clipPathType=clipPathOption.type,clipPath=void 0,isInit=!1;if(isMerge){var oldClipPath=el.getClipPath();clipPath=(isInit=!oldClipPath||GraphicView_inner(oldClipPath).type!==clipPathType)?GraphicView_newEl(clipPathType):oldClipPath}else isReplace&&(isInit=!0,clipPath=GraphicView_newEl(clipPathType));el.setClipPath(clipPath),applyUpdateTransition(clipPath,clipPathOption,graphicModel,{isInit:isInit}),applyKeyframeAnimation(clipPath,clipPathOption.keyframeAnimation,graphicModel)}var elInner=GraphicView_inner(el);el.setTextConfig(textConfig),elInner.option=elOption,function setEventData(el,graphicModel,elOption){var eventData=getECData(el).eventData;el.silent||el.ignore||eventData||(eventData=getECData(el).eventData={componentType:"graphic",componentIndex:graphicModel.componentIndex,name:el.name});eventData&&(eventData.info=elOption.info)}(el,graphicModel,elOption),setTooltipConfig({el:el,componentModel:graphicModel,itemName:el.name,itemTooltipOption:elOption.tooltip}),applyKeyframeAnimation(el,elOption.keyframeAnimation,graphicModel)}}))}},GraphicComponentView.prototype._relocate=function(graphicModel,api){for(var elOptions=graphicModel.option.elements,rootGroup=this.group,elMap=this._elMap,apiWidth=api.getWidth(),apiHeight=api.getHeight(),xy=["x","y"],i=0;i<elOptions.length;i++){if((el=null!=(id=convertOptionIdName((elOption=elOptions[i]).id,null))?elMap.get(id):null)&&el.isGroup){var isParentRoot=(parentEl=el.parent)===rootGroup,elInner=GraphicView_inner(el),parentElInner=GraphicView_inner(parentEl);elInner.width=number_parsePercent(elInner.option.width,isParentRoot?apiWidth:parentElInner.width)||0,elInner.height=number_parsePercent(elInner.option.height,isParentRoot?apiHeight:parentElInner.height)||0}}for(i=elOptions.length-1;i>=0;i--){var elOption,id,el;if(el=null!=(id=convertOptionIdName((elOption=elOptions[i]).id,null))?elMap.get(id):null){var parentEl=el.parent,layoutPos=(parentElInner=GraphicView_inner(parentEl),{}),layouted=positionElement(el,elOption,parentEl===rootGroup?{width:apiWidth,height:apiHeight}:{width:parentElInner.width,height:parentElInner.height},null,{hv:elOption.hv,boundingMode:elOption.bounding},layoutPos);if(!GraphicView_inner(el).isNew&&layouted){for(var transition=elOption.transition,animatePos={},k=0;k<xy.length;k++){var key=xy[k],val=layoutPos[key];transition&&(isTransitionAll(transition)||util.indexOf(transition,key)>=0)?animatePos[key]=val:el[key]=val}updateProps(el,animatePos,graphicModel,0)}else el.attr(layoutPos)}}},GraphicComponentView.prototype._clear=function(){var _this=this,elMap=this._elMap;elMap.each((function(el){removeEl(el,GraphicView_inner(el).option,elMap,_this._lastGraphicModel)})),this._elMap=util.createHashMap()},GraphicComponentView.prototype.dispose=function(){this._clear()},GraphicComponentView.type="graphic",GraphicComponentView}(view_Component);function GraphicView_newEl(graphicType){var el=new(util.hasOwn(nonShapeGraphicElements,graphicType)?nonShapeGraphicElements[graphicType]:getShapeClass(graphicType))({});return GraphicView_inner(el).type=graphicType,el}function GraphicView_createEl(id,targetElParent,graphicType,elMap){var el=GraphicView_newEl(graphicType);return targetElParent.add(el),elMap.set(id,el),GraphicView_inner(el).id=id,GraphicView_inner(el).isNew=!0,el}function removeEl(elExisting,elOption,elMap,graphicModel){elExisting&&elExisting.parent&&("group"===elExisting.type&&elExisting.traverse((function(el){removeEl(el,elOption,elMap,graphicModel)})),applyLeaveTransition(elExisting,elOption,graphicModel),elMap.removeKey(GraphicView_inner(elExisting).id))}function updateCommonAttrs(el,elOption,defaultZ,defaultZlevel){if(!el.isGroup){var elDisplayable=el;elDisplayable.cursor=util.retrieve2(elOption.cursor,graphic_Displayable.prototype.cursor),elDisplayable.z=util.retrieve2(elOption.z,defaultZ||0),elDisplayable.zlevel=util.retrieve2(elOption.zlevel,defaultZlevel||0);var optZ2=elOption.z2;null!=optZ2&&(elDisplayable.z2=optZ2||0)}util.each(util.keys(elOption),(function(key){var val=elOption[key];0===key.indexOf("on")&&util.isFunction(val)&&(el[key]=val)})),el.draggable=elOption.draggable,null!=elOption.name&&(el.name=elOption.name),null!=elOption.id&&(el.id=elOption.id)}var DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];function getAxisMainType(axisDim){return axisDim+"Axis"}function findEffectedDataZooms(ecModel,payload){var foundNewLink,axisRecords=Object(util.createHashMap)(),effectedModels=[],effectedModelMap=Object(util.createHashMap)();ecModel.eachComponent({mainType:"dataZoom",query:payload},(function(dataZoomModel){effectedModelMap.get(dataZoomModel.uid)||addToEffected(dataZoomModel)}));do{foundNewLink=!1,ecModel.eachComponent("dataZoom",processSingle)}while(foundNewLink);function processSingle(dataZoomModel){!effectedModelMap.get(dataZoomModel.uid)&&function isLinked(dataZoomModel){var isLink=!1;return dataZoomModel.eachTargetAxis((function(axisDim,axisIndex){var axisIdxArr=axisRecords.get(axisDim);axisIdxArr&&axisIdxArr[axisIndex]&&(isLink=!0)})),isLink}(dataZoomModel)&&(addToEffected(dataZoomModel),foundNewLink=!0)}function addToEffected(dataZoom){effectedModelMap.set(dataZoom.uid,!0),effectedModels.push(dataZoom),function markAxisControlled(dataZoomModel){dataZoomModel.eachTargetAxis((function(axisDim,axisIndex){(axisRecords.get(axisDim)||axisRecords.set(axisDim,[]))[axisIndex]=!0}))}(dataZoom)}return effectedModels}function collectReferCoordSysModelInfo(dataZoomModel){var ecModel=dataZoomModel.ecModel,coordSysInfoWrap={infoList:[],infoMap:Object(util.createHashMap)()};return dataZoomModel.eachTargetAxis((function(axisDim,axisIndex){var axisModel=ecModel.getComponent(getAxisMainType(axisDim),axisIndex);if(axisModel){var coordSysModel=axisModel.getCoordSysModel();if(coordSysModel){var coordSysUid=coordSysModel.uid,coordSysInfo=coordSysInfoWrap.infoMap.get(coordSysUid);coordSysInfo||(coordSysInfo={model:coordSysModel,axisModels:[]},coordSysInfoWrap.infoList.push(coordSysInfo),coordSysInfoWrap.infoMap.set(coordSysUid,coordSysInfo)),coordSysInfo.axisModels.push(axisModel)}}})),coordSysInfoWrap}var DataZoomAxisInfo=function(){function DataZoomAxisInfo(){this.indexList=[],this.indexMap=[]}return DataZoomAxisInfo.prototype.add=function(axisCmptIdx){this.indexMap[axisCmptIdx]||(this.indexList.push(axisCmptIdx),this.indexMap[axisCmptIdx]=!0)},DataZoomAxisInfo}(),DataZoomModel_DataZoomModel=function(_super){function DataZoomModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=DataZoomModel.type,_this._autoThrottle=!0,_this._noTarget=!0,_this._rangePropMode=["percent","percent"],_this}return __extends(DataZoomModel,_super),DataZoomModel.prototype.init=function(option,parentModel,ecModel){var inputRawOption=retrieveRawOption(option);this.settledOption=inputRawOption,this.mergeDefaultAndTheme(option,ecModel),this._doInit(inputRawOption)},DataZoomModel.prototype.mergeOption=function(newOption){var inputRawOption=retrieveRawOption(newOption);Object(util.merge)(this.option,newOption,!0),Object(util.merge)(this.settledOption,inputRawOption,!0),this._doInit(inputRawOption)},DataZoomModel.prototype._doInit=function(inputRawOption){var thisOption=this.option;this._setDefaultThrottle(inputRawOption),this._updateRangeUse(inputRawOption);var settledOption=this.settledOption;Object(util.each)([["start","startValue"],["end","endValue"]],(function(names,index){"value"===this._rangePropMode[index]&&(thisOption[names[0]]=settledOption[names[0]]=null)}),this),this._resetTarget()},DataZoomModel.prototype._resetTarget=function(){var optionOrient=this.get("orient",!0),targetAxisIndexMap=this._targetAxisInfoMap=Object(util.createHashMap)();this._fillSpecifiedTargetAxis(targetAxisIndexMap)?this._orient=optionOrient||this._makeAutoOrientByTargetAxis():(this._orient=optionOrient||"horizontal",this._fillAutoTargetAxisByOrient(targetAxisIndexMap,this._orient)),this._noTarget=!0,targetAxisIndexMap.each((function(axisInfo){axisInfo.indexList.length&&(this._noTarget=!1)}),this)},DataZoomModel.prototype._fillSpecifiedTargetAxis=function(targetAxisIndexMap){var hasAxisSpecified=!1;return Object(util.each)(DATA_ZOOM_AXIS_DIMENSIONS,(function(axisDim){var refering=this.getReferringComponents(getAxisMainType(axisDim),MULTIPLE_REFERRING);if(refering.specified){hasAxisSpecified=!0;var axisInfo=new DataZoomAxisInfo;Object(util.each)(refering.models,(function(axisModel){axisInfo.add(axisModel.componentIndex)})),targetAxisIndexMap.set(axisDim,axisInfo)}}),this),hasAxisSpecified},DataZoomModel.prototype._fillAutoTargetAxisByOrient=function(targetAxisIndexMap,orient){var ecModel=this.ecModel,needAuto=!0;if(needAuto){var axisDim="vertical"===orient?"y":"x";setParallelAxis(ecModel.findComponents({mainType:axisDim+"Axis"}),axisDim)}needAuto&&setParallelAxis(ecModel.findComponents({mainType:"singleAxis",filter:function(axisModel){return axisModel.get("orient",!0)===orient}}),"single");function setParallelAxis(axisModels,axisDim){var axisModel=axisModels[0];if(axisModel){var axisInfo=new DataZoomAxisInfo;if(axisInfo.add(axisModel.componentIndex),targetAxisIndexMap.set(axisDim,axisInfo),needAuto=!1,"x"===axisDim||"y"===axisDim){var gridModel_1=axisModel.getReferringComponents("grid",SINGLE_REFERRING).models[0];gridModel_1&&Object(util.each)(axisModels,(function(axModel){axisModel.componentIndex!==axModel.componentIndex&&gridModel_1===axModel.getReferringComponents("grid",SINGLE_REFERRING).models[0]&&axisInfo.add(axModel.componentIndex)}))}}}needAuto&&Object(util.each)(DATA_ZOOM_AXIS_DIMENSIONS,(function(axisDim){if(needAuto){var axisModels=ecModel.findComponents({mainType:getAxisMainType(axisDim),filter:function(axisModel){return"category"===axisModel.get("type",!0)}});if(axisModels[0]){var axisInfo=new DataZoomAxisInfo;axisInfo.add(axisModels[0].componentIndex),targetAxisIndexMap.set(axisDim,axisInfo),needAuto=!1}}}),this)},DataZoomModel.prototype._makeAutoOrientByTargetAxis=function(){var dim;return this.eachTargetAxis((function(axisDim){!dim&&(dim=axisDim)}),this),"y"===dim?"vertical":"horizontal"},DataZoomModel.prototype._setDefaultThrottle=function(inputRawOption){if(inputRawOption.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var globalOption=this.ecModel.option;this.option.throttle=globalOption.animation&&globalOption.animationDurationUpdate>0?100:20}},DataZoomModel.prototype._updateRangeUse=function(inputRawOption){var rangePropMode=this._rangePropMode,rangeModeInOption=this.get("rangeMode");Object(util.each)([["start","startValue"],["end","endValue"]],(function(names,index){var percentSpecified=null!=inputRawOption[names[0]],valueSpecified=null!=inputRawOption[names[1]];percentSpecified&&!valueSpecified?rangePropMode[index]="percent":!percentSpecified&&valueSpecified?rangePropMode[index]="value":rangeModeInOption?rangePropMode[index]=rangeModeInOption[index]:percentSpecified&&(rangePropMode[index]="percent")}))},DataZoomModel.prototype.noTarget=function(){return this._noTarget},DataZoomModel.prototype.getFirstTargetAxisModel=function(){var firstAxisModel;return this.eachTargetAxis((function(axisDim,axisIndex){null==firstAxisModel&&(firstAxisModel=this.ecModel.getComponent(getAxisMainType(axisDim),axisIndex))}),this),firstAxisModel},DataZoomModel.prototype.eachTargetAxis=function(callback,context){this._targetAxisInfoMap.each((function(axisInfo,axisDim){Object(util.each)(axisInfo.indexList,(function(axisIndex){callback.call(context,axisDim,axisIndex)}))}))},DataZoomModel.prototype.getAxisProxy=function(axisDim,axisIndex){var axisModel=this.getAxisModel(axisDim,axisIndex);if(axisModel)return axisModel.__dzAxisProxy},DataZoomModel.prototype.getAxisModel=function(axisDim,axisIndex){var axisInfo=this._targetAxisInfoMap.get(axisDim);if(axisInfo&&axisInfo.indexMap[axisIndex])return this.ecModel.getComponent(getAxisMainType(axisDim),axisIndex)},DataZoomModel.prototype.setRawRange=function(opt){var thisOption=this.option,settledOption=this.settledOption;Object(util.each)([["start","startValue"],["end","endValue"]],(function(names){null==opt[names[0]]&&null==opt[names[1]]||(thisOption[names[0]]=settledOption[names[0]]=opt[names[0]],thisOption[names[1]]=settledOption[names[1]]=opt[names[1]])}),this),this._updateRangeUse(opt)},DataZoomModel.prototype.setCalculatedRange=function(opt){var option=this.option;Object(util.each)(["start","startValue","end","endValue"],(function(name){option[name]=opt[name]}))},DataZoomModel.prototype.getPercentRange=function(){var axisProxy=this.findRepresentativeAxisProxy();if(axisProxy)return axisProxy.getDataPercentWindow()},DataZoomModel.prototype.getValueRange=function(axisDim,axisIndex){if(null!=axisDim||null!=axisIndex)return this.getAxisProxy(axisDim,axisIndex).getDataValueWindow();var axisProxy=this.findRepresentativeAxisProxy();return axisProxy?axisProxy.getDataValueWindow():void 0},DataZoomModel.prototype.findRepresentativeAxisProxy=function(axisModel){if(axisModel)return axisModel.__dzAxisProxy;for(var firstProxy,axisDimList=this._targetAxisInfoMap.keys(),i=0;i<axisDimList.length;i++)for(var axisDim=axisDimList[i],axisInfo=this._targetAxisInfoMap.get(axisDim),j=0;j<axisInfo.indexList.length;j++){var proxy=this.getAxisProxy(axisDim,axisInfo.indexList[j]);if(proxy.hostedBy(this))return proxy;firstProxy||(firstProxy=proxy)}return firstProxy},DataZoomModel.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},DataZoomModel.prototype.getOrient=function(){return this._orient},DataZoomModel.type="dataZoom",DataZoomModel.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],DataZoomModel.defaultOption={z:4,filterMode:"filter",start:0,end:100},DataZoomModel}(Component);function retrieveRawOption(option){var ret={};return Object(util.each)(["start","end","startValue","endValue","throttle"],(function(name){option.hasOwnProperty(name)&&(ret[name]=option[name])})),ret}var dataZoom_DataZoomModel=DataZoomModel_DataZoomModel,SelectZoomModel_SelectDataZoomModel=function(_super){function SelectDataZoomModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SelectDataZoomModel.type,_this}return __extends(SelectDataZoomModel,_super),SelectDataZoomModel.type="dataZoom.select",SelectDataZoomModel}(dataZoom_DataZoomModel),SelectZoomModel=SelectZoomModel_SelectDataZoomModel,DataZoomView_DataZoomView=function(_super){function DataZoomView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=DataZoomView.type,_this}return __extends(DataZoomView,_super),DataZoomView.prototype.render=function(dataZoomModel,ecModel,api,payload){this.dataZoomModel=dataZoomModel,this.ecModel=ecModel,this.api=api},DataZoomView.type="dataZoom",DataZoomView}(view_Component),dataZoom_DataZoomView=DataZoomView_DataZoomView,SelectZoomView_SelectDataZoomView=function(_super){function SelectDataZoomView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SelectDataZoomView.type,_this}return __extends(SelectDataZoomView,_super),SelectDataZoomView.type="dataZoom.select",SelectDataZoomView}(dataZoom_DataZoomView),SelectZoomView=SelectZoomView_SelectDataZoomView,AxisProxy_each=util.each,AxisProxy_asc=asc;var dataZoom_AxisProxy=function(){function AxisProxy(dimName,axisIndex,dataZoomModel,ecModel){this._dimName=dimName,this._axisIndex=axisIndex,this.ecModel=ecModel,this._dataZoomModel=dataZoomModel}return AxisProxy.prototype.hostedBy=function(dataZoomModel){return this._dataZoomModel===dataZoomModel},AxisProxy.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},AxisProxy.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},AxisProxy.prototype.getTargetSeriesModels=function(){var seriesModels=[];return this.ecModel.eachSeries((function(seriesModel){if(function isCoordSupported(seriesModel){var coordType=seriesModel.get("coordinateSystem");return Object(util.indexOf)(SERIES_COORDS,coordType)>=0}(seriesModel)){var axisMainType=getAxisMainType(this._dimName),axisModel=seriesModel.getReferringComponents(axisMainType,SINGLE_REFERRING).models[0];axisModel&&this._axisIndex===axisModel.componentIndex&&seriesModels.push(seriesModel)}}),this),seriesModels},AxisProxy.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},AxisProxy.prototype.getMinMaxSpan=function(){return util.clone(this._minMaxSpan)},AxisProxy.prototype.calculateDataWindow=function(opt){var hasPropModeValue,dataExtent=this._dataExtent,scale=this.getAxisModel().axis.scale,rangePropMode=this._dataZoomModel.getRangePropMode(),percentExtent=[0,100],percentWindow=[],valueWindow=[];AxisProxy_each(["start","end"],(function(prop,idx){var boundPercent=opt[prop],boundValue=opt[prop+"Value"];"percent"===rangePropMode[idx]?(null==boundPercent&&(boundPercent=percentExtent[idx]),boundValue=scale.parse(linearMap(boundPercent,percentExtent,dataExtent))):(hasPropModeValue=!0,boundPercent=linearMap(boundValue=null==boundValue?dataExtent[idx]:scale.parse(boundValue),dataExtent,percentExtent)),valueWindow[idx]=boundValue,percentWindow[idx]=boundPercent})),AxisProxy_asc(valueWindow),AxisProxy_asc(percentWindow);var spans=this._minMaxSpan;function restrictSet(fromWindow,toWindow,fromExtent,toExtent,toValue){var suffix=toValue?"Span":"ValueSpan";sliderMove(0,fromWindow,fromExtent,"all",spans["min"+suffix],spans["max"+suffix]);for(var i=0;i<2;i++)toWindow[i]=linearMap(fromWindow[i],fromExtent,toExtent,!0),toValue&&(toWindow[i]=scale.parse(toWindow[i]))}return hasPropModeValue?restrictSet(valueWindow,percentWindow,dataExtent,percentExtent,!1):restrictSet(percentWindow,valueWindow,percentExtent,dataExtent,!0),{valueWindow:valueWindow,percentWindow:percentWindow}},AxisProxy.prototype.reset=function(dataZoomModel){if(dataZoomModel===this._dataZoomModel){var targetSeries=this.getTargetSeriesModels();this._dataExtent=function calculateDataExtent(axisProxy,axisDim,seriesModels){var dataExtent=[1/0,-1/0];AxisProxy_each(seriesModels,(function(seriesModel){!function unionAxisExtentFromData(dataExtent,data,axisDim){data&&util.each(getDataDimensionsOnAxis(data,axisDim),(function(dim){var seriesExtent=data.getApproximateExtent(dim);seriesExtent[0]<dataExtent[0]&&(dataExtent[0]=seriesExtent[0]),seriesExtent[1]>dataExtent[1]&&(dataExtent[1]=seriesExtent[1])}))}(dataExtent,seriesModel.getData(),axisDim)}));var axisModel=axisProxy.getAxisModel(),rawExtentResult=ensureScaleRawExtentInfo(axisModel.axis.scale,axisModel,dataExtent).calculate();return[rawExtentResult.min,rawExtentResult.max]}(this,this._dimName,targetSeries),this._updateMinMaxSpan();var dataWindow=this.calculateDataWindow(dataZoomModel.settledOption);this._valueWindow=dataWindow.valueWindow,this._percentWindow=dataWindow.percentWindow,this._setAxisModel()}},AxisProxy.prototype.filterData=function(dataZoomModel,api){if(dataZoomModel===this._dataZoomModel){var axisDim=this._dimName,seriesModels=this.getTargetSeriesModels(),filterMode=dataZoomModel.get("filterMode"),valueWindow=this._valueWindow;"none"!==filterMode&&AxisProxy_each(seriesModels,(function(seriesModel){var seriesData=seriesModel.getData(),dataDims=seriesData.mapDimensionsAll(axisDim);if(dataDims.length){if("weakFilter"===filterMode){var store_1=seriesData.getStore(),dataDimIndices_1=util.map(dataDims,(function(dim){return seriesData.getDimensionIndex(dim)}),seriesData);seriesData.filterSelf((function(dataIndex){for(var leftOut,rightOut,hasValue,i=0;i<dataDims.length;i++){var value=store_1.get(dataDimIndices_1[i],dataIndex),thisHasValue=!isNaN(value),thisLeftOut=value<valueWindow[0],thisRightOut=value>valueWindow[1];if(thisHasValue&&!thisLeftOut&&!thisRightOut)return!0;thisHasValue&&(hasValue=!0),thisLeftOut&&(leftOut=!0),thisRightOut&&(rightOut=!0)}return hasValue&&leftOut&&rightOut}))}else AxisProxy_each(dataDims,(function(dim){if("empty"===filterMode)seriesModel.setData(seriesData=seriesData.map(dim,(function(value){return function isInWindow(value){return value>=valueWindow[0]&&value<=valueWindow[1]}(value)?value:NaN})));else{var range={};range[dim]=valueWindow,seriesData.selectRange(range)}}));AxisProxy_each(dataDims,(function(dim){seriesData.setApproximateExtent(valueWindow,dim)}))}}))}},AxisProxy.prototype._updateMinMaxSpan=function(){var minMaxSpan=this._minMaxSpan={},dataZoomModel=this._dataZoomModel,dataExtent=this._dataExtent;AxisProxy_each(["min","max"],(function(minMax){var percentSpan=dataZoomModel.get(minMax+"Span"),valueSpan=dataZoomModel.get(minMax+"ValueSpan");null!=valueSpan&&(valueSpan=this.getAxisModel().axis.scale.parse(valueSpan)),null!=valueSpan?percentSpan=linearMap(dataExtent[0]+valueSpan,dataExtent,[0,100],!0):null!=percentSpan&&(valueSpan=linearMap(percentSpan,[0,100],dataExtent,!0)-dataExtent[0]),minMaxSpan[minMax+"Span"]=percentSpan,minMaxSpan[minMax+"ValueSpan"]=valueSpan}),this)},AxisProxy.prototype._setAxisModel=function(){var axisModel=this.getAxisModel(),percentWindow=this._percentWindow,valueWindow=this._valueWindow;if(percentWindow){var precision=getPixelPrecision(valueWindow,[0,500]);precision=Math.min(precision,20);var rawExtentInfo=axisModel.axis.scale.rawExtentInfo;0!==percentWindow[0]&&rawExtentInfo.setDeterminedMinMax("min",+valueWindow[0].toFixed(precision)),100!==percentWindow[1]&&rawExtentInfo.setDeterminedMinMax("max",+valueWindow[1].toFixed(precision)),rawExtentInfo.freeze()}},AxisProxy}(),dataZoom_dataZoomProcessor={getTargetSeries:function(ecModel){function eachAxisModel(cb){ecModel.eachComponent("dataZoom",(function(dataZoomModel){dataZoomModel.eachTargetAxis((function(axisDim,axisIndex){var axisModel=ecModel.getComponent(getAxisMainType(axisDim),axisIndex);cb(axisDim,axisIndex,axisModel,dataZoomModel)}))}))}eachAxisModel((function(axisDim,axisIndex,axisModel,dataZoomModel){axisModel.__dzAxisProxy=null}));var proxyList=[];eachAxisModel((function(axisDim,axisIndex,axisModel,dataZoomModel){axisModel.__dzAxisProxy||(axisModel.__dzAxisProxy=new dataZoom_AxisProxy(axisDim,axisIndex,dataZoomModel,ecModel),proxyList.push(axisModel.__dzAxisProxy))}));var seriesModelMap=Object(util.createHashMap)();return Object(util.each)(proxyList,(function(axisProxy){Object(util.each)(axisProxy.getTargetSeriesModels(),(function(seriesModel){seriesModelMap.set(seriesModel.uid,seriesModel)}))})),seriesModelMap},overallReset:function(ecModel,api){ecModel.eachComponent("dataZoom",(function(dataZoomModel){dataZoomModel.eachTargetAxis((function(axisDim,axisIndex){dataZoomModel.getAxisProxy(axisDim,axisIndex).reset(dataZoomModel)})),dataZoomModel.eachTargetAxis((function(axisDim,axisIndex){dataZoomModel.getAxisProxy(axisDim,axisIndex).filterData(dataZoomModel,api)}))})),ecModel.eachComponent("dataZoom",(function(dataZoomModel){var axisProxy=dataZoomModel.findRepresentativeAxisProxy();if(axisProxy){var percentRange=axisProxy.getDataPercentWindow(),valueRange=axisProxy.getDataValueWindow();dataZoomModel.setCalculatedRange({start:percentRange[0],end:percentRange[1],startValue:valueRange[0],endValue:valueRange[1]})}}))}};var installed=!1;function installCommon(registers){installed||(installed=!0,registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER,dataZoom_dataZoomProcessor),function installDataZoomAction(registers){registers.registerAction("dataZoom",(function(payload,ecModel){var effectedModels=findEffectedDataZooms(ecModel,payload);Object(util.each)(effectedModels,(function(dataZoomModel){dataZoomModel.setRawRange({start:payload.start,end:payload.end,startValue:payload.startValue,endValue:payload.endValue})}))}))}(registers),registers.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function installDataZoomSelect_install(registers){registers.registerComponentModel(SelectZoomModel),registers.registerComponentView(SelectZoomView),installCommon(registers)}var ToolboxFeature=function ToolboxFeature(){},featureManager_features={};function registerFeature(name,ctor){featureManager_features[name]=ctor}function getFeature(name){return featureManager_features[name]}var ToolboxModel_ToolboxModel=function(_super){function ToolboxModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ToolboxModel.type,_this}return __extends(ToolboxModel,_super),ToolboxModel.prototype.optionUpdated=function(){_super.prototype.optionUpdated.apply(this,arguments);var ecModel=this.ecModel;util.each(this.option.feature,(function(featureOpt,featureName){var Feature=getFeature(featureName);Feature&&(Feature.getDefaultOption&&(Feature.defaultOption=Feature.getDefaultOption(ecModel)),util.merge(featureOpt,Feature.defaultOption))}))},ToolboxModel.type="toolbox",ToolboxModel.layoutMode={type:"box",ignoreSize:!0},ToolboxModel.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},ToolboxModel}(Component),toolbox_ToolboxModel=ToolboxModel_ToolboxModel;function makeBackground(rect,componentModel){var padding=normalizeCssArray(componentModel.get("padding")),style=componentModel.getItemStyle(["color","opacity"]);return style.fill=componentModel.get("backgroundColor"),rect=new shape_Rect({shape:{x:rect.x-padding[3],y:rect.y-padding[0],width:rect.width+padding[1]+padding[3],height:rect.height+padding[0]+padding[2],r:componentModel.get("borderRadius")},style:style,silent:!0,z2:-1})}var ToolboxView_ToolboxView=function(_super){function ToolboxView(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ToolboxView,_super),ToolboxView.prototype.render=function(toolboxModel,ecModel,api,payload){var group=this.group;if(group.removeAll(),toolboxModel.get("show")){var itemSize=+toolboxModel.get("itemSize"),isVertical="vertical"===toolboxModel.get("orient"),featureOpts=toolboxModel.get("feature")||{},features=this._features||(this._features={}),featureNames=[];util.each(featureOpts,(function(opt,name){featureNames.push(name)})),new data_DataDiffer(this._featureNames||[],featureNames).add(processFeature).update(processFeature).remove(util.curry(processFeature,null)).execute(),this._featureNames=featureNames,function listComponent_layout(group,componentModel,api){var boxLayoutParams=componentModel.getBoxLayoutParams(),padding=componentModel.get("padding"),viewportSize={width:api.getWidth(),height:api.getHeight()},rect=getLayoutRect(boxLayoutParams,viewportSize,padding);layout_box(componentModel.get("orient"),group,componentModel.get("itemGap"),rect.width,rect.height),positionElement(group,boxLayoutParams,viewportSize,padding)}(group,toolboxModel,api),group.add(makeBackground(group.getBoundingRect(),toolboxModel)),isVertical||group.eachChild((function(icon){var titleText=icon.__title,emphasisState=icon.ensureState("emphasis"),emphasisTextConfig=emphasisState.textConfig||(emphasisState.textConfig={}),textContent=icon.getTextContent(),emphasisTextState=textContent&&textContent.ensureState("emphasis");if(emphasisTextState&&!util.isFunction(emphasisTextState)&&titleText){var emphasisTextStyle=emphasisTextState.style||(emphasisTextState.style={}),rect=getBoundingRect(titleText,Text.makeFont(emphasisTextStyle)),offsetX=icon.x+group.x,needPutOnTop=!1;icon.y+group.y+itemSize+rect.height>api.getHeight()&&(emphasisTextConfig.position="top",needPutOnTop=!0);var topOffset=needPutOnTop?-5-rect.height:itemSize+10;offsetX+rect.width/2>api.getWidth()?(emphasisTextConfig.position=["100%",topOffset],emphasisTextStyle.align="right"):offsetX-rect.width/2<0&&(emphasisTextConfig.position=[0,topOffset],emphasisTextStyle.align="left")}}))}function processFeature(newIndex,oldIndex){var feature,featureName=featureNames[newIndex],oldName=featureNames[oldIndex],featureOpt=featureOpts[featureName],featureModel=new model_Model(featureOpt,toolboxModel,toolboxModel.ecModel);if(payload&&null!=payload.newTitle&&payload.featureName===featureName&&(featureOpt.title=payload.newTitle),featureName&&!oldName){if(function isUserFeatureName(featureName){return 0===featureName.indexOf("my")}(featureName))feature={onclick:featureModel.option.onclick,featureName:featureName};else{var Feature=getFeature(featureName);if(!Feature)return;feature=new Feature}features[featureName]=feature}else if(!(feature=features[oldName]))return;feature.uid=getUID("toolbox-feature"),feature.model=featureModel,feature.ecModel=ecModel,feature.api=api;var isToolboxFeature=feature instanceof ToolboxFeature;featureName||!oldName?!featureModel.get("show")||isToolboxFeature&&feature.unusable?isToolboxFeature&&feature.remove&&feature.remove(ecModel,api):(!function createIconPaths(featureModel,feature,featureName){var iconsMap,titlesMap,iconStyleModel=featureModel.getModel("iconStyle"),iconStyleEmphasisModel=featureModel.getModel(["emphasis","iconStyle"]),icons=feature instanceof ToolboxFeature&&feature.getIcons?feature.getIcons():featureModel.get("icon"),titles=featureModel.get("title")||{};util.isString(icons)?(iconsMap={})[featureName]=icons:iconsMap=icons;util.isString(titles)?(titlesMap={})[featureName]=titles:titlesMap=titles;var iconPaths=featureModel.iconPaths={};util.each(iconsMap,(function(iconStr,iconName){var path=createIcon(iconStr,{},{x:-itemSize/2,y:-itemSize/2,width:itemSize,height:itemSize});path.setStyle(iconStyleModel.getItemStyle()),path.ensureState("emphasis").style=iconStyleEmphasisModel.getItemStyle();var textContent=new Text({style:{text:titlesMap[iconName],align:iconStyleEmphasisModel.get("textAlign"),borderRadius:iconStyleEmphasisModel.get("textBorderRadius"),padding:iconStyleEmphasisModel.get("textPadding"),fill:null},ignore:!0});path.setTextContent(textContent),setTooltipConfig({el:path,componentModel:toolboxModel,itemName:iconName,formatterParamsExtra:{title:titlesMap[iconName]}}),path.__title=titlesMap[iconName],path.on("mouseover",(function(){var hoverStyle=iconStyleEmphasisModel.getItemStyle(),defaultTextPosition=isVertical?null==toolboxModel.get("right")&&"right"!==toolboxModel.get("left")?"right":"left":null==toolboxModel.get("bottom")&&"bottom"!==toolboxModel.get("top")?"bottom":"top";textContent.setStyle({fill:iconStyleEmphasisModel.get("textFill")||hoverStyle.fill||hoverStyle.stroke||"#000",backgroundColor:iconStyleEmphasisModel.get("textBackgroundColor")}),path.setTextConfig({position:iconStyleEmphasisModel.get("textPosition")||defaultTextPosition}),textContent.ignore=!toolboxModel.get("showTitle"),api.enterEmphasis(this)})).on("mouseout",(function(){"emphasis"!==featureModel.get(["iconStatus",iconName])&&api.leaveEmphasis(this),textContent.hide()})),("emphasis"===featureModel.get(["iconStatus",iconName])?enterEmphasis:leaveEmphasis)(path),group.add(path),path.on("click",util.bind(feature.onclick,feature,ecModel,api,iconName)),iconPaths[iconName]=path}))}(featureModel,feature,featureName),featureModel.setIconStatus=function(iconName,status){var option=this.option,iconPaths=this.iconPaths;option.iconStatus=option.iconStatus||{},option.iconStatus[iconName]=status,iconPaths[iconName]&&("emphasis"===status?enterEmphasis:leaveEmphasis)(iconPaths[iconName])},feature instanceof ToolboxFeature&&feature.render&&feature.render(featureModel,ecModel,api,payload)):isToolboxFeature&&feature.dispose&&feature.dispose(ecModel,api)}},ToolboxView.prototype.updateView=function(toolboxModel,ecModel,api,payload){util.each(this._features,(function(feature){feature instanceof ToolboxFeature&&feature.updateView&&feature.updateView(feature.model,ecModel,api,payload)}))},ToolboxView.prototype.remove=function(ecModel,api){util.each(this._features,(function(feature){feature instanceof ToolboxFeature&&feature.remove&&feature.remove(ecModel,api)})),this.group.removeAll()},ToolboxView.prototype.dispose=function(ecModel,api){util.each(this._features,(function(feature){feature instanceof ToolboxFeature&&feature.dispose&&feature.dispose(ecModel,api)}))},ToolboxView.type="toolbox",ToolboxView}(view_Component);var toolbox_ToolboxView=ToolboxView_ToolboxView,SaveAsImage_SaveAsImage=function(_super){function SaveAsImage(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SaveAsImage,_super),SaveAsImage.prototype.onclick=function(ecModel,api){var model=this.model,title=model.get("name")||ecModel.get("title.0.text")||"echarts",isSvg="svg"===api.getZr().painter.getType(),type=isSvg?"svg":model.get("type",!0)||"png",url=api.getConnectedDataURL({type:type,backgroundColor:model.get("backgroundColor",!0)||ecModel.get("backgroundColor")||"#fff",connectedBackgroundColor:model.get("connectedBackgroundColor"),excludeComponents:model.get("excludeComponents"),pixelRatio:model.get("pixelRatio")}),browser=env.a.browser;if(Object(util.isFunction)(MouseEvent)&&(browser.newEdge||!browser.ie&&!browser.edge)){var $a=document.createElement("a");$a.download=title+"."+type,$a.target="_blank",$a.href=url;var evt=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});$a.dispatchEvent(evt)}else if(window.navigator.msSaveOrOpenBlob||isSvg){var parts=url.split(","),base64Encoded=parts[0].indexOf("base64")>-1,bstr=isSvg?decodeURIComponent(parts[1]):parts[1];base64Encoded&&(bstr=window.atob(bstr));var filename=title+"."+type;if(window.navigator.msSaveOrOpenBlob){for(var n=bstr.length,u8arr=new Uint8Array(n);n--;)u8arr[n]=bstr.charCodeAt(n);var blob=new Blob([u8arr]);window.navigator.msSaveOrOpenBlob(blob,filename)}else{var frame=document.createElement("iframe");document.body.appendChild(frame);var cw=frame.contentWindow,doc=cw.document;doc.open("image/svg+xml","replace"),doc.write(bstr),doc.close(),cw.focus(),doc.execCommand("SaveAs",!0,filename),document.body.removeChild(frame)}}else{var lang=model.get("lang"),html='<body style="margin:0;"><img src="'+url+'" style="max-width:100%;" title="'+(lang&&lang[0]||"")+'" /></body>',tab=window.open();tab.document.write(html),tab.document.title=title}},SaveAsImage.getDefaultOption=function(ecModel){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:ecModel.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:ecModel.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},SaveAsImage}(ToolboxFeature),feature_SaveAsImage=SaveAsImage_SaveAsImage,radioTypes=[["line","bar"],["stack"]],MagicType_MagicType=function(_super){function MagicType(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(MagicType,_super),MagicType.prototype.getIcons=function(){var model=this.model,availableIcons=model.get("icon"),icons={};return util.each(model.get("type"),(function(type){availableIcons[type]&&(icons[type]=availableIcons[type])})),icons},MagicType.getDefaultOption=function(ecModel){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:ecModel.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},MagicType.prototype.onclick=function(ecModel,api,type){var model=this.model,seriesIndex=model.get(["seriesIndex",type]);if(seriesOptGenreator[type]){var newTitle,newOption={series:[]};util.each(radioTypes,(function(radio){util.indexOf(radio,type)>=0&&util.each(radio,(function(item){model.setIconStatus(item,"normal")}))})),model.setIconStatus(type,"emphasis"),ecModel.eachComponent({mainType:"series",query:null==seriesIndex?null:{seriesIndex:seriesIndex}},(function(seriesModel){var seriesType=seriesModel.subType,seriesId=seriesModel.id,newSeriesOpt=seriesOptGenreator[type](seriesType,seriesId,seriesModel,model);newSeriesOpt&&(util.defaults(newSeriesOpt,seriesModel.option),newOption.series.push(newSeriesOpt));var coordSys=seriesModel.coordinateSystem;if(coordSys&&"cartesian2d"===coordSys.type&&("line"===type||"bar"===type)){var categoryAxis=coordSys.getAxesByScale("ordinal")[0];if(categoryAxis){var axisType=categoryAxis.dim+"Axis",axisIndex=seriesModel.getReferringComponents(axisType,SINGLE_REFERRING).models[0].componentIndex;newOption[axisType]=newOption[axisType]||[];for(var i=0;i<=axisIndex;i++)newOption[axisType][axisIndex]=newOption[axisType][axisIndex]||{};newOption[axisType][axisIndex].boundaryGap="bar"===type}}}));var currentType=type;"stack"===type&&(newTitle=util.merge({stack:model.option.title.tiled,tiled:model.option.title.stack},model.option.title),"emphasis"!==model.get(["iconStatus",type])&&(currentType="tiled")),api.dispatchAction({type:"changeMagicType",currentType:currentType,newOption:newOption,newTitle:newTitle,featureName:"magicType"})}},MagicType}(ToolboxFeature),seriesOptGenreator={line:function(seriesType,seriesId,seriesModel,model){if("bar"===seriesType)return util.merge({id:seriesId,type:"line",data:seriesModel.get("data"),stack:seriesModel.get("stack"),markPoint:seriesModel.get("markPoint"),markLine:seriesModel.get("markLine")},model.get(["option","line"])||{},!0)},bar:function(seriesType,seriesId,seriesModel,model){if("line"===seriesType)return util.merge({id:seriesId,type:"bar",data:seriesModel.get("data"),stack:seriesModel.get("stack"),markPoint:seriesModel.get("markPoint"),markLine:seriesModel.get("markLine")},model.get(["option","bar"])||{},!0)},stack:function(seriesType,seriesId,seriesModel,model){var isStack="__ec_magicType_stack__"===seriesModel.get("stack");if("line"===seriesType||"bar"===seriesType)return model.setIconStatus("stack",isStack?"normal":"emphasis"),util.merge({id:seriesId,stack:isStack?"":"__ec_magicType_stack__"},model.get(["option","stack"])||{},!0)}};registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(payload,ecModel){ecModel.mergeOption(payload.newOption)}));var feature_MagicType=MagicType_MagicType,BLOCK_SPLITER=new Array(60).join("-");function trim(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var itemSplitRegex=new RegExp("[\t]+","g");function parseContents(str,blockMetaList){var blocks=str.split(new RegExp("\n*"+BLOCK_SPLITER+"\n*","g")),newOption={series:[]};return util.each(blocks,(function(block,idx){if(function isTSVFormat(block){if(block.slice(0,block.indexOf("\n")).indexOf("\t")>=0)return!0}(block)){var result=function parseTSVContents(tsv){for(var tsvLines=tsv.split(/\n+/g),headers=trim(tsvLines.shift()).split(itemSplitRegex),categories=[],series=util.map(headers,(function(header){return{name:header,data:[]}})),i=0;i<tsvLines.length;i++){var items=trim(tsvLines[i]).split(itemSplitRegex);categories.push(items.shift());for(var j=0;j<items.length;j++)series[j]&&(series[j].data[i]=items[j])}return{series:series,categories:categories}}(block),blockMeta=blockMetaList[idx],axisKey=blockMeta.axisDim+"Axis";blockMeta&&(newOption[axisKey]=newOption[axisKey]||[],newOption[axisKey][blockMeta.axisIndex]={data:result.categories},newOption.series=newOption.series.concat(result.series))}else{result=function parseListContents(str){for(var lines=str.split(/\n+/g),seriesName=trim(lines.shift()),data=[],i=0;i<lines.length;i++){var line=trim(lines[i]);if(line){var items=line.split(itemSplitRegex),name_1="",value=void 0,hasName=!1;isNaN(items[0])?(hasName=!0,name_1=items[0],items=items.slice(1),data[i]={name:name_1,value:[]},value=data[i].value):value=data[i]=[];for(var j=0;j<items.length;j++)value.push(+items[j]);1===value.length&&(hasName?data[i].value=value[0]:data[i]=value[0])}}return{name:seriesName,data:data}}(block);newOption.series.push(result)}})),newOption}var DataView_DataView=function(_super){function DataView(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(DataView,_super),DataView.prototype.onclick=function(ecModel,api){setTimeout((function(){api.dispatchAction({type:"hideTip"})}));var container=api.getDom(),model=this.model;this._dom&&container.removeChild(this._dom);var root=document.createElement("div");root.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",root.style.backgroundColor=model.get("backgroundColor")||"#fff";var header=document.createElement("h4"),lang=model.get("lang")||[];header.innerHTML=lang[0]||model.get("title"),header.style.cssText="margin:10px 20px",header.style.color=model.get("textColor");var viewMain=document.createElement("div"),textarea=document.createElement("textarea");viewMain.style.cssText="overflow:auto";var optionToContent=model.get("optionToContent"),contentToOption=model.get("contentToOption"),result=function getContentFromModel(ecModel){var series,groups,tables,result=function groupSeries(ecModel){var seriesGroupByCategoryAxis={},otherSeries=[],meta=[];return ecModel.eachRawSeries((function(seriesModel){var coordSys=seriesModel.coordinateSystem;if(!coordSys||"cartesian2d"!==coordSys.type&&"polar"!==coordSys.type)otherSeries.push(seriesModel);else{var baseAxis=coordSys.getBaseAxis();if("category"===baseAxis.type){var key=baseAxis.dim+"_"+baseAxis.index;seriesGroupByCategoryAxis[key]||(seriesGroupByCategoryAxis[key]={categoryAxis:baseAxis,valueAxis:coordSys.getOtherAxis(baseAxis),series:[]},meta.push({axisDim:baseAxis.dim,axisIndex:baseAxis.index})),seriesGroupByCategoryAxis[key].series.push(seriesModel)}else otherSeries.push(seriesModel)}})),{seriesGroupByCategoryAxis:seriesGroupByCategoryAxis,other:otherSeries,meta:meta}}(ecModel);return{value:util.filter([(groups=result.seriesGroupByCategoryAxis,tables=[],util.each(groups,(function(group,key){var categoryAxis=group.categoryAxis,valueAxisDim=group.valueAxis.dim,headers=[" "].concat(util.map(group.series,(function(series){return series.name}))),columns=[categoryAxis.model.getCategories()];util.each(group.series,(function(series){var rawData=series.getRawData();columns.push(series.getRawData().mapArray(rawData.mapDimension(valueAxisDim),(function(val){return val})))}));for(var lines=[headers.join("\t")],i=0;i<columns[0].length;i++){for(var items=[],j=0;j<columns.length;j++)items.push(columns[j][i]);lines.push(items.join("\t"))}tables.push(lines.join("\n"))})),tables.join("\n\n"+BLOCK_SPLITER+"\n\n")),(series=result.other,util.map(series,(function(series){var data=series.getRawData(),lines=[series.name],vals=[];return data.each(data.dimensions,(function(){for(var argLen=arguments.length,dataIndex=arguments[argLen-1],name=data.getName(dataIndex),i=0;i<argLen-1;i++)vals[i]=arguments[i];lines.push((name?name+"\t":"")+vals.join("\t"))})),lines.join("\n")})).join("\n\n"+BLOCK_SPLITER+"\n\n"))],(function(str){return!!str.replace(/[\n\t\s]/g,"")})).join("\n\n"+BLOCK_SPLITER+"\n\n"),meta:result.meta}}(ecModel);if(util.isFunction(optionToContent)){var htmlOrDom=optionToContent(api.getOption());util.isString(htmlOrDom)?viewMain.innerHTML=htmlOrDom:util.isDom(htmlOrDom)&&viewMain.appendChild(htmlOrDom)}else{textarea.readOnly=model.get("readOnly");var style=textarea.style;style.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",style.color=model.get("textColor"),style.borderColor=model.get("textareaBorderColor"),style.backgroundColor=model.get("textareaColor"),textarea.value=result.value,viewMain.appendChild(textarea)}var blockMetaList=result.meta,buttonContainer=document.createElement("div");buttonContainer.style.cssText="position:absolute;bottom:5px;left:0;right:0";var buttonStyle="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",closeButton=document.createElement("div"),refreshButton=document.createElement("div");buttonStyle+=";background-color:"+model.get("buttonColor"),buttonStyle+=";color:"+model.get("buttonTextColor");var self=this;function close(){container.removeChild(root),self._dom=null}addEventListener(closeButton,"click",close),addEventListener(refreshButton,"click",(function(){if(null==contentToOption&&null!=optionToContent||null!=contentToOption&&null==optionToContent)close();else{var newOption;try{newOption=util.isFunction(contentToOption)?contentToOption(viewMain,api.getOption()):parseContents(textarea.value,blockMetaList)}catch(e){throw close(),new Error("Data view format error "+e)}newOption&&api.dispatchAction({type:"changeDataView",newOption:newOption}),close()}})),closeButton.innerHTML=lang[1],refreshButton.innerHTML=lang[2],refreshButton.style.cssText=closeButton.style.cssText=buttonStyle,!model.get("readOnly")&&buttonContainer.appendChild(refreshButton),buttonContainer.appendChild(closeButton),root.appendChild(header),root.appendChild(viewMain),root.appendChild(buttonContainer),viewMain.style.height=container.clientHeight-80+"px",container.appendChild(root),this._dom=root},DataView.prototype.remove=function(ecModel,api){this._dom&&api.getDom().removeChild(this._dom)},DataView.prototype.dispose=function(ecModel,api){this.remove(ecModel,api)},DataView.getDefaultOption=function(ecModel){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:ecModel.getLocaleModel().get(["toolbox","dataView","title"]),lang:ecModel.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},DataView}(ToolboxFeature);function tryMergeDataOption(newData,originalData){return util.map(newData,(function(newVal,idx){var original=originalData&&originalData[idx];if(util.isObject(original)&&!util.isArray(original)){util.isObject(newVal)&&!util.isArray(newVal)||(newVal={value:newVal});var shouldDeleteName=null!=original.name&&null==newVal.name;return newVal=util.defaults(newVal,original),shouldDeleteName&&delete newVal.name,newVal}return newVal}))}registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(payload,ecModel){var newSeriesOptList=[];util.each(payload.newOption.series,(function(seriesOpt){var seriesModel=ecModel.getSeriesByName(seriesOpt.name)[0];if(seriesModel){var originalData=seriesModel.get("data");newSeriesOptList.push({name:seriesOpt.name,data:tryMergeDataOption(seriesOpt.data,originalData)})}else newSeriesOptList.push(util.extend({type:"scatter"},seriesOpt))})),ecModel.mergeOption(util.defaults({series:newSeriesOptList},payload.newOption))}));var feature_DataView=DataView_DataView,history_each=util.each,history_inner=makeInner();function getStoreSnapshots(ecModel){var store=history_inner(ecModel);return store.snapshots||(store.snapshots=[{}]),store.snapshots}var Restore_RestoreOption=function(_super){function RestoreOption(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(RestoreOption,_super),RestoreOption.prototype.onclick=function(ecModel,api){!function history_clear(ecModel){history_inner(ecModel).snapshots=null}(ecModel),api.dispatchAction({type:"restore",from:this.uid})},RestoreOption.getDefaultOption=function(ecModel){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:ecModel.getLocaleModel().get(["toolbox","restore","title"])}},RestoreOption}(ToolboxFeature);registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(payload,ecModel){ecModel.resetOption("recreate")}));var Restore=Restore_RestoreOption,INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager_BrushTargetManager=function(){function BrushTargetManager(finder,ecModel,opt){var _this=this;this._targetInfoList=[];var foundCpts=BrushTargetManager_parseFinder(ecModel,finder);Object(util.each)(targetInfoBuilders,(function(builder,type){(!opt||!opt.include||Object(util.indexOf)(opt.include,type)>=0)&&builder(foundCpts,_this._targetInfoList)}))}return BrushTargetManager.prototype.setOutputRanges=function(areas,ecModel){return this.matchOutputRanges(areas,ecModel,(function(area,coordRange,coordSys){if((area.coordRanges||(area.coordRanges=[])).push(coordRange),!area.coordRange){area.coordRange=coordRange;var result=coordConvert[area.brushType](0,coordSys,coordRange);area.__rangeOffset={offset:diffProcessor[area.brushType](result.values,area.range,[1,1]),xyMinMax:result.xyMinMax}}})),areas},BrushTargetManager.prototype.matchOutputRanges=function(areas,ecModel,cb){Object(util.each)(areas,(function(area){var targetInfo=this.findTargetInfo(area,ecModel);targetInfo&&!0!==targetInfo&&Object(util.each)(targetInfo.coordSyses,(function(coordSys){var result=coordConvert[area.brushType](1,coordSys,area.range,!0);cb(area,result.values,coordSys,ecModel)}))}),this)},BrushTargetManager.prototype.setInputRanges=function(areas,ecModel){Object(util.each)(areas,(function(area){var targetInfo=this.findTargetInfo(area,ecModel);if(area.range=area.range||[],targetInfo&&!0!==targetInfo){area.panelId=targetInfo.panelId;var result=coordConvert[area.brushType](0,targetInfo.coordSys,area.coordRange),rangeOffset=area.__rangeOffset;area.range=rangeOffset?diffProcessor[area.brushType](result.values,rangeOffset.offset,function getScales(xyMinMaxCurr,xyMinMaxOrigin){var sizeCurr=BrushTargetManager_getSize(xyMinMaxCurr),sizeOrigin=BrushTargetManager_getSize(xyMinMaxOrigin),scales=[sizeCurr[0]/sizeOrigin[0],sizeCurr[1]/sizeOrigin[1]];return isNaN(scales[0])&&(scales[0]=1),isNaN(scales[1])&&(scales[1]=1),scales}(result.xyMinMax,rangeOffset.xyMinMax)):result.values}}),this)},BrushTargetManager.prototype.makePanelOpts=function(api,getDefaultBrushType){return Object(util.map)(this._targetInfoList,(function(targetInfo){var rect=targetInfo.getPanelRect();return{panelId:targetInfo.panelId,defaultBrushType:getDefaultBrushType?getDefaultBrushType(targetInfo):null,clipPath:makeRectPanelClipPath(rect),isTargetByCursor:makeRectIsTargetByCursor(rect,api,targetInfo.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(rect)}}))},BrushTargetManager.prototype.controlSeries=function(area,seriesModel,ecModel){var targetInfo=this.findTargetInfo(area,ecModel);return!0===targetInfo||targetInfo&&Object(util.indexOf)(targetInfo.coordSyses,seriesModel.coordinateSystem)>=0},BrushTargetManager.prototype.findTargetInfo=function(area,ecModel){for(var targetInfoList=this._targetInfoList,foundCpts=BrushTargetManager_parseFinder(ecModel,area),i=0;i<targetInfoList.length;i++){var targetInfo=targetInfoList[i],areaPanelId=area.panelId;if(areaPanelId){if(targetInfo.panelId===areaPanelId)return targetInfo}else for(var j=0;j<targetInfoMatchers.length;j++)if(targetInfoMatchers[j](foundCpts,targetInfo))return targetInfo}return!0},BrushTargetManager}();function formatMinMax(minMax){return minMax[0]>minMax[1]&&minMax.reverse(),minMax}function BrushTargetManager_parseFinder(ecModel,finder){return parseFinder(ecModel,finder,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function(foundCpts,targetInfoList){var xAxisModels=foundCpts.xAxisModels,yAxisModels=foundCpts.yAxisModels,gridModels=foundCpts.gridModels,gridModelMap=Object(util.createHashMap)(),xAxesHas={},yAxesHas={};(xAxisModels||yAxisModels||gridModels)&&(Object(util.each)(xAxisModels,(function(axisModel){var gridModel=axisModel.axis.grid.model;gridModelMap.set(gridModel.id,gridModel),xAxesHas[gridModel.id]=!0})),Object(util.each)(yAxisModels,(function(axisModel){var gridModel=axisModel.axis.grid.model;gridModelMap.set(gridModel.id,gridModel),yAxesHas[gridModel.id]=!0})),Object(util.each)(gridModels,(function(gridModel){gridModelMap.set(gridModel.id,gridModel),xAxesHas[gridModel.id]=!0,yAxesHas[gridModel.id]=!0})),gridModelMap.each((function(gridModel){var grid=gridModel.coordinateSystem,cartesians=[];Object(util.each)(grid.getCartesians(),(function(cartesian,index){(Object(util.indexOf)(xAxisModels,cartesian.getAxis("x").model)>=0||Object(util.indexOf)(yAxisModels,cartesian.getAxis("y").model)>=0)&&cartesians.push(cartesian)})),targetInfoList.push({panelId:"grid--"+gridModel.id,gridModel:gridModel,coordSysModel:gridModel,coordSys:cartesians[0],coordSyses:cartesians,getPanelRect:panelRectBuilders.grid,xAxisDeclared:xAxesHas[gridModel.id],yAxisDeclared:yAxesHas[gridModel.id]})})))},geo:function(foundCpts,targetInfoList){Object(util.each)(foundCpts.geoModels,(function(geoModel){var coordSys=geoModel.coordinateSystem;targetInfoList.push({panelId:"geo--"+geoModel.id,geoModel:geoModel,coordSysModel:geoModel,coordSys:coordSys,coordSyses:[coordSys],getPanelRect:panelRectBuilders.geo})}))}},targetInfoMatchers=[function(foundCpts,targetInfo){var xAxisModel=foundCpts.xAxisModel,yAxisModel=foundCpts.yAxisModel,gridModel=foundCpts.gridModel;return!gridModel&&xAxisModel&&(gridModel=xAxisModel.axis.grid.model),!gridModel&&yAxisModel&&(gridModel=yAxisModel.axis.grid.model),gridModel&&gridModel===targetInfo.gridModel},function(foundCpts,targetInfo){var geoModel=foundCpts.geoModel;return geoModel&&geoModel===targetInfo.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var coordSys=this.coordSys,rect=coordSys.getBoundingRect().clone();return rect.applyTransform(getTransform(coordSys)),rect}},coordConvert={lineX:Object(util.curry)(axisConvert,0),lineY:Object(util.curry)(axisConvert,1),rect:function(to,coordSys,rangeOrCoordRange,clamp){var xminymin=to?coordSys.pointToData([rangeOrCoordRange[0][0],rangeOrCoordRange[1][0]],clamp):coordSys.dataToPoint([rangeOrCoordRange[0][0],rangeOrCoordRange[1][0]],clamp),xmaxymax=to?coordSys.pointToData([rangeOrCoordRange[0][1],rangeOrCoordRange[1][1]],clamp):coordSys.dataToPoint([rangeOrCoordRange[0][1],rangeOrCoordRange[1][1]],clamp),values=[formatMinMax([xminymin[0],xmaxymax[0]]),formatMinMax([xminymin[1],xmaxymax[1]])];return{values:values,xyMinMax:values}},polygon:function(to,coordSys,rangeOrCoordRange,clamp){var xyMinMax=[[1/0,-1/0],[1/0,-1/0]];return{values:Object(util.map)(rangeOrCoordRange,(function(item){var p=to?coordSys.pointToData(item,clamp):coordSys.dataToPoint(item,clamp);return xyMinMax[0][0]=Math.min(xyMinMax[0][0],p[0]),xyMinMax[1][0]=Math.min(xyMinMax[1][0],p[1]),xyMinMax[0][1]=Math.max(xyMinMax[0][1],p[0]),xyMinMax[1][1]=Math.max(xyMinMax[1][1],p[1]),p})),xyMinMax:xyMinMax}}};function axisConvert(axisNameIndex,to,coordSys,rangeOrCoordRange){var axis=coordSys.getAxis(["x","y"][axisNameIndex]),values=formatMinMax(Object(util.map)([0,1],(function(i){return to?axis.coordToData(axis.toLocalCoord(rangeOrCoordRange[i]),!0):axis.toGlobalCoord(axis.dataToCoord(rangeOrCoordRange[i]))}))),xyMinMax=[];return xyMinMax[axisNameIndex]=values,xyMinMax[1-axisNameIndex]=[NaN,NaN],{values:values,xyMinMax:xyMinMax}}var diffProcessor={lineX:Object(util.curry)(axisDiffProcessor,0),lineY:Object(util.curry)(axisDiffProcessor,1),rect:function(values,refer,scales){return[[values[0][0]-scales[0]*refer[0][0],values[0][1]-scales[0]*refer[0][1]],[values[1][0]-scales[1]*refer[1][0],values[1][1]-scales[1]*refer[1][1]]]},polygon:function(values,refer,scales){return Object(util.map)(values,(function(item,idx){return[item[0]-scales[0]*refer[idx][0],item[1]-scales[1]*refer[idx][1]]}))}};function axisDiffProcessor(axisNameIndex,values,refer,scales){return[values[0]-scales[axisNameIndex]*refer[0],values[1]-scales[axisNameIndex]*refer[1]]}function BrushTargetManager_getSize(xyMinMax){return xyMinMax?[xyMinMax[0][1]-xyMinMax[0][0],xyMinMax[1][1]-xyMinMax[1][0]]:[NaN,NaN]}var helper_BrushTargetManager=BrushTargetManager_BrushTargetManager,DataZoom_each=util.each,DATA_ZOOM_ID_BASE=function makeInternalComponentId(idSuffix){return"\0_ec_\0"+idSuffix}("toolbox-dataZoom_"),DataZoom_DataZoomFeature=function(_super){function DataZoomFeature(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(DataZoomFeature,_super),DataZoomFeature.prototype.render=function(featureModel,ecModel,api,payload){this._brushController||(this._brushController=new helper_BrushController(api.getZr()),this._brushController.on("brush",util.bind(this._onBrush,this)).mount()),function updateZoomBtnStatus(featureModel,ecModel,view,payload,api){var zoomActive=view._isZoomActive;payload&&"takeGlobalCursor"===payload.type&&(zoomActive="dataZoomSelect"===payload.key&&payload.dataZoomSelectActive);view._isZoomActive=zoomActive,featureModel.setIconStatus("zoom",zoomActive?"emphasis":"normal");var panels=new helper_BrushTargetManager(makeAxisFinder(featureModel),ecModel,{include:["grid"]}).makePanelOpts(api,(function(targetInfo){return targetInfo.xAxisDeclared&&!targetInfo.yAxisDeclared?"lineX":!targetInfo.xAxisDeclared&&targetInfo.yAxisDeclared?"lineY":"rect"}));view._brushController.setPanels(panels).enableBrush(!(!zoomActive||!panels.length)&&{brushType:"auto",brushStyle:featureModel.getModel("brushStyle").getItemStyle()})}(featureModel,ecModel,this,payload,api),function updateBackBtnStatus(featureModel,ecModel){featureModel.setIconStatus("back",function history_count(ecModel){return getStoreSnapshots(ecModel).length}(ecModel)>1?"emphasis":"normal")}(featureModel,ecModel)},DataZoomFeature.prototype.onclick=function(ecModel,api,type){DataZoom_handlers[type].call(this)},DataZoomFeature.prototype.remove=function(ecModel,api){this._brushController&&this._brushController.unmount()},DataZoomFeature.prototype.dispose=function(ecModel,api){this._brushController&&this._brushController.dispose()},DataZoomFeature.prototype._onBrush=function(eventParam){var areas=eventParam.areas;if(eventParam.isEnd&&areas.length){var snapshot={},ecModel=this.ecModel;this._brushController.updateCovers([]),new helper_BrushTargetManager(makeAxisFinder(this.model),ecModel,{include:["grid"]}).matchOutputRanges(areas,ecModel,(function(area,coordRange,coordSys){if("cartesian2d"===coordSys.type){var brushType=area.brushType;"rect"===brushType?(setBatch("x",coordSys,coordRange[0]),setBatch("y",coordSys,coordRange[1])):setBatch({lineX:"x",lineY:"y"}[brushType],coordSys,coordRange)}})),function push(ecModel,newSnapshot){var storedSnapshots=getStoreSnapshots(ecModel);history_each(newSnapshot,(function(batchItem,dataZoomId){for(var i=storedSnapshots.length-1;i>=0&&!storedSnapshots[i][dataZoomId];i--);if(i<0){var dataZoomModel=ecModel.queryComponents({mainType:"dataZoom",subType:"select",id:dataZoomId})[0];if(dataZoomModel){var percentRange=dataZoomModel.getPercentRange();storedSnapshots[0][dataZoomId]={dataZoomId:dataZoomId,start:percentRange[0],end:percentRange[1]}}}})),storedSnapshots.push(newSnapshot)}(ecModel,snapshot),this._dispatchZoomAction(snapshot)}function setBatch(dimName,coordSys,minMax){var axis=coordSys.getAxis(dimName),axisModel=axis.model,dataZoomModel=function findDataZoom(dimName,axisModel,ecModel){var found;return ecModel.eachComponent({mainType:"dataZoom",subType:"select"},(function(dzModel){dzModel.getAxisModel(dimName,axisModel.componentIndex)&&(found=dzModel)})),found}(dimName,axisModel,ecModel),minMaxSpan=dataZoomModel.findRepresentativeAxisProxy(axisModel).getMinMaxSpan();null==minMaxSpan.minValueSpan&&null==minMaxSpan.maxValueSpan||(minMax=sliderMove(0,minMax.slice(),axis.scale.getExtent(),0,minMaxSpan.minValueSpan,minMaxSpan.maxValueSpan)),dataZoomModel&&(snapshot[dataZoomModel.id]={dataZoomId:dataZoomModel.id,startValue:minMax[0],endValue:minMax[1]})}},DataZoomFeature.prototype._dispatchZoomAction=function(snapshot){var batch=[];DataZoom_each(snapshot,(function(batchItem,dataZoomId){batch.push(util.clone(batchItem))})),batch.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:batch})},DataZoomFeature.getDefaultOption=function(ecModel){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:ecModel.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},DataZoomFeature}(ToolboxFeature),DataZoom_handlers={zoom:function(){var nextActive=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:nextActive})},back:function(){this._dispatchZoomAction(function pop(ecModel){var storedSnapshots=getStoreSnapshots(ecModel),head=storedSnapshots[storedSnapshots.length-1];storedSnapshots.length>1&&storedSnapshots.pop();var snapshot={};return history_each(head,(function(batchItem,dataZoomId){for(var i=storedSnapshots.length-1;i>=0;i--)if(batchItem=storedSnapshots[i][dataZoomId]){snapshot[dataZoomId]=batchItem;break}})),snapshot}(this.ecModel))}};function makeAxisFinder(dzFeatureModel){var setting={xAxisIndex:dzFeatureModel.get("xAxisIndex",!0),yAxisIndex:dzFeatureModel.get("yAxisIndex",!0),xAxisId:dzFeatureModel.get("xAxisId",!0),yAxisId:dzFeatureModel.get("yAxisId",!0)};return null==setting.xAxisIndex&&null==setting.xAxisId&&(setting.xAxisIndex="all"),null==setting.yAxisIndex&&null==setting.yAxisId&&(setting.yAxisIndex="all"),setting}!function registerInternalOptionCreator(mainType,creator){Object(util.assert)(null==internalOptionCreatorMap.get(mainType)&&creator),internalOptionCreatorMap.set(mainType,creator)}("dataZoom",(function(ecModel){var toolboxModel=ecModel.getComponent("toolbox",0),featureDataZoomPath=["feature","dataZoom"];if(toolboxModel&&null!=toolboxModel.get(featureDataZoomPath)){var dzFeatureModel=toolboxModel.getModel(featureDataZoomPath),dzOptions=[],finderResult=parseFinder(ecModel,makeAxisFinder(dzFeatureModel));return DataZoom_each(finderResult.xAxisModels,(function(axisModel){return buildInternalOptions(axisModel,"xAxis","xAxisIndex")})),DataZoom_each(finderResult.yAxisModels,(function(axisModel){return buildInternalOptions(axisModel,"yAxis","yAxisIndex")})),dzOptions}function buildInternalOptions(axisModel,axisMainType,axisIndexPropName){var axisIndex=axisModel.componentIndex,newOpt={type:"select",$fromToolbox:!0,filterMode:dzFeatureModel.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE+axisMainType+axisIndex};newOpt[axisIndexPropName]=axisIndex,dzOptions.push(newOpt)}}));var DataZoom=DataZoom_DataZoomFeature;var TooltipModel_TooltipModel=function(_super){function TooltipModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TooltipModel.type,_this}return __extends(TooltipModel,_super),TooltipModel.type="tooltip",TooltipModel.dependencies=["axisPointer"],TooltipModel.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},TooltipModel}(Component),tooltip_TooltipModel=TooltipModel_TooltipModel;function shouldTooltipConfine(tooltipModel){var confineOption=tooltipModel.get("confine");return null!=confineOption?!!confineOption:"richText"===tooltipModel.get("renderMode")}function testStyle(styleProps){if(env.a.domSupported)for(var style=document.documentElement.style,i=0,len=styleProps.length;i<len;i++)if(styleProps[i]in style)return styleProps[i]}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function toCSSVendorPrefix(styleVendor,styleProp){if(!styleVendor)return styleProp;styleProp=toCamelCase(styleProp,!0);var idx=styleVendor.indexOf(styleProp);return(styleVendor=-1===idx?styleProp:"-"+styleVendor.slice(0,idx)+"-"+styleProp).toLowerCase()}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env.a.transform3dSupported?"will-change:transform;":"");function assembleTransform(x,y,toString){var x0=x.toFixed(0)+"px",y0=y.toFixed(0)+"px";if(!env.a.transformSupported)return toString?"top:"+y0+";left:"+x0+";":[["top",y0],["left",x0]];var is3d=env.a.transform3dSupported,translate="translate"+(is3d?"3d":"")+"("+x0+","+y0+(is3d?",0":"")+")";return toString?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+translate+";":[["top",0],["left",0],[TRANSFORM_VENDOR,translate]]}function assembleCssText(tooltipModel,enableTransition,onlyFade){var cssText=[],transitionDuration=tooltipModel.get("transitionDuration"),backgroundColor=tooltipModel.get("backgroundColor"),shadowBlur=tooltipModel.get("shadowBlur"),shadowColor=tooltipModel.get("shadowColor"),shadowOffsetX=tooltipModel.get("shadowOffsetX"),shadowOffsetY=tooltipModel.get("shadowOffsetY"),textStyleModel=tooltipModel.getModel("textStyle"),padding=getPaddingFromTooltipModel(tooltipModel,"html"),boxShadow=shadowOffsetX+"px "+shadowOffsetY+"px "+shadowBlur+"px "+shadowColor;return cssText.push("box-shadow:"+boxShadow),enableTransition&&transitionDuration&&cssText.push(function assembleTransition(duration,onlyFade){var transitionOption=" "+duration/2+"s cubic-bezier(0.23,1,0.32,1)",transitionText="opacity"+transitionOption+",visibility"+transitionOption;return onlyFade||(transitionOption=" "+duration+"s cubic-bezier(0.23,1,0.32,1)",transitionText+=env.a.transformSupported?","+CSS_TRANSFORM_VENDOR+transitionOption:",left"+transitionOption+",top"+transitionOption),CSS_TRANSITION_VENDOR+":"+transitionText}(transitionDuration,onlyFade)),backgroundColor&&cssText.push("background-color:"+backgroundColor),Object(util.each)(["width","color","radius"],(function(name){var borderName="border-"+name,camelCase=toCamelCase(borderName),val=tooltipModel.get(camelCase);null!=val&&cssText.push(borderName+":"+val+("color"===name?"":"px"))})),cssText.push(function assembleFont(textStyleModel){var cssText=[],fontSize=textStyleModel.get("fontSize"),color=textStyleModel.getTextColor();color&&cssText.push("color:"+color),cssText.push("font:"+textStyleModel.getFont()),fontSize&&cssText.push("line-height:"+Math.round(3*fontSize/2)+"px");var shadowColor=textStyleModel.get("textShadowColor"),shadowBlur=textStyleModel.get("textShadowBlur")||0,shadowOffsetX=textStyleModel.get("textShadowOffsetX")||0,shadowOffsetY=textStyleModel.get("textShadowOffsetY")||0;return shadowColor&&shadowBlur&&cssText.push("text-shadow:"+shadowOffsetX+"px "+shadowOffsetY+"px "+shadowBlur+"px "+shadowColor),Object(util.each)(["decoration","align"],(function(name){var val=textStyleModel.get(name);val&&cssText.push("text-"+name+":"+val)})),cssText.join(";")}(textStyleModel)),null!=padding&&cssText.push("padding:"+normalizeCssArray(padding).join("px ")+"px"),cssText.join(";")+";"}function makeStyleCoord(out,zr,appendToBody,zrX,zrY){var zrPainter=zr&&zr.painter;if(appendToBody){var zrViewportRoot=zrPainter&&zrPainter.getViewportRoot();zrViewportRoot&&function transformLocalCoord(out,elFrom,elTarget,inX,inY){return transformCoordWithViewport(_calcOut,elFrom,inX,inY,!0)&&transformCoordWithViewport(out,elTarget,_calcOut[0],_calcOut[1])}(out,zrViewportRoot,document.body,zrX,zrY)}else{out[0]=zrX,out[1]=zrY;var viewportRootOffset=zrPainter&&zrPainter.getViewportRootOffset();viewportRootOffset&&(out[0]+=viewportRootOffset.offsetLeft,out[1]+=viewportRootOffset.offsetTop)}out[2]=out[0]/zr.getWidth(),out[3]=out[1]/zr.getHeight()}var tooltip_TooltipHTMLContent=function(){function TooltipHTMLContent(container,api,opt){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,env.a.wxa)return null;var el=document.createElement("div");el.domBelongToZr=!0,this.el=el;var zr=this._zr=api.getZr(),appendToBody=this._appendToBody=opt&&opt.appendToBody;makeStyleCoord(this._styleCoord,zr,appendToBody,api.getWidth()/2,api.getHeight()/2),appendToBody?document.body.appendChild(el):container.appendChild(el),this._container=container;var self=this;el.onmouseenter=function(){self._enterable&&(clearTimeout(self._hideTimeout),self._show=!0),self._inContent=!0},el.onmousemove=function(e){if(e=e||window.event,!self._enterable){var handler=zr.handler;normalizeEvent(zr.painter.getViewportRoot(),e,!0),handler.dispatch("mousemove",e)}},el.onmouseleave=function(){self._inContent=!1,self._enterable&&self._show&&self.hideLater(self._hideDelay)}}return TooltipHTMLContent.prototype.update=function(tooltipModel){var container=this._container,position=function getComputedStyle(el,style){var stl=el.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(el);return stl?style?stl[style]:stl:null}(container,"position"),domStyle=container.style;"absolute"!==domStyle.position&&"absolute"!==position&&(domStyle.position="relative"),tooltipModel.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=tooltipModel.get("className")||""},TooltipHTMLContent.prototype.show=function(tooltipModel,nearPointColor){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var el=this.el,style=el.style,styleCoord=this._styleCoord;el.innerHTML?style.cssText=gCssText+assembleCssText(tooltipModel,!this._firstShow,this._longHide)+assembleTransform(styleCoord[0],styleCoord[1],!0)+"border-color:"+convertToColorString(nearPointColor)+";"+(tooltipModel.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):style.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},TooltipHTMLContent.prototype.setContent=function(content,markers,tooltipModel,borderColor,arrowPosition){var el=this.el;if(null!=content){var arrow="";if(Object(util.isString)(arrowPosition)&&"item"===tooltipModel.get("trigger")&&!shouldTooltipConfine(tooltipModel)&&(arrow=function assembleArrow(tooltipModel,borderColor,arrowPosition){if(!Object(util.isString)(arrowPosition)||"inside"===arrowPosition)return"";var backgroundColor=tooltipModel.get("backgroundColor"),borderWidth=tooltipModel.get("borderWidth");borderColor=convertToColorString(borderColor);var rotateDeg,arrowPos=function mirrorPos(pos){return"left"===pos?"right":"right"===pos?"left":"top"===pos?"bottom":"top"}(arrowPosition),arrowSize=Math.max(1.5*Math.round(borderWidth),6),positionStyle="",transformStyle=CSS_TRANSFORM_VENDOR+":";Object(util.indexOf)(["left","right"],arrowPos)>-1?(positionStyle+="top:50%",transformStyle+="translateY(-50%) rotate("+(rotateDeg="left"===arrowPos?-225:-45)+"deg)"):(positionStyle+="left:50%",transformStyle+="translateX(-50%) rotate("+(rotateDeg="top"===arrowPos?225:45)+"deg)");var rotateRadian=rotateDeg*Math.PI/180,arrowWH=arrowSize+borderWidth,rotatedWH=arrowWH*Math.abs(Math.cos(rotateRadian))+arrowWH*Math.abs(Math.sin(rotateRadian)),borderStyle=borderColor+" solid "+borderWidth+"px;";return'<div style="'+["position:absolute;width:"+arrowSize+"px;height:"+arrowSize+"px;",(positionStyle+=";"+arrowPos+":-"+Math.round(100*((rotatedWH-Math.SQRT2*borderWidth)/2+Math.SQRT2*borderWidth-(rotatedWH-arrowWH)/2))/100+"px")+";"+transformStyle+";","border-bottom:"+borderStyle,"border-right:"+borderStyle,"background-color:"+backgroundColor+";"].join("")+'"></div>'}(tooltipModel,borderColor,arrowPosition)),Object(util.isString)(content))el.innerHTML=content+arrow;else if(content){el.innerHTML="",Object(util.isArray)(content)||(content=[content]);for(var i=0;i<content.length;i++)Object(util.isDom)(content[i])&&content[i].parentNode!==el&&el.appendChild(content[i]);if(arrow&&el.childNodes.length){var arrowEl=document.createElement("div");arrowEl.innerHTML=arrow,el.appendChild(arrowEl)}}}else el.innerHTML=""},TooltipHTMLContent.prototype.setEnterable=function(enterable){this._enterable=enterable},TooltipHTMLContent.prototype.getSize=function(){var el=this.el;return[el.offsetWidth,el.offsetHeight]},TooltipHTMLContent.prototype.moveTo=function(zrX,zrY){var styleCoord=this._styleCoord;if(makeStyleCoord(styleCoord,this._zr,this._appendToBody,zrX,zrY),null!=styleCoord[0]&&null!=styleCoord[1]){var style_1=this.el.style,transforms=assembleTransform(styleCoord[0],styleCoord[1]);Object(util.each)(transforms,(function(transform){style_1[transform[0]]=transform[1]}))}},TooltipHTMLContent.prototype._moveIfResized=function(){var ratioX=this._styleCoord[2],ratioY=this._styleCoord[3];this.moveTo(ratioX*this._zr.getWidth(),ratioY*this._zr.getHeight())},TooltipHTMLContent.prototype.hide=function(){var _this=this,style=this.el.style;style.visibility="hidden",style.opacity="0",env.a.transform3dSupported&&(style.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return _this._longHide=!0}),500)},TooltipHTMLContent.prototype.hideLater=function(time){!this._show||this._inContent&&this._enterable||(time?(this._hideDelay=time,this._show=!1,this._hideTimeout=setTimeout(Object(util.bind)(this.hide,this),time)):this.hide())},TooltipHTMLContent.prototype.isShow=function(){return this._show},TooltipHTMLContent.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},TooltipHTMLContent}();function mathMaxWith0(val){return Math.max(0,val)}function calcShadowOuterSize(style){var shadowBlur=mathMaxWith0(style.shadowBlur||0),shadowOffsetX=mathMaxWith0(style.shadowOffsetX||0),shadowOffsetY=mathMaxWith0(style.shadowOffsetY||0);return{left:mathMaxWith0(shadowBlur-shadowOffsetX),right:mathMaxWith0(shadowBlur+shadowOffsetX),top:mathMaxWith0(shadowBlur-shadowOffsetY),bottom:mathMaxWith0(shadowBlur+shadowOffsetY)}}function TooltipRichContent_makeStyleCoord(out,zr,zrX,zrY){out[0]=zrX,out[1]=zrY,out[2]=out[0]/zr.getWidth(),out[3]=out[1]/zr.getHeight()}var tooltip_TooltipRichContent=function(){function TooltipRichContent(api){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=api.getZr(),TooltipRichContent_makeStyleCoord(this._styleCoord,this._zr,api.getWidth()/2,api.getHeight()/2)}return TooltipRichContent.prototype.update=function(tooltipModel){tooltipModel.get("alwaysShowContent")&&this._moveIfResized()},TooltipRichContent.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},TooltipRichContent.prototype.setContent=function(content,markupStyleCreator,tooltipModel,borderColor,arrowPosition){var _this=this;util.isObject(content)&&throwError(""),this.el&&this._zr.remove(this.el);var textStyleModel=tooltipModel.getModel("textStyle");this.el=new Text({style:{rich:markupStyleCreator.richTextStyles,text:content,lineHeight:22,borderWidth:1,borderColor:borderColor,textShadowColor:textStyleModel.get("textShadowColor"),fill:tooltipModel.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(tooltipModel,"richText"),verticalAlign:"top",align:"left"},z:tooltipModel.get("z")}),util.each(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(propName){_this.el.style[propName]=tooltipModel.get(propName)})),util.each(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(propName){_this.el.style[propName]=textStyleModel.get(propName)||0})),this._zr.add(this.el);var self=this;this.el.on("mouseover",(function(){self._enterable&&(clearTimeout(self._hideTimeout),self._show=!0),self._inContent=!0})),this.el.on("mouseout",(function(){self._enterable&&self._show&&self.hideLater(self._hideDelay),self._inContent=!1}))},TooltipRichContent.prototype.setEnterable=function(enterable){this._enterable=enterable},TooltipRichContent.prototype.getSize=function(){var el=this.el,bounding=this.el.getBoundingRect(),shadowOuterSize=calcShadowOuterSize(el.style);return[bounding.width+shadowOuterSize.left+shadowOuterSize.right,bounding.height+shadowOuterSize.top+shadowOuterSize.bottom]},TooltipRichContent.prototype.moveTo=function(x,y){var el=this.el;if(el){var styleCoord=this._styleCoord;TooltipRichContent_makeStyleCoord(styleCoord,this._zr,x,y),x=styleCoord[0],y=styleCoord[1];var style=el.style,borderWidth=mathMaxWith0(style.borderWidth||0),shadowOuterSize=calcShadowOuterSize(style);el.x=x+borderWidth+shadowOuterSize.left,el.y=y+borderWidth+shadowOuterSize.top,el.markRedraw()}},TooltipRichContent.prototype._moveIfResized=function(){var ratioX=this._styleCoord[2],ratioY=this._styleCoord[3];this.moveTo(ratioX*this._zr.getWidth(),ratioY*this._zr.getHeight())},TooltipRichContent.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},TooltipRichContent.prototype.hideLater=function(time){!this._show||this._inContent&&this._enterable||(time?(this._hideDelay=time,this._show=!1,this._hideTimeout=setTimeout(util.bind(this.hide,this),time)):this.hide())},TooltipRichContent.prototype.isShow=function(){return this._show},TooltipRichContent.prototype.dispose=function(){this._zr.remove(this.el)},TooltipRichContent}(),proxyRect=new shape_Rect({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView_TooltipView=function(_super){function TooltipView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TooltipView.type,_this}return __extends(TooltipView,_super),TooltipView.prototype.init=function(ecModel,api){if(!env.a.node&&api.getDom()){var tooltipModel=ecModel.getComponent("tooltip"),renderMode=this._renderMode=function getTooltipRenderMode(renderModeOption){return"auto"===renderModeOption?env.a.domSupported?"html":"richText":renderModeOption||"html"}(tooltipModel.get("renderMode"));this._tooltipContent="richText"===renderMode?new tooltip_TooltipRichContent(api):new tooltip_TooltipHTMLContent(api.getDom(),api,{appendToBody:tooltipModel.get("appendToBody",!0)})}},TooltipView.prototype.render=function(tooltipModel,ecModel,api){if(!env.a.node&&api.getDom()){this.group.removeAll(),this._tooltipModel=tooltipModel,this._ecModel=ecModel,this._api=api,this._alwaysShowContent=tooltipModel.get("alwaysShowContent");var tooltipContent=this._tooltipContent;tooltipContent.update(tooltipModel),tooltipContent.setEnterable(tooltipModel.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&tooltipModel.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear(this,"_updatePosition")}},TooltipView.prototype._initGlobalListener=function(){var triggerOn=this._tooltipModel.get("triggerOn");register("itemTooltip",this._api,Object(util.bind)((function(currTrigger,e,dispatchAction){"none"!==triggerOn&&(triggerOn.indexOf(currTrigger)>=0?this._tryShow(e,dispatchAction):"leave"===currTrigger&&this._hide(dispatchAction))}),this))},TooltipView.prototype._keepShow=function(){var tooltipModel=this._tooltipModel,ecModel=this._ecModel,api=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==tooltipModel.get("triggerOn")){var self_1=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!api.isDisposed()&&self_1.manuallyShowTip(tooltipModel,ecModel,api,{x:self_1._lastX,y:self_1._lastY,dataByCoordSys:self_1._lastDataByCoordSys})}))}},TooltipView.prototype.manuallyShowTip=function(tooltipModel,ecModel,api,payload){if(payload.from!==this.uid&&!env.a.node&&api.getDom()){var dispatchAction=TooltipView_makeDispatchAction(payload,api);this._ticket="";var dataByCoordSys=payload.dataByCoordSys,cmptRef=function findComponentReference(payload,ecModel,api){var queryOptionMap=preParseFinder(payload).queryOptionMap,componentMainType=queryOptionMap.keys()[0];if(!componentMainType||"series"===componentMainType)return;var el,model=queryReferringComponents(ecModel,componentMainType,queryOptionMap.get(componentMainType),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(!model)return;if(api.getViewOfComponentModel(model).group.traverse((function(subEl){var tooltipConfig=getECData(subEl).tooltipConfig;if(tooltipConfig&&tooltipConfig.name===payload.name)return el=subEl,!0})),el)return{componentMainType:componentMainType,componentIndex:model.componentIndex,el:el}}(payload,ecModel,api);if(cmptRef){var rect=cmptRef.el.getBoundingRect().clone();rect.applyTransform(cmptRef.el.transform),this._tryShow({offsetX:rect.x+rect.width/2,offsetY:rect.y+rect.height/2,target:cmptRef.el,position:payload.position,positionDefault:"bottom"},dispatchAction)}else if(payload.tooltip&&null!=payload.x&&null!=payload.y){var el=proxyRect;el.x=payload.x,el.y=payload.y,el.update(),getECData(el).tooltipConfig={name:null,option:payload.tooltip},this._tryShow({offsetX:payload.x,offsetY:payload.y,target:el},dispatchAction)}else if(dataByCoordSys)this._tryShow({offsetX:payload.x,offsetY:payload.y,position:payload.position,dataByCoordSys:dataByCoordSys,tooltipOption:payload.tooltipOption},dispatchAction);else if(null!=payload.seriesIndex){if(this._manuallyAxisShowTip(tooltipModel,ecModel,api,payload))return;var pointInfo=findPointFromSeries(payload,ecModel),cx=pointInfo.point[0],cy=pointInfo.point[1];null!=cx&&null!=cy&&this._tryShow({offsetX:cx,offsetY:cy,target:pointInfo.el,position:payload.position,positionDefault:"bottom"},dispatchAction)}else null!=payload.x&&null!=payload.y&&(api.dispatchAction({type:"updateAxisPointer",x:payload.x,y:payload.y}),this._tryShow({offsetX:payload.x,offsetY:payload.y,position:payload.position,target:api.getZr().findHover(payload.x,payload.y).target},dispatchAction))}},TooltipView.prototype.manuallyHideTip=function(tooltipModel,ecModel,api,payload){var tooltipContent=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,payload.from!==this.uid&&this._hide(TooltipView_makeDispatchAction(payload,api))},TooltipView.prototype._manuallyAxisShowTip=function(tooltipModel,ecModel,api,payload){var seriesIndex=payload.seriesIndex,dataIndex=payload.dataIndex,coordSysAxesInfo=ecModel.getComponent("axisPointer").coordSysAxesInfo;if(null!=seriesIndex&&null!=dataIndex&&null!=coordSysAxesInfo){var seriesModel=ecModel.getSeriesByIndex(seriesIndex);if(seriesModel)if("axis"===buildTooltipModel([seriesModel.getData().getItemModel(dataIndex),seriesModel,(seriesModel.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return api.dispatchAction({type:"updateAxisPointer",seriesIndex:seriesIndex,dataIndex:dataIndex,position:payload.position}),!0}},TooltipView.prototype._tryShow=function(e,dispatchAction){var el=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var dataByCoordSys=e.dataByCoordSys;if(dataByCoordSys&&dataByCoordSys.length)this._showAxisTooltip(dataByCoordSys,e);else if(el){var seriesDispatcher_1,cmptDispatcher_1;this._lastDataByCoordSys=null,findEventDispatcher(el,(function(target){return null!=getECData(target).dataIndex?(seriesDispatcher_1=target,!0):null!=getECData(target).tooltipConfig?(cmptDispatcher_1=target,!0):void 0}),!0),seriesDispatcher_1?this._showSeriesItemTooltip(e,seriesDispatcher_1,dispatchAction):cmptDispatcher_1?this._showComponentItemTooltip(e,cmptDispatcher_1,dispatchAction):this._hide(dispatchAction)}else this._lastDataByCoordSys=null,this._hide(dispatchAction)}},TooltipView.prototype._showOrMove=function(tooltipModel,cb){var delay=tooltipModel.get("showDelay");cb=Object(util.bind)(cb,this),clearTimeout(this._showTimout),delay>0?this._showTimout=setTimeout(cb,delay):cb()},TooltipView.prototype._showAxisTooltip=function(dataByCoordSys,e){var ecModel=this._ecModel,globalTooltipModel=this._tooltipModel,point=[e.offsetX,e.offsetY],singleTooltipModel=buildTooltipModel([e.tooltipOption],globalTooltipModel),renderMode=this._renderMode,cbParamsList=[],articleMarkup=createTooltipMarkup("section",{blocks:[],noHeader:!0}),markupTextArrLegacy=[],markupStyleCreator=new tooltipMarkup_TooltipMarkupStyleCreator;Object(util.each)(dataByCoordSys,(function(itemCoordSys){Object(util.each)(itemCoordSys.dataByAxis,(function(axisItem){var axisModel=ecModel.getComponent(axisItem.axisDim+"Axis",axisItem.axisIndex),axisValue=axisItem.value;if(axisModel&&null!=axisValue){var axisValueLabel=getValueLabel(axisValue,axisModel.axis,ecModel,axisItem.seriesDataIndices,axisItem.valueLabelOpt),axisSectionMarkup=createTooltipMarkup("section",{header:axisValueLabel,noHeader:!Object(util.trim)(axisValueLabel),sortBlocks:!0,blocks:[]});articleMarkup.blocks.push(axisSectionMarkup),Object(util.each)(axisItem.seriesDataIndices,(function(idxItem){var series=ecModel.getSeriesByIndex(idxItem.seriesIndex),dataIndex=idxItem.dataIndexInside,cbParams=series.getDataParams(dataIndex);if(!(cbParams.dataIndex<0)){cbParams.axisDim=axisItem.axisDim,cbParams.axisIndex=axisItem.axisIndex,cbParams.axisType=axisItem.axisType,cbParams.axisId=axisItem.axisId,cbParams.axisValue=getAxisRawValue(axisModel.axis,{value:axisValue}),cbParams.axisValueLabel=axisValueLabel,cbParams.marker=markupStyleCreator.makeTooltipMarker("item",convertToColorString(cbParams.color),renderMode);var seriesTooltipResult=normalizeTooltipFormatResult(series.formatTooltip(dataIndex,!0,null)),frag=seriesTooltipResult.frag;if(frag){var valueFormatter=buildTooltipModel([series],globalTooltipModel).get("valueFormatter");axisSectionMarkup.blocks.push(valueFormatter?Object(util.extend)({valueFormatter:valueFormatter},frag):frag)}seriesTooltipResult.text&&markupTextArrLegacy.push(seriesTooltipResult.text),cbParamsList.push(cbParams)}}))}}))})),articleMarkup.blocks.reverse(),markupTextArrLegacy.reverse();var positionExpr=e.position,orderMode=singleTooltipModel.get("order"),builtMarkupText=buildTooltipMarkup(articleMarkup,markupStyleCreator,renderMode,orderMode,ecModel.get("useUTC"),singleTooltipModel.get("textStyle"));builtMarkupText&&markupTextArrLegacy.unshift(builtMarkupText);var blockBreak="richText"===renderMode?"\n\n":"<br/>",allMarkupText=markupTextArrLegacy.join(blockBreak);this._showOrMove(singleTooltipModel,(function(){this._updateContentNotChangedOnAxis(dataByCoordSys,cbParamsList)?this._updatePosition(singleTooltipModel,positionExpr,point[0],point[1],this._tooltipContent,cbParamsList):this._showTooltipContent(singleTooltipModel,allMarkupText,cbParamsList,Math.random()+"",point[0],point[1],positionExpr,null,markupStyleCreator)}))},TooltipView.prototype._showSeriesItemTooltip=function(e,dispatcher,dispatchAction){var ecModel=this._ecModel,ecData=getECData(dispatcher),seriesIndex=ecData.seriesIndex,seriesModel=ecModel.getSeriesByIndex(seriesIndex),dataModel=ecData.dataModel||seriesModel,dataIndex=ecData.dataIndex,dataType=ecData.dataType,data=dataModel.getData(dataType),renderMode=this._renderMode,positionDefault=e.positionDefault,tooltipModel=buildTooltipModel([data.getItemModel(dataIndex),dataModel,seriesModel&&(seriesModel.coordinateSystem||{}).model],this._tooltipModel,positionDefault?{position:positionDefault}:null),tooltipTrigger=tooltipModel.get("trigger");if(null==tooltipTrigger||"item"===tooltipTrigger){var params=dataModel.getDataParams(dataIndex,dataType),markupStyleCreator=new tooltipMarkup_TooltipMarkupStyleCreator;params.marker=markupStyleCreator.makeTooltipMarker("item",convertToColorString(params.color),renderMode);var seriesTooltipResult=normalizeTooltipFormatResult(dataModel.formatTooltip(dataIndex,!1,dataType)),orderMode=tooltipModel.get("order"),valueFormatter=tooltipModel.get("valueFormatter"),frag=seriesTooltipResult.frag,markupText=frag?buildTooltipMarkup(valueFormatter?Object(util.extend)({valueFormatter:valueFormatter},frag):frag,markupStyleCreator,renderMode,orderMode,ecModel.get("useUTC"),tooltipModel.get("textStyle")):seriesTooltipResult.text,asyncTicket="item_"+dataModel.name+"_"+dataIndex;this._showOrMove(tooltipModel,(function(){this._showTooltipContent(tooltipModel,markupText,params,asyncTicket,e.offsetX,e.offsetY,e.position,e.target,markupStyleCreator)})),dispatchAction({type:"showTip",dataIndexInside:dataIndex,dataIndex:data.getRawIndex(dataIndex),seriesIndex:seriesIndex,from:this.uid})}},TooltipView.prototype._showComponentItemTooltip=function(e,el,dispatchAction){var ecData=getECData(el),tooltipOpt=ecData.tooltipConfig.option||{};if(Object(util.isString)(tooltipOpt)){tooltipOpt={content:tooltipOpt,formatter:tooltipOpt}}var tooltipModelCascade=[tooltipOpt],cmpt=this._ecModel.getComponent(ecData.componentMainType,ecData.componentIndex);cmpt&&tooltipModelCascade.push(cmpt),tooltipModelCascade.push({formatter:tooltipOpt.content});var positionDefault=e.positionDefault,subTooltipModel=buildTooltipModel(tooltipModelCascade,this._tooltipModel,positionDefault?{position:positionDefault}:null),defaultHtml=subTooltipModel.get("content"),asyncTicket=Math.random()+"",markupStyleCreator=new tooltipMarkup_TooltipMarkupStyleCreator;this._showOrMove(subTooltipModel,(function(){var formatterParams=Object(util.clone)(subTooltipModel.get("formatterParams")||{});this._showTooltipContent(subTooltipModel,defaultHtml,formatterParams,asyncTicket,e.offsetX,e.offsetY,e.position,el,markupStyleCreator)})),dispatchAction({type:"showTip",from:this.uid})},TooltipView.prototype._showTooltipContent=function(tooltipModel,defaultHtml,params,asyncTicket,x,y,positionExpr,el,markupStyleCreator){if(this._ticket="",tooltipModel.get("showContent")&&tooltipModel.get("show")){var tooltipContent=this._tooltipContent;tooltipContent.setEnterable(tooltipModel.get("enterable"));var formatter=tooltipModel.get("formatter");positionExpr=positionExpr||tooltipModel.get("position");var html=defaultHtml,nearPointColor=this._getNearestPoint([x,y],params,tooltipModel.get("trigger"),tooltipModel.get("borderColor")).color;if(formatter)if(Object(util.isString)(formatter)){var useUTC=tooltipModel.ecModel.get("useUTC"),params0=Object(util.isArray)(params)?params[0]:params;html=formatter,params0&&params0.axisType&&params0.axisType.indexOf("time")>=0&&(html=format(params0.axisValue,html,useUTC)),html=formatTpl(html,params,!0)}else if(Object(util.isFunction)(formatter)){var callback=Object(util.bind)((function(cbTicket,html){cbTicket===this._ticket&&(tooltipContent.setContent(html,markupStyleCreator,tooltipModel,nearPointColor,positionExpr),this._updatePosition(tooltipModel,positionExpr,x,y,tooltipContent,params,el))}),this);this._ticket=asyncTicket,html=formatter(params,asyncTicket,callback)}else html=formatter;tooltipContent.setContent(html,markupStyleCreator,tooltipModel,nearPointColor,positionExpr),tooltipContent.show(tooltipModel,nearPointColor),this._updatePosition(tooltipModel,positionExpr,x,y,tooltipContent,params,el)}},TooltipView.prototype._getNearestPoint=function(point,tooltipDataParams,trigger,borderColor){return"axis"===trigger||Object(util.isArray)(tooltipDataParams)?{color:borderColor||("html"===this._renderMode?"#fff":"none")}:Object(util.isArray)(tooltipDataParams)?void 0:{color:borderColor||tooltipDataParams.color||tooltipDataParams.borderColor}},TooltipView.prototype._updatePosition=function(tooltipModel,positionExpr,x,y,content,params,el){var viewWidth=this._api.getWidth(),viewHeight=this._api.getHeight();positionExpr=positionExpr||tooltipModel.get("position");var contentSize=content.getSize(),align=tooltipModel.get("align"),vAlign=tooltipModel.get("verticalAlign"),rect=el&&el.getBoundingRect().clone();if(el&&rect.applyTransform(el.transform),Object(util.isFunction)(positionExpr)&&(positionExpr=positionExpr([x,y],params,content.el,rect,{viewSize:[viewWidth,viewHeight],contentSize:contentSize.slice()})),Object(util.isArray)(positionExpr))x=number_parsePercent(positionExpr[0],viewWidth),y=number_parsePercent(positionExpr[1],viewHeight);else if(Object(util.isObject)(positionExpr)){var boxLayoutPosition=positionExpr;boxLayoutPosition.width=contentSize[0],boxLayoutPosition.height=contentSize[1];var layoutRect=getLayoutRect(boxLayoutPosition,{width:viewWidth,height:viewHeight});x=layoutRect.x,y=layoutRect.y,align=null,vAlign=null}else if(Object(util.isString)(positionExpr)&&el){var pos=function calcTooltipPosition(position,rect,contentSize,borderWidth){var domWidth=contentSize[0],domHeight=contentSize[1],offset=Math.ceil(Math.SQRT2*borderWidth)+8,x=0,y=0,rectWidth=rect.width,rectHeight=rect.height;switch(position){case"inside":x=rect.x+rectWidth/2-domWidth/2,y=rect.y+rectHeight/2-domHeight/2;break;case"top":x=rect.x+rectWidth/2-domWidth/2,y=rect.y-domHeight-offset;break;case"bottom":x=rect.x+rectWidth/2-domWidth/2,y=rect.y+rectHeight+offset;break;case"left":x=rect.x-domWidth-offset,y=rect.y+rectHeight/2-domHeight/2;break;case"right":x=rect.x+rectWidth+offset,y=rect.y+rectHeight/2-domHeight/2}return[x,y]}(positionExpr,rect,contentSize,tooltipModel.get("borderWidth"));x=pos[0],y=pos[1]}else{pos=function refixTooltipPosition(x,y,content,viewWidth,viewHeight,gapH,gapV){var size=content.getSize(),width=size[0],height=size[1];null!=gapH&&(x+width+gapH+2>viewWidth?x-=width+gapH:x+=gapH);null!=gapV&&(y+height+gapV>viewHeight?y-=height+gapV:y+=gapV);return[x,y]}(x,y,content,viewWidth,viewHeight,align?null:20,vAlign?null:20);x=pos[0],y=pos[1]}if(align&&(x-=isCenterAlign(align)?contentSize[0]/2:"right"===align?contentSize[0]:0),vAlign&&(y-=isCenterAlign(vAlign)?contentSize[1]/2:"bottom"===vAlign?contentSize[1]:0),shouldTooltipConfine(tooltipModel)){pos=function confineTooltipPosition(x,y,content,viewWidth,viewHeight){var size=content.getSize(),width=size[0],height=size[1];return x=Math.min(x+width,viewWidth)-width,y=Math.min(y+height,viewHeight)-height,x=Math.max(x,0),y=Math.max(y,0),[x,y]}(x,y,content,viewWidth,viewHeight);x=pos[0],y=pos[1]}content.moveTo(x,y)},TooltipView.prototype._updateContentNotChangedOnAxis=function(dataByCoordSys,cbParamsList){var lastCoordSys=this._lastDataByCoordSys,lastCbParamsList=this._cbParamsList,contentNotChanged=!!lastCoordSys&&lastCoordSys.length===dataByCoordSys.length;return contentNotChanged&&Object(util.each)(lastCoordSys,(function(lastItemCoordSys,indexCoordSys){var lastDataByAxis=lastItemCoordSys.dataByAxis||[],thisDataByAxis=(dataByCoordSys[indexCoordSys]||{}).dataByAxis||[];(contentNotChanged=contentNotChanged&&lastDataByAxis.length===thisDataByAxis.length)&&Object(util.each)(lastDataByAxis,(function(lastItem,indexAxis){var thisItem=thisDataByAxis[indexAxis]||{},lastIndices=lastItem.seriesDataIndices||[],newIndices=thisItem.seriesDataIndices||[];(contentNotChanged=contentNotChanged&&lastItem.value===thisItem.value&&lastItem.axisType===thisItem.axisType&&lastItem.axisId===thisItem.axisId&&lastIndices.length===newIndices.length)&&Object(util.each)(lastIndices,(function(lastIdxItem,j){var newIdxItem=newIndices[j];contentNotChanged=contentNotChanged&&lastIdxItem.seriesIndex===newIdxItem.seriesIndex&&lastIdxItem.dataIndex===newIdxItem.dataIndex})),lastCbParamsList&&Object(util.each)(lastItem.seriesDataIndices,(function(idxItem){var seriesIdx=idxItem.seriesIndex,cbParams=cbParamsList[seriesIdx],lastCbParams=lastCbParamsList[seriesIdx];cbParams&&lastCbParams&&lastCbParams.data!==cbParams.data&&(contentNotChanged=!1)}))}))})),this._lastDataByCoordSys=dataByCoordSys,this._cbParamsList=cbParamsList,!!contentNotChanged},TooltipView.prototype._hide=function(dispatchAction){this._lastDataByCoordSys=null,dispatchAction({type:"hideTip",from:this.uid})},TooltipView.prototype.dispose=function(ecModel,api){!env.a.node&&api.getDom()&&(clear(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",api))},TooltipView.type="tooltip",TooltipView}(view_Component);function buildTooltipModel(modelCascade,globalTooltipModel,defaultTooltipOption){var resultModel,ecModel=globalTooltipModel.ecModel;defaultTooltipOption?(resultModel=new model_Model(defaultTooltipOption,ecModel,ecModel),resultModel=new model_Model(globalTooltipModel.option,resultModel,ecModel)):resultModel=globalTooltipModel;for(var i=modelCascade.length-1;i>=0;i--){var tooltipOpt=modelCascade[i];tooltipOpt&&(tooltipOpt instanceof model_Model&&(tooltipOpt=tooltipOpt.get("tooltip",!0)),Object(util.isString)(tooltipOpt)&&(tooltipOpt={formatter:tooltipOpt}),tooltipOpt&&(resultModel=new model_Model(tooltipOpt,resultModel,ecModel)))}return resultModel}function TooltipView_makeDispatchAction(payload,api){return payload.dispatchAction||Object(util.bind)(api.dispatchAction,api)}function isCenterAlign(align){return"center"===align||"middle"===align}var tooltip_TooltipView=TooltipView_TooltipView;var DEFAULT_TOOLBOX_BTNS=["rect","polygon","keep","clear"];function brushPreprocessor(option,isNew){var brushComponents=normalizeToArray(option?option.brush:[]);if(brushComponents.length){var brushComponentSpecifiedBtns=[];util.each(brushComponents,(function(brushOpt){var tbs=brushOpt.hasOwnProperty("toolbox")?brushOpt.toolbox:[];tbs instanceof Array&&(brushComponentSpecifiedBtns=brushComponentSpecifiedBtns.concat(tbs))}));var toolbox=option&&option.toolbox;util.isArray(toolbox)&&(toolbox=toolbox[0]),toolbox||(toolbox={feature:{}},option.toolbox=[toolbox]);var toolboxFeature=toolbox.feature||(toolbox.feature={}),toolboxBrush=toolboxFeature.brush||(toolboxFeature.brush={}),brushTypes=toolboxBrush.type||(toolboxBrush.type=[]);brushTypes.push.apply(brushTypes,brushComponentSpecifiedBtns),function removeDuplicate(arr){var map={};util.each(arr,(function(val){map[val]=1})),arr.length=0,util.each(map,(function(flag,val){arr.push(val)}))}(brushTypes),isNew&&!brushTypes.length&&brushTypes.push.apply(brushTypes,DEFAULT_TOOLBOX_BTNS)}}var visualSolution_each=util.each;function hasKeys(obj){if(obj)for(var name_1 in obj)if(obj.hasOwnProperty(name_1))return!0}function createVisualMappings(option,stateList,supplementVisualOption){var visualMappings={};return visualSolution_each(stateList,(function(state){var mappings=visualMappings[state]=function createMappings(){var Creater=function(){};return Creater.prototype.__hidden=Creater.prototype,new Creater}();visualSolution_each(option[state],(function(visualData,visualType){if(visual_VisualMapping.isValidType(visualType)){var mappingOption={type:visualType,visual:visualData};supplementVisualOption&&supplementVisualOption(mappingOption,state),mappings[visualType]=new visual_VisualMapping(mappingOption),"opacity"===visualType&&((mappingOption=util.clone(mappingOption)).type="colorAlpha",mappings.__hidden.__alphaForOpacity=new visual_VisualMapping(mappingOption))}}))})),visualMappings}function replaceVisualOption(thisOption,newOption,keys){var has;util.each(keys,(function(key){newOption.hasOwnProperty(key)&&hasKeys(newOption[key])&&(has=!0)})),has&&util.each(keys,(function(key){newOption.hasOwnProperty(key)&&hasKeys(newOption[key])?thisOption[key]=util.clone(newOption[key]):delete thisOption[key]}))}var selector_selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(itemLayout,selectors,area){return itemLayout&&area.boundingRect.contain(itemLayout[0],itemLayout[1])},rect:function(itemLayout,selectors,area){return itemLayout&&area.boundingRect.intersect(itemLayout)}},polygon:{point:function(itemLayout,selectors,area){return itemLayout&&area.boundingRect.contain(itemLayout[0],itemLayout[1])&&polygon_contain(area.range,itemLayout[0],itemLayout[1])},rect:function(itemLayout,selectors,area){var points=area.range;if(!itemLayout||points.length<=1)return!1;var x=itemLayout.x,y=itemLayout.y,width=itemLayout.width,height=itemLayout.height,p=points[0];return!!(polygon_contain(points,x,y)||polygon_contain(points,x+width,y)||polygon_contain(points,x,y+height)||polygon_contain(points,x+width,y+height)||core_BoundingRect.create(itemLayout).contain(p[0],p[1])||linePolygonIntersect(x,y,x+width,y,points)||linePolygonIntersect(x,y,x,y+height,points)||linePolygonIntersect(x+width,y,x+width,y+height,points)||linePolygonIntersect(x,y+height,x+width,y+height,points))||void 0}}};function getLineSelectors(xyIndex){var xy=["x","y"],wh=["width","height"];return{point:function(itemLayout,selectors,area){if(itemLayout){var range=area.range;return inLineRange(itemLayout[xyIndex],range)}},rect:function(itemLayout,selectors,area){if(itemLayout){var range=area.range,layoutRange=[itemLayout[xy[xyIndex]],itemLayout[xy[xyIndex]]+itemLayout[wh[xyIndex]]];return layoutRange[1]<layoutRange[0]&&layoutRange.reverse(),inLineRange(layoutRange[0],range)||inLineRange(layoutRange[1],range)||inLineRange(range[0],layoutRange)||inLineRange(range[1],layoutRange)}}}}function inLineRange(p,range){return range[0]<=p&&p<=range[1]}var STATE_LIST=["inBrush","outOfBrush"],DISPATCH_FLAG="__ecInBrushSelectEvent";function layoutCovers(ecModel){ecModel.eachComponent({mainType:"brush"},(function(brushModel){(brushModel.brushTargetManager=new helper_BrushTargetManager(brushModel.option,ecModel)).setInputRanges(brushModel.areas,ecModel)}))}function brushVisual(ecModel,api,payload){var throttleType,throttleDelay,brushSelected=[];ecModel.eachComponent({mainType:"brush"},(function(brushModel){payload&&"takeGlobalCursor"===payload.type&&brushModel.setBrushOption("brush"===payload.key?payload.brushOption:{brushType:!1})})),layoutCovers(ecModel),ecModel.eachComponent({mainType:"brush"},(function(brushModel,brushIndex){var thisBrushSelected={brushId:brushModel.id,brushIndex:brushIndex,brushName:brushModel.name,areas:util.clone(brushModel.areas),selected:[]};brushSelected.push(thisBrushSelected);var brushOption=brushModel.option,brushLink=brushOption.brushLink,linkedSeriesMap=[],selectedDataIndexForLink=[],rangeInfoBySeries=[],hasBrushExists=!1;brushIndex||(throttleType=brushOption.throttleType,throttleDelay=brushOption.throttleDelay);var areas=util.map(brushModel.areas,(function(area){var builder=boundingRectBuilders[area.brushType],selectableArea=util.defaults({boundingRect:builder?builder(area):void 0},area);return selectableArea.selectors=function makeBrushCommonSelectorForSeries(area){var brushType=area.brushType,selectors={point:function(itemLayout){return selector_selector[brushType].point(itemLayout,selectors,area)},rect:function(itemLayout){return selector_selector[brushType].rect(itemLayout,selectors,area)}};return selectors}(selectableArea),selectableArea})),visualMappings=createVisualMappings(brushModel.option,STATE_LIST,(function(mappingOption){mappingOption.mappingMethod="fixed"}));function linkOthers(seriesIndex){return"all"===brushLink||!!linkedSeriesMap[seriesIndex]}function brushed(rangeInfoList){return!!rangeInfoList.length}util.isArray(brushLink)&&util.each(brushLink,(function(seriesIndex){linkedSeriesMap[seriesIndex]=1})),ecModel.eachSeries((function(seriesModel,seriesIndex){var rangeInfoList=rangeInfoBySeries[seriesIndex]=[];"parallel"===seriesModel.subType?function stepAParallel(seriesModel,seriesIndex){var coordSys=seriesModel.coordinateSystem;hasBrushExists=hasBrushExists||coordSys.hasAxisBrushed(),linkOthers(seriesIndex)&&coordSys.eachActiveState(seriesModel.getData(),(function(activeState,dataIndex){"active"===activeState&&(selectedDataIndexForLink[dataIndex]=1)}))}(seriesModel,seriesIndex):function stepAOthers(seriesModel,seriesIndex,rangeInfoList){if(!seriesModel.brushSelector||function brushModelNotControll(brushModel,seriesIndex){var seriesIndices=brushModel.option.seriesIndex;return null!=seriesIndices&&"all"!==seriesIndices&&(util.isArray(seriesIndices)?util.indexOf(seriesIndices,seriesIndex)<0:seriesIndex!==seriesIndices)}(brushModel,seriesIndex))return;if(util.each(areas,(function(area){brushModel.brushTargetManager.controlSeries(area,seriesModel,ecModel)&&rangeInfoList.push(area),hasBrushExists=hasBrushExists||brushed(rangeInfoList)})),linkOthers(seriesIndex)&&brushed(rangeInfoList)){var data_1=seriesModel.getData();data_1.each((function(dataIndex){checkInRange(seriesModel,rangeInfoList,data_1,dataIndex)&&(selectedDataIndexForLink[dataIndex]=1)}))}}(seriesModel,seriesIndex,rangeInfoList)})),ecModel.eachSeries((function(seriesModel,seriesIndex){var seriesBrushSelected={seriesId:seriesModel.id,seriesIndex:seriesIndex,seriesName:seriesModel.name,dataIndex:[]};thisBrushSelected.selected.push(seriesBrushSelected);var rangeInfoList=rangeInfoBySeries[seriesIndex],data=seriesModel.getData(),getValueState=linkOthers(seriesIndex)?function(dataIndex){return selectedDataIndexForLink[dataIndex]?(seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)),"inBrush"):"outOfBrush"}:function(dataIndex){return checkInRange(seriesModel,rangeInfoList,data,dataIndex)?(seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)),"inBrush"):"outOfBrush"};(linkOthers(seriesIndex)?hasBrushExists:brushed(rangeInfoList))&&function applyVisual(stateList,visualMappings,data,getValueState,scope,dimension){var dataIndex,visualTypesMap={};function getVisual(key){return getItemVisualFromData(data,dataIndex,key)}function setVisual(key,value){setItemVisualFromData(data,dataIndex,key,value)}function eachItem(valueOrIndex,index){dataIndex=null==dimension?valueOrIndex:index;var rawDataItem=data.getRawDataItem(dataIndex);if(!rawDataItem||!1!==rawDataItem.visualMap)for(var valueState=getValueState.call(scope,valueOrIndex),mappings=visualMappings[valueState],visualTypes=visualTypesMap[valueState],i=0,len=visualTypes.length;i<len;i++){var type=visualTypes[i];mappings[type]&&mappings[type].applyVisual(valueOrIndex,getVisual,setVisual)}}util.each(stateList,(function(state){var visualTypes=visual_VisualMapping.prepareVisualTypes(visualMappings[state]);visualTypesMap[state]=visualTypes})),null==dimension?data.each(eachItem):data.each([dimension],eachItem)}(STATE_LIST,visualMappings,data,getValueState)}))})),function visualEncoding_dispatchAction(api,throttleType,throttleDelay,brushSelected,payload){if(!payload)return;var zr=api.getZr();if(zr[DISPATCH_FLAG])return;zr.__ecBrushSelect||(zr.__ecBrushSelect=doDispatch);createOrUpdate(zr,"__ecBrushSelect",throttleDelay,throttleType)(api,brushSelected)}(api,throttleType,throttleDelay,brushSelected,payload)}function doDispatch(api,brushSelected){if(!api.isDisposed()){var zr=api.getZr();zr[DISPATCH_FLAG]=!0,api.dispatchAction({type:"brushSelect",batch:brushSelected}),zr[DISPATCH_FLAG]=!1}}function checkInRange(seriesModel,rangeInfoList,data,dataIndex){for(var i=0,len=rangeInfoList.length;i<len;i++){var area=rangeInfoList[i];if(seriesModel.brushSelector(dataIndex,data,area.selectors,area))return!0}}var boundingRectBuilders={rect:function(area){return getBoundingRectFromMinMax(area.range)},polygon:function(area){for(var minMax,range=area.range,i=0,len=range.length;i<len;i++){minMax=minMax||[[1/0,-1/0],[1/0,-1/0]];var rg=range[i];rg[0]<minMax[0][0]&&(minMax[0][0]=rg[0]),rg[0]>minMax[0][1]&&(minMax[0][1]=rg[0]),rg[1]<minMax[1][0]&&(minMax[1][0]=rg[1]),rg[1]>minMax[1][1]&&(minMax[1][1]=rg[1])}return minMax&&getBoundingRectFromMinMax(minMax)}};function getBoundingRectFromMinMax(minMax){return new core_BoundingRect(minMax[0][0],minMax[1][0],minMax[0][1]-minMax[0][0],minMax[1][1]-minMax[1][0])}var BrushView_BrushView=function(_super){function BrushView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=BrushView.type,_this}return __extends(BrushView,_super),BrushView.prototype.init=function(ecModel,api){this.ecModel=ecModel,this.api=api,this.model,(this._brushController=new helper_BrushController(api.getZr())).on("brush",util.bind(this._onBrush,this)).mount()},BrushView.prototype.render=function(brushModel,ecModel,api,payload){this.model=brushModel,this._updateController(brushModel,ecModel,api,payload)},BrushView.prototype.updateTransform=function(brushModel,ecModel,api,payload){layoutCovers(ecModel),this._updateController(brushModel,ecModel,api,payload)},BrushView.prototype.updateVisual=function(brushModel,ecModel,api,payload){this.updateTransform(brushModel,ecModel,api,payload)},BrushView.prototype.updateView=function(brushModel,ecModel,api,payload){this._updateController(brushModel,ecModel,api,payload)},BrushView.prototype._updateController=function(brushModel,ecModel,api,payload){(!payload||payload.$from!==brushModel.id)&&this._brushController.setPanels(brushModel.brushTargetManager.makePanelOpts(api)).enableBrush(brushModel.brushOption).updateCovers(brushModel.areas.slice())},BrushView.prototype.dispose=function(){this._brushController.dispose()},BrushView.prototype._onBrush=function(eventParam){var modelId=this.model.id,areas=this.model.brushTargetManager.setOutputRanges(eventParam.areas,this.ecModel);(!eventParam.isEnd||eventParam.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:modelId,areas:util.clone(areas),$from:modelId}),eventParam.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:modelId,areas:util.clone(areas),$from:modelId})},BrushView.type="brush",BrushView}(view_Component),brush_BrushView=BrushView_BrushView,BrushModel_BrushModel=function(_super){function BrushModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=BrushModel.type,_this.areas=[],_this.brushOption={},_this}return __extends(BrushModel,_super),BrushModel.prototype.optionUpdated=function(newOption,isInit){var thisOption=this.option;!isInit&&replaceVisualOption(thisOption,newOption,["inBrush","outOfBrush"]);var inBrush=thisOption.inBrush=thisOption.inBrush||{};thisOption.outOfBrush=thisOption.outOfBrush||{color:"#ddd"},inBrush.hasOwnProperty("liftZ")||(inBrush.liftZ=5)},BrushModel.prototype.setAreas=function(areas){areas&&(this.areas=util.map(areas,(function(area){return generateBrushOption(this.option,area)}),this))},BrushModel.prototype.setBrushOption=function(brushOption){this.brushOption=generateBrushOption(this.option,brushOption),this.brushType=this.brushOption.brushType},BrushModel.type="brush",BrushModel.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],BrushModel.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},BrushModel}(Component);function generateBrushOption(option,brushOption){return util.merge({brushType:option.brushType,brushMode:option.brushMode,transformable:option.transformable,brushStyle:new model_Model(option.brushStyle).getItemStyle(),removeOnClick:option.removeOnClick,z:option.z},brushOption,!0)}var brush_BrushModel=BrushModel_BrushModel,Brush_ICON_TYPES=["rect","polygon","lineX","lineY","keep","clear"],Brush_BrushFeature=function(_super){function BrushFeature(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(BrushFeature,_super),BrushFeature.prototype.render=function(featureModel,ecModel,api){var brushType,brushMode,isBrushed;ecModel.eachComponent({mainType:"brush"},(function(brushModel){brushType=brushModel.brushType,brushMode=brushModel.brushOption.brushMode||"single",isBrushed=isBrushed||!!brushModel.areas.length})),this._brushType=brushType,this._brushMode=brushMode,util.each(featureModel.get("type",!0),(function(type){featureModel.setIconStatus(type,("keep"===type?"multiple"===brushMode:"clear"===type?isBrushed:type===brushType)?"emphasis":"normal")}))},BrushFeature.prototype.updateView=function(featureModel,ecModel,api){this.render(featureModel,ecModel,api)},BrushFeature.prototype.getIcons=function(){var model=this.model,availableIcons=model.get("icon",!0),icons={};return util.each(model.get("type",!0),(function(type){availableIcons[type]&&(icons[type]=availableIcons[type])})),icons},BrushFeature.prototype.onclick=function(ecModel,api,type){var brushType=this._brushType,brushMode=this._brushMode;"clear"===type?(api.dispatchAction({type:"axisAreaSelect",intervals:[]}),api.dispatchAction({type:"brush",command:"clear",areas:[]})):api.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===type?brushType:brushType!==type&&type,brushMode:"keep"===type?"multiple"===brushMode?"single":"multiple":brushMode}})},BrushFeature.getDefaultOption=function(ecModel){return{show:!0,type:Brush_ICON_TYPES.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:ecModel.getLocaleModel().get(["toolbox","brush","title"])}},BrushFeature}(ToolboxFeature),Brush=Brush_BrushFeature;var install_TitleModel=function(_super){function TitleModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TitleModel.type,_this.layoutMode={type:"box",ignoreSize:!0},_this}return __extends(TitleModel,_super),TitleModel.type="title",TitleModel.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},TitleModel}(Component),install_TitleView=function(_super){function TitleView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TitleView.type,_this}return __extends(TitleView,_super),TitleView.prototype.render=function(titleModel,ecModel,api){if(this.group.removeAll(),titleModel.get("show")){var group=this.group,textStyleModel=titleModel.getModel("textStyle"),subtextStyleModel=titleModel.getModel("subtextStyle"),textAlign=titleModel.get("textAlign"),textVerticalAlign=util.retrieve2(titleModel.get("textBaseline"),titleModel.get("textVerticalAlign")),textEl=new Text({style:createTextStyle(textStyleModel,{text:titleModel.get("text"),fill:textStyleModel.getTextColor()},{disableBox:!0}),z2:10}),textRect=textEl.getBoundingRect(),subText=titleModel.get("subtext"),subTextEl=new Text({style:createTextStyle(subtextStyleModel,{text:subText,fill:subtextStyleModel.getTextColor(),y:textRect.height+titleModel.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),link=titleModel.get("link"),sublink=titleModel.get("sublink"),triggerEvent=titleModel.get("triggerEvent",!0);textEl.silent=!link&&!triggerEvent,subTextEl.silent=!sublink&&!triggerEvent,link&&textEl.on("click",(function(){windowOpen(link,"_"+titleModel.get("target"))})),sublink&&subTextEl.on("click",(function(){windowOpen(sublink,"_"+titleModel.get("subtarget"))})),getECData(textEl).eventData=getECData(subTextEl).eventData=triggerEvent?{componentType:"title",componentIndex:titleModel.componentIndex}:null,group.add(textEl),subText&&group.add(subTextEl);var groupRect=group.getBoundingRect(),layoutOption=titleModel.getBoxLayoutParams();layoutOption.width=groupRect.width,layoutOption.height=groupRect.height;var layoutRect=getLayoutRect(layoutOption,{width:api.getWidth(),height:api.getHeight()},titleModel.get("padding"));textAlign||("middle"===(textAlign=titleModel.get("left")||titleModel.get("right"))&&(textAlign="center"),"right"===textAlign?layoutRect.x+=layoutRect.width:"center"===textAlign&&(layoutRect.x+=layoutRect.width/2)),textVerticalAlign||("center"===(textVerticalAlign=titleModel.get("top")||titleModel.get("bottom"))&&(textVerticalAlign="middle"),"bottom"===textVerticalAlign?layoutRect.y+=layoutRect.height:"middle"===textVerticalAlign&&(layoutRect.y+=layoutRect.height/2),textVerticalAlign=textVerticalAlign||"top"),group.x=layoutRect.x,group.y=layoutRect.y,group.markRedraw();var alignStyle={align:textAlign,verticalAlign:textVerticalAlign};textEl.setStyle(alignStyle),subTextEl.setStyle(alignStyle),groupRect=group.getBoundingRect();var padding=layoutRect.margin,style=titleModel.getItemStyle(["color","opacity"]);style.fill=titleModel.get("backgroundColor");var rect=new shape_Rect({shape:{x:groupRect.x-padding[3],y:groupRect.y-padding[0],width:groupRect.width+padding[1]+padding[3],height:groupRect.height+padding[0]+padding[2],r:titleModel.get("borderRadius")},style:style,subPixelOptimize:!0,silent:!0});group.add(rect)}},TitleView.type="title",TitleView}(view_Component);var TimelineModel_TimelineModel=function(_super){function TimelineModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TimelineModel.type,_this.layoutMode="box",_this}return __extends(TimelineModel,_super),TimelineModel.prototype.init=function(option,parentModel,ecModel){this.mergeDefaultAndTheme(option,ecModel),this._initData()},TimelineModel.prototype.mergeOption=function(option){_super.prototype.mergeOption.apply(this,arguments),this._initData()},TimelineModel.prototype.setCurrentIndex=function(currentIndex){null==currentIndex&&(currentIndex=this.option.currentIndex);var count=this._data.count();this.option.loop?currentIndex=(currentIndex%count+count)%count:(currentIndex>=count&&(currentIndex=count-1),currentIndex<0&&(currentIndex=0)),this.option.currentIndex=currentIndex},TimelineModel.prototype.getCurrentIndex=function(){return this.option.currentIndex},TimelineModel.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},TimelineModel.prototype.setPlayState=function(state){this.option.autoPlay=!!state},TimelineModel.prototype.getPlayState=function(){return!!this.option.autoPlay},TimelineModel.prototype._initData=function(){var processedDataArr,thisOption=this.option,dataArr=thisOption.data||[],axisType=thisOption.axisType,names=this._names=[];"category"===axisType?(processedDataArr=[],Object(util.each)(dataArr,(function(item,index){var newItem,value=convertOptionIdName(getDataItemValue(item),"");Object(util.isObject)(item)?(newItem=Object(util.clone)(item)).value=index:newItem=index,processedDataArr.push(newItem),names.push(value)}))):processedDataArr=dataArr;var dimType={category:"ordinal",time:"time",value:"number"}[axisType]||"number";(this._data=new data_SeriesData([{name:"value",type:dimType}],this)).initData(processedDataArr,names)},TimelineModel.prototype.getData=function(){return this._data},TimelineModel.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},TimelineModel.type="timeline",TimelineModel.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},TimelineModel}(Component),timeline_TimelineModel=TimelineModel_TimelineModel,SliderTimelineModel_SliderTimelineModel=function(_super){function SliderTimelineModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SliderTimelineModel.type,_this}return __extends(SliderTimelineModel,_super),SliderTimelineModel.type="timeline.slider",SliderTimelineModel.defaultOption=inheritDefaultOption(timeline_TimelineModel.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),SliderTimelineModel}(timeline_TimelineModel);Object(util.mixin)(SliderTimelineModel_SliderTimelineModel,dataFormat_DataFormatMixin.prototype);var timeline_SliderTimelineModel=SliderTimelineModel_SliderTimelineModel,TimelineView_TimelineView=function(_super){function TimelineView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TimelineView.type,_this}return __extends(TimelineView,_super),TimelineView.type="timeline",TimelineView}(view_Component),timeline_TimelineView=TimelineView_TimelineView,timeline_TimelineAxis=function(_super){function TimelineAxis(dim,scale,coordExtent,axisType){var _this=_super.call(this,dim,scale,coordExtent)||this;return _this.type=axisType||"value",_this}return __extends(TimelineAxis,_super),TimelineAxis.prototype.getLabelModel=function(){return this.model.getModel("label")},TimelineAxis.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},TimelineAxis}(coord_Axis),SliderTimelineView_PI=Math.PI,labelDataIndexStore=makeInner(),SliderTimelineView_SliderTimelineView=function(_super){function SliderTimelineView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SliderTimelineView.type,_this}return __extends(SliderTimelineView,_super),SliderTimelineView.prototype.init=function(ecModel,api){this.api=api},SliderTimelineView.prototype.render=function(timelineModel,ecModel,api){if(this.model=timelineModel,this.api=api,this.ecModel=ecModel,this.group.removeAll(),timelineModel.get("show",!0)){var layoutInfo_1=this._layout(timelineModel,api),mainGroup_1=this._createGroup("_mainGroup"),labelGroup=this._createGroup("_labelGroup"),axis_1=this._axis=this._createAxis(layoutInfo_1,timelineModel);timelineModel.formatTooltip=function(dataIndex){return createTooltipMarkup("nameValue",{noName:!0,value:axis_1.scale.getLabel({value:dataIndex})})},Object(util.each)(["AxisLine","AxisTick","Control","CurrentPointer"],(function(name){this["_render"+name](layoutInfo_1,mainGroup_1,axis_1,timelineModel)}),this),this._renderAxisLabel(layoutInfo_1,labelGroup,axis_1,timelineModel),this._position(layoutInfo_1,timelineModel)}this._doPlayStop(),this._updateTicksStatus()},SliderTimelineView.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},SliderTimelineView.prototype.dispose=function(){this._clearTimer()},SliderTimelineView.prototype._layout=function(timelineModel,api){var parsedLabelPos,playPosition,prevBtnPosition,nextBtnPosition,labelPosOpt=timelineModel.get(["label","position"]),orient=timelineModel.get("orient"),viewRect=function SliderTimelineView_getViewRect(model,api){return getLayoutRect(model.getBoxLayoutParams(),{width:api.getWidth(),height:api.getHeight()},model.get("padding"))}(timelineModel,api),labelAlignMap={horizontal:"center",vertical:(parsedLabelPos=null==labelPosOpt||"auto"===labelPosOpt?"horizontal"===orient?viewRect.y+viewRect.height/2<api.getHeight()/2?"-":"+":viewRect.x+viewRect.width/2<api.getWidth()/2?"+":"-":Object(util.isString)(labelPosOpt)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[orient][labelPosOpt]:labelPosOpt)>=0||"+"===parsedLabelPos?"left":"right"},labelBaselineMap={horizontal:parsedLabelPos>=0||"+"===parsedLabelPos?"top":"bottom",vertical:"middle"},rotationMap={horizontal:0,vertical:SliderTimelineView_PI/2},mainLength="vertical"===orient?viewRect.height:viewRect.width,controlModel=timelineModel.getModel("controlStyle"),showControl=controlModel.get("show",!0),controlSize=showControl?controlModel.get("itemSize"):0,controlGap=showControl?controlModel.get("itemGap"):0,sizePlusGap=controlSize+controlGap,labelRotation=timelineModel.get(["label","rotate"])||0;labelRotation=labelRotation*SliderTimelineView_PI/180;var controlPosition=controlModel.get("position",!0),showPlayBtn=showControl&&controlModel.get("showPlayBtn",!0),showPrevBtn=showControl&&controlModel.get("showPrevBtn",!0),showNextBtn=showControl&&controlModel.get("showNextBtn",!0),xLeft=0,xRight=mainLength;"left"===controlPosition||"bottom"===controlPosition?(showPlayBtn&&(playPosition=[0,0],xLeft+=sizePlusGap),showPrevBtn&&(prevBtnPosition=[xLeft,0],xLeft+=sizePlusGap),showNextBtn&&(nextBtnPosition=[xRight-controlSize,0],xRight-=sizePlusGap)):(showPlayBtn&&(playPosition=[xRight-controlSize,0],xRight-=sizePlusGap),showPrevBtn&&(prevBtnPosition=[0,0],xLeft+=sizePlusGap),showNextBtn&&(nextBtnPosition=[xRight-controlSize,0],xRight-=sizePlusGap));var axisExtent=[xLeft,xRight];return timelineModel.get("inverse")&&axisExtent.reverse(),{viewRect:viewRect,mainLength:mainLength,orient:orient,rotation:rotationMap[orient],labelRotation:labelRotation,labelPosOpt:parsedLabelPos,labelAlign:timelineModel.get(["label","align"])||labelAlignMap[orient],labelBaseline:timelineModel.get(["label","verticalAlign"])||timelineModel.get(["label","baseline"])||labelBaselineMap[orient],playPosition:playPosition,prevBtnPosition:prevBtnPosition,nextBtnPosition:nextBtnPosition,axisExtent:axisExtent,controlSize:controlSize,controlGap:controlGap}},SliderTimelineView.prototype._position=function(layoutInfo,timelineModel){var mainGroup=this._mainGroup,labelGroup=this._labelGroup,viewRect=layoutInfo.viewRect;if("vertical"===layoutInfo.orient){var m=[1,0,0,1,0,0],rotateOriginX=viewRect.x,rotateOriginY=viewRect.y+viewRect.height;matrix_translate(m,m,[-rotateOriginX,-rotateOriginY]),matrix_rotate(m,m,-SliderTimelineView_PI/2),matrix_translate(m,m,[rotateOriginX,rotateOriginY]),(viewRect=viewRect.clone()).applyTransform(m)}var viewBound=getBound(viewRect),mainBound=getBound(mainGroup.getBoundingRect()),labelBound=getBound(labelGroup.getBoundingRect()),mainPosition=[mainGroup.x,mainGroup.y],labelsPosition=[labelGroup.x,labelGroup.y];labelsPosition[0]=mainPosition[0]=viewBound[0][0];var mainBoundIdx,labelPosOpt=layoutInfo.labelPosOpt;null==labelPosOpt||Object(util.isString)(labelPosOpt)?(toBound(mainPosition,mainBound,viewBound,1,mainBoundIdx="+"===labelPosOpt?0:1),toBound(labelsPosition,labelBound,viewBound,1,1-mainBoundIdx)):(toBound(mainPosition,mainBound,viewBound,1,mainBoundIdx=labelPosOpt>=0?0:1),labelsPosition[1]=mainPosition[1]+labelPosOpt);function setOrigin(targetGroup){targetGroup.originX=viewBound[0][0]-targetGroup.x,targetGroup.originY=viewBound[1][0]-targetGroup.y}function getBound(rect){return[[rect.x,rect.x+rect.width],[rect.y,rect.y+rect.height]]}function toBound(fromPos,from,to,dimIdx,boundIdx){fromPos[dimIdx]+=to[dimIdx][boundIdx]-from[dimIdx][boundIdx]}mainGroup.setPosition(mainPosition),labelGroup.setPosition(labelsPosition),mainGroup.rotation=labelGroup.rotation=layoutInfo.rotation,setOrigin(mainGroup),setOrigin(labelGroup)},SliderTimelineView.prototype._createAxis=function(layoutInfo,timelineModel){var data=timelineModel.getData(),axisType=timelineModel.get("axisType"),scale=function SliderTimelineView_createScaleByModel(model,axisType){if(axisType=axisType||model.get("type"))switch(axisType){case"category":return new Ordinal({ordinalMeta:model.getCategories(),extent:[1/0,-1/0]});case"time":return new Time({locale:model.ecModel.getLocaleModel(),useUTC:model.ecModel.get("useUTC")});default:return new Interval}}(timelineModel,axisType);scale.getTicks=function(){return data.mapArray(["value"],(function(value){return{value:value}}))};var dataExtent=data.getDataExtent("value");scale.setExtent(dataExtent[0],dataExtent[1]),scale.calcNiceTicks();var axis=new timeline_TimelineAxis("value",scale,layoutInfo.axisExtent,axisType);return axis.model=timelineModel,axis},SliderTimelineView.prototype._createGroup=function(key){var newGroup=this[key]=new graphic_Group;return this.group.add(newGroup),newGroup},SliderTimelineView.prototype._renderAxisLine=function(layoutInfo,group,axis,timelineModel){var axisExtent=axis.getExtent();if(timelineModel.get(["lineStyle","show"])){var line=new shape_Line({shape:{x1:axisExtent[0],y1:0,x2:axisExtent[1],y2:0},style:Object(util.extend)({lineCap:"round"},timelineModel.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});group.add(line);var progressLine=this._progressLine=new shape_Line({shape:{x1:axisExtent[0],x2:this._currentPointer?this._currentPointer.x:axisExtent[0],y1:0,y2:0},style:Object(util.defaults)({lineCap:"round",lineWidth:line.style.lineWidth},timelineModel.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});group.add(progressLine)}},SliderTimelineView.prototype._renderAxisTick=function(layoutInfo,group,axis,timelineModel){var _this=this,data=timelineModel.getData(),ticks=axis.scale.getTicks();this._tickSymbols=[],Object(util.each)(ticks,(function(tick){var tickCoord=axis.dataToCoord(tick.value),itemModel=data.getItemModel(tick.value),itemStyleModel=itemModel.getModel("itemStyle"),hoverStyleModel=itemModel.getModel(["emphasis","itemStyle"]),progressStyleModel=itemModel.getModel(["progress","itemStyle"]),symbolOpt={x:tickCoord,y:0,onclick:Object(util.bind)(_this._changeTimeline,_this,tick.value)},el=giveSymbol(itemModel,itemStyleModel,group,symbolOpt);el.ensureState("emphasis").style=hoverStyleModel.getItemStyle(),el.ensureState("progress").style=progressStyleModel.getItemStyle(),enableHoverEmphasis(el);var ecData=getECData(el);itemModel.get("tooltip")?(ecData.dataIndex=tick.value,ecData.dataModel=timelineModel):ecData.dataIndex=ecData.dataModel=null,_this._tickSymbols.push(el)}))},SliderTimelineView.prototype._renderAxisLabel=function(layoutInfo,group,axis,timelineModel){var _this=this;if(axis.getLabelModel().get("show")){var data=timelineModel.getData(),labels=axis.getViewLabels();this._tickLabels=[],Object(util.each)(labels,(function(labelItem){var dataIndex=labelItem.tickValue,itemModel=data.getItemModel(dataIndex),normalLabelModel=itemModel.getModel("label"),hoverLabelModel=itemModel.getModel(["emphasis","label"]),progressLabelModel=itemModel.getModel(["progress","label"]),tickCoord=axis.dataToCoord(labelItem.tickValue),textEl=new Text({x:tickCoord,y:0,rotation:layoutInfo.labelRotation-layoutInfo.rotation,onclick:Object(util.bind)(_this._changeTimeline,_this,dataIndex),silent:!1,style:createTextStyle(normalLabelModel,{text:labelItem.formattedLabel,align:layoutInfo.labelAlign,verticalAlign:layoutInfo.labelBaseline})});textEl.ensureState("emphasis").style=createTextStyle(hoverLabelModel),textEl.ensureState("progress").style=createTextStyle(progressLabelModel),group.add(textEl),enableHoverEmphasis(textEl),labelDataIndexStore(textEl).dataIndex=dataIndex,_this._tickLabels.push(textEl)}))}},SliderTimelineView.prototype._renderControl=function(layoutInfo,group,axis,timelineModel){var controlSize=layoutInfo.controlSize,rotation=layoutInfo.rotation,itemStyle=timelineModel.getModel("controlStyle").getItemStyle(),hoverStyle=timelineModel.getModel(["emphasis","controlStyle"]).getItemStyle(),playState=timelineModel.getPlayState(),inverse=timelineModel.get("inverse",!0);function makeBtn(position,iconName,onclick,willRotate){if(position){var iconSize=parsePercent(Object(util.retrieve2)(timelineModel.get(["controlStyle",iconName+"BtnSize"]),controlSize),controlSize),btn=function makeControlIcon(timelineModel,objPath,rect,opts){var style=opts.style,icon=createIcon(timelineModel.get(["controlStyle",objPath]),opts||{},new core_BoundingRect(rect[0],rect[1],rect[2],rect[3]));style&&icon.setStyle(style);return icon}(timelineModel,iconName+"Icon",[0,-iconSize/2,iconSize,iconSize],{x:position[0],y:position[1],originX:controlSize/2,originY:0,rotation:willRotate?-rotation:0,rectHover:!0,style:itemStyle,onclick:onclick});btn.ensureState("emphasis").style=hoverStyle,group.add(btn),enableHoverEmphasis(btn)}}makeBtn(layoutInfo.nextBtnPosition,"next",Object(util.bind)(this._changeTimeline,this,inverse?"-":"+")),makeBtn(layoutInfo.prevBtnPosition,"prev",Object(util.bind)(this._changeTimeline,this,inverse?"+":"-")),makeBtn(layoutInfo.playPosition,playState?"stop":"play",Object(util.bind)(this._handlePlayClick,this,!playState),!0)},SliderTimelineView.prototype._renderCurrentPointer=function(layoutInfo,group,axis,timelineModel){var data=timelineModel.getData(),currentIndex=timelineModel.getCurrentIndex(),pointerModel=data.getItemModel(currentIndex).getModel("checkpointStyle"),me=this,callback={onCreate:function(pointer){pointer.draggable=!0,pointer.drift=Object(util.bind)(me._handlePointerDrag,me),pointer.ondragend=Object(util.bind)(me._handlePointerDragend,me),pointerMoveTo(pointer,me._progressLine,currentIndex,axis,timelineModel,!0)},onUpdate:function(pointer){pointerMoveTo(pointer,me._progressLine,currentIndex,axis,timelineModel)}};this._currentPointer=giveSymbol(pointerModel,pointerModel,this._mainGroup,{},this._currentPointer,callback)},SliderTimelineView.prototype._handlePlayClick=function(nextState){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:nextState,from:this.uid})},SliderTimelineView.prototype._handlePointerDrag=function(dx,dy,e){this._clearTimer(),this._pointerChangeTimeline([e.offsetX,e.offsetY])},SliderTimelineView.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},SliderTimelineView.prototype._pointerChangeTimeline=function(mousePos,trigger){var toCoord=this._toAxisCoord(mousePos)[0],axisExtent=asc(this._axis.getExtent().slice());toCoord>axisExtent[1]&&(toCoord=axisExtent[1]),toCoord<axisExtent[0]&&(toCoord=axisExtent[0]),this._currentPointer.x=toCoord,this._currentPointer.markRedraw(),this._progressLine.shape.x2=toCoord,this._progressLine.dirty();var targetDataIndex=this._findNearestTick(toCoord),timelineModel=this.model;(trigger||targetDataIndex!==timelineModel.getCurrentIndex()&&timelineModel.get("realtime"))&&this._changeTimeline(targetDataIndex)},SliderTimelineView.prototype._doPlayStop=function(){var _this=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){var timelineModel=_this.model;_this._changeTimeline(timelineModel.getCurrentIndex()+(timelineModel.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},SliderTimelineView.prototype._toAxisCoord=function(vertex){return graphic_applyTransform(vertex,this._mainGroup.getLocalTransform(),!0)},SliderTimelineView.prototype._findNearestTick=function(axisCoord){var targetDataIndex,data=this.model.getData(),dist=1/0,axis=this._axis;return data.each(["value"],(function(value,dataIndex){var coord=axis.dataToCoord(value),d=Math.abs(coord-axisCoord);d<dist&&(dist=d,targetDataIndex=dataIndex)})),targetDataIndex},SliderTimelineView.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},SliderTimelineView.prototype._changeTimeline=function(nextIndex){var currentIndex=this.model.getCurrentIndex();"+"===nextIndex?nextIndex=currentIndex+1:"-"===nextIndex&&(nextIndex=currentIndex-1),this.api.dispatchAction({type:"timelineChange",currentIndex:nextIndex,from:this.uid})},SliderTimelineView.prototype._updateTicksStatus=function(){var currentIndex=this.model.getCurrentIndex(),tickSymbols=this._tickSymbols,tickLabels=this._tickLabels;if(tickSymbols)for(var i=0;i<tickSymbols.length;i++)tickSymbols&&tickSymbols[i]&&tickSymbols[i].toggleState("progress",i<currentIndex);if(tickLabels)for(i=0;i<tickLabels.length;i++)tickLabels&&tickLabels[i]&&tickLabels[i].toggleState("progress",labelDataIndexStore(tickLabels[i]).dataIndex<=currentIndex)},SliderTimelineView.type="timeline.slider",SliderTimelineView}(timeline_TimelineView);function giveSymbol(hostModel,itemStyleModel,group,opt,symbol,callback){var color=itemStyleModel.get("color");symbol?(symbol.setColor(color),group.add(symbol),callback&&callback.onUpdate(symbol)):((symbol=symbol_createSymbol(hostModel.get("symbol"),-1,-1,2,2,color)).setStyle("strokeNoScale",!0),group.add(symbol),callback&&callback.onCreate(symbol));var itemStyle=itemStyleModel.getItemStyle(["color"]);symbol.setStyle(itemStyle),opt=Object(util.merge)({rectHover:!0,z2:100},opt,!0);var symbolSize=normalizeSymbolSize(hostModel.get("symbolSize"));opt.scaleX=symbolSize[0]/2,opt.scaleY=symbolSize[1]/2;var symbolOffset=normalizeSymbolOffset(hostModel.get("symbolOffset"),symbolSize);symbolOffset&&(opt.x=(opt.x||0)+symbolOffset[0],opt.y=(opt.y||0)+symbolOffset[1]);var symbolRotate=hostModel.get("symbolRotate");return opt.rotation=(symbolRotate||0)*Math.PI/180||0,symbol.attr(opt),symbol.updateTransform(),symbol}function pointerMoveTo(pointer,progressLine,dataIndex,axis,timelineModel,noAnimation){if(!pointer.dragging){var pointerModel=timelineModel.getModel("checkpointStyle"),toCoord=axis.dataToCoord(timelineModel.getData().get("value",dataIndex));if(noAnimation||!pointerModel.get("animation",!0))pointer.attr({x:toCoord,y:0}),progressLine&&progressLine.attr({shape:{x2:toCoord}});else{var animationCfg={duration:pointerModel.get("animationDuration",!0),easing:pointerModel.get("animationEasing",!0)};pointer.stopAnimation(null,!0),pointer.animateTo({x:toCoord,y:0},animationCfg),progressLine&&progressLine.animateTo({shape:{x2:toCoord}},animationCfg)}}}var timeline_SliderTimelineView=SliderTimelineView_SliderTimelineView;function timelinePreprocessor(option){var timelineOpt=option&&option.timeline;util.isArray(timelineOpt)||(timelineOpt=timelineOpt?[timelineOpt]:[]),util.each(timelineOpt,(function(opt){opt&&function compatibleEC2(opt){var type=opt.type,ec2Types={number:"value",time:"time"};ec2Types[type]&&(opt.axisType=ec2Types[type],delete opt.type);if(transferItem(opt),preprocessor_has(opt,"controlPosition")){var controlStyle=opt.controlStyle||(opt.controlStyle={});preprocessor_has(controlStyle,"position")||(controlStyle.position=opt.controlPosition),"none"!==controlStyle.position||preprocessor_has(controlStyle,"show")||(controlStyle.show=!1,delete controlStyle.position),delete opt.controlPosition}util.each(opt.data||[],(function(dataItem){util.isObject(dataItem)&&!util.isArray(dataItem)&&(!preprocessor_has(dataItem,"value")&&preprocessor_has(dataItem,"name")&&(dataItem.value=dataItem.name),transferItem(dataItem))}))}(opt)}))}function transferItem(opt){var itemStyle=opt.itemStyle||(opt.itemStyle={}),itemStyleEmphasis=itemStyle.emphasis||(itemStyle.emphasis={}),label=opt.label||opt.label||{},labelNormal=label.normal||(label.normal={}),excludeLabelAttr={normal:1,emphasis:1};util.each(label,(function(value,name){excludeLabelAttr[name]||preprocessor_has(labelNormal,name)||(labelNormal[name]=value)})),itemStyleEmphasis.label&&!preprocessor_has(label,"emphasis")&&(label.emphasis=itemStyleEmphasis.label,delete itemStyleEmphasis.label)}function preprocessor_has(obj,attr){return obj.hasOwnProperty(attr)}function checkMarkerInSeries(seriesOpts,markerType){if(!seriesOpts)return!1;for(var seriesOptArr=Object(util.isArray)(seriesOpts)?seriesOpts:[seriesOpts],idx=0;idx<seriesOptArr.length;idx++)if(seriesOptArr[idx]&&seriesOptArr[idx][markerType])return!0;return!1}function fillLabel(opt){defaultEmphasis(opt,"label",["show"])}var MarkerModel_inner=makeInner(),MarkerModel_MarkerModel=function(_super){function MarkerModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MarkerModel.type,_this.createdBySelf=!1,_this}return __extends(MarkerModel,_super),MarkerModel.prototype.init=function(option,parentModel,ecModel){this.mergeDefaultAndTheme(option,ecModel),this._mergeOption(option,ecModel,!1,!0)},MarkerModel.prototype.isAnimationEnabled=function(){if(env.a.node)return!1;var hostSeries=this.__hostSeries;return this.getShallow("animation")&&hostSeries&&hostSeries.isAnimationEnabled()},MarkerModel.prototype.mergeOption=function(newOpt,ecModel){this._mergeOption(newOpt,ecModel,!1,!1)},MarkerModel.prototype._mergeOption=function(newOpt,ecModel,createdBySelf,isInit){var componentType=this.mainType;createdBySelf||ecModel.eachSeries((function(seriesModel){var markerOpt=seriesModel.get(this.mainType,!0),markerModel=MarkerModel_inner(seriesModel)[componentType];markerOpt&&markerOpt.data?(markerModel?markerModel._mergeOption(markerOpt,ecModel,!0):(isInit&&fillLabel(markerOpt),util.each(markerOpt.data,(function(item){item instanceof Array?(fillLabel(item[0]),fillLabel(item[1])):fillLabel(item)})),markerModel=this.createMarkerModelFromSeries(markerOpt,this,ecModel),util.extend(markerModel,{mainType:this.mainType,seriesIndex:seriesModel.seriesIndex,name:seriesModel.name,createdBySelf:!0}),markerModel.__hostSeries=seriesModel),MarkerModel_inner(seriesModel)[componentType]=markerModel):MarkerModel_inner(seriesModel)[componentType]=null}),this)},MarkerModel.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){var data=this.getData(),value=this.getRawValue(dataIndex),itemName=data.getName(dataIndex);return createTooltipMarkup("section",{header:this.name,blocks:[createTooltipMarkup("nameValue",{name:itemName,value:value,noName:!itemName,noValue:null==value})]})},MarkerModel.prototype.getData=function(){return this._data},MarkerModel.prototype.setData=function(data){this._data=data},MarkerModel.getMarkerModelFromSeries=function(seriesModel,componentType){return MarkerModel_inner(seriesModel)[componentType]},MarkerModel.type="marker",MarkerModel.dependencies=["series","grid","polar","geo"],MarkerModel}(Component);util.mixin(MarkerModel_MarkerModel,dataFormat_DataFormatMixin.prototype);var marker_MarkerModel=MarkerModel_MarkerModel,MarkPointModel_MarkPointModel=function(_super){function MarkPointModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MarkPointModel.type,_this}return __extends(MarkPointModel,_super),MarkPointModel.prototype.createMarkerModelFromSeries=function(markerOpt,masterMarkerModel,ecModel){return new MarkPointModel(markerOpt,masterMarkerModel,ecModel)},MarkPointModel.type="markPoint",MarkPointModel.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},MarkPointModel}(marker_MarkerModel),marker_MarkPointModel=MarkPointModel_MarkPointModel;function markerTypeCalculatorWithExtent(markerType,data,otherDataDim,targetDataDim,otherCoordIndex,targetCoordIndex){var coordArr=[],calcDataDim=isDimensionStacked(data,targetDataDim)?data.getCalculationInfo("stackResultDimension"):targetDataDim,value=numCalculate(data,calcDataDim,markerType),dataIndex=data.indicesOfNearest(calcDataDim,value)[0];coordArr[otherCoordIndex]=data.get(otherDataDim,dataIndex),coordArr[targetCoordIndex]=data.get(calcDataDim,dataIndex);var coordArrValue=data.get(targetDataDim,dataIndex),precision=getPrecision(data.get(targetDataDim,dataIndex));return(precision=Math.min(precision,20))>=0&&(coordArr[targetCoordIndex]=+coordArr[targetCoordIndex].toFixed(precision)),[coordArr,coordArrValue]}var markerTypeCalculator={min:Object(util.curry)(markerTypeCalculatorWithExtent,"min"),max:Object(util.curry)(markerTypeCalculatorWithExtent,"max"),average:Object(util.curry)(markerTypeCalculatorWithExtent,"average"),median:Object(util.curry)(markerTypeCalculatorWithExtent,"median")};function dataTransform(seriesModel,item){var data=seriesModel.getData(),coordSys=seriesModel.coordinateSystem;if(item&&!function hasXAndY(item){return!isNaN(parseFloat(item.x))&&!isNaN(parseFloat(item.y))}(item)&&!Object(util.isArray)(item.coord)&&coordSys){var dims=coordSys.dimensions,axisInfo=markerHelper_getAxisInfo(item,data,coordSys,seriesModel);if((item=Object(util.clone)(item)).type&&markerTypeCalculator[item.type]&&axisInfo.baseAxis&&axisInfo.valueAxis){var otherCoordIndex=Object(util.indexOf)(dims,axisInfo.baseAxis.dim),targetCoordIndex=Object(util.indexOf)(dims,axisInfo.valueAxis.dim),coordInfo=markerTypeCalculator[item.type](data,axisInfo.baseDataDim,axisInfo.valueDataDim,otherCoordIndex,targetCoordIndex);item.coord=coordInfo[0],item.value=coordInfo[1]}else{for(var coord=[null!=item.xAxis?item.xAxis:item.radiusAxis,null!=item.yAxis?item.yAxis:item.angleAxis],i=0;i<2;i++)markerTypeCalculator[coord[i]]&&(coord[i]=numCalculate(data,data.mapDimension(dims[i]),coord[i]));item.coord=coord}}return item}function markerHelper_getAxisInfo(item,data,coordSys,seriesModel){var ret={};return null!=item.valueIndex||null!=item.valueDim?(ret.valueDataDim=null!=item.valueIndex?data.getDimension(item.valueIndex):item.valueDim,ret.valueAxis=coordSys.getAxis(function dataDimToCoordDim(seriesModel,dataDim){var dimItem=seriesModel.getData().getDimensionInfo(dataDim);return dimItem&&dimItem.coordDim}(seriesModel,ret.valueDataDim)),ret.baseAxis=coordSys.getOtherAxis(ret.valueAxis),ret.baseDataDim=data.mapDimension(ret.baseAxis.dim)):(ret.baseAxis=seriesModel.getBaseAxis(),ret.valueAxis=coordSys.getOtherAxis(ret.baseAxis),ret.baseDataDim=data.mapDimension(ret.baseAxis.dim),ret.valueDataDim=data.mapDimension(ret.valueAxis.dim)),ret}function markerHelper_dataFilter(coordSys,item){return!(coordSys&&coordSys.containData&&item.coord&&!function hasXOrY(item){return!(isNaN(parseFloat(item.x))&&isNaN(parseFloat(item.y)))}(item))||coordSys.containData(item.coord)}function createMarkerDimValueGetter(inCoordSys,dims){return inCoordSys?function(item,dimName,dataIndex,dimIndex){return parseDataValue(dimIndex<2?item.coord&&item.coord[dimIndex]:item.value,dims[dimIndex])}:function(item,dimName,dataIndex,dimIndex){return parseDataValue(item.value,dims[dimIndex])}}function numCalculate(data,valueDataDim,type){if("average"===type){var sum_1=0,count_1=0;return data.each(valueDataDim,(function(val,idx){isNaN(val)||(sum_1+=val,count_1++)})),sum_1/count_1}return"median"===type?data.getMedian(valueDataDim):data.getDataExtent(valueDataDim)["max"===type?1:0]}var MarkerView_inner=makeInner(),MarkerView_MarkerView=function(_super){function MarkerView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MarkerView.type,_this}return __extends(MarkerView,_super),MarkerView.prototype.init=function(){this.markerGroupMap=Object(util.createHashMap)()},MarkerView.prototype.render=function(markerModel,ecModel,api){var _this=this,markerGroupMap=this.markerGroupMap;markerGroupMap.each((function(item){MarkerView_inner(item).keep=!1})),ecModel.eachSeries((function(seriesModel){var markerModel=marker_MarkerModel.getMarkerModelFromSeries(seriesModel,_this.type);markerModel&&_this.renderSeries(seriesModel,markerModel,ecModel,api)})),markerGroupMap.each((function(item){!MarkerView_inner(item).keep&&_this.group.remove(item.group)}))},MarkerView.prototype.markKeep=function(drawGroup){MarkerView_inner(drawGroup).keep=!0},MarkerView.prototype.toggleBlurSeries=function(seriesModelList,isBlur){var _this=this;Object(util.each)(seriesModelList,(function(seriesModel){var markerModel=marker_MarkerModel.getMarkerModelFromSeries(seriesModel,_this.type);markerModel&&markerModel.getData().eachItemGraphicEl((function(el){el&&(isBlur?enterBlur(el):leaveBlur(el))}))}))},MarkerView.type="marker",MarkerView}(view_Component),marker_MarkerView=MarkerView_MarkerView;function updateMarkerLayout(mpData,seriesModel,api){var coordSys=seriesModel.coordinateSystem;mpData.each((function(idx){var point,itemModel=mpData.getItemModel(idx),xPx=number_parsePercent(itemModel.get("x"),api.getWidth()),yPx=number_parsePercent(itemModel.get("y"),api.getHeight());if(isNaN(xPx)||isNaN(yPx)){if(seriesModel.getMarkerPosition)point=seriesModel.getMarkerPosition(mpData.getValues(mpData.dimensions,idx));else if(coordSys){var x=mpData.get(coordSys.dimensions[0],idx),y=mpData.get(coordSys.dimensions[1],idx);point=coordSys.dataToPoint([x,y])}}else point=[xPx,yPx];isNaN(xPx)||(point[0]=xPx),isNaN(yPx)||(point[1]=yPx),mpData.setItemLayout(idx,point)}))}var MarkPointView_MarkPointView=function(_super){function MarkPointView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MarkPointView.type,_this}return __extends(MarkPointView,_super),MarkPointView.prototype.updateTransform=function(markPointModel,ecModel,api){ecModel.eachSeries((function(seriesModel){var mpModel=marker_MarkerModel.getMarkerModelFromSeries(seriesModel,"markPoint");mpModel&&(updateMarkerLayout(mpModel.getData(),seriesModel,api),this.markerGroupMap.get(seriesModel.id).updateLayout())}),this)},MarkPointView.prototype.renderSeries=function(seriesModel,mpModel,ecModel,api){var coordSys=seriesModel.coordinateSystem,seriesId=seriesModel.id,seriesData=seriesModel.getData(),symbolDrawMap=this.markerGroupMap,symbolDraw=symbolDrawMap.get(seriesId)||symbolDrawMap.set(seriesId,new helper_SymbolDraw),mpData=function createData(coordSys,seriesModel,mpModel){var coordDimsInfos;coordDimsInfos=coordSys?Object(util.map)(coordSys&&coordSys.dimensions,(function(coordDim){var info=seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim))||{};return Object(util.extend)(Object(util.extend)({},info),{name:coordDim,ordinalMeta:null})})):[{name:"value",type:"float"}];var mpData=new data_SeriesData(coordDimsInfos,mpModel),dataOpt=Object(util.map)(mpModel.get("data"),Object(util.curry)(dataTransform,seriesModel));coordSys&&(dataOpt=Object(util.filter)(dataOpt,Object(util.curry)(markerHelper_dataFilter,coordSys)));var dimValueGetter=createMarkerDimValueGetter(!!coordSys,coordDimsInfos);return mpData.initData(dataOpt,null,dimValueGetter),mpData}(coordSys,seriesModel,mpModel);mpModel.setData(mpData),updateMarkerLayout(mpModel.getData(),seriesModel,api),mpData.each((function(idx){var itemModel=mpData.getItemModel(idx),symbol=itemModel.getShallow("symbol"),symbolSize=itemModel.getShallow("symbolSize"),symbolRotate=itemModel.getShallow("symbolRotate"),symbolOffset=itemModel.getShallow("symbolOffset"),symbolKeepAspect=itemModel.getShallow("symbolKeepAspect");if(Object(util.isFunction)(symbol)||Object(util.isFunction)(symbolSize)||Object(util.isFunction)(symbolRotate)||Object(util.isFunction)(symbolOffset)){var rawIdx=mpModel.getRawValue(idx),dataParams=mpModel.getDataParams(idx);Object(util.isFunction)(symbol)&&(symbol=symbol(rawIdx,dataParams)),Object(util.isFunction)(symbolSize)&&(symbolSize=symbolSize(rawIdx,dataParams)),Object(util.isFunction)(symbolRotate)&&(symbolRotate=symbolRotate(rawIdx,dataParams)),Object(util.isFunction)(symbolOffset)&&(symbolOffset=symbolOffset(rawIdx,dataParams))}var style=itemModel.getModel("itemStyle").getItemStyle(),color=getVisualFromData(seriesData,"color");style.fill||(style.fill=color),mpData.setItemVisual(idx,{symbol:symbol,symbolSize:symbolSize,symbolRotate:symbolRotate,symbolOffset:symbolOffset,symbolKeepAspect:symbolKeepAspect,style:style})})),symbolDraw.updateData(mpData),this.group.add(symbolDraw.group),mpData.eachItemGraphicEl((function(el){el.traverse((function(child){getECData(child).dataModel=mpModel}))})),this.markKeep(symbolDraw),symbolDraw.group.silent=mpModel.get("silent")||seriesModel.get("silent")},MarkPointView.type="markPoint",MarkPointView}(marker_MarkerView);var marker_MarkPointView=MarkPointView_MarkPointView;var MarkLineModel_MarkLineModel=function(_super){function MarkLineModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MarkLineModel.type,_this}return __extends(MarkLineModel,_super),MarkLineModel.prototype.createMarkerModelFromSeries=function(markerOpt,masterMarkerModel,ecModel){return new MarkLineModel(markerOpt,masterMarkerModel,ecModel)},MarkLineModel.type="markLine",MarkLineModel.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},MarkLineModel}(marker_MarkerModel),marker_MarkLineModel=MarkLineModel_MarkLineModel,MarkLineView_inner=makeInner(),markLineTransform=function(seriesModel,coordSys,mlModel,item){var itemArray,data=seriesModel.getData();if(Object(util.isArray)(item))itemArray=item;else{var mlType=item.type;if("min"===mlType||"max"===mlType||"average"===mlType||"median"===mlType||null!=item.xAxis||null!=item.yAxis){var valueAxis=void 0,value=void 0;if(null!=item.yAxis||null!=item.xAxis)valueAxis=coordSys.getAxis(null!=item.yAxis?"y":"x"),value=Object(util.retrieve)(item.yAxis,item.xAxis);else{var axisInfo=markerHelper_getAxisInfo(item,data,coordSys,seriesModel);valueAxis=axisInfo.valueAxis,value=numCalculate(data,getStackedDimension(data,axisInfo.valueDataDim),mlType)}var valueIndex="x"===valueAxis.dim?0:1,baseIndex=1-valueIndex,mlFrom=Object(util.clone)(item),mlTo={coord:[]};mlFrom.type=null,mlFrom.coord=[],mlFrom.coord[baseIndex]=-1/0,mlTo.coord[baseIndex]=1/0;var precision=mlModel.get("precision");precision>=0&&Object(util.isNumber)(value)&&(value=+value.toFixed(Math.min(precision,20))),mlFrom.coord[valueIndex]=mlTo.coord[valueIndex]=value,itemArray=[mlFrom,mlTo,{type:mlType,valueIndex:item.valueIndex,value:value}]}else itemArray=[]}var normalizedItem=[dataTransform(seriesModel,itemArray[0]),dataTransform(seriesModel,itemArray[1]),Object(util.extend)({},itemArray[2])];return normalizedItem[2].type=normalizedItem[2].type||null,Object(util.merge)(normalizedItem[2],normalizedItem[0]),Object(util.merge)(normalizedItem[2],normalizedItem[1]),normalizedItem};function isInifinity(val){return!isNaN(val)&&!isFinite(val)}function ifMarkLineHasOnlyDim(dimIndex,fromCoord,toCoord,coordSys){var otherDimIndex=1-dimIndex,dimName=coordSys.dimensions[dimIndex];return isInifinity(fromCoord[otherDimIndex])&&isInifinity(toCoord[otherDimIndex])&&fromCoord[dimIndex]===toCoord[dimIndex]&&coordSys.getAxis(dimName).containData(fromCoord[dimIndex])}function markLineFilter(coordSys,item){if("cartesian2d"===coordSys.type){var fromCoord=item[0].coord,toCoord=item[1].coord;if(fromCoord&&toCoord&&(ifMarkLineHasOnlyDim(1,fromCoord,toCoord,coordSys)||ifMarkLineHasOnlyDim(0,fromCoord,toCoord,coordSys)))return!0}return markerHelper_dataFilter(coordSys,item[0])&&markerHelper_dataFilter(coordSys,item[1])}function updateSingleMarkerEndLayout(data,idx,isFrom,seriesModel,api){var point,coordSys=seriesModel.coordinateSystem,itemModel=data.getItemModel(idx),xPx=number_parsePercent(itemModel.get("x"),api.getWidth()),yPx=number_parsePercent(itemModel.get("y"),api.getHeight());if(isNaN(xPx)||isNaN(yPx)){if(seriesModel.getMarkerPosition)point=seriesModel.getMarkerPosition(data.getValues(data.dimensions,idx));else{var dims=coordSys.dimensions,x=data.get(dims[0],idx),y=data.get(dims[1],idx);point=coordSys.dataToPoint([x,y])}if(isCoordinateSystemType(coordSys,"cartesian2d")){var xAxis=coordSys.getAxis("x"),yAxis=coordSys.getAxis("y");dims=coordSys.dimensions;isInifinity(data.get(dims[0],idx))?point[0]=xAxis.toGlobalCoord(xAxis.getExtent()[isFrom?0:1]):isInifinity(data.get(dims[1],idx))&&(point[1]=yAxis.toGlobalCoord(yAxis.getExtent()[isFrom?0:1]))}isNaN(xPx)||(point[0]=xPx),isNaN(yPx)||(point[1]=yPx)}else point=[xPx,yPx];data.setItemLayout(idx,point)}var MarkLineView_MarkLineView=function(_super){function MarkLineView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MarkLineView.type,_this}return __extends(MarkLineView,_super),MarkLineView.prototype.updateTransform=function(markLineModel,ecModel,api){ecModel.eachSeries((function(seriesModel){var mlModel=marker_MarkerModel.getMarkerModelFromSeries(seriesModel,"markLine");if(mlModel){var mlData_1=mlModel.getData(),fromData_1=MarkLineView_inner(mlModel).from,toData_1=MarkLineView_inner(mlModel).to;fromData_1.each((function(idx){updateSingleMarkerEndLayout(fromData_1,idx,!0,seriesModel,api),updateSingleMarkerEndLayout(toData_1,idx,!1,seriesModel,api)})),mlData_1.each((function(idx){mlData_1.setItemLayout(idx,[fromData_1.getItemLayout(idx),toData_1.getItemLayout(idx)])})),this.markerGroupMap.get(seriesModel.id).updateLayout()}}),this)},MarkLineView.prototype.renderSeries=function(seriesModel,mlModel,ecModel,api){var coordSys=seriesModel.coordinateSystem,seriesId=seriesModel.id,seriesData=seriesModel.getData(),lineDrawMap=this.markerGroupMap,lineDraw=lineDrawMap.get(seriesId)||lineDrawMap.set(seriesId,new helper_LineDraw);this.group.add(lineDraw.group);var mlData=function MarkLineView_createList(coordSys,seriesModel,mlModel){var coordDimsInfos;coordDimsInfos=coordSys?Object(util.map)(coordSys&&coordSys.dimensions,(function(coordDim){var info=seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim))||{};return Object(util.extend)(Object(util.extend)({},info),{name:coordDim,ordinalMeta:null})})):[{name:"value",type:"float"}];var fromData=new data_SeriesData(coordDimsInfos,mlModel),toData=new data_SeriesData(coordDimsInfos,mlModel),lineData=new data_SeriesData([],mlModel),optData=Object(util.map)(mlModel.get("data"),Object(util.curry)(markLineTransform,seriesModel,coordSys,mlModel));coordSys&&(optData=Object(util.filter)(optData,Object(util.curry)(markLineFilter,coordSys)));var dimValueGetter=createMarkerDimValueGetter(!!coordSys,coordDimsInfos);return fromData.initData(Object(util.map)(optData,(function(item){return item[0]})),null,dimValueGetter),toData.initData(Object(util.map)(optData,(function(item){return item[1]})),null,dimValueGetter),lineData.initData(Object(util.map)(optData,(function(item){return item[2]}))),lineData.hasItemOption=!0,{from:fromData,to:toData,line:lineData}}(coordSys,seriesModel,mlModel),fromData=mlData.from,toData=mlData.to,lineData=mlData.line;MarkLineView_inner(mlModel).from=fromData,MarkLineView_inner(mlModel).to=toData,mlModel.setData(lineData);var symbolType=mlModel.get("symbol"),symbolSize=mlModel.get("symbolSize"),symbolRotate=mlModel.get("symbolRotate"),symbolOffset=mlModel.get("symbolOffset");function updateDataVisualAndLayout(data,idx,isFrom){var itemModel=data.getItemModel(idx);updateSingleMarkerEndLayout(data,idx,isFrom,seriesModel,api);var style=itemModel.getModel("itemStyle").getItemStyle();null==style.fill&&(style.fill=getVisualFromData(seriesData,"color")),data.setItemVisual(idx,{symbolKeepAspect:itemModel.get("symbolKeepAspect"),symbolOffset:Object(util.retrieve2)(itemModel.get("symbolOffset",!0),symbolOffset[isFrom?0:1]),symbolRotate:Object(util.retrieve2)(itemModel.get("symbolRotate",!0),symbolRotate[isFrom?0:1]),symbolSize:Object(util.retrieve2)(itemModel.get("symbolSize"),symbolSize[isFrom?0:1]),symbol:Object(util.retrieve2)(itemModel.get("symbol",!0),symbolType[isFrom?0:1]),style:style})}Object(util.isArray)(symbolType)||(symbolType=[symbolType,symbolType]),Object(util.isArray)(symbolSize)||(symbolSize=[symbolSize,symbolSize]),Object(util.isArray)(symbolRotate)||(symbolRotate=[symbolRotate,symbolRotate]),Object(util.isArray)(symbolOffset)||(symbolOffset=[symbolOffset,symbolOffset]),mlData.from.each((function(idx){updateDataVisualAndLayout(fromData,idx,!0),updateDataVisualAndLayout(toData,idx,!1)})),lineData.each((function(idx){var lineStyle=lineData.getItemModel(idx).getModel("lineStyle").getLineStyle();lineData.setItemLayout(idx,[fromData.getItemLayout(idx),toData.getItemLayout(idx)]),null==lineStyle.stroke&&(lineStyle.stroke=fromData.getItemVisual(idx,"style").fill),lineData.setItemVisual(idx,{fromSymbolKeepAspect:fromData.getItemVisual(idx,"symbolKeepAspect"),fromSymbolOffset:fromData.getItemVisual(idx,"symbolOffset"),fromSymbolRotate:fromData.getItemVisual(idx,"symbolRotate"),fromSymbolSize:fromData.getItemVisual(idx,"symbolSize"),fromSymbol:fromData.getItemVisual(idx,"symbol"),toSymbolKeepAspect:toData.getItemVisual(idx,"symbolKeepAspect"),toSymbolOffset:toData.getItemVisual(idx,"symbolOffset"),toSymbolRotate:toData.getItemVisual(idx,"symbolRotate"),toSymbolSize:toData.getItemVisual(idx,"symbolSize"),toSymbol:toData.getItemVisual(idx,"symbol"),style:lineStyle})})),lineDraw.updateData(lineData),mlData.line.eachItemGraphicEl((function(el,idx){el.traverse((function(child){getECData(child).dataModel=mlModel}))})),this.markKeep(lineDraw),lineDraw.group.silent=mlModel.get("silent")||seriesModel.get("silent")},MarkLineView.type="markLine",MarkLineView}(marker_MarkerView);var marker_MarkLineView=MarkLineView_MarkLineView;var MarkAreaModel_MarkAreaModel=function(_super){function MarkAreaModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MarkAreaModel.type,_this}return __extends(MarkAreaModel,_super),MarkAreaModel.prototype.createMarkerModelFromSeries=function(markerOpt,masterMarkerModel,ecModel){return new MarkAreaModel(markerOpt,masterMarkerModel,ecModel)},MarkAreaModel.type="markArea",MarkAreaModel.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},MarkAreaModel}(marker_MarkerModel),marker_MarkAreaModel=MarkAreaModel_MarkAreaModel,MarkAreaView_inner=makeInner(),markAreaTransform=function(seriesModel,coordSys,maModel,item){var lt=dataTransform(seriesModel,item[0]),rb=dataTransform(seriesModel,item[1]),ltCoord=lt.coord,rbCoord=rb.coord;ltCoord[0]=Object(util.retrieve)(ltCoord[0],-1/0),ltCoord[1]=Object(util.retrieve)(ltCoord[1],-1/0),rbCoord[0]=Object(util.retrieve)(rbCoord[0],1/0),rbCoord[1]=Object(util.retrieve)(rbCoord[1],1/0);var result=Object(util.mergeAll)([{},lt,rb]);return result.coord=[lt.coord,rb.coord],result.x0=lt.x,result.y0=lt.y,result.x1=rb.x,result.y1=rb.y,result};function MarkAreaView_isInifinity(val){return!isNaN(val)&&!isFinite(val)}function ifMarkAreaHasOnlyDim(dimIndex,fromCoord,toCoord,coordSys){var otherDimIndex=1-dimIndex;return MarkAreaView_isInifinity(fromCoord[otherDimIndex])&&MarkAreaView_isInifinity(toCoord[otherDimIndex])}function markAreaFilter(coordSys,item){var fromCoord=item.coord[0],toCoord=item.coord[1];return!!(isCoordinateSystemType(coordSys,"cartesian2d")&&fromCoord&&toCoord&&(ifMarkAreaHasOnlyDim(1,fromCoord,toCoord)||ifMarkAreaHasOnlyDim(0,fromCoord,toCoord)))||(markerHelper_dataFilter(coordSys,{coord:fromCoord,x:item.x0,y:item.y0})||markerHelper_dataFilter(coordSys,{coord:toCoord,x:item.x1,y:item.y1}))}function getSingleMarkerEndPoint(data,idx,dims,seriesModel,api){var point,coordSys=seriesModel.coordinateSystem,itemModel=data.getItemModel(idx),xPx=number_parsePercent(itemModel.get(dims[0]),api.getWidth()),yPx=number_parsePercent(itemModel.get(dims[1]),api.getHeight());if(isNaN(xPx)||isNaN(yPx)){if(seriesModel.getMarkerPosition)point=seriesModel.getMarkerPosition(data.getValues(dims,idx));else{var pt=[x=data.get(dims[0],idx),y=data.get(dims[1],idx)];coordSys.clampData&&coordSys.clampData(pt,pt),point=coordSys.dataToPoint(pt,!0)}if(isCoordinateSystemType(coordSys,"cartesian2d")){var xAxis=coordSys.getAxis("x"),yAxis=coordSys.getAxis("y"),x=data.get(dims[0],idx),y=data.get(dims[1],idx);MarkAreaView_isInifinity(x)?point[0]=xAxis.toGlobalCoord(xAxis.getExtent()["x0"===dims[0]?0:1]):MarkAreaView_isInifinity(y)&&(point[1]=yAxis.toGlobalCoord(yAxis.getExtent()["y0"===dims[1]?0:1]))}isNaN(xPx)||(point[0]=xPx),isNaN(yPx)||(point[1]=yPx)}else point=[xPx,yPx];return point}var dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView_MarkAreaView=function(_super){function MarkAreaView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MarkAreaView.type,_this}return __extends(MarkAreaView,_super),MarkAreaView.prototype.updateTransform=function(markAreaModel,ecModel,api){ecModel.eachSeries((function(seriesModel){var maModel=marker_MarkerModel.getMarkerModelFromSeries(seriesModel,"markArea");if(maModel){var areaData_1=maModel.getData();areaData_1.each((function(idx){var points=Object(util.map)(dimPermutations,(function(dim){return getSingleMarkerEndPoint(areaData_1,idx,dim,seriesModel,api)}));areaData_1.setItemLayout(idx,points),areaData_1.getItemGraphicEl(idx).setShape("points",points)}))}}),this)},MarkAreaView.prototype.renderSeries=function(seriesModel,maModel,ecModel,api){var coordSys=seriesModel.coordinateSystem,seriesId=seriesModel.id,seriesData=seriesModel.getData(),areaGroupMap=this.markerGroupMap,polygonGroup=areaGroupMap.get(seriesId)||areaGroupMap.set(seriesId,{group:new graphic_Group});this.group.add(polygonGroup.group),this.markKeep(polygonGroup);var areaData=function MarkAreaView_createList(coordSys,seriesModel,maModel){var areaData,dataDims,dims=["x0","y0","x1","y1"];if(coordSys){var coordDimsInfos_1=Object(util.map)(coordSys&&coordSys.dimensions,(function(coordDim){var data=seriesModel.getData(),info=data.getDimensionInfo(data.mapDimension(coordDim))||{};return Object(util.extend)(Object(util.extend)({},info),{name:coordDim,ordinalMeta:null})}));dataDims=Object(util.map)(dims,(function(dim,idx){return{name:dim,type:coordDimsInfos_1[idx%2].type}})),areaData=new data_SeriesData(dataDims,maModel)}else areaData=new data_SeriesData(dataDims=[{name:"value",type:"float"}],maModel);var optData=Object(util.map)(maModel.get("data"),Object(util.curry)(markAreaTransform,seriesModel,coordSys,maModel));coordSys&&(optData=Object(util.filter)(optData,Object(util.curry)(markAreaFilter,coordSys)));var dimValueGetter=coordSys?function(item,dimName,dataIndex,dimIndex){return parseDataValue(item.coord[Math.floor(dimIndex/2)][dimIndex%2],dataDims[dimIndex])}:function(item,dimName,dataIndex,dimIndex){return parseDataValue(item.value,dataDims[dimIndex])};return areaData.initData(optData,null,dimValueGetter),areaData.hasItemOption=!0,areaData}(coordSys,seriesModel,maModel);maModel.setData(areaData),areaData.each((function(idx){var points=Object(util.map)(dimPermutations,(function(dim){return getSingleMarkerEndPoint(areaData,idx,dim,seriesModel,api)})),xAxisScale=coordSys.getAxis("x").scale,yAxisScale=coordSys.getAxis("y").scale,xAxisExtent=xAxisScale.getExtent(),yAxisExtent=yAxisScale.getExtent(),xPointExtent=[xAxisScale.parse(areaData.get("x0",idx)),xAxisScale.parse(areaData.get("x1",idx))],yPointExtent=[yAxisScale.parse(areaData.get("y0",idx)),yAxisScale.parse(areaData.get("y1",idx))];asc(xPointExtent),asc(yPointExtent);var allClipped=!!(xAxisExtent[0]>xPointExtent[1]||xAxisExtent[1]<xPointExtent[0]||yAxisExtent[0]>yPointExtent[1]||yAxisExtent[1]<yPointExtent[0]);areaData.setItemLayout(idx,{points:points,allClipped:allClipped});var style=areaData.getItemModel(idx).getModel("itemStyle").getItemStyle(),color=getVisualFromData(seriesData,"color");style.fill||(style.fill=color,Object(util.isString)(style.fill)&&(style.fill=tool_color.modifyAlpha(style.fill,.4))),style.stroke||(style.stroke=color),areaData.setItemVisual(idx,"style",style)})),areaData.diff(MarkAreaView_inner(polygonGroup).data).add((function(idx){var layout=areaData.getItemLayout(idx);if(!layout.allClipped){var polygon=new shape_Polygon({shape:{points:layout.points}});areaData.setItemGraphicEl(idx,polygon),polygonGroup.group.add(polygon)}})).update((function(newIdx,oldIdx){var polygon=MarkAreaView_inner(polygonGroup).data.getItemGraphicEl(oldIdx),layout=areaData.getItemLayout(newIdx);layout.allClipped?polygon&&polygonGroup.group.remove(polygon):(polygon?updateProps(polygon,{shape:{points:layout.points}},maModel,newIdx):polygon=new shape_Polygon({shape:{points:layout.points}}),areaData.setItemGraphicEl(newIdx,polygon),polygonGroup.group.add(polygon))})).remove((function(idx){var polygon=MarkAreaView_inner(polygonGroup).data.getItemGraphicEl(idx);polygonGroup.group.remove(polygon)})).execute(),areaData.eachItemGraphicEl((function(polygon,idx){var itemModel=areaData.getItemModel(idx),style=areaData.getItemVisual(idx,"style");polygon.useStyle(areaData.getItemVisual(idx,"style")),setLabelStyle(polygon,getLabelStatesModels(itemModel),{labelFetcher:maModel,labelDataIndex:idx,defaultText:areaData.getName(idx)||"",inheritColor:Object(util.isString)(style.fill)?tool_color.modifyAlpha(style.fill,1):"#000"}),setStatesStylesFromModel(polygon,itemModel),toggleHoverEmphasis(polygon,null,null,itemModel.get(["emphasis","disabled"])),getECData(polygon).dataModel=maModel})),MarkAreaView_inner(polygonGroup).data=areaData,polygonGroup.group.silent=maModel.get("silent")||seriesModel.get("silent")},MarkAreaView.type="markArea",MarkAreaView}(marker_MarkerView);var marker_MarkAreaView=MarkAreaView_MarkAreaView;var LegendModel_LegendModel=function(_super){function LegendModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=LegendModel.type,_this.layoutMode={type:"box",ignoreSize:!0},_this}return __extends(LegendModel,_super),LegendModel.prototype.init=function(option,parentModel,ecModel){this.mergeDefaultAndTheme(option,ecModel),option.selected=option.selected||{},this._updateSelector(option)},LegendModel.prototype.mergeOption=function(option,ecModel){_super.prototype.mergeOption.call(this,option,ecModel),this._updateSelector(option)},LegendModel.prototype._updateSelector=function(option){var selector=option.selector,ecModel=this.ecModel;!0===selector&&(selector=option.selector=["all","inverse"]),util.isArray(selector)&&util.each(selector,(function(item,index){util.isString(item)&&(item={type:item}),selector[index]=util.merge(item,function(ecModel,type){return"all"===type?{type:"all",title:ecModel.getLocaleModel().get(["legend","selector","all"])}:"inverse"===type?{type:"inverse",title:ecModel.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(ecModel,item.type))}))},LegendModel.prototype.optionUpdated=function(){this._updateData(this.ecModel);var legendData=this._data;if(legendData[0]&&"single"===this.get("selectedMode")){for(var hasSelected=!1,i=0;i<legendData.length;i++){var name_1=legendData[i].get("name");if(this.isSelected(name_1)){this.select(name_1),hasSelected=!0;break}}!hasSelected&&this.select(legendData[0].get("name"))}},LegendModel.prototype._updateData=function(ecModel){var potentialData=[],availableNames=[];ecModel.eachRawSeries((function(seriesModel){var isPotential,seriesName=seriesModel.name;if(availableNames.push(seriesName),seriesModel.legendVisualProvider){var names=seriesModel.legendVisualProvider.getAllNames();ecModel.isSeriesFiltered(seriesModel)||(availableNames=availableNames.concat(names)),names.length?potentialData=potentialData.concat(names):isPotential=!0}else isPotential=!0;isPotential&&isNameSpecified(seriesModel)&&potentialData.push(seriesModel.name)})),this._availableNames=availableNames;var rawData=this.get("data")||potentialData,legendData=util.map(rawData,(function(dataItem){return(util.isString(dataItem)||util.isNumber(dataItem))&&(dataItem={name:dataItem}),new model_Model(dataItem,this,this.ecModel)}),this);this._data=legendData},LegendModel.prototype.getData=function(){return this._data},LegendModel.prototype.select=function(name){var selected=this.option.selected;if("single"===this.get("selectedMode")){var data=this._data;util.each(data,(function(dataItem){selected[dataItem.get("name")]=!1}))}selected[name]=!0},LegendModel.prototype.unSelect=function(name){"single"!==this.get("selectedMode")&&(this.option.selected[name]=!1)},LegendModel.prototype.toggleSelected=function(name){var selected=this.option.selected;selected.hasOwnProperty(name)||(selected[name]=!0),this[selected[name]?"unSelect":"select"](name)},LegendModel.prototype.allSelect=function(){var data=this._data,selected=this.option.selected;util.each(data,(function(dataItem){selected[dataItem.get("name",!0)]=!0}))},LegendModel.prototype.inverseSelect=function(){var data=this._data,selected=this.option.selected;util.each(data,(function(dataItem){var name=dataItem.get("name",!0);selected.hasOwnProperty(name)||(selected[name]=!0),selected[name]=!selected[name]}))},LegendModel.prototype.isSelected=function(name){var selected=this.option.selected;return!(selected.hasOwnProperty(name)&&!selected[name])&&util.indexOf(this._availableNames,name)>=0},LegendModel.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},LegendModel.type="legend.plain",LegendModel.dependencies=["series"],LegendModel.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},LegendModel}(Component),legend_LegendModel=LegendModel_LegendModel,curry=util.curry,LegendView_each=util.each,LegendView_Group=graphic_Group,LegendView_LegendView=function(_super){function LegendView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=LegendView.type,_this.newlineDisabled=!1,_this}return __extends(LegendView,_super),LegendView.prototype.init=function(){this.group.add(this._contentGroup=new LegendView_Group),this.group.add(this._selectorGroup=new LegendView_Group),this._isFirstRender=!0},LegendView.prototype.getContentGroup=function(){return this._contentGroup},LegendView.prototype.getSelectorGroup=function(){return this._selectorGroup},LegendView.prototype.render=function(legendModel,ecModel,api){var isFirstRender=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),legendModel.get("show",!0)){var itemAlign=legendModel.get("align"),orient=legendModel.get("orient");itemAlign&&"auto"!==itemAlign||(itemAlign="right"===legendModel.get("left")&&"vertical"===orient?"right":"left");var selector=legendModel.get("selector",!0),selectorPosition=legendModel.get("selectorPosition",!0);!selector||selectorPosition&&"auto"!==selectorPosition||(selectorPosition="horizontal"===orient?"end":"start"),this.renderInner(itemAlign,legendModel,ecModel,api,selector,orient,selectorPosition);var positionInfo=legendModel.getBoxLayoutParams(),viewportSize={width:api.getWidth(),height:api.getHeight()},padding=legendModel.get("padding"),maxSize=getLayoutRect(positionInfo,viewportSize,padding),mainRect=this.layoutInner(legendModel,itemAlign,maxSize,isFirstRender,selector,selectorPosition),layoutRect=getLayoutRect(util.defaults({width:mainRect.width,height:mainRect.height},positionInfo),viewportSize,padding);this.group.x=layoutRect.x-mainRect.x,this.group.y=layoutRect.y-mainRect.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(mainRect,legendModel))}},LegendView.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},LegendView.prototype.renderInner=function(itemAlign,legendModel,ecModel,api,selector,orient,selectorPosition){var contentGroup=this.getContentGroup(),legendDrawnMap=util.createHashMap(),selectMode=legendModel.get("selectedMode"),excludeSeriesId=[];ecModel.eachRawSeries((function(seriesModel){!seriesModel.get("legendHoverLink")&&excludeSeriesId.push(seriesModel.id)})),LegendView_each(legendModel.getData(),(function(legendItemModel,dataIndex){var name=legendItemModel.get("name");if(!this.newlineDisabled&&(""===name||"\n"===name)){var g=new LegendView_Group;return g.newline=!0,void contentGroup.add(g)}var seriesModel=ecModel.getSeriesByName(name)[0];if(!legendDrawnMap.get(name)){if(seriesModel){var data=seriesModel.getData(),lineVisualStyle=data.getVisual("legendLineStyle")||{},legendIcon=data.getVisual("legendIcon"),style=data.getVisual("style");this._createItem(seriesModel,name,dataIndex,legendItemModel,legendModel,itemAlign,lineVisualStyle,style,legendIcon,selectMode).on("click",curry(dispatchSelectAction,name,null,api,excludeSeriesId)).on("mouseover",curry(dispatchHighlightAction,seriesModel.name,null,api,excludeSeriesId)).on("mouseout",curry(dispatchDownplayAction,seriesModel.name,null,api,excludeSeriesId)),legendDrawnMap.set(name,!0)}else ecModel.eachRawSeries((function(seriesModel){if(!legendDrawnMap.get(name)&&seriesModel.legendVisualProvider){var provider=seriesModel.legendVisualProvider;if(!provider.containName(name))return;var idx=provider.indexOfName(name),style=provider.getItemVisual(idx,"style"),legendIcon=provider.getItemVisual(idx,"legendIcon"),colorArr=Object(tool_color.parse)(style.fill);colorArr&&0===colorArr[3]&&(colorArr[3]=.2,style=util.extend(util.extend({},style),{fill:Object(tool_color.stringify)(colorArr,"rgba")})),this._createItem(seriesModel,name,dataIndex,legendItemModel,legendModel,itemAlign,{},style,legendIcon,selectMode).on("click",curry(dispatchSelectAction,null,name,api,excludeSeriesId)).on("mouseover",curry(dispatchHighlightAction,null,name,api,excludeSeriesId)).on("mouseout",curry(dispatchDownplayAction,null,name,api,excludeSeriesId)),legendDrawnMap.set(name,!0)}}),this);0}}),this),selector&&this._createSelector(selector,legendModel,api,orient,selectorPosition)},LegendView.prototype._createSelector=function(selector,legendModel,api,orient,selectorPosition){var selectorGroup=this.getSelectorGroup();LegendView_each(selector,(function createSelectorButton(selectorItem){var type=selectorItem.type,labelText=new Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){api.dispatchAction({type:"all"===type?"legendAllSelect":"legendInverseSelect"})}});selectorGroup.add(labelText),setLabelStyle(labelText,{normal:legendModel.getModel("selectorLabel"),emphasis:legendModel.getModel(["emphasis","selectorLabel"])},{defaultText:selectorItem.title}),enableHoverEmphasis(labelText)}))},LegendView.prototype._createItem=function(seriesModel,name,dataIndex,legendItemModel,legendModel,itemAlign,lineVisualStyle,itemVisualStyle,legendIcon,selectMode){var drawType=seriesModel.visualDrawType,itemWidth=legendModel.get("itemWidth"),itemHeight=legendModel.get("itemHeight"),isSelected=legendModel.isSelected(name),iconRotate=legendItemModel.get("symbolRotate"),symbolKeepAspect=legendItemModel.get("symbolKeepAspect"),legendIconType=legendItemModel.get("icon"),style=function getLegendStyle(iconType,legendModel,lineVisualStyle,itemVisualStyle,drawType,isSelected){function handleCommonProps(style,visualStyle){"auto"===style.lineWidth&&(style.lineWidth=visualStyle.lineWidth>0?2:0),LegendView_each(style,(function(propVal,propName){"inherit"===style[propName]&&(style[propName]=visualStyle[propName])}))}var itemStyle=legendModel.getModel("itemStyle").getItemStyle(),iconBrushType=0===iconType.lastIndexOf("empty",0)?"fill":"stroke";itemStyle.decal=itemVisualStyle.decal,"inherit"===itemStyle.fill&&(itemStyle.fill=itemVisualStyle[drawType]);"inherit"===itemStyle.stroke&&(itemStyle.stroke=itemVisualStyle[iconBrushType]);"inherit"===itemStyle.opacity&&(itemStyle.opacity=("fill"===drawType?itemVisualStyle:lineVisualStyle).opacity);handleCommonProps(itemStyle,itemVisualStyle);var legendLineModel=legendModel.getModel("lineStyle"),lineStyle=legendLineModel.getLineStyle();if(handleCommonProps(lineStyle,lineVisualStyle),"auto"===itemStyle.fill&&(itemStyle.fill=itemVisualStyle.fill),"auto"===itemStyle.stroke&&(itemStyle.stroke=itemVisualStyle.fill),"auto"===lineStyle.stroke&&(lineStyle.stroke=itemVisualStyle.fill),!isSelected){var borderWidth=legendModel.get("inactiveBorderWidth"),visualHasBorder=itemStyle[iconBrushType];itemStyle.lineWidth="auto"===borderWidth?itemVisualStyle.lineWidth>0&&visualHasBorder?2:0:itemStyle.lineWidth,itemStyle.fill=legendModel.get("inactiveColor"),itemStyle.stroke=legendModel.get("inactiveBorderColor"),lineStyle.stroke=legendLineModel.get("inactiveColor"),lineStyle.lineWidth=legendLineModel.get("inactiveWidth")}return{itemStyle:itemStyle,lineStyle:lineStyle}}(legendIcon=legendIconType||legendIcon||"roundRect",legendItemModel,lineVisualStyle,itemVisualStyle,drawType,isSelected),itemGroup=new LegendView_Group,textStyleModel=legendItemModel.getModel("textStyle");if(!util.isFunction(seriesModel.getLegendIcon)||legendIconType&&"inherit"!==legendIconType){var rotate="inherit"===legendIconType&&seriesModel.getData().getVisual("symbol")?"inherit"===iconRotate?seriesModel.getData().getVisual("symbolRotate"):iconRotate:0;itemGroup.add(function getDefaultLegendIcon(opt){var symboType=opt.icon||"roundRect",icon=symbol_createSymbol(symboType,0,0,opt.itemWidth,opt.itemHeight,opt.itemStyle.fill,opt.symbolKeepAspect);icon.setStyle(opt.itemStyle),icon.rotation=(opt.iconRotate||0)*Math.PI/180,icon.setOrigin([opt.itemWidth/2,opt.itemHeight/2]),symboType.indexOf("empty")>-1&&(icon.style.stroke=icon.style.fill,icon.style.fill="#fff",icon.style.lineWidth=2);return icon}({itemWidth:itemWidth,itemHeight:itemHeight,icon:legendIcon,iconRotate:rotate,itemStyle:style.itemStyle,lineStyle:style.lineStyle,symbolKeepAspect:symbolKeepAspect}))}else itemGroup.add(seriesModel.getLegendIcon({itemWidth:itemWidth,itemHeight:itemHeight,icon:legendIcon,iconRotate:iconRotate,itemStyle:style.itemStyle,lineStyle:style.lineStyle,symbolKeepAspect:symbolKeepAspect}));var textX="left"===itemAlign?itemWidth+5:-5,textAlign=itemAlign,formatter=legendModel.get("formatter"),content=name;util.isString(formatter)&&formatter?content=formatter.replace("{name}",null!=name?name:""):util.isFunction(formatter)&&(content=formatter(name));var inactiveColor=legendItemModel.get("inactiveColor");itemGroup.add(new Text({style:createTextStyle(textStyleModel,{text:content,x:textX,y:itemHeight/2,fill:isSelected?textStyleModel.getTextColor():inactiveColor,align:textAlign,verticalAlign:"middle"})}));var hitRect=new shape_Rect({shape:itemGroup.getBoundingRect(),invisible:!0}),tooltipModel=legendItemModel.getModel("tooltip");return tooltipModel.get("show")&&setTooltipConfig({el:hitRect,componentModel:legendModel,itemName:name,itemTooltipOption:tooltipModel.option}),itemGroup.add(hitRect),itemGroup.eachChild((function(child){child.silent=!0})),hitRect.silent=!selectMode,this.getContentGroup().add(itemGroup),enableHoverEmphasis(itemGroup),itemGroup.__legendDataIndex=dataIndex,itemGroup},LegendView.prototype.layoutInner=function(legendModel,itemAlign,maxSize,isFirstRender,selector,selectorPosition){var contentGroup=this.getContentGroup(),selectorGroup=this.getSelectorGroup();layout_box(legendModel.get("orient"),contentGroup,legendModel.get("itemGap"),maxSize.width,maxSize.height);var contentRect=contentGroup.getBoundingRect(),contentPos=[-contentRect.x,-contentRect.y];if(selectorGroup.markRedraw(),contentGroup.markRedraw(),selector){layout_box("horizontal",selectorGroup,legendModel.get("selectorItemGap",!0));var selectorRect=selectorGroup.getBoundingRect(),selectorPos=[-selectorRect.x,-selectorRect.y],selectorButtonGap=legendModel.get("selectorButtonGap",!0),orientIdx=legendModel.getOrient().index,wh=0===orientIdx?"width":"height",hw=0===orientIdx?"height":"width",yx=0===orientIdx?"y":"x";"end"===selectorPosition?selectorPos[orientIdx]+=contentRect[wh]+selectorButtonGap:contentPos[orientIdx]+=selectorRect[wh]+selectorButtonGap,selectorPos[1-orientIdx]+=contentRect[hw]/2-selectorRect[hw]/2,selectorGroup.x=selectorPos[0],selectorGroup.y=selectorPos[1],contentGroup.x=contentPos[0],contentGroup.y=contentPos[1];var mainRect={x:0,y:0};return mainRect[wh]=contentRect[wh]+selectorButtonGap+selectorRect[wh],mainRect[hw]=Math.max(contentRect[hw],selectorRect[hw]),mainRect[yx]=Math.min(0,selectorRect[yx]+selectorPos[1-orientIdx]),mainRect}return contentGroup.x=contentPos[0],contentGroup.y=contentPos[1],this.group.getBoundingRect()},LegendView.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},LegendView.type="legend.plain",LegendView}(view_Component);function dispatchSelectAction(seriesName,dataName,api,excludeSeriesId){dispatchDownplayAction(seriesName,dataName,api,excludeSeriesId),api.dispatchAction({type:"legendToggleSelect",name:null!=seriesName?seriesName:dataName}),dispatchHighlightAction(seriesName,dataName,api,excludeSeriesId)}function isUseHoverLayer(api){for(var emphasisState,list=api.getZr().storage.getDisplayList(),i=0,len=list.length;i<len&&!(emphasisState=list[i].states.emphasis);)i++;return emphasisState&&emphasisState.hoverLayer}function dispatchHighlightAction(seriesName,dataName,api,excludeSeriesId){isUseHoverLayer(api)||api.dispatchAction({type:"highlight",seriesName:seriesName,name:dataName,excludeSeriesId:excludeSeriesId})}function dispatchDownplayAction(seriesName,dataName,api,excludeSeriesId){isUseHoverLayer(api)||api.dispatchAction({type:"downplay",seriesName:seriesName,name:dataName,excludeSeriesId:excludeSeriesId})}var legend_LegendView=LegendView_LegendView;function legendFilter(ecModel){var legendModels=ecModel.findComponents({mainType:"legend"});legendModels&&legendModels.length&&ecModel.filterSeries((function(series){for(var i=0;i<legendModels.length;i++)if(!legendModels[i].isSelected(series.name))return!1;return!0}))}function legendSelectActionHandler(methodName,payload,ecModel){var isSelected,selectedMap={},isToggleSelect="toggleSelected"===methodName;return ecModel.eachComponent("legend",(function(legendModel){isToggleSelect&&null!=isSelected?legendModel[isSelected?"select":"unSelect"](payload.name):"allSelect"===methodName||"inverseSelect"===methodName?legendModel[methodName]():(legendModel[methodName](payload.name),isSelected=legendModel.isSelected(payload.name));var legendData=legendModel.getData();Object(util.each)(legendData,(function(model){var name=model.get("name");if("\n"!==name&&""!==name){var isItemSelected=legendModel.isSelected(name);selectedMap.hasOwnProperty(name)?selectedMap[name]=selectedMap[name]&&isItemSelected:selectedMap[name]=isItemSelected}}))})),"allSelect"===methodName||"inverseSelect"===methodName?{selected:selectedMap}:{name:payload.name,selected:selectedMap}}function installLegendPlain_install(registers){registers.registerComponentModel(legend_LegendModel),registers.registerComponentView(legend_LegendView),registers.registerProcessor(registers.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),registers.registerSubTypeDefaulter("legend",(function(){return"plain"})),function installLegendAction(registers){registers.registerAction("legendToggleSelect","legendselectchanged",Object(util.curry)(legendSelectActionHandler,"toggleSelected")),registers.registerAction("legendAllSelect","legendselectall",Object(util.curry)(legendSelectActionHandler,"allSelect")),registers.registerAction("legendInverseSelect","legendinverseselect",Object(util.curry)(legendSelectActionHandler,"inverseSelect")),registers.registerAction("legendSelect","legendselected",Object(util.curry)(legendSelectActionHandler,"select")),registers.registerAction("legendUnSelect","legendunselected",Object(util.curry)(legendSelectActionHandler,"unSelect"))}(registers)}var ScrollableLegendModel_ScrollableLegendModel=function(_super){function ScrollableLegendModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ScrollableLegendModel.type,_this}return __extends(ScrollableLegendModel,_super),ScrollableLegendModel.prototype.setScrollDataIndex=function(scrollDataIndex){this.option.scrollDataIndex=scrollDataIndex},ScrollableLegendModel.prototype.init=function(option,parentModel,ecModel){var inputPositionParams=getLayoutParams(option);_super.prototype.init.call(this,option,parentModel,ecModel),ScrollableLegendModel_mergeAndNormalizeLayoutParams(this,option,inputPositionParams)},ScrollableLegendModel.prototype.mergeOption=function(option,ecModel){_super.prototype.mergeOption.call(this,option,ecModel),ScrollableLegendModel_mergeAndNormalizeLayoutParams(this,this.option,option)},ScrollableLegendModel.type="legend.scroll",ScrollableLegendModel.defaultOption=inheritDefaultOption(legend_LegendModel.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),ScrollableLegendModel}(legend_LegendModel);function ScrollableLegendModel_mergeAndNormalizeLayoutParams(legendModel,target,raw){var ignoreSize=[1,1];ignoreSize[legendModel.getOrient().index]=0,mergeLayoutParam(target,raw,{type:"box",ignoreSize:!!ignoreSize})}var legend_ScrollableLegendModel=ScrollableLegendModel_ScrollableLegendModel,ScrollableLegendView_Group=graphic_Group,ScrollableLegendView_WH=["width","height"],ScrollableLegendView_XY=["x","y"],ScrollableLegendView_ScrollableLegendView=function(_super){function ScrollableLegendView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ScrollableLegendView.type,_this.newlineDisabled=!0,_this._currentIndex=0,_this}return __extends(ScrollableLegendView,_super),ScrollableLegendView.prototype.init=function(){_super.prototype.init.call(this),this.group.add(this._containerGroup=new ScrollableLegendView_Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new ScrollableLegendView_Group)},ScrollableLegendView.prototype.resetInner=function(){_super.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},ScrollableLegendView.prototype.renderInner=function(itemAlign,legendModel,ecModel,api,selector,orient,selectorPosition){var self=this;_super.prototype.renderInner.call(this,itemAlign,legendModel,ecModel,api,selector,orient,selectorPosition);var controllerGroup=this._controllerGroup,pageIconSize=legendModel.get("pageIconSize",!0),pageIconSizeArr=util.isArray(pageIconSize)?pageIconSize:[pageIconSize,pageIconSize];createPageButton("pagePrev",0);var pageTextStyleModel=legendModel.getModel("pageTextStyle");function createPageButton(name,iconIdx){var pageDataIndexName=name+"DataIndex",icon=createIcon(legendModel.get("pageIcons",!0)[legendModel.getOrient().name][iconIdx],{onclick:util.bind(self._pageGo,self,pageDataIndexName,legendModel,api)},{x:-pageIconSizeArr[0]/2,y:-pageIconSizeArr[1]/2,width:pageIconSizeArr[0],height:pageIconSizeArr[1]});icon.name=name,controllerGroup.add(icon)}controllerGroup.add(new Text({name:"pageText",style:{text:"xx/xx",fill:pageTextStyleModel.getTextColor(),font:pageTextStyleModel.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),createPageButton("pageNext",1)},ScrollableLegendView.prototype.layoutInner=function(legendModel,itemAlign,maxSize,isFirstRender,selector,selectorPosition){var selectorGroup=this.getSelectorGroup(),orientIdx=legendModel.getOrient().index,wh=ScrollableLegendView_WH[orientIdx],xy=ScrollableLegendView_XY[orientIdx],hw=ScrollableLegendView_WH[1-orientIdx],yx=ScrollableLegendView_XY[1-orientIdx];selector&&layout_box("horizontal",selectorGroup,legendModel.get("selectorItemGap",!0));var selectorButtonGap=legendModel.get("selectorButtonGap",!0),selectorRect=selectorGroup.getBoundingRect(),selectorPos=[-selectorRect.x,-selectorRect.y],processMaxSize=util.clone(maxSize);selector&&(processMaxSize[wh]=maxSize[wh]-selectorRect[wh]-selectorButtonGap);var mainRect=this._layoutContentAndController(legendModel,isFirstRender,processMaxSize,orientIdx,wh,hw,yx,xy);if(selector){if("end"===selectorPosition)selectorPos[orientIdx]+=mainRect[wh]+selectorButtonGap;else{var offset=selectorRect[wh]+selectorButtonGap;selectorPos[orientIdx]-=offset,mainRect[xy]-=offset}mainRect[wh]+=selectorRect[wh]+selectorButtonGap,selectorPos[1-orientIdx]+=mainRect[yx]+mainRect[hw]/2-selectorRect[hw]/2,mainRect[hw]=Math.max(mainRect[hw],selectorRect[hw]),mainRect[yx]=Math.min(mainRect[yx],selectorRect[yx]+selectorPos[1-orientIdx]),selectorGroup.x=selectorPos[0],selectorGroup.y=selectorPos[1],selectorGroup.markRedraw()}return mainRect},ScrollableLegendView.prototype._layoutContentAndController=function(legendModel,isFirstRender,maxSize,orientIdx,wh,hw,yx,xy){var contentGroup=this.getContentGroup(),containerGroup=this._containerGroup,controllerGroup=this._controllerGroup;layout_box(legendModel.get("orient"),contentGroup,legendModel.get("itemGap"),orientIdx?maxSize.width:null,orientIdx?null:maxSize.height),layout_box("horizontal",controllerGroup,legendModel.get("pageButtonItemGap",!0));var contentRect=contentGroup.getBoundingRect(),controllerRect=controllerGroup.getBoundingRect(),showController=this._showController=contentRect[wh]>maxSize[wh],contentPos=[-contentRect.x,-contentRect.y];isFirstRender||(contentPos[orientIdx]=contentGroup[xy]);var containerPos=[0,0],controllerPos=[-controllerRect.x,-controllerRect.y],pageButtonGap=util.retrieve2(legendModel.get("pageButtonGap",!0),legendModel.get("itemGap",!0));showController&&("end"===legendModel.get("pageButtonPosition",!0)?controllerPos[orientIdx]+=maxSize[wh]-controllerRect[wh]:containerPos[orientIdx]+=controllerRect[wh]+pageButtonGap);controllerPos[1-orientIdx]+=contentRect[hw]/2-controllerRect[hw]/2,contentGroup.setPosition(contentPos),containerGroup.setPosition(containerPos),controllerGroup.setPosition(controllerPos);var mainRect={x:0,y:0};if(mainRect[wh]=showController?maxSize[wh]:contentRect[wh],mainRect[hw]=Math.max(contentRect[hw],controllerRect[hw]),mainRect[yx]=Math.min(0,controllerRect[yx]+controllerPos[1-orientIdx]),containerGroup.__rectSize=maxSize[wh],showController){var clipShape={x:0,y:0};clipShape[wh]=Math.max(maxSize[wh]-controllerRect[wh]-pageButtonGap,0),clipShape[hw]=mainRect[hw],containerGroup.setClipPath(new shape_Rect({shape:clipShape})),containerGroup.__rectSize=clipShape[wh]}else controllerGroup.eachChild((function(child){child.attr({invisible:!0,silent:!0})}));var pageInfo=this._getPageInfo(legendModel);return null!=pageInfo.pageIndex&&updateProps(contentGroup,{x:pageInfo.contentPosition[0],y:pageInfo.contentPosition[1]},showController?legendModel:null),this._updatePageInfoView(legendModel,pageInfo),mainRect},ScrollableLegendView.prototype._pageGo=function(to,legendModel,api){var scrollDataIndex=this._getPageInfo(legendModel)[to];null!=scrollDataIndex&&api.dispatchAction({type:"legendScroll",scrollDataIndex:scrollDataIndex,legendId:legendModel.id})},ScrollableLegendView.prototype._updatePageInfoView=function(legendModel,pageInfo){var controllerGroup=this._controllerGroup;util.each(["pagePrev","pageNext"],(function(name){var canJump=null!=pageInfo[name+"DataIndex"],icon=controllerGroup.childOfName(name);icon&&(icon.setStyle("fill",canJump?legendModel.get("pageIconColor",!0):legendModel.get("pageIconInactiveColor",!0)),icon.cursor=canJump?"pointer":"default")}));var pageText=controllerGroup.childOfName("pageText"),pageFormatter=legendModel.get("pageFormatter"),pageIndex=pageInfo.pageIndex,current=null!=pageIndex?pageIndex+1:0,total=pageInfo.pageCount;pageText&&pageFormatter&&pageText.setStyle("text",util.isString(pageFormatter)?pageFormatter.replace("{current}",null==current?"":current+"").replace("{total}",null==total?"":total+""):pageFormatter({current:current,total:total}))},ScrollableLegendView.prototype._getPageInfo=function(legendModel){var scrollDataIndex=legendModel.get("scrollDataIndex",!0),contentGroup=this.getContentGroup(),containerRectSize=this._containerGroup.__rectSize,orientIdx=legendModel.getOrient().index,wh=ScrollableLegendView_WH[orientIdx],xy=ScrollableLegendView_XY[orientIdx],targetItemIndex=this._findTargetItemIndex(scrollDataIndex),children=contentGroup.children(),targetItem=children[targetItemIndex],itemCount=children.length,pCount=itemCount?1:0,result={contentPosition:[contentGroup.x,contentGroup.y],pageCount:pCount,pageIndex:pCount-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!targetItem)return result;var targetItemInfo=getItemInfo(targetItem);result.contentPosition[orientIdx]=-targetItemInfo.s;for(var i=targetItemIndex+1,winStartItemInfo=targetItemInfo,winEndItemInfo=targetItemInfo,currItemInfo=null;i<=itemCount;++i)(!(currItemInfo=getItemInfo(children[i]))&&winEndItemInfo.e>winStartItemInfo.s+containerRectSize||currItemInfo&&!intersect(currItemInfo,winStartItemInfo.s))&&(winStartItemInfo=winEndItemInfo.i>winStartItemInfo.i?winEndItemInfo:currItemInfo)&&(null==result.pageNextDataIndex&&(result.pageNextDataIndex=winStartItemInfo.i),++result.pageCount),winEndItemInfo=currItemInfo;for(i=targetItemIndex-1,winStartItemInfo=targetItemInfo,winEndItemInfo=targetItemInfo,currItemInfo=null;i>=-1;--i)(currItemInfo=getItemInfo(children[i]))&&intersect(winEndItemInfo,currItemInfo.s)||!(winStartItemInfo.i<winEndItemInfo.i)||(winEndItemInfo=winStartItemInfo,null==result.pagePrevDataIndex&&(result.pagePrevDataIndex=winStartItemInfo.i),++result.pageCount,++result.pageIndex),winStartItemInfo=currItemInfo;return result;function getItemInfo(el){if(el){var itemRect=el.getBoundingRect(),start=itemRect[xy]+el[xy];return{s:start,e:start+itemRect[wh],i:el.__legendDataIndex}}}function intersect(itemInfo,winStart){return itemInfo.e>=winStart&&itemInfo.s<=winStart+containerRectSize}},ScrollableLegendView.prototype._findTargetItemIndex=function(targetDataIndex){return this._showController?(this.getContentGroup().eachChild((function(child,idx){var legendDataIdx=child.__legendDataIndex;null==defaultIndex&&null!=legendDataIdx&&(defaultIndex=idx),legendDataIdx===targetDataIndex&&(index=idx)})),null!=index?index:defaultIndex):0;var index,defaultIndex},ScrollableLegendView.type="legend.scroll",ScrollableLegendView}(legend_LegendView),legend_ScrollableLegendView=ScrollableLegendView_ScrollableLegendView;function installLegendScroll_install(registers){use(installLegendPlain_install),registers.registerComponentModel(legend_ScrollableLegendModel),registers.registerComponentView(legend_ScrollableLegendView),function installScrollableLegendAction(registers){registers.registerAction("legendScroll","legendscroll",(function(payload,ecModel){var scrollDataIndex=payload.scrollDataIndex;null!=scrollDataIndex&&ecModel.eachComponent({mainType:"legend",subType:"scroll",query:payload},(function(legendModel){legendModel.setScrollDataIndex(scrollDataIndex)}))}))}(registers)}var InsideZoomModel_InsideZoomModel=function(_super){function InsideZoomModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=InsideZoomModel.type,_this}return __extends(InsideZoomModel,_super),InsideZoomModel.type="dataZoom.inside",InsideZoomModel.defaultOption=inheritDefaultOption(dataZoom_DataZoomModel.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),InsideZoomModel}(dataZoom_DataZoomModel),dataZoom_InsideZoomModel=InsideZoomModel_InsideZoomModel,roams_inner=makeInner();function setViewInfoToCoordSysRecord(api,dataZoomModel,getRange){roams_inner(api).coordSysRecordMap.each((function(coordSysRecord){var dzInfo=coordSysRecord.dataZoomInfoMap.get(dataZoomModel.uid);dzInfo&&(dzInfo.getRange=getRange)}))}function disposeCoordSysRecord(coordSysRecordMap,coordSysRecord){if(coordSysRecord){coordSysRecordMap.removeKey(coordSysRecord.model.uid);var controller=coordSysRecord.controller;controller&&controller.dispose()}}function roams_dispatchAction(api,batch){api.isDisposed()||api.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:batch})}function containsPoint(coordSysModel,e,x,y){return coordSysModel.coordinateSystem.containPoint([x,y])}function installDataZoomRoamProcessor(registers){registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER,(function(ecModel,api){var apiInner=roams_inner(api),coordSysRecordMap=apiInner.coordSysRecordMap||(apiInner.coordSysRecordMap=Object(util.createHashMap)());coordSysRecordMap.each((function(coordSysRecord){coordSysRecord.dataZoomInfoMap=null})),ecModel.eachComponent({mainType:"dataZoom",subType:"inside"},(function(dataZoomModel){var dzReferCoordSysWrap=collectReferCoordSysModelInfo(dataZoomModel);Object(util.each)(dzReferCoordSysWrap.infoList,(function(dzCoordSysInfo){var coordSysUid=dzCoordSysInfo.model.uid,coordSysRecord=coordSysRecordMap.get(coordSysUid)||coordSysRecordMap.set(coordSysUid,function createCoordSysRecord(api,coordSysModel){var coordSysRecord={model:coordSysModel,containsPoint:Object(util.curry)(containsPoint,coordSysModel),dispatchAction:Object(util.curry)(roams_dispatchAction,api),dataZoomInfoMap:null,controller:null},controller=coordSysRecord.controller=new helper_RoamController(api.getZr());return Object(util.each)(["pan","zoom","scrollMove"],(function(eventName){controller.on(eventName,(function(event){var batch=[];coordSysRecord.dataZoomInfoMap.each((function(dzInfo){if(event.isAvailableBehavior(dzInfo.model.option)){var method=(dzInfo.getRange||{})[eventName],range=method&&method(dzInfo.dzReferCoordSysInfo,coordSysRecord.model.mainType,coordSysRecord.controller,event);!dzInfo.model.get("disabled",!0)&&range&&batch.push({dataZoomId:dzInfo.model.id,start:range[0],end:range[1]})}})),batch.length&&coordSysRecord.dispatchAction(batch)}))})),coordSysRecord}(api,dzCoordSysInfo.model));(coordSysRecord.dataZoomInfoMap||(coordSysRecord.dataZoomInfoMap=Object(util.createHashMap)())).set(dataZoomModel.uid,{dzReferCoordSysInfo:dzCoordSysInfo,model:dataZoomModel,getRange:null})}))})),coordSysRecordMap.each((function(coordSysRecord){var firstDzInfo,controller=coordSysRecord.controller,dataZoomInfoMap=coordSysRecord.dataZoomInfoMap;if(dataZoomInfoMap){var firstDzKey=dataZoomInfoMap.keys()[0];null!=firstDzKey&&(firstDzInfo=dataZoomInfoMap.get(firstDzKey))}if(firstDzInfo){var controllerParams=function mergeControllerParams(dataZoomInfoMap){var controlType,typePriority={type_true:2,type_move:1,type_false:0,type_undefined:-1},preventDefaultMouseMove=!0;return dataZoomInfoMap.each((function(dataZoomInfo){var dataZoomModel=dataZoomInfo.model,oneType=!dataZoomModel.get("disabled",!0)&&(!dataZoomModel.get("zoomLock",!0)||"move");typePriority["type_"+oneType]>typePriority["type_"+controlType]&&(controlType=oneType),preventDefaultMouseMove=preventDefaultMouseMove&&dataZoomModel.get("preventDefaultMouseMove",!0)})),{controlType:controlType,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!preventDefaultMouseMove}}}(dataZoomInfoMap);controller.enable(controllerParams.controlType,controllerParams.opt),controller.setPointerChecker(coordSysRecord.containsPoint),createOrUpdate(coordSysRecord,"dispatchAction",firstDzInfo.model.get("throttle",!0),"fixRate")}else disposeCoordSysRecord(coordSysRecordMap,coordSysRecord)}))}))}var InsideZoomView_InsideZoomView=function(_super){function InsideZoomView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="dataZoom.inside",_this}return __extends(InsideZoomView,_super),InsideZoomView.prototype.render=function(dataZoomModel,ecModel,api){_super.prototype.render.apply(this,arguments),dataZoomModel.noTarget()?this._clear():(this.range=dataZoomModel.getPercentRange(),setViewInfoToCoordSysRecord(api,dataZoomModel,{pan:Object(util.bind)(getRangeHandlers.pan,this),zoom:Object(util.bind)(getRangeHandlers.zoom,this),scrollMove:Object(util.bind)(getRangeHandlers.scrollMove,this)}))},InsideZoomView.prototype.dispose=function(){this._clear(),_super.prototype.dispose.apply(this,arguments)},InsideZoomView.prototype._clear=function(){!function disposeCoordSysRecordIfNeeded(api,dataZoomModel){for(var coordSysRecordMap=roams_inner(api).coordSysRecordMap,coordSysKeyArr=coordSysRecordMap.keys(),i=0;i<coordSysKeyArr.length;i++){var coordSysKey=coordSysKeyArr[i],coordSysRecord=coordSysRecordMap.get(coordSysKey),dataZoomInfoMap=coordSysRecord.dataZoomInfoMap;if(dataZoomInfoMap){var dzUid=dataZoomModel.uid;dataZoomInfoMap.get(dzUid)&&(dataZoomInfoMap.removeKey(dzUid),dataZoomInfoMap.keys().length||disposeCoordSysRecord(coordSysRecordMap,coordSysRecord))}}}(this.api,this.dataZoomModel),this.range=null},InsideZoomView.type="dataZoom.inside",InsideZoomView}(dataZoom_DataZoomView),getRangeHandlers={zoom:function(coordSysInfo,coordSysMainType,controller,e){var lastRange=this.range,range=lastRange.slice(),axisModel=coordSysInfo.axisModels[0];if(axisModel){var directionInfo=getDirectionInfo[coordSysMainType](null,[e.originX,e.originY],axisModel,controller,coordSysInfo),percentPoint=(directionInfo.signal>0?directionInfo.pixelStart+directionInfo.pixelLength-directionInfo.pixel:directionInfo.pixel-directionInfo.pixelStart)/directionInfo.pixelLength*(range[1]-range[0])+range[0],scale=Math.max(1/e.scale,0);range[0]=(range[0]-percentPoint)*scale+percentPoint,range[1]=(range[1]-percentPoint)*scale+percentPoint;var minMaxSpan=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return sliderMove(0,range,[0,100],0,minMaxSpan.minSpan,minMaxSpan.maxSpan),this.range=range,lastRange[0]!==range[0]||lastRange[1]!==range[1]?range:void 0}},pan:makeMover((function(range,axisModel,coordSysInfo,coordSysMainType,controller,e){var directionInfo=getDirectionInfo[coordSysMainType]([e.oldX,e.oldY],[e.newX,e.newY],axisModel,controller,coordSysInfo);return directionInfo.signal*(range[1]-range[0])*directionInfo.pixel/directionInfo.pixelLength})),scrollMove:makeMover((function(range,axisModel,coordSysInfo,coordSysMainType,controller,e){return getDirectionInfo[coordSysMainType]([0,0],[e.scrollDelta,e.scrollDelta],axisModel,controller,coordSysInfo).signal*(range[1]-range[0])*e.scrollDelta}))};function makeMover(getPercentDelta){return function(coordSysInfo,coordSysMainType,controller,e){var lastRange=this.range,range=lastRange.slice(),axisModel=coordSysInfo.axisModels[0];if(axisModel)return sliderMove(getPercentDelta(range,axisModel,coordSysInfo,coordSysMainType,controller,e),range,[0,100],"all"),this.range=range,lastRange[0]!==range[0]||lastRange[1]!==range[1]?range:void 0}}var getDirectionInfo={grid:function(oldPoint,newPoint,axisModel,controller,coordSysInfo){var axis=axisModel.axis,ret={},rect=coordSysInfo.model.coordinateSystem.getRect();return oldPoint=oldPoint||[0,0],"x"===axis.dim?(ret.pixel=newPoint[0]-oldPoint[0],ret.pixelLength=rect.width,ret.pixelStart=rect.x,ret.signal=axis.inverse?1:-1):(ret.pixel=newPoint[1]-oldPoint[1],ret.pixelLength=rect.height,ret.pixelStart=rect.y,ret.signal=axis.inverse?-1:1),ret},polar:function(oldPoint,newPoint,axisModel,controller,coordSysInfo){var axis=axisModel.axis,ret={},polar=coordSysInfo.model.coordinateSystem,radiusExtent=polar.getRadiusAxis().getExtent(),angleExtent=polar.getAngleAxis().getExtent();return oldPoint=oldPoint?polar.pointToCoord(oldPoint):[0,0],newPoint=polar.pointToCoord(newPoint),"radiusAxis"===axisModel.mainType?(ret.pixel=newPoint[0]-oldPoint[0],ret.pixelLength=radiusExtent[1]-radiusExtent[0],ret.pixelStart=radiusExtent[0],ret.signal=axis.inverse?1:-1):(ret.pixel=newPoint[1]-oldPoint[1],ret.pixelLength=angleExtent[1]-angleExtent[0],ret.pixelStart=angleExtent[0],ret.signal=axis.inverse?-1:1),ret},singleAxis:function(oldPoint,newPoint,axisModel,controller,coordSysInfo){var axis=axisModel.axis,rect=coordSysInfo.model.coordinateSystem.getRect(),ret={};return oldPoint=oldPoint||[0,0],"horizontal"===axis.orient?(ret.pixel=newPoint[0]-oldPoint[0],ret.pixelLength=rect.width,ret.pixelStart=rect.x,ret.signal=axis.inverse?1:-1):(ret.pixel=newPoint[1]-oldPoint[1],ret.pixelLength=rect.height,ret.pixelStart=rect.y,ret.signal=axis.inverse?-1:1),ret}},dataZoom_InsideZoomView=InsideZoomView_InsideZoomView;function installDataZoomInside_install(registers){installCommon(registers),registers.registerComponentModel(dataZoom_InsideZoomModel),registers.registerComponentView(dataZoom_InsideZoomView),installDataZoomRoamProcessor(registers)}var SliderZoomModel_SliderZoomModel=function(_super){function SliderZoomModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SliderZoomModel.type,_this}return __extends(SliderZoomModel,_super),SliderZoomModel.type="dataZoom.slider",SliderZoomModel.layoutMode="box",SliderZoomModel.defaultOption=inheritDefaultOption(dataZoom_DataZoomModel.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),SliderZoomModel}(dataZoom_DataZoomModel),dataZoom_SliderZoomModel=SliderZoomModel_SliderZoomModel,SliderZoomView_Rect=shape_Rect,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView_SliderZoomView=function(_super){function SliderZoomView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SliderZoomView.type,_this._displayables={},_this}return __extends(SliderZoomView,_super),SliderZoomView.prototype.init=function(ecModel,api){this.api=api,this._onBrush=Object(util.bind)(this._onBrush,this),this._onBrushEnd=Object(util.bind)(this._onBrushEnd,this)},SliderZoomView.prototype.render=function(dataZoomModel,ecModel,api,payload){if(_super.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",dataZoomModel.get("throttle"),"fixRate"),this._orient=dataZoomModel.getOrient(),!1!==dataZoomModel.get("show")){if(dataZoomModel.noTarget())return this._clear(),void this.group.removeAll();payload&&"dataZoom"===payload.type&&payload.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},SliderZoomView.prototype.dispose=function(){this._clear(),_super.prototype.dispose.apply(this,arguments)},SliderZoomView.prototype._clear=function(){clear(this,"_dispatchZoomAction");var zr=this.api.getZr();zr.off("mousemove",this._onBrush),zr.off("mouseup",this._onBrushEnd)},SliderZoomView.prototype._buildView=function(){var thisGroup=this.group;thisGroup.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var barGroup=this._displayables.sliderGroup=new graphic_Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),thisGroup.add(barGroup),this._positionGroup()},SliderZoomView.prototype._resetLocation=function(){var dataZoomModel=this.dataZoomModel,api=this.api,moveHandleSize=dataZoomModel.get("brushSelect")?7:0,coordRect=this._findCoordRect(),ecSize={width:api.getWidth(),height:api.getHeight()},positionInfo="horizontal"===this._orient?{right:ecSize.width-coordRect.x-coordRect.width,top:ecSize.height-30-7-moveHandleSize,width:coordRect.width,height:30}:{right:7,top:coordRect.y,width:30,height:coordRect.height},layoutParams=getLayoutParams(dataZoomModel.option);Object(util.each)(["right","top","width","height"],(function(name){"ph"===layoutParams[name]&&(layoutParams[name]=positionInfo[name])}));var layoutRect=getLayoutRect(layoutParams,ecSize);this._location={x:layoutRect.x,y:layoutRect.y},this._size=[layoutRect.width,layoutRect.height],"vertical"===this._orient&&this._size.reverse()},SliderZoomView.prototype._positionGroup=function(){var thisGroup=this.group,location=this._location,orient=this._orient,targetAxisModel=this.dataZoomModel.getFirstTargetAxisModel(),inverse=targetAxisModel&&targetAxisModel.get("inverse"),sliderGroup=this._displayables.sliderGroup,otherAxisInverse=(this._dataShadowInfo||{}).otherAxisInverse;sliderGroup.attr("horizontal"!==orient||inverse?"horizontal"===orient&&inverse?{scaleY:otherAxisInverse?1:-1,scaleX:-1}:"vertical"!==orient||inverse?{scaleY:otherAxisInverse?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:otherAxisInverse?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:otherAxisInverse?1:-1,scaleX:1});var rect=thisGroup.getBoundingRect([sliderGroup]);thisGroup.x=location.x-rect.x,thisGroup.y=location.y-rect.y,thisGroup.markRedraw()},SliderZoomView.prototype._getViewExtent=function(){return[0,this._size[0]]},SliderZoomView.prototype._renderBackground=function(){var dataZoomModel=this.dataZoomModel,size=this._size,barGroup=this._displayables.sliderGroup,brushSelect=dataZoomModel.get("brushSelect");barGroup.add(new SliderZoomView_Rect({silent:!0,shape:{x:0,y:0,width:size[0],height:size[1]},style:{fill:dataZoomModel.get("backgroundColor")},z2:-40}));var clickPanel=new SliderZoomView_Rect({shape:{x:0,y:0,width:size[0],height:size[1]},style:{fill:"transparent"},z2:0,onclick:Object(util.bind)(this._onClickPanel,this)}),zr=this.api.getZr();brushSelect?(clickPanel.on("mousedown",this._onBrushStart,this),clickPanel.cursor="crosshair",zr.on("mousemove",this._onBrush),zr.on("mouseup",this._onBrushEnd)):(zr.off("mousemove",this._onBrush),zr.off("mouseup",this._onBrushEnd)),barGroup.add(clickPanel)},SliderZoomView.prototype._renderDataShadow=function(){var info=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],info){var size=this._size,oldSize=this._shadowSize||[],seriesModel=info.series,data=seriesModel.getRawData(),otherDim=seriesModel.getShadowDim?seriesModel.getShadowDim():info.otherDim;if(null!=otherDim){var polygonPts=this._shadowPolygonPts,polylinePts=this._shadowPolylinePts;if(data!==this._shadowData||otherDim!==this._shadowDim||size[0]!==oldSize[0]||size[1]!==oldSize[1]){var otherDataExtent_1=data.getDataExtent(otherDim),otherOffset=.3*(otherDataExtent_1[1]-otherDataExtent_1[0]);otherDataExtent_1=[otherDataExtent_1[0]-otherOffset,otherDataExtent_1[1]+otherOffset];var lastIsEmpty_1,otherShadowExtent_1=[0,size[1]],thisShadowExtent=[0,size[0]],areaPoints_1=[[size[0],0],[0,0]],linePoints_1=[],step_1=thisShadowExtent[1]/(data.count()-1),thisCoord_1=0,stride_1=Math.round(data.count()/size[0]);data.each([otherDim],(function(value,index){if(stride_1>0&&index%stride_1)thisCoord_1+=step_1;else{var isEmpty=null==value||isNaN(value)||""===value,otherCoord=isEmpty?0:linearMap(value,otherDataExtent_1,otherShadowExtent_1,!0);isEmpty&&!lastIsEmpty_1&&index?(areaPoints_1.push([areaPoints_1[areaPoints_1.length-1][0],0]),linePoints_1.push([linePoints_1[linePoints_1.length-1][0],0])):!isEmpty&&lastIsEmpty_1&&(areaPoints_1.push([thisCoord_1,0]),linePoints_1.push([thisCoord_1,0])),areaPoints_1.push([thisCoord_1,otherCoord]),linePoints_1.push([thisCoord_1,otherCoord]),thisCoord_1+=step_1,lastIsEmpty_1=isEmpty}})),polygonPts=this._shadowPolygonPts=areaPoints_1,polylinePts=this._shadowPolylinePts=linePoints_1}this._shadowData=data,this._shadowDim=otherDim,this._shadowSize=[size[0],size[1]];for(var dataZoomModel=this.dataZoomModel,i=0;i<3;i++){var group=createDataShadowGroup(1===i);this._displayables.sliderGroup.add(group),this._displayables.dataShadowSegs.push(group)}}}function createDataShadowGroup(isSelectedArea){var model=dataZoomModel.getModel(isSelectedArea?"selectedDataBackground":"dataBackground"),group=new graphic_Group,polygon=new shape_Polygon({shape:{points:polygonPts},segmentIgnoreThreshold:1,style:model.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),polyline=new shape_Polyline({shape:{points:polylinePts},segmentIgnoreThreshold:1,style:model.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return group.add(polygon),group.add(polyline),group}},SliderZoomView.prototype._prepareDataShadowInfo=function(){var dataZoomModel=this.dataZoomModel,showDataShadow=dataZoomModel.get("showDataShadow");if(!1!==showDataShadow){var result,ecModel=this.ecModel;return dataZoomModel.eachTargetAxis((function(axisDim,axisIndex){var seriesModels=dataZoomModel.getAxisProxy(axisDim,axisIndex).getTargetSeriesModels();Object(util.each)(seriesModels,(function(seriesModel){if(!(result||!0!==showDataShadow&&Object(util.indexOf)(SHOW_DATA_SHADOW_SERIES_TYPE,seriesModel.get("type"))<0)){var otherAxisInverse,thisAxis=ecModel.getComponent(getAxisMainType(axisDim),axisIndex).axis,otherDim=function getOtherDim(thisDim){return{x:"y",y:"x",radius:"angle",angle:"radius"}[thisDim]}(axisDim),coordSys=seriesModel.coordinateSystem;null!=otherDim&&coordSys.getOtherAxis&&(otherAxisInverse=coordSys.getOtherAxis(thisAxis).inverse),otherDim=seriesModel.getData().mapDimension(otherDim),result={thisAxis:thisAxis,series:seriesModel,thisDim:axisDim,otherDim:otherDim,otherAxisInverse:otherAxisInverse}}}),this)}),this),result}},SliderZoomView.prototype._renderHandle=function(){var thisGroup=this.group,displayables=this._displayables,handles=displayables.handles=[null,null],handleLabels=displayables.handleLabels=[null,null],sliderGroup=this._displayables.sliderGroup,size=this._size,dataZoomModel=this.dataZoomModel,api=this.api,borderRadius=dataZoomModel.get("borderRadius")||0,brushSelect=dataZoomModel.get("brushSelect"),filler=displayables.filler=new SliderZoomView_Rect({silent:brushSelect,style:{fill:dataZoomModel.get("fillerColor")},textConfig:{position:"inside"}});sliderGroup.add(filler),sliderGroup.add(new SliderZoomView_Rect({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:size[0],height:size[1],r:borderRadius},style:{stroke:dataZoomModel.get("dataBackgroundColor")||dataZoomModel.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),Object(util.each)([0,1],(function(handleIndex){var iconStr=dataZoomModel.get("handleIcon");!symbolBuildProxies[iconStr]&&iconStr.indexOf("path://")<0&&iconStr.indexOf("image://")<0&&(iconStr="path://"+iconStr);var path=symbol_createSymbol(iconStr,-1,0,2,2,null,!0);path.attr({cursor:getCursor(this._orient),draggable:!0,drift:Object(util.bind)(this._onDragMove,this,handleIndex),ondragend:Object(util.bind)(this._onDragEnd,this),onmouseover:Object(util.bind)(this._showDataInfo,this,!0),onmouseout:Object(util.bind)(this._showDataInfo,this,!1),z2:5});var bRect=path.getBoundingRect(),handleSize=dataZoomModel.get("handleSize");this._handleHeight=number_parsePercent(handleSize,this._size[1]),this._handleWidth=bRect.width/bRect.height*this._handleHeight,path.setStyle(dataZoomModel.getModel("handleStyle").getItemStyle()),path.style.strokeNoScale=!0,path.rectHover=!0,path.ensureState("emphasis").style=dataZoomModel.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(path);var handleColor=dataZoomModel.get("handleColor");null!=handleColor&&(path.style.fill=handleColor),sliderGroup.add(handles[handleIndex]=path);var textStyleModel=dataZoomModel.getModel("textStyle");thisGroup.add(handleLabels[handleIndex]=new Text({silent:!0,invisible:!0,style:createTextStyle(textStyleModel,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:textStyleModel.getTextColor(),font:textStyleModel.getFont()}),z2:10}))}),this);var actualMoveZone=filler;if(brushSelect){var moveHandleHeight=number_parsePercent(dataZoomModel.get("moveHandleSize"),size[1]),moveHandle_1=displayables.moveHandle=new shape_Rect({style:dataZoomModel.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:size[1]-.5,height:moveHandleHeight}}),iconSize=.8*moveHandleHeight,moveHandleIcon=displayables.moveHandleIcon=symbol_createSymbol(dataZoomModel.get("moveHandleIcon"),-iconSize/2,-iconSize/2,iconSize,iconSize,"#fff",!0);moveHandleIcon.silent=!0,moveHandleIcon.y=size[1]+moveHandleHeight/2-.5,moveHandle_1.ensureState("emphasis").style=dataZoomModel.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var moveZoneExpandSize=Math.min(size[1]/2,Math.max(moveHandleHeight,10));(actualMoveZone=displayables.moveZone=new shape_Rect({invisible:!0,shape:{y:size[1]-moveZoneExpandSize,height:moveHandleHeight+moveZoneExpandSize}})).on("mouseover",(function(){api.enterEmphasis(moveHandle_1)})).on("mouseout",(function(){api.leaveEmphasis(moveHandle_1)})),sliderGroup.add(moveHandle_1),sliderGroup.add(moveHandleIcon),sliderGroup.add(actualMoveZone)}actualMoveZone.attr({draggable:!0,cursor:getCursor(this._orient),drift:Object(util.bind)(this._onDragMove,this,"all"),ondragstart:Object(util.bind)(this._showDataInfo,this,!0),ondragend:Object(util.bind)(this._onDragEnd,this),onmouseover:Object(util.bind)(this._showDataInfo,this,!0),onmouseout:Object(util.bind)(this._showDataInfo,this,!1)})},SliderZoomView.prototype._resetInterval=function(){var range=this._range=this.dataZoomModel.getPercentRange(),viewExtent=this._getViewExtent();this._handleEnds=[linearMap(range[0],[0,100],viewExtent,!0),linearMap(range[1],[0,100],viewExtent,!0)]},SliderZoomView.prototype._updateInterval=function(handleIndex,delta){var dataZoomModel=this.dataZoomModel,handleEnds=this._handleEnds,viewExtend=this._getViewExtent(),minMaxSpan=dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan(),percentExtent=[0,100];sliderMove(delta,handleEnds,viewExtend,dataZoomModel.get("zoomLock")?"all":handleIndex,null!=minMaxSpan.minSpan?linearMap(minMaxSpan.minSpan,percentExtent,viewExtend,!0):null,null!=minMaxSpan.maxSpan?linearMap(minMaxSpan.maxSpan,percentExtent,viewExtend,!0):null);var lastRange=this._range,range=this._range=asc([linearMap(handleEnds[0],viewExtend,percentExtent,!0),linearMap(handleEnds[1],viewExtend,percentExtent,!0)]);return!lastRange||lastRange[0]!==range[0]||lastRange[1]!==range[1]},SliderZoomView.prototype._updateView=function(nonRealtime){var displaybles=this._displayables,handleEnds=this._handleEnds,handleInterval=asc(handleEnds.slice()),size=this._size;Object(util.each)([0,1],(function(handleIndex){var handle=displaybles.handles[handleIndex],handleHeight=this._handleHeight;handle.attr({scaleX:handleHeight/2,scaleY:handleHeight/2,x:handleEnds[handleIndex]+(handleIndex?-1:1),y:size[1]/2-handleHeight/2})}),this),displaybles.filler.setShape({x:handleInterval[0],y:0,width:handleInterval[1]-handleInterval[0],height:size[1]});var viewExtent={x:handleInterval[0],width:handleInterval[1]-handleInterval[0]};displaybles.moveHandle&&(displaybles.moveHandle.setShape(viewExtent),displaybles.moveZone.setShape(viewExtent),displaybles.moveZone.getBoundingRect(),displaybles.moveHandleIcon&&displaybles.moveHandleIcon.attr("x",viewExtent.x+viewExtent.width/2));for(var dataShadowSegs=displaybles.dataShadowSegs,segIntervals=[0,handleInterval[0],handleInterval[1],size[0]],i=0;i<dataShadowSegs.length;i++){var segGroup=dataShadowSegs[i],clipPath=segGroup.getClipPath();clipPath||(clipPath=new shape_Rect,segGroup.setClipPath(clipPath)),clipPath.setShape({x:segIntervals[i],y:0,width:segIntervals[i+1]-segIntervals[i],height:size[1]})}this._updateDataInfo(nonRealtime)},SliderZoomView.prototype._updateDataInfo=function(nonRealtime){var dataZoomModel=this.dataZoomModel,displaybles=this._displayables,handleLabels=displaybles.handleLabels,orient=this._orient,labelTexts=["",""];if(dataZoomModel.get("showDetail")){var axisProxy=dataZoomModel.findRepresentativeAxisProxy();if(axisProxy){var axis=axisProxy.getAxisModel().axis,range=this._range,dataInterval=nonRealtime?axisProxy.calculateDataWindow({start:range[0],end:range[1]}).valueWindow:axisProxy.getDataValueWindow();labelTexts=[this._formatLabel(dataInterval[0],axis),this._formatLabel(dataInterval[1],axis)]}}var orderedHandleEnds=asc(this._handleEnds.slice());function setLabel(handleIndex){var barTransform=getTransform(displaybles.handles[handleIndex].parent,this.group),direction=transformDirection(0===handleIndex?"right":"left",barTransform),offset=this._handleWidth/2+5,textPoint=graphic_applyTransform([orderedHandleEnds[handleIndex]+(0===handleIndex?-offset:offset),this._size[1]/2],barTransform);handleLabels[handleIndex].setStyle({x:textPoint[0],y:textPoint[1],verticalAlign:"horizontal"===orient?"middle":direction,align:"horizontal"===orient?direction:"center",text:labelTexts[handleIndex]})}setLabel.call(this,0),setLabel.call(this,1)},SliderZoomView.prototype._formatLabel=function(value,axis){var dataZoomModel=this.dataZoomModel,labelFormatter=dataZoomModel.get("labelFormatter"),labelPrecision=dataZoomModel.get("labelPrecision");null!=labelPrecision&&"auto"!==labelPrecision||(labelPrecision=axis.getPixelPrecision());var valueStr=null==value||isNaN(value)?"":"category"===axis.type||"time"===axis.type?axis.scale.getLabel({value:Math.round(value)}):value.toFixed(Math.min(labelPrecision,20));return Object(util.isFunction)(labelFormatter)?labelFormatter(value,valueStr):Object(util.isString)(labelFormatter)?labelFormatter.replace("{value}",valueStr):valueStr},SliderZoomView.prototype._showDataInfo=function(showOrHide){showOrHide=this._dragging||showOrHide;var displayables=this._displayables,handleLabels=displayables.handleLabels;handleLabels[0].attr("invisible",!showOrHide),handleLabels[1].attr("invisible",!showOrHide),displayables.moveHandle&&this.api[showOrHide?"enterEmphasis":"leaveEmphasis"](displayables.moveHandle,1)},SliderZoomView.prototype._onDragMove=function(handleIndex,dx,dy,event){this._dragging=!0,event_stop(event.event);var vertex=graphic_applyTransform([dx,dy],this._displayables.sliderGroup.getLocalTransform(),!0),changed=this._updateInterval(handleIndex,vertex[0]),realtime=this.dataZoomModel.get("realtime");this._updateView(!realtime),changed&&realtime&&this._dispatchZoomAction(!0)},SliderZoomView.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},SliderZoomView.prototype._onClickPanel=function(e){var size=this._size,localPoint=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(localPoint[0]<0||localPoint[0]>size[0]||localPoint[1]<0||localPoint[1]>size[1])){var handleEnds=this._handleEnds,center=(handleEnds[0]+handleEnds[1])/2,changed=this._updateInterval("all",localPoint[0]-center);this._updateView(),changed&&this._dispatchZoomAction(!1)}},SliderZoomView.prototype._onBrushStart=function(e){var x=e.offsetX,y=e.offsetY;this._brushStart=new core_Point(x,y),this._brushing=!0,this._brushStartTime=+new Date},SliderZoomView.prototype._onBrushEnd=function(e){if(this._brushing){var brushRect=this._displayables.brushRect;if(this._brushing=!1,brushRect){brushRect.attr("ignore",!0);var brushShape=brushRect.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(brushShape.width)<5)){var viewExtend=this._getViewExtent(),percentExtent=[0,100];this._range=asc([linearMap(brushShape.x,viewExtend,percentExtent,!0),linearMap(brushShape.x+brushShape.width,viewExtend,percentExtent,!0)]),this._handleEnds=[brushShape.x,brushShape.x+brushShape.width],this._updateView(),this._dispatchZoomAction(!1)}}}},SliderZoomView.prototype._onBrush=function(e){this._brushing&&(event_stop(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},SliderZoomView.prototype._updateBrushRect=function(mouseX,mouseY){var displayables=this._displayables,dataZoomModel=this.dataZoomModel,brushRect=displayables.brushRect;brushRect||(brushRect=displayables.brushRect=new SliderZoomView_Rect({silent:!0,style:dataZoomModel.getModel("brushStyle").getItemStyle()}),displayables.sliderGroup.add(brushRect)),brushRect.attr("ignore",!1);var brushStart=this._brushStart,sliderGroup=this._displayables.sliderGroup,endPoint=sliderGroup.transformCoordToLocal(mouseX,mouseY),startPoint=sliderGroup.transformCoordToLocal(brushStart.x,brushStart.y),size=this._size;endPoint[0]=Math.max(Math.min(size[0],endPoint[0]),0),brushRect.setShape({x:startPoint[0],y:0,width:endPoint[0]-startPoint[0],height:size[1]})},SliderZoomView.prototype._dispatchZoomAction=function(realtime){var range=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:realtime?REALTIME_ANIMATION_CONFIG:null,start:range[0],end:range[1]})},SliderZoomView.prototype._findCoordRect=function(){var rect,coordSysInfoList=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!rect&&coordSysInfoList.length){var coordSys=coordSysInfoList[0].model.coordinateSystem;rect=coordSys.getRect&&coordSys.getRect()}if(!rect){var width=this.api.getWidth(),height=this.api.getHeight();rect={x:.2*width,y:.2*height,width:.6*width,height:.6*height}}return rect},SliderZoomView.type="dataZoom.slider",SliderZoomView}(dataZoom_DataZoomView);function getCursor(orient){return"vertical"===orient?"ns-resize":"ew-resize"}var dataZoom_SliderZoomView=SliderZoomView_SliderZoomView;function installDataZoomSlider_install(registers){registers.registerComponentModel(dataZoom_SliderZoomModel),registers.registerComponentView(dataZoom_SliderZoomView),installCommon(registers)}var visualDefault={get:function(visualType,key,isCategory){var value=util.clone((visualDefault_defaultOption[visualType]||{})[key]);return isCategory&&util.isArray(value)?value[value.length-1]:value}},visualDefault_defaultOption={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},visual_visualDefault=visualDefault,VisualMapModel_mapVisual=visual_VisualMapping.mapVisual,eachVisual=visual_VisualMapping.eachVisual,isArray=util.isArray,VisualMapModel_each=util.each,VisualMapModel_asc=asc,VisualMapModel_linearMap=linearMap,VisualMapModel_VisualMapModel=function(_super){function VisualMapModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=VisualMapModel.type,_this.stateList=["inRange","outOfRange"],_this.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],_this.layoutMode={type:"box",ignoreSize:!0},_this.dataBound=[-1/0,1/0],_this.targetVisuals={},_this.controllerVisuals={},_this}return __extends(VisualMapModel,_super),VisualMapModel.prototype.init=function(option,parentModel,ecModel){this.mergeDefaultAndTheme(option,ecModel)},VisualMapModel.prototype.optionUpdated=function(newOption,isInit){var thisOption=this.option;!isInit&&replaceVisualOption(thisOption,newOption,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},VisualMapModel.prototype.resetVisual=function(supplementVisualOption){var stateList=this.stateList;supplementVisualOption=util.bind(supplementVisualOption,this),this.controllerVisuals=createVisualMappings(this.option.controller,stateList,supplementVisualOption),this.targetVisuals=createVisualMappings(this.option.target,stateList,supplementVisualOption)},VisualMapModel.prototype.getItemSymbol=function(){return null},VisualMapModel.prototype.getTargetSeriesIndices=function(){var optionSeriesIndex=this.option.seriesIndex,seriesIndices=[];return null==optionSeriesIndex||"all"===optionSeriesIndex?this.ecModel.eachSeries((function(seriesModel,index){seriesIndices.push(index)})):seriesIndices=normalizeToArray(optionSeriesIndex),seriesIndices},VisualMapModel.prototype.eachTargetSeries=function(callback,context){util.each(this.getTargetSeriesIndices(),(function(seriesIndex){var seriesModel=this.ecModel.getSeriesByIndex(seriesIndex);seriesModel&&callback.call(context,seriesModel)}),this)},VisualMapModel.prototype.isTargetSeries=function(seriesModel){var is=!1;return this.eachTargetSeries((function(model){model===seriesModel&&(is=!0)})),is},VisualMapModel.prototype.formatValueText=function(value,isCategory,edgeSymbols){var isMinMax,option=this.option,precision=option.precision,dataBound=this.dataBound,formatter=option.formatter;edgeSymbols=edgeSymbols||["<",">"],util.isArray(value)&&(value=value.slice(),isMinMax=!0);var textValue=isCategory?value:isMinMax?[toFixed(value[0]),toFixed(value[1])]:toFixed(value);return util.isString(formatter)?formatter.replace("{value}",isMinMax?textValue[0]:textValue).replace("{value2}",isMinMax?textValue[1]:textValue):util.isFunction(formatter)?isMinMax?formatter(value[0],value[1]):formatter(value):isMinMax?value[0]===dataBound[0]?edgeSymbols[0]+" "+textValue[1]:value[1]===dataBound[1]?edgeSymbols[1]+" "+textValue[0]:textValue[0]+" - "+textValue[1]:textValue;function toFixed(val){return val===dataBound[0]?"min":val===dataBound[1]?"max":(+val).toFixed(Math.min(precision,20))}},VisualMapModel.prototype.resetExtent=function(){var thisOption=this.option,extent=VisualMapModel_asc([thisOption.min,thisOption.max]);this._dataExtent=extent},VisualMapModel.prototype.getDataDimensionIndex=function(data){var optDim=this.option.dimension;if(null!=optDim)return data.getDimensionIndex(optDim);for(var dimNames=data.dimensions,i=dimNames.length-1;i>=0;i--){var dimName=dimNames[i],dimInfo=data.getDimensionInfo(dimName);if(!dimInfo.isCalculationCoord)return dimInfo.storeDimIndex}},VisualMapModel.prototype.getExtent=function(){return this._dataExtent.slice()},VisualMapModel.prototype.completeVisualOption=function(){var ecModel=this.ecModel,thisOption=this.option,base={inRange:thisOption.inRange,outOfRange:thisOption.outOfRange},target=thisOption.target||(thisOption.target={}),controller=thisOption.controller||(thisOption.controller={});util.merge(target,base),util.merge(controller,base);var isCategory=this.isCategory();function completeSingle(base){isArray(thisOption.color)&&!base.inRange&&(base.inRange={color:thisOption.color.slice().reverse()}),base.inRange=base.inRange||{color:ecModel.get("gradientColor")}}completeSingle.call(this,target),completeSingle.call(this,controller),function completeInactive(base,stateExist,stateAbsent){var optExist=base[stateExist],optAbsent=base[stateAbsent];optExist&&!optAbsent&&(optAbsent=base[stateAbsent]={},VisualMapModel_each(optExist,(function(visualData,visualType){if(visual_VisualMapping.isValidType(visualType)){var defa=visual_visualDefault.get(visualType,"inactive",isCategory);null!=defa&&(optAbsent[visualType]=defa,"color"!==visualType||optAbsent.hasOwnProperty("opacity")||optAbsent.hasOwnProperty("colorAlpha")||(optAbsent.opacity=[0,0]))}})))}.call(this,target,"inRange","outOfRange"),function completeController(controller){var symbolExists=(controller.inRange||{}).symbol||(controller.outOfRange||{}).symbol,symbolSizeExists=(controller.inRange||{}).symbolSize||(controller.outOfRange||{}).symbolSize,inactiveColor=this.get("inactiveColor"),defaultSymbol=this.getItemSymbol()||"roundRect";VisualMapModel_each(this.stateList,(function(state){var itemSize=this.itemSize,visuals=controller[state];visuals||(visuals=controller[state]={color:isCategory?inactiveColor:[inactiveColor]}),null==visuals.symbol&&(visuals.symbol=symbolExists&&util.clone(symbolExists)||(isCategory?defaultSymbol:[defaultSymbol])),null==visuals.symbolSize&&(visuals.symbolSize=symbolSizeExists&&util.clone(symbolSizeExists)||(isCategory?itemSize[0]:[itemSize[0],itemSize[0]])),visuals.symbol=VisualMapModel_mapVisual(visuals.symbol,(function(symbol){return"none"===symbol?defaultSymbol:symbol}));var symbolSize=visuals.symbolSize;if(null!=symbolSize){var max_1=-1/0;eachVisual(symbolSize,(function(value){value>max_1&&(max_1=value)})),visuals.symbolSize=VisualMapModel_mapVisual(symbolSize,(function(value){return VisualMapModel_linearMap(value,[0,max_1],[0,itemSize[0]],!0)}))}}),this)}.call(this,controller)},VisualMapModel.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},VisualMapModel.prototype.isCategory=function(){return!!this.option.categories},VisualMapModel.prototype.setSelected=function(selected){},VisualMapModel.prototype.getSelected=function(){return null},VisualMapModel.prototype.getValueState=function(value){return null},VisualMapModel.prototype.getVisualMeta=function(getColorVisual){return null},VisualMapModel.type="visualMap",VisualMapModel.dependencies=["series"],VisualMapModel.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},VisualMapModel}(Component),visualMap_VisualMapModel=VisualMapModel_VisualMapModel,DEFAULT_BAR_BOUND=[20,140],ContinuousModel_ContinuousModel=function(_super){function ContinuousModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ContinuousModel.type,_this}return __extends(ContinuousModel,_super),ContinuousModel.prototype.optionUpdated=function(newOption,isInit){_super.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(mappingOption){mappingOption.mappingMethod="linear",mappingOption.dataExtent=this.getExtent()})),this._resetRange()},ContinuousModel.prototype.resetItemSize=function(){_super.prototype.resetItemSize.apply(this,arguments);var itemSize=this.itemSize;(null==itemSize[0]||isNaN(itemSize[0]))&&(itemSize[0]=DEFAULT_BAR_BOUND[0]),(null==itemSize[1]||isNaN(itemSize[1]))&&(itemSize[1]=DEFAULT_BAR_BOUND[1])},ContinuousModel.prototype._resetRange=function(){var dataExtent=this.getExtent(),range=this.option.range;!range||range.auto?(dataExtent.auto=1,this.option.range=dataExtent):util.isArray(range)&&(range[0]>range[1]&&range.reverse(),range[0]=Math.max(range[0],dataExtent[0]),range[1]=Math.min(range[1],dataExtent[1]))},ContinuousModel.prototype.completeVisualOption=function(){_super.prototype.completeVisualOption.apply(this,arguments),util.each(this.stateList,(function(state){var symbolSize=this.option.controller[state].symbolSize;symbolSize&&symbolSize[0]!==symbolSize[1]&&(symbolSize[0]=symbolSize[1]/3)}),this)},ContinuousModel.prototype.setSelected=function(selected){this.option.range=selected.slice(),this._resetRange()},ContinuousModel.prototype.getSelected=function(){var dataExtent=this.getExtent(),dataInterval=asc((this.get("range")||[]).slice());return dataInterval[0]>dataExtent[1]&&(dataInterval[0]=dataExtent[1]),dataInterval[1]>dataExtent[1]&&(dataInterval[1]=dataExtent[1]),dataInterval[0]<dataExtent[0]&&(dataInterval[0]=dataExtent[0]),dataInterval[1]<dataExtent[0]&&(dataInterval[1]=dataExtent[0]),dataInterval},ContinuousModel.prototype.getValueState=function(value){var range=this.option.range,dataExtent=this.getExtent();return(range[0]<=dataExtent[0]||range[0]<=value)&&(range[1]>=dataExtent[1]||value<=range[1])?"inRange":"outOfRange"},ContinuousModel.prototype.findTargetDataIndices=function(range){var result=[];return this.eachTargetSeries((function(seriesModel){var dataIndices=[],data=seriesModel.getData();data.each(this.getDataDimensionIndex(data),(function(value,dataIndex){range[0]<=value&&value<=range[1]&&dataIndices.push(dataIndex)}),this),result.push({seriesId:seriesModel.id,dataIndex:dataIndices})}),this),result},ContinuousModel.prototype.getVisualMeta=function(getColorVisual){var oVals=getColorStopValues(this,"outOfRange",this.getExtent()),iVals=getColorStopValues(this,"inRange",this.option.range.slice()),stops=[];function setStop(value,valueState){stops.push({value:value,color:getColorVisual(value,valueState)})}for(var iIdx=0,oIdx=0,iLen=iVals.length,oLen=oVals.length;oIdx<oLen&&(!iVals.length||oVals[oIdx]<=iVals[0]);oIdx++)oVals[oIdx]<iVals[iIdx]&&setStop(oVals[oIdx],"outOfRange");for(var first=1;iIdx<iLen;iIdx++,first=0)first&&stops.length&&setStop(iVals[iIdx],"outOfRange"),setStop(iVals[iIdx],"inRange");for(first=1;oIdx<oLen;oIdx++)(!iVals.length||iVals[iVals.length-1]<oVals[oIdx])&&(first&&(stops.length&&setStop(stops[stops.length-1].value,"outOfRange"),first=0),setStop(oVals[oIdx],"outOfRange"));var stopsLen=stops.length;return{stops:stops,outerColors:[stopsLen?stops[0].color:"transparent",stopsLen?stops[stopsLen-1].color:"transparent"]}},ContinuousModel.type="visualMap.continuous",ContinuousModel.defaultOption=inheritDefaultOption(visualMap_VisualMapModel.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),ContinuousModel}(visualMap_VisualMapModel);function getColorStopValues(visualMapModel,valueState,dataExtent){if(dataExtent[0]===dataExtent[1])return dataExtent.slice();for(var step=(dataExtent[1]-dataExtent[0])/200,value=dataExtent[0],stopValues=[],i=0;i<=200&&value<dataExtent[1];i++)stopValues.push(value),value+=step;return stopValues.push(dataExtent[1]),stopValues}var visualMap_ContinuousModel=ContinuousModel_ContinuousModel,VisualMapView_VisualMapView=function(_super){function VisualMapView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=VisualMapView.type,_this.autoPositionValues={left:1,right:1,top:1,bottom:1},_this}return __extends(VisualMapView,_super),VisualMapView.prototype.init=function(ecModel,api){this.ecModel=ecModel,this.api=api},VisualMapView.prototype.render=function(visualMapModel,ecModel,api,payload){this.visualMapModel=visualMapModel,!1!==visualMapModel.get("show")?this.doRender(visualMapModel,ecModel,api,payload):this.group.removeAll()},VisualMapView.prototype.renderBackground=function(group){var visualMapModel=this.visualMapModel,padding=normalizeCssArray(visualMapModel.get("padding")||0),rect=group.getBoundingRect();group.add(new shape_Rect({z2:-1,silent:!0,shape:{x:rect.x-padding[3],y:rect.y-padding[0],width:rect.width+padding[3]+padding[1],height:rect.height+padding[0]+padding[2]},style:{fill:visualMapModel.get("backgroundColor"),stroke:visualMapModel.get("borderColor"),lineWidth:visualMapModel.get("borderWidth")}}))},VisualMapView.prototype.getControllerVisual=function(targetValue,visualCluster,opts){var forceState=(opts=opts||{}).forceState,visualMapModel=this.visualMapModel,visualObj={};if("color"===visualCluster){var defaultColor=visualMapModel.get("contentColor");visualObj.color=defaultColor}function getter(key){return visualObj[key]}function setter(key,value){visualObj[key]=value}var mappings=visualMapModel.controllerVisuals[forceState||visualMapModel.getValueState(targetValue)],visualTypes=visual_VisualMapping.prepareVisualTypes(mappings);return util.each(visualTypes,(function(type){var visualMapping=mappings[type];opts.convertOpacityToAlpha&&"opacity"===type&&(type="colorAlpha",visualMapping=mappings.__alphaForOpacity),visual_VisualMapping.dependsOn(type,visualCluster)&&visualMapping&&visualMapping.applyVisual(targetValue,getter,setter)})),visualObj[visualCluster]},VisualMapView.prototype.positionGroup=function(group){var model=this.visualMapModel,api=this.api;positionElement(group,model.getBoxLayoutParams(),{width:api.getWidth(),height:api.getHeight()})},VisualMapView.prototype.doRender=function(visualMapModel,ecModel,api,payload){},VisualMapView.type="visualMap",VisualMapView}(view_Component),visualMap_VisualMapView=VisualMapView_VisualMapView,paramsSet=[["left","right","width"],["top","bottom","height"]];function getItemAlign(visualMapModel,api,itemSize){var modelOption=visualMapModel.option,itemAlign=modelOption.align;if(null!=itemAlign&&"auto"!==itemAlign)return itemAlign;for(var ecSize={width:api.getWidth(),height:api.getHeight()},realIndex="horizontal"===modelOption.orient?1:0,reals=paramsSet[realIndex],fakeValue=[0,null,10],layoutInput={},i=0;i<3;i++)layoutInput[paramsSet[1-realIndex][i]]=fakeValue[i],layoutInput[reals[i]]=2===i?itemSize[0]:modelOption[reals[i]];var rParam=[["x","width",3],["y","height",0]][realIndex],rect=getLayoutRect(layoutInput,ecSize,modelOption.padding);return reals[(rect.margin[rParam[2]]||0)+rect[rParam[0]]+.5*rect[rParam[1]]<.5*ecSize[rParam[1]]?0:1]}function makeHighDownBatch(batch,visualMapModel){return util.each(batch||[],(function(batchItem){null!=batchItem.dataIndex&&(batchItem.dataIndexInside=batchItem.dataIndex,batchItem.dataIndex=null),batchItem.highlightKey="visualMap"+(visualMapModel?visualMapModel.componentIndex:"")})),batch}var ContinuousView_linearMap=linearMap,ContinuousView_each=util.each,ContinuousView_mathMin=Math.min,ContinuousView_mathMax=Math.max,ContinuousView_ContinuousView=function(_super){function ContinuousView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ContinuousView.type,_this._shapes={},_this._dataInterval=[],_this._handleEnds=[],_this._hoverLinkDataIndices=[],_this}return __extends(ContinuousView,_super),ContinuousView.prototype.doRender=function(visualMapModel,ecModel,api,payload){this._api=api,payload&&"selectDataRange"===payload.type&&payload.from===this.uid||this._buildView()},ContinuousView.prototype._buildView=function(){this.group.removeAll();var visualMapModel=this.visualMapModel,thisGroup=this.group;this._orient=visualMapModel.get("orient"),this._useHandle=visualMapModel.get("calculable"),this._resetInterval(),this._renderBar(thisGroup);var dataRangeText=visualMapModel.get("text");this._renderEndsText(thisGroup,dataRangeText,0),this._renderEndsText(thisGroup,dataRangeText,1),this._updateView(!0),this.renderBackground(thisGroup),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(thisGroup)},ContinuousView.prototype._renderEndsText=function(group,dataRangeText,endsIndex){if(dataRangeText){var text=dataRangeText[1-endsIndex];text=null!=text?text+"":"";var visualMapModel=this.visualMapModel,textGap=visualMapModel.get("textGap"),itemSize=visualMapModel.itemSize,barGroup=this._shapes.mainGroup,position=this._applyTransform([itemSize[0]/2,0===endsIndex?-textGap:itemSize[1]+textGap],barGroup),align=this._applyTransform(0===endsIndex?"bottom":"top",barGroup),orient=this._orient,textStyleModel=this.visualMapModel.textStyleModel;this.group.add(new Text({style:createTextStyle(textStyleModel,{x:position[0],y:position[1],verticalAlign:"horizontal"===orient?"middle":align,align:"horizontal"===orient?align:"center",text:text})}))}},ContinuousView.prototype._renderBar=function(targetGroup){var visualMapModel=this.visualMapModel,shapes=this._shapes,itemSize=visualMapModel.itemSize,orient=this._orient,useHandle=this._useHandle,itemAlign=getItemAlign(visualMapModel,this.api,itemSize),mainGroup=shapes.mainGroup=this._createBarGroup(itemAlign),gradientBarGroup=new graphic_Group;mainGroup.add(gradientBarGroup),gradientBarGroup.add(shapes.outOfRange=createPolygon()),gradientBarGroup.add(shapes.inRange=createPolygon(null,useHandle?ContinuousView_getCursor(this._orient):null,util.bind(this._dragHandle,this,"all",!1),util.bind(this._dragHandle,this,"all",!0))),gradientBarGroup.setClipPath(new shape_Rect({shape:{x:0,y:0,width:itemSize[0],height:itemSize[1],r:3}}));var textRect=visualMapModel.textStyleModel.getTextRect(""),textSize=ContinuousView_mathMax(textRect.width,textRect.height);useHandle&&(shapes.handleThumbs=[],shapes.handleLabels=[],shapes.handleLabelPoints=[],this._createHandle(visualMapModel,mainGroup,0,itemSize,textSize,orient),this._createHandle(visualMapModel,mainGroup,1,itemSize,textSize,orient)),this._createIndicator(visualMapModel,mainGroup,itemSize,textSize,orient),targetGroup.add(mainGroup)},ContinuousView.prototype._createHandle=function(visualMapModel,mainGroup,handleIndex,itemSize,textSize,orient){var onDrift=util.bind(this._dragHandle,this,handleIndex,!1),onDragEnd=util.bind(this._dragHandle,this,handleIndex,!0),handleSize=parsePercent(visualMapModel.get("handleSize"),itemSize[0]),handleThumb=symbol_createSymbol(visualMapModel.get("handleIcon"),-handleSize/2,-handleSize/2,handleSize,handleSize,null,!0),cursor=ContinuousView_getCursor(this._orient);handleThumb.attr({cursor:cursor,draggable:!0,drift:onDrift,ondragend:onDragEnd,onmousemove:function(e){event_stop(e.event)}}),handleThumb.x=itemSize[0]/2,handleThumb.useStyle(visualMapModel.getModel("handleStyle").getItemStyle()),handleThumb.setStyle({strokeNoScale:!0,strokeFirst:!0}),handleThumb.style.lineWidth*=2,handleThumb.ensureState("emphasis").style=visualMapModel.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher(handleThumb,!0),mainGroup.add(handleThumb);var textStyleModel=this.visualMapModel.textStyleModel,handleLabel=new Text({cursor:cursor,draggable:!0,drift:onDrift,onmousemove:function(e){event_stop(e.event)},ondragend:onDragEnd,style:createTextStyle(textStyleModel,{x:0,y:0,text:""})});handleLabel.ensureState("blur").style={opacity:.1},handleLabel.stateTransition={duration:200},this.group.add(handleLabel);var handleLabelPoint=[handleSize,0],shapes=this._shapes;shapes.handleThumbs[handleIndex]=handleThumb,shapes.handleLabelPoints[handleIndex]=handleLabelPoint,shapes.handleLabels[handleIndex]=handleLabel},ContinuousView.prototype._createIndicator=function(visualMapModel,mainGroup,itemSize,textSize,orient){var scale=parsePercent(visualMapModel.get("indicatorSize"),itemSize[0]),indicator=symbol_createSymbol(visualMapModel.get("indicatorIcon"),-scale/2,-scale/2,scale,scale,null,!0);indicator.attr({cursor:"move",invisible:!0,silent:!0,x:itemSize[0]/2});var indicatorStyle=visualMapModel.getModel("indicatorStyle").getItemStyle();if(indicator instanceof graphic_Image){var pathStyle=indicator.style;indicator.useStyle(util.extend({image:pathStyle.image,x:pathStyle.x,y:pathStyle.y,width:pathStyle.width,height:pathStyle.height},indicatorStyle))}else indicator.useStyle(indicatorStyle);mainGroup.add(indicator);var textStyleModel=this.visualMapModel.textStyleModel,indicatorLabel=new Text({silent:!0,invisible:!0,style:createTextStyle(textStyleModel,{x:0,y:0,text:""})});this.group.add(indicatorLabel);var indicatorLabelPoint=[("horizontal"===orient?textSize/2:6)+itemSize[0]/2,0],shapes=this._shapes;shapes.indicator=indicator,shapes.indicatorLabel=indicatorLabel,shapes.indicatorLabelPoint=indicatorLabelPoint,this._firstShowIndicator=!0},ContinuousView.prototype._dragHandle=function(handleIndex,isEnd,dx,dy){if(this._useHandle){if(this._dragging=!isEnd,!isEnd){var vertex=this._applyTransform([dx,dy],this._shapes.mainGroup,!0);this._updateInterval(handleIndex,vertex[1]),this._hideIndicator(),this._updateView()}isEnd===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),isEnd?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[handleIndex],!1)}},ContinuousView.prototype._resetInterval=function(){var visualMapModel=this.visualMapModel,dataInterval=this._dataInterval=visualMapModel.getSelected(),dataExtent=visualMapModel.getExtent(),sizeExtent=[0,visualMapModel.itemSize[1]];this._handleEnds=[ContinuousView_linearMap(dataInterval[0],dataExtent,sizeExtent,!0),ContinuousView_linearMap(dataInterval[1],dataExtent,sizeExtent,!0)]},ContinuousView.prototype._updateInterval=function(handleIndex,delta){delta=delta||0;var visualMapModel=this.visualMapModel,handleEnds=this._handleEnds,sizeExtent=[0,visualMapModel.itemSize[1]];sliderMove(delta,handleEnds,sizeExtent,handleIndex,0);var dataExtent=visualMapModel.getExtent();this._dataInterval=[ContinuousView_linearMap(handleEnds[0],sizeExtent,dataExtent,!0),ContinuousView_linearMap(handleEnds[1],sizeExtent,dataExtent,!0)]},ContinuousView.prototype._updateView=function(forSketch){var visualMapModel=this.visualMapModel,dataExtent=visualMapModel.getExtent(),shapes=this._shapes,outOfRangeHandleEnds=[0,visualMapModel.itemSize[1]],inRangeHandleEnds=forSketch?outOfRangeHandleEnds:this._handleEnds,visualInRange=this._createBarVisual(this._dataInterval,dataExtent,inRangeHandleEnds,"inRange"),visualOutOfRange=this._createBarVisual(dataExtent,dataExtent,outOfRangeHandleEnds,"outOfRange");shapes.inRange.setStyle({fill:visualInRange.barColor}).setShape("points",visualInRange.barPoints),shapes.outOfRange.setStyle({fill:visualOutOfRange.barColor}).setShape("points",visualOutOfRange.barPoints),this._updateHandle(inRangeHandleEnds,visualInRange)},ContinuousView.prototype._createBarVisual=function(dataInterval,dataExtent,handleEnds,forceState){var opts={forceState:forceState,convertOpacityToAlpha:!0},colorStops=this._makeColorGradient(dataInterval,opts),symbolSizes=[this.getControllerVisual(dataInterval[0],"symbolSize",opts),this.getControllerVisual(dataInterval[1],"symbolSize",opts)],barPoints=this._createBarPoints(handleEnds,symbolSizes);return{barColor:new graphic_LinearGradient(0,0,0,1,colorStops),barPoints:barPoints,handlesColor:[colorStops[0].color,colorStops[colorStops.length-1].color]}},ContinuousView.prototype._makeColorGradient=function(dataInterval,opts){var colorStops=[],step=(dataInterval[1]-dataInterval[0])/100;colorStops.push({color:this.getControllerVisual(dataInterval[0],"color",opts),offset:0});for(var i=1;i<100;i++){var currValue=dataInterval[0]+step*i;if(currValue>dataInterval[1])break;colorStops.push({color:this.getControllerVisual(currValue,"color",opts),offset:i/100})}return colorStops.push({color:this.getControllerVisual(dataInterval[1],"color",opts),offset:1}),colorStops},ContinuousView.prototype._createBarPoints=function(handleEnds,symbolSizes){var itemSize=this.visualMapModel.itemSize;return[[itemSize[0]-symbolSizes[0],handleEnds[0]],[itemSize[0],handleEnds[0]],[itemSize[0],handleEnds[1]],[itemSize[0]-symbolSizes[1],handleEnds[1]]]},ContinuousView.prototype._createBarGroup=function(itemAlign){var orient=this._orient,inverse=this.visualMapModel.get("inverse");return new graphic_Group("horizontal"!==orient||inverse?"horizontal"===orient&&inverse?{scaleX:"bottom"===itemAlign?-1:1,rotation:-Math.PI/2}:"vertical"!==orient||inverse?{scaleX:"left"===itemAlign?1:-1}:{scaleX:"left"===itemAlign?1:-1,scaleY:-1}:{scaleX:"bottom"===itemAlign?1:-1,rotation:Math.PI/2})},ContinuousView.prototype._updateHandle=function(handleEnds,visualInRange){if(this._useHandle){var shapes=this._shapes,visualMapModel=this.visualMapModel,handleThumbs=shapes.handleThumbs,handleLabels=shapes.handleLabels,itemSize=visualMapModel.itemSize,dataExtent=visualMapModel.getExtent();ContinuousView_each([0,1],(function(handleIndex){var handleThumb=handleThumbs[handleIndex];handleThumb.setStyle("fill",visualInRange.handlesColor[handleIndex]),handleThumb.y=handleEnds[handleIndex];var val=ContinuousView_linearMap(handleEnds[handleIndex],[0,itemSize[1]],dataExtent,!0),symbolSize=this.getControllerVisual(val,"symbolSize");handleThumb.scaleX=handleThumb.scaleY=symbolSize/itemSize[0],handleThumb.x=itemSize[0]-symbolSize/2;var textPoint=graphic_applyTransform(shapes.handleLabelPoints[handleIndex],getTransform(handleThumb,this.group));handleLabels[handleIndex].setStyle({x:textPoint[0],y:textPoint[1],text:visualMapModel.formatValueText(this._dataInterval[handleIndex]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",shapes.mainGroup):"center"})}),this)}},ContinuousView.prototype._showIndicator=function(cursorValue,textValue,rangeSymbol,halfHoverLinkSize){var visualMapModel=this.visualMapModel,dataExtent=visualMapModel.getExtent(),itemSize=visualMapModel.itemSize,sizeExtent=[0,itemSize[1]],shapes=this._shapes,indicator=shapes.indicator;if(indicator){indicator.attr("invisible",!1);var color=this.getControllerVisual(cursorValue,"color",{convertOpacityToAlpha:!0}),symbolSize=this.getControllerVisual(cursorValue,"symbolSize"),y=ContinuousView_linearMap(cursorValue,dataExtent,sizeExtent,!0),x=itemSize[0]-symbolSize/2,oldIndicatorPos={x:indicator.x,y:indicator.y};indicator.y=y,indicator.x=x;var textPoint=graphic_applyTransform(shapes.indicatorLabelPoint,getTransform(indicator,this.group)),indicatorLabel=shapes.indicatorLabel;indicatorLabel.attr("invisible",!1);var align=this._applyTransform("left",shapes.mainGroup),isHorizontal="horizontal"===this._orient;indicatorLabel.setStyle({text:(rangeSymbol||"")+visualMapModel.formatValueText(textValue),verticalAlign:isHorizontal?align:"middle",align:isHorizontal?"center":align});var indicatorNewProps={x:x,y:y,style:{fill:color}},labelNewProps={style:{x:textPoint[0],y:textPoint[1]}};if(visualMapModel.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var animationCfg={duration:100,easing:"cubicInOut",additive:!0};indicator.x=oldIndicatorPos.x,indicator.y=oldIndicatorPos.y,indicator.animateTo(indicatorNewProps,animationCfg),indicatorLabel.animateTo(labelNewProps,animationCfg)}else indicator.attr(indicatorNewProps),indicatorLabel.attr(labelNewProps);this._firstShowIndicator=!1;var handleLabels=this._shapes.handleLabels;if(handleLabels)for(var i=0;i<handleLabels.length;i++)this._api.enterBlur(handleLabels[i])}},ContinuousView.prototype._enableHoverLinkToSeries=function(){var self=this;this._shapes.mainGroup.on("mousemove",(function(e){if(self._hovering=!0,!self._dragging){var itemSize=self.visualMapModel.itemSize,pos=self._applyTransform([e.offsetX,e.offsetY],self._shapes.mainGroup,!0,!0);pos[1]=ContinuousView_mathMin(ContinuousView_mathMax(0,pos[1]),itemSize[1]),self._doHoverLinkToSeries(pos[1],0<=pos[0]&&pos[0]<=itemSize[0])}})).on("mouseout",(function(){self._hovering=!1,!self._dragging&&self._clearHoverLinkToSeries()}))},ContinuousView.prototype._enableHoverLinkFromSeries=function(){var zr=this.api.getZr();this.visualMapModel.option.hoverLink?(zr.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),zr.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},ContinuousView.prototype._doHoverLinkToSeries=function(cursorPos,hoverOnBar){var visualMapModel=this.visualMapModel,itemSize=visualMapModel.itemSize;if(visualMapModel.option.hoverLink){var sizeExtent=[0,itemSize[1]],dataExtent=visualMapModel.getExtent();cursorPos=ContinuousView_mathMin(ContinuousView_mathMax(sizeExtent[0],cursorPos),sizeExtent[1]);var halfHoverLinkSize=function getHalfHoverLinkSize(visualMapModel,dataExtent,sizeExtent){var halfHoverLinkSize=6,hoverLinkDataSize=visualMapModel.get("hoverLinkDataSize");hoverLinkDataSize&&(halfHoverLinkSize=ContinuousView_linearMap(hoverLinkDataSize,dataExtent,sizeExtent,!0)/2);return halfHoverLinkSize}(visualMapModel,dataExtent,sizeExtent),hoverRange=[cursorPos-halfHoverLinkSize,cursorPos+halfHoverLinkSize],cursorValue=ContinuousView_linearMap(cursorPos,sizeExtent,dataExtent,!0),valueRange=[ContinuousView_linearMap(hoverRange[0],sizeExtent,dataExtent,!0),ContinuousView_linearMap(hoverRange[1],sizeExtent,dataExtent,!0)];hoverRange[0]<sizeExtent[0]&&(valueRange[0]=-1/0),hoverRange[1]>sizeExtent[1]&&(valueRange[1]=1/0),hoverOnBar&&(valueRange[0]===-1/0?this._showIndicator(cursorValue,valueRange[1],"< ",halfHoverLinkSize):valueRange[1]===1/0?this._showIndicator(cursorValue,valueRange[0],"> ",halfHoverLinkSize):this._showIndicator(cursorValue,cursorValue," ",halfHoverLinkSize));var oldBatch=this._hoverLinkDataIndices,newBatch=[];(hoverOnBar||useHoverLinkOnHandle(visualMapModel))&&(newBatch=this._hoverLinkDataIndices=visualMapModel.findTargetDataIndices(valueRange));var resultBatches=function compressBatches(batchA,batchB){var mapA={},mapB={};return makeMap(batchA||[],mapA),makeMap(batchB||[],mapB,mapA),[mapToArray(mapA),mapToArray(mapB)];function makeMap(sourceBatch,map,otherMap){for(var i=0,len=sourceBatch.length;i<len;i++){var seriesId=convertOptionIdName(sourceBatch[i].seriesId,null);if(null==seriesId)return;for(var dataIndices=normalizeToArray(sourceBatch[i].dataIndex),otherDataIndices=otherMap&&otherMap[seriesId],j=0,lenj=dataIndices.length;j<lenj;j++){var dataIndex=dataIndices[j];otherDataIndices&&otherDataIndices[dataIndex]?otherDataIndices[dataIndex]=null:(map[seriesId]||(map[seriesId]={}))[dataIndex]=1}}}function mapToArray(map,isData){var result=[];for(var i in map)if(map.hasOwnProperty(i)&&null!=map[i])if(isData)result.push(+i);else{var dataIndices=mapToArray(map[i],!0);dataIndices.length&&result.push({seriesId:i,dataIndex:dataIndices})}return result}}(oldBatch,newBatch);this._dispatchHighDown("downplay",makeHighDownBatch(resultBatches[0],visualMapModel)),this._dispatchHighDown("highlight",makeHighDownBatch(resultBatches[1],visualMapModel))}},ContinuousView.prototype._hoverLinkFromSeriesMouseOver=function(e){var el=e.target,visualMapModel=this.visualMapModel;if(el&&null!=getECData(el).dataIndex){var ecData=getECData(el),dataModel=this.ecModel.getSeriesByIndex(ecData.seriesIndex);if(visualMapModel.isTargetSeries(dataModel)){var data=dataModel.getData(ecData.dataType),value=data.getStore().get(visualMapModel.getDataDimensionIndex(data),ecData.dataIndex);isNaN(value)||this._showIndicator(value,value)}}},ContinuousView.prototype._hideIndicator=function(){var shapes=this._shapes;shapes.indicator&&shapes.indicator.attr("invisible",!0),shapes.indicatorLabel&&shapes.indicatorLabel.attr("invisible",!0);var handleLabels=this._shapes.handleLabels;if(handleLabels)for(var i=0;i<handleLabels.length;i++)this._api.leaveBlur(handleLabels[i])},ContinuousView.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var indices=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch(indices,this.visualMapModel)),indices.length=0},ContinuousView.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var zr=this.api.getZr();zr.off("mouseover",this._hoverLinkFromSeriesMouseOver),zr.off("mouseout",this._hideIndicator)},ContinuousView.prototype._applyTransform=function(vertex,element,inverse,global){var transform=getTransform(element,global?null:this.group);return util.isArray(vertex)?graphic_applyTransform(vertex,transform,inverse):transformDirection(vertex,transform,inverse)},ContinuousView.prototype._dispatchHighDown=function(type,batch){batch&&batch.length&&this.api.dispatchAction({type:type,batch:batch})},ContinuousView.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},ContinuousView.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},ContinuousView.type="visualMap.continuous",ContinuousView}(visualMap_VisualMapView);function createPolygon(points,cursor,onDrift,onDragEnd){return new shape_Polygon({shape:{points:points},draggable:!!onDrift,cursor:cursor,drift:onDrift,onmousemove:function(e){event_stop(e.event)},ondragend:onDragEnd})}function useHoverLinkOnHandle(visualMapModel){var hoverLinkOnHandle=visualMapModel.get("hoverLinkOnHandle");return!!(null==hoverLinkOnHandle?visualMapModel.get("realtime"):hoverLinkOnHandle)}function ContinuousView_getCursor(orient){return"vertical"===orient?"ns-resize":"ew-resize"}var visualMap_ContinuousView=ContinuousView_ContinuousView,visualMapActionInfo={type:"selectDataRange",event:"dataRangeSelected",update:"update"},visualMapActionHander=function(payload,ecModel){ecModel.eachComponent({mainType:"visualMap",query:payload},(function(model){model.setSelected(payload.selected)}))},visualMapEncodingHandlers=[{createOnAllSeries:!0,reset:function(seriesModel,ecModel){var resetDefines=[];return ecModel.eachComponent("visualMap",(function(visualMapModel){var pipelineContext=seriesModel.pipelineContext;!visualMapModel.isTargetSeries(seriesModel)||pipelineContext&&pipelineContext.large||resetDefines.push(function incrementalApplyVisual(stateList,visualMappings,getValueState,dim){var visualTypesMap={};return util.each(stateList,(function(state){var visualTypes=visual_VisualMapping.prepareVisualTypes(visualMappings[state]);visualTypesMap[state]=visualTypes})),{progress:function progress(params,data){var dimIndex,dataIndex;function getVisual(key){return getItemVisualFromData(data,dataIndex,key)}function setVisual(key,value){setItemVisualFromData(data,dataIndex,key,value)}null!=dim&&(dimIndex=data.getDimensionIndex(dim));for(var store=data.getStore();null!=(dataIndex=params.next());){var rawDataItem=data.getRawDataItem(dataIndex);if(!rawDataItem||!1!==rawDataItem.visualMap)for(var value=null!=dim?store.get(dimIndex,dataIndex):dataIndex,valueState=getValueState(value),mappings=visualMappings[valueState],visualTypes=visualTypesMap[valueState],i=0,len=visualTypes.length;i<len;i++){var type=visualTypes[i];mappings[type]&&mappings[type].applyVisual(value,getVisual,setVisual)}}}}}(visualMapModel.stateList,visualMapModel.targetVisuals,util.bind(visualMapModel.getValueState,visualMapModel),visualMapModel.getDataDimensionIndex(seriesModel.getData())))})),resetDefines}},{createOnAllSeries:!0,reset:function(seriesModel,ecModel){var data=seriesModel.getData(),visualMetaList=[];ecModel.eachComponent("visualMap",(function(visualMapModel){if(visualMapModel.isTargetSeries(seriesModel)){var visualMeta=visualMapModel.getVisualMeta(util.bind(visualEncoding_getColorVisual,null,seriesModel,visualMapModel))||{stops:[],outerColors:[]},dimIdx=visualMapModel.getDataDimensionIndex(data);dimIdx>=0&&(visualMeta.dimension=dimIdx,visualMetaList.push(visualMeta))}})),seriesModel.getData().setVisual("visualMeta",visualMetaList)}}];function visualEncoding_getColorVisual(seriesModel,visualMapModel,value,valueState){for(var mappings=visualMapModel.targetVisuals[valueState],visualTypes=visual_VisualMapping.prepareVisualTypes(mappings),resultVisual={color:getVisualFromData(seriesModel.getData(),"color")},i=0,len=visualTypes.length;i<len;i++){var type=visualTypes[i],mapping=mappings["opacity"===type?"__alphaForOpacity":type];mapping&&mapping.applyVisual(value,getVisual,setVisual)}return resultVisual.color;function getVisual(key){return resultVisual[key]}function setVisual(key,value){resultVisual[key]=value}}var preprocessor_each=util.each;function visualMapPreprocessor(option){var visualMap=option&&option.visualMap;util.isArray(visualMap)||(visualMap=visualMap?[visualMap]:[]),preprocessor_each(visualMap,(function(opt){if(opt){visualMap_preprocessor_has(opt,"splitList")&&!visualMap_preprocessor_has(opt,"pieces")&&(opt.pieces=opt.splitList,delete opt.splitList);var pieces=opt.pieces;pieces&&util.isArray(pieces)&&preprocessor_each(pieces,(function(piece){util.isObject(piece)&&(visualMap_preprocessor_has(piece,"start")&&!visualMap_preprocessor_has(piece,"min")&&(piece.min=piece.start),visualMap_preprocessor_has(piece,"end")&&!visualMap_preprocessor_has(piece,"max")&&(piece.max=piece.end))}))}}))}function visualMap_preprocessor_has(obj,name){return obj&&obj.hasOwnProperty&&obj.hasOwnProperty(name)}var installCommon_installed=!1;function installCommon_installCommon(registers){installCommon_installed||(installCommon_installed=!0,registers.registerSubTypeDefaulter("visualMap",(function(option){return option.categories||(option.pieces?option.pieces.length>0:option.splitNumber>0)&&!option.calculable?"piecewise":"continuous"})),registers.registerAction(visualMapActionInfo,visualMapActionHander),Object(util.each)(visualMapEncodingHandlers,(function(handler){registers.registerVisual(registers.PRIORITY.VISUAL.COMPONENT,handler)})),registers.registerPreprocessor(visualMapPreprocessor))}function installVisualMapContinuous_install(registers){registers.registerComponentModel(visualMap_ContinuousModel),registers.registerComponentView(visualMap_ContinuousView),installCommon_installCommon(registers)}var PiecewiseModel_PiecewiseModel=function(_super){function PiecewiseModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=PiecewiseModel.type,_this._pieceList=[],_this}return __extends(PiecewiseModel,_super),PiecewiseModel.prototype.optionUpdated=function(newOption,isInit){_super.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var mode=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected(newOption,isInit);var categories=this.option.categories;this.resetVisual((function(mappingOption,state){"categories"===mode?(mappingOption.mappingMethod="category",mappingOption.categories=util.clone(categories)):(mappingOption.dataExtent=this.getExtent(),mappingOption.mappingMethod="piecewise",mappingOption.pieceList=util.map(this._pieceList,(function(piece){return piece=util.clone(piece),"inRange"!==state&&(piece.visual=null),piece})))}))},PiecewiseModel.prototype.completeVisualOption=function(){var option=this.option,visualTypesInPieces={},visualTypes=visual_VisualMapping.listVisualTypes(),isCategory=this.isCategory();function has(obj,state,visualType){return obj&&obj[state]&&obj[state].hasOwnProperty(visualType)}util.each(option.pieces,(function(piece){util.each(visualTypes,(function(visualType){piece.hasOwnProperty(visualType)&&(visualTypesInPieces[visualType]=1)}))})),util.each(visualTypesInPieces,(function(v,visualType){var exists=!1;util.each(this.stateList,(function(state){exists=exists||has(option,state,visualType)||has(option.target,state,visualType)}),this),!exists&&util.each(this.stateList,(function(state){(option[state]||(option[state]={}))[visualType]=visual_visualDefault.get(visualType,"inRange"===state?"active":"inactive",isCategory)}))}),this),_super.prototype.completeVisualOption.apply(this,arguments)},PiecewiseModel.prototype._resetSelected=function(newOption,isInit){var thisOption=this.option,pieceList=this._pieceList,selected=(isInit?thisOption:newOption).selected||{};if(thisOption.selected=selected,util.each(pieceList,(function(piece,index){var key=this.getSelectedMapKey(piece);selected.hasOwnProperty(key)||(selected[key]=!0)}),this),"single"===thisOption.selectedMode){var hasSel_1=!1;util.each(pieceList,(function(piece,index){var key=this.getSelectedMapKey(piece);selected[key]&&(hasSel_1?selected[key]=!1:hasSel_1=!0)}),this)}},PiecewiseModel.prototype.getItemSymbol=function(){return this.get("itemSymbol")},PiecewiseModel.prototype.getSelectedMapKey=function(piece){return"categories"===this._mode?piece.value+"":piece.index+""},PiecewiseModel.prototype.getPieceList=function(){return this._pieceList},PiecewiseModel.prototype._determineMode=function(){var option=this.option;return option.pieces&&option.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},PiecewiseModel.prototype.setSelected=function(selected){this.option.selected=util.clone(selected)},PiecewiseModel.prototype.getValueState=function(value){var index=visual_VisualMapping.findPieceIndex(value,this._pieceList);return null!=index&&this.option.selected[this.getSelectedMapKey(this._pieceList[index])]?"inRange":"outOfRange"},PiecewiseModel.prototype.findTargetDataIndices=function(pieceIndex){var result=[],pieceList=this._pieceList;return this.eachTargetSeries((function(seriesModel){var dataIndices=[],data=seriesModel.getData();data.each(this.getDataDimensionIndex(data),(function(value,dataIndex){visual_VisualMapping.findPieceIndex(value,pieceList)===pieceIndex&&dataIndices.push(dataIndex)}),this),result.push({seriesId:seriesModel.id,dataIndex:dataIndices})}),this),result},PiecewiseModel.prototype.getRepresentValue=function(piece){var representValue;if(this.isCategory())representValue=piece.value;else if(null!=piece.value)representValue=piece.value;else{var pieceInterval=piece.interval||[];representValue=pieceInterval[0]===-1/0&&pieceInterval[1]===1/0?0:(pieceInterval[0]+pieceInterval[1])/2}return representValue},PiecewiseModel.prototype.getVisualMeta=function(getColorVisual){if(!this.isCategory()){var stops=[],outerColors=["",""],visualMapModel=this,pieceList=this._pieceList.slice();if(pieceList.length){var edge=pieceList[0].interval[0];edge!==-1/0&&pieceList.unshift({interval:[-1/0,edge]}),(edge=pieceList[pieceList.length-1].interval[1])!==1/0&&pieceList.push({interval:[edge,1/0]})}else pieceList.push({interval:[-1/0,1/0]});var curr=-1/0;return util.each(pieceList,(function(piece){var interval=piece.interval;interval&&(interval[0]>curr&&setStop([curr,interval[0]],"outOfRange"),setStop(interval.slice()),curr=interval[1])}),this),{stops:stops,outerColors:outerColors}}function setStop(interval,valueState){var representValue=visualMapModel.getRepresentValue({interval:interval});valueState||(valueState=visualMapModel.getValueState(representValue));var color=getColorVisual(representValue,valueState);interval[0]===-1/0?outerColors[0]=color:interval[1]===1/0?outerColors[1]=color:stops.push({value:interval[0],color:color},{value:interval[1],color:color})}},PiecewiseModel.type="visualMap.piecewise",PiecewiseModel.defaultOption=inheritDefaultOption(visualMap_VisualMapModel.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),PiecewiseModel}(visualMap_VisualMapModel),resetMethods={splitNumber:function(outPieceList){var thisOption=this.option,precision=Math.min(thisOption.precision,20),dataExtent=this.getExtent(),splitNumber=thisOption.splitNumber;splitNumber=Math.max(parseInt(splitNumber,10),1),thisOption.splitNumber=splitNumber;for(var splitStep=(dataExtent[1]-dataExtent[0])/splitNumber;+splitStep.toFixed(precision)!==splitStep&&precision<5;)precision++;thisOption.precision=precision,splitStep=+splitStep.toFixed(precision),thisOption.minOpen&&outPieceList.push({interval:[-1/0,dataExtent[0]],close:[0,0]});for(var index=0,curr=dataExtent[0];index<splitNumber;curr+=splitStep,index++){var max=index===splitNumber-1?dataExtent[1]:curr+splitStep;outPieceList.push({interval:[curr,max],close:[1,1]})}thisOption.maxOpen&&outPieceList.push({interval:[dataExtent[1],1/0],close:[0,0]}),reformIntervals(outPieceList),util.each(outPieceList,(function(piece,index){piece.index=index,piece.text=this.formatValueText(piece.interval)}),this)},categories:function(outPieceList){var thisOption=this.option;util.each(thisOption.categories,(function(cate){outPieceList.push({text:this.formatValueText(cate,!0),value:cate})}),this),normalizeReverse(thisOption,outPieceList)},pieces:function(outPieceList){var thisOption=this.option;util.each(thisOption.pieces,(function(pieceListItem,index){util.isObject(pieceListItem)||(pieceListItem={value:pieceListItem});var item={text:"",index:index};if(null!=pieceListItem.label&&(item.text=pieceListItem.label),pieceListItem.hasOwnProperty("value")){var value=item.value=pieceListItem.value;item.interval=[value,value],item.close=[1,1]}else{for(var interval=item.interval=[],close_1=item.close=[0,0],closeList=[1,0,1],infinityList=[-1/0,1/0],useMinMax=[],lg=0;lg<2;lg++){for(var names=[["gte","gt","min"],["lte","lt","max"]][lg],i=0;i<3&&null==interval[lg];i++)interval[lg]=pieceListItem[names[i]],close_1[lg]=closeList[i],useMinMax[lg]=2===i;null==interval[lg]&&(interval[lg]=infinityList[lg])}useMinMax[0]&&interval[1]===1/0&&(close_1[0]=0),useMinMax[1]&&interval[0]===-1/0&&(close_1[1]=0),interval[0]===interval[1]&&close_1[0]&&close_1[1]&&(item.value=interval[0])}item.visual=visual_VisualMapping.retrieveVisuals(pieceListItem),outPieceList.push(item)}),this),normalizeReverse(thisOption,outPieceList),reformIntervals(outPieceList),util.each(outPieceList,(function(piece){var close=piece.close,edgeSymbols=[["<",""][close[1]],[">",""][close[0]]];piece.text=piece.text||this.formatValueText(null!=piece.value?piece.value:piece.interval,!1,edgeSymbols)}),this)}};function normalizeReverse(thisOption,pieceList){var inverse=thisOption.inverse;("vertical"===thisOption.orient?!inverse:inverse)&&pieceList.reverse()}var visualMap_PiecewiseModel=PiecewiseModel_PiecewiseModel,PiecewiseView_PiecewiseVisualMapView=function(_super){function PiecewiseVisualMapView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=PiecewiseVisualMapView.type,_this}return __extends(PiecewiseVisualMapView,_super),PiecewiseVisualMapView.prototype.doRender=function(){var thisGroup=this.group;thisGroup.removeAll();var visualMapModel=this.visualMapModel,textGap=visualMapModel.get("textGap"),textStyleModel=visualMapModel.textStyleModel,textFont=textStyleModel.getFont(),textFill=textStyleModel.getTextColor(),itemAlign=this._getItemAlign(),itemSize=visualMapModel.itemSize,viewData=this._getViewData(),endsText=viewData.endsText,showLabel=util.retrieve(visualMapModel.get("showLabel",!0),!endsText);endsText&&this._renderEndsText(thisGroup,endsText[0],itemSize,showLabel,itemAlign),util.each(viewData.viewPieceList,(function(item){var piece=item.piece,itemGroup=new graphic_Group;itemGroup.onclick=util.bind(this._onItemClick,this,piece),this._enableHoverLink(itemGroup,item.indexInModelPieceList);var representValue=visualMapModel.getRepresentValue(piece);if(this._createItemSymbol(itemGroup,representValue,[0,0,itemSize[0],itemSize[1]]),showLabel){var visualState=this.visualMapModel.getValueState(representValue);itemGroup.add(new Text({style:{x:"right"===itemAlign?-textGap:itemSize[0]+textGap,y:itemSize[1]/2,text:piece.text,verticalAlign:"middle",align:itemAlign,font:textFont,fill:textFill,opacity:"outOfRange"===visualState?.5:1}}))}thisGroup.add(itemGroup)}),this),endsText&&this._renderEndsText(thisGroup,endsText[1],itemSize,showLabel,itemAlign),layout_box(visualMapModel.get("orient"),thisGroup,visualMapModel.get("itemGap")),this.renderBackground(thisGroup),this.positionGroup(thisGroup)},PiecewiseVisualMapView.prototype._enableHoverLink=function(itemGroup,pieceIndex){var _this=this;itemGroup.on("mouseover",(function(){return onHoverLink("highlight")})).on("mouseout",(function(){return onHoverLink("downplay")}));var onHoverLink=function(method){var visualMapModel=_this.visualMapModel;visualMapModel.option.hoverLink&&_this.api.dispatchAction({type:method,batch:makeHighDownBatch(visualMapModel.findTargetDataIndices(pieceIndex),visualMapModel)})}},PiecewiseVisualMapView.prototype._getItemAlign=function(){var visualMapModel=this.visualMapModel,modelOption=visualMapModel.option;if("vertical"===modelOption.orient)return getItemAlign(visualMapModel,this.api,visualMapModel.itemSize);var align=modelOption.align;return align&&"auto"!==align||(align="left"),align},PiecewiseVisualMapView.prototype._renderEndsText=function(group,text,itemSize,showLabel,itemAlign){if(text){var itemGroup=new graphic_Group,textStyleModel=this.visualMapModel.textStyleModel;itemGroup.add(new Text({style:createTextStyle(textStyleModel,{x:showLabel?"right"===itemAlign?itemSize[0]:0:itemSize[0]/2,y:itemSize[1]/2,verticalAlign:"middle",align:showLabel?itemAlign:"center",text:text})})),group.add(itemGroup)}},PiecewiseVisualMapView.prototype._getViewData=function(){var visualMapModel=this.visualMapModel,viewPieceList=util.map(visualMapModel.getPieceList(),(function(piece,index){return{piece:piece,indexInModelPieceList:index}})),endsText=visualMapModel.get("text"),orient=visualMapModel.get("orient"),inverse=visualMapModel.get("inverse");return("horizontal"===orient?inverse:!inverse)?viewPieceList.reverse():endsText&&(endsText=endsText.slice().reverse()),{viewPieceList:viewPieceList,endsText:endsText}},PiecewiseVisualMapView.prototype._createItemSymbol=function(group,representValue,shapeParam){group.add(symbol_createSymbol(this.getControllerVisual(representValue,"symbol"),shapeParam[0],shapeParam[1],shapeParam[2],shapeParam[3],this.getControllerVisual(representValue,"color")))},PiecewiseVisualMapView.prototype._onItemClick=function(piece){var visualMapModel=this.visualMapModel,option=visualMapModel.option,selected=util.clone(option.selected),newKey=visualMapModel.getSelectedMapKey(piece);"single"===option.selectedMode?(selected[newKey]=!0,util.each(selected,(function(o,key){selected[key]=key===newKey}))):selected[newKey]=!selected[newKey],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:selected})},PiecewiseVisualMapView.type="visualMap.piecewise",PiecewiseVisualMapView}(visualMap_VisualMapView),PiecewiseView=PiecewiseView_PiecewiseVisualMapView;function installVisualMapPiecewise_install(registers){registers.registerComponentModel(visualMap_PiecewiseModel),registers.registerComponentView(PiecewiseView),installCommon_installCommon(registers)}var DEFAULT_OPTION={label:{enabled:!0},decal:{show:!1}},aria_inner=makeInner(),aria_decalPaletteScope={};function ariaVisual(ecModel,api){var ariaModel=ecModel.getModel("aria");if(ariaModel.get("enabled")){var defaultOption=util.clone(DEFAULT_OPTION);util.merge(defaultOption.label,ecModel.getLocaleModel().get("aria"),!1),util.merge(ariaModel.option,defaultOption,!1),function setDecal(){if(ariaModel.getModel("decal").get("show")){var paletteScopeGroupByType_1=util.createHashMap();ecModel.eachSeries((function(seriesModel){if(!seriesModel.isColorBySeries()){var decalScope=paletteScopeGroupByType_1.get(seriesModel.type);decalScope||(decalScope={},paletteScopeGroupByType_1.set(seriesModel.type,decalScope)),aria_inner(seriesModel).scope=decalScope}})),ecModel.eachRawSeries((function(seriesModel){if(!ecModel.isSeriesFiltered(seriesModel))if(util.isFunction(seriesModel.enableAriaDecal))seriesModel.enableAriaDecal();else{var data=seriesModel.getData();if(seriesModel.isColorBySeries()){var paletteDecal=getDecalFromPalette(seriesModel.ecModel,seriesModel.name,aria_decalPaletteScope,ecModel.getSeriesCount()),specifiedDecal=data.getVisual("decal");data.setVisual("decal",mergeDecal(specifiedDecal,paletteDecal))}else{var dataAll_1=seriesModel.getRawData(),idxMap_1={},decalScope_1=aria_inner(seriesModel).scope;data.each((function(idx){var rawIdx=data.getRawIndex(idx);idxMap_1[rawIdx]=idx}));var dataCount_1=dataAll_1.count();dataAll_1.each((function(rawIdx){var idx=idxMap_1[rawIdx],name=dataAll_1.getName(rawIdx)||rawIdx+"",paletteDecal=getDecalFromPalette(seriesModel.ecModel,name,decalScope_1,dataCount_1),specifiedDecal=data.getItemVisual(idx,"decal");data.setItemVisual(idx,"decal",mergeDecal(specifiedDecal,paletteDecal))}))}}function mergeDecal(specifiedDecal,paletteDecal){var resultDecal=specifiedDecal?util.extend(util.extend({},paletteDecal),specifiedDecal):paletteDecal;return resultDecal.dirty=!0,resultDecal}}))}}(),function setLabel(){var labelLocale=ecModel.getLocaleModel().get("aria"),labelModel=ariaModel.getModel("label");if(labelModel.option=util.defaults(labelModel.option,labelLocale),!labelModel.get("enabled"))return;var dom=api.getZr().dom;if(labelModel.get("description"))return void dom.setAttribute("aria-label",labelModel.get("description"));var ariaLabel,seriesCnt=ecModel.getSeriesCount(),maxDataCnt=labelModel.get(["data","maxCount"])||10,maxSeriesCnt=labelModel.get(["series","maxCount"])||10,displaySeriesCnt=Math.min(seriesCnt,maxSeriesCnt);if(seriesCnt<1)return;var title=function getTitle(){var title=ecModel.get("title");title&&title.length&&(title=title[0]);return title&&title.text}();if(title){var withTitle=labelModel.get(["general","withTitle"]);ariaLabel=replace(withTitle,{title:title})}else ariaLabel=labelModel.get(["general","withoutTitle"]);var seriesLabels_1=[],prefix=seriesCnt>1?labelModel.get(["series","multiple","prefix"]):labelModel.get(["series","single","prefix"]);ariaLabel+=replace(prefix,{seriesCount:seriesCnt}),ecModel.eachSeries((function(seriesModel,idx){if(idx<displaySeriesCnt){var seriesLabel=void 0,withName=seriesModel.get("name")?"withName":"withoutName";seriesLabel=replace(seriesLabel=seriesCnt>1?labelModel.get(["series","multiple",withName]):labelModel.get(["series","single",withName]),{seriesId:seriesModel.seriesIndex,seriesName:seriesModel.get("name"),seriesType:(type=seriesModel.subType,ecModel.getLocaleModel().get(["series","typeNames"])[type]||"")});var data=seriesModel.getData();if(data.count()>maxDataCnt)seriesLabel+=replace(labelModel.get(["data","partialData"]),{displayCnt:maxDataCnt});else seriesLabel+=labelModel.get(["data","allData"]);for(var middleSeparator_1=labelModel.get(["data","separator","middle"]),endSeparator_1=labelModel.get(["data","separator","end"]),dataLabels=[],i=0;i<data.count();i++)if(i<maxDataCnt){var name_1=data.getName(i),value=data.getValues(i),dataLabel=labelModel.get(["data",name_1?"withName":"withoutName"]);dataLabels.push(replace(dataLabel,{name:name_1,value:value.join(middleSeparator_1)}))}seriesLabel+=dataLabels.join(middleSeparator_1)+endSeparator_1,seriesLabels_1.push(seriesLabel)}var type}));var separatorModel=labelModel.getModel(["series","multiple","separator"]),middleSeparator=separatorModel.get("middle"),endSeparator=separatorModel.get("end");ariaLabel+=seriesLabels_1.join(middleSeparator)+endSeparator,dom.setAttribute("aria-label",ariaLabel)}()}function replace(str,keyValues){if(!util.isString(str))return str;var result=str;return util.each(keyValues,(function(value,key){result=result.replace(new RegExp("\\{\\s*"+key+"\\s*\\}","g"),value)})),result}}function ariaPreprocessor(option){if(option&&option.aria){var aria=option.aria;null!=aria.show&&(aria.enabled=aria.show),aria.label=aria.label||{},util.each(["description","general","series","data"],(function(name){null!=aria[name]&&(aria.label[name]=aria[name])}))}}var RELATIONAL_EXPRESSION_OP_ALIAS_MAP={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},conditionalExpression_RegExpEvaluator=function(){function RegExpEvaluator(rVal){if(null==(this._condVal=Object(util.isString)(rVal)?new RegExp(rVal):Object(util.isRegExp)(rVal)?rVal:null)){0,throwError("")}}return RegExpEvaluator.prototype.evaluate=function(lVal){var type=typeof lVal;return Object(util.isString)(type)?this._condVal.test(lVal):!!Object(util.isNumber)(type)&&this._condVal.test(lVal+"")},RegExpEvaluator}(),ConstConditionInternal=function(){function ConstConditionInternal(){}return ConstConditionInternal.prototype.evaluate=function(){return this.value},ConstConditionInternal}(),AndConditionInternal=function(){function AndConditionInternal(){}return AndConditionInternal.prototype.evaluate=function(){for(var children=this.children,i=0;i<children.length;i++)if(!children[i].evaluate())return!1;return!0},AndConditionInternal}(),OrConditionInternal=function(){function OrConditionInternal(){}return OrConditionInternal.prototype.evaluate=function(){for(var children=this.children,i=0;i<children.length;i++)if(children[i].evaluate())return!0;return!1},OrConditionInternal}(),NotConditionInternal=function(){function NotConditionInternal(){}return NotConditionInternal.prototype.evaluate=function(){return!this.child.evaluate()},NotConditionInternal}(),RelationalConditionInternal=function(){function RelationalConditionInternal(){}return RelationalConditionInternal.prototype.evaluate=function(){for(var needParse=!!this.valueParser,tarValRaw=(0,this.getValue)(this.valueGetterParam),tarValParsed=needParse?this.valueParser(tarValRaw):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(needParse?tarValParsed:tarValRaw))return!1;return!0},RelationalConditionInternal}();function parseOption(exprOption,getters){if(!0===exprOption||!1===exprOption){var cond=new ConstConditionInternal;return cond.value=exprOption,cond}return isObjectNotArray(exprOption)||throwError(""),exprOption.and?parseAndOrOption("and",exprOption,getters):exprOption.or?parseAndOrOption("or",exprOption,getters):exprOption.not?function parseNotOption(exprOption,getters){var subOption=exprOption.not,errMsg="";0;isObjectNotArray(subOption)||throwError(errMsg);var cond=new NotConditionInternal;cond.child=parseOption(subOption,getters),cond.child||throwError(errMsg);return cond}(exprOption,getters):function parseRelationalOption(exprOption,getters){for(var errMsg="",valueGetterParam=getters.prepareGetValue(exprOption),subCondList=[],exprKeys=Object(util.keys)(exprOption),parserName=exprOption.parser,valueParser=parserName?getRawValueParser(parserName):null,i=0;i<exprKeys.length;i++){var keyRaw=exprKeys[i];if("parser"!==keyRaw&&!getters.valueGetterAttrMap.get(keyRaw)){var op=Object(util.hasOwn)(RELATIONAL_EXPRESSION_OP_ALIAS_MAP,keyRaw)?RELATIONAL_EXPRESSION_OP_ALIAS_MAP[keyRaw]:keyRaw,condValueRaw=exprOption[keyRaw],condValueParsed=valueParser?valueParser(condValueRaw):condValueRaw,evaluator=createFilterComparator(op,condValueParsed)||"reg"===op&&new conditionalExpression_RegExpEvaluator(condValueParsed);evaluator||throwError(errMsg),subCondList.push(evaluator)}}subCondList.length||throwError(errMsg);var cond=new RelationalConditionInternal;return cond.valueGetterParam=valueGetterParam,cond.valueParser=valueParser,cond.getValue=getters.getValue,cond.subCondList=subCondList,cond}(exprOption,getters)}function parseAndOrOption(op,exprOption,getters){var subOptionArr=exprOption[op];Object(util.isArray)(subOptionArr)||throwError(""),subOptionArr.length||throwError("");var cond="and"===op?new AndConditionInternal:new OrConditionInternal;return cond.children=Object(util.map)(subOptionArr,(function(subOption){return parseOption(subOption,getters)})),cond.children.length||throwError(""),cond}function isObjectNotArray(val){return Object(util.isObject)(val)&&!Object(util.isArrayLike)(val)}var ConditionalExpressionParsed=function(){function ConditionalExpressionParsed(exprOption,getters){this._cond=parseOption(exprOption,getters)}return ConditionalExpressionParsed.prototype.evaluate=function(){return this._cond.evaluate()},ConditionalExpressionParsed}();var filterTransform={type:"echarts:filter",transform:function(params){for(var rawItem,upstream=params.upstream,condition=function parseConditionalExpression(exprOption,getters){return new ConditionalExpressionParsed(exprOption,getters)}(params.config,{valueGetterAttrMap:Object(util.createHashMap)({dimension:!0}),prepareGetValue:function(exprOption){var dimLoose=exprOption.dimension;Object(util.hasOwn)(exprOption,"dimension")||throwError("");var dimInfo=upstream.getDimensionInfo(dimLoose);return dimInfo||throwError(""),{dimIdx:dimInfo.index}},getValue:function(param){return upstream.retrieveValueFromItem(rawItem,param.dimIdx)}}),resultData=[],i=0,len=upstream.count();i<len;i++)rawItem=upstream.getRawDataItem(i),condition.evaluate()&&resultData.push(rawItem);return{data:resultData}}};var sortTransform={type:"echarts:sort",transform:function(params){var upstream=params.upstream,config=params.config,orderExprList=normalizeToArray(config);orderExprList.length||throwError("");var orderDefList=[];Object(util.each)(orderExprList,(function(orderExpr){var dimLoose=orderExpr.dimension,order=orderExpr.order,parserName=orderExpr.parser,incomparable=orderExpr.incomparable;if(null==dimLoose&&throwError(""),"asc"!==order&&"desc"!==order&&throwError(""),incomparable&&"min"!==incomparable&&"max"!==incomparable){0,throwError("")}if("asc"!==order&&"desc"!==order){0,throwError("")}var dimInfo=upstream.getDimensionInfo(dimLoose);dimInfo||throwError("");var parser=parserName?getRawValueParser(parserName):null;parserName&&!parser&&throwError(""),orderDefList.push({dimIdx:dimInfo.index,parser:parser,comparator:new dataValueHelper_SortOrderComparator(order,incomparable)})}));var sourceFormat=upstream.sourceFormat;"arrayRows"!==sourceFormat&&"objectRows"!==sourceFormat&&throwError("");for(var resultData=[],i=0,len=upstream.count();i<len;i++)resultData.push(upstream.getRawDataItem(i));return resultData.sort((function(item0,item1){for(var i=0;i<orderDefList.length;i++){var orderDef=orderDefList[i],val0=upstream.retrieveValueFromItem(item0,orderDef.dimIdx),val1=upstream.retrieveValueFromItem(item1,orderDef.dimIdx);orderDef.parser&&(val0=orderDef.parser(val0),val1=orderDef.parser(val1));var result=orderDef.comparator.evaluate(val0,val1);if(0!==result)return result}return 0})),{data:resultData}}};var install_DatasetModel=function(_super){function DatasetModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="dataset",_this}return __extends(DatasetModel,_super),DatasetModel.prototype.init=function(option,parentModel,ecModel){_super.prototype.init.call(this,option,parentModel,ecModel),this._sourceManager=new sourceManager_SourceManager(this),disableTransformOptionMerge(this)},DatasetModel.prototype.mergeOption=function(newOption,ecModel){_super.prototype.mergeOption.call(this,newOption,ecModel),disableTransformOptionMerge(this)},DatasetModel.prototype.optionUpdated=function(){this._sourceManager.dirty()},DatasetModel.prototype.getSourceManager=function(){return this._sourceManager},DatasetModel.type="dataset",DatasetModel.defaultOption={seriesLayoutBy:"column"},DatasetModel}(Component),install_DatasetView=function(_super){function DatasetView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="dataset",_this}return __extends(DatasetView,_super),DatasetView.type="dataset",DatasetView}(view_Component);var convertPath_CMD=core_PathProxy.CMD;function aroundEqual(a,b){return Math.abs(a-b)<1e-5}function pathToBezierCurves(path){var currentSubpath,x1,y1,x2,y2,data=path.data,len=path.len(),bezierArrayGroups=[],xi=0,yi=0,x0=0,y0=0;function createNewSubpath(x,y){currentSubpath&&currentSubpath.length>2&&bezierArrayGroups.push(currentSubpath),currentSubpath=[x,y]}function addLine(x0,y0,x1,y1){aroundEqual(x0,x1)&&aroundEqual(y0,y1)||currentSubpath.push(x0,y0,x1,y1,x1,y1)}function addArc(startAngle,endAngle,cx,cy,rx,ry){var delta=Math.abs(endAngle-startAngle),len=4*Math.tan(delta/4)/3,dir=endAngle<startAngle?-1:1,c1=Math.cos(startAngle),s1=Math.sin(startAngle),c2=Math.cos(endAngle),s2=Math.sin(endAngle),x1=c1*rx+cx,y1=s1*ry+cy,x4=c2*rx+cx,y4=s2*ry+cy,hx=rx*len*dir,hy=ry*len*dir;currentSubpath.push(x1-hx*s1,y1+hy*c1,x4+hx*s2,y4-hy*c2,x4,y4)}for(var i=0;i<len;){var cmd=data[i++],isFirst=1===i;switch(isFirst&&(x0=xi=data[i],y0=yi=data[i+1],cmd!==convertPath_CMD.L&&cmd!==convertPath_CMD.C&&cmd!==convertPath_CMD.Q||(currentSubpath=[x0,y0])),cmd){case convertPath_CMD.M:xi=x0=data[i++],yi=y0=data[i++],createNewSubpath(x0,y0);break;case convertPath_CMD.L:addLine(xi,yi,x1=data[i++],y1=data[i++]),xi=x1,yi=y1;break;case convertPath_CMD.C:currentSubpath.push(data[i++],data[i++],data[i++],data[i++],xi=data[i++],yi=data[i++]);break;case convertPath_CMD.Q:x1=data[i++],y1=data[i++],x2=data[i++],y2=data[i++],currentSubpath.push(xi+2/3*(x1-xi),yi+2/3*(y1-yi),x2+2/3*(x1-x2),y2+2/3*(y1-y2),x2,y2),xi=x2,yi=y2;break;case convertPath_CMD.A:var cx=data[i++],cy=data[i++],rx=data[i++],ry=data[i++],startAngle=data[i++],endAngle=data[i++]+startAngle;i+=1;var anticlockwise=!data[i++];x1=Math.cos(startAngle)*rx+cx,y1=Math.sin(startAngle)*ry+cy,isFirst?createNewSubpath(x0=x1,y0=y1):addLine(xi,yi,x1,y1),xi=Math.cos(endAngle)*rx+cx,yi=Math.sin(endAngle)*ry+cy;for(var step=(anticlockwise?-1:1)*Math.PI/2,angle=startAngle;anticlockwise?angle>endAngle:angle<endAngle;angle+=step){addArc(angle,anticlockwise?Math.max(angle+step,endAngle):Math.min(angle+step,endAngle),cx,cy,rx,ry)}break;case convertPath_CMD.R:x0=xi=data[i++],y0=yi=data[i++],x1=x0+data[i++],y1=y0+data[i++],createNewSubpath(x1,y0),addLine(x1,y0,x1,y1),addLine(x1,y1,x0,y1),addLine(x0,y1,x0,y0),addLine(x0,y0,x1,y0);break;case convertPath_CMD.Z:currentSubpath&&addLine(xi,yi,x0,y0),xi=x0,yi=y0}}return currentSubpath&&currentSubpath.length>2&&bezierArrayGroups.push(currentSubpath),bezierArrayGroups}function adpativeBezier(x0,y0,x1,y1,x2,y2,x3,y3,out,scale){if(aroundEqual(x0,x1)&&aroundEqual(y0,y1)&&aroundEqual(x2,x3)&&aroundEqual(y2,y3))out.push(x3,y3);else{var PIXEL_DISTANCE=2/scale,PIXEL_DISTANCE_SQR=PIXEL_DISTANCE*PIXEL_DISTANCE,dx=x3-x0,dy=y3-y0,d=Math.sqrt(dx*dx+dy*dy);dx/=d,dy/=d;var dx1=x1-x0,dy1=y1-y0,dx2=x2-x3,dy2=y2-y3,cp1LenSqr=dx1*dx1+dy1*dy1,cp2LenSqr=dx2*dx2+dy2*dy2;if(cp1LenSqr<PIXEL_DISTANCE_SQR&&cp2LenSqr<PIXEL_DISTANCE_SQR)out.push(x3,y3);else{var projLen1=dx*dx1+dy*dy1,projLen2=-dx*dx2-dy*dy2;if(cp1LenSqr-projLen1*projLen1<PIXEL_DISTANCE_SQR&&projLen1>=0&&cp2LenSqr-projLen2*projLen2<PIXEL_DISTANCE_SQR&&projLen2>=0)out.push(x3,y3);else{var tmpSegX=[],tmpSegY=[];cubicSubdivide(x0,x1,x2,x3,.5,tmpSegX),cubicSubdivide(y0,y1,y2,y3,.5,tmpSegY),adpativeBezier(tmpSegX[0],tmpSegY[0],tmpSegX[1],tmpSegY[1],tmpSegX[2],tmpSegY[2],tmpSegX[3],tmpSegY[3],out,scale),adpativeBezier(tmpSegX[4],tmpSegY[4],tmpSegX[5],tmpSegY[5],tmpSegX[6],tmpSegY[6],tmpSegX[7],tmpSegY[7],out,scale)}}}}function getDividingGrids(dimSize,rowDim,count){var rowSize=dimSize[rowDim],columnSize=dimSize[1-rowDim],ratio=Math.abs(rowSize/columnSize),rowCount=Math.ceil(Math.sqrt(ratio*count)),columnCount=Math.floor(count/rowCount);0===columnCount&&(columnCount=1,rowCount=count);for(var grids=[],i=0;i<rowCount;i++)grids.push(columnCount);var remained=count-rowCount*columnCount;if(remained>0)for(i=0;i<remained;i++)grids[i%rowCount]+=1;return grids}function divideSector(sectorShape,count,outShapes){for(var r0=sectorShape.r0,r=sectorShape.r,startAngle=sectorShape.startAngle,endAngle=sectorShape.endAngle,angle=Math.abs(endAngle-startAngle),arcLen=angle*r,deltaR=r-r0,isAngleRow=arcLen>Math.abs(deltaR),grids=getDividingGrids([arcLen,deltaR],isAngleRow?0:1,count),rowSize=(isAngleRow?angle:deltaR)/grids.length,row=0;row<grids.length;row++)for(var columnSize=(isAngleRow?deltaR:angle)/grids[row],column=0;column<grids[row];column++){var newShape={};isAngleRow?(newShape.startAngle=startAngle+rowSize*row,newShape.endAngle=startAngle+rowSize*(row+1),newShape.r0=r0+columnSize*column,newShape.r=r0+columnSize*(column+1)):(newShape.startAngle=startAngle+columnSize*column,newShape.endAngle=startAngle+columnSize*(column+1),newShape.r0=r0+rowSize*row,newShape.r=r0+rowSize*(row+1)),newShape.clockwise=sectorShape.clockwise,newShape.cx=sectorShape.cx,newShape.cy=sectorShape.cy,outShapes.push(newShape)}}function dividePath_crossProduct2d(x1,y1,x2,y2){return x1*y2-x2*y1}function dividePath_lineLineIntersect(a1x,a1y,a2x,a2y,b1x,b1y,b2x,b2y){var mx=a2x-a1x,my=a2y-a1y,nx=b2x-b1x,ny=b2y-b1y,nmCrossProduct=dividePath_crossProduct2d(nx,ny,mx,my);if(Math.abs(nmCrossProduct)<1e-6)return null;var p=dividePath_crossProduct2d(a1x-b1x,a1y-b1y,nx,ny)/nmCrossProduct;return p<0||p>1?null:new core_Point(p*mx+a1x,p*my+a1y)}function projPtOnLine(pt,lineA,lineB){var dir=new core_Point;core_Point.sub(dir,lineB,lineA),dir.normalize();var dir2=new core_Point;return core_Point.sub(dir2,pt,lineA),dir2.dot(dir)}function addToPoly(poly,pt){var last=poly[poly.length-1];last&&last[0]===pt[0]&&last[1]===pt[1]||poly.push(pt)}function binaryDividePolygon(polygonShape){var points=polygonShape.points,min=[],max=[];fromPoints(points,min,max);var boundingRect=new core_BoundingRect(min[0],min[1],max[0]-min[0],max[1]-min[1]),width=boundingRect.width,height=boundingRect.height,x=boundingRect.x,y=boundingRect.y,pt0=new core_Point,pt1=new core_Point;return width>height?(pt0.x=pt1.x=x+width/2,pt0.y=y,pt1.y=y+height):(pt0.y=pt1.y=y+height/2,pt0.x=x,pt1.x=x+width),function splitPolygonByLine(points,lineA,lineB){for(var len=points.length,intersections=[],i=0;i<len;i++){var p0=points[i],p1=points[(i+1)%len],intersectionPt=dividePath_lineLineIntersect(p0[0],p0[1],p1[0],p1[1],lineA.x,lineA.y,lineB.x,lineB.y);intersectionPt&&intersections.push({projPt:projPtOnLine(intersectionPt,lineA,lineB),pt:intersectionPt,idx:i})}if(intersections.length<2)return[{points:points},{points:points}];intersections.sort((function(a,b){return a.projPt-b.projPt}));var splitPt0=intersections[0],splitPt1=intersections[intersections.length-1];if(splitPt1.idx<splitPt0.idx){var tmp=splitPt0;splitPt0=splitPt1,splitPt1=tmp}var splitPt0Arr=[splitPt0.pt.x,splitPt0.pt.y],splitPt1Arr=[splitPt1.pt.x,splitPt1.pt.y],newPolyA=[splitPt0Arr],newPolyB=[splitPt1Arr];for(i=splitPt0.idx+1;i<=splitPt1.idx;i++)addToPoly(newPolyA,points[i].slice());for(addToPoly(newPolyA,splitPt1Arr),addToPoly(newPolyA,splitPt0Arr),i=splitPt1.idx+1;i<=splitPt0.idx+len;i++)addToPoly(newPolyB,points[i%len].slice());return addToPoly(newPolyB,splitPt0Arr),addToPoly(newPolyB,splitPt1Arr),[{points:newPolyA},{points:newPolyB}]}(points,pt0,pt1)}function binaryDivideRecursive(divider,shape,count,out){if(1===count)out.push(shape);else{var mid=Math.floor(count/2),sub=divider(shape);binaryDivideRecursive(divider,sub[0],mid,out),binaryDivideRecursive(divider,sub[1],count-mid,out)}return out}function split(path,count){var OutShapeCtor,outShapes=[],shape=path.shape;switch(path.type){case"rect":!function divideRect(rectShape,count,outShapes){for(var width=rectShape.width,height=rectShape.height,isHorizontalRow=width>height,grids=getDividingGrids([width,height],isHorizontalRow?0:1,count),rowSizeDim=isHorizontalRow?"width":"height",columnSizeDim=isHorizontalRow?"height":"width",rowDim=isHorizontalRow?"x":"y",columnDim=isHorizontalRow?"y":"x",rowSize=rectShape[rowSizeDim]/grids.length,row=0;row<grids.length;row++)for(var columnSize=rectShape[columnSizeDim]/grids[row],column=0;column<grids[row];column++){var newShape={};newShape[rowDim]=row*rowSize,newShape[columnDim]=column*columnSize,newShape[rowSizeDim]=rowSize,newShape[columnSizeDim]=columnSize,newShape.x+=rectShape.x,newShape.y+=rectShape.y,outShapes.push(newShape)}}(shape,count,outShapes),OutShapeCtor=shape_Rect;break;case"sector":divideSector(shape,count,outShapes),OutShapeCtor=shape_Sector;break;case"circle":divideSector({r0:0,r:shape.r,startAngle:0,endAngle:2*Math.PI,cx:shape.cx,cy:shape.cy},count,outShapes),OutShapeCtor=shape_Sector;break;default:var m=path.getComputedTransform(),scale=m?Math.sqrt(Math.max(m[0]*m[0]+m[1]*m[1],m[2]*m[2]+m[3]*m[3])):1,polygons=Object(util.map)(function pathToPolygons(path,scale){var bezierArrayGroups=pathToBezierCurves(path),polygons=[];scale=scale||1;for(var i=0;i<bezierArrayGroups.length;i++){var beziers=bezierArrayGroups[i],polygon=[],x0=beziers[0],y0=beziers[1];polygon.push(x0,y0);for(var k=2;k<beziers.length;){var x1=beziers[k++],y1=beziers[k++],x2=beziers[k++],y2=beziers[k++],x3=beziers[k++],y3=beziers[k++];adpativeBezier(x0,y0,x1,y1,x2,y2,x3,y3,polygon,scale),x0=x3,y0=y3}polygons.push(polygon)}return polygons}(path.getUpdatedPathProxy(),scale),(function(poly){return function polygonConvert(points){for(var out=[],i=0;i<points.length;)out.push([points[i++],points[i++]]);return out}(poly)})),polygonCount=polygons.length;if(0===polygonCount)binaryDivideRecursive(binaryDividePolygon,{points:polygons[0]},count,outShapes);else if(polygonCount===count)for(var i=0;i<polygonCount;i++)outShapes.push({points:polygons[i]});else{var totalArea_1=0,items=Object(util.map)(polygons,(function(poly){var min=[],max=[];fromPoints(poly,min,max);var area=(max[1]-min[1])*(max[0]-min[0]);return totalArea_1+=area,{poly:poly,area:area}}));items.sort((function(a,b){return b.area-a.area}));var left=count;for(i=0;i<polygonCount;i++){var item=items[i];if(left<=0)break;var selfCount=i===polygonCount-1?left:Math.ceil(item.area/totalArea_1*count);selfCount<0||(binaryDivideRecursive(binaryDividePolygon,{points:item.poly},selfCount,outShapes),left-=selfCount)}}OutShapeCtor=shape_Polygon}if(!OutShapeCtor)return function dividePath_clone(path,count){for(var paths=[],i=0;i<count;i++)paths.push(clonePath(path));return paths}(path,count);var source,target,out=[];for(i=0;i<outShapes.length;i++){var subPath=new OutShapeCtor;subPath.setShape(outShapes[i]),source=path,(target=subPath).setStyle(source.style),target.z=source.z,target.z2=source.z2,target.zlevel=source.zlevel,out.push(subPath)}return out}function alignSubpath(subpath1,subpath2){var len1=subpath1.length,len2=subpath2.length;if(len1===len2)return[subpath1,subpath2];for(var tmpSegX=[],tmpSegY=[],shorterPath=len1<len2?subpath1:subpath2,shorterLen=Math.min(len1,len2),diff=Math.abs(len2-len1)/6,shorterBezierCount=(shorterLen-2)/6,eachCurveSubDivCount=Math.ceil(diff/shorterBezierCount)+1,newSubpath=[shorterPath[0],shorterPath[1]],remained=diff,i=2;i<shorterLen;){var x0=shorterPath[i-2],y0=shorterPath[i-1],x1=shorterPath[i++],y1=shorterPath[i++],x2=shorterPath[i++],y2=shorterPath[i++],x3=shorterPath[i++],y3=shorterPath[i++];if(remained<=0)newSubpath.push(x1,y1,x2,y2,x3,y3);else{for(var actualSubDivCount=Math.min(remained,eachCurveSubDivCount-1)+1,k=1;k<=actualSubDivCount;k++){var p=k/actualSubDivCount;cubicSubdivide(x0,x1,x2,x3,p,tmpSegX),cubicSubdivide(y0,y1,y2,y3,p,tmpSegY),x0=tmpSegX[3],y0=tmpSegY[3],newSubpath.push(tmpSegX[1],tmpSegY[1],tmpSegX[2],tmpSegY[2],x0,y0),x1=tmpSegX[5],y1=tmpSegY[5],x2=tmpSegX[6],y2=tmpSegY[6]}remained-=actualSubDivCount-1}}return shorterPath===subpath1?[newSubpath,subpath2]:[subpath1,newSubpath]}function createSubpath(lastSubpathSubpath,otherSubpath){for(var len=lastSubpathSubpath.length,lastX=lastSubpathSubpath[len-2],lastY=lastSubpathSubpath[len-1],newSubpath=[],i=0;i<otherSubpath.length;)newSubpath[i++]=lastX,newSubpath[i++]=lastY;return newSubpath}function morphPath_centroid(array){for(var signedArea=0,cx=0,cy=0,len=array.length,i=0,j=len-2;i<len;j=i,i+=2){var x0=array[j],y0=array[j+1],x1=array[i],y1=array[i+1],a=x0*y1-x1*y0;signedArea+=a,cx+=(x0+x1)*a,cy+=(y0+y1)*a}return 0===signedArea?[array[0]||0,array[1]||0]:[cx/signedArea/3,cy/signedArea/3,signedArea]}function findBestRingOffset(fromSubBeziers,toSubBeziers,fromCp,toCp){for(var bezierCount=(fromSubBeziers.length-2)/6,bestScore=1/0,bestOffset=0,len=fromSubBeziers.length,len2=len-2,offset=0;offset<bezierCount;offset++){for(var cursorOffset=6*offset,score=0,k=0;k<len;k+=2){var idx=0===k?cursorOffset:(cursorOffset+k-2)%len2+2,x0=fromSubBeziers[idx]-fromCp[0],y0=fromSubBeziers[idx+1]-fromCp[1],dx=toSubBeziers[k]-toCp[0]-x0,dy=toSubBeziers[k+1]-toCp[1]-y0;score+=dx*dx+dy*dy}score<bestScore&&(bestScore=score,bestOffset=offset)}return bestOffset}function morphPath_reverse(array){for(var newArr=[],len=array.length,i=0;i<len;i+=2)newArr[i]=array[len-i-2],newArr[i+1]=array[len-i-1];return newArr}function isCombineMorphing(path){return path.__isCombineMorphing}function saveAndModifyMethod(obj,methodName,modifiers){var savedMethodName="__mOriginal_"+methodName,originalMethod=obj[savedMethodName]||obj[methodName];obj[savedMethodName]||(obj[savedMethodName]=obj[methodName]);var replace=modifiers.replace,after=modifiers.after,before=modifiers.before;obj[methodName]=function(){var res,args=arguments;return before&&before.apply(this,args),res=replace?replace.apply(this,args):originalMethod.apply(this,args),after&&after.apply(this,args),res}}function restoreMethod(obj,methodName){var savedMethodName="__mOriginal_"+methodName;obj[savedMethodName]&&(obj[methodName]=obj[savedMethodName],obj[savedMethodName]=null)}function applyTransformOnBeziers(bezierCurves,mm){for(var i=0;i<bezierCurves.length;i++)for(var subBeziers=bezierCurves[i],k=0;k<subBeziers.length;){var x=subBeziers[k],y=subBeziers[k+1];subBeziers[k++]=mm[0]*x+mm[2]*y+mm[4],subBeziers[k++]=mm[1]*x+mm[3]*y+mm[5]}}function prepareMorphPath(fromPath,toPath){var fromPathProxy=fromPath.getUpdatedPathProxy(),toPathProxy=toPath.getUpdatedPathProxy(),_a=function alignBezierCurves(array1,array2){for(var _a,lastSubpath1,lastSubpath2,newArray1=[],newArray2=[],i=0;i<Math.max(array1.length,array2.length);i++){var subpath1=array1[i],subpath2=array2[i],newSubpath1=void 0,newSubpath2=void 0;subpath1?subpath2?(lastSubpath1=newSubpath1=(_a=alignSubpath(subpath1,subpath2))[0],lastSubpath2=newSubpath2=_a[1]):(newSubpath2=createSubpath(lastSubpath2||subpath1,subpath1),newSubpath1=subpath1):(newSubpath1=createSubpath(lastSubpath1||subpath2,subpath2),newSubpath2=subpath2),newArray1.push(newSubpath1),newArray2.push(newSubpath2)}return[newArray1,newArray2]}(pathToBezierCurves(fromPathProxy),pathToBezierCurves(toPathProxy)),fromBezierCurves=_a[0],toBezierCurves=_a[1],fromPathTransform=fromPath.getComputedTransform(),toPathTransform=toPath.getComputedTransform();fromPathTransform&&applyTransformOnBeziers(fromBezierCurves,fromPathTransform),toPathTransform&&applyTransformOnBeziers(toBezierCurves,toPathTransform),saveAndModifyMethod(toPath,"updateTransform",{replace:function updateIdentityTransform(){this.transform=null}}),toPath.transform=null;var morphingData=function findBestMorphingRotation(fromArr,toArr,searchAngleIteration,searchAngleRange){for(var fromNeedsReverse,result=[],i=0;i<fromArr.length;i++){var fromSubpathBezier=fromArr[i],toSubpathBezier=toArr[i],fromCp=morphPath_centroid(fromSubpathBezier),toCp=morphPath_centroid(toSubpathBezier);null==fromNeedsReverse&&(fromNeedsReverse=fromCp[2]<0!=toCp[2]<0);var newFromSubpathBezier=[],newToSubpathBezier=[],bestAngle=0,bestScore=1/0,tmpArr=[],len=fromSubpathBezier.length;fromNeedsReverse&&(fromSubpathBezier=morphPath_reverse(fromSubpathBezier));for(var offset=6*findBestRingOffset(fromSubpathBezier,toSubpathBezier,fromCp,toCp),len2=len-2,k=0;k<len2;k+=2){var idx=(offset+k)%len2+2;newFromSubpathBezier[k+2]=fromSubpathBezier[idx]-fromCp[0],newFromSubpathBezier[k+3]=fromSubpathBezier[idx+1]-fromCp[1]}if(newFromSubpathBezier[0]=fromSubpathBezier[offset]-fromCp[0],newFromSubpathBezier[1]=fromSubpathBezier[offset+1]-fromCp[1],searchAngleIteration>0)for(var step=searchAngleRange/searchAngleIteration,angle=-searchAngleRange/2;angle<=searchAngleRange/2;angle+=step){var sa=Math.sin(angle),ca=Math.cos(angle),score=0;for(k=0;k<fromSubpathBezier.length;k+=2){var x0=newFromSubpathBezier[k],y0=newFromSubpathBezier[k+1],x1=toSubpathBezier[k]-toCp[0],y1=toSubpathBezier[k+1]-toCp[1],newX1=x1*ca-y1*sa,newY1=x1*sa+y1*ca;tmpArr[k]=newX1,tmpArr[k+1]=newY1;var dx=newX1-x0,dy=newY1-y0;score+=dx*dx+dy*dy}if(score<bestScore){bestScore=score,bestAngle=angle;for(var m=0;m<tmpArr.length;m++)newToSubpathBezier[m]=tmpArr[m]}}else for(var i_1=0;i_1<len;i_1+=2)newToSubpathBezier[i_1]=toSubpathBezier[i_1]-toCp[0],newToSubpathBezier[i_1+1]=toSubpathBezier[i_1+1]-toCp[1];result.push({from:newFromSubpathBezier,to:newToSubpathBezier,fromCp:fromCp,toCp:toCp,rotation:-bestAngle})}return result}(fromBezierCurves,toBezierCurves,10,Math.PI),tmpArr=[];saveAndModifyMethod(toPath,"buildPath",{replace:function(path){for(var t=toPath.__morphT,onet=1-t,newCp=[],i=0;i<morphingData.length;i++){var item=morphingData[i],from=item.from,to=item.to,angle=item.rotation*t,fromCp=item.fromCp,toCp=item.toCp,sa=Math.sin(angle),ca=Math.cos(angle);lerp(newCp,fromCp,toCp,t);for(var m=0;m<from.length;m+=2){var x0_1=from[m],y0_1=from[m+1],x=x0_1*onet+(x1=to[m])*t,y=y0_1*onet+(y1=to[m+1])*t;tmpArr[m]=x*ca-y*sa+newCp[0],tmpArr[m+1]=x*sa+y*ca+newCp[1]}var x0=tmpArr[0],y0=tmpArr[1];path.moveTo(x0,y0);for(m=2;m<from.length;){var x1=tmpArr[m++],y1=tmpArr[m++],x2=tmpArr[m++],y2=tmpArr[m++],x3=tmpArr[m++],y3=tmpArr[m++];x0===x1&&y0===y1&&x2===x3&&y2===y3?path.lineTo(x3,y3):path.bezierCurveTo(x1,y1,x2,y2,x3,y3),x0=x3,y0=y3}}}})}function morphPath(fromPath,toPath,animationOpts){if(!fromPath||!toPath)return toPath;var oldDone=animationOpts.done,oldDuring=animationOpts.during;return prepareMorphPath(fromPath,toPath),toPath.__morphT=0,toPath.animateTo({__morphT:1},Object(util.defaults)({during:function(p){toPath.dirtyShape(),oldDuring&&oldDuring(p)},done:function(){!function restoreToPath(){restoreMethod(toPath,"buildPath"),restoreMethod(toPath,"updateTransform"),toPath.__morphT=-1,toPath.createPathProxy(),toPath.dirtyShape()}(),oldDone&&oldDone()}},animationOpts)),toPath}function hilbert(x,y,minX,minY,maxX,maxY){x=maxX===minX?0:Math.round(32767*(x-minX)/(maxX-minX)),y=maxY===minY?0:Math.round(32767*(y-minY)/(maxY-minY));for(var tmp,d=0,s=32768;s>0;s/=2){var rx=0,ry=0;(x&s)>0&&(rx=1),(y&s)>0&&(ry=1),d+=s*s*(3*rx^ry),0===ry&&(1===rx&&(x=s-1-x,y=s-1-y),tmp=x,x=y,y=tmp)}return d}function sortPaths(pathList){var xMin=1/0,yMin=1/0,xMax=-1/0,yMax=-1/0,cps=Object(util.map)(pathList,(function(path){var rect=path.getBoundingRect(),m=path.getComputedTransform(),x=rect.x+rect.width/2+(m?m[4]:0),y=rect.y+rect.height/2+(m?m[5]:0);return xMin=Math.min(x,xMin),yMin=Math.min(y,yMin),xMax=Math.max(x,xMax),yMax=Math.max(y,yMax),[x,y]}));return Object(util.map)(cps,(function(cp,idx){return{cp:cp,z:hilbert(cp[0],cp[1],xMin,yMin,xMax,yMax),path:pathList[idx]}})).sort((function(a,b){return a.z-b.z})).map((function(item){return item.path}))}function defaultDividePath(param){return split(param.path,param.count)}function isMultiple(elements){return Object(util.isArray)(elements[0])}function prepareMorphBatches(one,many){for(var batches=[],batchCount=one.length,i=0;i<batchCount;i++)batches.push({one:one[i],many:[]});for(i=0;i<many.length;i++){var len=many[i].length,k=void 0;for(k=0;k<len;k++)batches[k%batchCount].many.push(many[i][k])}var off=0;for(i=batchCount-1;i>=0;i--)if(!batches[i].many.length){var moveFrom=batches[off].many;if(moveFrom.length<=1){if(!off)return batches;off=0}len=moveFrom.length;var mid=Math.ceil(len/2);batches[i].many=moveFrom.slice(mid,len),batches[off].many=moveFrom.slice(0,mid),off++}return batches}var pathDividers={clone:function(params){for(var ret=[],approxOpacity=1-Math.pow(1-params.path.style.opacity,1/params.count),i=0;i<params.count;i++){var cloned=clonePath(params.path);cloned.setStyle("opacity",approxOpacity),ret.push(cloned)}return ret},split:null};function applyMorphAnimation(from,to,divideShape,seriesModel,dataIndex,animateOtherProps){if(from.length&&to.length){var updateAnimationCfg=getAnimationConfig("update",seriesModel,dataIndex);if(updateAnimationCfg&&updateAnimationCfg.duration>0){var many,one,animationDelay=seriesModel.getModel("universalTransition").get("delay"),animationCfg=Object.assign({setToFinal:!0},updateAnimationCfg);isMultiple(from)&&(many=from,one=to),isMultiple(to)&&(many=to,one=from);for(var fromIsMany=many?many===from:from.length>to.length,morphBatches=many?prepareMorphBatches(one,many):prepareMorphBatches(fromIsMany?to:from,[fromIsMany?from:to]),animateCount=0,i=0;i<morphBatches.length;i++)animateCount+=morphBatches[i].many.length;var animateIndex=0;for(i=0;i<morphBatches.length;i++)morphOneBatch(morphBatches[i],fromIsMany,animateIndex,animateCount),animateIndex+=morphBatches[i].many.length}}function morphOneBatch(batch,fromIsMany,animateIndex,animateCount,forceManyOne){var batchMany=batch.many,batchOne=batch.one;if(1!==batchMany.length||forceManyOne)for(var separateAnimationCfg=Object(util.defaults)({dividePath:pathDividers[divideShape],individualDelay:animationDelay&&function(idx,count,fromPath,toPath){return animationDelay(idx+animateIndex,animateCount)}},animationCfg),_a=fromIsMany?function combineMorph(fromList,toPath,animationOpts){var fromPathList=[];!function addFromPath(fromList){for(var i=0;i<fromList.length;i++){var from=fromList[i];isCombineMorphing(from)?addFromPath(from.childrenRef()):from instanceof graphic_Path&&fromPathList.push(from)}}(fromList);var separateCount=fromPathList.length;if(!separateCount)return{fromIndividuals:[],toIndividuals:[],count:0};var toSubPathList=(animationOpts.dividePath||defaultDividePath)({path:toPath,count:separateCount});if(toSubPathList.length!==separateCount)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};fromPathList=sortPaths(fromPathList),toSubPathList=sortPaths(toSubPathList);for(var oldDone=animationOpts.done,oldDuring=animationOpts.during,individualDelay=animationOpts.individualDelay,identityTransform=new core_Transformable,i=0;i<separateCount;i++){var from=fromPathList[i],to=toSubPathList[i];to.parent=toPath,to.copyTransform(identityTransform),individualDelay||prepareMorphPath(from,to)}function addToSubPathListToZr(zr){for(var i=0;i<toSubPathList.length;i++)toSubPathList[i].addSelfToZr(zr)}function restoreToPath(){toPath.__isCombineMorphing=!1,toPath.__morphT=-1,toPath.childrenRef=null,restoreMethod(toPath,"addSelfToZr"),restoreMethod(toPath,"removeSelfFromZr")}toPath.__isCombineMorphing=!0,toPath.childrenRef=function(){return toSubPathList},saveAndModifyMethod(toPath,"addSelfToZr",{after:function(zr){addToSubPathListToZr(zr)}}),saveAndModifyMethod(toPath,"removeSelfFromZr",{after:function(zr){for(var i=0;i<toSubPathList.length;i++)toSubPathList[i].removeSelfFromZr(zr)}});var toLen=toSubPathList.length;if(individualDelay){var animating_1=toLen,eachDone=function(){0==--animating_1&&(restoreToPath(),oldDone&&oldDone())};for(i=0;i<toLen;i++){var indivdualAnimationOpts=individualDelay?Object(util.defaults)({delay:(animationOpts.delay||0)+individualDelay(i,toLen,fromPathList[i],toSubPathList[i]),done:eachDone},animationOpts):animationOpts;morphPath(fromPathList[i],toSubPathList[i],indivdualAnimationOpts)}}else toPath.__morphT=0,toPath.animateTo({__morphT:1},Object(util.defaults)({during:function(p){for(var i=0;i<toLen;i++){var child=toSubPathList[i];child.__morphT=toPath.__morphT,child.dirtyShape()}oldDuring&&oldDuring(p)},done:function(){restoreToPath();for(var i=0;i<fromList.length;i++)restoreMethod(fromList[i],"updateTransform");oldDone&&oldDone()}},animationOpts));return toPath.__zr&&addToSubPathListToZr(toPath.__zr),{fromIndividuals:fromPathList,toIndividuals:toSubPathList,count:toLen}}(batchMany,batchOne,separateAnimationCfg):function separateMorph(fromPath,toPathList,animationOpts){var toLen=toPathList.length,fromPathList=[],dividePath=animationOpts.dividePath||defaultDividePath;if(isCombineMorphing(fromPath)){!function addFromPath(fromList){for(var i=0;i<fromList.length;i++){var from=fromList[i];isCombineMorphing(from)?addFromPath(from.childrenRef()):from instanceof graphic_Path&&fromPathList.push(from)}}(fromPath.childrenRef());var fromLen=fromPathList.length;if(fromLen<toLen)for(var k=0,i=fromLen;i<toLen;i++)fromPathList.push(clonePath(fromPathList[k++%fromLen]));fromPathList.length=toLen}else{fromPathList=dividePath({path:fromPath,count:toLen});var fromPathTransform=fromPath.getComputedTransform();for(i=0;i<fromPathList.length;i++)fromPathList[i].setLocalTransform(fromPathTransform);if(fromPathList.length!==toLen)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}fromPathList=sortPaths(fromPathList),toPathList=sortPaths(toPathList);var individualDelay=animationOpts.individualDelay;for(i=0;i<toLen;i++){var indivdualAnimationOpts=individualDelay?Object(util.defaults)({delay:(animationOpts.delay||0)+individualDelay(i,toLen,fromPathList[i],toPathList[i])},animationOpts):animationOpts;morphPath(fromPathList[i],toPathList[i],indivdualAnimationOpts)}return{fromIndividuals:fromPathList,toIndividuals:toPathList,count:toPathList.length}}(batchOne,batchMany,separateAnimationCfg),fromIndividuals=_a.fromIndividuals,toIndividuals=_a.toIndividuals,count=fromIndividuals.length,k=0;k<count;k++){individualAnimationCfg=animationDelay?Object(util.defaults)({delay:animationDelay(k,count)},animationCfg):animationCfg;animateOtherProps(fromIndividuals[k],toIndividuals[k],fromIsMany?batchMany[k]:batch.one,fromIsMany?batch.one:batchMany[k],individualAnimationCfg)}else{var individualAnimationCfg,batchFrom=fromIsMany?batchMany[0]:batchOne,batchTo=fromIsMany?batchOne:batchMany[0];if(isCombineMorphing(batchFrom))morphOneBatch({many:[batchFrom],one:batchTo},!0,animateIndex,animateCount,!0);else morphPath(batchFrom,batchTo,individualAnimationCfg=animationDelay?Object(util.defaults)({delay:animationDelay(animateIndex,animateCount)},animationCfg):animationCfg),animateOtherProps(batchFrom,batchTo,batchFrom,batchTo,individualAnimationCfg)}}}function getPathList(elements){if(!elements)return[];if(Object(util.isArray)(elements)){for(var pathList_1=[],i=0;i<elements.length;i++)pathList_1.push(getPathList(elements[i]));return pathList_1}var pathList=[];return elements.traverse((function(el){el instanceof graphic_Path&&!el.disableMorphing&&!el.invisible&&!el.ignore&&pathList.push(el)})),pathList}var getUniversalTransitionGlobalStore=makeInner();function flattenDataDiffItems(list){var items=[];return Object(util.each)(list,(function(seriesInfo){var data=seriesInfo.data;if(!(data.count()>1e4))for(var indices=data.getIndices(),groupDim=function getGroupIdDimension(data){for(var dimensions=data.dimensions,i=0;i<dimensions.length;i++){var dimInfo=data.getDimensionInfo(dimensions[i]);if(dimInfo&&0===dimInfo.otherDims.itemGroupId)return dimensions[i]}}(data),dataIndex=0;dataIndex<indices.length;dataIndex++)items.push({data:data,dim:seriesInfo.dim||groupDim,divide:seriesInfo.divide,dataIndex:dataIndex})})),items}function fadeInElement(newEl,newSeries,newIndex){newEl.traverse((function(el){el instanceof graphic_Path&&initProps(el,{style:{opacity:0}},newSeries,{dataIndex:newIndex,isFrom:!0})}))}function universalTransition_removeEl(el){if(el.parent){var computedTransform=el.getComputedTransform();el.setLocalTransform(computedTransform),el.parent.remove(el)}}function stopAnimation(el){el.stopAnimation(),el.isGroup&&el.traverse((function(child){child.stopAnimation()}))}function animateElementStyles(el,dataIndex,seriesModel){var animationConfig=getAnimationConfig("update",seriesModel,dataIndex);animationConfig&&el.traverse((function(child){if(child instanceof graphic_Displayable){var oldStyle=function getOldStyle(el){return transitionStore(el).oldStyle}(child);oldStyle&&child.animateFrom({style:oldStyle},animationConfig)}}))}function transitionBetween(oldList,newList,api){var oldDiffItems=flattenDataDiffItems(oldList),newDiffItems=flattenDataDiffItems(newList);function updateMorphingPathProps(from,to,rawFrom,rawTo,animationCfg){(rawFrom||from)&&to.animateFrom({style:rawFrom&&rawFrom!==from?Object(util.extend)(Object(util.extend)({},rawFrom.style),from.style):from.style},animationCfg)}function findKeyDim(items){for(var i=0;i<items.length;i++)if(items[i].dim)return items[i].dim}var oldKeyDim=findKeyDim(oldDiffItems),newKeyDim=findKeyDim(newDiffItems),hasMorphAnimation=!1;function createKeyGetter(isOld,onlyGetId){return function(diffItem){var data=diffItem.data,dataIndex=diffItem.dataIndex;if(onlyGetId)return data.getId(dataIndex);var dataGroupId=data.hostModel&&data.hostModel.get("dataGroupId"),keyDim=isOld?oldKeyDim||newKeyDim:newKeyDim||oldKeyDim,dimInfo=keyDim&&data.getDimensionInfo(keyDim),dimOrdinalMeta=dimInfo&&dimInfo.ordinalMeta;if(dimInfo){var key=data.get(dimInfo.name,dataIndex);return dimOrdinalMeta&&dimOrdinalMeta.categories[key]||key+""}var itemVal=data.getRawDataItem(dataIndex);return itemVal&&itemVal.groupId?itemVal.groupId+"":dataGroupId||data.getId(dataIndex)}}var useId=function isAllIdSame(oldDiffItems,newDiffItems){var len=oldDiffItems.length;if(len!==newDiffItems.length)return!1;for(var i=0;i<len;i++){var oldItem=oldDiffItems[i],newItem=newDiffItems[i];if(oldItem.data.getId(oldItem.dataIndex)!==newItem.data.getId(newItem.dataIndex))return!1}return!0}(oldDiffItems,newDiffItems),isElementStillInChart={};if(!useId)for(var i=0;i<newDiffItems.length;i++){var newItem=newDiffItems[i],el=newItem.data.getItemGraphicEl(newItem.dataIndex);el&&(isElementStillInChart[el.id]=!0)}function updateOneToOne(newIndex,oldIndex){var oldItem=oldDiffItems[oldIndex],newItem=newDiffItems[newIndex],newSeries=newItem.data.hostModel,oldEl=oldItem.data.getItemGraphicEl(oldItem.dataIndex),newEl=newItem.data.getItemGraphicEl(newItem.dataIndex);oldEl!==newEl?oldEl&&isElementStillInChart[oldEl.id]||newEl&&(stopAnimation(newEl),oldEl?(stopAnimation(oldEl),universalTransition_removeEl(oldEl),hasMorphAnimation=!0,applyMorphAnimation(getPathList(oldEl),getPathList(newEl),newItem.divide,newSeries,newIndex,updateMorphingPathProps)):fadeInElement(newEl,newSeries,newIndex)):newEl&&animateElementStyles(newEl,newItem.dataIndex,newSeries)}new data_DataDiffer(oldDiffItems,newDiffItems,createKeyGetter(!0,useId),createKeyGetter(!1,useId),null,"multiple").update(updateOneToOne).updateManyToOne((function(newIndex,oldIndices){var newItem=newDiffItems[newIndex],newData=newItem.data,newSeries=newData.hostModel,newEl=newData.getItemGraphicEl(newItem.dataIndex),oldElsList=Object(util.filter)(Object(util.map)(oldIndices,(function(idx){return oldDiffItems[idx].data.getItemGraphicEl(oldDiffItems[idx].dataIndex)})),(function(oldEl){return oldEl&&oldEl!==newEl&&!isElementStillInChart[oldEl.id]}));newEl&&(stopAnimation(newEl),oldElsList.length?(Object(util.each)(oldElsList,(function(oldEl){stopAnimation(oldEl),universalTransition_removeEl(oldEl)})),hasMorphAnimation=!0,applyMorphAnimation(getPathList(oldElsList),getPathList(newEl),newItem.divide,newSeries,newIndex,updateMorphingPathProps)):fadeInElement(newEl,newSeries,newItem.dataIndex))})).updateOneToMany((function(newIndices,oldIndex){var oldItem=oldDiffItems[oldIndex],oldEl=oldItem.data.getItemGraphicEl(oldItem.dataIndex);if(!oldEl||!isElementStillInChart[oldEl.id]){var newElsList=Object(util.filter)(Object(util.map)(newIndices,(function(idx){return newDiffItems[idx].data.getItemGraphicEl(newDiffItems[idx].dataIndex)})),(function(el){return el&&el!==oldEl})),newSeris=newDiffItems[newIndices[0]].data.hostModel;newElsList.length&&(Object(util.each)(newElsList,(function(newEl){return stopAnimation(newEl)})),oldEl?(stopAnimation(oldEl),universalTransition_removeEl(oldEl),hasMorphAnimation=!0,applyMorphAnimation(getPathList(oldEl),getPathList(newElsList),oldItem.divide,newSeris,newIndices[0],updateMorphingPathProps)):Object(util.each)(newElsList,(function(newEl){return fadeInElement(newEl,newSeris,newIndices[0])})))}})).updateManyToMany((function(newIndices,oldIndices){new data_DataDiffer(oldIndices,newIndices,(function(rawIdx){return oldDiffItems[rawIdx].data.getId(oldDiffItems[rawIdx].dataIndex)}),(function(rawIdx){return newDiffItems[rawIdx].data.getId(newDiffItems[rawIdx].dataIndex)})).update((function(newIndex,oldIndex){updateOneToOne(newIndices[newIndex],oldIndices[oldIndex])})).execute()})).execute(),hasMorphAnimation&&Object(util.each)(newList,(function(_a){var seriesModel=_a.data.hostModel,view=seriesModel&&api.getViewOfSeriesModel(seriesModel),animationCfg=getAnimationConfig("update",seriesModel,0);view&&seriesModel.isAnimationEnabled()&&animationCfg&&animationCfg.duration>0&&view.group.traverse((function(el){el instanceof graphic_Path&&!el.animators.length&&el.animateFrom({style:{opacity:0}},animationCfg)}))}))}function getSeriesTransitionKey(series){var seriesKey=series.getModel("universalTransition").get("seriesKey");return seriesKey||series.id}function convertArraySeriesKeyToString(seriesKey){return Object(util.isArray)(seriesKey)?seriesKey.sort().join(","):seriesKey}function getDivideShapeFromData(data){if(data.hostModel)return data.hostModel.getModel("universalTransition").get("divideShape")}function querySeries(series,finder){for(var i=0;i<series.length;i++){if(null!=finder.seriesIndex&&finder.seriesIndex===series[i].seriesIndex||null!=finder.seriesId&&finder.seriesId===series[i].id)return i}}use([function install(registers){registers.registerPainter("canvas",Painter)}]),use([function installSVGRenderer_install(registers){registers.registerPainter("svg",svg_Painter)}]),use([function install_install(registers){registers.registerChartView(line_LineView),registers.registerSeriesModel(LineSeries),registers.registerLayout(pointsLayout("line",!0)),registers.registerVisual({seriesType:"line",reset:function(seriesModel){var data=seriesModel.getData(),lineStyle=seriesModel.getModel("lineStyle").getLineStyle();lineStyle&&!lineStyle.stroke&&(lineStyle.stroke=data.getVisual("style").fill),data.setVisual("legendLineStyle",lineStyle)}}),registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))},function bar_install_install(registers){registers.registerChartView(bar_BarView),registers.registerSeriesModel(BarSeries),registers.registerLayout(registers.PRIORITY.VISUAL.LAYOUT,util.curry(barGrid_layout,"bar")),registers.registerLayout(registers.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("bar")),registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC,dataSample("bar")),registers.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(payload,ecModel){var componentType=payload.componentType||"series";ecModel.eachComponent({mainType:componentType,query:payload},(function(componentModel){payload.sortInfo&&componentModel.axis.setCategorySortInfo(payload.sortInfo)}))}))},function pie_install_install(registers){registers.registerChartView(pie_PieView),registers.registerSeriesModel(PieSeries),createLegacyDataSelectAction("pie",registers.registerAction),registers.registerLayout(Object(util.curry)(pieLayout,"pie")),registers.registerProcessor(dataFilter("pie")),registers.registerProcessor(function negativeDataFilter(seriesType){return{seriesType:seriesType,reset:function(seriesModel,ecModel){var data=seriesModel.getData();data.filterSelf((function(idx){var valueDim=data.mapDimension("value"),curValue=data.get(valueDim,idx);return!(Object(util.isNumber)(curValue)&&!isNaN(curValue)&&curValue<0)}))}}}("pie"))},function scatter_install_install(registers){use(installSimple_install),registers.registerSeriesModel(ScatterSeries),registers.registerChartView(scatter_ScatterView),registers.registerLayout(pointsLayout("scatter"))},function chart_radar_install_install(registers){use(radar_install_install),registers.registerChartView(radar_RadarView),registers.registerSeriesModel(RadarSeries),registers.registerLayout(radarLayout),registers.registerProcessor(dataFilter("radar")),registers.registerPreprocessor(radarBackwardCompat)},function map_install_install(registers){use(geo_install_install),registers.registerChartView(map_MapView),registers.registerSeriesModel(map_MapSeries),registers.registerLayout(mapSymbolLayout),registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),createLegacyDataSelectAction("map",registers.registerAction)},function tree_install_install(registers){registers.registerChartView(tree_TreeView),registers.registerSeriesModel(TreeSeries),registers.registerLayout(treeLayout),registers.registerVisual(treeVisual),function installTreeAction(registers){registers.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(payload,ecModel){ecModel.eachComponent({mainType:"series",subType:"tree",query:payload},(function(seriesModel){var dataIndex=payload.dataIndex,node=seriesModel.getData().tree.getNodeByDataIndex(dataIndex);node.isExpand=!node.isExpand}))})),registers.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(payload,ecModel){ecModel.eachComponent({mainType:"series",subType:"tree",query:payload},(function(seriesModel){var res=updateCenterAndZoom(seriesModel.coordinateSystem,payload);seriesModel.setCenter&&seriesModel.setCenter(res.center),seriesModel.setZoom&&seriesModel.setZoom(res.zoom)}))}))}(registers)},function treemap_install_install(registers){registers.registerSeriesModel(TreemapSeries),registers.registerChartView(treemap_TreemapView),registers.registerVisual(treemapVisual),registers.registerLayout(treemapLayout),function installTreemapAction(registers){for(var i=0;i<actionTypes.length;i++)registers.registerAction({type:actionTypes[i],update:"updateView"},util.noop);registers.registerAction({type:"treemapRootToNode",update:"updateView"},(function(payload,ecModel){ecModel.eachComponent({mainType:"series",subType:"treemap",query:payload},(function handleRootToNode(model,index){var targetInfo=retrieveTargetInfo(payload,["treemapZoomToNode","treemapRootToNode"],model);if(targetInfo){var originViewRoot=model.getViewRoot();originViewRoot&&(payload.direction=aboveViewRoot(originViewRoot,targetInfo.node)?"rollUp":"drillDown"),model.resetViewRoot(targetInfo.node)}}))}))}(registers)},function graph_install_install(registers){registers.registerChartView(graph_GraphView),registers.registerSeriesModel(GraphSeries),registers.registerProcessor(categoryFilter),registers.registerVisual(categoryVisual),registers.registerVisual(graphEdgeVisual),registers.registerLayout(graphSimpleLayout),registers.registerLayout(registers.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout),registers.registerLayout(graphForceLayout),registers.registerCoordinateSystem("graphView",{dimensions:coord_View.dimensions,create:createViewCoordSys}),registers.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},util.noop),registers.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},util.noop),registers.registerAction(install_actionInfo,(function(payload,ecModel){ecModel.eachComponent({mainType:"series",query:payload},(function(seriesModel){var res=updateCenterAndZoom(seriesModel.coordinateSystem,payload);seriesModel.setCenter&&seriesModel.setCenter(res.center),seriesModel.setZoom&&seriesModel.setZoom(res.zoom)}))}))},function gauge_install_install(registers){registers.registerChartView(gauge_GaugeView),registers.registerSeriesModel(GaugeSeries)},function funnel_install_install(registers){registers.registerChartView(funnel_FunnelView),registers.registerSeriesModel(FunnelSeries),registers.registerLayout(funnelLayout),registers.registerProcessor(dataFilter("funnel"))},function chart_parallel_install_install(registers){use(parallel_install_install),registers.registerChartView(parallel_ParallelView),registers.registerSeriesModel(ParallelSeries),registers.registerVisual(registers.PRIORITY.VISUAL.BRUSH,parallel_parallelVisual)},function sankey_install_install(registers){registers.registerChartView(sankey_SankeyView),registers.registerSeriesModel(SankeySeries),registers.registerLayout(sankeyLayout),registers.registerVisual(sankeyVisual),registers.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(payload,ecModel){ecModel.eachComponent({mainType:"series",subType:"sankey",query:payload},(function(seriesModel){seriesModel.setNodePosition(payload.dataIndex,[payload.localX,payload.localY])}))}))},function boxplot_install_install(registers){registers.registerSeriesModel(BoxplotSeries),registers.registerChartView(boxplot_BoxplotView),registers.registerVisual(boxplotVisual),registers.registerLayout(boxplotLayout),registers.registerTransform(boxplotTransform)},function candlestick_install_install(registers){registers.registerChartView(candlestick_CandlestickView),registers.registerSeriesModel(CandlestickSeries),registers.registerPreprocessor(candlestickPreprocessor),registers.registerVisual(candlestick_candlestickVisual),registers.registerLayout(candlestick_candlestickLayout)},function effectScatter_install_install(registers){registers.registerChartView(effectScatter_EffectScatterView),registers.registerSeriesModel(EffectScatterSeries),registers.registerLayout(pointsLayout("effectScatter"))},function lines_install_install(registers){registers.registerChartView(lines_LinesView),registers.registerSeriesModel(LinesSeries),registers.registerLayout(lines_linesLayout),registers.registerVisual(lines_linesVisual)},function heatmap_install_install(registers){registers.registerChartView(heatmap_HeatmapView),registers.registerSeriesModel(HeatmapSeries)},function installPictorialBar_install(registers){registers.registerChartView(bar_PictorialBarView),registers.registerSeriesModel(PictorialBarSeries),registers.registerLayout(registers.PRIORITY.VISUAL.LAYOUT,Object(util.curry)(barGrid_layout,"pictorialBar")),registers.registerLayout(registers.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("pictorialBar"))},function themeRiver_install_install(registers){registers.registerChartView(themeRiver_ThemeRiverView),registers.registerSeriesModel(ThemeRiverSeries),registers.registerLayout(themeRiverLayout),registers.registerProcessor(dataFilter("themeRiver"))},function sunburst_install_install(registers){registers.registerChartView(sunburst_SunburstView),registers.registerSeriesModel(SunburstSeries),registers.registerLayout(Object(util.curry)(sunburstLayout,"sunburst")),registers.registerProcessor(Object(util.curry)(dataFilter,"sunburst")),registers.registerVisual(sunburstVisual),function installSunburstAction(registers){registers.registerAction({type:"sunburstRootToNode",update:"updateView"},(function(payload,ecModel){ecModel.eachComponent({mainType:"series",subType:"sunburst",query:payload},(function handleRootToNode(model,index){var targetInfo=retrieveTargetInfo(payload,["sunburstRootToNode"],model);if(targetInfo){var originViewRoot=model.getViewRoot();originViewRoot&&(payload.direction=aboveViewRoot(originViewRoot,targetInfo.node)?"rollUp":"drillDown"),model.resetViewRoot(targetInfo.node)}}))})),registers.registerAction({type:"sunburstHighlight",update:"none"},(function(payload,ecModel,api){payload=Object(util.extend)({},payload),ecModel.eachComponent({mainType:"series",subType:"sunburst",query:payload},(function handleHighlight(model){var targetInfo=retrieveTargetInfo(payload,["sunburstHighlight"],model);targetInfo&&(payload.dataIndex=targetInfo.node.dataIndex)})),api.dispatchAction(Object(util.extend)(payload,{type:"highlight"}))})),registers.registerAction({type:"sunburstUnhighlight",update:"updateView"},(function(payload,ecModel,api){payload=Object(util.extend)({},payload),api.dispatchAction(Object(util.extend)(payload,{type:"downplay"}))}))}(registers)},function custom_install_install(registers){registers.registerChartView(CustomView),registers.registerSeriesModel(CustomSeries)}]),use((function grid_install_install(registers){use(installSimple_install),use(axisPointer_install_install)})),use((function polar_install_install(registers){use(axisPointer_install_install),axis_AxisView.registerAxisPointerClass("PolarAxisPointer",axisPointer_PolarAxisPointer),registers.registerCoordinateSystem("polar",polar_polarCreator),registers.registerComponentModel(polar_PolarModel),registers.registerComponentView(install_PolarView),axisModelCreator(registers,"angle",AxisModel_AngleAxisModel,angleAxisExtraOption),axisModelCreator(registers,"radius",AxisModel_RadiusAxisModel,radiusAxisExtraOption),registers.registerComponentView(axis_AngleAxisView),registers.registerComponentView(axis_RadiusAxisView),registers.registerLayout(Object(util.curry)(barPolar,"bar"))})),use(geo_install_install),use((function singleAxis_install_install(registers){use(axisPointer_install_install),axis_AxisView.registerAxisPointerClass("SingleAxisPointer",axisPointer_SingleAxisPointer),registers.registerComponentView(install_SingleView),registers.registerComponentView(axis_SingleAxisView),registers.registerComponentModel(single_AxisModel),axisModelCreator(registers,"single",single_AxisModel,single_AxisModel.defaultOption),registers.registerCoordinateSystem("single",single_singleCreator)})),use(parallel_install_install),use((function calendar_install_install(registers){registers.registerComponentModel(calendar_CalendarModel),registers.registerComponentView(calendar_CalendarView),registers.registerCoordinateSystem("calendar",calendar_Calendar)})),use((function graphic_install_install(registers){registers.registerComponentModel(GraphicModel_GraphicComponentModel),registers.registerComponentView(GraphicView_GraphicComponentView),registers.registerPreprocessor((function(option){var graphicOption=option.graphic;Object(util.isArray)(graphicOption)?graphicOption[0]&&graphicOption[0].elements?option.graphic=[option.graphic[0]]:option.graphic=[{elements:graphicOption}]:graphicOption&&!graphicOption.elements&&(option.graphic=[{elements:[graphicOption]}])}))})),use((function toolbox_install_install(registers){registers.registerComponentModel(toolbox_ToolboxModel),registers.registerComponentView(toolbox_ToolboxView),registerFeature("saveAsImage",feature_SaveAsImage),registerFeature("magicType",feature_MagicType),registerFeature("dataView",feature_DataView),registerFeature("dataZoom",DataZoom),registerFeature("restore",Restore),use(installDataZoomSelect_install)})),use((function tooltip_install_install(registers){use(axisPointer_install_install),registers.registerComponentModel(tooltip_TooltipModel),registers.registerComponentView(tooltip_TooltipView),registers.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},util.noop),registers.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},util.noop)})),use(axisPointer_install_install),use((function brush_install_install(registers){registers.registerComponentView(brush_BrushView),registers.registerComponentModel(brush_BrushModel),registers.registerPreprocessor(brushPreprocessor),registers.registerVisual(registers.PRIORITY.VISUAL.BRUSH,brushVisual),registers.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(payload,ecModel){ecModel.eachComponent({mainType:"brush",query:payload},(function(brushModel){brushModel.setAreas(payload.areas)}))})),registers.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},util.noop),registers.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},util.noop),registerFeature("brush",Brush)})),use((function title_install_install(registers){registers.registerComponentModel(install_TitleModel),registers.registerComponentView(install_TitleView)})),use((function timeline_install_install(registers){registers.registerComponentModel(timeline_SliderTimelineModel),registers.registerComponentView(timeline_SliderTimelineView),registers.registerSubTypeDefaulter("timeline",(function(){return"slider"})),function installTimelineAction(registers){registers.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(payload,ecModel,api){var timelineModel=ecModel.getComponent("timeline");return timelineModel&&null!=payload.currentIndex&&(timelineModel.setCurrentIndex(payload.currentIndex),!timelineModel.get("loop",!0)&&timelineModel.isIndexMax()&&timelineModel.getPlayState()&&(timelineModel.setPlayState(!1),api.dispatchAction({type:"timelinePlayChange",playState:!1,from:payload.from}))),ecModel.resetOption("timeline",{replaceMerge:timelineModel.get("replaceMerge",!0)}),Object(util.defaults)({currentIndex:timelineModel.option.currentIndex},payload)})),registers.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(payload,ecModel){var timelineModel=ecModel.getComponent("timeline");timelineModel&&null!=payload.playState&&timelineModel.setPlayState(payload.playState)}))}(registers),registers.registerPreprocessor(timelinePreprocessor)})),use((function installMarkPoint_install(registers){registers.registerComponentModel(marker_MarkPointModel),registers.registerComponentView(marker_MarkPointView),registers.registerPreprocessor((function(opt){checkMarkerInSeries(opt.series,"markPoint")&&(opt.markPoint=opt.markPoint||{})}))})),use((function installMarkLine_install(registers){registers.registerComponentModel(marker_MarkLineModel),registers.registerComponentView(marker_MarkLineView),registers.registerPreprocessor((function(opt){checkMarkerInSeries(opt.series,"markLine")&&(opt.markLine=opt.markLine||{})}))})),use((function installMarkArea_install(registers){registers.registerComponentModel(marker_MarkAreaModel),registers.registerComponentView(marker_MarkAreaView),registers.registerPreprocessor((function(opt){checkMarkerInSeries(opt.series,"markArea")&&(opt.markArea=opt.markArea||{})}))})),use((function legend_install_install(registers){use(installLegendPlain_install),use(installLegendScroll_install)})),use((function dataZoom_install_install(registers){use(installDataZoomInside_install),use(installDataZoomSlider_install)})),use(installDataZoomInside_install),use(installDataZoomSlider_install),use((function visualMap_install_install(registers){use(installVisualMapContinuous_install),use(installVisualMapPiecewise_install)})),use(installVisualMapContinuous_install),use(installVisualMapPiecewise_install),use((function aria_install_install(registers){registers.registerPreprocessor(ariaPreprocessor),registers.registerVisual(registers.PRIORITY.VISUAL.ARIA,ariaVisual)})),use((function transform_install_install(registers){registers.registerTransform(filterTransform),registers.registerTransform(sortTransform)})),use((function dataset_install_install(registers){registers.registerComponentModel(install_DatasetModel),registers.registerComponentView(install_DatasetView)})),use((function installUniversalTransition(registers){registers.registerUpdateLifecycle("series:beforeupdate",(function(ecMOdel,api,params){Object(util.each)(normalizeToArray(params.seriesTransition),(function(transOpt){Object(util.each)(normalizeToArray(transOpt.to),(function(finder){for(var series=params.updatedSeries,i=0;i<series.length;i++)(null!=finder.seriesIndex&&finder.seriesIndex===series[i].seriesIndex||null!=finder.seriesId&&finder.seriesId===series[i].id)&&(series[i].__universalTransitionEnabled=!0)}))}))})),registers.registerUpdateLifecycle("series:transition",(function(ecModel,api,params){var globalStore=getUniversalTransitionGlobalStore(api);if(globalStore.oldSeries&&params.updatedSeries&&params.optionChanged){var transitionOpt=params.seriesTransition;if(transitionOpt)Object(util.each)(normalizeToArray(transitionOpt),(function(opt){!function transitionSeriesFromOpt(transitionOpt,globalStore,params,api){var from=[],to=[];Object(util.each)(normalizeToArray(transitionOpt.from),(function(finder){var idx=querySeries(globalStore.oldSeries,finder);idx>=0&&from.push({data:globalStore.oldData[idx],divide:getDivideShapeFromData(globalStore.oldData[idx]),dim:finder.dimension})})),Object(util.each)(normalizeToArray(transitionOpt.to),(function(finder){var idx=querySeries(params.updatedSeries,finder);if(idx>=0){var data=params.updatedSeries[idx].getData();to.push({data:data,divide:getDivideShapeFromData(data),dim:finder.dimension})}})),from.length>0&&to.length>0&&transitionBetween(from,to,api)}(opt,globalStore,params,api)}));else{var updateBatches_1=function findTransitionSeriesBatches(globalStore,params){var updateBatches=Object(util.createHashMap)(),oldDataMap=Object(util.createHashMap)(),oldDataMapForSplit=Object(util.createHashMap)();return Object(util.each)(globalStore.oldSeries,(function(series,idx){var oldData=globalStore.oldData[idx],transitionKey=getSeriesTransitionKey(series),transitionKeyStr=convertArraySeriesKeyToString(transitionKey);oldDataMap.set(transitionKeyStr,oldData),Object(util.isArray)(transitionKey)&&Object(util.each)(transitionKey,(function(key){oldDataMapForSplit.set(key,{data:oldData,key:transitionKeyStr})}))})),Object(util.each)(params.updatedSeries,(function(series){if(series.isUniversalTransitionEnabled()&&series.isAnimationEnabled()){var newData=series.getData(),transitionKey=getSeriesTransitionKey(series),transitionKeyStr=convertArraySeriesKeyToString(transitionKey),oldData=oldDataMap.get(transitionKeyStr);if(oldData)updateBatches.set(transitionKeyStr,{oldSeries:[{divide:getDivideShapeFromData(oldData),data:oldData}],newSeries:[{divide:getDivideShapeFromData(newData),data:newData}]});else if(Object(util.isArray)(transitionKey)){var oldSeries_1=[];Object(util.each)(transitionKey,(function(key){var oldData=oldDataMap.get(key);oldData&&oldSeries_1.push({divide:getDivideShapeFromData(oldData),data:oldData})})),oldSeries_1.length&&updateBatches.set(transitionKeyStr,{oldSeries:oldSeries_1,newSeries:[{data:newData,divide:getDivideShapeFromData(newData)}]})}else{var oldData_1=oldDataMapForSplit.get(transitionKey);if(oldData_1){var batch=updateBatches.get(oldData_1.key);batch||(batch={oldSeries:[{data:oldData_1.data,divide:getDivideShapeFromData(oldData_1.data)}],newSeries:[]},updateBatches.set(oldData_1.key,batch)),batch.newSeries.push({data:newData,divide:getDivideShapeFromData(newData)})}}}})),updateBatches}(globalStore,params);Object(util.each)(updateBatches_1.keys(),(function(key){var batch=updateBatches_1.get(key);transitionBetween(batch.oldSeries,batch.newSeries,api)}))}Object(util.each)(params.updatedSeries,(function(series){series.__universalTransitionEnabled&&(series.__universalTransitionEnabled=!1)}))}for(var allSeries=ecModel.getSeries(),savedSeries=globalStore.oldSeries=[],savedData=globalStore.oldData=[],i=0;i<allSeries.length;i++){var data=allSeries[i].getData();data.count()<1e4&&(savedSeries.push(allSeries[i]),savedData.push(data))}}))})),use(installLabelLayout)},"./node_modules/entities/lib/decode.js":function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.decodeHTML=exports.decodeHTMLStrict=exports.decodeXML=void 0;var entities_json_1=__importDefault(__webpack_require__("./node_modules/entities/lib/maps/entities.json")),legacy_json_1=__importDefault(__webpack_require__("./node_modules/entities/lib/maps/legacy.json")),xml_json_1=__importDefault(__webpack_require__("./node_modules/entities/lib/maps/xml.json")),decode_codepoint_1=__importDefault(__webpack_require__("./node_modules/entities/lib/decode_codepoint.js")),strictEntityRe=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function getStrictDecoder(map){var replace=getReplacer(map);return function(str){return String(str).replace(strictEntityRe,replace)}}exports.decodeXML=getStrictDecoder(xml_json_1.default),exports.decodeHTMLStrict=getStrictDecoder(entities_json_1.default);var sorter=function(a,b){return a<b?1:-1};function getReplacer(map){return function replace(str){if("#"===str.charAt(1)){var secondChar=str.charAt(2);return"X"===secondChar||"x"===secondChar?decode_codepoint_1.default(parseInt(str.substr(3),16)):decode_codepoint_1.default(parseInt(str.substr(2),10))}return map[str.slice(1,-1)]||str}}exports.decodeHTML=function(){for(var legacy=Object.keys(legacy_json_1.default).sort(sorter),keys=Object.keys(entities_json_1.default).sort(sorter),i=0,j=0;i<keys.length;i++)legacy[j]===keys[i]?(keys[i]+=";?",j++):keys[i]+=";";var re=new RegExp("&(?:"+keys.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),replace=getReplacer(entities_json_1.default);function replacer(str){return";"!==str.substr(-1)&&(str+=";"),replace(str)}return function(str){return String(str).replace(re,replacer)}}()},"./node_modules/entities/lib/decode_codepoint.js":function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var decode_json_1=__importDefault(__webpack_require__("./node_modules/entities/lib/maps/decode.json")),fromCodePoint=String.fromCodePoint||function(codePoint){var output="";return codePoint>65535&&(codePoint-=65536,output+=String.fromCharCode(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),output+=String.fromCharCode(codePoint)};exports.default=function decodeCodePoint(codePoint){return codePoint>=55296&&codePoint<=57343||codePoint>1114111?"":(codePoint in decode_json_1.default&&(codePoint=decode_json_1.default[codePoint]),fromCodePoint(codePoint))}},"./node_modules/entities/lib/encode.js":function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.escapeUTF8=exports.escape=exports.encodeNonAsciiHTML=exports.encodeHTML=exports.encodeXML=void 0;var inverseXML=getInverseObj(__importDefault(__webpack_require__("./node_modules/entities/lib/maps/xml.json")).default),xmlReplacer=getInverseReplacer(inverseXML);exports.encodeXML=getASCIIEncoder(inverseXML);var inverseHTML=getInverseObj(__importDefault(__webpack_require__("./node_modules/entities/lib/maps/entities.json")).default),htmlReplacer=getInverseReplacer(inverseHTML);function getInverseObj(obj){return Object.keys(obj).sort().reduce((function(inverse,name){return inverse[obj[name]]="&"+name+";",inverse}),{})}function getInverseReplacer(inverse){for(var single=[],multiple=[],_i=0,_a=Object.keys(inverse);_i<_a.length;_i++){var k=_a[_i];1===k.length?single.push("\\"+k):multiple.push(k)}single.sort();for(var start=0;start<single.length-1;start++){for(var end=start;end<single.length-1&&single[end].charCodeAt(1)+1===single[end+1].charCodeAt(1);)end+=1;var count=1+end-start;count<3||single.splice(start,count,single[start]+"-"+single[end])}return multiple.unshift("["+single.join("")+"]"),new RegExp(multiple.join("|"),"g")}exports.encodeHTML=function getInverse(inverse,re){return function(data){return data.replace(re,(function(name){return inverse[name]})).replace(reNonASCII,singleCharReplacer)}}(inverseHTML,htmlReplacer),exports.encodeNonAsciiHTML=getASCIIEncoder(inverseHTML);var reNonASCII=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,getCodePoint=null!=String.prototype.codePointAt?function(str){return str.codePointAt(0)}:function(c){return 1024*(c.charCodeAt(0)-55296)+c.charCodeAt(1)-56320+65536};function singleCharReplacer(c){return"&#x"+(c.length>1?getCodePoint(c):c.charCodeAt(0)).toString(16).toUpperCase()+";"}var reEscapeChars=new RegExp(xmlReplacer.source+"|"+reNonASCII.source,"g");function getASCIIEncoder(obj){return function(data){return data.replace(reEscapeChars,(function(c){return obj[c]||singleCharReplacer(c)}))}}exports.escape=function escape(data){return data.replace(reEscapeChars,singleCharReplacer)},exports.escapeUTF8=function escapeUTF8(data){return data.replace(xmlReplacer,singleCharReplacer)}},"./node_modules/entities/lib/index.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.decodeXMLStrict=exports.decodeHTML5Strict=exports.decodeHTML4Strict=exports.decodeHTML5=exports.decodeHTML4=exports.decodeHTMLStrict=exports.decodeHTML=exports.decodeXML=exports.encodeHTML5=exports.encodeHTML4=exports.escapeUTF8=exports.escape=exports.encodeNonAsciiHTML=exports.encodeHTML=exports.encodeXML=exports.encode=exports.decodeStrict=exports.decode=void 0;var decode_1=__webpack_require__("./node_modules/entities/lib/decode.js"),encode_1=__webpack_require__("./node_modules/entities/lib/encode.js");exports.decode=function decode(data,level){return(!level||level<=0?decode_1.decodeXML:decode_1.decodeHTML)(data)},exports.decodeStrict=function decodeStrict(data,level){return(!level||level<=0?decode_1.decodeXML:decode_1.decodeHTMLStrict)(data)},exports.encode=function encode(data,level){return(!level||level<=0?encode_1.encodeXML:encode_1.encodeHTML)(data)};var encode_2=__webpack_require__("./node_modules/entities/lib/encode.js");Object.defineProperty(exports,"encodeXML",{enumerable:!0,get:function(){return encode_2.encodeXML}}),Object.defineProperty(exports,"encodeHTML",{enumerable:!0,get:function(){return encode_2.encodeHTML}}),Object.defineProperty(exports,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return encode_2.encodeNonAsciiHTML}}),Object.defineProperty(exports,"escape",{enumerable:!0,get:function(){return encode_2.escape}}),Object.defineProperty(exports,"escapeUTF8",{enumerable:!0,get:function(){return encode_2.escapeUTF8}}),Object.defineProperty(exports,"encodeHTML4",{enumerable:!0,get:function(){return encode_2.encodeHTML}}),Object.defineProperty(exports,"encodeHTML5",{enumerable:!0,get:function(){return encode_2.encodeHTML}});var decode_2=__webpack_require__("./node_modules/entities/lib/decode.js");Object.defineProperty(exports,"decodeXML",{enumerable:!0,get:function(){return decode_2.decodeXML}}),Object.defineProperty(exports,"decodeHTML",{enumerable:!0,get:function(){return decode_2.decodeHTML}}),Object.defineProperty(exports,"decodeHTMLStrict",{enumerable:!0,get:function(){return decode_2.decodeHTMLStrict}}),Object.defineProperty(exports,"decodeHTML4",{enumerable:!0,get:function(){return decode_2.decodeHTML}}),Object.defineProperty(exports,"decodeHTML5",{enumerable:!0,get:function(){return decode_2.decodeHTML}}),Object.defineProperty(exports,"decodeHTML4Strict",{enumerable:!0,get:function(){return decode_2.decodeHTMLStrict}}),Object.defineProperty(exports,"decodeHTML5Strict",{enumerable:!0,get:function(){return decode_2.decodeHTMLStrict}}),Object.defineProperty(exports,"decodeXMLStrict",{enumerable:!0,get:function(){return decode_2.decodeXML}})},"./node_modules/entities/lib/maps/decode.json":function(module){module.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},"./node_modules/entities/lib/maps/entities.json":function(module){module.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')},"./node_modules/entities/lib/maps/legacy.json":function(module){module.exports=JSON.parse('{"Aacute":"","aacute":"","Acirc":"","acirc":"","acute":"","AElig":"","aelig":"","Agrave":"","agrave":"","amp":"&","AMP":"&","Aring":"","aring":"","Atilde":"","atilde":"","Auml":"","auml":"","brvbar":"","Ccedil":"","ccedil":"","cedil":"","cent":"","copy":"","COPY":"","curren":"","deg":"","divide":"","Eacute":"","eacute":"","Ecirc":"","ecirc":"","Egrave":"","egrave":"","ETH":"","eth":"","Euml":"","euml":"","frac12":"","frac14":"","frac34":"","gt":">","GT":">","Iacute":"","iacute":"","Icirc":"","icirc":"","iexcl":"","Igrave":"","igrave":"","iquest":"","Iuml":"","iuml":"","laquo":"","lt":"<","LT":"<","macr":"","micro":"","middot":"","nbsp":"","not":"","Ntilde":"","ntilde":"","Oacute":"","oacute":"","Ocirc":"","ocirc":"","Ograve":"","ograve":"","ordf":"","ordm":"","Oslash":"","oslash":"","Otilde":"","otilde":"","Ouml":"","ouml":"","para":"","plusmn":"","pound":"","quot":"\\"","QUOT":"\\"","raquo":"","reg":"","REG":"","sect":"","shy":"","sup1":"","sup2":"","sup3":"","szlig":"","THORN":"","thorn":"","times":"","Uacute":"","uacute":"","Ucirc":"","ucirc":"","Ugrave":"","ugrave":"","uml":"","Uuml":"","uuml":"","Yacute":"","yacute":"","yen":"","yuml":""}')},"./node_modules/entities/lib/maps/xml.json":function(module){module.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},"./node_modules/es-abstract/2020/IsArray.js":function(module,exports,__webpack_require__){"use strict";var $Array=__webpack_require__("./node_modules/get-intrinsic/index.js")("%Array%"),toStr=!$Array.isArray&&__webpack_require__("./node_modules/call-bind/callBound.js")("Object.prototype.toString");module.exports=$Array.isArray||function IsArray(argument){return"[object Array]"===toStr(argument)}},"./node_modules/es-abstract/2021/AddEntriesFromIterable.js":function(module,exports,__webpack_require__){"use strict";var inspect=__webpack_require__("./node_modules/object-inspect/index.js"),$TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),Call=__webpack_require__("./node_modules/es-abstract/2021/Call.js"),Get=__webpack_require__("./node_modules/es-abstract/2021/Get.js"),GetIterator=__webpack_require__("./node_modules/es-abstract/2021/GetIterator.js"),IsCallable=__webpack_require__("./node_modules/es-abstract/2021/IsCallable.js"),IteratorClose=__webpack_require__("./node_modules/es-abstract/2021/IteratorClose.js"),IteratorStep=__webpack_require__("./node_modules/es-abstract/2021/IteratorStep.js"),IteratorValue=__webpack_require__("./node_modules/es-abstract/2021/IteratorValue.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function AddEntriesFromIterable(target,iterable,adder){if(!IsCallable(adder))throw new $TypeError("Assertion failed: `adder` is not callable");if(null==iterable)throw new $TypeError("Assertion failed: `iterable` is present, and not nullish");for(var iteratorRecord=GetIterator(iterable);;){var next=IteratorStep(iteratorRecord);if(!next)return target;var nextItem=IteratorValue(next);if("Object"!==Type(nextItem)){var error=new $TypeError("iterator next must return an Object, got "+inspect(nextItem));return IteratorClose(iteratorRecord,(function(){throw error}))}try{var k=Get(nextItem,"0"),v=Get(nextItem,"1");Call(adder,target,[k,v])}catch(e){return IteratorClose(iteratorRecord,(function(){throw e}))}}}},"./node_modules/es-abstract/2021/AdvanceStringIndex.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),CodePointAt=__webpack_require__("./node_modules/es-abstract/2021/CodePointAt.js"),IsIntegralNumber=__webpack_require__("./node_modules/es-abstract/2021/IsIntegralNumber.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js"),MAX_SAFE_INTEGER=__webpack_require__("./node_modules/es-abstract/helpers/maxSafeInteger.js"),$TypeError=GetIntrinsic("%TypeError%");module.exports=function AdvanceStringIndex(S,index,unicode){if("String"!==Type(S))throw new $TypeError("Assertion failed: `S` must be a String");if(!IsIntegralNumber(index)||index<0||index>MAX_SAFE_INTEGER)throw new $TypeError("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if("Boolean"!==Type(unicode))throw new $TypeError("Assertion failed: `unicode` must be a Boolean");return unicode?index+1>=S.length?index+1:index+CodePointAt(S,index)["[[CodeUnitCount]]"]:index+1}},"./node_modules/es-abstract/2021/ArrayCreate.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),$ArrayPrototype=GetIntrinsic("%Array.prototype%"),$RangeError=GetIntrinsic("%RangeError%"),$SyntaxError=GetIntrinsic("%SyntaxError%"),$TypeError=GetIntrinsic("%TypeError%"),IsIntegralNumber=__webpack_require__("./node_modules/es-abstract/2021/IsIntegralNumber.js"),MAX_ARRAY_LENGTH=Math.pow(2,32)-1,$setProto=GetIntrinsic("%Object.setPrototypeOf%",!0)||([].__proto__!==$ArrayPrototype?null:function(O,proto){return O.__proto__=proto,O});module.exports=function ArrayCreate(length){if(!IsIntegralNumber(length)||length<0)throw new $TypeError("Assertion failed: `length` must be an integer Number >= 0");if(length>MAX_ARRAY_LENGTH)throw new $RangeError("length is greater than (2**32 - 1)");var proto=arguments.length>1?arguments[1]:$ArrayPrototype,A=[];if(proto!==$ArrayPrototype){if(!$setProto)throw new $SyntaxError("ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]");$setProto(A,proto)}return 0!==length&&(A.length=length),A}},"./node_modules/es-abstract/2021/ArraySpeciesCreate.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),$species=GetIntrinsic("%Symbol.species%",!0),$TypeError=GetIntrinsic("%TypeError%"),ArrayCreate=__webpack_require__("./node_modules/es-abstract/2021/ArrayCreate.js"),Get=__webpack_require__("./node_modules/es-abstract/2021/Get.js"),IsArray=__webpack_require__("./node_modules/es-abstract/2021/IsArray.js"),IsConstructor=__webpack_require__("./node_modules/es-abstract/2021/IsConstructor.js"),IsIntegralNumber=__webpack_require__("./node_modules/es-abstract/2021/IsIntegralNumber.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function ArraySpeciesCreate(originalArray,length){if(!IsIntegralNumber(length)||length<0)throw new $TypeError("Assertion failed: length must be an integer >= 0");if(!IsArray(originalArray))return ArrayCreate(length);var C=Get(originalArray,"constructor");if($species&&"Object"===Type(C)&&null===(C=Get(C,$species))&&(C=void 0),void 0===C)return ArrayCreate(length);if(!IsConstructor(C))throw new $TypeError("C must be a constructor");return new C(length)}},"./node_modules/es-abstract/2021/Call.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),$TypeError=GetIntrinsic("%TypeError%"),IsArray=__webpack_require__("./node_modules/es-abstract/2021/IsArray.js"),$apply=GetIntrinsic("%Reflect.apply%",!0)||callBound("%Function.prototype.apply%");module.exports=function Call(F,V){var argumentsList=arguments.length>2?arguments[2]:[];if(!IsArray(argumentsList))throw new $TypeError("Assertion failed: optional `argumentsList`, if provided, must be a List");return $apply(F,V,argumentsList)}},"./node_modules/es-abstract/2021/CodePointAt.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),isLeadingSurrogate=__webpack_require__("./node_modules/es-abstract/helpers/isLeadingSurrogate.js"),isTrailingSurrogate=__webpack_require__("./node_modules/es-abstract/helpers/isTrailingSurrogate.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js"),UTF16SurrogatePairToCodePoint=__webpack_require__("./node_modules/es-abstract/2021/UTF16SurrogatePairToCodePoint.js"),$charAt=callBound("String.prototype.charAt"),$charCodeAt=callBound("String.prototype.charCodeAt");module.exports=function CodePointAt(string,position){if("String"!==Type(string))throw new $TypeError("Assertion failed: `string` must be a String");var size=string.length;if(position<0||position>=size)throw new $TypeError("Assertion failed: `position` must be >= 0, and < the length of `string`");var first=$charCodeAt(string,position),cp=$charAt(string,position),firstIsLeading=isLeadingSurrogate(first),firstIsTrailing=isTrailingSurrogate(first);if(!firstIsLeading&&!firstIsTrailing)return{"[[CodePoint]]":cp,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(firstIsTrailing||position+1===size)return{"[[CodePoint]]":cp,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var second=$charCodeAt(string,position+1);return isTrailingSurrogate(second)?{"[[CodePoint]]":UTF16SurrogatePairToCodePoint(first,second),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":cp,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}}},"./node_modules/es-abstract/2021/CreateDataProperty.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),DefineOwnProperty=__webpack_require__("./node_modules/es-abstract/helpers/DefineOwnProperty.js"),FromPropertyDescriptor=__webpack_require__("./node_modules/es-abstract/2021/FromPropertyDescriptor.js"),OrdinaryGetOwnProperty=__webpack_require__("./node_modules/es-abstract/2021/OrdinaryGetOwnProperty.js"),IsDataDescriptor=__webpack_require__("./node_modules/es-abstract/2021/IsDataDescriptor.js"),IsExtensible=__webpack_require__("./node_modules/es-abstract/2021/IsExtensible.js"),IsPropertyKey=__webpack_require__("./node_modules/es-abstract/2021/IsPropertyKey.js"),SameValue=__webpack_require__("./node_modules/es-abstract/2021/SameValue.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function CreateDataProperty(O,P,V){if("Object"!==Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var oldDesc=OrdinaryGetOwnProperty(O,P),extensible=!oldDesc||IsExtensible(O);return!(oldDesc&&!oldDesc["[[Configurable]]"]||!extensible)&&DefineOwnProperty(IsDataDescriptor,SameValue,FromPropertyDescriptor,O,P,{"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":V,"[[Writable]]":!0})}},"./node_modules/es-abstract/2021/CreateDataPropertyOrThrow.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),CreateDataProperty=__webpack_require__("./node_modules/es-abstract/2021/CreateDataProperty.js"),IsPropertyKey=__webpack_require__("./node_modules/es-abstract/2021/IsPropertyKey.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function CreateDataPropertyOrThrow(O,P,V){if("Object"!==Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var success=CreateDataProperty(O,P,V);if(!success)throw new $TypeError("unable to create data property");return success}},"./node_modules/es-abstract/2021/CreateIterResultObject.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function CreateIterResultObject(value,done){if("Boolean"!==Type(done))throw new $TypeError("Assertion failed: Type(done) is not Boolean");return{value:value,done:done}}},"./node_modules/es-abstract/2021/CreateMethodProperty.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),DefineOwnProperty=__webpack_require__("./node_modules/es-abstract/helpers/DefineOwnProperty.js"),FromPropertyDescriptor=__webpack_require__("./node_modules/es-abstract/2021/FromPropertyDescriptor.js"),IsDataDescriptor=__webpack_require__("./node_modules/es-abstract/2021/IsDataDescriptor.js"),IsPropertyKey=__webpack_require__("./node_modules/es-abstract/2021/IsPropertyKey.js"),SameValue=__webpack_require__("./node_modules/es-abstract/2021/SameValue.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function CreateMethodProperty(O,P,V){if("Object"!==Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");return DefineOwnProperty(IsDataDescriptor,SameValue,FromPropertyDescriptor,O,P,{"[[Configurable]]":!0,"[[Enumerable]]":!1,"[[Value]]":V,"[[Writable]]":!0})}},"./node_modules/es-abstract/2021/CreateRegExpStringIterator.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),hasSymbols=__webpack_require__("./node_modules/has-symbols/index.js")(),$TypeError=GetIntrinsic("%TypeError%"),IteratorPrototype=GetIntrinsic("%IteratorPrototype%",!0),$defineProperty=GetIntrinsic("%Object.defineProperty%",!0),AdvanceStringIndex=__webpack_require__("./node_modules/es-abstract/2021/AdvanceStringIndex.js"),CreateIterResultObject=__webpack_require__("./node_modules/es-abstract/2021/CreateIterResultObject.js"),CreateMethodProperty=__webpack_require__("./node_modules/es-abstract/2021/CreateMethodProperty.js"),Get=__webpack_require__("./node_modules/es-abstract/2021/Get.js"),OrdinaryObjectCreate=__webpack_require__("./node_modules/es-abstract/2021/OrdinaryObjectCreate.js"),RegExpExec=__webpack_require__("./node_modules/es-abstract/2021/RegExpExec.js"),Set=__webpack_require__("./node_modules/es-abstract/2021/Set.js"),ToLength=__webpack_require__("./node_modules/es-abstract/2021/ToLength.js"),ToString=__webpack_require__("./node_modules/es-abstract/2021/ToString.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js"),SLOT=__webpack_require__("./node_modules/internal-slot/index.js"),RegExpStringIterator=function RegExpStringIterator(R,S,global,fullUnicode){if("String"!==Type(S))throw new $TypeError("`S` must be a string");if("Boolean"!==Type(global))throw new $TypeError("`global` must be a boolean");if("Boolean"!==Type(fullUnicode))throw new $TypeError("`fullUnicode` must be a boolean");SLOT.set(this,"[[IteratingRegExp]]",R),SLOT.set(this,"[[IteratedString]]",S),SLOT.set(this,"[[Global]]",global),SLOT.set(this,"[[Unicode]]",fullUnicode),SLOT.set(this,"[[Done]]",!1)};IteratorPrototype&&(RegExpStringIterator.prototype=OrdinaryObjectCreate(IteratorPrototype));if(CreateMethodProperty(RegExpStringIterator.prototype,"next",(function next(){var O=this;if("Object"!==Type(O))throw new $TypeError("receiver must be an object");if(!(O instanceof RegExpStringIterator&&SLOT.has(O,"[[IteratingRegExp]]")&&SLOT.has(O,"[[IteratedString]]")&&SLOT.has(O,"[[Global]]")&&SLOT.has(O,"[[Unicode]]")&&SLOT.has(O,"[[Done]]")))throw new $TypeError('"this" value must be a RegExpStringIterator instance');if(SLOT.get(O,"[[Done]]"))return CreateIterResultObject(void 0,!0);var R=SLOT.get(O,"[[IteratingRegExp]]"),S=SLOT.get(O,"[[IteratedString]]"),global=SLOT.get(O,"[[Global]]"),fullUnicode=SLOT.get(O,"[[Unicode]]"),match=RegExpExec(R,S);if(null===match)return SLOT.set(O,"[[Done]]",!0),CreateIterResultObject(void 0,!0);if(global){if(""===ToString(Get(match,"0"))){var thisIndex=ToLength(Get(R,"lastIndex")),nextIndex=AdvanceStringIndex(S,thisIndex,fullUnicode);Set(R,"lastIndex",nextIndex,!0)}return CreateIterResultObject(match,!1)}return SLOT.set(O,"[[Done]]",!0),CreateIterResultObject(match,!1)})),hasSymbols&&(Symbol.toStringTag&&($defineProperty?$defineProperty(RegExpStringIterator.prototype,Symbol.toStringTag,{configurable:!0,enumerable:!1,value:"RegExp String Iterator",writable:!1}):RegExpStringIterator.prototype[Symbol.toStringTag]="RegExp String Iterator"),Symbol.iterator&&"function"!=typeof RegExpStringIterator.prototype[Symbol.iterator])){CreateMethodProperty(RegExpStringIterator.prototype,Symbol.iterator,(function SymbolIterator(){return this}))}module.exports=function CreateRegExpStringIterator(R,S,global,fullUnicode){return new RegExpStringIterator(R,S,global,fullUnicode)}},"./node_modules/es-abstract/2021/DefinePropertyOrThrow.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),isPropertyDescriptor=__webpack_require__("./node_modules/es-abstract/helpers/isPropertyDescriptor.js"),DefineOwnProperty=__webpack_require__("./node_modules/es-abstract/helpers/DefineOwnProperty.js"),FromPropertyDescriptor=__webpack_require__("./node_modules/es-abstract/2021/FromPropertyDescriptor.js"),IsAccessorDescriptor=__webpack_require__("./node_modules/es-abstract/2021/IsAccessorDescriptor.js"),IsDataDescriptor=__webpack_require__("./node_modules/es-abstract/2021/IsDataDescriptor.js"),IsPropertyKey=__webpack_require__("./node_modules/es-abstract/2021/IsPropertyKey.js"),SameValue=__webpack_require__("./node_modules/es-abstract/2021/SameValue.js"),ToPropertyDescriptor=__webpack_require__("./node_modules/es-abstract/2021/ToPropertyDescriptor.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function DefinePropertyOrThrow(O,P,desc){if("Object"!==Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var Desc=isPropertyDescriptor({Type:Type,IsDataDescriptor:IsDataDescriptor,IsAccessorDescriptor:IsAccessorDescriptor},desc)?desc:ToPropertyDescriptor(desc);if(!isPropertyDescriptor({Type:Type,IsDataDescriptor:IsDataDescriptor,IsAccessorDescriptor:IsAccessorDescriptor},Desc))throw new $TypeError("Assertion failed: Desc is not a valid Property Descriptor");return DefineOwnProperty(IsDataDescriptor,SameValue,FromPropertyDescriptor,O,P,Desc)}},"./node_modules/es-abstract/2021/FlattenIntoArray.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),MAX_SAFE_INTEGER=__webpack_require__("./node_modules/es-abstract/helpers/maxSafeInteger.js"),Call=__webpack_require__("./node_modules/es-abstract/2021/Call.js"),CreateDataPropertyOrThrow=__webpack_require__("./node_modules/es-abstract/2021/CreateDataPropertyOrThrow.js"),Get=__webpack_require__("./node_modules/es-abstract/2021/Get.js"),HasProperty=__webpack_require__("./node_modules/es-abstract/2021/HasProperty.js"),IsArray=__webpack_require__("./node_modules/es-abstract/2021/IsArray.js"),LengthOfArrayLike=__webpack_require__("./node_modules/es-abstract/2021/LengthOfArrayLike.js"),ToString=__webpack_require__("./node_modules/es-abstract/2021/ToString.js");module.exports=function FlattenIntoArray(target,source,sourceLen,start,depth){var mapperFunction;arguments.length>5&&(mapperFunction=arguments[5]);for(var targetIndex=start,sourceIndex=0;sourceIndex<sourceLen;){var P=ToString(sourceIndex),exists=HasProperty(source,P);if(!0===exists){var element=Get(source,P);if(void 0!==mapperFunction){if(arguments.length<=6)throw new $TypeError("Assertion failed: thisArg is required when mapperFunction is provided");element=Call(mapperFunction,arguments[6],[element,sourceIndex,source])}var shouldFlatten=!1;if(depth>0&&(shouldFlatten=IsArray(element)),shouldFlatten){var elementLen=LengthOfArrayLike(element);targetIndex=FlattenIntoArray(target,element,elementLen,targetIndex,depth-1)}else{if(targetIndex>=MAX_SAFE_INTEGER)throw new $TypeError("index too large");CreateDataPropertyOrThrow(target,ToString(targetIndex),element),targetIndex+=1}}sourceIndex+=1}return targetIndex}},"./node_modules/es-abstract/2021/FromPropertyDescriptor.js":function(module,exports,__webpack_require__){"use strict";var assertRecord=__webpack_require__("./node_modules/es-abstract/helpers/assertRecord.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function FromPropertyDescriptor(Desc){if(void 0===Desc)return Desc;assertRecord(Type,"Property Descriptor","Desc",Desc);var obj={};return"[[Value]]"in Desc&&(obj.value=Desc["[[Value]]"]),"[[Writable]]"in Desc&&(obj.writable=Desc["[[Writable]]"]),"[[Get]]"in Desc&&(obj.get=Desc["[[Get]]"]),"[[Set]]"in Desc&&(obj.set=Desc["[[Set]]"]),"[[Enumerable]]"in Desc&&(obj.enumerable=Desc["[[Enumerable]]"]),"[[Configurable]]"in Desc&&(obj.configurable=Desc["[[Configurable]]"]),obj}},"./node_modules/es-abstract/2021/Get.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),inspect=__webpack_require__("./node_modules/object-inspect/index.js"),IsPropertyKey=__webpack_require__("./node_modules/es-abstract/2021/IsPropertyKey.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function Get(O,P){if("Object"!==Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true, got "+inspect(P));return O[P]}},"./node_modules/es-abstract/2021/GetIterator.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),$TypeError=GetIntrinsic("%TypeError%"),$asyncIterator=GetIntrinsic("%Symbol.asyncIterator%",!0),inspect=__webpack_require__("./node_modules/object-inspect/index.js"),hasSymbols=__webpack_require__("./node_modules/has-symbols/index.js")(),getIteratorMethod=__webpack_require__("./node_modules/es-abstract/helpers/getIteratorMethod.js"),AdvanceStringIndex=__webpack_require__("./node_modules/es-abstract/2021/AdvanceStringIndex.js"),Call=__webpack_require__("./node_modules/es-abstract/2021/Call.js"),GetMethod=__webpack_require__("./node_modules/es-abstract/2021/GetMethod.js"),IsArray=__webpack_require__("./node_modules/es-abstract/2021/IsArray.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function GetIterator(obj,hint,method){var actualHint=hint;if(arguments.length<2&&(actualHint="sync"),"sync"!==actualHint&&"async"!==actualHint)throw new $TypeError("Assertion failed: `hint` must be one of 'sync' or 'async', got "+inspect(hint));var actualMethod=method;if(arguments.length<3)if("async"===actualHint){if(hasSymbols&&$asyncIterator&&(actualMethod=GetMethod(obj,$asyncIterator)),void 0===actualMethod)throw new $TypeError("async from sync iterators aren't currently supported")}else actualMethod=getIteratorMethod({AdvanceStringIndex:AdvanceStringIndex,GetMethod:GetMethod,IsArray:IsArray},obj);var iterator=Call(actualMethod,obj);if("Object"!==Type(iterator))throw new $TypeError("iterator must return an object");return iterator}},"./node_modules/es-abstract/2021/GetMethod.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),GetV=__webpack_require__("./node_modules/es-abstract/2021/GetV.js"),IsCallable=__webpack_require__("./node_modules/es-abstract/2021/IsCallable.js"),IsPropertyKey=__webpack_require__("./node_modules/es-abstract/2021/IsPropertyKey.js");module.exports=function GetMethod(O,P){if(!IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var func=GetV(O,P);if(null!=func){if(!IsCallable(func))throw new $TypeError(P+"is not a function");return func}}},"./node_modules/es-abstract/2021/GetV.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),IsPropertyKey=__webpack_require__("./node_modules/es-abstract/2021/IsPropertyKey.js"),ToObject=__webpack_require__("./node_modules/es-abstract/2021/ToObject.js");module.exports=function GetV(V,P){if(!IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");return ToObject(V)[P]}},"./node_modules/es-abstract/2021/HasProperty.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),IsPropertyKey=__webpack_require__("./node_modules/es-abstract/2021/IsPropertyKey.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function HasProperty(O,P){if("Object"!==Type(O))throw new $TypeError("Assertion failed: `O` must be an Object");if(!IsPropertyKey(P))throw new $TypeError("Assertion failed: `P` must be a Property Key");return P in O}},"./node_modules/es-abstract/2021/Invoke.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),Call=__webpack_require__("./node_modules/es-abstract/2021/Call.js"),IsArray=__webpack_require__("./node_modules/es-abstract/2021/IsArray.js"),GetV=__webpack_require__("./node_modules/es-abstract/2021/GetV.js"),IsPropertyKey=__webpack_require__("./node_modules/es-abstract/2021/IsPropertyKey.js");module.exports=function Invoke(O,P){if(!IsPropertyKey(P))throw new $TypeError("Assertion failed: P must be a Property Key");var argumentsList=arguments.length>2?arguments[2]:[];if(!IsArray(argumentsList))throw new $TypeError("Assertion failed: optional `argumentsList`, if provided, must be a List");var func=GetV(O,P);return Call(func,O,argumentsList)}},"./node_modules/es-abstract/2021/IsAccessorDescriptor.js":function(module,exports,__webpack_require__){"use strict";var has=__webpack_require__("./node_modules/has/src/index.js"),assertRecord=__webpack_require__("./node_modules/es-abstract/helpers/assertRecord.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function IsAccessorDescriptor(Desc){return void 0!==Desc&&(assertRecord(Type,"Property Descriptor","Desc",Desc),!(!has(Desc,"[[Get]]")&&!has(Desc,"[[Set]]")))}},"./node_modules/es-abstract/2021/IsArray.js":function(module,exports,__webpack_require__){"use strict";var $Array=__webpack_require__("./node_modules/get-intrinsic/index.js")("%Array%"),toStr=!$Array.isArray&&__webpack_require__("./node_modules/call-bind/callBound.js")("Object.prototype.toString");module.exports=$Array.isArray||function IsArray(argument){return"[object Array]"===toStr(argument)}},"./node_modules/es-abstract/2021/IsCallable.js":function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__("./node_modules/is-callable/index.js")},"./node_modules/es-abstract/2021/IsConstructor.js":function(module,exports,__webpack_require__){"use strict";var $construct=__webpack_require__("./node_modules/es-abstract/GetIntrinsic.js")("%Reflect.construct%",!0),DefinePropertyOrThrow=__webpack_require__("./node_modules/es-abstract/2021/DefinePropertyOrThrow.js");try{DefinePropertyOrThrow({},"",{"[[Get]]":function(){}})}catch(e){DefinePropertyOrThrow=null}if(DefinePropertyOrThrow&&$construct){var isConstructorMarker={},badArrayLike={};DefinePropertyOrThrow(badArrayLike,"length",{"[[Get]]":function(){throw isConstructorMarker},"[[Enumerable]]":!0}),module.exports=function IsConstructor(argument){try{$construct(argument,badArrayLike)}catch(err){return err===isConstructorMarker}}}else module.exports=function IsConstructor(argument){return"function"==typeof argument&&!!argument.prototype}},"./node_modules/es-abstract/2021/IsDataDescriptor.js":function(module,exports,__webpack_require__){"use strict";var has=__webpack_require__("./node_modules/has/src/index.js"),assertRecord=__webpack_require__("./node_modules/es-abstract/helpers/assertRecord.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function IsDataDescriptor(Desc){return void 0!==Desc&&(assertRecord(Type,"Property Descriptor","Desc",Desc),!(!has(Desc,"[[Value]]")&&!has(Desc,"[[Writable]]")))}},"./node_modules/es-abstract/2021/IsExtensible.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),$preventExtensions=GetIntrinsic("%Object.preventExtensions%",!0),$isExtensible=GetIntrinsic("%Object.isExtensible%",!0),isPrimitive=__webpack_require__("./node_modules/es-abstract/helpers/isPrimitive.js");module.exports=$preventExtensions?function IsExtensible(obj){return!isPrimitive(obj)&&$isExtensible(obj)}:function IsExtensible(obj){return!isPrimitive(obj)}},"./node_modules/es-abstract/2021/IsIntegralNumber.js":function(module,exports,__webpack_require__){"use strict";var abs=__webpack_require__("./node_modules/es-abstract/2021/abs.js"),floor=__webpack_require__("./node_modules/es-abstract/2021/floor.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js"),$isNaN=__webpack_require__("./node_modules/es-abstract/helpers/isNaN.js"),$isFinite=__webpack_require__("./node_modules/es-abstract/helpers/isFinite.js");module.exports=function IsIntegralNumber(argument){if("Number"!==Type(argument)||$isNaN(argument)||!$isFinite(argument))return!1;var absValue=abs(argument);return floor(absValue)===absValue}},"./node_modules/es-abstract/2021/IsPropertyKey.js":function(module,exports,__webpack_require__){"use strict";module.exports=function IsPropertyKey(argument){return"string"==typeof argument||"symbol"==typeof argument}},"./node_modules/es-abstract/2021/IsRegExp.js":function(module,exports,__webpack_require__){"use strict";var $match=__webpack_require__("./node_modules/get-intrinsic/index.js")("%Symbol.match%",!0),hasRegExpMatcher=__webpack_require__("./node_modules/is-regex/index.js"),ToBoolean=__webpack_require__("./node_modules/es-abstract/2021/ToBoolean.js");module.exports=function IsRegExp(argument){if(!argument||"object"!=typeof argument)return!1;if($match){var isRegExp=argument[$match];if(void 0!==isRegExp)return ToBoolean(isRegExp)}return hasRegExpMatcher(argument)}},"./node_modules/es-abstract/2021/IteratorClose.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),Call=__webpack_require__("./node_modules/es-abstract/2021/Call.js"),GetMethod=__webpack_require__("./node_modules/es-abstract/2021/GetMethod.js"),IsCallable=__webpack_require__("./node_modules/es-abstract/2021/IsCallable.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function IteratorClose(iterator,completion){if("Object"!==Type(iterator))throw new $TypeError("Assertion failed: Type(iterator) is not Object");if(!IsCallable(completion))throw new $TypeError("Assertion failed: completion is not a thunk for a Completion Record");var completionRecord,completionThunk=completion,iteratorReturn=GetMethod(iterator,"return");if(void 0===iteratorReturn)return completionThunk();try{var innerResult=Call(iteratorReturn,iterator,[])}catch(e){throw completionThunk(),completionThunk=null,e}if(completionRecord=completionThunk(),completionThunk=null,"Object"!==Type(innerResult))throw new $TypeError("iterator .return must return an object");return completionRecord}},"./node_modules/es-abstract/2021/IteratorComplete.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),Get=__webpack_require__("./node_modules/es-abstract/2021/Get.js"),ToBoolean=__webpack_require__("./node_modules/es-abstract/2021/ToBoolean.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function IteratorComplete(iterResult){if("Object"!==Type(iterResult))throw new $TypeError("Assertion failed: Type(iterResult) is not Object");return ToBoolean(Get(iterResult,"done"))}},"./node_modules/es-abstract/2021/IteratorNext.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),Invoke=__webpack_require__("./node_modules/es-abstract/2021/Invoke.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function IteratorNext(iterator,value){var result=Invoke(iterator,"next",arguments.length<2?[]:[value]);if("Object"!==Type(result))throw new $TypeError("iterator next must return an object");return result}},"./node_modules/es-abstract/2021/IteratorStep.js":function(module,exports,__webpack_require__){"use strict";var IteratorComplete=__webpack_require__("./node_modules/es-abstract/2021/IteratorComplete.js"),IteratorNext=__webpack_require__("./node_modules/es-abstract/2021/IteratorNext.js");module.exports=function IteratorStep(iterator){var result=IteratorNext(iterator);return!0!==IteratorComplete(result)&&result}},"./node_modules/es-abstract/2021/IteratorValue.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),Get=__webpack_require__("./node_modules/es-abstract/2021/Get.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function IteratorValue(iterResult){if("Object"!==Type(iterResult))throw new $TypeError("Assertion failed: Type(iterResult) is not Object");return Get(iterResult,"value")}},"./node_modules/es-abstract/2021/LengthOfArrayLike.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),Get=__webpack_require__("./node_modules/es-abstract/2021/Get.js"),ToLength=__webpack_require__("./node_modules/es-abstract/2021/ToLength.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function LengthOfArrayLike(obj){if("Object"!==Type(obj))throw new $TypeError("Assertion failed: `obj` must be an Object");return ToLength(Get(obj,"length"))}},"./node_modules/es-abstract/2021/OrdinaryGetOwnProperty.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),$gOPD=__webpack_require__("./node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js"),$TypeError=GetIntrinsic("%TypeError%"),$isEnumerable=__webpack_require__("./node_modules/call-bind/callBound.js")("Object.prototype.propertyIsEnumerable"),has=__webpack_require__("./node_modules/has/src/index.js"),IsArray=__webpack_require__("./node_modules/es-abstract/2021/IsArray.js"),IsPropertyKey=__webpack_require__("./node_modules/es-abstract/2021/IsPropertyKey.js"),IsRegExp=__webpack_require__("./node_modules/es-abstract/2021/IsRegExp.js"),ToPropertyDescriptor=__webpack_require__("./node_modules/es-abstract/2021/ToPropertyDescriptor.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function OrdinaryGetOwnProperty(O,P){if("Object"!==Type(O))throw new $TypeError("Assertion failed: O must be an Object");if(!IsPropertyKey(P))throw new $TypeError("Assertion failed: P must be a Property Key");if(has(O,P)){if(!$gOPD){var arrayLength=IsArray(O)&&"length"===P,regexLastIndex=IsRegExp(O)&&"lastIndex"===P;return{"[[Configurable]]":!(arrayLength||regexLastIndex),"[[Enumerable]]":$isEnumerable(O,P),"[[Value]]":O[P],"[[Writable]]":!0}}return ToPropertyDescriptor($gOPD(O,P))}}},"./node_modules/es-abstract/2021/OrdinaryObjectCreate.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),$ObjectCreate=GetIntrinsic("%Object.create%",!0),$TypeError=GetIntrinsic("%TypeError%"),$SyntaxError=GetIntrinsic("%SyntaxError%"),IsArray=__webpack_require__("./node_modules/es-abstract/2021/IsArray.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js"),hasProto=!({__proto__:null}instanceof Object);module.exports=function OrdinaryObjectCreate(proto){if(null!==proto&&"Object"!==Type(proto))throw new $TypeError("Assertion failed: `proto` must be null or an object");var additionalInternalSlotsList=arguments.length<2?[]:arguments[1];if(!IsArray(additionalInternalSlotsList))throw new $TypeError("Assertion failed: `additionalInternalSlotsList` must be an Array");if(additionalInternalSlotsList.length>0)throw new $SyntaxError("es-abstract does not yet support internal slots");if($ObjectCreate)return $ObjectCreate(proto);if(hasProto)return{__proto__:proto};if(null===proto)throw new $SyntaxError("native Object.create support is required to create null objects");var T=function T(){};return T.prototype=proto,new T}},"./node_modules/es-abstract/2021/PromiseResolve.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),callBind=__webpack_require__("./node_modules/call-bind/index.js"),$resolve=GetIntrinsic("%Promise.resolve%",!0),$PromiseResolve=$resolve&&callBind($resolve);module.exports=function PromiseResolve(C,x){if(!$PromiseResolve)throw new SyntaxError("This environment does not support Promises.");return $PromiseResolve(C,x)}},"./node_modules/es-abstract/2021/RegExpExec.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),regexExec=__webpack_require__("./node_modules/call-bind/callBound.js")("RegExp.prototype.exec"),Call=__webpack_require__("./node_modules/es-abstract/2021/Call.js"),Get=__webpack_require__("./node_modules/es-abstract/2021/Get.js"),IsCallable=__webpack_require__("./node_modules/es-abstract/2021/IsCallable.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function RegExpExec(R,S){if("Object"!==Type(R))throw new $TypeError("Assertion failed: `R` must be an Object");if("String"!==Type(S))throw new $TypeError("Assertion failed: `S` must be a String");var exec=Get(R,"exec");if(IsCallable(exec)){var result=Call(exec,R,[S]);if(null===result||"Object"===Type(result))return result;throw new $TypeError('"exec" method must return `null` or an Object')}return regexExec(R,S)}},"./node_modules/es-abstract/2021/RequireObjectCoercible.js":function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__("./node_modules/es-abstract/5/CheckObjectCoercible.js")},"./node_modules/es-abstract/2021/SameValue.js":function(module,exports,__webpack_require__){"use strict";var $isNaN=__webpack_require__("./node_modules/es-abstract/helpers/isNaN.js");module.exports=function SameValue(x,y){return x===y?0!==x||1/x==1/y:$isNaN(x)&&$isNaN(y)}},"./node_modules/es-abstract/2021/SameValueZero.js":function(module,exports,__webpack_require__){"use strict";var $isNaN=__webpack_require__("./node_modules/es-abstract/helpers/isNaN.js");module.exports=function SameValueZero(x,y){return x===y||$isNaN(x)&&$isNaN(y)}},"./node_modules/es-abstract/2021/Set.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),IsPropertyKey=__webpack_require__("./node_modules/es-abstract/2021/IsPropertyKey.js"),SameValue=__webpack_require__("./node_modules/es-abstract/2021/SameValue.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js"),noThrowOnStrictViolation=function(){try{return delete[].length,!0}catch(e){return!1}}();module.exports=function Set(O,P,V,Throw){if("Object"!==Type(O))throw new $TypeError("Assertion failed: `O` must be an Object");if(!IsPropertyKey(P))throw new $TypeError("Assertion failed: `P` must be a Property Key");if("Boolean"!==Type(Throw))throw new $TypeError("Assertion failed: `Throw` must be a Boolean");if(Throw){if(O[P]=V,noThrowOnStrictViolation&&!SameValue(O[P],V))throw new $TypeError("Attempted to assign to readonly property.");return!0}try{return O[P]=V,!noThrowOnStrictViolation||SameValue(O[P],V)}catch(e){return!1}}},"./node_modules/es-abstract/2021/SpeciesConstructor.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),$species=GetIntrinsic("%Symbol.species%",!0),$TypeError=GetIntrinsic("%TypeError%"),IsConstructor=__webpack_require__("./node_modules/es-abstract/2021/IsConstructor.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js");module.exports=function SpeciesConstructor(O,defaultConstructor){if("Object"!==Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");var C=O.constructor;if(void 0===C)return defaultConstructor;if("Object"!==Type(C))throw new $TypeError("O.constructor is not an Object");var S=$species?C[$species]:void 0;if(null==S)return defaultConstructor;if(IsConstructor(S))return S;throw new $TypeError("no constructor found")}},"./node_modules/es-abstract/2021/ToBoolean.js":function(module,exports,__webpack_require__){"use strict";module.exports=function ToBoolean(value){return!!value}},"./node_modules/es-abstract/2021/ToIntegerOrInfinity.js":function(module,exports,__webpack_require__){"use strict";var abs=__webpack_require__("./node_modules/es-abstract/2021/abs.js"),floor=__webpack_require__("./node_modules/es-abstract/2021/floor.js"),ToNumber=__webpack_require__("./node_modules/es-abstract/2021/ToNumber.js"),$isNaN=__webpack_require__("./node_modules/es-abstract/helpers/isNaN.js"),$isFinite=__webpack_require__("./node_modules/es-abstract/helpers/isFinite.js"),$sign=__webpack_require__("./node_modules/es-abstract/helpers/sign.js");module.exports=function ToIntegerOrInfinity(value){var number=ToNumber(value);return $isNaN(number)||0===number?0:$isFinite(number)?$sign(number)*floor(abs(number)):number}},"./node_modules/es-abstract/2021/ToLength.js":function(module,exports,__webpack_require__){"use strict";var MAX_SAFE_INTEGER=__webpack_require__("./node_modules/es-abstract/helpers/maxSafeInteger.js"),ToIntegerOrInfinity=__webpack_require__("./node_modules/es-abstract/2021/ToIntegerOrInfinity.js");module.exports=function ToLength(argument){var len=ToIntegerOrInfinity(argument);return len<=0?0:len>MAX_SAFE_INTEGER?MAX_SAFE_INTEGER:len}},"./node_modules/es-abstract/2021/ToNumber.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),$TypeError=GetIntrinsic("%TypeError%"),$Number=GetIntrinsic("%Number%"),$RegExp=GetIntrinsic("%RegExp%"),$parseInteger=GetIntrinsic("%parseInt%"),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),regexTester=__webpack_require__("./node_modules/es-abstract/helpers/regexTester.js"),isPrimitive=__webpack_require__("./node_modules/es-abstract/helpers/isPrimitive.js"),$strSlice=callBound("String.prototype.slice"),isBinary=regexTester(/^0b[01]+$/i),isOctal=regexTester(/^0o[0-7]+$/i),isInvalidHexLiteral=regexTester(/^[-+]0x[0-9a-f]+$/i),hasNonWS=regexTester(new $RegExp("["+["","",""].join("")+"]","g")),ws=["\t\n\v\f\r ","\u2028","\u2029\ufeff"].join(""),trimRegex=new RegExp("(^["+ws+"]+)|(["+ws+"]+$)","g"),$replace=callBound("String.prototype.replace"),ToPrimitive=__webpack_require__("./node_modules/es-abstract/2021/ToPrimitive.js");module.exports=function ToNumber(argument){var value=isPrimitive(argument)?argument:ToPrimitive(argument,$Number);if("symbol"==typeof value)throw new $TypeError("Cannot convert a Symbol value to a number");if("bigint"==typeof value)throw new $TypeError("Conversion from 'BigInt' to 'number' is not allowed.");if("string"==typeof value){if(isBinary(value))return ToNumber($parseInteger($strSlice(value,2),2));if(isOctal(value))return ToNumber($parseInteger($strSlice(value,2),8));if(hasNonWS(value)||isInvalidHexLiteral(value))return NaN;var trimmed=function(value){return $replace(value,trimRegex,"")}(value);if(trimmed!==value)return ToNumber(trimmed)}return $Number(value)}},"./node_modules/es-abstract/2021/ToObject.js":function(module,exports,__webpack_require__){"use strict";var $Object=__webpack_require__("./node_modules/get-intrinsic/index.js")("%Object%"),RequireObjectCoercible=__webpack_require__("./node_modules/es-abstract/2021/RequireObjectCoercible.js");module.exports=function ToObject(value){return RequireObjectCoercible(value),$Object(value)}},"./node_modules/es-abstract/2021/ToPrimitive.js":function(module,exports,__webpack_require__){"use strict";var toPrimitive=__webpack_require__("./node_modules/es-to-primitive/es2015.js");module.exports=function ToPrimitive(input){return arguments.length>1?toPrimitive(input,arguments[1]):toPrimitive(input)}},"./node_modules/es-abstract/2021/ToPropertyDescriptor.js":function(module,exports,__webpack_require__){"use strict";var has=__webpack_require__("./node_modules/has/src/index.js"),$TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js"),ToBoolean=__webpack_require__("./node_modules/es-abstract/2021/ToBoolean.js"),IsCallable=__webpack_require__("./node_modules/es-abstract/2021/IsCallable.js");module.exports=function ToPropertyDescriptor(Obj){if("Object"!==Type(Obj))throw new $TypeError("ToPropertyDescriptor requires an object");var desc={};if(has(Obj,"enumerable")&&(desc["[[Enumerable]]"]=ToBoolean(Obj.enumerable)),has(Obj,"configurable")&&(desc["[[Configurable]]"]=ToBoolean(Obj.configurable)),has(Obj,"value")&&(desc["[[Value]]"]=Obj.value),has(Obj,"writable")&&(desc["[[Writable]]"]=ToBoolean(Obj.writable)),has(Obj,"get")){var getter=Obj.get;if(void 0!==getter&&!IsCallable(getter))throw new $TypeError("getter must be a function");desc["[[Get]]"]=getter}if(has(Obj,"set")){var setter=Obj.set;if(void 0!==setter&&!IsCallable(setter))throw new $TypeError("setter must be a function");desc["[[Set]]"]=setter}if((has(desc,"[[Get]]")||has(desc,"[[Set]]"))&&(has(desc,"[[Value]]")||has(desc,"[[Writable]]")))throw new $TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return desc}},"./node_modules/es-abstract/2021/ToPropertyKey.js":function(module,exports,__webpack_require__){"use strict";var $String=__webpack_require__("./node_modules/get-intrinsic/index.js")("%String%"),ToPrimitive=__webpack_require__("./node_modules/es-abstract/2021/ToPrimitive.js"),ToString=__webpack_require__("./node_modules/es-abstract/2021/ToString.js");module.exports=function ToPropertyKey(argument){var key=ToPrimitive(argument,$String);return"symbol"==typeof key?key:ToString(key)}},"./node_modules/es-abstract/2021/ToString.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),$String=GetIntrinsic("%String%"),$TypeError=GetIntrinsic("%TypeError%");module.exports=function ToString(argument){if("symbol"==typeof argument)throw new $TypeError("Cannot convert a Symbol value to a string");return $String(argument)}},"./node_modules/es-abstract/2021/ToUint32.js":function(module,exports,__webpack_require__){"use strict";var ToNumber=__webpack_require__("./node_modules/es-abstract/2021/ToNumber.js");module.exports=function ToUint32(x){return ToNumber(x)>>>0}},"./node_modules/es-abstract/2021/Type.js":function(module,exports,__webpack_require__){"use strict";var ES5Type=__webpack_require__("./node_modules/es-abstract/5/Type.js");module.exports=function Type(x){return"symbol"==typeof x?"Symbol":"bigint"==typeof x?"BigInt":ES5Type(x)}},"./node_modules/es-abstract/2021/UTF16SurrogatePairToCodePoint.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),$TypeError=GetIntrinsic("%TypeError%"),$fromCharCode=GetIntrinsic("%String.fromCharCode%"),isLeadingSurrogate=__webpack_require__("./node_modules/es-abstract/helpers/isLeadingSurrogate.js"),isTrailingSurrogate=__webpack_require__("./node_modules/es-abstract/helpers/isTrailingSurrogate.js");module.exports=function UTF16SurrogatePairToCodePoint(lead,trail){if(!isLeadingSurrogate(lead)||!isTrailingSurrogate(trail))throw new $TypeError("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return $fromCharCode(lead)+$fromCharCode(trail)}},"./node_modules/es-abstract/2021/abs.js":function(module,exports,__webpack_require__){"use strict";var $abs=__webpack_require__("./node_modules/get-intrinsic/index.js")("%Math.abs%");module.exports=function abs(x){return $abs(x)}},"./node_modules/es-abstract/2021/floor.js":function(module,exports,__webpack_require__){"use strict";var $floor=Math.floor;module.exports=function floor(x){return $floor(x)}},"./node_modules/es-abstract/5/CheckObjectCoercible.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=__webpack_require__("./node_modules/get-intrinsic/index.js")("%TypeError%");module.exports=function CheckObjectCoercible(value,optMessage){if(null==value)throw new $TypeError(optMessage||"Cannot call method on "+value);return value}},"./node_modules/es-abstract/5/Type.js":function(module,exports,__webpack_require__){"use strict";module.exports=function Type(x){return null===x?"Null":void 0===x?"Undefined":"function"==typeof x||"object"==typeof x?"Object":"number"==typeof x?"Number":"boolean"==typeof x?"Boolean":"string"==typeof x?"String":void 0}},"./node_modules/es-abstract/GetIntrinsic.js":function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__("./node_modules/get-intrinsic/index.js")},"./node_modules/es-abstract/helpers/DefineOwnProperty.js":function(module,exports,__webpack_require__){"use strict";var hasArrayLengthDefineBug,$defineProperty=__webpack_require__("./node_modules/get-intrinsic/index.js")("%Object.defineProperty%",!0);if($defineProperty)try{$defineProperty({},"a",{value:1})}catch(e){$defineProperty=null}try{hasArrayLengthDefineBug=$defineProperty&&0===$defineProperty([],"length",{value:1}).length}catch(e){hasArrayLengthDefineBug=!0}var isArray=hasArrayLengthDefineBug&&__webpack_require__("./node_modules/es-abstract/2020/IsArray.js"),$isEnumerable=__webpack_require__("./node_modules/call-bind/callBound.js")("Object.prototype.propertyIsEnumerable");module.exports=function DefineOwnProperty(IsDataDescriptor,SameValue,FromPropertyDescriptor,O,P,desc){if(!$defineProperty){if(!IsDataDescriptor(desc))return!1;if(!desc["[[Configurable]]"]||!desc["[[Writable]]"])return!1;if(P in O&&$isEnumerable(O,P)!==!!desc["[[Enumerable]]"])return!1;var V=desc["[[Value]]"];return O[P]=V,SameValue(O[P],V)}return hasArrayLengthDefineBug&&"length"===P&&"[[Value]]"in desc&&isArray(O)&&O.length!==desc["[[Value]]"]?(O.length=desc["[[Value]]"],O.length===desc["[[Value]]"]):($defineProperty(O,P,FromPropertyDescriptor(desc)),!0)}},"./node_modules/es-abstract/helpers/assertRecord.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),$TypeError=GetIntrinsic("%TypeError%"),$SyntaxError=GetIntrinsic("%SyntaxError%"),has=__webpack_require__("./node_modules/has/src/index.js"),predicates={"Property Descriptor":function isPropertyDescriptor(Type,Desc){if("Object"!==Type(Desc))return!1;var allowed={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var key in Desc)if(has(Desc,key)&&!allowed[key])return!1;var isData=has(Desc,"[[Value]]"),IsAccessor=has(Desc,"[[Get]]")||has(Desc,"[[Set]]");if(isData&&IsAccessor)throw new $TypeError("Property Descriptors may not be both accessor and data descriptors");return!0}};module.exports=function assertRecord(Type,recordType,argumentName,value){var predicate=predicates[recordType];if("function"!=typeof predicate)throw new $SyntaxError("unknown record type: "+recordType);if(!predicate(Type,value))throw new $TypeError(argumentName+" must be a "+recordType)}},"./node_modules/es-abstract/helpers/getIteratorMethod.js":function(module,exports,__webpack_require__){"use strict";var hasSymbols=__webpack_require__("./node_modules/has-symbols/index.js")(),GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),isString=__webpack_require__("./node_modules/is-string/index.js"),$iterator=GetIntrinsic("%Symbol.iterator%",!0),$stringSlice=callBound("String.prototype.slice"),$String=GetIntrinsic("%String%",!0);module.exports=function getIteratorMethod(ES,iterable){var usingIterator;return hasSymbols?usingIterator=ES.GetMethod(iterable,$iterator):ES.IsArray(iterable)?usingIterator=function(){var i=-1,arr=this;return{next:function(){return{done:(i+=1)>=arr.length,value:arr[i]}}}}:isString(iterable)&&(usingIterator=function(){var i=0;return{next:function(){var nextIndex=ES.AdvanceStringIndex($String(iterable),i,!0),value=$stringSlice(iterable,i,nextIndex);return i=nextIndex,{done:nextIndex>iterable.length,value:value}}}}),usingIterator}},"./node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js":function(module,exports,__webpack_require__){"use strict";var $gOPD=__webpack_require__("./node_modules/get-intrinsic/index.js")("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch(e){$gOPD=null}module.exports=$gOPD},"./node_modules/es-abstract/helpers/isFinite.js":function(module,exports,__webpack_require__){"use strict";var $isNaN=Number.isNaN||function(a){return a!=a};module.exports=Number.isFinite||function(x){return"number"==typeof x&&!$isNaN(x)&&x!==1/0&&x!==-1/0}},"./node_modules/es-abstract/helpers/isLeadingSurrogate.js":function(module,exports,__webpack_require__){"use strict";module.exports=function isLeadingSurrogate(charCode){return"number"==typeof charCode&&charCode>=55296&&charCode<=56319}},"./node_modules/es-abstract/helpers/isNaN.js":function(module,exports,__webpack_require__){"use strict";module.exports=Number.isNaN||function isNaN(a){return a!=a}},"./node_modules/es-abstract/helpers/isPrimitive.js":function(module,exports,__webpack_require__){"use strict";module.exports=function isPrimitive(value){return null===value||"function"!=typeof value&&"object"!=typeof value}},"./node_modules/es-abstract/helpers/isPropertyDescriptor.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),has=__webpack_require__("./node_modules/has/src/index.js"),$TypeError=GetIntrinsic("%TypeError%");module.exports=function IsPropertyDescriptor(ES,Desc){if("Object"!==ES.Type(Desc))return!1;var allowed={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var key in Desc)if(has(Desc,key)&&!allowed[key])return!1;if(ES.IsDataDescriptor(Desc)&&ES.IsAccessorDescriptor(Desc))throw new $TypeError("Property Descriptors may not be both accessor and data descriptors");return!0}},"./node_modules/es-abstract/helpers/isTrailingSurrogate.js":function(module,exports,__webpack_require__){"use strict";module.exports=function isTrailingSurrogate(charCode){return"number"==typeof charCode&&charCode>=56320&&charCode<=57343}},"./node_modules/es-abstract/helpers/maxSafeInteger.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),$Math=GetIntrinsic("%Math%"),$Number=GetIntrinsic("%Number%");module.exports=$Number.MAX_SAFE_INTEGER||$Math.pow(2,53)-1},"./node_modules/es-abstract/helpers/regexTester.js":function(module,exports,__webpack_require__){"use strict";var $exec=__webpack_require__("./node_modules/call-bind/callBound.js")("RegExp.prototype.exec");module.exports=function regexTester(regex){return function test(s){return null!==$exec(regex,s)}}},"./node_modules/es-abstract/helpers/sign.js":function(module,exports,__webpack_require__){"use strict";module.exports=function sign(number){return number>=0?1:-1}},"./node_modules/es-array-method-boxes-properly/index.js":function(module,exports){module.exports=function properlyBoxed(method){var properlyBoxesNonStrict=!0,properlyBoxesStrict=!0,threwException=!1;if("function"==typeof method){try{method.call("f",(function(_,__,O){"object"!=typeof O&&(properlyBoxesNonStrict=!1)})),method.call([null],(function(){"use strict";properlyBoxesStrict="string"==typeof this}),"x")}catch(e){threwException=!0}return!threwException&&properlyBoxesNonStrict&&properlyBoxesStrict}return!1}},"./node_modules/es-get-iterator/index.js":function(module,exports,__webpack_require__){"use strict";(function(process){var isArguments=__webpack_require__("./node_modules/is-arguments/index.js");if(__webpack_require__("./node_modules/has-symbols/index.js")()||__webpack_require__("./node_modules/has-symbols/shams.js")()){var $iterator=Symbol.iterator;module.exports=function getIterator(iterable){return null!=iterable&&void 0!==iterable[$iterator]?iterable[$iterator]():isArguments(iterable)?Array.prototype[$iterator].call(iterable):void 0}}else{var isArray=__webpack_require__("./node_modules/isarray/index.js"),isString=__webpack_require__("./node_modules/is-string/index.js"),GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),$Map=GetIntrinsic("%Map%",!0),$Set=GetIntrinsic("%Set%",!0),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),$arrayPush=callBound("Array.prototype.push"),$charCodeAt=callBound("String.prototype.charCodeAt"),$stringSlice=callBound("String.prototype.slice"),getArrayIterator=function getArrayIterator(arraylike){var i=0;return{next:function next(){var value,done=i>=arraylike.length;return done||(value=arraylike[i],i+=1),{done:done,value:value}}}},getNonCollectionIterator=function getNonCollectionIterator(iterable,noPrimordialCollections){if(isArray(iterable)||isArguments(iterable))return getArrayIterator(iterable);if(isString(iterable)){var i=0;return{next:function next(){var nextIndex=function advanceStringIndex(S,index){if(index+1>=S.length)return index+1;var first=$charCodeAt(S,index);if(first<55296||first>56319)return index+1;var second=$charCodeAt(S,index+1);return second<56320||second>57343?index+1:index+2}(iterable,i),value=$stringSlice(iterable,i,nextIndex);return i=nextIndex,{done:nextIndex>iterable.length,value:value}}}}return noPrimordialCollections&&void 0!==iterable["_es6-shim iterator_"]?iterable["_es6-shim iterator_"]():void 0};if($Map||$Set){var isMap=__webpack_require__("./node_modules/is-map/index.js"),isSet=__webpack_require__("./node_modules/is-set/index.js"),$mapForEach=callBound("Map.prototype.forEach",!0),$setForEach=callBound("Set.prototype.forEach",!0);if(void 0===process||!process.versions||!process.versions.node)var $mapIterator=callBound("Map.prototype.iterator",!0),$setIterator=callBound("Set.prototype.iterator",!0),getStopIterationIterator=function(iterator){var done=!1;return{next:function next(){try{return{done:done,value:done?void 0:iterator.next()}}catch(e){return done=!0,{done:!0,value:void 0}}}}};var $mapAtAtIterator=callBound("Map.prototype.@@iterator",!0)||callBound("Map.prototype._es6-shim iterator_",!0),$setAtAtIterator=callBound("Set.prototype.@@iterator",!0)||callBound("Set.prototype._es6-shim iterator_",!0);module.exports=function getIterator(iterable){return function getCollectionIterator(iterable){if(isMap(iterable)){if($mapIterator)return getStopIterationIterator($mapIterator(iterable));if($mapAtAtIterator)return $mapAtAtIterator(iterable);if($mapForEach){var entries=[];return $mapForEach(iterable,(function(v,k){$arrayPush(entries,[k,v])})),getArrayIterator(entries)}}if(isSet(iterable)){if($setIterator)return getStopIterationIterator($setIterator(iterable));if($setAtAtIterator)return $setAtAtIterator(iterable);if($setForEach){var values=[];return $setForEach(iterable,(function(v){$arrayPush(values,v)})),getArrayIterator(values)}}}(iterable)||getNonCollectionIterator(iterable)}}else module.exports=function getIterator(iterable){if(null!=iterable)return getNonCollectionIterator(iterable,!0)}}}).call(this,__webpack_require__("./node_modules/process/browser.js"))},"./node_modules/es-shim-unscopables/index.js":function(module,exports,__webpack_require__){"use strict";var has=__webpack_require__("./node_modules/has/src/index.js"),hasUnscopables="function"==typeof Symbol&&"symbol"==typeof Symbol.unscopables,map=hasUnscopables&&Array.prototype[Symbol.unscopables],$TypeError=TypeError;module.exports=function shimUnscopables(method){if("string"!=typeof method||!method)throw new $TypeError("method must be a non-empty string");if(!has(Array.prototype,method))throw new $TypeError("method must be on Array.prototype");hasUnscopables&&(map[method]=!0)}},"./node_modules/es-to-primitive/es2015.js":function(module,exports,__webpack_require__){"use strict";var hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,isPrimitive=__webpack_require__("./node_modules/es-to-primitive/helpers/isPrimitive.js"),isCallable=__webpack_require__("./node_modules/is-callable/index.js"),isDate=__webpack_require__("./node_modules/is-date-object/index.js"),isSymbol=__webpack_require__("./node_modules/is-symbol/index.js"),ordinaryToPrimitive=function OrdinaryToPrimitive(O,hint){if(null==O)throw new TypeError("Cannot call method on "+O);if("string"!=typeof hint||"number"!==hint&&"string"!==hint)throw new TypeError('hint must be "string" or "number"');var method,result,i,methodNames="string"===hint?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<methodNames.length;++i)if(method=O[methodNames[i]],isCallable(method)&&(result=method.call(O),isPrimitive(result)))return result;throw new TypeError("No default value")},GetMethod=function GetMethod(O,P){var func=O[P];if(null!=func){if(!isCallable(func))throw new TypeError(func+" returned for property "+P+" of object "+O+" is not a function");return func}};module.exports=function ToPrimitive(input){if(isPrimitive(input))return input;var exoticToPrim,hint="default";if(arguments.length>1&&(arguments[1]===String?hint="string":arguments[1]===Number&&(hint="number")),hasSymbols&&(Symbol.toPrimitive?exoticToPrim=GetMethod(input,Symbol.toPrimitive):isSymbol(input)&&(exoticToPrim=Symbol.prototype.valueOf)),void 0!==exoticToPrim){var result=exoticToPrim.call(input,hint);if(isPrimitive(result))return result;throw new TypeError("unable to convert exotic object to primitive")}return"default"===hint&&(isDate(input)||isSymbol(input))&&(hint="string"),ordinaryToPrimitive(input,"default"===hint?"number":hint)}},"./node_modules/es-to-primitive/helpers/isPrimitive.js":function(module,exports,__webpack_require__){"use strict";module.exports=function isPrimitive(value){return null===value||"function"!=typeof value&&"object"!=typeof value}},"./node_modules/es5-shim/es5-sham.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(root,factory){"use strict";void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){var defineGetter,defineSetter,lookupGetter,lookupSetter,call=Function.call,prototypeOfObject=Object.prototype,owns=call.bind(prototypeOfObject.hasOwnProperty),isEnumerable=call.bind(prototypeOfObject.propertyIsEnumerable),toStr=call.bind(prototypeOfObject.toString),supportsAccessors=owns(prototypeOfObject,"__defineGetter__");supportsAccessors&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__));var isPrimitive=function isPrimitive(o){return null==o||"object"!=typeof o&&"function"!=typeof o};Object.getPrototypeOf||(Object.getPrototypeOf=function getPrototypeOf(object){var proto=object.__proto__;return proto||null==proto?proto:"[object Function]"===toStr(object.constructor)?object.constructor.prototype:object instanceof Object?prototypeOfObject:null});if(Object.defineProperty){var doesGetOwnPropertyDescriptorWork=function doesGetOwnPropertyDescriptorWork(object){try{return object.sentinel=0,0===Object.getOwnPropertyDescriptor(object,"sentinel").value}catch(exception){return!1}},getOwnPropertyDescriptorWorksOnObject=doesGetOwnPropertyDescriptorWork({});if(!("undefined"==typeof document||doesGetOwnPropertyDescriptorWork(document.createElement("div")))||!getOwnPropertyDescriptorWorksOnObject)var getOwnPropertyDescriptorFallback=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||getOwnPropertyDescriptorFallback){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function getOwnPropertyDescriptor(object,property){if(isPrimitive(object))throw new TypeError(ERR_NON_OBJECT+object);if(getOwnPropertyDescriptorFallback)try{return getOwnPropertyDescriptorFallback.call(Object,object,property)}catch(exception){}var descriptor;if(!owns(object,property))return descriptor;if(descriptor={enumerable:isEnumerable(object,property),configurable:!0},supportsAccessors){var prototype=object.__proto__,notPrototypeOfObject=object!==prototypeOfObject;notPrototypeOfObject&&(object.__proto__=prototypeOfObject);var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(notPrototypeOfObject&&(object.__proto__=prototype),getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor.writable=!0,descriptor}}Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function getOwnPropertyNames(object){return Object.keys(object)});if(!Object.create){var createEmpty,shouldUseActiveX=function shouldUseActiveX(){if(!document.domain)return!1;try{return!!new ActiveXObject("htmlfile")}catch(exception){return!1}},getEmptyViaActiveX=function getEmptyViaActiveX(){var empty,xDoc,script="script";return(xDoc=new ActiveXObject("htmlfile")).write("<"+script+"></"+script+">"),xDoc.close(),empty=xDoc.parentWindow.Object.prototype,xDoc=null,empty},getEmptyViaIFrame=function getEmptyViaIFrame(){var empty,iframe=document.createElement("iframe"),parent=document.body||document.documentElement;return iframe.style.display="none",parent.appendChild(iframe),iframe.src="javascript:",empty=iframe.contentWindow.Object.prototype,parent.removeChild(iframe),iframe=null,empty};createEmpty=!({__proto__:null}instanceof Object)||"undefined"==typeof document?function(){return{__proto__:null}}:function(){var empty=shouldUseActiveX()?getEmptyViaActiveX():getEmptyViaIFrame();delete empty.constructor,delete empty.hasOwnProperty,delete empty.propertyIsEnumerable,delete empty.isPrototypeOf,delete empty.toLocaleString,delete empty.toString,delete empty.valueOf;var Empty=function Empty(){};return Empty.prototype=empty,createEmpty=function(){return new Empty},new Empty},Object.create=function create(prototype,properties){var object,Type=function Type(){};if(null===prototype)object=createEmpty();else{if(isPrimitive(prototype))throw new TypeError("Object prototype may only be an Object or null");Type.prototype=prototype,(object=new Type).__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}var doesDefinePropertyWork=function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){return!1}};if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty,definePropertiesFallback=Object.defineProperties}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function defineProperty(object,property,descriptor){if(isPrimitive(object))throw new TypeError(ERR_NON_OBJECT_TARGET+object);if(isPrimitive(descriptor))throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if("value"in descriptor)if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{var hasGetter="get"in descriptor,hasSetter="set"in descriptor;if(!supportsAccessors&&(hasGetter||hasSetter))throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);hasGetter&&defineGetter(object,property,descriptor.get),hasSetter&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties&&!definePropertiesFallback||(Object.defineProperties=function defineProperties(object,properties){if(definePropertiesFallback)try{return definePropertiesFallback.call(Object,object,properties)}catch(exception){}return Object.keys(properties).forEach((function(property){"__proto__"!==property&&Object.defineProperty(object,property,properties[property])})),object});Object.seal||(Object.seal=function seal(object){if(Object(object)!==object)throw new TypeError("Object.seal can only be called on Objects.");return object});Object.freeze||(Object.freeze=function freeze(object){if(Object(object)!==object)throw new TypeError("Object.freeze can only be called on Objects.");return object});try{Object.freeze((function(){}))}catch(exception){Object.freeze=(freezeObject=Object.freeze,function freeze(object){return"function"==typeof object?object:freezeObject(object)})}var freezeObject;Object.preventExtensions||(Object.preventExtensions=function preventExtensions(object){if(Object(object)!==object)throw new TypeError("Object.preventExtensions can only be called on Objects.");return object});Object.isSealed||(Object.isSealed=function isSealed(object){if(Object(object)!==object)throw new TypeError("Object.isSealed can only be called on Objects.");return!1});Object.isFrozen||(Object.isFrozen=function isFrozen(object){if(Object(object)!==object)throw new TypeError("Object.isFrozen can only be called on Objects.");return!1});Object.isExtensible||(Object.isExtensible=function isExtensible(object){if(Object(object)!==object)throw new TypeError("Object.isExtensible can only be called on Objects.");for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue})})?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},"./node_modules/es5-shim/es5-shim.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(root,factory){"use strict";__WEBPACK_AMD_DEFINE_FACTORY__=function(){var isRegex,isString,$Array=Array,ArrayPrototype=$Array.prototype,$Object=Object,ObjectPrototype=$Object.prototype,$Function=Function,FunctionPrototype=$Function.prototype,$String=String,StringPrototype=$String.prototype,$Number=Number,NumberPrototype=$Number.prototype,array_slice=ArrayPrototype.slice,array_splice=ArrayPrototype.splice,array_push=ArrayPrototype.push,array_unshift=ArrayPrototype.unshift,array_concat=ArrayPrototype.concat,array_join=ArrayPrototype.join,call=FunctionPrototype.call,apply=FunctionPrototype.apply,max=Math.max,min=Math.min,floor=Math.floor,abs=Math.abs,pow=Math.pow,round=Math.round,log=Math.log,LOG10E=Math.LOG10E,log10=Math.log10||function log10(value){return log(value)*LOG10E},to_string=ObjectPrototype.toString,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,fnToStr=Function.prototype.toString,constructorRegex=/^\s*class /,isES6ClassFn=function isES6ClassFn(value){try{var spaceStripped=fnToStr.call(value).replace(/\/\/.*\n/g,"").replace(/\/\*[.\s\S]*\*\//g,"").replace(/\n/gm," ").replace(/ {2}/g," ");return constructorRegex.test(spaceStripped)}catch(e){return!1}},tryFunctionObject=function tryFunctionObject(value){try{return!isES6ClassFn(value)&&(fnToStr.call(value),!0)}catch(e){return!1}},fnClass="[object Function]",genClass="[object GeneratorFunction]",isCallable=function isCallable(value){if(!value)return!1;if("function"!=typeof value&&"object"!=typeof value)return!1;if(hasToStringTag)return tryFunctionObject(value);if(isES6ClassFn(value))return!1;var strClass=to_string.call(value);return strClass===fnClass||strClass===genClass},regexExec=RegExp.prototype.exec,tryRegexExec=function tryRegexExec(value){try{return regexExec.call(value),!0}catch(e){return!1}},regexClass="[object RegExp]";isRegex=function isRegex(value){return"object"==typeof value&&(hasToStringTag?tryRegexExec(value):to_string.call(value)===regexClass)};var strValue=String.prototype.valueOf,tryStringObject=function tryStringObject(value){try{return strValue.call(value),!0}catch(e){return!1}},stringClass="[object String]";isString=function isString(value){return"string"==typeof value||"object"==typeof value&&(hasToStringTag?tryStringObject(value):to_string.call(value)===stringClass)};var supportsDescriptors=$Object.defineProperty&&function(){try{var obj={};for(var _ in $Object.defineProperty(obj,"x",{enumerable:!1,value:obj}),obj)return!1;return obj.x===obj}catch(e){return!1}}(),defineProperties=(has=ObjectPrototype.hasOwnProperty,defineProperty=supportsDescriptors?function(object,name,method,forceAssign){!forceAssign&&name in object||$Object.defineProperty(object,name,{configurable:!0,enumerable:!1,writable:!0,value:method})}:function(object,name,method,forceAssign){!forceAssign&&name in object||(object[name]=method)},function defineProperties(object,map,forceAssign){for(var name in map)has.call(map,name)&&defineProperty(object,name,map[name],forceAssign)});var has,defineProperty;if($Object.defineProperty&&supportsDescriptors){var F=function(){},toStringSentinel={},sentinel={toString:toStringSentinel};if($Object.defineProperty(F,"prototype",{value:sentinel,writable:!1}),(new F).toString!==toStringSentinel){var $dP=$Object.defineProperty,$gOPD=$Object.getOwnPropertyDescriptor;defineProperties($Object,{defineProperty:function defineProperty(o,k,d){var key=$String(k);if("function"==typeof o&&"prototype"===key){var desc=$gOPD(o,key);if(desc.writable&&!d.writable&&"value"in d)try{o[key]=d.value}catch(e){}return $dP(o,key,{configurable:"configurable"in d?d.configurable:desc.configurable,enumerable:"enumerable"in d?d.enumerable:desc.enumerable,writable:d.writable})}return $dP(o,key,d)}},!0)}}var isPrimitive=function isPrimitive(input){var type=typeof input;return null===input||"object"!==type&&"function"!==type},isActualNaN=$Number.isNaN||function isActualNaN(x){return x!=x},ES={ToInteger:function ToInteger(num){var n=+num;return isActualNaN(n)?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*floor(abs(n))),n},ToPrimitive:function ToPrimitive(input){var val,valueOf,toStr;if(isPrimitive(input))return input;if(valueOf=input.valueOf,isCallable(valueOf)&&(val=valueOf.call(input),isPrimitive(val)))return val;if(toStr=input.toString,isCallable(toStr)&&(val=toStr.call(input),isPrimitive(val)))return val;throw new TypeError},ToObject:function(o){if(null==o)throw new TypeError("can't convert "+o+" to object");return $Object(o)},ToUint32:function ToUint32(x){return x>>>0}},Empty=function Empty(){};defineProperties(FunctionPrototype,{bind:function bind(that){var target=this;if(!isCallable(target))throw new TypeError("Function.prototype.bind called on incompatible "+target);for(var bound,args=array_slice.call(arguments,1),binder=function(){if(this instanceof bound){var result=apply.call(target,this,array_concat.call(args,array_slice.call(arguments)));return $Object(result)===result?result:this}return apply.call(target,that,array_concat.call(args,array_slice.call(arguments)))},boundLength=max(0,target.length-args.length),boundArgs=[],i=0;i<boundLength;i++)array_push.call(boundArgs,"$"+i);return bound=$Function("binder","return function ("+array_join.call(boundArgs,",")+"){ return binder.apply(this, arguments); }")(binder),target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound}});var owns=call.bind(ObjectPrototype.hasOwnProperty),toStr=call.bind(ObjectPrototype.toString),arraySlice=call.bind(array_slice),arraySliceApply=apply.bind(array_slice);if("object"==typeof document&&document&&document.documentElement)try{arraySlice(document.documentElement.childNodes)}catch(e){var origArraySlice=arraySlice,origArraySliceApply=arraySliceApply;arraySlice=function arraySliceIE(arr){for(var r=[],i=arr.length;i-- >0;)r[i]=arr[i];return origArraySliceApply(r,origArraySlice(arguments,1))},arraySliceApply=function arraySliceApplyIE(arr,args){return origArraySliceApply(arraySlice(arr),args)}}var strSlice=call.bind(StringPrototype.slice),strSplit=call.bind(StringPrototype.split),strIndexOf=call.bind(StringPrototype.indexOf),pushCall=call.bind(array_push),isEnum=call.bind(ObjectPrototype.propertyIsEnumerable),arraySort=call.bind(ArrayPrototype.sort),isArray=$Array.isArray||function isArray(obj){return"[object Array]"===toStr(obj)},hasUnshiftReturnValueBug=1!==[].unshift(0);defineProperties(ArrayPrototype,{unshift:function(){return array_unshift.apply(this,arguments),this.length}},hasUnshiftReturnValueBug),defineProperties($Array,{isArray:isArray});var boxedString=$Object("a"),splitString="a"!==boxedString[0]||!(0 in boxedString),properlyBoxesContext=function properlyBoxed(method){var properlyBoxesNonStrict=!0,properlyBoxesStrict=!0,threwException=!1;if(method)try{method.call("foo",(function(_,__,context){"object"!=typeof context&&(properlyBoxesNonStrict=!1)})),method.call([1],(function(){properlyBoxesStrict="string"==typeof this}),"x")}catch(e){threwException=!0}return!!method&&!threwException&&properlyBoxesNonStrict&&properlyBoxesStrict};defineProperties(ArrayPrototype,{forEach:function forEach(callbackfn){var T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,i=-1,length=ES.ToUint32(self.length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++i<length;)i in self&&(void 0===T?callbackfn(self[i],i,object):callbackfn.call(T,self[i],i,object))}},!properlyBoxesContext(ArrayPrototype.forEach)),defineProperties(ArrayPrototype,{map:function map(callbackfn){var T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length),result=$Array(length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.map callback must be a function");for(var i=0;i<length;i++)i in self&&(result[i]=void 0===T?callbackfn(self[i],i,object):callbackfn.call(T,self[i],i,object));return result}},!properlyBoxesContext(ArrayPrototype.map)),defineProperties(ArrayPrototype,{filter:function filter(callbackfn){var value,T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length),result=[];if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.filter callback must be a function");for(var i=0;i<length;i++)i in self&&(value=self[i],(void 0===T?callbackfn(value,i,object):callbackfn.call(T,value,i,object))&&pushCall(result,value));return result}},!properlyBoxesContext(ArrayPrototype.filter)),defineProperties(ArrayPrototype,{every:function every(callbackfn){var T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.every callback must be a function");for(var i=0;i<length;i++)if(i in self&&!(void 0===T?callbackfn(self[i],i,object):callbackfn.call(T,self[i],i,object)))return!1;return!0}},!properlyBoxesContext(ArrayPrototype.every)),defineProperties(ArrayPrototype,{some:function some(callbackfn){var T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.some callback must be a function");for(var i=0;i<length;i++)if(i in self&&(void 0===T?callbackfn(self[i],i,object):callbackfn.call(T,self[i],i,object)))return!0;return!1}},!properlyBoxesContext(ArrayPrototype.some));var reduceCoercesToObject=!1;ArrayPrototype.reduce&&(reduceCoercesToObject="object"==typeof ArrayPrototype.reduce.call("es5",(function(_,__,___,list){return list})));defineProperties(ArrayPrototype,{reduce:function reduce(callbackfn){var object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length);if(!isCallable(callbackfn))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===length&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;i<length;i++)i in self&&(result=callbackfn(result,self[i],i,object));return result}},!reduceCoercesToObject);var reduceRightCoercesToObject=!1;ArrayPrototype.reduceRight&&(reduceRightCoercesToObject="object"==typeof ArrayPrototype.reduceRight.call("es5",(function(_,__,___,list){return list})));defineProperties(ArrayPrototype,{reduceRight:function reduceRight(callbackfn){var result,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length);if(!isCallable(callbackfn))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===length&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}if(i<0)return result;do{i in self&&(result=callbackfn(result,self[i],i,object))}while(i--);return result}},!reduceRightCoercesToObject);var hasFirefox2IndexOfBug=ArrayPrototype.indexOf&&-1!==[0,1].indexOf(1,2);defineProperties(ArrayPrototype,{indexOf:function indexOf(searchElement){var self=splitString&&isString(this)?strSplit(this,""):ES.ToObject(this),length=ES.ToUint32(self.length);if(0===length)return-1;var i=0;for(arguments.length>1&&(i=ES.ToInteger(arguments[1])),i=i>=0?i:max(0,length+i);i<length;i++)if(i in self&&self[i]===searchElement)return i;return-1}},hasFirefox2IndexOfBug);var hasFirefox2LastIndexOfBug=ArrayPrototype.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);defineProperties(ArrayPrototype,{lastIndexOf:function lastIndexOf(searchElement){var self=splitString&&isString(this)?strSplit(this,""):ES.ToObject(this),length=ES.ToUint32(self.length);if(0===length)return-1;var i=length-1;for(arguments.length>1&&(i=min(i,ES.ToInteger(arguments[1]))),i=i>=0?i:length-abs(i);i>=0;i--)if(i in self&&searchElement===self[i])return i;return-1}},hasFirefox2LastIndexOfBug);var spliceNoopReturnsEmptyArray=(a=[1,2],result=a.splice(),2===a.length&&isArray(result)&&0===result.length);var a,result;defineProperties(ArrayPrototype,{splice:function splice(start,deleteCount){return 0===arguments.length?[]:array_splice.apply(this,arguments)}},!spliceNoopReturnsEmptyArray);var spliceWorksWithEmptyObject=(obj={},ArrayPrototype.splice.call(obj,0,0,1),1===obj.length);var obj;defineProperties(ArrayPrototype,{splice:function splice(start,deleteCount){if(0===arguments.length)return[];var args=arguments;return this.length=max(ES.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof deleteCount&&((args=arraySlice(arguments)).length<2?pushCall(args,this.length-start):args[1]=ES.ToInteger(deleteCount)),array_splice.apply(this,args)}},!spliceWorksWithEmptyObject);var spliceWorksWithLargeSparseArrays=(arr=new $Array(1e5),arr[8]="x",arr.splice(1,1),7===arr.indexOf("x")),spliceWorksWithSmallSparseArrays=function(){var n=256,arr=[];return arr[n]="a",arr.splice(n+1,0,"b"),"a"===arr[n]}();var arr;defineProperties(ArrayPrototype,{splice:function splice(start,deleteCount){for(var from,O=ES.ToObject(this),A=[],len=ES.ToUint32(O.length),relativeStart=ES.ToInteger(start),actualStart=relativeStart<0?max(len+relativeStart,0):min(relativeStart,len),actualDeleteCount=0===arguments.length?0:1===arguments.length?len-actualStart:min(max(ES.ToInteger(deleteCount),0),len-actualStart),k=0;k<actualDeleteCount;)from=$String(actualStart+k),owns(O,from)&&(A[k]=O[from]),k+=1;var to,items=arraySlice(arguments,2),itemCount=items.length;if(itemCount<actualDeleteCount){k=actualStart;for(var maxK=len-actualDeleteCount;k<maxK;)from=$String(k+actualDeleteCount),to=$String(k+itemCount),owns(O,from)?O[to]=O[from]:delete O[to],k+=1;k=len;for(var minK=len-actualDeleteCount+itemCount;k>minK;)delete O[k-1],k-=1}else if(itemCount>actualDeleteCount)for(k=len-actualDeleteCount;k>actualStart;)from=$String(k+actualDeleteCount-1),to=$String(k+itemCount-1),owns(O,from)?O[to]=O[from]:delete O[to],k-=1;k=actualStart;for(var i=0;i<items.length;++i)O[k]=items[i],k+=1;return O.length=len-actualDeleteCount+itemCount,A}},!spliceWorksWithLargeSparseArrays||!spliceWorksWithSmallSparseArrays);var hasStringJoinBug,originalJoin=ArrayPrototype.join;try{hasStringJoinBug="1,2,3"!==Array.prototype.join.call("123",",")}catch(e){hasStringJoinBug=!0}hasStringJoinBug&&defineProperties(ArrayPrototype,{join:function join(separator){var sep=void 0===separator?",":separator;return originalJoin.call(isString(this)?strSplit(this,""):this,sep)}},hasStringJoinBug);var hasJoinUndefinedBug="1,2"!==[1,2].join(void 0);hasJoinUndefinedBug&&defineProperties(ArrayPrototype,{join:function join(separator){var sep=void 0===separator?",":separator;return originalJoin.call(this,sep)}},hasJoinUndefinedBug);var pushShim=function push(item){for(var O=ES.ToObject(this),n=ES.ToUint32(O.length),i=0;i<arguments.length;)O[n+i]=arguments[i],i+=1;return O.length=n+i,n+i},pushIsNotGeneric=function(){var obj={};return 1!==Array.prototype.push.call(obj,void 0)||1!==obj.length||void 0!==obj[0]||!owns(obj,0)}();defineProperties(ArrayPrototype,{push:function push(item){return isArray(this)?array_push.apply(this,arguments):pushShim.apply(this,arguments)}},pushIsNotGeneric);var pushUndefinedIsWeird=function(){var arr=[];return 1!==arr.push(void 0)||1!==arr.length||void 0!==arr[0]||!owns(arr,0)}();defineProperties(ArrayPrototype,{push:pushShim},pushUndefinedIsWeird),defineProperties(ArrayPrototype,{slice:function(start,end){var arr=isString(this)?strSplit(this,""):this;return arraySliceApply(arr,arguments)}},splitString);var sortIgnoresNonFunctions=function(){try{[1,2].sort(null)}catch(e){try{[1,2].sort({})}catch(e2){return!1}}return!0}(),sortThrowsOnRegex=function(){try{return[1,2].sort(/a/),!1}catch(e){}return!0}(),sortIgnoresUndefined=function(){try{return[1,2].sort(void 0),!0}catch(e){}return!1}();defineProperties(ArrayPrototype,{sort:function sort(compareFn){if(void 0===compareFn)return arraySort(this);if(!isCallable(compareFn))throw new TypeError("Array.prototype.sort callback must be a function");return arraySort(this,compareFn)}},sortIgnoresNonFunctions||!sortIgnoresUndefined||!sortThrowsOnRegex);var hasDontEnumBug=!isEnum({toString:null},"toString"),hasProtoEnumBug=isEnum((function(){}),"prototype"),hasStringEnumBug=!owns("x","0"),equalsConstructorPrototype=function(o){var ctor=o.constructor;return ctor&&ctor.prototype===o},excludedKeys={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0,$width:!0,$height:!0,$top:!0,$localStorage:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var k in window)try{!excludedKeys["$"+k]&&owns(window,k)&&null!==window[k]&&"object"==typeof window[k]&&equalsConstructorPrototype(window[k])}catch(e){return!0}return!1}(),equalsConstructorPrototypeIfNotBuggy=function(object){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(object);try{return equalsConstructorPrototype(object)}catch(e){return!1}},dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length,isStandardArguments=function isArguments(value){return"[object Arguments]"===toStr(value)},isLegacyArguments=function isArguments(value){return null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&!isArray(value)&&isCallable(value.callee)},isArguments=isStandardArguments(arguments)?isStandardArguments:isLegacyArguments;defineProperties($Object,{keys:function keys(object){var isFn=isCallable(object),isArgs=isArguments(object),isObject=null!==object&&"object"==typeof object,isStr=isObject&&isString(object);if(!isObject&&!isFn&&!isArgs)throw new TypeError("Object.keys called on a non-object");var theKeys=[],skipProto=hasProtoEnumBug&&isFn;if(isStr&&hasStringEnumBug||isArgs)for(var i=0;i<object.length;++i)pushCall(theKeys,$String(i));if(!isArgs)for(var name in object)skipProto&&"prototype"===name||!owns(object,name)||pushCall(theKeys,$String(name));if(hasDontEnumBug)for(var skipConstructor=equalsConstructorPrototypeIfNotBuggy(object),j=0;j<dontEnumsLength;j++){var dontEnum=dontEnums[j];skipConstructor&&"constructor"===dontEnum||!owns(object,dontEnum)||pushCall(theKeys,dontEnum)}return theKeys}});var keysWorksWithArguments=$Object.keys&&function(){return 2===$Object.keys(arguments).length}(1,2),keysHasArgumentsLengthBug=$Object.keys&&function(){var argKeys=$Object.keys(arguments);return 1!==arguments.length||1!==argKeys.length||1!==argKeys[0]}(1),originalKeys=$Object.keys;defineProperties($Object,{keys:function keys(object){return isArguments(object)?originalKeys(arraySlice(object)):originalKeys(object)}},!keysWorksWithArguments||keysHasArgumentsLengthBug);var hasToDateStringFormatBug,hasToStringFormatBug,hasNegativeMonthYearBug=0!==new Date(-0xc782b5b342b24).getUTCMonth(),aNegativeTestDate=new Date(-0x55d318d56a724),aPositiveTestDate=new Date(14496624e5),hasToUTCStringFormatBug="Mon, 01 Jan -45875 11:59:59 GMT"!==aNegativeTestDate.toUTCString();aNegativeTestDate.getTimezoneOffset()<-720?(hasToDateStringFormatBug="Tue Jan 02 -45875"!==aNegativeTestDate.toDateString(),hasToStringFormatBug=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(aPositiveTestDate))):(hasToDateStringFormatBug="Mon Jan 01 -45875"!==aNegativeTestDate.toDateString(),hasToStringFormatBug=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(aPositiveTestDate)));var originalGetFullYear=call.bind(Date.prototype.getFullYear),originalGetMonth=call.bind(Date.prototype.getMonth),originalGetDate=call.bind(Date.prototype.getDate),originalGetUTCFullYear=call.bind(Date.prototype.getUTCFullYear),originalGetUTCMonth=call.bind(Date.prototype.getUTCMonth),originalGetUTCDate=call.bind(Date.prototype.getUTCDate),originalGetUTCDay=call.bind(Date.prototype.getUTCDay),originalGetUTCHours=call.bind(Date.prototype.getUTCHours),originalGetUTCMinutes=call.bind(Date.prototype.getUTCMinutes),originalGetUTCSeconds=call.bind(Date.prototype.getUTCSeconds),originalGetUTCMilliseconds=call.bind(Date.prototype.getUTCMilliseconds),dayName=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthName=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],daysInMonth=function daysInMonth(month,year){return originalGetDate(new Date(year,month,0))};defineProperties(Date.prototype,{getFullYear:function getFullYear(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetFullYear(this);return year<0&&originalGetMonth(this)>11?year+1:year},getMonth:function getMonth(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetFullYear(this),month=originalGetMonth(this);return year<0&&month>11?0:month},getDate:function getDate(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetFullYear(this),month=originalGetMonth(this),date=originalGetDate(this);return year<0&&month>11?12===month?date:daysInMonth(0,year+1)-date+1:date},getUTCFullYear:function getUTCFullYear(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetUTCFullYear(this);return year<0&&originalGetUTCMonth(this)>11?year+1:year},getUTCMonth:function getUTCMonth(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetUTCFullYear(this),month=originalGetUTCMonth(this);return year<0&&month>11?0:month},getUTCDate:function getUTCDate(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetUTCFullYear(this),month=originalGetUTCMonth(this),date=originalGetUTCDate(this);return year<0&&month>11?12===month?date:daysInMonth(0,year+1)-date+1:date}},hasNegativeMonthYearBug),defineProperties(Date.prototype,{toUTCString:function toUTCString(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var day=originalGetUTCDay(this),date=originalGetUTCDate(this),month=originalGetUTCMonth(this),year=originalGetUTCFullYear(this),hour=originalGetUTCHours(this),minute=originalGetUTCMinutes(this),second=originalGetUTCSeconds(this);return dayName[day]+", "+(date<10?"0"+date:date)+" "+monthName[month]+" "+year+" "+(hour<10?"0"+hour:hour)+":"+(minute<10?"0"+minute:minute)+":"+(second<10?"0"+second:second)+" GMT"}},hasNegativeMonthYearBug||hasToUTCStringFormatBug),defineProperties(Date.prototype,{toDateString:function toDateString(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var day=this.getDay(),date=this.getDate(),month=this.getMonth(),year=this.getFullYear();return dayName[day]+" "+monthName[month]+" "+(date<10?"0"+date:date)+" "+year}},hasNegativeMonthYearBug||hasToDateStringFormatBug),(hasNegativeMonthYearBug||hasToStringFormatBug)&&(Date.prototype.toString=function toString(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var day=this.getDay(),date=this.getDate(),month=this.getMonth(),year=this.getFullYear(),hour=this.getHours(),minute=this.getMinutes(),second=this.getSeconds(),timezoneOffset=this.getTimezoneOffset(),hoursOffset=floor(abs(timezoneOffset)/60),minutesOffset=floor(abs(timezoneOffset)%60);return dayName[day]+" "+monthName[month]+" "+(date<10?"0"+date:date)+" "+year+" "+(hour<10?"0"+hour:hour)+":"+(minute<10?"0"+minute:minute)+":"+(second<10?"0"+second:second)+" GMT"+(timezoneOffset>0?"-":"+")+(hoursOffset<10?"0"+hoursOffset:hoursOffset)+(minutesOffset<10?"0"+minutesOffset:minutesOffset)},supportsDescriptors&&$Object.defineProperty(Date.prototype,"toString",{configurable:!0,enumerable:!1,writable:!0}));var negativeDate=-621987552e5,negativeYearString="-000001",hasNegativeDateBug=Date.prototype.toISOString&&-1===new Date(negativeDate).toISOString().indexOf(negativeYearString),hasSafari51DateBug=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString(),getTime=call.bind(Date.prototype.getTime);defineProperties(Date.prototype,{toISOString:function toISOString(){if(!isFinite(this)||!isFinite(getTime(this)))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var year=originalGetUTCFullYear(this),month=originalGetUTCMonth(this);year+=floor(month/12);var result=[(month=(month%12+12)%12)+1,originalGetUTCDate(this),originalGetUTCHours(this),originalGetUTCMinutes(this),originalGetUTCSeconds(this)];year=(year<0?"-":year>9999?"+":"")+strSlice("00000"+abs(year),0<=year&&year<=9999?-4:-6);for(var i=0;i<result.length;++i)result[i]=strSlice("00"+result[i],-2);return year+"-"+arraySlice(result,0,2).join("-")+"T"+arraySlice(result,2).join(":")+"."+strSlice("000"+originalGetUTCMilliseconds(this),-3)+"Z"}},hasNegativeDateBug||hasSafari51DateBug),function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(negativeDate).toJSON().indexOf(negativeYearString)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(e){return!1}}()||(Date.prototype.toJSON=function toJSON(key){var O=$Object(this),tv=ES.ToPrimitive(O);if("number"==typeof tv&&!isFinite(tv))return null;var toISO=O.toISOString;if(!isCallable(toISO))throw new TypeError("toISOString property is not callable");return toISO.call(O)});var supportsExtendedYears=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),acceptsInvalidDates=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));if(isNaN(Date.parse("2000-01-01T00:00:00.000Z"))||acceptsInvalidDates||!supportsExtendedYears){var maxSafeUnsigned32Bit=pow(2,31)-1,hasSafariSignedIntBug=isActualNaN(new Date(1970,0,1,0,0,0,maxSafeUnsigned32Bit+1).getTime());Date=function(NativeDate){var DateShim=function Date(Y,M,D,h,m,s,ms){var date,length=arguments.length;if(this instanceof NativeDate){var seconds=s,millis=ms;if(hasSafariSignedIntBug&&length>=7&&ms>maxSafeUnsigned32Bit){var msToShift=floor(ms/maxSafeUnsigned32Bit)*maxSafeUnsigned32Bit,sToShift=floor(msToShift/1e3);seconds+=sToShift,millis-=1e3*sToShift}date=1===length&&$String(Y)===Y?new NativeDate(DateShim.parse(Y)):length>=7?new NativeDate(Y,M,D,h,m,seconds,millis):length>=6?new NativeDate(Y,M,D,h,m,seconds):length>=5?new NativeDate(Y,M,D,h,m):length>=4?new NativeDate(Y,M,D,h):length>=3?new NativeDate(Y,M,D):length>=2?new NativeDate(Y,M):length>=1?new NativeDate(Y instanceof NativeDate?+Y:Y):new NativeDate}else date=NativeDate.apply(this,arguments);return isPrimitive(date)||defineProperties(date,{constructor:DateShim},!0),date},isoDateExpression=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),months=[0,31,59,90,120,151,181,212,243,273,304,334,365],dayFromMonth=function dayFromMonth(year,month){var t=month>1?1:0;return months[month]+floor((year-1969+t)/4)-floor((year-1901+t)/100)+floor((year-1601+t)/400)+365*(year-1970)},toUTC=function toUTC(t){var s=0,ms=t;if(hasSafariSignedIntBug&&ms>maxSafeUnsigned32Bit){var msToShift=floor(ms/maxSafeUnsigned32Bit)*maxSafeUnsigned32Bit,sToShift=floor(msToShift/1e3);s+=sToShift,ms-=1e3*sToShift}return $Number(new NativeDate(1970,0,1,0,0,s,ms))};for(var key in NativeDate)owns(NativeDate,key)&&(DateShim[key]=NativeDate[key]);defineProperties(DateShim,{now:NativeDate.now,UTC:NativeDate.UTC},!0),DateShim.prototype=NativeDate.prototype,defineProperties(DateShim.prototype,{constructor:DateShim},!0);var parseShim=function parse(string){var match=isoDateExpression.exec(string);if(match){var result,year=$Number(match[1]),month=$Number(match[2]||1)-1,day=$Number(match[3]||1)-1,hour=$Number(match[4]||0),minute=$Number(match[5]||0),second=$Number(match[6]||0),millisecond=floor(1e3*$Number(match[7]||0)),isLocalTime=Boolean(match[4]&&!match[8]),signOffset="-"===match[9]?1:-1,hourOffset=$Number(match[10]||0),minuteOffset=$Number(match[11]||0);return hour<(minute>0||second>0||millisecond>0?24:25)&&minute<60&&second<60&&millisecond<1e3&&month>-1&&month<12&&hourOffset<24&&minuteOffset<60&&day>-1&&day<dayFromMonth(year,month+1)-dayFromMonth(year,month)&&(result=1e3*(60*((result=60*(24*(dayFromMonth(year,month)+day)+hour+hourOffset*signOffset))+minute+minuteOffset*signOffset)+second)+millisecond,isLocalTime&&(result=toUTC(result)),-864e13<=result&&result<=864e13)?result:NaN}return NativeDate.parse.apply(this,arguments)};return defineProperties(DateShim,{parse:parseShim}),DateShim}(Date)}Date.now||(Date.now=function now(){return(new Date).getTime()});var hasToFixedBugs=NumberPrototype.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),toFixedHelpers={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function multiply(n,c){for(var i=-1,c2=c;++i<toFixedHelpers.size;)c2+=n*toFixedHelpers.data[i],toFixedHelpers.data[i]=c2%toFixedHelpers.base,c2=floor(c2/toFixedHelpers.base)},divide:function divide(n){for(var i=toFixedHelpers.size,c=0;--i>=0;)c+=toFixedHelpers.data[i],toFixedHelpers.data[i]=floor(c/n),c=c%n*toFixedHelpers.base},numToString:function numToString(){for(var i=toFixedHelpers.size,s="";--i>=0;)if(""!==s||0===i||0!==toFixedHelpers.data[i]){var t=$String(toFixedHelpers.data[i]);""===s?s=t:s+=strSlice("0000000",0,7-t.length)+t}return s},pow:function pow(x,n,acc){return 0===n?acc:n%2==1?pow(x,n-1,acc*x):pow(x*x,n/2,acc)},log:function log(x){for(var n=0,x2=x;x2>=4096;)n+=12,x2/=4096;for(;x2>=2;)n+=1,x2/=2;return n}};defineProperties(NumberPrototype,{toFixed:function toFixed(fractionDigits){var f,x,s,m,e,z,j,k;if(f=$Number(fractionDigits),(f=isActualNaN(f)?0:floor(f))<0||f>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(x=$Number(this),isActualNaN(x))return"NaN";if(x<=-1e21||x>=1e21)return $String(x);if(s="",x<0&&(s="-",x=-x),m="0",x>1e-21)if(z=(e=toFixedHelpers.log(x*toFixedHelpers.pow(2,69,1))-69)<0?x*toFixedHelpers.pow(2,-e,1):x/toFixedHelpers.pow(2,e,1),z*=4503599627370496,(e=52-e)>0){for(toFixedHelpers.multiply(0,z),j=f;j>=7;)toFixedHelpers.multiply(1e7,0),j-=7;for(toFixedHelpers.multiply(toFixedHelpers.pow(10,j,1),0),j=e-1;j>=23;)toFixedHelpers.divide(1<<23),j-=23;toFixedHelpers.divide(1<<j),toFixedHelpers.multiply(1,1),toFixedHelpers.divide(2),m=toFixedHelpers.numToString()}else toFixedHelpers.multiply(0,z),toFixedHelpers.multiply(1<<-e,0),m=toFixedHelpers.numToString()+strSlice("0.00000000000000000000",2,2+f);return m=f>0?(k=m.length)<=f?s+strSlice("0.0000000000000000000",0,f-k+2)+m:s+strSlice(m,0,k-f)+"."+strSlice(m,k-f):s+m}},hasToFixedBugs);var hasToExponentialRoundingBug=function(){try{return"-6.9000e-11"!==(-69e-12).toExponential(4)}catch(e){return!1}}(),toExponentialAllowsInfiniteDigits=function(){try{return 1..toExponential(1/0),1..toExponential(-1/0),!0}catch(e){return!1}}(),originalToExponential=call.bind(NumberPrototype.toExponential),numberToString=call.bind(NumberPrototype.toString),numberValueOf=call.bind(NumberPrototype.valueOf);defineProperties(NumberPrototype,{toExponential:function toExponential(fractionDigits){var x=numberValueOf(this);if(void 0===fractionDigits)return originalToExponential(x);var f=ES.ToInteger(fractionDigits);if(isActualNaN(x))return"NaN";if(f<0||f>20)return originalToExponential(x,f);var s="";if(x<0&&(s="-",x=-x),x===1/0)return s+"Infinity";if(void 0!==fractionDigits&&(f<0||f>20))throw new RangeError("Fraction digits "+fractionDigits+" out of range");var m="",e=0,c="",d="";if(0===x)e=0,f=0,m="0";else{var L=log10(x);e=floor(L);var n=0;if(void 0!==fractionDigits){var w=pow(10,e-f);2*x>=(2*(n=round(x/w))+1)*w&&(n+=1),n>=pow(10,f+1)&&(n/=10,e+=1)}else for(var guess_n=round(pow(10,L-e+(f=16))),target_f=f;f-- >0;)guess_n=round(pow(10,L-e+f)),abs(guess_n*pow(10,e-f)-x)<=abs(n*pow(10,e-target_f)-x)&&(target_f=f,n=guess_n);if(m=numberToString(n,10),void 0===fractionDigits)for(;"0"===strSlice(m,-1);)m=strSlice(m,0,-1),d+=1}return 0!==f&&(m=strSlice(m,0,1)+"."+strSlice(m,1)),0===e?(c="+",d="0"):(c=e>0?"+":"-",d=numberToString(abs(e),10)),s+(m+="e"+c+d)}},hasToExponentialRoundingBug||toExponentialAllowsInfiniteDigits);var hasToPrecisionUndefinedBug=function(){try{return"1"===1..toPrecision(void 0)}catch(e){return!0}}(),originalToPrecision=call.bind(NumberPrototype.toPrecision);defineProperties(NumberPrototype,{toPrecision:function toPrecision(precision){return void 0===precision?originalToPrecision(this):originalToPrecision(this,precision)}},hasToPrecisionUndefinedBug),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(compliantExecNpcg=void 0===/()??/.exec("")[1],maxSafe32BitInt=pow(2,32)-1,StringPrototype.split=function split(separator,limit){var string=String(this);if(void 0===separator&&0===limit)return[];if(!isRegex(separator))return strSplit(this,separator,limit);var separator2,match,lastIndex,lastLength,output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.unicode?"u":"")+(separator.sticky?"y":""),lastLastIndex=0,separatorCopy=new RegExp(separator.source,flags+"g");compliantExecNpcg||(separator2=new RegExp("^"+separatorCopy.source+"$(?!\\s)",flags));var splitLimit=void 0===limit?maxSafe32BitInt:ES.ToUint32(limit);for(match=separatorCopy.exec(string);match&&!((lastIndex=match.index+match[0].length)>lastLastIndex&&(pushCall(output,strSlice(string,lastLastIndex,match.index)),!compliantExecNpcg&&match.length>1&&match[0].replace(separator2,(function(){for(var i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(match[i]=void 0)})),match.length>1&&match.index<string.length&&array_push.apply(output,arraySlice(match,1)),lastLength=match[0].length,lastLastIndex=lastIndex,output.length>=splitLimit));)separatorCopy.lastIndex===match.index&&separatorCopy.lastIndex++,match=separatorCopy.exec(string);return lastLastIndex===string.length?!lastLength&&separatorCopy.test("")||pushCall(output,""):pushCall(output,strSlice(string,lastLastIndex)),output.length>splitLimit?arraySlice(output,0,splitLimit):output}):"0".split(void 0,0).length&&(StringPrototype.split=function split(separator,limit){return void 0===separator&&0===limit?[]:strSplit(this,separator,limit)});var compliantExecNpcg,maxSafe32BitInt;var str_replace=StringPrototype.replace;groups=[],"x".replace(/x(.)?/g,(function(match,group){pushCall(groups,group)})),(1!==groups.length||void 0!==groups[0])&&(StringPrototype.replace=function replace(searchValue,replaceValue){var isFn=isCallable(replaceValue),hasCapturingGroups=isRegex(searchValue)&&/\)[*?]/.test(searchValue.source);if(!isFn||!hasCapturingGroups)return str_replace.call(this,searchValue,replaceValue);var wrappedReplaceValue=function(match){var length=arguments.length,originalLastIndex=searchValue.lastIndex;searchValue.lastIndex=0;var args=searchValue.exec(match)||[];return searchValue.lastIndex=originalLastIndex,pushCall(args,arguments[length-2],arguments[length-1]),replaceValue.apply(this,args)};return str_replace.call(this,searchValue,wrappedReplaceValue)});var groups;var string_substr=StringPrototype.substr,hasNegativeSubstrBug="".substr&&"b"!=="0b".substr(-1);defineProperties(StringPrototype,{substr:function substr(start,length){var normalizedStart=start;return start<0&&(normalizedStart=max(this.length+start,0)),string_substr.call(this,normalizedStart,length)}},hasNegativeSubstrBug);var ws="\t\n\v\f\r \u2028\u2029\ufeff",zeroWidth="",wsRegexChars="["+ws+"]",trimBeginRegexp=new RegExp("^"+wsRegexChars+wsRegexChars+"*"),trimEndRegexp=new RegExp(wsRegexChars+wsRegexChars+"*$"),hasTrimWhitespaceBug=StringPrototype.trim&&(ws.trim()||!zeroWidth.trim());defineProperties(StringPrototype,{trim:function trim(){if(null==this)throw new TypeError("can't convert "+this+" to object");return $String(this).replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}},hasTrimWhitespaceBug);var trim=call.bind(String.prototype.trim),hasLastIndexBug=StringPrototype.lastIndexOf&&-1!=="abc".lastIndexOf("",2);defineProperties(StringPrototype,{lastIndexOf:function lastIndexOf(searchString){if(null==this)throw new TypeError("can't convert "+this+" to object");for(var S=$String(this),searchStr=$String(searchString),numPos=arguments.length>1?$Number(arguments[1]):NaN,pos=isActualNaN(numPos)?1/0:ES.ToInteger(numPos),start=min(max(pos,0),S.length),searchLen=searchStr.length,k=start+searchLen;k>0;){k=max(0,k-searchLen);var index=strIndexOf(strSlice(S,k,start+searchLen),searchStr);if(-1!==index)return k+index}return-1}},hasLastIndexBug);var originalLastIndexOf=StringPrototype.lastIndexOf;defineProperties(StringPrototype,{lastIndexOf:function lastIndexOf(searchString){return originalLastIndexOf.apply(this,arguments)}},1!==StringPrototype.lastIndexOf.length);var hexRegex=/^[-+]?0[xX]/;8===parseInt(ws+"08")&&22===parseInt(ws+"0x16")||(parseInt=(origParseInt=parseInt,function parseInt(str,radix){var string=trim(String(str)),defaultedRadix=$Number(radix)||(hexRegex.test(string)?16:10);return origParseInt(string,defaultedRadix)}));var origParseInt;if(function(){if("function"!=typeof Symbol)return!1;try{return parseInt(Object(Symbol.iterator)),!0}catch(e){}try{return parseInt(Symbol.iterator),!0}catch(e){}return!1}()){var symbolValueOf=Symbol.prototype.valueOf;parseInt=function(origParseInt){return function parseInt(str,radix){var isSym="symbol"==typeof str;if(!isSym&&str&&"object"==typeof str)try{symbolValueOf.call(str),isSym=!0}catch(e){}var string=trim(String(str)),defaultedRadix=$Number(radix)||(hexRegex.test(string)?16:10);return origParseInt(string,defaultedRadix)}}(parseInt)}1/parseFloat("-0")!=-1/0&&(parseFloat=(origParseFloat=parseFloat,function parseFloat(string){var inputString=trim(String(string)),result=origParseFloat(inputString);return 0===result&&"-"===strSlice(inputString,0,1)?-0:result}));var origParseFloat;if("RangeError: test"!==String(new RangeError("test"))){var errorToStringShim=function toString(){if(null==this)throw new TypeError("can't convert "+this+" to object");var name=this.name;void 0===name?name="Error":"string"!=typeof name&&(name=$String(name));var msg=this.message;return void 0===msg?msg="":"string"!=typeof msg&&(msg=$String(msg)),name?msg?name+": "+msg:name:msg};Error.prototype.toString=errorToStringShim}if(supportsDescriptors){var ensureNonEnumerable=function(obj,prop){if(isEnum(obj,prop)){var desc=Object.getOwnPropertyDescriptor(obj,prop);desc.configurable&&(desc.enumerable=!1,Object.defineProperty(obj,prop,desc))}};ensureNonEnumerable(Error.prototype,"message"),""!==Error.prototype.message&&(Error.prototype.message=""),ensureNonEnumerable(Error.prototype,"name")}if("/a/gim"!==String(/a/gim)){var regexToString=function toString(){var str="/"+this.source+"/";return this.global&&(str+="g"),this.ignoreCase&&(str+="i"),this.multiline&&(str+="m"),str};RegExp.prototype.toString=regexToString}},void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},"./node_modules/es6-shim/es6-shim.js":function(module,exports,__webpack_require__){(function(global,process){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_FACTORY__=function(){"use strict";var ArrayIterator,_apply=Function.call.bind(Function.apply),_call=Function.call.bind(Function.call),isArray=Array.isArray,keys=Object.keys,not=function notThunker(func){return function notThunk(){return!_apply(func,this,arguments)}},throwsError=function(func){try{return func(),!1}catch(e){return!0}},valueOrFalseIfThrows=function valueOrFalseIfThrows(func){try{return func()}catch(e){return!1}},isCallableWithoutNew=not(throwsError),arePropertyDescriptorsSupported=function(){return!throwsError((function(){return Object.defineProperty({},"x",{get:function(){}})}))},supportsDescriptors=!!Object.defineProperty&&arePropertyDescriptorsSupported(),functionsHaveNames="foo"===function foo(){}.name,_forEach=Function.call.bind(Array.prototype.forEach),_reduce=Function.call.bind(Array.prototype.reduce),_filter=Function.call.bind(Array.prototype.filter),_some=Function.call.bind(Array.prototype.some),defineProperty=function(object,name,value,force){!force&&name in object||(supportsDescriptors?Object.defineProperty(object,name,{configurable:!0,enumerable:!1,writable:!0,value:value}):object[name]=value)},defineProperties=function(object,map,forceOverride){_forEach(keys(map),(function(name){var method=map[name];defineProperty(object,name,method,!!forceOverride)}))},_toString=Function.call.bind(Object.prototype.toString),isCallable=function IsCallableFast(x){return"function"==typeof x},Value={getter:function(object,name,getter){if(!supportsDescriptors)throw new TypeError("getters require true ES5 support");Object.defineProperty(object,name,{configurable:!0,enumerable:!1,get:getter})},proxy:function(originalObject,key,targetObject){if(!supportsDescriptors)throw new TypeError("getters require true ES5 support");var originalDescriptor=Object.getOwnPropertyDescriptor(originalObject,key);Object.defineProperty(targetObject,key,{configurable:originalDescriptor.configurable,enumerable:originalDescriptor.enumerable,get:function getKey(){return originalObject[key]},set:function setKey(value){originalObject[key]=value}})},redefine:function(object,property,newValue){if(supportsDescriptors){var descriptor=Object.getOwnPropertyDescriptor(object,property);descriptor.value=newValue,Object.defineProperty(object,property,descriptor)}else object[property]=newValue},defineByDescriptor:function(object,property,descriptor){supportsDescriptors?Object.defineProperty(object,property,descriptor):"value"in descriptor&&(object[property]=descriptor.value)},preserveToString:function(target,source){source&&isCallable(source.toString)&&defineProperty(target,"toString",source.toString.bind(source),!0)}},create=Object.create||function(prototype,properties){var Prototype=function Prototype(){};Prototype.prototype=prototype;var object=new Prototype;return void 0!==properties&&keys(properties).forEach((function(key){Value.defineByDescriptor(object,key,properties[key])})),object},supportsSubclassing=function(C,f){return!!Object.setPrototypeOf&&valueOrFalseIfThrows((function(){var Sub=function Subclass(arg){var o=new C(arg);return Object.setPrototypeOf(o,Subclass.prototype),o};return Object.setPrototypeOf(Sub,C),Sub.prototype=create(C.prototype,{constructor:{value:Sub}}),f(Sub)}))},globals=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==global)return global;throw new Error("unable to locate global object")}(),globalIsFinite=globals.isFinite,_indexOf=Function.call.bind(String.prototype.indexOf),_arrayIndexOfApply=Function.apply.bind(Array.prototype.indexOf),_concat=Function.call.bind(Array.prototype.concat),_strSlice=Function.call.bind(String.prototype.slice),_push=Function.call.bind(Array.prototype.push),_pushApply=Function.apply.bind(Array.prototype.push),_join=Function.call.bind(Array.prototype.join),_shift=Function.call.bind(Array.prototype.shift),_max=Math.max,_min=Math.min,_floor=Math.floor,_abs=Math.abs,_exp=Math.exp,_log=Math.log,_sqrt=Math.sqrt,_hasOwnProperty=Function.call.bind(Object.prototype.hasOwnProperty),noop=function(){},OrigMap=globals.Map,origMapDelete=OrigMap&&OrigMap.prototype.delete,origMapGet=OrigMap&&OrigMap.prototype.get,origMapHas=OrigMap&&OrigMap.prototype.has,origMapSet=OrigMap&&OrigMap.prototype.set,Symbol=globals.Symbol||{},symbolSpecies=Symbol.species||"@@species",numberIsNaN=Number.isNaN||function isNaN(value){return value!=value},numberIsFinite=Number.isFinite||function isFinite(value){return"number"==typeof value&&globalIsFinite(value)},_sign=isCallable(Math.sign)?Math.sign:function sign(value){var number=Number(value);return 0===number||numberIsNaN(number)?number:number<0?-1:1},_log1p=function log1p(value){var x=Number(value);return x<-1||numberIsNaN(x)?NaN:0===x||x===1/0?x:-1===x?-1/0:1+x-1==0?x:x*(_log(1+x)/(1+x-1))},isStandardArguments=function isArguments(value){return"[object Arguments]"===_toString(value)},isLegacyArguments=function isArguments(value){return null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&"[object Array]"!==_toString(value)&&"[object Function]"===_toString(value.callee)},isArguments=isStandardArguments(arguments)?isStandardArguments:isLegacyArguments,Type={primitive:function(x){return null===x||"function"!=typeof x&&"object"!=typeof x},string:function(x){return"[object String]"===_toString(x)},regex:function(x){return"[object RegExp]"===_toString(x)},symbol:function(x){return"function"==typeof globals.Symbol&&"symbol"==typeof x}},overrideNative=function overrideNative(object,property,replacement){var original=object[property];defineProperty(object,property,replacement,!0),Value.preserveToString(object[property],original)},hasSymbols="function"==typeof Symbol&&"function"==typeof Symbol.for&&Type.symbol(Symbol()),$iterator$=Type.symbol(Symbol.iterator)?Symbol.iterator:"_es6-shim iterator_";globals.Set&&"function"==typeof(new globals.Set)["@@iterator"]&&($iterator$="@@iterator"),globals.Reflect||defineProperty(globals,"Reflect",{},!0);var o,Reflect=globals.Reflect,$String=String,domAll="undefined"!=typeof document&&document?document.all:null,isNullOrUndefined=null==domAll?function isNullOrUndefined(x){return null==x}:function isNullOrUndefinedAndNotDocumentAll(x){return null==x&&x!==domAll},ES={Call:function Call(F,V){var args=arguments.length>2?arguments[2]:[];if(!ES.IsCallable(F))throw new TypeError(F+" is not a function");return _apply(F,V,args)},RequireObjectCoercible:function(x,optMessage){if(isNullOrUndefined(x))throw new TypeError(optMessage||"Cannot call method on "+x);return x},TypeIsObject:function(x){return null!=x&&!0!==x&&!1!==x&&("function"==typeof x||"object"==typeof x||x===domAll)},ToObject:function(o,optMessage){return Object(ES.RequireObjectCoercible(o,optMessage))},IsCallable:isCallable,IsConstructor:function(x){return ES.IsCallable(x)},ToInt32:function(x){return ES.ToNumber(x)>>0},ToUint32:function(x){return ES.ToNumber(x)>>>0},ToNumber:function(value){if(hasSymbols&&"[object Symbol]"===_toString(value))throw new TypeError("Cannot convert a Symbol value to a number");return+value},ToInteger:function(value){var number=ES.ToNumber(value);return numberIsNaN(number)?0:0!==number&&numberIsFinite(number)?(number>0?1:-1)*_floor(_abs(number)):number},ToLength:function(value){var len=ES.ToInteger(value);return len<=0?0:len>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:len},SameValue:function(a,b){return a===b?0!==a||1/a==1/b:numberIsNaN(a)&&numberIsNaN(b)},SameValueZero:function(a,b){return a===b||numberIsNaN(a)&&numberIsNaN(b)},IsIterable:function(o){return ES.TypeIsObject(o)&&(void 0!==o[$iterator$]||isArguments(o))},GetIterator:function(o){if(isArguments(o))return new ArrayIterator(o,"value");var itFn=ES.GetMethod(o,$iterator$);if(!ES.IsCallable(itFn))throw new TypeError("value is not an iterable");var it=ES.Call(itFn,o);if(!ES.TypeIsObject(it))throw new TypeError("bad iterator");return it},GetMethod:function(o,p){var func=ES.ToObject(o)[p];if(!isNullOrUndefined(func)){if(!ES.IsCallable(func))throw new TypeError("Method not callable: "+p);return func}},IteratorComplete:function(iterResult){return!!iterResult.done},IteratorClose:function(iterator,completionIsThrow){var returnMethod=ES.GetMethod(iterator,"return");if(void 0!==returnMethod){var innerResult,innerException;try{innerResult=ES.Call(returnMethod,iterator)}catch(e){innerException=e}if(!completionIsThrow){if(innerException)throw innerException;if(!ES.TypeIsObject(innerResult))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(it){var result=arguments.length>1?it.next(arguments[1]):it.next();if(!ES.TypeIsObject(result))throw new TypeError("bad iterator");return result},IteratorStep:function(it){var result=ES.IteratorNext(it);return!ES.IteratorComplete(result)&&result},Construct:function(C,args,newTarget,isES6internal){var target=void 0===newTarget?C:newTarget;if(!isES6internal&&Reflect.construct)return Reflect.construct(C,args,target);var proto=target.prototype;ES.TypeIsObject(proto)||(proto=Object.prototype);var obj=create(proto),result=ES.Call(C,obj,args);return ES.TypeIsObject(result)?result:obj},SpeciesConstructor:function(O,defaultConstructor){var C=O.constructor;if(void 0===C)return defaultConstructor;if(!ES.TypeIsObject(C))throw new TypeError("Bad constructor");var S=C[symbolSpecies];if(isNullOrUndefined(S))return defaultConstructor;if(!ES.IsConstructor(S))throw new TypeError("Bad @@species");return S},CreateHTML:function(string,tag,attribute,value){var S=ES.ToString(string),p1="<"+tag;return""!==attribute&&(p1+=" "+attribute+'="'+ES.ToString(value).replace(/"/g,"&quot;")+'"'),p1+">"+S+"</"+tag+">"},IsRegExp:function IsRegExp(argument){if(!ES.TypeIsObject(argument))return!1;var isRegExp=argument[Symbol.match];return void 0!==isRegExp?!!isRegExp:Type.regex(argument)},ToString:function ToString(string){if(hasSymbols&&"[object Symbol]"===_toString(string))throw new TypeError("Cannot convert a Symbol value to a number");return $String(string)}};if(supportsDescriptors&&hasSymbols){var defineWellKnownSymbol=function defineWellKnownSymbol(name){if(Type.symbol(Symbol[name]))return Symbol[name];var sym=Symbol.for("Symbol."+name);return Object.defineProperty(Symbol,name,{configurable:!1,enumerable:!1,writable:!1,value:sym}),sym};if(!Type.symbol(Symbol.search)){var symbolSearch=defineWellKnownSymbol("search"),originalSearch=String.prototype.search;defineProperty(RegExp.prototype,symbolSearch,(function search(string){return ES.Call(originalSearch,string,[this])}));var searchShim=function search(regexp){var O=ES.RequireObjectCoercible(this);if(!isNullOrUndefined(regexp)){var searcher=ES.GetMethod(regexp,symbolSearch);if(void 0!==searcher)return ES.Call(searcher,regexp,[O])}return ES.Call(originalSearch,O,[ES.ToString(regexp)])};overrideNative(String.prototype,"search",searchShim)}if(!Type.symbol(Symbol.replace)){var symbolReplace=defineWellKnownSymbol("replace"),originalReplace=String.prototype.replace;defineProperty(RegExp.prototype,symbolReplace,(function replace(string,replaceValue){return ES.Call(originalReplace,string,[this,replaceValue])}));var replaceShim=function replace(searchValue,replaceValue){var O=ES.RequireObjectCoercible(this);if(!isNullOrUndefined(searchValue)){var replacer=ES.GetMethod(searchValue,symbolReplace);if(void 0!==replacer)return ES.Call(replacer,searchValue,[O,replaceValue])}return ES.Call(originalReplace,O,[ES.ToString(searchValue),replaceValue])};overrideNative(String.prototype,"replace",replaceShim)}if(!Type.symbol(Symbol.split)){var symbolSplit=defineWellKnownSymbol("split"),originalSplit=String.prototype.split;defineProperty(RegExp.prototype,symbolSplit,(function split(string,limit){return ES.Call(originalSplit,string,[this,limit])}));var splitShim=function split(separator,limit){var O=ES.RequireObjectCoercible(this);if(!isNullOrUndefined(separator)){var splitter=ES.GetMethod(separator,symbolSplit);if(void 0!==splitter)return ES.Call(splitter,separator,[O,limit])}return ES.Call(originalSplit,O,[ES.ToString(separator),limit])};overrideNative(String.prototype,"split",splitShim)}var symbolMatchExists=Type.symbol(Symbol.match),stringMatchIgnoresSymbolMatch=symbolMatchExists&&((o={})[Symbol.match]=function(){return 42},42!=="a".match(o));if(!symbolMatchExists||stringMatchIgnoresSymbolMatch){var symbolMatch=defineWellKnownSymbol("match"),originalMatch=String.prototype.match;defineProperty(RegExp.prototype,symbolMatch,(function match(string){return ES.Call(originalMatch,string,[this])}));var matchShim=function match(regexp){var O=ES.RequireObjectCoercible(this);if(!isNullOrUndefined(regexp)){var matcher=ES.GetMethod(regexp,symbolMatch);if(void 0!==matcher)return ES.Call(matcher,regexp,[O])}return ES.Call(originalMatch,O,[ES.ToString(regexp)])};overrideNative(String.prototype,"match",matchShim)}}var wrapConstructor=function wrapConstructor(original,replacement,keysToSkip){Value.preserveToString(replacement,original),Object.setPrototypeOf&&Object.setPrototypeOf(original,replacement),supportsDescriptors?_forEach(Object.getOwnPropertyNames(original),(function(key){key in noop||keysToSkip[key]||Value.proxy(original,key,replacement)})):_forEach(Object.keys(original),(function(key){key in noop||keysToSkip[key]||(replacement[key]=original[key])})),replacement.prototype=original.prototype,Value.redefine(original.prototype,"constructor",replacement)},defaultSpeciesGetter=function(){return this},addDefaultSpecies=function(C){supportsDescriptors&&!_hasOwnProperty(C,symbolSpecies)&&Value.getter(C,symbolSpecies,defaultSpeciesGetter)},addIterator=function(prototype,impl){var implementation=impl||function iterator(){return this};defineProperty(prototype,$iterator$,implementation),!prototype[$iterator$]&&Type.symbol($iterator$)&&(prototype[$iterator$]=implementation)},createDataProperty=function createDataProperty(object,name,value){supportsDescriptors?Object.defineProperty(object,name,{configurable:!0,enumerable:!0,writable:!0,value:value}):object[name]=value},createDataPropertyOrThrow=function createDataPropertyOrThrow(object,name,value){if(createDataProperty(object,name,value),!ES.SameValue(object[name],value))throw new TypeError("property is nonconfigurable")},emulateES6construct=function(o,defaultNewTarget,defaultProto,slots){if(!ES.TypeIsObject(o))throw new TypeError("Constructor requires `new`: "+defaultNewTarget.name);var proto=defaultNewTarget.prototype;ES.TypeIsObject(proto)||(proto=defaultProto);var obj=create(proto);for(var name in slots)if(_hasOwnProperty(slots,name)){var value=slots[name];defineProperty(obj,name,value,!0)}return obj};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var originalFromCodePoint=String.fromCodePoint;overrideNative(String,"fromCodePoint",(function fromCodePoint(codePoints){return ES.Call(originalFromCodePoint,this,arguments)}))}var StringShims={fromCodePoint:function fromCodePoint(codePoints){for(var next,result=[],i=0,length=arguments.length;i<length;i++){if(next=Number(arguments[i]),!ES.SameValue(next,ES.ToInteger(next))||next<0||next>1114111)throw new RangeError("Invalid code point "+next);next<65536?_push(result,String.fromCharCode(next)):(next-=65536,_push(result,String.fromCharCode(55296+(next>>10))),_push(result,String.fromCharCode(next%1024+56320)))}return _join(result,"")},raw:function raw(template){var cooked=ES.ToObject(template,"bad template"),raw=ES.ToObject(cooked.raw,"bad raw value"),len=raw.length,literalSegments=ES.ToLength(len);if(literalSegments<=0)return"";for(var nextKey,next,nextSeg,nextSub,stringElements=[],nextIndex=0;nextIndex<literalSegments&&(nextKey=ES.ToString(nextIndex),nextSeg=ES.ToString(raw[nextKey]),_push(stringElements,nextSeg),!(nextIndex+1>=literalSegments));)next=nextIndex+1<arguments.length?arguments[nextIndex+1]:"",nextSub=ES.ToString(next),_push(stringElements,nextSub),nextIndex+=1;return _join(stringElements,"")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&overrideNative(String,"raw",StringShims.raw),defineProperties(String,StringShims);var stringRepeat=function repeat(s,times){if(times<1)return"";if(times%2)return repeat(s,times-1)+s;var half=repeat(s,times/2);return half+half},stringMaxLength=1/0,StringPrototypeShims={repeat:function repeat(times){var thisStr=ES.ToString(ES.RequireObjectCoercible(this)),numTimes=ES.ToInteger(times);if(numTimes<0||numTimes>=stringMaxLength)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return stringRepeat(thisStr,numTimes)},startsWith:function startsWith(searchString){var S=ES.ToString(ES.RequireObjectCoercible(this));if(ES.IsRegExp(searchString))throw new TypeError('Cannot call method "startsWith" with a regex');var position,searchStr=ES.ToString(searchString);arguments.length>1&&(position=arguments[1]);var start=_max(ES.ToInteger(position),0);return _strSlice(S,start,start+searchStr.length)===searchStr},endsWith:function endsWith(searchString){var S=ES.ToString(ES.RequireObjectCoercible(this));if(ES.IsRegExp(searchString))throw new TypeError('Cannot call method "endsWith" with a regex');var endPosition,searchStr=ES.ToString(searchString),len=S.length;arguments.length>1&&(endPosition=arguments[1]);var pos=void 0===endPosition?len:ES.ToInteger(endPosition),end=_min(_max(pos,0),len);return _strSlice(S,end-searchStr.length,end)===searchStr},includes:function includes(searchString){if(ES.IsRegExp(searchString))throw new TypeError('"includes" does not accept a RegExp');var position,searchStr=ES.ToString(searchString);return arguments.length>1&&(position=arguments[1]),-1!==_indexOf(this,searchStr,position)},codePointAt:function codePointAt(pos){var thisStr=ES.ToString(ES.RequireObjectCoercible(this)),position=ES.ToInteger(pos),length=thisStr.length;if(position>=0&&position<length){var first=thisStr.charCodeAt(position);if(first<55296||first>56319||position+1===length)return first;var second=thisStr.charCodeAt(position+1);return second<56320||second>57343?first:1024*(first-55296)+(second-56320)+65536}}};if(String.prototype.includes&&!1!=="a".includes("a",1/0)&&overrideNative(String.prototype,"includes",StringPrototypeShims.includes),String.prototype.startsWith&&String.prototype.endsWith){var startsWithRejectsRegex=throwsError((function(){return"/a/".startsWith(/a/)})),startsWithHandlesInfinity=valueOrFalseIfThrows((function(){return!1==="abc".startsWith("a",1/0)}));startsWithRejectsRegex&&startsWithHandlesInfinity||(overrideNative(String.prototype,"startsWith",StringPrototypeShims.startsWith),overrideNative(String.prototype,"endsWith",StringPrototypeShims.endsWith))}hasSymbols&&(valueOrFalseIfThrows((function(){var re=/a/;return re[Symbol.match]=!1,"/a/".startsWith(re)}))||overrideNative(String.prototype,"startsWith",StringPrototypeShims.startsWith),valueOrFalseIfThrows((function(){var re=/a/;return re[Symbol.match]=!1,"/a/".endsWith(re)}))||overrideNative(String.prototype,"endsWith",StringPrototypeShims.endsWith),valueOrFalseIfThrows((function(){var re=/a/;return re[Symbol.match]=!1,"/a/".includes(re)}))||overrideNative(String.prototype,"includes",StringPrototypeShims.includes)),defineProperties(String.prototype,StringPrototypeShims);var ws=["\t\n\v\f\r ","\u2028","\u2029\ufeff"].join(""),trimRegexp=new RegExp("(^["+ws+"]+)|(["+ws+"]+$)","g"),trimShim=function trim(){return ES.ToString(ES.RequireObjectCoercible(this)).replace(trimRegexp,"")},nonWS=["","",""].join(""),nonWSregex=new RegExp("["+nonWS+"]","g"),isBadHexRegex=/^[-+]0x[0-9a-f]+$/i,hasStringTrimBug=nonWS.trim().length!==nonWS.length;defineProperty(String.prototype,"trim",trimShim,hasStringTrimBug);var iteratorResult=function(x){return{value:x,done:0===arguments.length}},StringIterator=function(s){ES.RequireObjectCoercible(s),this._s=ES.ToString(s),this._i=0};StringIterator.prototype.next=function(){var s=this._s,i=this._i;if(void 0===s||i>=s.length)return this._s=void 0,iteratorResult();var second,len,first=s.charCodeAt(i);return len=first<55296||first>56319||i+1===s.length||(second=s.charCodeAt(i+1))<56320||second>57343?1:2,this._i=i+len,iteratorResult(s.substr(i,len))},addIterator(StringIterator.prototype),addIterator(String.prototype,(function(){return new StringIterator(this)}));var ArrayShims={from:function from(items){var mapFn,mapping,T,length,result,i,C=this;if(arguments.length>1&&(mapFn=arguments[1]),void 0===mapFn)mapping=!1;else{if(!ES.IsCallable(mapFn))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(T=arguments[2]),mapping=!0}if(void 0!==(isArguments(items)||ES.GetMethod(items,$iterator$))){result=ES.IsConstructor(C)?Object(new C):[];var next,nextValue,iterator=ES.GetIterator(items);for(i=0;!1!==(next=ES.IteratorStep(iterator));){nextValue=next.value;try{mapping&&(nextValue=void 0===T?mapFn(nextValue,i):_call(mapFn,T,nextValue,i)),result[i]=nextValue}catch(e){throw ES.IteratorClose(iterator,!0),e}i+=1}length=i}else{var value,arrayLike=ES.ToObject(items);for(length=ES.ToLength(arrayLike.length),result=ES.IsConstructor(C)?Object(new C(length)):new Array(length),i=0;i<length;++i)value=arrayLike[i],mapping&&(value=void 0===T?mapFn(value,i):_call(mapFn,T,value,i)),createDataPropertyOrThrow(result,i,value)}return result.length=length,result},of:function of(){for(var len=arguments.length,C=this,A=isArray(C)||!ES.IsCallable(C)?new Array(len):ES.Construct(C,[len]),k=0;k<len;++k)createDataPropertyOrThrow(A,k,arguments[k]);return A.length=len,A}};defineProperties(Array,ArrayShims),addDefaultSpecies(Array),defineProperties((ArrayIterator=function(array,kind){this.i=0,this.array=array,this.kind=kind}).prototype,{next:function(){var i=this.i,array=this.array;if(!(this instanceof ArrayIterator))throw new TypeError("Not an ArrayIterator");if(void 0!==array&&i<ES.ToLength(array.length)){var retval,kind=this.kind;return"key"===kind?retval=i:"value"===kind?retval=array[i]:"entry"===kind&&(retval=[i,array[i]]),this.i=i+1,iteratorResult(retval)}return this.array=void 0,iteratorResult()}}),addIterator(ArrayIterator.prototype),Array.of===ArrayShims.of||function(){var Foo=function Foo(len){this.length=len};Foo.prototype=[];var fooArr=Array.of.apply(Foo,[1,2]);return fooArr instanceof Foo&&2===fooArr.length}()||overrideNative(Array,"of",ArrayShims.of);var ArrayPrototypeShims={copyWithin:function copyWithin(target,start){var end,o=ES.ToObject(this),len=ES.ToLength(o.length),relativeTarget=ES.ToInteger(target),relativeStart=ES.ToInteger(start),to=relativeTarget<0?_max(len+relativeTarget,0):_min(relativeTarget,len),from=relativeStart<0?_max(len+relativeStart,0):_min(relativeStart,len);arguments.length>2&&(end=arguments[2]);var relativeEnd=void 0===end?len:ES.ToInteger(end),finalItem=relativeEnd<0?_max(len+relativeEnd,0):_min(relativeEnd,len),count=_min(finalItem-from,len-to),direction=1;for(from<to&&to<from+count&&(direction=-1,from+=count-1,to+=count-1);count>0;)from in o?o[to]=o[from]:delete o[to],from+=direction,to+=direction,count-=1;return o},fill:function fill(value){var start,end;arguments.length>1&&(start=arguments[1]),arguments.length>2&&(end=arguments[2]);var O=ES.ToObject(this),len=ES.ToLength(O.length);start=ES.ToInteger(void 0===start?0:start);for(var relativeEnd=(end=ES.ToInteger(void 0===end?len:end))<0?len+end:end,i=start<0?_max(len+start,0):_min(start,len);i<len&&i<relativeEnd;++i)O[i]=value;return O},find:function find(predicate){var list=ES.ToObject(this),length=ES.ToLength(list.length);if(!ES.IsCallable(predicate))throw new TypeError("Array#find: predicate must be a function");for(var value,thisArg=arguments.length>1?arguments[1]:null,i=0;i<length;i++)if(value=list[i],thisArg){if(_call(predicate,thisArg,value,i,list))return value}else if(predicate(value,i,list))return value},findIndex:function findIndex(predicate){var list=ES.ToObject(this),length=ES.ToLength(list.length);if(!ES.IsCallable(predicate))throw new TypeError("Array#findIndex: predicate must be a function");for(var thisArg=arguments.length>1?arguments[1]:null,i=0;i<length;i++)if(thisArg){if(_call(predicate,thisArg,list[i],i,list))return i}else if(predicate(list[i],i,list))return i;return-1},keys:function keys(){return new ArrayIterator(this,"key")},values:function values(){return new ArrayIterator(this,"value")},entries:function entries(){return new ArrayIterator(this,"entry")}};if(Array.prototype.keys&&!ES.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!ES.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[$iterator$]&&(defineProperties(Array.prototype,{values:Array.prototype[$iterator$]}),Type.symbol(Symbol.unscopables)&&(Array.prototype[Symbol.unscopables].values=!0)),functionsHaveNames&&Array.prototype.values&&"values"!==Array.prototype.values.name){var originalArrayPrototypeValues=Array.prototype.values;overrideNative(Array.prototype,"values",(function values(){return ES.Call(originalArrayPrototypeValues,this,arguments)})),defineProperty(Array.prototype,$iterator$,Array.prototype.values,!0)}defineProperties(Array.prototype,ArrayPrototypeShims),1/[!0].indexOf(!0,-0)<0&&defineProperty(Array.prototype,"indexOf",(function indexOf(searchElement){var value=_arrayIndexOfApply(this,arguments);return 0===value&&1/value<0?0:value}),!0),addIterator(Array.prototype,(function(){return this.values()})),Object.getPrototypeOf&&addIterator(Object.getPrototypeOf([].values()));var arr,arrayFromSwallowsNegativeLengths=valueOrFalseIfThrows((function(){return 0===Array.from({length:-1}).length})),arrayFromHandlesIterables=1===(arr=Array.from([0].entries())).length&&isArray(arr[0])&&0===arr[0][0]&&0===arr[0][1];if(arrayFromSwallowsNegativeLengths&&arrayFromHandlesIterables||overrideNative(Array,"from",ArrayShims.from),!valueOrFalseIfThrows((function(){return Array.from([0],void 0)}))){var origArrayFrom=Array.from;overrideNative(Array,"from",(function from(items){return arguments.length>1&&void 0!==arguments[1]?ES.Call(origArrayFrom,this,arguments):_call(origArrayFrom,this,items)}))}var int32sAsOne=-(Math.pow(2,32)-1),toLengthsCorrectly=function(method,reversed){var obj={length:int32sAsOne};return obj[reversed?(obj.length>>>0)-1:0]=!0,valueOrFalseIfThrows((function(){return _call(method,obj,(function(){throw new RangeError("should not reach here")}),[]),!0}))};if(!toLengthsCorrectly(Array.prototype.forEach)){var originalForEach=Array.prototype.forEach;overrideNative(Array.prototype,"forEach",(function forEach(callbackFn){return ES.Call(originalForEach,this.length>=0?this:[],arguments)}))}if(!toLengthsCorrectly(Array.prototype.map)){var originalMap=Array.prototype.map;overrideNative(Array.prototype,"map",(function map(callbackFn){return ES.Call(originalMap,this.length>=0?this:[],arguments)}))}if(!toLengthsCorrectly(Array.prototype.filter)){var originalFilter=Array.prototype.filter;overrideNative(Array.prototype,"filter",(function filter(callbackFn){return ES.Call(originalFilter,this.length>=0?this:[],arguments)}))}if(!toLengthsCorrectly(Array.prototype.some)){var originalSome=Array.prototype.some;overrideNative(Array.prototype,"some",(function some(callbackFn){return ES.Call(originalSome,this.length>=0?this:[],arguments)}))}if(!toLengthsCorrectly(Array.prototype.every)){var originalEvery=Array.prototype.every;overrideNative(Array.prototype,"every",(function every(callbackFn){return ES.Call(originalEvery,this.length>=0?this:[],arguments)}))}if(!toLengthsCorrectly(Array.prototype.reduce)){var originalReduce=Array.prototype.reduce;overrideNative(Array.prototype,"reduce",(function reduce(callbackFn){return ES.Call(originalReduce,this.length>=0?this:[],arguments)}))}if(!toLengthsCorrectly(Array.prototype.reduceRight,!0)){var originalReduceRight=Array.prototype.reduceRight;overrideNative(Array.prototype,"reduceRight",(function reduceRight(callbackFn){return ES.Call(originalReduceRight,this.length>=0?this:[],arguments)}))}var lacksOctalSupport=8!==Number("0o10"),lacksBinarySupport=2!==Number("0b10"),trimsNonWhitespace=_some(nonWS,(function(c){return 0===Number(c+0+c)}));if(lacksOctalSupport||lacksBinarySupport||trimsNonWhitespace){var OrigNumber=Number,binaryRegex=/^0b[01]+$/i,octalRegex=/^0o[0-7]+$/i,isBinary=binaryRegex.test.bind(binaryRegex),isOctal=octalRegex.test.bind(octalRegex),toPrimitive=function(O,hint){var result;if("function"==typeof O.valueOf&&(result=O.valueOf(),Type.primitive(result)))return result;if("function"==typeof O.toString&&(result=O.toString(),Type.primitive(result)))return result;throw new TypeError("No default value")},hasNonWS=nonWSregex.test.bind(nonWSregex),isBadHex=isBadHexRegex.test.bind(isBadHexRegex),NumberShim=function(){var NumberShim=function Number(value){var primValue;"string"==typeof(primValue=arguments.length>0?Type.primitive(value)?value:toPrimitive(value,"number"):0)&&(primValue=ES.Call(trimShim,primValue),isBinary(primValue)?primValue=parseInt(_strSlice(primValue,2),2):isOctal(primValue)?primValue=parseInt(_strSlice(primValue,2),8):(hasNonWS(primValue)||isBadHex(primValue))&&(primValue=NaN));var receiver=this,valueOfSucceeds=valueOrFalseIfThrows((function(){return OrigNumber.prototype.valueOf.call(receiver),!0}));return receiver instanceof NumberShim&&!valueOfSucceeds?new OrigNumber(primValue):OrigNumber(primValue)};return NumberShim}();wrapConstructor(OrigNumber,NumberShim,{}),defineProperties(NumberShim,{NaN:OrigNumber.NaN,MAX_VALUE:OrigNumber.MAX_VALUE,MIN_VALUE:OrigNumber.MIN_VALUE,NEGATIVE_INFINITY:OrigNumber.NEGATIVE_INFINITY,POSITIVE_INFINITY:OrigNumber.POSITIVE_INFINITY}),Number=NumberShim,Value.redefine(globals,"Number",NumberShim)}var maxSafeInteger=Math.pow(2,53)-1;defineProperties(Number,{MAX_SAFE_INTEGER:maxSafeInteger,MIN_SAFE_INTEGER:-maxSafeInteger,EPSILON:2220446049250313e-31,parseInt:globals.parseInt,parseFloat:globals.parseFloat,isFinite:numberIsFinite,isInteger:function isInteger(value){return numberIsFinite(value)&&ES.ToInteger(value)===value},isSafeInteger:function isSafeInteger(value){return Number.isInteger(value)&&_abs(value)<=Number.MAX_SAFE_INTEGER},isNaN:numberIsNaN}),defineProperty(Number,"parseInt",globals.parseInt,Number.parseInt!==globals.parseInt),1===[,1].find((function(){return!0}))&&overrideNative(Array.prototype,"find",ArrayPrototypeShims.find),0!==[,1].findIndex((function(){return!0}))&&overrideNative(Array.prototype,"findIndex",ArrayPrototypeShims.findIndex);var FAKENULL,gpo,spo,isEnumerableOn=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),ensureEnumerable=function ensureEnumerable(obj,prop){supportsDescriptors&&isEnumerableOn(obj,prop)&&Object.defineProperty(obj,prop,{enumerable:!1})},sliceArgs=function sliceArgs(){for(var initial=Number(this),len=arguments.length,desiredArgCount=len-initial,args=new Array(desiredArgCount<0?0:desiredArgCount),i=initial;i<len;++i)args[i-initial]=arguments[i];return args},assignTo=function assignTo(source){return function assignToSource(target,key){return target[key]=source[key],target}},assignReducer=function(target,source){var symbols,sourceKeys=keys(Object(source));return ES.IsCallable(Object.getOwnPropertySymbols)&&(symbols=_filter(Object.getOwnPropertySymbols(Object(source)),isEnumerableOn(source))),_reduce(_concat(sourceKeys,symbols||[]),assignTo(source),target)},ObjectShims={assign:function(target,source){var to=ES.ToObject(target,"Cannot convert undefined or null to object");return _reduce(ES.Call(sliceArgs,1,arguments),assignReducer,to)},is:function is(a,b){return ES.SameValue(a,b)}};if(Object.assign&&Object.preventExtensions&&function(){var thrower=Object.preventExtensions({1:2});try{Object.assign(thrower,"xy")}catch(e){return"y"===thrower[1]}}()&&overrideNative(Object,"assign",ObjectShims.assign),defineProperties(Object,ObjectShims),supportsDescriptors){var ES5ObjectShims={setPrototypeOf:function(Object,magic){var set,checkArgs=function(O,proto){if(!ES.TypeIsObject(O))throw new TypeError("cannot set prototype on a non-object");if(null!==proto&&!ES.TypeIsObject(proto))throw new TypeError("can only set prototype to an object or null"+proto)},setPrototypeOf=function(O,proto){return checkArgs(O,proto),_call(set,O,proto),O};try{set=Object.getOwnPropertyDescriptor(Object.prototype,magic).set,_call(set,{},null)}catch(e){if(Object.prototype!=={}[magic])return;set=function(proto){this[magic]=proto},setPrototypeOf.polyfill=setPrototypeOf(setPrototypeOf({},null),Object.prototype)instanceof Object}return setPrototypeOf}(Object,"__proto__")};defineProperties(Object,ES5ObjectShims)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&(FAKENULL=Object.create(null),gpo=Object.getPrototypeOf,spo=Object.setPrototypeOf,Object.getPrototypeOf=function(o){var result=gpo(o);return result===FAKENULL?null:result},Object.setPrototypeOf=function(o,p){return spo(o,null===p?FAKENULL:p)},Object.setPrototypeOf.polyfill=!1),throwsError((function(){return Object.keys("foo")}))){var originalObjectKeys=Object.keys;overrideNative(Object,"keys",(function keys(value){return originalObjectKeys(ES.ToObject(value))})),keys=Object.keys}if(throwsError((function(){return Object.keys(/a/g)}))){var regexRejectingObjectKeys=Object.keys;overrideNative(Object,"keys",(function keys(value){if(Type.regex(value)){var regexKeys=[];for(var k in value)_hasOwnProperty(value,k)&&_push(regexKeys,k);return regexKeys}return regexRejectingObjectKeys(value)})),keys=Object.keys}if(Object.getOwnPropertyNames&&throwsError((function(){return Object.getOwnPropertyNames("foo")}))){var cachedWindowNames="object"==typeof window?Object.getOwnPropertyNames(window):[],originalObjectGetOwnPropertyNames=Object.getOwnPropertyNames;overrideNative(Object,"getOwnPropertyNames",(function getOwnPropertyNames(value){var val=ES.ToObject(value);if("[object Window]"===_toString(val))try{return originalObjectGetOwnPropertyNames(val)}catch(e){return _concat([],cachedWindowNames)}return originalObjectGetOwnPropertyNames(val)}))}if(Object.getOwnPropertyDescriptor&&throwsError((function(){return Object.getOwnPropertyDescriptor("foo","bar")}))){var originalObjectGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;overrideNative(Object,"getOwnPropertyDescriptor",(function getOwnPropertyDescriptor(value,property){return originalObjectGetOwnPropertyDescriptor(ES.ToObject(value),property)}))}if(Object.seal&&throwsError((function(){return Object.seal("foo")}))){var originalObjectSeal=Object.seal;overrideNative(Object,"seal",(function seal(value){return ES.TypeIsObject(value)?originalObjectSeal(value):value}))}if(Object.isSealed&&throwsError((function(){return Object.isSealed("foo")}))){var originalObjectIsSealed=Object.isSealed;overrideNative(Object,"isSealed",(function isSealed(value){return!ES.TypeIsObject(value)||originalObjectIsSealed(value)}))}if(Object.freeze&&throwsError((function(){return Object.freeze("foo")}))){var originalObjectFreeze=Object.freeze;overrideNative(Object,"freeze",(function freeze(value){return ES.TypeIsObject(value)?originalObjectFreeze(value):value}))}if(Object.isFrozen&&throwsError((function(){return Object.isFrozen("foo")}))){var originalObjectIsFrozen=Object.isFrozen;overrideNative(Object,"isFrozen",(function isFrozen(value){return!ES.TypeIsObject(value)||originalObjectIsFrozen(value)}))}if(Object.preventExtensions&&throwsError((function(){return Object.preventExtensions("foo")}))){var originalObjectPreventExtensions=Object.preventExtensions;overrideNative(Object,"preventExtensions",(function preventExtensions(value){return ES.TypeIsObject(value)?originalObjectPreventExtensions(value):value}))}if(Object.isExtensible&&throwsError((function(){return Object.isExtensible("foo")}))){var originalObjectIsExtensible=Object.isExtensible;overrideNative(Object,"isExtensible",(function isExtensible(value){return!!ES.TypeIsObject(value)&&originalObjectIsExtensible(value)}))}if(Object.getPrototypeOf&&throwsError((function(){return Object.getPrototypeOf("foo")}))){var originalGetProto=Object.getPrototypeOf;overrideNative(Object,"getPrototypeOf",(function getPrototypeOf(value){return originalGetProto(ES.ToObject(value))}))}var desc,hasFlags=supportsDescriptors&&((desc=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags"))&&ES.IsCallable(desc.get));if(supportsDescriptors&&!hasFlags){var regExpFlagsGetter=function flags(){if(!ES.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var result="";return this.global&&(result+="g"),this.ignoreCase&&(result+="i"),this.multiline&&(result+="m"),this.unicode&&(result+="u"),this.sticky&&(result+="y"),result};Value.getter(RegExp.prototype,"flags",regExpFlagsGetter)}var regex,regExpSupportsFlagsWithRegex=supportsDescriptors&&valueOrFalseIfThrows((function(){return"/a/i"===String(new RegExp(/a/g,"i"))})),regExpNeedsToSupportSymbolMatch=hasSymbols&&supportsDescriptors&&((regex=/./)[Symbol.match]=!1,RegExp(regex)===regex),regexToStringIsGeneric=valueOrFalseIfThrows((function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})})),regexToStringSupportsGenericFlags=regexToStringIsGeneric&&valueOrFalseIfThrows((function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})}));if(!regexToStringIsGeneric||!regexToStringSupportsGenericFlags){var origRegExpToString=RegExp.prototype.toString;defineProperty(RegExp.prototype,"toString",(function toString(){var R=ES.RequireObjectCoercible(this);return Type.regex(R)?_call(origRegExpToString,R):"/"+$String(R.source)+"/"+$String(R.flags)}),!0),Value.preserveToString(RegExp.prototype.toString,origRegExpToString)}if(supportsDescriptors&&(!regExpSupportsFlagsWithRegex||regExpNeedsToSupportSymbolMatch)){var flagsGetter=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,sourceDesc=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},legacySourceGetter=function(){return this.source},sourceGetter=ES.IsCallable(sourceDesc.get)?sourceDesc.get:legacySourceGetter,OrigRegExp=RegExp,RegExpShim=function RegExp(pattern,flags){var patternIsRegExp=ES.IsRegExp(pattern);return this instanceof RegExp||!patternIsRegExp||void 0!==flags||pattern.constructor!==RegExp?Type.regex(pattern)?new RegExp(ES.Call(sourceGetter,pattern),void 0===flags?ES.Call(flagsGetter,pattern):flags):(patternIsRegExp&&(pattern.source,void 0===flags&&pattern.flags),new OrigRegExp(pattern,flags)):pattern};wrapConstructor(OrigRegExp,RegExpShim,{$input:!0}),RegExp=RegExpShim,Value.redefine(globals,"RegExp",RegExpShim)}if(supportsDescriptors){var regexGlobals={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};_forEach(keys(regexGlobals),(function(prop){prop in RegExp&&!(regexGlobals[prop]in RegExp)&&Value.getter(RegExp,regexGlobals[prop],(function get(){return RegExp[prop]}))}))}addDefaultSpecies(RegExp);var inverseEpsilon=1/Number.EPSILON,roundTiesToEven=function roundTiesToEven(n){return n+inverseEpsilon-inverseEpsilon},BINARY_32_EPSILON=Math.pow(2,-23),BINARY_32_MAX_VALUE=Math.pow(2,127)*(2-BINARY_32_EPSILON),BINARY_32_MIN_VALUE=Math.pow(2,-126),E=Math.E,LOG2E=Math.LOG2E,LOG10E=Math.LOG10E,numberCLZ=Number.prototype.clz;delete Number.prototype.clz;var MathShims={acosh:function acosh(value){var x=Number(value);if(numberIsNaN(x)||value<1)return NaN;if(1===x)return 0;if(x===1/0)return x;var xInvSquared=1/(x*x);if(x<2)return _log1p(x-1+_sqrt(1-xInvSquared)*x);var halfX=x/2;return _log1p(halfX+_sqrt(1-xInvSquared)*halfX-1)+1/LOG2E},asinh:function asinh(value){var x=Number(value);if(0===x||!globalIsFinite(x))return x;var a=_abs(x),aSquared=a*a,s=_sign(x);return a<1?s*_log1p(a+aSquared/(_sqrt(aSquared+1)+1)):s*(_log1p(a/2+_sqrt(1+1/aSquared)*a/2-1)+1/LOG2E)},atanh:function atanh(value){var x=Number(value);if(0===x)return x;if(-1===x)return-1/0;if(1===x)return 1/0;if(numberIsNaN(x)||x<-1||x>1)return NaN;var a=_abs(x);return _sign(x)*_log1p(2*a/(1-a))/2},cbrt:function cbrt(value){var x=Number(value);if(0===x)return x;var result,negate=x<0;return negate&&(x=-x),result=x===1/0?1/0:(x/((result=_exp(_log(x)/3))*result)+2*result)/3,negate?-result:result},clz32:function clz32(value){var x=Number(value),number=ES.ToUint32(x);return 0===number?32:numberCLZ?ES.Call(numberCLZ,number):31-_floor(_log(number+.5)*LOG2E)},cosh:function cosh(value){var x=Number(value);if(0===x)return 1;if(numberIsNaN(x))return NaN;if(!globalIsFinite(x))return 1/0;var t=_exp(_abs(x)-1);return(t+1/(t*E*E))*(E/2)},expm1:function expm1(value){var x=Number(value);if(x===-1/0)return-1;if(!globalIsFinite(x)||0===x)return x;if(_abs(x)>.5)return _exp(x)-1;for(var t=x,sum=0,n=1;sum+t!==sum;)sum+=t,t*=x/(n+=1);return sum},hypot:function hypot(x,y){for(var result=0,largest=0,i=0;i<arguments.length;++i){var value=_abs(Number(arguments[i]));largest<value?(result*=largest/value*(largest/value),result+=1,largest=value):result+=value>0?value/largest*(value/largest):value}return largest===1/0?1/0:largest*_sqrt(result)},log2:function log2(value){return _log(value)*LOG2E},log10:function log10(value){return _log(value)*LOG10E},log1p:_log1p,sign:_sign,sinh:function sinh(value){var x=Number(value);if(!globalIsFinite(x)||0===x)return x;var a=_abs(x);if(a<1){var u=Math.expm1(a);return _sign(x)*u*(1+1/(u+1))/2}var t=_exp(a-1);return _sign(x)*(t-1/(t*E*E))*(E/2)},tanh:function tanh(value){var x=Number(value);return numberIsNaN(x)||0===x?x:x>=20?1:x<=-20?-1:(Math.expm1(x)-Math.expm1(-x))/(_exp(x)+_exp(-x))},trunc:function trunc(value){var x=Number(value);return x<0?-_floor(-x):_floor(x)},imul:function imul(x,y){var a=ES.ToUint32(x),b=ES.ToUint32(y),al=65535&a,bl=65535&b;return al*bl+((a>>>16&65535)*bl+al*(b>>>16&65535)<<16>>>0)|0},fround:function fround(x){var v=Number(x);if(0===v||v===1/0||v===-1/0||numberIsNaN(v))return v;var sign=_sign(v),abs=_abs(v);if(abs<BINARY_32_MIN_VALUE)return sign*roundTiesToEven(abs/BINARY_32_MIN_VALUE/BINARY_32_EPSILON)*BINARY_32_MIN_VALUE*BINARY_32_EPSILON;var a=(1+BINARY_32_EPSILON/Number.EPSILON)*abs,result=a-(a-abs);return result>BINARY_32_MAX_VALUE||numberIsNaN(result)?sign*(1/0):sign*result}},withinULPDistance=function withinULPDistance(result,expected,distance){return _abs(1-result/expected)/Number.EPSILON<(distance||8)};defineProperties(Math,MathShims),defineProperty(Math,"sinh",MathShims.sinh,Math.sinh(710)===1/0),defineProperty(Math,"cosh",MathShims.cosh,Math.cosh(710)===1/0),defineProperty(Math,"log1p",MathShims.log1p,-1e-17!==Math.log1p(-1e-17)),defineProperty(Math,"asinh",MathShims.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),defineProperty(Math,"asinh",MathShims.asinh,Math.asinh(1e300)===1/0),defineProperty(Math,"atanh",MathShims.atanh,0===Math.atanh(1e-300)),defineProperty(Math,"tanh",MathShims.tanh,-2e-17!==Math.tanh(-2e-17)),defineProperty(Math,"acosh",MathShims.acosh,Math.acosh(Number.MAX_VALUE)===1/0),defineProperty(Math,"acosh",MathShims.acosh,!withinULPDistance(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON))),defineProperty(Math,"cbrt",MathShims.cbrt,!withinULPDistance(Math.cbrt(1e-300),1e-100)),defineProperty(Math,"sinh",MathShims.sinh,-2e-17!==Math.sinh(-2e-17));var expm1OfTen=Math.expm1(10);defineProperty(Math,"expm1",MathShims.expm1,expm1OfTen>22025.465794806718||expm1OfTen<22025.465794806718),defineProperty(Math,"hypot",MathShims.hypot,Math.hypot(1/0,NaN)!==1/0);var origMathRound=Math.round,roundHandlesBoundaryConditions=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(Number.EPSILON/3.99-.5),roundDoesNotIncreaseIntegers=[inverseEpsilon+1,2*inverseEpsilon-1].every((function(num){return Math.round(num)===num}));defineProperty(Math,"round",(function round(x){var floor=_floor(x);return x-floor<.5?floor:-1===floor?-0:floor+1}),!roundHandlesBoundaryConditions||!roundDoesNotIncreaseIntegers),Value.preserveToString(Math.round,origMathRound);var origImul=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=MathShims.imul,Value.preserveToString(Math.imul,origImul)),2!==Math.imul.length&&overrideNative(Math,"imul",(function imul(x,y){return ES.Call(origImul,Math,arguments)}));var count,thenable,PromiseShim=function(){var setTimeout=globals.setTimeout;if("function"==typeof setTimeout||"object"==typeof setTimeout){ES.IsPromise=function(promise){return!!ES.TypeIsObject(promise)&&void 0!==promise._promise};var makeZeroTimeout,PromiseCapability=function(C){if(!ES.IsConstructor(C))throw new TypeError("Bad promise constructor");var capability=this,resolver=function(resolve,reject){if(void 0!==capability.resolve||void 0!==capability.reject)throw new TypeError("Bad Promise implementation!");capability.resolve=resolve,capability.reject=reject};if(capability.resolve=void 0,capability.reject=void 0,capability.promise=new C(resolver),!ES.IsCallable(capability.resolve)||!ES.IsCallable(capability.reject))throw new TypeError("Bad promise constructor")};"undefined"!=typeof window&&ES.IsCallable(window.postMessage)&&(makeZeroTimeout=function(){var timeouts=[],messageName="zero-timeout-message",setZeroTimeout=function(fn){_push(timeouts,fn),window.postMessage(messageName,"*")},handleMessage=function(event){if(event.source===window&&event.data===messageName){if(event.stopPropagation(),0===timeouts.length)return;_shift(timeouts)()}};return window.addEventListener("message",handleMessage,!0),setZeroTimeout});var Promise$prototype,Promise$prototype$then,makePromiseAsap=function(){var P=globals.Promise,pr=P&&P.resolve&&P.resolve();return pr&&function(task){return pr.then(task)}},enqueue=ES.IsCallable(globals.setImmediate)?globals.setImmediate:"object"==typeof process&&process.nextTick?process.nextTick:makePromiseAsap()||(ES.IsCallable(makeZeroTimeout)?makeZeroTimeout():function(task){setTimeout(task,0)}),PROMISE_IDENTITY=function(x){return x},PROMISE_THROWER=function(e){throw e},PROMISE_PENDING=0,PROMISE_FULFILLED=1,PROMISE_REJECTED=2,PROMISE_FULFILL_OFFSET=0,PROMISE_REJECT_OFFSET=1,PROMISE_CAPABILITY_OFFSET=2,PROMISE_FAKE_CAPABILITY={},enqueuePromiseReactionJob=function(handler,capability,argument){enqueue((function(){promiseReactionJob(handler,capability,argument)}))},promiseReactionJob=function(handler,promiseCapability,argument){var handlerResult,f;if(promiseCapability===PROMISE_FAKE_CAPABILITY)return handler(argument);try{handlerResult=handler(argument),f=promiseCapability.resolve}catch(e){handlerResult=e,f=promiseCapability.reject}f(handlerResult)},fulfillPromise=function(promise,value){var _promise=promise._promise,length=_promise.reactionLength;if(length>0&&(enqueuePromiseReactionJob(_promise.fulfillReactionHandler0,_promise.reactionCapability0,value),_promise.fulfillReactionHandler0=void 0,_promise.rejectReactions0=void 0,_promise.reactionCapability0=void 0,length>1))for(var i=1,idx=0;i<length;i++,idx+=3)enqueuePromiseReactionJob(_promise[idx+PROMISE_FULFILL_OFFSET],_promise[idx+PROMISE_CAPABILITY_OFFSET],value),promise[idx+PROMISE_FULFILL_OFFSET]=void 0,promise[idx+PROMISE_REJECT_OFFSET]=void 0,promise[idx+PROMISE_CAPABILITY_OFFSET]=void 0;_promise.result=value,_promise.state=PROMISE_FULFILLED,_promise.reactionLength=0},rejectPromise=function(promise,reason){var _promise=promise._promise,length=_promise.reactionLength;if(length>0&&(enqueuePromiseReactionJob(_promise.rejectReactionHandler0,_promise.reactionCapability0,reason),_promise.fulfillReactionHandler0=void 0,_promise.rejectReactions0=void 0,_promise.reactionCapability0=void 0,length>1))for(var i=1,idx=0;i<length;i++,idx+=3)enqueuePromiseReactionJob(_promise[idx+PROMISE_REJECT_OFFSET],_promise[idx+PROMISE_CAPABILITY_OFFSET],reason),promise[idx+PROMISE_FULFILL_OFFSET]=void 0,promise[idx+PROMISE_REJECT_OFFSET]=void 0,promise[idx+PROMISE_CAPABILITY_OFFSET]=void 0;_promise.result=reason,_promise.state=PROMISE_REJECTED,_promise.reactionLength=0},createResolvingFunctions=function(promise){var alreadyResolved=!1;return{resolve:function(resolution){var then;if(!alreadyResolved){if(alreadyResolved=!0,resolution===promise)return rejectPromise(promise,new TypeError("Self resolution"));if(!ES.TypeIsObject(resolution))return fulfillPromise(promise,resolution);try{then=resolution.then}catch(e){return rejectPromise(promise,e)}if(!ES.IsCallable(then))return fulfillPromise(promise,resolution);enqueue((function(){promiseResolveThenableJob(promise,resolution,then)}))}},reject:function(reason){if(!alreadyResolved)return alreadyResolved=!0,rejectPromise(promise,reason)}}},optimizedThen=function(then,thenable,resolve,reject){then===Promise$prototype$then?_call(then,thenable,resolve,reject,PROMISE_FAKE_CAPABILITY):_call(then,thenable,resolve,reject)},promiseResolveThenableJob=function(promise,thenable,then){var resolvingFunctions=createResolvingFunctions(promise),resolve=resolvingFunctions.resolve,reject=resolvingFunctions.reject;try{optimizedThen(then,thenable,resolve,reject)}catch(e){reject(e)}},Promise=function(){var PromiseShim=function Promise(resolver){if(!(this instanceof PromiseShim))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!ES.IsCallable(resolver))throw new TypeError("not a valid resolver");var promise=emulateES6construct(this,PromiseShim,Promise$prototype,{_promise:{result:void 0,state:PROMISE_PENDING,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),resolvingFunctions=createResolvingFunctions(promise),reject=resolvingFunctions.reject;try{resolver(resolvingFunctions.resolve,reject)}catch(e){reject(e)}return promise};return PromiseShim}();Promise$prototype=Promise.prototype;var _promiseAllResolver=function(index,values,capability,remaining){var alreadyCalled=!1;return function(x){alreadyCalled||(alreadyCalled=!0,values[index]=x,0==--remaining.count&&(0,capability.resolve)(values))}},performPromiseAll=function(iteratorRecord,C,resultCapability){for(var next,nextValue,it=iteratorRecord.iterator,values=[],remaining={count:1},index=0;;){try{if(!1===(next=ES.IteratorStep(it))){iteratorRecord.done=!0;break}nextValue=next.value}catch(e){throw iteratorRecord.done=!0,e}values[index]=void 0;var nextPromise=C.resolve(nextValue),resolveElement=_promiseAllResolver(index,values,resultCapability,remaining);remaining.count+=1,optimizedThen(nextPromise.then,nextPromise,resolveElement,resultCapability.reject),index+=1}return 0==--remaining.count&&(0,resultCapability.resolve)(values),resultCapability.promise},performPromiseRace=function(iteratorRecord,C,resultCapability){for(var next,nextValue,nextPromise,it=iteratorRecord.iterator;;){try{if(!1===(next=ES.IteratorStep(it))){iteratorRecord.done=!0;break}nextValue=next.value}catch(e){throw iteratorRecord.done=!0,e}nextPromise=C.resolve(nextValue),optimizedThen(nextPromise.then,nextPromise,resultCapability.resolve,resultCapability.reject)}return resultCapability.promise};return defineProperties(Promise,{all:function all(iterable){var C=this;if(!ES.TypeIsObject(C))throw new TypeError("Promise is not object");var iterator,iteratorRecord,capability=new PromiseCapability(C);try{return iterator=ES.GetIterator(iterable),performPromiseAll(iteratorRecord={iterator:iterator,done:!1},C,capability)}catch(e){var exception=e;if(iteratorRecord&&!iteratorRecord.done)try{ES.IteratorClose(iterator,!0)}catch(ee){exception=ee}return(0,capability.reject)(exception),capability.promise}},race:function race(iterable){var C=this;if(!ES.TypeIsObject(C))throw new TypeError("Promise is not object");var iterator,iteratorRecord,capability=new PromiseCapability(C);try{return iterator=ES.GetIterator(iterable),performPromiseRace(iteratorRecord={iterator:iterator,done:!1},C,capability)}catch(e){var exception=e;if(iteratorRecord&&!iteratorRecord.done)try{ES.IteratorClose(iterator,!0)}catch(ee){exception=ee}return(0,capability.reject)(exception),capability.promise}},reject:function reject(reason){var C=this;if(!ES.TypeIsObject(C))throw new TypeError("Bad promise constructor");var capability=new PromiseCapability(C);return(0,capability.reject)(reason),capability.promise},resolve:function resolve(v){var C=this;if(!ES.TypeIsObject(C))throw new TypeError("Bad promise constructor");if(ES.IsPromise(v)&&v.constructor===C)return v;var capability=new PromiseCapability(C);return(0,capability.resolve)(v),capability.promise}}),defineProperties(Promise$prototype,{catch:function(onRejected){return this.then(null,onRejected)},then:function then(onFulfilled,onRejected){var promise=this;if(!ES.IsPromise(promise))throw new TypeError("not a promise");var resultCapability,C=ES.SpeciesConstructor(promise,Promise);resultCapability=arguments.length>2&&arguments[2]===PROMISE_FAKE_CAPABILITY&&C===Promise?PROMISE_FAKE_CAPABILITY:new PromiseCapability(C);var value,fulfillReactionHandler=ES.IsCallable(onFulfilled)?onFulfilled:PROMISE_IDENTITY,rejectReactionHandler=ES.IsCallable(onRejected)?onRejected:PROMISE_THROWER,_promise=promise._promise;if(_promise.state===PROMISE_PENDING){if(0===_promise.reactionLength)_promise.fulfillReactionHandler0=fulfillReactionHandler,_promise.rejectReactionHandler0=rejectReactionHandler,_promise.reactionCapability0=resultCapability;else{var idx=3*(_promise.reactionLength-1);_promise[idx+PROMISE_FULFILL_OFFSET]=fulfillReactionHandler,_promise[idx+PROMISE_REJECT_OFFSET]=rejectReactionHandler,_promise[idx+PROMISE_CAPABILITY_OFFSET]=resultCapability}_promise.reactionLength+=1}else if(_promise.state===PROMISE_FULFILLED)value=_promise.result,enqueuePromiseReactionJob(fulfillReactionHandler,resultCapability,value);else{if(_promise.state!==PROMISE_REJECTED)throw new TypeError("unexpected Promise state");value=_promise.result,enqueuePromiseReactionJob(rejectReactionHandler,resultCapability,value)}return resultCapability.promise}}),PROMISE_FAKE_CAPABILITY=new PromiseCapability(Promise),Promise$prototype$then=Promise$prototype.then,Promise}}();if(globals.Promise&&(delete globals.Promise.accept,delete globals.Promise.defer,delete globals.Promise.prototype.chain),"function"==typeof PromiseShim){defineProperties(globals,{Promise:PromiseShim});var promiseSupportsSubclassing=supportsSubclassing(globals.Promise,(function(S){return S.resolve(42).then((function(){}))instanceof S})),promiseIgnoresNonFunctionThenCallbacks=!throwsError((function(){return globals.Promise.reject(42).then(null,5).then(null,noop)})),promiseRequiresObjectContext=throwsError((function(){return globals.Promise.call(3,noop)})),promiseResolveBroken=function(Promise){var p=Promise.resolve(5);p.constructor={};var p2=Promise.resolve(p);try{p2.then(null,noop).then(null,noop)}catch(e){return!0}return p===p2}(globals.Promise),getsThenSynchronously=supportsDescriptors&&(count=0,thenable=Object.defineProperty({},"then",{get:function(){count+=1}}),Promise.resolve(thenable),1===count),BadResolverPromise=function BadResolverPromise(executor){var p=new Promise(executor);executor(3,(function(){})),this.then=p.then,this.constructor=BadResolverPromise};BadResolverPromise.prototype=Promise.prototype,BadResolverPromise.all=Promise.all;var hasBadResolverPromise=valueOrFalseIfThrows((function(){return!!BadResolverPromise.all([1,2])}));if(promiseSupportsSubclassing&&promiseIgnoresNonFunctionThenCallbacks&&promiseRequiresObjectContext&&!promiseResolveBroken&&getsThenSynchronously&&!hasBadResolverPromise||(Promise=PromiseShim,overrideNative(globals,"Promise",PromiseShim)),1!==Promise.all.length){var origAll=Promise.all;overrideNative(Promise,"all",(function all(iterable){return ES.Call(origAll,this,arguments)}))}if(1!==Promise.race.length){var origRace=Promise.race;overrideNative(Promise,"race",(function race(iterable){return ES.Call(origRace,this,arguments)}))}if(1!==Promise.resolve.length){var origResolve=Promise.resolve;overrideNative(Promise,"resolve",(function resolve(x){return ES.Call(origResolve,this,arguments)}))}if(1!==Promise.reject.length){var origReject=Promise.reject;overrideNative(Promise,"reject",(function reject(r){return ES.Call(origReject,this,arguments)}))}ensureEnumerable(Promise,"all"),ensureEnumerable(Promise,"race"),ensureEnumerable(Promise,"resolve"),ensureEnumerable(Promise,"reject"),addDefaultSpecies(Promise)}var s,m,testOrder=function(a){var b=keys(_reduce(a,(function(o,k){return o[k]=!0,o}),{}));return a.join(":")===b.join(":")},preservesInsertionOrder=testOrder(["z","a","bb"]),preservesNumericInsertionOrder=testOrder(["z",1,"a","3",2]);if(supportsDescriptors){var fastkey=function fastkey(key,skipInsertionOrderCheck){return skipInsertionOrderCheck||preservesInsertionOrder?isNullOrUndefined(key)?"^"+ES.ToString(key):"string"==typeof key?"$"+key:"number"==typeof key?preservesNumericInsertionOrder?key:"n"+key:"boolean"==typeof key?"b"+key:null:null},emptyObject=function emptyObject(){return Object.create?Object.create(null):{}},addIterableToMap=function addIterableToMap(MapConstructor,map,iterable){if(isArray(iterable)||Type.string(iterable))_forEach(iterable,(function(entry){if(!ES.TypeIsObject(entry))throw new TypeError("Iterator value "+entry+" is not an entry object");map.set(entry[0],entry[1])}));else if(iterable instanceof MapConstructor)_call(MapConstructor.prototype.forEach,iterable,(function(value,key){map.set(key,value)}));else{var iter,adder;if(!isNullOrUndefined(iterable)){if(adder=map.set,!ES.IsCallable(adder))throw new TypeError("bad map");iter=ES.GetIterator(iterable)}if(void 0!==iter)for(;;){var next=ES.IteratorStep(iter);if(!1===next)break;var nextItem=next.value;try{if(!ES.TypeIsObject(nextItem))throw new TypeError("Iterator value "+nextItem+" is not an entry object");_call(adder,map,nextItem[0],nextItem[1])}catch(e){throw ES.IteratorClose(iter,!0),e}}}},addIterableToSet=function addIterableToSet(SetConstructor,set,iterable){if(isArray(iterable)||Type.string(iterable))_forEach(iterable,(function(value){set.add(value)}));else if(iterable instanceof SetConstructor)_call(SetConstructor.prototype.forEach,iterable,(function(value){set.add(value)}));else{var iter,adder;if(!isNullOrUndefined(iterable)){if(adder=set.add,!ES.IsCallable(adder))throw new TypeError("bad set");iter=ES.GetIterator(iterable)}if(void 0!==iter)for(;;){var next=ES.IteratorStep(iter);if(!1===next)break;var nextValue=next.value;try{_call(adder,set,nextValue)}catch(e){throw ES.IteratorClose(iter,!0),e}}}},collectionShims={Map:function(){var empty={},MapEntry=function MapEntry(key,value){this.key=key,this.value=value,this.next=null,this.prev=null};MapEntry.prototype.isRemoved=function isRemoved(){return this.key===empty};var Map$prototype,isMap=function isMap(map){return!!map._es6map},requireMapSlot=function requireMapSlot(map,method){if(!ES.TypeIsObject(map)||!isMap(map))throw new TypeError("Method Map.prototype."+method+" called on incompatible receiver "+ES.ToString(map))},MapIterator=function MapIterator(map,kind){requireMapSlot(map,"[[MapIterator]]"),this.head=map._head,this.i=this.head,this.kind=kind};MapIterator.prototype={isMapIterator:!0,next:function next(){if(!this.isMapIterator)throw new TypeError("Not a MapIterator");var result,i=this.i,kind=this.kind,head=this.head;if(void 0===this.i)return iteratorResult();for(;i.isRemoved()&&i!==head;)i=i.prev;for(;i.next!==head;)if(!(i=i.next).isRemoved())return result="key"===kind?i.key:"value"===kind?i.value:[i.key,i.value],this.i=i,iteratorResult(result);return this.i=void 0,iteratorResult()}},addIterator(MapIterator.prototype);var MapShim=function Map(){if(!(this instanceof Map))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var map=emulateES6construct(this,Map,Map$prototype,{_es6map:!0,_head:null,_map:OrigMap?new OrigMap:null,_size:0,_storage:emptyObject()}),head=new MapEntry(null,null);return head.next=head.prev=head,map._head=head,arguments.length>0&&addIterableToMap(Map,map,arguments[0]),map};return Map$prototype=MapShim.prototype,Value.getter(Map$prototype,"size",(function(){if(void 0===this._size)throw new TypeError("size method called on incompatible Map");return this._size})),defineProperties(Map$prototype,{get:function get(key){var entry;requireMapSlot(this,"get");var fkey=fastkey(key,!0);if(null!==fkey)return(entry=this._storage[fkey])?entry.value:void 0;if(this._map)return(entry=origMapGet.call(this._map,key))?entry.value:void 0;for(var head=this._head,i=head;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return i.value},has:function has(key){requireMapSlot(this,"has");var fkey=fastkey(key,!0);if(null!==fkey)return void 0!==this._storage[fkey];if(this._map)return origMapHas.call(this._map,key);for(var head=this._head,i=head;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return!0;return!1},set:function set(key,value){requireMapSlot(this,"set");var entry,head=this._head,i=head,fkey=fastkey(key,!0);if(null!==fkey){if(void 0!==this._storage[fkey])return this._storage[fkey].value=value,this;entry=this._storage[fkey]=new MapEntry(key,value),i=head.prev}else this._map&&(origMapHas.call(this._map,key)?origMapGet.call(this._map,key).value=value:(entry=new MapEntry(key,value),origMapSet.call(this._map,key,entry),i=head.prev));for(;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return i.value=value,this;return entry=entry||new MapEntry(key,value),ES.SameValue(-0,key)&&(entry.key=0),entry.next=this._head,entry.prev=this._head.prev,entry.prev.next=entry,entry.next.prev=entry,this._size+=1,this},delete:function(key){requireMapSlot(this,"delete");var head=this._head,i=head,fkey=fastkey(key,!0);if(null!==fkey){if(void 0===this._storage[fkey])return!1;i=this._storage[fkey].prev,delete this._storage[fkey]}else if(this._map){if(!origMapHas.call(this._map,key))return!1;i=origMapGet.call(this._map,key).prev,origMapDelete.call(this._map,key)}for(;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return i.key=empty,i.value=empty,i.prev.next=i.next,i.next.prev=i.prev,this._size-=1,!0;return!1},clear:function clear(){requireMapSlot(this,"clear"),this._map=OrigMap?new OrigMap:null,this._size=0,this._storage=emptyObject();for(var head=this._head,i=head,p=i.next;(i=p)!==head;)i.key=empty,i.value=empty,p=i.next,i.next=i.prev=head;head.next=head.prev=head},keys:function keys(){return requireMapSlot(this,"keys"),new MapIterator(this,"key")},values:function values(){return requireMapSlot(this,"values"),new MapIterator(this,"value")},entries:function entries(){return requireMapSlot(this,"entries"),new MapIterator(this,"key+value")},forEach:function forEach(callback){requireMapSlot(this,"forEach");for(var context=arguments.length>1?arguments[1]:null,it=this.entries(),entry=it.next();!entry.done;entry=it.next())context?_call(callback,context,entry.value[1],entry.value[0],this):callback(entry.value[1],entry.value[0],this)}}),addIterator(Map$prototype,Map$prototype.entries),MapShim}(),Set:function(){var Set$prototype,isSet=function isSet(set){return set._es6set&&void 0!==set._storage},requireSetSlot=function requireSetSlot(set,method){if(!ES.TypeIsObject(set)||!isSet(set))throw new TypeError("Set.prototype."+method+" called on incompatible receiver "+ES.ToString(set))},SetShim=function Set(){if(!(this instanceof Set))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var set=emulateES6construct(this,Set,Set$prototype,{_es6set:!0,"[[SetData]]":null,_storage:emptyObject()});if(!set._es6set)throw new TypeError("bad set");return arguments.length>0&&addIterableToSet(Set,set,arguments[0]),set};Set$prototype=SetShim.prototype;var decodeKey=function(key){var k=key;if("^null"===k)return null;if("^undefined"!==k){var first=k.charAt(0);return"$"===first?_strSlice(k,1):"n"===first?+_strSlice(k,1):"b"===first?"btrue"===k:+k}},ensureMap=function ensureMap(set){if(!set["[[SetData]]"]){var m=new collectionShims.Map;set["[[SetData]]"]=m,_forEach(keys(set._storage),(function(key){var k=decodeKey(key);m.set(k,k)})),set["[[SetData]]"]=m}set._storage=null};Value.getter(SetShim.prototype,"size",(function(){return requireSetSlot(this,"size"),this._storage?keys(this._storage).length:(ensureMap(this),this["[[SetData]]"].size)})),defineProperties(SetShim.prototype,{has:function has(key){var fkey;return requireSetSlot(this,"has"),this._storage&&null!==(fkey=fastkey(key))?!!this._storage[fkey]:(ensureMap(this),this["[[SetData]]"].has(key))},add:function add(key){var fkey;return requireSetSlot(this,"add"),this._storage&&null!==(fkey=fastkey(key))?(this._storage[fkey]=!0,this):(ensureMap(this),this["[[SetData]]"].set(key,key),this)},delete:function(key){var fkey;if(requireSetSlot(this,"delete"),this._storage&&null!==(fkey=fastkey(key))){var hasFKey=_hasOwnProperty(this._storage,fkey);return delete this._storage[fkey]&&hasFKey}return ensureMap(this),this["[[SetData]]"].delete(key)},clear:function clear(){requireSetSlot(this,"clear"),this._storage&&(this._storage=emptyObject()),this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function values(){return requireSetSlot(this,"values"),ensureMap(this),new SetIterator(this["[[SetData]]"].values())},entries:function entries(){return requireSetSlot(this,"entries"),ensureMap(this),new SetIterator(this["[[SetData]]"].entries())},forEach:function forEach(callback){requireSetSlot(this,"forEach");var context=arguments.length>1?arguments[1]:null,entireSet=this;ensureMap(entireSet),this["[[SetData]]"].forEach((function(value,key){context?_call(callback,context,key,key,entireSet):callback(key,key,entireSet)}))}}),defineProperty(SetShim.prototype,"keys",SetShim.prototype.values,!0),addIterator(SetShim.prototype,SetShim.prototype.values);var SetIterator=function SetIterator(it){this.it=it};return SetIterator.prototype={isSetIterator:!0,next:function next(){if(!this.isSetIterator)throw new TypeError("Not a SetIterator");return this.it.next()}},addIterator(SetIterator.prototype),SetShim}()};if(globals.Set&&!Set.prototype.delete&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys)&&(globals.Set=collectionShims.Set),globals.Map||globals.Set){valueOrFalseIfThrows((function(){return 2===new Map([[1,2]]).get(1)}))||(globals.Map=function Map(){if(!(this instanceof Map))throw new TypeError('Constructor Map requires "new"');var m=new OrigMap;return arguments.length>0&&addIterableToMap(Map,m,arguments[0]),delete m.constructor,Object.setPrototypeOf(m,globals.Map.prototype),m},globals.Map.prototype=create(OrigMap.prototype),defineProperty(globals.Map.prototype,"constructor",globals.Map,!0),Value.preserveToString(globals.Map,OrigMap));var testMap=new Map,mapUsesSameValueZero=((m=new Map([[1,0],[2,0],[3,0],[4,0]])).set(-0,m),m.get(0)===m&&m.get(-0)===m&&m.has(0)&&m.has(-0)),mapSupportsChaining=testMap.set(1,2)===testMap;mapUsesSameValueZero&&mapSupportsChaining||overrideNative(Map.prototype,"set",(function set(k,v){return _call(origMapSet,this,0===k?0:k,v),this})),mapUsesSameValueZero||(defineProperties(Map.prototype,{get:function get(k){return _call(origMapGet,this,0===k?0:k)},has:function has(k){return _call(origMapHas,this,0===k?0:k)}},!0),Value.preserveToString(Map.prototype.get,origMapGet),Value.preserveToString(Map.prototype.has,origMapHas));var testSet=new Set,setUsesSameValueZero=Set.prototype.delete&&Set.prototype.add&&Set.prototype.has&&((s=testSet).delete(0),s.add(-0),!s.has(0)),setSupportsChaining=testSet.add(1)===testSet;if(!setUsesSameValueZero||!setSupportsChaining){var origSetAdd=Set.prototype.add;Set.prototype.add=function add(v){return _call(origSetAdd,this,0===v?0:v),this},Value.preserveToString(Set.prototype.add,origSetAdd)}if(!setUsesSameValueZero){var origSetHas=Set.prototype.has;Set.prototype.has=function has(v){return _call(origSetHas,this,0===v?0:v)},Value.preserveToString(Set.prototype.has,origSetHas);var origSetDel=Set.prototype.delete;Set.prototype.delete=function SetDelete(v){return _call(origSetDel,this,0===v?0:v)},Value.preserveToString(Set.prototype.delete,origSetDel)}var mapSupportsSubclassing=supportsSubclassing(globals.Map,(function(M){var m=new M([]);return m.set(42,42),m instanceof M})),mapFailsToSupportSubclassing=Object.setPrototypeOf&&!mapSupportsSubclassing,mapRequiresNew=function(){try{return!(globals.Map()instanceof globals.Map)}catch(e){return e instanceof TypeError}}();0===globals.Map.length&&!mapFailsToSupportSubclassing&&mapRequiresNew||(globals.Map=function Map(){if(!(this instanceof Map))throw new TypeError('Constructor Map requires "new"');var m=new OrigMap;return arguments.length>0&&addIterableToMap(Map,m,arguments[0]),delete m.constructor,Object.setPrototypeOf(m,Map.prototype),m},globals.Map.prototype=OrigMap.prototype,defineProperty(globals.Map.prototype,"constructor",globals.Map,!0),Value.preserveToString(globals.Map,OrigMap));var setSupportsSubclassing=supportsSubclassing(globals.Set,(function(S){var s=new S([]);return s.add(42,42),s instanceof S})),setFailsToSupportSubclassing=Object.setPrototypeOf&&!setSupportsSubclassing,setRequiresNew=function(){try{return!(globals.Set()instanceof globals.Set)}catch(e){return e instanceof TypeError}}();if(0!==globals.Set.length||setFailsToSupportSubclassing||!setRequiresNew){var OrigSet=globals.Set;globals.Set=function Set(){if(!(this instanceof Set))throw new TypeError('Constructor Set requires "new"');var s=new OrigSet;return arguments.length>0&&addIterableToSet(Set,s,arguments[0]),delete s.constructor,Object.setPrototypeOf(s,Set.prototype),s},globals.Set.prototype=OrigSet.prototype,defineProperty(globals.Set.prototype,"constructor",globals.Set,!0),Value.preserveToString(globals.Set,OrigSet)}var newMap=new globals.Map,mapIterationThrowsStopIterator=!valueOrFalseIfThrows((function(){return newMap.keys().next().done}));if(("function"!=typeof globals.Map.prototype.clear||0!==(new globals.Set).size||0!==newMap.size||"function"!=typeof globals.Map.prototype.keys||"function"!=typeof globals.Set.prototype.keys||"function"!=typeof globals.Map.prototype.forEach||"function"!=typeof globals.Set.prototype.forEach||isCallableWithoutNew(globals.Map)||isCallableWithoutNew(globals.Set)||"function"!=typeof newMap.keys().next||mapIterationThrowsStopIterator||!mapSupportsSubclassing)&&defineProperties(globals,{Map:collectionShims.Map,Set:collectionShims.Set},!0),globals.Set.prototype.keys!==globals.Set.prototype.values&&defineProperty(globals.Set.prototype,"keys",globals.Set.prototype.values,!0),addIterator(Object.getPrototypeOf((new globals.Map).keys())),addIterator(Object.getPrototypeOf((new globals.Set).keys())),functionsHaveNames&&"has"!==globals.Set.prototype.has.name){var anonymousSetHas=globals.Set.prototype.has;overrideNative(globals.Set.prototype,"has",(function has(key){return _call(anonymousSetHas,this,key)}))}}defineProperties(globals,collectionShims),addDefaultSpecies(globals.Map),addDefaultSpecies(globals.Set)}var throwUnlessTargetIsObject=function throwUnlessTargetIsObject(target){if(!ES.TypeIsObject(target))throw new TypeError("target must be an object")},ReflectShims={apply:function apply(){return ES.Call(ES.Call,null,arguments)},construct:function construct(constructor,args){if(!ES.IsConstructor(constructor))throw new TypeError("First argument must be a constructor.");var newTarget=arguments.length>2?arguments[2]:constructor;if(!ES.IsConstructor(newTarget))throw new TypeError("new.target must be a constructor.");return ES.Construct(constructor,args,newTarget,"internal")},deleteProperty:function deleteProperty(target,key){if(throwUnlessTargetIsObject(target),supportsDescriptors){var desc=Object.getOwnPropertyDescriptor(target,key);if(desc&&!desc.configurable)return!1}return delete target[key]},has:function has(target,key){return throwUnlessTargetIsObject(target),key in target}};Object.getOwnPropertyNames&&Object.assign(ReflectShims,{ownKeys:function ownKeys(target){throwUnlessTargetIsObject(target);var keys=Object.getOwnPropertyNames(target);return ES.IsCallable(Object.getOwnPropertySymbols)&&_pushApply(keys,Object.getOwnPropertySymbols(target)),keys}});var callAndCatchException=function ConvertExceptionToBoolean(func){return!throwsError(func)};if(Object.preventExtensions&&Object.assign(ReflectShims,{isExtensible:function isExtensible(target){return throwUnlessTargetIsObject(target),Object.isExtensible(target)},preventExtensions:function preventExtensions(target){return throwUnlessTargetIsObject(target),callAndCatchException((function(){return Object.preventExtensions(target)}))}}),supportsDescriptors){var internalGet=function get(target,key,receiver){var desc=Object.getOwnPropertyDescriptor(target,key);if(!desc){var parent=Object.getPrototypeOf(target);if(null===parent)return;return internalGet(parent,key,receiver)}return"value"in desc?desc.value:desc.get?ES.Call(desc.get,receiver):void 0},internalSet=function set(target,key,value,receiver){var desc=Object.getOwnPropertyDescriptor(target,key);if(!desc){var parent=Object.getPrototypeOf(target);if(null!==parent)return internalSet(parent,key,value,receiver);desc={value:void 0,writable:!0,enumerable:!0,configurable:!0}}return"value"in desc?!!desc.writable&&!!ES.TypeIsObject(receiver)&&(Object.getOwnPropertyDescriptor(receiver,key)?Reflect.defineProperty(receiver,key,{value:value}):Reflect.defineProperty(receiver,key,{value:value,writable:!0,enumerable:!0,configurable:!0})):!!desc.set&&(_call(desc.set,receiver,value),!0)};Object.assign(ReflectShims,{defineProperty:function defineProperty(target,propertyKey,attributes){return throwUnlessTargetIsObject(target),callAndCatchException((function(){return Object.defineProperty(target,propertyKey,attributes)}))},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(target,propertyKey){return throwUnlessTargetIsObject(target),Object.getOwnPropertyDescriptor(target,propertyKey)},get:function get(target,key){return throwUnlessTargetIsObject(target),internalGet(target,key,arguments.length>2?arguments[2]:target)},set:function set(target,key,value){return throwUnlessTargetIsObject(target),internalSet(target,key,value,arguments.length>3?arguments[3]:target)}})}if(Object.getPrototypeOf){var objectDotGetPrototypeOf=Object.getPrototypeOf;ReflectShims.getPrototypeOf=function getPrototypeOf(target){return throwUnlessTargetIsObject(target),objectDotGetPrototypeOf(target)}}if(Object.setPrototypeOf&&ReflectShims.getPrototypeOf){var willCreateCircularPrototype=function(object,lastProto){for(var proto=lastProto;proto;){if(object===proto)return!0;proto=ReflectShims.getPrototypeOf(proto)}return!1};Object.assign(ReflectShims,{setPrototypeOf:function setPrototypeOf(object,proto){if(throwUnlessTargetIsObject(object),null!==proto&&!ES.TypeIsObject(proto))throw new TypeError("proto must be an object or null");return proto===Reflect.getPrototypeOf(object)||!(Reflect.isExtensible&&!Reflect.isExtensible(object))&&!willCreateCircularPrototype(object,proto)&&(Object.setPrototypeOf(object,proto),!0)}})}var defineOrOverrideReflectProperty=function(key,shim){ES.IsCallable(globals.Reflect[key])?valueOrFalseIfThrows((function(){return globals.Reflect[key](1),globals.Reflect[key](NaN),globals.Reflect[key](!0),!0}))&&overrideNative(globals.Reflect,key,shim):defineProperty(globals.Reflect,key,shim)};Object.keys(ReflectShims).forEach((function(key){defineOrOverrideReflectProperty(key,ReflectShims[key])}));var originalReflectGetProto=globals.Reflect.getPrototypeOf;if(functionsHaveNames&&originalReflectGetProto&&"getPrototypeOf"!==originalReflectGetProto.name&&overrideNative(globals.Reflect,"getPrototypeOf",(function getPrototypeOf(target){return _call(originalReflectGetProto,globals.Reflect,target)})),globals.Reflect.setPrototypeOf&&valueOrFalseIfThrows((function(){return globals.Reflect.setPrototypeOf(1,{}),!0}))&&overrideNative(globals.Reflect,"setPrototypeOf",ReflectShims.setPrototypeOf),globals.Reflect.defineProperty&&(valueOrFalseIfThrows((function(){var basic=!globals.Reflect.defineProperty(1,"test",{value:1}),extensible="function"!=typeof Object.preventExtensions||!globals.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return basic&&extensible}))||overrideNative(globals.Reflect,"defineProperty",ReflectShims.defineProperty)),globals.Reflect.construct&&(valueOrFalseIfThrows((function(){var F=function F(){};return globals.Reflect.construct((function(){}),[],F)instanceof F}))||overrideNative(globals.Reflect,"construct",ReflectShims.construct)),"Invalid Date"!==String(new Date(NaN))){var dateToString=Date.prototype.toString,shimmedDateToString=function toString(){var valueOf=+this;return valueOf!=valueOf?"Invalid Date":ES.Call(dateToString,this)};overrideNative(Date.prototype,"toString",shimmedDateToString)}var stringHTMLshims={anchor:function anchor(name){return ES.CreateHTML(this,"a","name",name)},big:function big(){return ES.CreateHTML(this,"big","","")},blink:function blink(){return ES.CreateHTML(this,"blink","","")},bold:function bold(){return ES.CreateHTML(this,"b","","")},fixed:function fixed(){return ES.CreateHTML(this,"tt","","")},fontcolor:function fontcolor(color){return ES.CreateHTML(this,"font","color",color)},fontsize:function fontsize(size){return ES.CreateHTML(this,"font","size",size)},italics:function italics(){return ES.CreateHTML(this,"i","","")},link:function link(url){return ES.CreateHTML(this,"a","href",url)},small:function small(){return ES.CreateHTML(this,"small","","")},strike:function strike(){return ES.CreateHTML(this,"strike","","")},sub:function sub(){return ES.CreateHTML(this,"sub","","")},sup:function sub(){return ES.CreateHTML(this,"sup","","")}};_forEach(Object.keys(stringHTMLshims),(function(key){var method=String.prototype[key],shouldOverwrite=!1;if(ES.IsCallable(method)){var output=_call(method,"",' " '),quotesCount=_concat([],output.match(/"/g)).length;shouldOverwrite=output!==output.toLowerCase()||quotesCount>2}else shouldOverwrite=!0;shouldOverwrite&&overrideNative(String.prototype,key,stringHTMLshims[key])}));var JSONstringifiesSymbols=function(){if(!hasSymbols)return!1;var stringify="object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify:null;if(!stringify)return!1;if(void 0!==stringify(Symbol()))return!0;if("[null]"!==stringify([Symbol()]))return!0;var obj={a:Symbol()};return obj[Symbol()]=!0,"{}"!==stringify(obj)}(),JSONstringifyAcceptsObjectSymbol=valueOrFalseIfThrows((function(){return!hasSymbols||"{}"===JSON.stringify(Object(Symbol()))&&"[{}]"===JSON.stringify([Object(Symbol())])}));if(JSONstringifiesSymbols||!JSONstringifyAcceptsObjectSymbol){var origStringify=JSON.stringify;overrideNative(JSON,"stringify",(function stringify(value){if("symbol"!=typeof value){var replacer;arguments.length>1&&(replacer=arguments[1]);var args=[value];if(isArray(replacer))args.push(replacer);else{var replaceFn=ES.IsCallable(replacer)?replacer:null,wrappedReplacer=function(key,val){var parsedValue=replaceFn?_call(replaceFn,this,key,val):val;if("symbol"!=typeof parsedValue)return Type.symbol(parsedValue)?assignTo({})(parsedValue):parsedValue};args.push(wrappedReplacer)}return arguments.length>2&&args.push(arguments[2]),origStringify.apply(this,args)}}))}return globals},void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"),__webpack_require__("./node_modules/process/browser.js"))},"./node_modules/fast-deep-equal/index.js":function(module,exports,__webpack_require__){"use strict";module.exports=function equal(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){if(a.constructor!==b.constructor)return!1;var length,i,keys;if(Array.isArray(a)){if((length=a.length)!=b.length)return!1;for(i=length;0!=i--;)if(!equal(a[i],b[i]))return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();if((length=(keys=Object.keys(a)).length)!==Object.keys(b).length)return!1;for(i=length;0!=i--;)if(!Object.prototype.hasOwnProperty.call(b,keys[i]))return!1;for(i=length;0!=i--;){var key=keys[i];if(!equal(a[key],b[key]))return!1}return!0}return a!=a&&b!=b}},"./node_modules/function-bind/implementation.js":function(module,exports,__webpack_require__){"use strict";var ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice=Array.prototype.slice,toStr=Object.prototype.toString;module.exports=function bind(that){var target=this;if("function"!=typeof target||"[object Function]"!==toStr.call(target))throw new TypeError(ERROR_MESSAGE+target);for(var bound,args=slice.call(arguments,1),binder=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))},boundLength=Math.max(0,target.length-args.length),boundArgs=[],i=0;i<boundLength;i++)boundArgs.push("$"+i);if(bound=Function("binder","return function ("+boundArgs.join(",")+"){ return binder.apply(this,arguments); }")(binder),target.prototype){var Empty=function Empty(){};Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null}return bound}},"./node_modules/function-bind/index.js":function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__("./node_modules/function-bind/implementation.js");module.exports=Function.prototype.bind||implementation},"./node_modules/function.prototype.name/implementation.js":function(module,exports,__webpack_require__){"use strict";var IsCallable=__webpack_require__("./node_modules/es-abstract/2021/IsCallable.js"),functionsHaveNames=__webpack_require__("./node_modules/functions-have-names/index.js")(),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),$functionToString=callBound("Function.prototype.toString"),$stringMatch=callBound("String.prototype.match"),classRegex=/^class /,regex=/\s*function\s+([^(\s]*)\s*/,functionProto=Function.prototype;module.exports=function getName(){if(!function isClassConstructor(fn){if(IsCallable(fn))return!1;if("function"!=typeof fn)return!1;try{return!!$stringMatch($functionToString(fn),classRegex)}catch(e){}return!1}(this)&&!IsCallable(this))throw new TypeError("Function.prototype.name sham getter called on non-function");if(functionsHaveNames)return this.name;if(this===functionProto)return"";var str=$functionToString(this),match=$stringMatch(str,regex);return match&&match[1]}},"./node_modules/function.prototype.name/polyfill.js":function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__("./node_modules/function.prototype.name/implementation.js");module.exports=function getPolyfill(){return implementation}},"./node_modules/function.prototype.name/shim.js":function(module,exports,__webpack_require__){"use strict";var supportsDescriptors=__webpack_require__("./node_modules/define-properties/index.js").supportsDescriptors,functionsHaveNames=__webpack_require__("./node_modules/functions-have-names/index.js")(),getPolyfill=__webpack_require__("./node_modules/function.prototype.name/polyfill.js"),defineProperty=Object.defineProperty,TypeErr=TypeError;module.exports=function shimName(){var polyfill=getPolyfill();if(functionsHaveNames)return polyfill;if(!supportsDescriptors)throw new TypeErr("Shimming Function.prototype.name support requires ES5 property descriptor support.");var functionProto=Function.prototype;return defineProperty(functionProto,"name",{configurable:!0,enumerable:!1,get:function(){var name=polyfill.call(this);return this!==functionProto&&defineProperty(this,"name",{configurable:!0,enumerable:!1,value:name,writable:!1}),name}}),polyfill}},"./node_modules/functions-have-names/index.js":function(module,exports,__webpack_require__){"use strict";var functionsHaveNames=function functionsHaveNames(){return"string"==typeof function f(){}.name},gOPD=Object.getOwnPropertyDescriptor;if(gOPD)try{gOPD([],"length")}catch(e){gOPD=null}functionsHaveNames.functionsHaveConfigurableNames=function functionsHaveConfigurableNames(){if(!functionsHaveNames()||!gOPD)return!1;var desc=gOPD((function(){}),"name");return!!desc&&!!desc.configurable};var $bind=Function.prototype.bind;functionsHaveNames.boundFunctionsHaveNames=function boundFunctionsHaveNames(){return functionsHaveNames()&&"function"==typeof $bind&&""!==function f(){}.bind().name},module.exports=functionsHaveNames},"./node_modules/get-intrinsic/index.js":function(module,exports,__webpack_require__){"use strict";var $SyntaxError=SyntaxError,$Function=Function,$TypeError=TypeError,getEvalledConstructor=function(expressionSyntax){try{return $Function('"use strict"; return ('+expressionSyntax+").constructor;")()}catch(e){}},$gOPD=Object.getOwnPropertyDescriptor;if($gOPD)try{$gOPD({},"")}catch(e){$gOPD=null}var throwTypeError=function(){throw new $TypeError},ThrowTypeError=$gOPD?function(){try{return throwTypeError}catch(calleeThrows){try{return $gOPD(arguments,"callee").get}catch(gOPDthrows){return throwTypeError}}}():throwTypeError,hasSymbols=__webpack_require__("./node_modules/has-symbols/index.js")(),getProto=Object.getPrototypeOf||function(x){return x.__proto__},needsEval={},TypedArray="undefined"==typeof Uint8Array?undefined:getProto(Uint8Array),INTRINSICS={"%AggregateError%":"undefined"==typeof AggregateError?undefined:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?undefined:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):undefined,"%AsyncFromSyncIteratorPrototype%":undefined,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":"undefined"==typeof Atomics?undefined:Atomics,"%BigInt%":"undefined"==typeof BigInt?undefined:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?undefined:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?undefined:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?undefined:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?undefined:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":"undefined"==typeof Int8Array?undefined:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?undefined:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?undefined:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):undefined,"%JSON%":"object"==typeof JSON?JSON:undefined,"%Map%":"undefined"==typeof Map?undefined:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols?getProto((new Map)[Symbol.iterator]()):undefined,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?undefined:Promise,"%Proxy%":"undefined"==typeof Proxy?undefined:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?undefined:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?undefined:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols?getProto((new Set)[Symbol.iterator]()):undefined,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?undefined:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):undefined,"%Symbol%":hasSymbols?Symbol:undefined,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError,"%Uint8Array%":"undefined"==typeof Uint8Array?undefined:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?undefined:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?undefined:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?undefined:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?undefined:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?undefined:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?undefined:WeakSet},doEval=function doEval(name){var value;if("%AsyncFunction%"===name)value=getEvalledConstructor("async function () {}");else if("%GeneratorFunction%"===name)value=getEvalledConstructor("function* () {}");else if("%AsyncGeneratorFunction%"===name)value=getEvalledConstructor("async function* () {}");else if("%AsyncGenerator%"===name){var fn=doEval("%AsyncGeneratorFunction%");fn&&(value=fn.prototype)}else if("%AsyncIteratorPrototype%"===name){var gen=doEval("%AsyncGenerator%");gen&&(value=getProto(gen.prototype))}return INTRINSICS[name]=value,value},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=__webpack_require__("./node_modules/function-bind/index.js"),hasOwn=__webpack_require__("./node_modules/has/src/index.js"),$concat=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function stringToPath(string){var first=$strSlice(string,0,1),last=$strSlice(string,-1);if("%"===first&&"%"!==last)throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if("%"===last&&"%"!==first)throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var result=[];return $replace(string,rePropName,(function(match,number,quote,subString){result[result.length]=quote?$replace(subString,reEscapeChar,"$1"):number||match})),result},getBaseIntrinsic=function getBaseIntrinsic(name,allowMissing){var alias,intrinsicName=name;if(hasOwn(LEGACY_ALIASES,intrinsicName)&&(intrinsicName="%"+(alias=LEGACY_ALIASES[intrinsicName])[0]+"%"),hasOwn(INTRINSICS,intrinsicName)){var value=INTRINSICS[intrinsicName];if(value===needsEval&&(value=doEval(intrinsicName)),void 0===value&&!allowMissing)throw new $TypeError("intrinsic "+name+" exists, but is not available. Please file an issue!");return{alias:alias,name:intrinsicName,value:value}}throw new $SyntaxError("intrinsic "+name+" does not exist!")};module.exports=function GetIntrinsic(name,allowMissing){if("string"!=typeof name||0===name.length)throw new $TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof allowMissing)throw new $TypeError('"allowMissing" argument must be a boolean');var parts=stringToPath(name),intrinsicBaseName=parts.length>0?parts[0]:"",intrinsic=getBaseIntrinsic("%"+intrinsicBaseName+"%",allowMissing),intrinsicRealName=intrinsic.name,value=intrinsic.value,skipFurtherCaching=!1,alias=intrinsic.alias;alias&&(intrinsicBaseName=alias[0],$spliceApply(parts,$concat([0,1],alias)));for(var i=1,isOwn=!0;i<parts.length;i+=1){var part=parts[i],first=$strSlice(part,0,1),last=$strSlice(part,-1);if(('"'===first||"'"===first||"`"===first||'"'===last||"'"===last||"`"===last)&&first!==last)throw new $SyntaxError("property names with quotes must have matching quotes");if("constructor"!==part&&isOwn||(skipFurtherCaching=!0),hasOwn(INTRINSICS,intrinsicRealName="%"+(intrinsicBaseName+="."+part)+"%"))value=INTRINSICS[intrinsicRealName];else if(null!=value){if(!(part in value)){if(!allowMissing)throw new $TypeError("base intrinsic for "+name+" exists, but the property is not available.");return}if($gOPD&&i+1>=parts.length){var desc=$gOPD(value,part);value=(isOwn=!!desc)&&"get"in desc&&!("originalValue"in desc.get)?desc.get:value[part]}else isOwn=hasOwn(value,part),value=value[part];isOwn&&!skipFurtherCaching&&(INTRINSICS[intrinsicRealName]=value)}}return value}},"./node_modules/get-symbol-description/getInferredName.js":function(module,exports,__webpack_require__){"use strict";var getInferredName;try{getInferredName=Function("s","return { [s]() {} }[s].name;")}catch(e){}module.exports=getInferredName&&"inferred"===function(){}.name?getInferredName:null},"./node_modules/get-symbol-description/index.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),$SyntaxError=GetIntrinsic("%SyntaxError%"),getGlobalSymbolDescription=GetIntrinsic("%Symbol.keyFor%",!0),thisSymbolValue=callBound("%Symbol.prototype.valueOf%",!0),symToStr=callBound("Symbol.prototype.toString",!0),getInferredName=__webpack_require__("./node_modules/get-symbol-description/getInferredName.js");module.exports=callBound("%Symbol.prototype.description%",!0)||function getSymbolDescription(symbol){if(!thisSymbolValue)throw new $SyntaxError("Symbols are not supported in this environment");var desc,sym=thisSymbolValue(symbol);if(getInferredName){var name=getInferredName(sym);if(""===name)return;return name.slice(1,-1)}return getGlobalSymbolDescription&&"string"==typeof(desc=getGlobalSymbolDescription(sym))?desc:(desc=symToStr(sym).slice(7,-1))||void 0}},"./node_modules/global/window.js":function(module,exports,__webpack_require__){(function(global){var win;win="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{},module.exports=win}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"))},"./node_modules/globalthis/auto.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/globalthis/shim.js")()},"./node_modules/globalthis/implementation.browser.js":function(module,exports,__webpack_require__){"use strict";"undefined"!=typeof self?module.exports=self:"undefined"!=typeof window?module.exports=window:module.exports=Function("return this")()},"./node_modules/globalthis/polyfill.js":function(module,exports,__webpack_require__){"use strict";(function(global){var implementation=__webpack_require__("./node_modules/globalthis/implementation.browser.js");module.exports=function getPolyfill(){return"object"==typeof global&&global&&global.Math===Math&&global.Array===Array?global:implementation}}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"))},"./node_modules/globalthis/shim.js":function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__("./node_modules/define-properties/index.js"),getPolyfill=__webpack_require__("./node_modules/globalthis/polyfill.js");module.exports=function shimGlobal(){var polyfill=getPolyfill();if(define.supportsDescriptors){var descriptor=Object.getOwnPropertyDescriptor(polyfill,"globalThis");(!descriptor||descriptor.configurable&&(descriptor.enumerable||descriptor.writable||globalThis!==polyfill))&&Object.defineProperty(polyfill,"globalThis",{configurable:!0,enumerable:!1,value:polyfill,writable:!1})}else"object"==typeof globalThis&&globalThis===polyfill||(polyfill.globalThis=polyfill);return polyfill}},"./node_modules/has-property-descriptors/index.js":function(module,exports,__webpack_require__){"use strict";var $defineProperty=__webpack_require__("./node_modules/get-intrinsic/index.js")("%Object.defineProperty%",!0),hasPropertyDescriptors=function hasPropertyDescriptors(){if($defineProperty)try{return $defineProperty({},"a",{value:1}),!0}catch(e){return!1}return!1};hasPropertyDescriptors.hasArrayLengthDefineBug=function hasArrayLengthDefineBug(){if(!hasPropertyDescriptors())return null;try{return 1!==$defineProperty([],"length",{value:1}).length}catch(e){return!0}},module.exports=hasPropertyDescriptors},"./node_modules/has-symbols/index.js":function(module,exports,__webpack_require__){"use strict";var origSymbol="undefined"!=typeof Symbol&&Symbol,hasSymbolSham=__webpack_require__("./node_modules/has-symbols/shams.js");module.exports=function hasNativeSymbols(){return"function"==typeof origSymbol&&("function"==typeof Symbol&&("symbol"==typeof origSymbol("foo")&&("symbol"==typeof Symbol("bar")&&hasSymbolSham())))}},"./node_modules/has-symbols/shams.js":function(module,exports,__webpack_require__){"use strict";module.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var obj={},sym=Symbol("test"),symObj=Object(sym);if("string"==typeof sym)return!1;if("[object Symbol]"!==Object.prototype.toString.call(sym))return!1;if("[object Symbol]"!==Object.prototype.toString.call(symObj))return!1;for(sym in obj[sym]=42,obj)return!1;if("function"==typeof Object.keys&&0!==Object.keys(obj).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(obj).length)return!1;var syms=Object.getOwnPropertySymbols(obj);if(1!==syms.length||syms[0]!==sym)return!1;if(!Object.prototype.propertyIsEnumerable.call(obj,sym))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(42!==descriptor.value||!0!==descriptor.enumerable)return!1}return!0}},"./node_modules/has-tostringtag/shams.js":function(module,exports,__webpack_require__){"use strict";var hasSymbols=__webpack_require__("./node_modules/has-symbols/shams.js");module.exports=function hasToStringTagShams(){return hasSymbols()&&!!Symbol.toStringTag}},"./node_modules/has/src/index.js":function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__("./node_modules/function-bind/index.js");module.exports=bind.call(Function.call,Object.prototype.hasOwnProperty)},"./node_modules/ieee754/index.js":function(module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},"./node_modules/internal-slot/index.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),has=__webpack_require__("./node_modules/has/src/index.js"),channel=__webpack_require__("./node_modules/side-channel/index.js")(),$TypeError=GetIntrinsic("%TypeError%"),SLOT={assert:function(O,slot){if(!O||"object"!=typeof O&&"function"!=typeof O)throw new $TypeError("`O` is not an object");if("string"!=typeof slot)throw new $TypeError("`slot` must be a string");channel.assert(O)},get:function(O,slot){if(!O||"object"!=typeof O&&"function"!=typeof O)throw new $TypeError("`O` is not an object");if("string"!=typeof slot)throw new $TypeError("`slot` must be a string");var slots=channel.get(O);return slots&&slots["$"+slot]},has:function(O,slot){if(!O||"object"!=typeof O&&"function"!=typeof O)throw new $TypeError("`O` is not an object");if("string"!=typeof slot)throw new $TypeError("`slot` must be a string");var slots=channel.get(O);return!!slots&&has(slots,"$"+slot)},set:function(O,slot,V){if(!O||"object"!=typeof O&&"function"!=typeof O)throw new $TypeError("`O` is not an object");if("string"!=typeof slot)throw new $TypeError("`slot` must be a string");var slots=channel.get(O);slots||(slots={},channel.set(O,slots)),slots["$"+slot]=V}};Object.freeze&&Object.freeze(SLOT),module.exports=SLOT},"./node_modules/is-arguments/index.js":function(module,exports,__webpack_require__){"use strict";var hasToStringTag=__webpack_require__("./node_modules/has-tostringtag/shams.js")(),$toString=__webpack_require__("./node_modules/call-bind/callBound.js")("Object.prototype.toString"),isStandardArguments=function isArguments(value){return!(hasToStringTag&&value&&"object"==typeof value&&Symbol.toStringTag in value)&&"[object Arguments]"===$toString(value)},isLegacyArguments=function isArguments(value){return!!isStandardArguments(value)||null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&"[object Array]"!==$toString(value)&&"[object Function]"===$toString(value.callee)},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments,module.exports=supportsStandardArguments?isStandardArguments:isLegacyArguments},"./node_modules/is-callable/index.js":function(module,exports,__webpack_require__){"use strict";var badArrayLike,isCallableMarker,fnToStr=Function.prototype.toString,reflectApply="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof reflectApply&&"function"==typeof Object.defineProperty)try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply((function(){throw 42}),null,badArrayLike)}catch(_){_!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function isES6ClassFunction(value){try{var fnStr=fnToStr.call(value);return constructorRegex.test(fnStr)}catch(e){return!1}},toStr=Object.prototype.toString,hasToStringTag="function"==typeof Symbol&&!!Symbol.toStringTag,documentDotAll="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{};module.exports=reflectApply?function isCallable(value){if(value===documentDotAll)return!0;if(!value)return!1;if("function"!=typeof value&&"object"!=typeof value)return!1;if("function"==typeof value&&!value.prototype)return!0;try{reflectApply(value,null,badArrayLike)}catch(e){if(e!==isCallableMarker)return!1}return!isES6ClassFn(value)}:function isCallable(value){if(value===documentDotAll)return!0;if(!value)return!1;if("function"!=typeof value&&"object"!=typeof value)return!1;if("function"==typeof value&&!value.prototype)return!0;if(hasToStringTag)return function tryFunctionToStr(value){try{return!isES6ClassFn(value)&&(fnToStr.call(value),!0)}catch(e){return!1}}(value);if(isES6ClassFn(value))return!1;var strClass=toStr.call(value);return"[object Function]"===strClass||"[object GeneratorFunction]"===strClass}},"./node_modules/is-date-object/index.js":function(module,exports,__webpack_require__){"use strict";var getDay=Date.prototype.getDay,toStr=Object.prototype.toString,hasToStringTag=__webpack_require__("./node_modules/has-tostringtag/shams.js")();module.exports=function isDateObject(value){return"object"==typeof value&&null!==value&&(hasToStringTag?function tryDateGetDayCall(value){try{return getDay.call(value),!0}catch(e){return!1}}(value):"[object Date]"===toStr.call(value))}},"./node_modules/is-function/index.js":function(module,exports){module.exports=function isFunction(fn){if(!fn)return!1;var string=toString.call(fn);return"[object Function]"===string||"function"==typeof fn&&"[object RegExp]"!==string||"undefined"!=typeof window&&(fn===window.setTimeout||fn===window.alert||fn===window.confirm||fn===window.prompt)};var toString=Object.prototype.toString},"./node_modules/is-map/index.js":function(module,exports,__webpack_require__){"use strict";var exported,$Map="function"==typeof Map&&Map.prototype?Map:null,$Set="function"==typeof Set&&Set.prototype?Set:null;$Map||(exported=function isMap(x){return!1});var $mapHas=$Map?Map.prototype.has:null,$setHas=$Set?Set.prototype.has:null;exported||$mapHas||(exported=function isMap(x){return!1}),module.exports=exported||function isMap(x){if(!x||"object"!=typeof x)return!1;try{if($mapHas.call(x),$setHas)try{$setHas.call(x)}catch(e){return!0}return x instanceof $Map}catch(e){}return!1}},"./node_modules/is-regex/index.js":function(module,exports,__webpack_require__){"use strict";var has,$exec,isRegexMarker,badStringifier,callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),hasToStringTag=__webpack_require__("./node_modules/has-tostringtag/shams.js")();if(hasToStringTag){has=callBound("Object.prototype.hasOwnProperty"),$exec=callBound("RegExp.prototype.exec"),isRegexMarker={};var throwRegexMarker=function(){throw isRegexMarker};badStringifier={toString:throwRegexMarker,valueOf:throwRegexMarker},"symbol"==typeof Symbol.toPrimitive&&(badStringifier[Symbol.toPrimitive]=throwRegexMarker)}var $toString=callBound("Object.prototype.toString"),gOPD=Object.getOwnPropertyDescriptor;module.exports=hasToStringTag?function isRegex(value){if(!value||"object"!=typeof value)return!1;var descriptor=gOPD(value,"lastIndex");if(!(descriptor&&has(descriptor,"value")))return!1;try{$exec(value,badStringifier)}catch(e){return e===isRegexMarker}}:function isRegex(value){return!(!value||"object"!=typeof value&&"function"!=typeof value)&&"[object RegExp]"===$toString(value)}},"./node_modules/is-set/index.js":function(module,exports,__webpack_require__){"use strict";var exported,$Map="function"==typeof Map&&Map.prototype?Map:null,$Set="function"==typeof Set&&Set.prototype?Set:null;$Set||(exported=function isSet(x){return!1});var $mapHas=$Map?Map.prototype.has:null,$setHas=$Set?Set.prototype.has:null;exported||$setHas||(exported=function isSet(x){return!1}),module.exports=exported||function isSet(x){if(!x||"object"!=typeof x)return!1;try{if($setHas.call(x),$mapHas)try{$mapHas.call(x)}catch(e){return!0}return x instanceof $Set}catch(e){}return!1}},"./node_modules/is-string/index.js":function(module,exports,__webpack_require__){"use strict";var strValue=String.prototype.valueOf,toStr=Object.prototype.toString,hasToStringTag=__webpack_require__("./node_modules/has-tostringtag/shams.js")();module.exports=function isString(value){return"string"==typeof value||"object"==typeof value&&(hasToStringTag?function tryStringObject(value){try{return strValue.call(value),!0}catch(e){return!1}}(value):"[object String]"===toStr.call(value))}},"./node_modules/is-symbol/index.js":function(module,exports,__webpack_require__){"use strict";var toStr=Object.prototype.toString;if(__webpack_require__("./node_modules/has-symbols/index.js")()){var symToStr=Symbol.prototype.toString,symStringRegex=/^Symbol\(.*\)$/;module.exports=function isSymbol(value){if("symbol"==typeof value)return!0;if("[object Symbol]"!==toStr.call(value))return!1;try{return function isRealSymbolObject(value){return"symbol"==typeof value.valueOf()&&symStringRegex.test(symToStr.call(value))}(value)}catch(e){return!1}}}else module.exports=function isSymbol(value){return!1}},"./node_modules/isarray/index.js":function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},"./node_modules/iterate-iterator/index.js":function(module,exports,__webpack_require__){"use strict";var $TypeError=TypeError;module.exports=function iterateIterator(iterator){if(!iterator||"function"!=typeof iterator.next)throw new $TypeError("iterator must be an object with a `next` method");if(arguments.length>1){var callback=arguments[1];if("function"!=typeof callback)throw new $TypeError("`callback`, if provided, must be a function")}for(var result,values=callback||[];(result=iterator.next())&&!result.done;)callback?callback(result.value):values.push(result.value);if(!callback)return values}},"./node_modules/iterate-value/index.js":function(module,exports,__webpack_require__){"use strict";var getIterator=__webpack_require__("./node_modules/es-get-iterator/index.js"),$TypeError=TypeError,iterate=__webpack_require__("./node_modules/iterate-iterator/index.js");module.exports=function iterateValue(iterable){var iterator=getIterator(iterable);if(!iterator)throw new $TypeError("non-iterable value provided");return arguments.length>1?iterate(iterator,arguments[1]):iterate(iterator)}},"./node_modules/lit-html/lit-html.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e3){throw _e3},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e4){didErr=!0,err=_e4},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var t;__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"_$LH",(function(){return R})),__webpack_require__.d(__webpack_exports__,"html",(function(){return $})),__webpack_require__.d(__webpack_exports__,"noChange",(function(){return b})),__webpack_require__.d(__webpack_exports__,"nothing",(function(){return w})),__webpack_require__.d(__webpack_exports__,"render",(function(){return x})),__webpack_require__.d(__webpack_exports__,"svg",(function(){return y}));var i=globalThis.trustedTypes,s=i?i.createPolicy("lit-html",{createHTML:function createHTML(t){return t}}):void 0,e="lit$".concat((Math.random()+"").slice(9),"$"),o="?"+e,n="<".concat(o,">"),l=document,h=function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l.createComment(t)},r=function r(t){return null===t||"object"!=_typeof(t)&&"function"!=typeof t},d=Array.isArray,u=function u(t){var i;return d(t)||"function"==typeof(null===(i=t)||void 0===i?void 0:i[Symbol.iterator])},c=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,a=/>/g,f=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,_=/'/g,m=/"/g,g=/^(?:script|style|textarea|title)$/i,p=function p(t){return function(i){for(var _len=arguments.length,s=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)s[_key-1]=arguments[_key];return{_$litType$:t,strings:i,values:s}}},$=p(1),y=p(2),b=Symbol.for("lit-noChange"),w=Symbol.for("lit-nothing"),T=new WeakMap,x=function x(t,i,s){var e,o,n=null!==(e=null==s?void 0:s.renderBefore)&&void 0!==e?e:i,l=n._$litPart$;if(void 0===l){var _t=null!==(o=null==s?void 0:s.renderBefore)&&void 0!==o?o:null;n._$litPart$=l=new N(i.insertBefore(h(),_t),_t,void 0,null!=s?s:{})}return l._$AI(t),l},A=l.createTreeWalker(l,129,null,!1),C=function C(t,i){for(var h,o=t.length-1,l=[],r=2===i?"<svg>":"",d=c,_i=0;_i<o;_i++){for(var _s=t[_i],_o=void 0,_u=void 0,_p=-1,_$=0;_$<_s.length&&(d.lastIndex=_$,null!==(_u=d.exec(_s)));)_$=d.lastIndex,d===c?"!--"===_u[1]?d=v:void 0!==_u[1]?d=a:void 0!==_u[2]?(g.test(_u[2])&&(h=RegExp("</"+_u[2],"g")),d=f):void 0!==_u[3]&&(d=f):d===f?">"===_u[0]?(d=null!=h?h:c,_p=-1):void 0===_u[1]?_p=-2:(_p=d.lastIndex-_u[2].length,_o=_u[1],d=void 0===_u[3]?f:'"'===_u[3]?m:_):d===m||d===_?d=f:d===v||d===a?d=c:(d=f,h=void 0);var _y=d===f&&t[_i+1].startsWith("/>")?" ":"";r+=d===c?_s+n:_p>=0?(l.push(_o),_s.slice(0,_p)+"$lit$"+_s.slice(_p)+e+_y):_s+e+(-2===_p?(l.push(void 0),_i):_y)}var u=r+(t[o]||"<?>")+(2===i?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==s?s.createHTML(u):u,l]},E=function(){function E(_ref,n){var l,t=_ref.strings,s=_ref._$litType$;_classCallCheck(this,E),this.parts=[];var r=0,d=0,u=t.length-1,c=this.parts,_C2=_slicedToArray(C(t,s),2),v=_C2[0],a=_C2[1];if(this.el=E.createElement(v,n),A.currentNode=this.el.content,2===s){var _t2=this.el.content,_i2=_t2.firstChild;_i2.remove(),_t2.append.apply(_t2,_toConsumableArray(_i2.childNodes))}for(;null!==(l=A.nextNode())&&c.length<u;){if(1===l.nodeType){if(l.hasAttributes()){var _step,_t3=[],_iterator=_createForOfIteratorHelper(l.getAttributeNames());try{for(_iterator.s();!(_step=_iterator.n()).done;){var _i5=_step.value;if(_i5.endsWith("$lit$")||_i5.startsWith(e)){var _s2=a[d++];if(_t3.push(_i5),void 0!==_s2){var _t5=l.getAttribute(_s2.toLowerCase()+"$lit$").split(e),_i6=/([.?@])?(.*)/.exec(_s2);c.push({type:1,index:r,name:_i6[2],strings:_t5,ctor:"."===_i6[1]?M:"?"===_i6[1]?H:"@"===_i6[1]?I:S})}else c.push({type:6,index:r})}}}catch(err){_iterator.e(err)}finally{_iterator.f()}for(var _i3=0,_t4=_t3;_i3<_t4.length;_i3++){var _i4=_t4[_i3];l.removeAttribute(_i4)}}if(g.test(l.tagName)){var _t6=l.textContent.split(e),_s3=_t6.length-1;if(_s3>0){l.textContent=i?i.emptyScript:"";for(var _i7=0;_i7<_s3;_i7++)l.append(_t6[_i7],h()),A.nextNode(),c.push({type:2,index:++r});l.append(_t6[_s3],h())}}}else if(8===l.nodeType)if(l.data===o)c.push({type:2,index:r});else for(var _t7=-1;-1!==(_t7=l.data.indexOf(e,_t7+1));)c.push({type:7,index:r}),_t7+=e.length-1;r++}}return _createClass(E,null,[{key:"createElement",value:function createElement(t,i){var s=l.createElement("template");return s.innerHTML=t,s}}]),E}();function P(t,i){var o,n,l,h,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,e=arguments.length>3?arguments[3]:void 0;if(i===b)return i;var d=void 0!==e?null===(o=s._$Cl)||void 0===o?void 0:o[e]:s._$Cu,u=r(i)?void 0:i._$litDirective$;return(null==d?void 0:d.constructor)!==u&&(null===(n=null==d?void 0:d._$AO)||void 0===n||n.call(d,!1),void 0===u?d=void 0:(d=new u(t))._$AT(t,s,e),void 0!==e?(null!==(l=(h=s)._$Cl)&&void 0!==l?l:h._$Cl=[])[e]=d:s._$Cu=d),void 0!==d&&(i=P(t,d._$AS(t,i.values),d,e)),i}var V=function(){function V(t,i){_classCallCheck(this,V),this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=i}return _createClass(V,[{key:"parentNode",get:function get(){return this._$AM.parentNode}},{key:"_$AU",get:function get(){return this._$AM._$AU}},{key:"p",value:function p(t){var i,_this$_$AD=this._$AD,s=_this$_$AD.el.content,e=_this$_$AD.parts,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:l).importNode(s,!0);A.currentNode=o;for(var n=A.nextNode(),h=0,r=0,d=e[0];void 0!==d;){if(h===d.index){var _i8=void 0;2===d.type?_i8=new N(n,n.nextSibling,this,t):1===d.type?_i8=new d.ctor(n,d.name,d.strings,this,t):6===d.type&&(_i8=new L(n,this,t)),this.v.push(_i8),d=e[++r]}h!==(null==d?void 0:d.index)&&(n=A.nextNode(),h++)}return o}},{key:"m",value:function m(t){var _step2,i=0,_iterator2=_createForOfIteratorHelper(this.v);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _s4=_step2.value;void 0!==_s4&&(void 0!==_s4.strings?(_s4._$AI(t,_s4,i),i+=_s4.strings.length-2):_s4._$AI(t[i])),i++}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}]),V}(),N=function(){function N(t,i,s,e){var o;_classCallCheck(this,N),this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cg=null===(o=null==e?void 0:e.isConnected)||void 0===o||o}return _createClass(N,[{key:"_$AU",get:function get(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$Cg}},{key:"parentNode",get:function get(){var t=this._$AA.parentNode,i=this._$AM;return void 0!==i&&11===t.nodeType&&(t=i.parentNode),t}},{key:"startNode",get:function get(){return this._$AA}},{key:"endNode",get:function get(){return this._$AB}},{key:"_$AI",value:function _$AI(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;t=P(this,t,i),r(t)?t===w||null==t||""===t?(this._$AH!==w&&this._$AR(),this._$AH=w):t!==this._$AH&&t!==b&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.k(t):u(t)?this.S(t):this.$(t)}},{key:"M",value:function M(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(t,i)}},{key:"k",value:function k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}},{key:"$",value:function $(t){this._$AH!==w&&r(this._$AH)?this._$AA.nextSibling.data=t:this.k(l.createTextNode(t)),this._$AH=t}},{key:"T",value:function T(t){var i,s=t.values,e=t._$litType$,o="number"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=E.createElement(e.h,this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.m(s);else{var _t8=new V(o,this),_i9=_t8.p(this.options);_t8.m(s),this.k(_i9),this._$AH=_t8}}},{key:"_$AC",value:function _$AC(t){var i=T.get(t.strings);return void 0===i&&T.set(t.strings,i=new E(t)),i}},{key:"S",value:function S(t){d(this._$AH)||(this._$AH=[],this._$AR());var s,_step3,i=this._$AH,e=0,_iterator3=_createForOfIteratorHelper(t);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _o2=_step3.value;e===i.length?i.push(s=new N(this.M(h()),this.M(h()),this,this.options)):s=i[e],s._$AI(_o2),e++}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}},{key:"_$AR",value:function _$AR(){var s,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,i=arguments.length>1?arguments[1]:void 0;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){var _i10=t.nextSibling;t.remove(),t=_i10}}},{key:"setConnected",value:function setConnected(t){var i;void 0===this._$AM&&(this._$Cg=t,null===(i=this._$AP)||void 0===i||i.call(this,t))}}]),N}(),S=function(){function S(t,i,s,e,o){_classCallCheck(this,S),this.type=1,this._$AH=w,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=w}return _createClass(S,[{key:"tagName",get:function get(){return this.element.tagName}},{key:"_$AU",get:function get(){return this._$AM._$AU}},{key:"_$AI",value:function _$AI(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,s=arguments.length>2?arguments[2]:void 0,e=arguments.length>3?arguments[3]:void 0,o=this.strings,n=!1;if(void 0===o)t=P(this,t,i,0),(n=!r(t)||t!==this._$AH&&t!==b)&&(this._$AH=t);else{var _l,_h,_e2=t;for(t=o[0],_l=0;_l<o.length-1;_l++)(_h=P(this,_e2[s+_l],i,_l))===b&&(_h=this._$AH[_l]),n||(n=!r(_h)||_h!==this._$AH[_l]),_h===w?t=w:t!==w&&(t+=(null!=_h?_h:"")+o[_l+1]),this._$AH[_l]=_h}n&&!e&&this.C(t)}},{key:"C",value:function C(t){t===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}]),S}(),M=function(_S){_inherits(M,_S);var _super=_createSuper(M);function M(){var _this;return _classCallCheck(this,M),(_this=_super.apply(this,arguments)).type=3,_this}return _createClass(M,[{key:"C",value:function C(t){this.element[this.name]=t===w?void 0:t}}]),M}(S),k=i?i.emptyScript:"",H=function(_S2){_inherits(H,_S2);var _super2=_createSuper(H);function H(){var _this2;return _classCallCheck(this,H),(_this2=_super2.apply(this,arguments)).type=4,_this2}return _createClass(H,[{key:"C",value:function C(t){t&&t!==w?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name)}}]),H}(S),I=function(_S3){_inherits(I,_S3);var _super3=_createSuper(I);function I(t,i,s,e,o){var _this3;return _classCallCheck(this,I),(_this3=_super3.call(this,t,i,s,e,o)).type=5,_this3}return _createClass(I,[{key:"_$AI",value:function _$AI(t){var s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;if((t=null!==(s=P(this,t,i,0))&&void 0!==s?s:w)!==b){var e=this._$AH,o=t===w&&e!==w||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==w&&(e===w||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}}},{key:"handleEvent",value:function handleEvent(t){var i,s;"function"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}]),I}(S),L=function(){function L(t,i,s){_classCallCheck(this,L),this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}return _createClass(L,[{key:"_$AU",get:function get(){return this._$AM._$AU}},{key:"_$AI",value:function _$AI(t){P(this,t)}}]),L}(),R={L:"$lit$",P:e,V:o,I:1,N:C,R:V,j:u,D:P,H:N,F:S,O:H,W:I,B:M,Z:L},z=window.litHtmlPolyfillSupport;null==z||z(E,N),(null!==(t=globalThis.litHtmlVersions)&&void 0!==t?t:globalThis.litHtmlVersions=[]).push("2.2.2")},"./node_modules/lit/decorators.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"customElement",(function(){return custom_element_n})),__webpack_require__.d(__webpack_exports__,"property",(function(){return property_e})),__webpack_require__.d(__webpack_exports__,"state",(function(){return state_t})),__webpack_require__.d(__webpack_exports__,"eventOptions",(function(){return event_options_e})),__webpack_require__.d(__webpack_exports__,"query",(function(){return query_i})),__webpack_require__.d(__webpack_exports__,"queryAll",(function(){return query_all_e})),__webpack_require__.d(__webpack_exports__,"queryAsync",(function(){return query_async_e})),__webpack_require__.d(__webpack_exports__,"queryAssignedElements",(function(){return query_assigned_elements_l})),__webpack_require__.d(__webpack_exports__,"queryAssignedNodes",(function(){return query_assigned_nodes_o}));const custom_element_n=n=>e=>"function"==typeof e?((n,e)=>(window.customElements.define(n,e),e))(n,e):((n,e)=>{const{kind:t,elements:i}=e;return{kind:t,elements:i,finisher(e){window.customElements.define(n,e)}}})(n,e),property_i=(i,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,i)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,i)}};function property_e(e){return(n,t)=>void 0!==t?((i,e,n)=>{e.constructor.createProperty(n,i)})(e,n,t):property_i(e,n)}function state_t(t){return property_e({...t,state:!0})}const base_o=({finisher:e,descriptor:t})=>(o,n)=>{var r;if(void 0===n){const n=null!==(r=o.originalKey)&&void 0!==r?r:o.key,i=null!=t?{kind:"method",placement:"prototype",key:n,descriptor:t(o.key)}:{...o,key:n};return null!=e&&(i.finisher=function(t){e(t,n)}),i}{const r=o.constructor;void 0!==t&&Object.defineProperty(o,n,t(n)),null==e||e(r,n)}};function event_options_e(e){return base_o({finisher:(r,t)=>{Object.assign(r.prototype[t],e)}})}function query_i(i,n){return base_o({descriptor:o=>{const t={get(){var o,n;return null!==(n=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(i))&&void 0!==n?n:null},enumerable:!0,configurable:!0};if(n){const n="symbol"==typeof o?Symbol():"__"+o;t.get=function(){var o,t;return void 0===this[n]&&(this[n]=null!==(t=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(i))&&void 0!==t?t:null),this[n]}}return t}})}function query_all_e(e){return base_o({descriptor:r=>({get(){var r,o;return null!==(o=null===(r=this.renderRoot)||void 0===r?void 0:r.querySelectorAll(e))&&void 0!==o?o:[]},enumerable:!0,configurable:!0})})}function query_async_e(e){return base_o({descriptor:r=>({async get(){var r;return await this.updateComplete,null===(r=this.renderRoot)||void 0===r?void 0:r.querySelector(e)},enumerable:!0,configurable:!0})})}var query_assigned_elements_n;const query_assigned_elements_e=null!=(null===(query_assigned_elements_n=window.HTMLSlotElement)||void 0===query_assigned_elements_n?void 0:query_assigned_elements_n.prototype.assignedElements)?(o,n)=>o.assignedElements(n):(o,n)=>o.assignedNodes(n).filter((o=>o.nodeType===Node.ELEMENT_NODE));function query_assigned_elements_l(n){const{slot:l,selector:t}=null!=n?n:{};return base_o({descriptor:o=>({get(){var o;const r="slot"+(l?`[name=${l}]`:":not([name])"),i=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(r),s=null!=i?query_assigned_elements_e(i,n):[];return t?s.filter((o=>o.matches(t))):s},enumerable:!0,configurable:!0})})}function query_assigned_nodes_o(o,n,r){let l,s=o;return"object"==typeof o?(s=o.slot,l=o):l={flatten:n},r?query_assigned_elements_l({slot:s,flatten:n,selector:r}):base_o({descriptor:e=>({get(){var e,t;const o="slot"+(s?`[name=${s}]`:":not([name])"),n=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(o);return null!==(t=null==n?void 0:n.assignedNodes(l))&&void 0!==t?t:[]},enumerable:!0,configurable:!0})})}},"./node_modules/lit/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CSSResult",(function(){return css_tag_s})),__webpack_require__.d(__webpack_exports__,"adoptStyles",(function(){return css_tag_i})),__webpack_require__.d(__webpack_exports__,"css",(function(){return r})),__webpack_require__.d(__webpack_exports__,"getCompatibleStyle",(function(){return S})),__webpack_require__.d(__webpack_exports__,"supportsAdoptingStyleSheets",(function(){return css_tag_t})),__webpack_require__.d(__webpack_exports__,"unsafeCSS",(function(){return o})),__webpack_require__.d(__webpack_exports__,"ReactiveElement",(function(){return reactive_element_a})),__webpack_require__.d(__webpack_exports__,"defaultConverter",(function(){return reactive_element_o})),__webpack_require__.d(__webpack_exports__,"notEqual",(function(){return reactive_element_n})),__webpack_require__.d(__webpack_exports__,"_$LH",(function(){return lit_html._$LH})),__webpack_require__.d(__webpack_exports__,"html",(function(){return lit_html.html})),__webpack_require__.d(__webpack_exports__,"noChange",(function(){return lit_html.noChange})),__webpack_require__.d(__webpack_exports__,"nothing",(function(){return lit_html.nothing})),__webpack_require__.d(__webpack_exports__,"render",(function(){return lit_html.render})),__webpack_require__.d(__webpack_exports__,"svg",(function(){return lit_html.svg})),__webpack_require__.d(__webpack_exports__,"LitElement",(function(){return lit_element_s})),__webpack_require__.d(__webpack_exports__,"UpdatingElement",(function(){return lit_element_r})),__webpack_require__.d(__webpack_exports__,"_$LE",(function(){return lit_element_h}));const css_tag_t=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,css_tag_e=Symbol(),n=new Map;class css_tag_s{constructor(t,n){if(this._$cssResult$=!0,n!==css_tag_e)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){let e=n.get(this.cssText);return css_tag_t&&void 0===e&&(n.set(this.cssText,e=new CSSStyleSheet),e.replaceSync(this.cssText)),e}toString(){return this.cssText}}const o=t=>new css_tag_s("string"==typeof t?t:t+"",css_tag_e),r=(t,...n)=>{const o=1===t.length?t[0]:n.reduce(((e,n,s)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+t[s+1]),t[0]);return new css_tag_s(o,css_tag_e)},css_tag_i=(e,n)=>{css_tag_t?e.adoptedStyleSheets=n.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):n.forEach((t=>{const n=document.createElement("style"),s=window.litNonce;void 0!==s&&n.setAttribute("nonce",s),n.textContent=t.cssText,e.appendChild(n)}))},S=css_tag_t?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const n of t.cssRules)e+=n.cssText;return o(e)})(t):t;var reactive_element_s;const reactive_element_e=window.trustedTypes,reactive_element_r=reactive_element_e?reactive_element_e.emptyScript:"",h=window.reactiveElementPolyfillSupport,reactive_element_o={toAttribute(t,i){switch(i){case Boolean:t=t?reactive_element_r:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,i){let s=t;switch(i){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},reactive_element_n=(t,i)=>i!==t&&(i==i||t==t),l={attribute:!0,type:String,converter:reactive_element_o,reflect:!1,hasChanged:reactive_element_n};class reactive_element_a extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var i;null!==(i=this.l)&&void 0!==i||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((i,s)=>{const e=this._$Eh(s,i);void 0!==e&&(this._$Eu.set(e,s),t.push(e))})),t}static createProperty(t,i=l){if(i.state&&(i.attribute=!1),this.finalize(),this.elementProperties.set(t,i),!i.noAccessor&&!this.prototype.hasOwnProperty(t)){const s="symbol"==typeof t?Symbol():"__"+t,e=this.getPropertyDescriptor(t,s,i);void 0!==e&&Object.defineProperty(this.prototype,t,e)}}static getPropertyDescriptor(t,i,s){return{get(){return this[i]},set(e){const r=this[t];this[i]=e,this.requestUpdate(t,r,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||l}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const t=this.properties,i=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const s of i)this.createProperty(s,t[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(i){const s=[];if(Array.isArray(i)){const e=new Set(i.flat(1/0).reverse());for(const i of e)s.unshift(S(i))}else void 0!==i&&s.push(S(i));return s}static _$Eh(t,i){const s=i.attribute;return!1===s?void 0:"string"==typeof s?s:"string"==typeof t?t.toLowerCase():void 0}o(){var t;this._$Ep=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach((t=>t(this)))}addController(t){var i,s;(null!==(i=this._$Eg)&&void 0!==i?i:this._$Eg=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(s=t.hostConnected)||void 0===s||s.call(t))}removeController(t){var i;null===(i=this._$Eg)||void 0===i||i.splice(this._$Eg.indexOf(t)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach(((t,i)=>{this.hasOwnProperty(i)&&(this._$Et.set(i,this[i]),delete this[i])}))}createRenderRoot(){var t;const s=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return css_tag_i(s,this.constructor.elementStyles),s}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostConnected)||void 0===i?void 0:i.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostDisconnected)||void 0===i?void 0:i.call(t)}))}attributeChangedCallback(t,i,s){this._$AK(t,s)}_$ES(t,i,s=l){var e,r;const h=this.constructor._$Eh(t,s);if(void 0!==h&&!0===s.reflect){const n=(null!==(r=null===(e=s.converter)||void 0===e?void 0:e.toAttribute)&&void 0!==r?r:reactive_element_o.toAttribute)(i,s.type);this._$Ei=t,null==n?this.removeAttribute(h):this.setAttribute(h,n),this._$Ei=null}}_$AK(t,i){var s,e,r;const h=this.constructor,n=h._$Eu.get(t);if(void 0!==n&&this._$Ei!==n){const t=h.getPropertyOptions(n),l=t.converter,a=null!==(r=null!==(e=null===(s=l)||void 0===s?void 0:s.fromAttribute)&&void 0!==e?e:"function"==typeof l?l:null)&&void 0!==r?r:reactive_element_o.fromAttribute;this._$Ei=n,this[n]=a(i,t.type),this._$Ei=null}}requestUpdate(t,i,s){let e=!0;void 0!==t&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||reactive_element_n)(this[t],i)?(this._$AL.has(t)||this._$AL.set(t,i),!0===s.reflect&&this._$Ei!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,s))):e=!1),!this.isUpdatePending&&e&&(this._$Ep=this._$E_())}async _$E_(){this.isUpdatePending=!0;try{await this._$Ep}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((t,i)=>this[i]=t)),this._$Et=void 0);let i=!1;const s=this._$AL;try{i=this.shouldUpdate(s),i?(this.willUpdate(s),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostUpdate)||void 0===i?void 0:i.call(t)})),this.update(s)):this._$EU()}catch(t){throw i=!1,this._$EU(),t}i&&this._$AE(s)}willUpdate(t){}_$AE(t){var i;null===(i=this._$Eg)||void 0===i||i.forEach((t=>{var i;return null===(i=t.hostUpdated)||void 0===i?void 0:i.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,i)=>this._$ES(i,this[i],t))),this._$EC=void 0),this._$EU()}updated(t){}firstUpdated(t){}}reactive_element_a.finalized=!0,reactive_element_a.elementProperties=new Map,reactive_element_a.elementStyles=[],reactive_element_a.shadowRootOptions={mode:"open"},null==h||h({ReactiveElement:reactive_element_a}),(null!==(reactive_element_s=globalThis.reactiveElementVersions)&&void 0!==reactive_element_s?reactive_element_s:globalThis.reactiveElementVersions=[]).push("1.3.1");var lit_element_l,lit_element_o,lit_html=__webpack_require__("./node_modules/lit-html/lit-html.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var lit_element_r=reactive_element_a,lit_element_s=function(_t){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(s,_t);var _super=_createSuper(s);function s(){var _this;return _classCallCheck(this,s),(_this=_super.apply(this,arguments)).renderOptions={host:_assertThisInitialized(_this)},_this._$Dt=void 0,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(s,[{key:"createRenderRoot",value:function createRenderRoot(){var t,e,i=_get(_getPrototypeOf(s.prototype),"createRenderRoot",this).call(this);return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}},{key:"update",value:function update(t){var i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_get(_getPrototypeOf(s.prototype),"update",this).call(this,t),this._$Dt=Object(lit_html.render)(i,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function connectedCallback(){var t;_get(_getPrototypeOf(s.prototype),"connectedCallback",this).call(this),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t;_get(_getPrototypeOf(s.prototype),"disconnectedCallback",this).call(this),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}},{key:"render",value:function render(){return lit_html.noChange}}]),s}(reactive_element_a);lit_element_s.finalized=!0,lit_element_s._$litElement$=!0,null===(lit_element_l=globalThis.litElementHydrateSupport)||void 0===lit_element_l||lit_element_l.call(globalThis,{LitElement:lit_element_s});var lit_element_n=globalThis.litElementPolyfillSupport;null==lit_element_n||lit_element_n({LitElement:lit_element_s});var lit_element_h={_$AK:function _$AK(t,e,i){t._$AK(e,i)},_$AL:function _$AL(t){return t._$AL}};(null!==(lit_element_o=globalThis.litElementVersions)&&void 0!==lit_element_o?lit_element_o:globalThis.litElementVersions=[]).push("3.2.0")},"./node_modules/lodash/_DataView.js":function(module,exports,__webpack_require__){var DataView=__webpack_require__("./node_modules/lodash/_getNative.js")(__webpack_require__("./node_modules/lodash/_root.js"),"DataView");module.exports=DataView},"./node_modules/lodash/_Hash.js":function(module,exports,__webpack_require__){var hashClear=__webpack_require__("./node_modules/lodash/_hashClear.js"),hashDelete=__webpack_require__("./node_modules/lodash/_hashDelete.js"),hashGet=__webpack_require__("./node_modules/lodash/_hashGet.js"),hashHas=__webpack_require__("./node_modules/lodash/_hashHas.js"),hashSet=__webpack_require__("./node_modules/lodash/_hashSet.js");function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,module.exports=Hash},"./node_modules/lodash/_ListCache.js":function(module,exports,__webpack_require__){var listCacheClear=__webpack_require__("./node_modules/lodash/_listCacheClear.js"),listCacheDelete=__webpack_require__("./node_modules/lodash/_listCacheDelete.js"),listCacheGet=__webpack_require__("./node_modules/lodash/_listCacheGet.js"),listCacheHas=__webpack_require__("./node_modules/lodash/_listCacheHas.js"),listCacheSet=__webpack_require__("./node_modules/lodash/_listCacheSet.js");function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,module.exports=ListCache},"./node_modules/lodash/_Map.js":function(module,exports,__webpack_require__){var Map=__webpack_require__("./node_modules/lodash/_getNative.js")(__webpack_require__("./node_modules/lodash/_root.js"),"Map");module.exports=Map},"./node_modules/lodash/_MapCache.js":function(module,exports,__webpack_require__){var mapCacheClear=__webpack_require__("./node_modules/lodash/_mapCacheClear.js"),mapCacheDelete=__webpack_require__("./node_modules/lodash/_mapCacheDelete.js"),mapCacheGet=__webpack_require__("./node_modules/lodash/_mapCacheGet.js"),mapCacheHas=__webpack_require__("./node_modules/lodash/_mapCacheHas.js"),mapCacheSet=__webpack_require__("./node_modules/lodash/_mapCacheSet.js");function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,module.exports=MapCache},"./node_modules/lodash/_Promise.js":function(module,exports,__webpack_require__){var Promise=__webpack_require__("./node_modules/lodash/_getNative.js")(__webpack_require__("./node_modules/lodash/_root.js"),"Promise");module.exports=Promise},"./node_modules/lodash/_Set.js":function(module,exports,__webpack_require__){var Set=__webpack_require__("./node_modules/lodash/_getNative.js")(__webpack_require__("./node_modules/lodash/_root.js"),"Set");module.exports=Set},"./node_modules/lodash/_SetCache.js":function(module,exports,__webpack_require__){var MapCache=__webpack_require__("./node_modules/lodash/_MapCache.js"),setCacheAdd=__webpack_require__("./node_modules/lodash/_setCacheAdd.js"),setCacheHas=__webpack_require__("./node_modules/lodash/_setCacheHas.js");function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,module.exports=SetCache},"./node_modules/lodash/_Stack.js":function(module,exports,__webpack_require__){var ListCache=__webpack_require__("./node_modules/lodash/_ListCache.js"),stackClear=__webpack_require__("./node_modules/lodash/_stackClear.js"),stackDelete=__webpack_require__("./node_modules/lodash/_stackDelete.js"),stackGet=__webpack_require__("./node_modules/lodash/_stackGet.js"),stackHas=__webpack_require__("./node_modules/lodash/_stackHas.js"),stackSet=__webpack_require__("./node_modules/lodash/_stackSet.js");function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,module.exports=Stack},"./node_modules/lodash/_Symbol.js":function(module,exports,__webpack_require__){var Symbol=__webpack_require__("./node_modules/lodash/_root.js").Symbol;module.exports=Symbol},"./node_modules/lodash/_Uint8Array.js":function(module,exports,__webpack_require__){var Uint8Array=__webpack_require__("./node_modules/lodash/_root.js").Uint8Array;module.exports=Uint8Array},"./node_modules/lodash/_WeakMap.js":function(module,exports,__webpack_require__){var WeakMap=__webpack_require__("./node_modules/lodash/_getNative.js")(__webpack_require__("./node_modules/lodash/_root.js"),"WeakMap");module.exports=WeakMap},"./node_modules/lodash/_apply.js":function(module,exports){module.exports=function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}},"./node_modules/lodash/_arrayFilter.js":function(module,exports){module.exports=function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}},"./node_modules/lodash/_arrayLikeKeys.js":function(module,exports,__webpack_require__){var baseTimes=__webpack_require__("./node_modules/lodash/_baseTimes.js"),isArguments=__webpack_require__("./node_modules/lodash/isArguments.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isBuffer=__webpack_require__("./node_modules/lodash/isBuffer.js"),isIndex=__webpack_require__("./node_modules/lodash/_isIndex.js"),isTypedArray=__webpack_require__("./node_modules/lodash/isTypedArray.js"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}},"./node_modules/lodash/_arrayMap.js":function(module,exports){module.exports=function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}},"./node_modules/lodash/_arrayPush.js":function(module,exports){module.exports=function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}},"./node_modules/lodash/_arrayReduce.js":function(module,exports){module.exports=function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}},"./node_modules/lodash/_arraySome.js":function(module,exports){module.exports=function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}},"./node_modules/lodash/_asciiToArray.js":function(module,exports){module.exports=function asciiToArray(string){return string.split("")}},"./node_modules/lodash/_asciiWords.js":function(module,exports){var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;module.exports=function asciiWords(string){return string.match(reAsciiWord)||[]}},"./node_modules/lodash/_assignValue.js":function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__("./node_modules/lodash/_baseAssignValue.js"),eq=__webpack_require__("./node_modules/lodash/eq.js"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}},"./node_modules/lodash/_assocIndexOf.js":function(module,exports,__webpack_require__){var eq=__webpack_require__("./node_modules/lodash/eq.js");module.exports=function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}},"./node_modules/lodash/_baseAssignValue.js":function(module,exports,__webpack_require__){var defineProperty=__webpack_require__("./node_modules/lodash/_defineProperty.js");module.exports=function baseAssignValue(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}},"./node_modules/lodash/_baseFlatten.js":function(module,exports,__webpack_require__){var arrayPush=__webpack_require__("./node_modules/lodash/_arrayPush.js"),isFlattenable=__webpack_require__("./node_modules/lodash/_isFlattenable.js");module.exports=function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}},"./node_modules/lodash/_baseFor.js":function(module,exports,__webpack_require__){var baseFor=__webpack_require__("./node_modules/lodash/_createBaseFor.js")();module.exports=baseFor},"./node_modules/lodash/_baseForOwn.js":function(module,exports,__webpack_require__){var baseFor=__webpack_require__("./node_modules/lodash/_baseFor.js"),keys=__webpack_require__("./node_modules/lodash/keys.js");module.exports=function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}},"./node_modules/lodash/_baseGet.js":function(module,exports,__webpack_require__){var castPath=__webpack_require__("./node_modules/lodash/_castPath.js"),toKey=__webpack_require__("./node_modules/lodash/_toKey.js");module.exports=function baseGet(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}},"./node_modules/lodash/_baseGetAllKeys.js":function(module,exports,__webpack_require__){var arrayPush=__webpack_require__("./node_modules/lodash/_arrayPush.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js");module.exports=function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}},"./node_modules/lodash/_baseGetTag.js":function(module,exports,__webpack_require__){var Symbol=__webpack_require__("./node_modules/lodash/_Symbol.js"),getRawTag=__webpack_require__("./node_modules/lodash/_getRawTag.js"),objectToString=__webpack_require__("./node_modules/lodash/_objectToString.js"),symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function baseGetTag(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}},"./node_modules/lodash/_baseHasIn.js":function(module,exports){module.exports=function baseHasIn(object,key){return null!=object&&key in Object(object)}},"./node_modules/lodash/_baseIsArguments.js":function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js");module.exports=function baseIsArguments(value){return isObjectLike(value)&&"[object Arguments]"==baseGetTag(value)}},"./node_modules/lodash/_baseIsEqual.js":function(module,exports,__webpack_require__){var baseIsEqualDeep=__webpack_require__("./node_modules/lodash/_baseIsEqualDeep.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js");module.exports=function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack))}},"./node_modules/lodash/_baseIsEqualDeep.js":function(module,exports,__webpack_require__){var Stack=__webpack_require__("./node_modules/lodash/_Stack.js"),equalArrays=__webpack_require__("./node_modules/lodash/_equalArrays.js"),equalByTag=__webpack_require__("./node_modules/lodash/_equalByTag.js"),equalObjects=__webpack_require__("./node_modules/lodash/_equalObjects.js"),getTag=__webpack_require__("./node_modules/lodash/_getTag.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isBuffer=__webpack_require__("./node_modules/lodash/isBuffer.js"),isTypedArray=__webpack_require__("./node_modules/lodash/isTypedArray.js"),objectTag="[object Object]",hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?"[object Array]":getTag(object),othTag=othIsArr?"[object Array]":getTag(other),objIsObj=(objTag="[object Arguments]"==objTag?objectTag:objTag)==objectTag,othIsObj=(othTag="[object Arguments]"==othTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(1&bitmask)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack))}},"./node_modules/lodash/_baseIsMatch.js":function(module,exports,__webpack_require__){var Stack=__webpack_require__("./node_modules/lodash/_Stack.js"),baseIsEqual=__webpack_require__("./node_modules/lodash/_baseIsEqual.js");module.exports=function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,3,customizer,stack):result))return!1}}return!0}},"./node_modules/lodash/_baseIsNative.js":function(module,exports,__webpack_require__){var isFunction=__webpack_require__("./node_modules/lodash/isFunction.js"),isMasked=__webpack_require__("./node_modules/lodash/_isMasked.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js"),toSource=__webpack_require__("./node_modules/lodash/_toSource.js"),reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=function baseIsNative(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}},"./node_modules/lodash/_baseIsTypedArray.js":function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),isLength=__webpack_require__("./node_modules/lodash/isLength.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js"),typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags["[object Arguments]"]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags["[object Function]"]=typedArrayTags["[object Map]"]=typedArrayTags["[object Number]"]=typedArrayTags["[object Object]"]=typedArrayTags["[object RegExp]"]=typedArrayTags["[object Set]"]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1,module.exports=function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}},"./node_modules/lodash/_baseIteratee.js":function(module,exports,__webpack_require__){var baseMatches=__webpack_require__("./node_modules/lodash/_baseMatches.js"),baseMatchesProperty=__webpack_require__("./node_modules/lodash/_baseMatchesProperty.js"),identity=__webpack_require__("./node_modules/lodash/identity.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),property=__webpack_require__("./node_modules/lodash/property.js");module.exports=function baseIteratee(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}},"./node_modules/lodash/_baseKeys.js":function(module,exports,__webpack_require__){var isPrototype=__webpack_require__("./node_modules/lodash/_isPrototype.js"),nativeKeys=__webpack_require__("./node_modules/lodash/_nativeKeys.js"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}},"./node_modules/lodash/_baseKeysIn.js":function(module,exports,__webpack_require__){var isObject=__webpack_require__("./node_modules/lodash/isObject.js"),isPrototype=__webpack_require__("./node_modules/lodash/_isPrototype.js"),nativeKeysIn=__webpack_require__("./node_modules/lodash/_nativeKeysIn.js"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function baseKeysIn(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}},"./node_modules/lodash/_baseMatches.js":function(module,exports,__webpack_require__){var baseIsMatch=__webpack_require__("./node_modules/lodash/_baseIsMatch.js"),getMatchData=__webpack_require__("./node_modules/lodash/_getMatchData.js"),matchesStrictComparable=__webpack_require__("./node_modules/lodash/_matchesStrictComparable.js");module.exports=function baseMatches(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}},"./node_modules/lodash/_baseMatchesProperty.js":function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__("./node_modules/lodash/_baseIsEqual.js"),get=__webpack_require__("./node_modules/lodash/get.js"),hasIn=__webpack_require__("./node_modules/lodash/hasIn.js"),isKey=__webpack_require__("./node_modules/lodash/_isKey.js"),isStrictComparable=__webpack_require__("./node_modules/lodash/_isStrictComparable.js"),matchesStrictComparable=__webpack_require__("./node_modules/lodash/_matchesStrictComparable.js"),toKey=__webpack_require__("./node_modules/lodash/_toKey.js");module.exports=function baseMatchesProperty(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,3)}}},"./node_modules/lodash/_basePick.js":function(module,exports,__webpack_require__){var basePickBy=__webpack_require__("./node_modules/lodash/_basePickBy.js"),hasIn=__webpack_require__("./node_modules/lodash/hasIn.js");module.exports=function basePick(object,paths){return basePickBy(object,paths,(function(value,path){return hasIn(object,path)}))}},"./node_modules/lodash/_basePickBy.js":function(module,exports,__webpack_require__){var baseGet=__webpack_require__("./node_modules/lodash/_baseGet.js"),baseSet=__webpack_require__("./node_modules/lodash/_baseSet.js"),castPath=__webpack_require__("./node_modules/lodash/_castPath.js");module.exports=function basePickBy(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}},"./node_modules/lodash/_baseProperty.js":function(module,exports){module.exports=function baseProperty(key){return function(object){return null==object?void 0:object[key]}}},"./node_modules/lodash/_basePropertyDeep.js":function(module,exports,__webpack_require__){var baseGet=__webpack_require__("./node_modules/lodash/_baseGet.js");module.exports=function basePropertyDeep(path){return function(object){return baseGet(object,path)}}},"./node_modules/lodash/_basePropertyOf.js":function(module,exports){module.exports=function basePropertyOf(object){return function(key){return null==object?void 0:object[key]}}},"./node_modules/lodash/_baseSet.js":function(module,exports,__webpack_require__){var assignValue=__webpack_require__("./node_modules/lodash/_assignValue.js"),castPath=__webpack_require__("./node_modules/lodash/_castPath.js"),isIndex=__webpack_require__("./node_modules/lodash/_isIndex.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js"),toKey=__webpack_require__("./node_modules/lodash/_toKey.js");module.exports=function baseSet(object,path,value,customizer){if(!isObject(object))return object;for(var index=-1,length=(path=castPath(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if("__proto__"===key||"constructor"===key||"prototype"===key)return object;if(index!=lastIndex){var objValue=nested[key];void 0===(newValue=customizer?customizer(objValue,key,nested):void 0)&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}},"./node_modules/lodash/_baseSetToString.js":function(module,exports,__webpack_require__){var constant=__webpack_require__("./node_modules/lodash/constant.js"),defineProperty=__webpack_require__("./node_modules/lodash/_defineProperty.js"),identity=__webpack_require__("./node_modules/lodash/identity.js"),baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;module.exports=baseSetToString},"./node_modules/lodash/_baseSlice.js":function(module,exports){module.exports=function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}},"./node_modules/lodash/_baseTimes.js":function(module,exports){module.exports=function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}},"./node_modules/lodash/_baseToString.js":function(module,exports,__webpack_require__){var Symbol=__webpack_require__("./node_modules/lodash/_Symbol.js"),arrayMap=__webpack_require__("./node_modules/lodash/_arrayMap.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isSymbol=__webpack_require__("./node_modules/lodash/isSymbol.js"),symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-Infinity?"-0":result}},"./node_modules/lodash/_baseUnary.js":function(module,exports){module.exports=function baseUnary(func){return function(value){return func(value)}}},"./node_modules/lodash/_cacheHas.js":function(module,exports){module.exports=function cacheHas(cache,key){return cache.has(key)}},"./node_modules/lodash/_castPath.js":function(module,exports,__webpack_require__){var isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isKey=__webpack_require__("./node_modules/lodash/_isKey.js"),stringToPath=__webpack_require__("./node_modules/lodash/_stringToPath.js"),toString=__webpack_require__("./node_modules/lodash/toString.js");module.exports=function castPath(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}},"./node_modules/lodash/_castSlice.js":function(module,exports,__webpack_require__){var baseSlice=__webpack_require__("./node_modules/lodash/_baseSlice.js");module.exports=function castSlice(array,start,end){var length=array.length;return end=void 0===end?length:end,!start&&end>=length?array:baseSlice(array,start,end)}},"./node_modules/lodash/_coreJsData.js":function(module,exports,__webpack_require__){var coreJsData=__webpack_require__("./node_modules/lodash/_root.js")["__core-js_shared__"];module.exports=coreJsData},"./node_modules/lodash/_createBaseFor.js":function(module,exports){module.exports=function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}},"./node_modules/lodash/_createCaseFirst.js":function(module,exports,__webpack_require__){var castSlice=__webpack_require__("./node_modules/lodash/_castSlice.js"),hasUnicode=__webpack_require__("./node_modules/lodash/_hasUnicode.js"),stringToArray=__webpack_require__("./node_modules/lodash/_stringToArray.js"),toString=__webpack_require__("./node_modules/lodash/toString.js");module.exports=function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):void 0,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}},"./node_modules/lodash/_createCompounder.js":function(module,exports,__webpack_require__){var arrayReduce=__webpack_require__("./node_modules/lodash/_arrayReduce.js"),deburr=__webpack_require__("./node_modules/lodash/deburr.js"),words=__webpack_require__("./node_modules/lodash/words.js"),reApos=RegExp("[']","g");module.exports=function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}},"./node_modules/lodash/_deburrLetter.js":function(module,exports,__webpack_require__){var deburrLetter=__webpack_require__("./node_modules/lodash/_basePropertyOf.js")({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"});module.exports=deburrLetter},"./node_modules/lodash/_defineProperty.js":function(module,exports,__webpack_require__){var getNative=__webpack_require__("./node_modules/lodash/_getNative.js"),defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}();module.exports=defineProperty},"./node_modules/lodash/_equalArrays.js":function(module,exports,__webpack_require__){var SetCache=__webpack_require__("./node_modules/lodash/_SetCache.js"),arraySome=__webpack_require__("./node_modules/lodash/_arraySome.js"),cacheHas=__webpack_require__("./node_modules/lodash/_cacheHas.js");module.exports=function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var arrStacked=stack.get(array),othStacked=stack.get(other);if(arrStacked&&othStacked)return arrStacked==other&&othStacked==array;var index=-1,result=!0,seen=2&bitmask?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,(function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)}))){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}},"./node_modules/lodash/_equalByTag.js":function(module,exports,__webpack_require__){var Symbol=__webpack_require__("./node_modules/lodash/_Symbol.js"),Uint8Array=__webpack_require__("./node_modules/lodash/_Uint8Array.js"),eq=__webpack_require__("./node_modules/lodash/eq.js"),equalArrays=__webpack_require__("./node_modules/lodash/_equalArrays.js"),mapToArray=__webpack_require__("./node_modules/lodash/_mapToArray.js"),setToArray=__webpack_require__("./node_modules/lodash/_setToArray.js"),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case"[object DataView]":if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case"[object ArrayBuffer]":return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case"[object Boolean]":case"[object Date]":case"[object Number]":return eq(+object,+other);case"[object Error]":return object.name==other.name&&object.message==other.message;case"[object RegExp]":case"[object String]":return object==other+"";case"[object Map]":var convert=mapToArray;case"[object Set]":var isPartial=1&bitmask;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=2,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case"[object Symbol]":if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}},"./node_modules/lodash/_equalObjects.js":function(module,exports,__webpack_require__){var getAllKeys=__webpack_require__("./node_modules/lodash/_getAllKeys.js"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,objProps=getAllKeys(object),objLength=objProps.length;if(objLength!=getAllKeys(other).length&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var objStacked=stack.get(object),othStacked=stack.get(other);if(objStacked&&othStacked)return objStacked==other&&othStacked==object;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor==othCtor||!("constructor"in object)||!("constructor"in other)||"function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor||(result=!1)}return stack.delete(object),stack.delete(other),result}},"./node_modules/lodash/_flatRest.js":function(module,exports,__webpack_require__){var flatten=__webpack_require__("./node_modules/lodash/flatten.js"),overRest=__webpack_require__("./node_modules/lodash/_overRest.js"),setToString=__webpack_require__("./node_modules/lodash/_setToString.js");module.exports=function flatRest(func){return setToString(overRest(func,void 0,flatten),func+"")}},"./node_modules/lodash/_freeGlobal.js":function(module,exports,__webpack_require__){(function(global){var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"))},"./node_modules/lodash/_getAllKeys.js":function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__("./node_modules/lodash/_baseGetAllKeys.js"),getSymbols=__webpack_require__("./node_modules/lodash/_getSymbols.js"),keys=__webpack_require__("./node_modules/lodash/keys.js");module.exports=function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}},"./node_modules/lodash/_getAllKeysIn.js":function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__("./node_modules/lodash/_baseGetAllKeys.js"),getSymbolsIn=__webpack_require__("./node_modules/lodash/_getSymbolsIn.js"),keysIn=__webpack_require__("./node_modules/lodash/keysIn.js");module.exports=function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}},"./node_modules/lodash/_getMapData.js":function(module,exports,__webpack_require__){var isKeyable=__webpack_require__("./node_modules/lodash/_isKeyable.js");module.exports=function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}},"./node_modules/lodash/_getMatchData.js":function(module,exports,__webpack_require__){var isStrictComparable=__webpack_require__("./node_modules/lodash/_isStrictComparable.js"),keys=__webpack_require__("./node_modules/lodash/keys.js");module.exports=function getMatchData(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}},"./node_modules/lodash/_getNative.js":function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__("./node_modules/lodash/_baseIsNative.js"),getValue=__webpack_require__("./node_modules/lodash/_getValue.js");module.exports=function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}},"./node_modules/lodash/_getPrototype.js":function(module,exports,__webpack_require__){var getPrototype=__webpack_require__("./node_modules/lodash/_overArg.js")(Object.getPrototypeOf,Object);module.exports=getPrototype},"./node_modules/lodash/_getRawTag.js":function(module,exports,__webpack_require__){var Symbol=__webpack_require__("./node_modules/lodash/_Symbol.js"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}},"./node_modules/lodash/_getSymbols.js":function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__("./node_modules/lodash/_arrayFilter.js"),stubArray=__webpack_require__("./node_modules/lodash/stubArray.js"),propertyIsEnumerable=Object.prototype.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)})))}:stubArray;module.exports=getSymbols},"./node_modules/lodash/_getSymbolsIn.js":function(module,exports,__webpack_require__){var arrayPush=__webpack_require__("./node_modules/lodash/_arrayPush.js"),getPrototype=__webpack_require__("./node_modules/lodash/_getPrototype.js"),getSymbols=__webpack_require__("./node_modules/lodash/_getSymbols.js"),stubArray=__webpack_require__("./node_modules/lodash/stubArray.js"),getSymbolsIn=Object.getOwnPropertySymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray;module.exports=getSymbolsIn},"./node_modules/lodash/_getTag.js":function(module,exports,__webpack_require__){var DataView=__webpack_require__("./node_modules/lodash/_DataView.js"),Map=__webpack_require__("./node_modules/lodash/_Map.js"),Promise=__webpack_require__("./node_modules/lodash/_Promise.js"),Set=__webpack_require__("./node_modules/lodash/_Set.js"),WeakMap=__webpack_require__("./node_modules/lodash/_WeakMap.js"),baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),toSource=__webpack_require__("./node_modules/lodash/_toSource.js"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&"[object DataView]"!=getTag(new DataView(new ArrayBuffer(1)))||Map&&"[object Map]"!=getTag(new Map)||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&"[object Set]"!=getTag(new Set)||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=baseGetTag(value),Ctor="[object Object]"==result?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return"[object DataView]";case mapCtorString:return"[object Map]";case promiseCtorString:return"[object Promise]";case setCtorString:return"[object Set]";case weakMapCtorString:return"[object WeakMap]"}return result}),module.exports=getTag},"./node_modules/lodash/_getValue.js":function(module,exports){module.exports=function getValue(object,key){return null==object?void 0:object[key]}},"./node_modules/lodash/_hasPath.js":function(module,exports,__webpack_require__){var castPath=__webpack_require__("./node_modules/lodash/_castPath.js"),isArguments=__webpack_require__("./node_modules/lodash/isArguments.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isIndex=__webpack_require__("./node_modules/lodash/_isIndex.js"),isLength=__webpack_require__("./node_modules/lodash/isLength.js"),toKey=__webpack_require__("./node_modules/lodash/_toKey.js");module.exports=function hasPath(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}},"./node_modules/lodash/_hasUnicode.js":function(module,exports){var reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");module.exports=function hasUnicode(string){return reHasUnicode.test(string)}},"./node_modules/lodash/_hasUnicodeWord.js":function(module,exports){var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;module.exports=function hasUnicodeWord(string){return reHasUnicodeWord.test(string)}},"./node_modules/lodash/_hashClear.js":function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__("./node_modules/lodash/_nativeCreate.js");module.exports=function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}},"./node_modules/lodash/_hashDelete.js":function(module,exports){module.exports=function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}},"./node_modules/lodash/_hashGet.js":function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__("./node_modules/lodash/_nativeCreate.js"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}},"./node_modules/lodash/_hashHas.js":function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__("./node_modules/lodash/_nativeCreate.js"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}},"./node_modules/lodash/_hashSet.js":function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__("./node_modules/lodash/_nativeCreate.js");module.exports=function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this}},"./node_modules/lodash/_isFlattenable.js":function(module,exports,__webpack_require__){var Symbol=__webpack_require__("./node_modules/lodash/_Symbol.js"),isArguments=__webpack_require__("./node_modules/lodash/isArguments.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0;module.exports=function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}},"./node_modules/lodash/_isIndex.js":function(module,exports){var reIsUint=/^(?:0|[1-9]\d*)$/;module.exports=function isIndex(value,length){var type=typeof value;return!!(length=null==length?9007199254740991:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}},"./node_modules/lodash/_isKey.js":function(module,exports,__webpack_require__){var isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isSymbol=__webpack_require__("./node_modules/lodash/isSymbol.js"),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;module.exports=function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}},"./node_modules/lodash/_isKeyable.js":function(module,exports){module.exports=function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}},"./node_modules/lodash/_isMasked.js":function(module,exports,__webpack_require__){var uid,coreJsData=__webpack_require__("./node_modules/lodash/_coreJsData.js"),maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"";module.exports=function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}},"./node_modules/lodash/_isPrototype.js":function(module,exports){var objectProto=Object.prototype;module.exports=function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}},"./node_modules/lodash/_isStrictComparable.js":function(module,exports,__webpack_require__){var isObject=__webpack_require__("./node_modules/lodash/isObject.js");module.exports=function isStrictComparable(value){return value==value&&!isObject(value)}},"./node_modules/lodash/_listCacheClear.js":function(module,exports){module.exports=function listCacheClear(){this.__data__=[],this.size=0}},"./node_modules/lodash/_listCacheDelete.js":function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__("./node_modules/lodash/_assocIndexOf.js"),splice=Array.prototype.splice;module.exports=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)}},"./node_modules/lodash/_listCacheGet.js":function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__("./node_modules/lodash/_assocIndexOf.js");module.exports=function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}},"./node_modules/lodash/_listCacheHas.js":function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__("./node_modules/lodash/_assocIndexOf.js");module.exports=function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}},"./node_modules/lodash/_listCacheSet.js":function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__("./node_modules/lodash/_assocIndexOf.js");module.exports=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}},"./node_modules/lodash/_mapCacheClear.js":function(module,exports,__webpack_require__){var Hash=__webpack_require__("./node_modules/lodash/_Hash.js"),ListCache=__webpack_require__("./node_modules/lodash/_ListCache.js"),Map=__webpack_require__("./node_modules/lodash/_Map.js");module.exports=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}},"./node_modules/lodash/_mapCacheDelete.js":function(module,exports,__webpack_require__){var getMapData=__webpack_require__("./node_modules/lodash/_getMapData.js");module.exports=function mapCacheDelete(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}},"./node_modules/lodash/_mapCacheGet.js":function(module,exports,__webpack_require__){var getMapData=__webpack_require__("./node_modules/lodash/_getMapData.js");module.exports=function mapCacheGet(key){return getMapData(this,key).get(key)}},"./node_modules/lodash/_mapCacheHas.js":function(module,exports,__webpack_require__){var getMapData=__webpack_require__("./node_modules/lodash/_getMapData.js");module.exports=function mapCacheHas(key){return getMapData(this,key).has(key)}},"./node_modules/lodash/_mapCacheSet.js":function(module,exports,__webpack_require__){var getMapData=__webpack_require__("./node_modules/lodash/_getMapData.js");module.exports=function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}},"./node_modules/lodash/_mapToArray.js":function(module,exports){module.exports=function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}},"./node_modules/lodash/_matchesStrictComparable.js":function(module,exports){module.exports=function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}}},"./node_modules/lodash/_memoizeCapped.js":function(module,exports,__webpack_require__){var memoize=__webpack_require__("./node_modules/lodash/memoize.js");module.exports=function memoizeCapped(func){var result=memoize(func,(function(key){return 500===cache.size&&cache.clear(),key})),cache=result.cache;return result}},"./node_modules/lodash/_nativeCreate.js":function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__("./node_modules/lodash/_getNative.js")(Object,"create");module.exports=nativeCreate},"./node_modules/lodash/_nativeKeys.js":function(module,exports,__webpack_require__){var nativeKeys=__webpack_require__("./node_modules/lodash/_overArg.js")(Object.keys,Object);module.exports=nativeKeys},"./node_modules/lodash/_nativeKeysIn.js":function(module,exports){module.exports=function nativeKeysIn(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}},"./node_modules/lodash/_nodeUtil.js":function(module,exports,__webpack_require__){(function(module){var freeGlobal=__webpack_require__("./node_modules/lodash/_freeGlobal.js"),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,freeProcess=freeModule&&freeModule.exports===freeExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil}).call(this,__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./node_modules/lodash/_objectToString.js":function(module,exports){var nativeObjectToString=Object.prototype.toString;module.exports=function objectToString(value){return nativeObjectToString.call(value)}},"./node_modules/lodash/_overArg.js":function(module,exports){module.exports=function overArg(func,transform){return function(arg){return func(transform(arg))}}},"./node_modules/lodash/_overRest.js":function(module,exports,__webpack_require__){var apply=__webpack_require__("./node_modules/lodash/_apply.js"),nativeMax=Math.max;module.exports=function overRest(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}},"./node_modules/lodash/_root.js":function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__("./node_modules/lodash/_freeGlobal.js"),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},"./node_modules/lodash/_setCacheAdd.js":function(module,exports){module.exports=function setCacheAdd(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this}},"./node_modules/lodash/_setCacheHas.js":function(module,exports){module.exports=function setCacheHas(value){return this.__data__.has(value)}},"./node_modules/lodash/_setToArray.js":function(module,exports){module.exports=function setToArray(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}},"./node_modules/lodash/_setToString.js":function(module,exports,__webpack_require__){var baseSetToString=__webpack_require__("./node_modules/lodash/_baseSetToString.js"),setToString=__webpack_require__("./node_modules/lodash/_shortOut.js")(baseSetToString);module.exports=setToString},"./node_modules/lodash/_shortOut.js":function(module,exports){var nativeNow=Date.now;module.exports=function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=16-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=800)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}},"./node_modules/lodash/_stackClear.js":function(module,exports,__webpack_require__){var ListCache=__webpack_require__("./node_modules/lodash/_ListCache.js");module.exports=function stackClear(){this.__data__=new ListCache,this.size=0}},"./node_modules/lodash/_stackDelete.js":function(module,exports){module.exports=function stackDelete(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}},"./node_modules/lodash/_stackGet.js":function(module,exports){module.exports=function stackGet(key){return this.__data__.get(key)}},"./node_modules/lodash/_stackHas.js":function(module,exports){module.exports=function stackHas(key){return this.__data__.has(key)}},"./node_modules/lodash/_stackSet.js":function(module,exports,__webpack_require__){var ListCache=__webpack_require__("./node_modules/lodash/_ListCache.js"),Map=__webpack_require__("./node_modules/lodash/_Map.js"),MapCache=__webpack_require__("./node_modules/lodash/_MapCache.js");module.exports=function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}},"./node_modules/lodash/_stringToArray.js":function(module,exports,__webpack_require__){var asciiToArray=__webpack_require__("./node_modules/lodash/_asciiToArray.js"),hasUnicode=__webpack_require__("./node_modules/lodash/_hasUnicode.js"),unicodeToArray=__webpack_require__("./node_modules/lodash/_unicodeToArray.js");module.exports=function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}},"./node_modules/lodash/_stringToPath.js":function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__("./node_modules/lodash/_memoizeCapped.js"),rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped((function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)})),result}));module.exports=stringToPath},"./node_modules/lodash/_toKey.js":function(module,exports,__webpack_require__){var isSymbol=__webpack_require__("./node_modules/lodash/isSymbol.js");module.exports=function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-Infinity?"-0":result}},"./node_modules/lodash/_toSource.js":function(module,exports){var funcToString=Function.prototype.toString;module.exports=function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}},"./node_modules/lodash/_unicodeToArray.js":function(module,exports){var rsAstral="[\\ud800-\\udfff]",rsCombo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");module.exports=function unicodeToArray(string){return string.match(reUnicode)||[]}},"./node_modules/lodash/_unicodeWords.js":function(module,exports){var rsBreakRange="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsBreak="["+rsBreakRange+"]",rsDigits="\\d+",rsDingbat="[\\u2700-\\u27bf]",rsLower="[a-z\\xdf-\\xf6\\xf8-\\xff]",rsMisc="[^\\ud800-\\udfff"+rsBreakRange+rsDigits+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",reOptMod="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+(?:['](?:d|ll|m|re|s|t|ve))?",rsUpper+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsDigits,rsEmoji].join("|"),"g");module.exports=function unicodeWords(string){return string.match(reUnicodeWord)||[]}},"./node_modules/lodash/constant.js":function(module,exports){module.exports=function constant(value){return function(){return value}}},"./node_modules/lodash/deburr.js":function(module,exports,__webpack_require__){var deburrLetter=__webpack_require__("./node_modules/lodash/_deburrLetter.js"),toString=__webpack_require__("./node_modules/lodash/toString.js"),reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,reComboMark=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");module.exports=function deburr(string){return(string=toString(string))&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}},"./node_modules/lodash/eq.js":function(module,exports){module.exports=function eq(value,other){return value===other||value!=value&&other!=other}},"./node_modules/lodash/flatten.js":function(module,exports,__webpack_require__){var baseFlatten=__webpack_require__("./node_modules/lodash/_baseFlatten.js");module.exports=function flatten(array){return(null==array?0:array.length)?baseFlatten(array,1):[]}},"./node_modules/lodash/get.js":function(module,exports,__webpack_require__){var baseGet=__webpack_require__("./node_modules/lodash/_baseGet.js");module.exports=function get(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}},"./node_modules/lodash/hasIn.js":function(module,exports,__webpack_require__){var baseHasIn=__webpack_require__("./node_modules/lodash/_baseHasIn.js"),hasPath=__webpack_require__("./node_modules/lodash/_hasPath.js");module.exports=function hasIn(object,path){return null!=object&&hasPath(object,path,baseHasIn)}},"./node_modules/lodash/identity.js":function(module,exports){module.exports=function identity(value){return value}},"./node_modules/lodash/isArguments.js":function(module,exports,__webpack_require__){var baseIsArguments=__webpack_require__("./node_modules/lodash/_baseIsArguments.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},"./node_modules/lodash/isArray.js":function(module,exports){var isArray=Array.isArray;module.exports=isArray},"./node_modules/lodash/isArrayLike.js":function(module,exports,__webpack_require__){var isFunction=__webpack_require__("./node_modules/lodash/isFunction.js"),isLength=__webpack_require__("./node_modules/lodash/isLength.js");module.exports=function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}},"./node_modules/lodash/isBuffer.js":function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__("./node_modules/lodash/_root.js"),stubFalse=__webpack_require__("./node_modules/lodash/stubFalse.js"),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,isBuffer=(Buffer?Buffer.isBuffer:void 0)||stubFalse;module.exports=isBuffer}).call(this,__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./node_modules/lodash/isFunction.js":function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js");module.exports=function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return"[object Function]"==tag||"[object GeneratorFunction]"==tag||"[object AsyncFunction]"==tag||"[object Proxy]"==tag}},"./node_modules/lodash/isLength.js":function(module,exports){module.exports=function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=9007199254740991}},"./node_modules/lodash/isObject.js":function(module,exports){module.exports=function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}},"./node_modules/lodash/isObjectLike.js":function(module,exports){module.exports=function isObjectLike(value){return null!=value&&"object"==typeof value}},"./node_modules/lodash/isPlainObject.js":function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),getPrototype=__webpack_require__("./node_modules/lodash/_getPrototype.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js"),funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);module.exports=function isPlainObject(value){if(!isObjectLike(value)||"[object Object]"!=baseGetTag(value))return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}},"./node_modules/lodash/isSymbol.js":function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js");module.exports=function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&"[object Symbol]"==baseGetTag(value)}},"./node_modules/lodash/isTypedArray.js":function(module,exports,__webpack_require__){var baseIsTypedArray=__webpack_require__("./node_modules/lodash/_baseIsTypedArray.js"),baseUnary=__webpack_require__("./node_modules/lodash/_baseUnary.js"),nodeUtil=__webpack_require__("./node_modules/lodash/_nodeUtil.js"),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},"./node_modules/lodash/keys.js":function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__("./node_modules/lodash/_arrayLikeKeys.js"),baseKeys=__webpack_require__("./node_modules/lodash/_baseKeys.js"),isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js");module.exports=function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}},"./node_modules/lodash/keysIn.js":function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__("./node_modules/lodash/_arrayLikeKeys.js"),baseKeysIn=__webpack_require__("./node_modules/lodash/_baseKeysIn.js"),isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js");module.exports=function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}},"./node_modules/lodash/mapValues.js":function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__("./node_modules/lodash/_baseAssignValue.js"),baseForOwn=__webpack_require__("./node_modules/lodash/_baseForOwn.js"),baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js");module.exports=function mapValues(object,iteratee){var result={};return iteratee=baseIteratee(iteratee,3),baseForOwn(object,(function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))})),result}},"./node_modules/lodash/memoize.js":function(module,exports,__webpack_require__){var MapCache=__webpack_require__("./node_modules/lodash/_MapCache.js");function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError("Expected a function");var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache,module.exports=memoize},"./node_modules/lodash/pick.js":function(module,exports,__webpack_require__){var basePick=__webpack_require__("./node_modules/lodash/_basePick.js"),pick=__webpack_require__("./node_modules/lodash/_flatRest.js")((function(object,paths){return null==object?{}:basePick(object,paths)}));module.exports=pick},"./node_modules/lodash/pickBy.js":function(module,exports,__webpack_require__){var arrayMap=__webpack_require__("./node_modules/lodash/_arrayMap.js"),baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js"),basePickBy=__webpack_require__("./node_modules/lodash/_basePickBy.js"),getAllKeysIn=__webpack_require__("./node_modules/lodash/_getAllKeysIn.js");module.exports=function pickBy(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),(function(prop){return[prop]}));return predicate=baseIteratee(predicate),basePickBy(object,props,(function(value,path){return predicate(value,path[0])}))}},"./node_modules/lodash/property.js":function(module,exports,__webpack_require__){var baseProperty=__webpack_require__("./node_modules/lodash/_baseProperty.js"),basePropertyDeep=__webpack_require__("./node_modules/lodash/_basePropertyDeep.js"),isKey=__webpack_require__("./node_modules/lodash/_isKey.js"),toKey=__webpack_require__("./node_modules/lodash/_toKey.js");module.exports=function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}},"./node_modules/lodash/startCase.js":function(module,exports,__webpack_require__){var createCompounder=__webpack_require__("./node_modules/lodash/_createCompounder.js"),upperFirst=__webpack_require__("./node_modules/lodash/upperFirst.js"),startCase=createCompounder((function(result,word,index){return result+(index?" ":"")+upperFirst(word)}));module.exports=startCase},"./node_modules/lodash/stubArray.js":function(module,exports){module.exports=function stubArray(){return[]}},"./node_modules/lodash/stubFalse.js":function(module,exports){module.exports=function stubFalse(){return!1}},"./node_modules/lodash/toString.js":function(module,exports,__webpack_require__){var baseToString=__webpack_require__("./node_modules/lodash/_baseToString.js");module.exports=function toString(value){return null==value?"":baseToString(value)}},"./node_modules/lodash/upperFirst.js":function(module,exports,__webpack_require__){var upperFirst=__webpack_require__("./node_modules/lodash/_createCaseFirst.js")("toUpperCase");module.exports=upperFirst},"./node_modules/lodash/words.js":function(module,exports,__webpack_require__){var asciiWords=__webpack_require__("./node_modules/lodash/_asciiWords.js"),hasUnicodeWord=__webpack_require__("./node_modules/lodash/_hasUnicodeWord.js"),toString=__webpack_require__("./node_modules/lodash/toString.js"),unicodeWords=__webpack_require__("./node_modules/lodash/_unicodeWords.js");module.exports=function words(string,pattern,guard){return string=toString(string),void 0===(pattern=guard?void 0:pattern)?hasUnicodeWord(string)?unicodeWords(string):asciiWords(string):string.match(pattern)||[]}},"./node_modules/memoizerific/memoizerific.js":function(module,exports,__webpack_require__){module.exports=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,(function(e){var n=t[o][1][e];return s(n||e)}),l,l.exports,e,t,n,r)}return n[o].exports}for(var i=!1,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){module.exports=function(forceSimilar){return"function"!=typeof Map||forceSimilar?new(_dereq_("./similar")):new Map}},{"./similar":2}],2:[function(_dereq_,module,exports){function Similar(){return this.list=[],this.lastItem=void 0,this.size=0,this}Similar.prototype.get=function(key){var index;return this.lastItem&&this.isEqual(this.lastItem.key,key)?this.lastItem.val:(index=this.indexOf(key))>=0?(this.lastItem=this.list[index],this.list[index].val):void 0},Similar.prototype.set=function(key,val){var index;return this.lastItem&&this.isEqual(this.lastItem.key,key)?(this.lastItem.val=val,this):(index=this.indexOf(key))>=0?(this.lastItem=this.list[index],this.list[index].val=val,this):(this.lastItem={key:key,val:val},this.list.push(this.lastItem),this.size++,this)},Similar.prototype.delete=function(key){var index;if(this.lastItem&&this.isEqual(this.lastItem.key,key)&&(this.lastItem=void 0),(index=this.indexOf(key))>=0)return this.size--,this.list.splice(index,1)[0]},Similar.prototype.has=function(key){var index;return!(!this.lastItem||!this.isEqual(this.lastItem.key,key))||(index=this.indexOf(key))>=0&&(this.lastItem=this.list[index],!0)},Similar.prototype.forEach=function(callback,thisArg){var i;for(i=0;i<this.size;i++)callback.call(thisArg||this,this.list[i].val,this.list[i].key,this)},Similar.prototype.indexOf=function(key){var i;for(i=0;i<this.size;i++)if(this.isEqual(this.list[i].key,key))return i;return-1},Similar.prototype.isEqual=function(val1,val2){return val1===val2||val1!=val1&&val2!=val2},module.exports=Similar},{}],3:[function(_dereq_,module,exports){var MapOrSimilar=_dereq_("map-or-similar");function moveToMostRecentLru(lru,lruPath){var isMatch,i,ii,lruLen=lru.length,lruPathLen=lruPath.length;for(i=0;i<lruLen;i++){for(isMatch=!0,ii=0;ii<lruPathLen;ii++)if(!isEqual(lru[i][ii].arg,lruPath[ii].arg)){isMatch=!1;break}if(isMatch)break}lru.push(lru.splice(i,1)[0])}function removeCachedResult(removedLru){var tmp,i,removedLruLen=removedLru.length,currentLru=removedLru[removedLruLen-1];for(currentLru.cacheItem.delete(currentLru.arg),i=removedLruLen-2;i>=0&&(!(tmp=(currentLru=removedLru[i]).cacheItem.get(currentLru.arg))||!tmp.size);i--)currentLru.cacheItem.delete(currentLru.arg)}function isEqual(val1,val2){return val1===val2||val1!=val1&&val2!=val2}module.exports=function(limit){var cache=new MapOrSimilar(!1),lru=[];return function(fn){var memoizerific=function(){var newMap,fnResult,i,currentCache=cache,argsLengthMinusOne=arguments.length-1,lruPath=Array(argsLengthMinusOne+1),isMemoized=!0;if((memoizerific.numArgs||0===memoizerific.numArgs)&&memoizerific.numArgs!==argsLengthMinusOne+1)throw new Error("Memoizerific functions should always be called with the same number of arguments");for(i=0;i<argsLengthMinusOne;i++)lruPath[i]={cacheItem:currentCache,arg:arguments[i]},currentCache.has(arguments[i])?currentCache=currentCache.get(arguments[i]):(isMemoized=!1,newMap=new MapOrSimilar(!1),currentCache.set(arguments[i],newMap),currentCache=newMap);return isMemoized&&(currentCache.has(arguments[argsLengthMinusOne])?fnResult=currentCache.get(arguments[argsLengthMinusOne]):isMemoized=!1),isMemoized||(fnResult=fn.apply(null,arguments),currentCache.set(arguments[argsLengthMinusOne],fnResult)),limit>0&&(lruPath[argsLengthMinusOne]={cacheItem:currentCache,arg:arguments[argsLengthMinusOne]},isMemoized?moveToMostRecentLru(lru,lruPath):lru.push(lruPath),lru.length>limit&&removeCachedResult(lru.shift())),memoizerific.wasMemoized=isMemoized,memoizerific.numArgs=argsLengthMinusOne+1,fnResult};return memoizerific.limit=limit,memoizerific.wasMemoized=!1,memoizerific.cache=cache,memoizerific.lru=lru,memoizerific}}},{"map-or-similar":1}]},{},[3])(3)},"./node_modules/object-assign/index.js":function(module,exports,__webpack_require__){"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(null==val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}module.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return!1;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(test2).map((function(n){return test2[n]})).join(""))return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach((function(letter){test3[letter]=letter})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},test3)).join("")}catch(err){return!1}}()?Object.assign:function(target,source){for(var from,symbols,to=toObject(target),s=1;s<arguments.length;s++){for(var key in from=Object(arguments[s]))hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}},"./node_modules/object-inspect/index.js":function(module,exports,__webpack_require__){var hasMap="function"==typeof Map&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&"function"==typeof mapSizeDescriptor.get?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet="function"==typeof Set&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&"function"==typeof setSizeDescriptor.get?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,weakMapHas="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,weakSetHas="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,weakRefDeref="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString=Object.prototype.toString,functionToString=Function.prototype.toString,$match=String.prototype.match,$slice=String.prototype.slice,$replace=String.prototype.replace,$toUpperCase=String.prototype.toUpperCase,$toLowerCase=String.prototype.toLowerCase,$test=RegExp.prototype.test,$concat=Array.prototype.concat,$join=Array.prototype.join,$arrSlice=Array.prototype.slice,$floor=Math.floor,bigIntValueOf="function"==typeof BigInt?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,hasShammedSymbols="function"==typeof Symbol&&"object"==typeof Symbol.iterator,toStringTag="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hasShammedSymbols||"symbol")?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(O){return O.__proto__}:null);function addNumericSeparator(num,str){if(num===1/0||num===-1/0||num!=num||num&&num>-1e3&&num<1e3||$test.call(/e/,str))return str;var sepRegex=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof num){var int=num<0?-$floor(-num):$floor(num);if(int!==num){var intStr=String(int),dec=$slice.call(str,intStr.length+1);return $replace.call(intStr,sepRegex,"$&_")+"."+$replace.call($replace.call(dec,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $replace.call(str,sepRegex,"$&_")}var inspectCustom=__webpack_require__(1).custom,inspectSymbol=inspectCustom&&isSymbol(inspectCustom)?inspectCustom:null;function wrapQuotes(s,defaultStyle,opts){var quoteChar="double"===(opts.quoteStyle||defaultStyle)?'"':"'";return quoteChar+s+quoteChar}function quote(s){return $replace.call(String(s),/"/g,"&quot;")}function isArray(obj){return!("[object Array]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}function isSymbol(obj){if(hasShammedSymbols)return obj&&"object"==typeof obj&&obj instanceof Symbol;if("symbol"==typeof obj)return!0;if(!obj||"object"!=typeof obj||!symToString)return!1;try{return symToString.call(obj),!0}catch(e){}return!1}module.exports=function inspect_(obj,options,depth,seen){var opts=options||{};if(has(opts,"quoteStyle")&&"single"!==opts.quoteStyle&&"double"!==opts.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has(opts,"maxStringLength")&&("number"==typeof opts.maxStringLength?opts.maxStringLength<0&&opts.maxStringLength!==1/0:null!==opts.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var customInspect=!has(opts,"customInspect")||opts.customInspect;if("boolean"!=typeof customInspect&&"symbol"!==customInspect)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has(opts,"indent")&&null!==opts.indent&&"\t"!==opts.indent&&!(parseInt(opts.indent,10)===opts.indent&&opts.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has(opts,"numericSeparator")&&"boolean"!=typeof opts.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var numericSeparator=opts.numericSeparator;if(void 0===obj)return"undefined";if(null===obj)return"null";if("boolean"==typeof obj)return obj?"true":"false";if("string"==typeof obj)return inspectString(obj,opts);if("number"==typeof obj){if(0===obj)return 1/0/obj>0?"0":"-0";var str=String(obj);return numericSeparator?addNumericSeparator(obj,str):str}if("bigint"==typeof obj){var bigIntStr=String(obj)+"n";return numericSeparator?addNumericSeparator(obj,bigIntStr):bigIntStr}var maxDepth=void 0===opts.depth?5:opts.depth;if(void 0===depth&&(depth=0),depth>=maxDepth&&maxDepth>0&&"object"==typeof obj)return isArray(obj)?"[Array]":"[Object]";var indent=function getIndent(opts,depth){var baseIndent;if("\t"===opts.indent)baseIndent="\t";else{if(!("number"==typeof opts.indent&&opts.indent>0))return null;baseIndent=$join.call(Array(opts.indent+1)," ")}return{base:baseIndent,prev:$join.call(Array(depth+1),baseIndent)}}(opts,depth);if(void 0===seen)seen=[];else if(indexOf(seen,obj)>=0)return"[Circular]";function inspect(value,from,noIndent){if(from&&(seen=$arrSlice.call(seen)).push(from),noIndent){var newOpts={depth:opts.depth};return has(opts,"quoteStyle")&&(newOpts.quoteStyle=opts.quoteStyle),inspect_(value,newOpts,depth+1,seen)}return inspect_(value,opts,depth+1,seen)}if("function"==typeof obj){var name=function nameOf(f){if(f.name)return f.name;var m=$match.call(functionToString.call(f),/^function\s*([\w$]+)/);if(m)return m[1];return null}(obj),keys=arrObjKeys(obj,inspect);return"[Function"+(name?": "+name:" (anonymous)")+"]"+(keys.length>0?" { "+$join.call(keys,", ")+" }":"")}if(isSymbol(obj)){var symString=hasShammedSymbols?$replace.call(String(obj),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(obj);return"object"!=typeof obj||hasShammedSymbols?symString:markBoxed(symString)}if(function isElement(x){if(!x||"object"!=typeof x)return!1;if("undefined"!=typeof HTMLElement&&x instanceof HTMLElement)return!0;return"string"==typeof x.nodeName&&"function"==typeof x.getAttribute}(obj)){for(var s="<"+$toLowerCase.call(String(obj.nodeName)),attrs=obj.attributes||[],i=0;i<attrs.length;i++)s+=" "+attrs[i].name+"="+wrapQuotes(quote(attrs[i].value),"double",opts);return s+=">",obj.childNodes&&obj.childNodes.length&&(s+="..."),s+="</"+$toLowerCase.call(String(obj.nodeName))+">"}if(isArray(obj)){if(0===obj.length)return"[]";var xs=arrObjKeys(obj,inspect);return indent&&!function singleLineValues(xs){for(var i=0;i<xs.length;i++)if(indexOf(xs[i],"\n")>=0)return!1;return!0}(xs)?"["+indentedJoin(xs,indent)+"]":"[ "+$join.call(xs,", ")+" ]"}if(function isError(obj){return!("[object Error]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}(obj)){var parts=arrObjKeys(obj,inspect);return"cause"in obj&&!isEnumerable.call(obj,"cause")?"{ ["+String(obj)+"] "+$join.call($concat.call("[cause]: "+inspect(obj.cause),parts),", ")+" }":0===parts.length?"["+String(obj)+"]":"{ ["+String(obj)+"] "+$join.call(parts,", ")+" }"}if("object"==typeof obj&&customInspect){if(inspectSymbol&&"function"==typeof obj[inspectSymbol])return obj[inspectSymbol]();if("symbol"!==customInspect&&"function"==typeof obj.inspect)return obj.inspect()}if(function isMap(x){if(!mapSize||!x||"object"!=typeof x)return!1;try{mapSize.call(x);try{setSize.call(x)}catch(s){return!0}return x instanceof Map}catch(e){}return!1}(obj)){var mapParts=[];return mapForEach.call(obj,(function(value,key){mapParts.push(inspect(key,obj,!0)+" => "+inspect(value,obj))})),collectionOf("Map",mapSize.call(obj),mapParts,indent)}if(function isSet(x){if(!setSize||!x||"object"!=typeof x)return!1;try{setSize.call(x);try{mapSize.call(x)}catch(m){return!0}return x instanceof Set}catch(e){}return!1}(obj)){var setParts=[];return setForEach.call(obj,(function(value){setParts.push(inspect(value,obj))})),collectionOf("Set",setSize.call(obj),setParts,indent)}if(function isWeakMap(x){if(!weakMapHas||!x||"object"!=typeof x)return!1;try{weakMapHas.call(x,weakMapHas);try{weakSetHas.call(x,weakSetHas)}catch(s){return!0}return x instanceof WeakMap}catch(e){}return!1}(obj))return weakCollectionOf("WeakMap");if(function isWeakSet(x){if(!weakSetHas||!x||"object"!=typeof x)return!1;try{weakSetHas.call(x,weakSetHas);try{weakMapHas.call(x,weakMapHas)}catch(s){return!0}return x instanceof WeakSet}catch(e){}return!1}(obj))return weakCollectionOf("WeakSet");if(function isWeakRef(x){if(!weakRefDeref||!x||"object"!=typeof x)return!1;try{return weakRefDeref.call(x),!0}catch(e){}return!1}(obj))return weakCollectionOf("WeakRef");if(function isNumber(obj){return!("[object Number]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}(obj))return markBoxed(inspect(Number(obj)));if(function isBigInt(obj){if(!obj||"object"!=typeof obj||!bigIntValueOf)return!1;try{return bigIntValueOf.call(obj),!0}catch(e){}return!1}(obj))return markBoxed(inspect(bigIntValueOf.call(obj)));if(function isBoolean(obj){return!("[object Boolean]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}(obj))return markBoxed(booleanValueOf.call(obj));if(function isString(obj){return!("[object String]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}(obj))return markBoxed(inspect(String(obj)));if(!function isDate(obj){return!("[object Date]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}(obj)&&!function isRegExp(obj){return!("[object RegExp]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}(obj)){var ys=arrObjKeys(obj,inspect),isPlainObject=gPO?gPO(obj)===Object.prototype:obj instanceof Object||obj.constructor===Object,protoTag=obj instanceof Object?"":"null prototype",stringTag=!isPlainObject&&toStringTag&&Object(obj)===obj&&toStringTag in obj?$slice.call(toStr(obj),8,-1):protoTag?"Object":"",tag=(isPlainObject||"function"!=typeof obj.constructor?"":obj.constructor.name?obj.constructor.name+" ":"")+(stringTag||protoTag?"["+$join.call($concat.call([],stringTag||[],protoTag||[]),": ")+"] ":"");return 0===ys.length?tag+"{}":indent?tag+"{"+indentedJoin(ys,indent)+"}":tag+"{ "+$join.call(ys,", ")+" }"}return String(obj)};var hasOwn=Object.prototype.hasOwnProperty||function(key){return key in this};function has(obj,key){return hasOwn.call(obj,key)}function toStr(obj){return objectToString.call(obj)}function indexOf(xs,x){if(xs.indexOf)return xs.indexOf(x);for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}function inspectString(str,opts){if(str.length>opts.maxStringLength){var remaining=str.length-opts.maxStringLength,trailer="... "+remaining+" more character"+(remaining>1?"s":"");return inspectString($slice.call(str,0,opts.maxStringLength),opts)+trailer}return wrapQuotes($replace.call($replace.call(str,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lowbyte),"single",opts)}function lowbyte(c){var n=c.charCodeAt(0),x={8:"b",9:"t",10:"n",12:"f",13:"r"}[n];return x?"\\"+x:"\\x"+(n<16?"0":"")+$toUpperCase.call(n.toString(16))}function markBoxed(str){return"Object("+str+")"}function weakCollectionOf(type){return type+" { ? }"}function collectionOf(type,size,entries,indent){return type+" ("+size+") {"+(indent?indentedJoin(entries,indent):$join.call(entries,", "))+"}"}function indentedJoin(xs,indent){if(0===xs.length)return"";var lineJoiner="\n"+indent.prev+indent.base;return lineJoiner+$join.call(xs,","+lineJoiner)+"\n"+indent.prev}function arrObjKeys(obj,inspect){var isArr=isArray(obj),xs=[];if(isArr){xs.length=obj.length;for(var i=0;i<obj.length;i++)xs[i]=has(obj,i)?inspect(obj[i],obj):""}var symMap,syms="function"==typeof gOPS?gOPS(obj):[];if(hasShammedSymbols){symMap={};for(var k=0;k<syms.length;k++)symMap["$"+syms[k]]=syms[k]}for(var key in obj)has(obj,key)&&(isArr&&String(Number(key))===key&&key<obj.length||hasShammedSymbols&&symMap["$"+key]instanceof Symbol||($test.call(/[^\w$]/,key)?xs.push(inspect(key,obj)+": "+inspect(obj[key],obj)):xs.push(key+": "+inspect(obj[key],obj))));if("function"==typeof gOPS)for(var j=0;j<syms.length;j++)isEnumerable.call(obj,syms[j])&&xs.push("["+inspect(syms[j])+"]: "+inspect(obj[syms[j]],obj));return xs}},"./node_modules/object-keys/implementation.js":function(module,exports,__webpack_require__){"use strict";var keysShim;if(!Object.keys){var has=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,isArgs=__webpack_require__("./node_modules/object-keys/isArguments.js"),isEnumerable=Object.prototype.propertyIsEnumerable,hasDontEnumBug=!isEnumerable.call({toString:null},"toString"),hasProtoEnumBug=isEnumerable.call((function(){}),"prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(o){var ctor=o.constructor;return ctor&&ctor.prototype===o},excludedKeys={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var k in window)try{if(!excludedKeys["$"+k]&&has.call(window,k)&&null!==window[k]&&"object"==typeof window[k])try{equalsConstructorPrototype(window[k])}catch(e){return!0}}catch(e){return!0}return!1}();keysShim=function keys(object){var isObject=null!==object&&"object"==typeof object,isFunction="[object Function]"===toStr.call(object),isArguments=isArgs(object),isString=isObject&&"[object String]"===toStr.call(object),theKeys=[];if(!isObject&&!isFunction&&!isArguments)throw new TypeError("Object.keys called on a non-object");var skipProto=hasProtoEnumBug&&isFunction;if(isString&&object.length>0&&!has.call(object,0))for(var i=0;i<object.length;++i)theKeys.push(String(i));if(isArguments&&object.length>0)for(var j=0;j<object.length;++j)theKeys.push(String(j));else for(var name in object)skipProto&&"prototype"===name||!has.call(object,name)||theKeys.push(String(name));if(hasDontEnumBug)for(var skipConstructor=function(o){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(o);try{return equalsConstructorPrototype(o)}catch(e){return!1}}(object),k=0;k<dontEnums.length;++k)skipConstructor&&"constructor"===dontEnums[k]||!has.call(object,dontEnums[k])||theKeys.push(dontEnums[k]);return theKeys}}module.exports=keysShim},"./node_modules/object-keys/index.js":function(module,exports,__webpack_require__){"use strict";var slice=Array.prototype.slice,isArgs=__webpack_require__("./node_modules/object-keys/isArguments.js"),origKeys=Object.keys,keysShim=origKeys?function keys(o){return origKeys(o)}:__webpack_require__("./node_modules/object-keys/implementation.js"),originalKeys=Object.keys;keysShim.shim=function shimObjectKeys(){if(Object.keys){var keysWorksWithArguments=function(){var args=Object.keys(arguments);return args&&args.length===arguments.length}(1,2);keysWorksWithArguments||(Object.keys=function keys(object){return isArgs(object)?originalKeys(slice.call(object)):originalKeys(object)})}else Object.keys=keysShim;return Object.keys||keysShim},module.exports=keysShim},"./node_modules/object-keys/isArguments.js":function(module,exports,__webpack_require__){"use strict";var toStr=Object.prototype.toString;module.exports=function isArguments(value){var str=toStr.call(value),isArgs="[object Arguments]"===str;return isArgs||(isArgs="[object Array]"!==str&&null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&"[object Function]"===toStr.call(value.callee)),isArgs}},"./node_modules/object.entries/implementation.js":function(module,exports,__webpack_require__){"use strict";var RequireObjectCoercible=__webpack_require__("./node_modules/es-abstract/2021/RequireObjectCoercible.js"),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),$isEnumerable=callBound("Object.prototype.propertyIsEnumerable"),$push=callBound("Array.prototype.push");module.exports=function entries(O){var obj=RequireObjectCoercible(O),entrys=[];for(var key in obj)$isEnumerable(obj,key)&&$push(entrys,[key,obj[key]]);return entrys}},"./node_modules/object.entries/polyfill.js":function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__("./node_modules/object.entries/implementation.js");module.exports=function getPolyfill(){return"function"==typeof Object.entries?Object.entries:implementation}},"./node_modules/object.entries/shim.js":function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__("./node_modules/object.entries/polyfill.js"),define=__webpack_require__("./node_modules/define-properties/index.js");module.exports=function shimEntries(){var polyfill=getPolyfill();return define(Object,{entries:polyfill},{entries:function testEntries(){return Object.entries!==polyfill}}),polyfill}},"./node_modules/object.fromentries/auto.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/object.fromentries/shim.js")()},"./node_modules/object.fromentries/implementation.js":function(module,exports,__webpack_require__){"use strict";var AddEntriesFromIterable=__webpack_require__("./node_modules/es-abstract/2021/AddEntriesFromIterable.js"),CreateDataPropertyOrThrow=__webpack_require__("./node_modules/es-abstract/2021/CreateDataPropertyOrThrow.js"),RequireObjectCoercible=__webpack_require__("./node_modules/es-abstract/2021/RequireObjectCoercible.js"),ToPropertyKey=__webpack_require__("./node_modules/es-abstract/2021/ToPropertyKey.js"),adder=function addDataProperty(key,value){var propertyKey=ToPropertyKey(key);CreateDataPropertyOrThrow(this,propertyKey,value)};module.exports=function fromEntries(iterable){return RequireObjectCoercible(iterable),AddEntriesFromIterable({},iterable,adder)}},"./node_modules/object.fromentries/polyfill.js":function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__("./node_modules/object.fromentries/implementation.js");module.exports=function getPolyfill(){return"function"==typeof Object.fromEntries?Object.fromEntries:implementation}},"./node_modules/object.fromentries/shim.js":function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__("./node_modules/object.fromentries/polyfill.js"),define=__webpack_require__("./node_modules/define-properties/index.js");module.exports=function shimEntries(){var polyfill=getPolyfill();return define(Object,{fromEntries:polyfill},{fromEntries:function testEntries(){return Object.fromEntries!==polyfill}}),polyfill}},"./node_modules/object.getownpropertydescriptors/implementation.js":function(module,exports,__webpack_require__){"use strict";var CreateDataProperty=__webpack_require__("./node_modules/es-abstract/2021/CreateDataProperty.js"),IsCallable=__webpack_require__("./node_modules/es-abstract/2021/IsCallable.js"),RequireObjectCoercible=__webpack_require__("./node_modules/es-abstract/2021/RequireObjectCoercible.js"),ToObject=__webpack_require__("./node_modules/es-abstract/2021/ToObject.js"),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),$gOPD=Object.getOwnPropertyDescriptor,$getOwnNames=Object.getOwnPropertyNames,$getSymbols=Object.getOwnPropertySymbols,$concat=callBound("Array.prototype.concat"),$reduce=callBound("Array.prototype.reduce"),getAll=$getSymbols?function(obj){return $concat($getOwnNames(obj),$getSymbols(obj))}:$getOwnNames,isES5=IsCallable($gOPD)&&IsCallable($getOwnNames);module.exports=function getOwnPropertyDescriptors(value){if(RequireObjectCoercible(value),!isES5)throw new TypeError("getOwnPropertyDescriptors requires Object.getOwnPropertyDescriptor");var O=ToObject(value);return $reduce(getAll(O),(function(acc,key){var descriptor=$gOPD(O,key);return void 0!==descriptor&&CreateDataProperty(acc,key,descriptor),acc}),{})}},"./node_modules/object.getownpropertydescriptors/polyfill.js":function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__("./node_modules/object.getownpropertydescriptors/implementation.js");module.exports=function getPolyfill(){return"function"==typeof Object.getOwnPropertyDescriptors?Object.getOwnPropertyDescriptors:implementation}},"./node_modules/object.getownpropertydescriptors/shim.js":function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__("./node_modules/object.getownpropertydescriptors/polyfill.js"),define=__webpack_require__("./node_modules/define-properties/index.js");module.exports=function shimGetOwnPropertyDescriptors(){var polyfill=getPolyfill();return define(Object,{getOwnPropertyDescriptors:polyfill},{getOwnPropertyDescriptors:function(){return Object.getOwnPropertyDescriptors!==polyfill}}),polyfill}},"./node_modules/object.values/implementation.js":function(module,exports,__webpack_require__){"use strict";var RequireObjectCoercible=__webpack_require__("./node_modules/es-abstract/2021/RequireObjectCoercible.js"),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),$isEnumerable=callBound("Object.prototype.propertyIsEnumerable"),$push=callBound("Array.prototype.push");module.exports=function values(O){var obj=RequireObjectCoercible(O),vals=[];for(var key in obj)$isEnumerable(obj,key)&&$push(vals,obj[key]);return vals}},"./node_modules/object.values/polyfill.js":function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__("./node_modules/object.values/implementation.js");module.exports=function getPolyfill(){return"function"==typeof Object.values?Object.values:implementation}},"./node_modules/object.values/shim.js":function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__("./node_modules/object.values/polyfill.js"),define=__webpack_require__("./node_modules/define-properties/index.js");module.exports=function shimValues(){var polyfill=getPolyfill();return define(Object,{values:polyfill},{values:function testValues(){return Object.values!==polyfill}}),polyfill}},"./node_modules/process/browser.js":function(module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},"./node_modules/promise.allsettled/auto.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/promise.allsettled/shim.js")()},"./node_modules/promise.allsettled/implementation.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/promise.allsettled/requirePromise.js")();var PromiseResolve=__webpack_require__("./node_modules/es-abstract/2021/PromiseResolve.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js"),iterate=__webpack_require__("./node_modules/iterate-value/index.js"),map=__webpack_require__("./node_modules/array.prototype.map/index.js"),GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),callBind=__webpack_require__("./node_modules/call-bind/index.js"),all=callBind(GetIntrinsic("%Promise.all%")),reject=callBind(GetIntrinsic("%Promise.reject%"));module.exports=function allSettled(iterable){var C=this;if("Object"!==Type(C))throw new TypeError("`this` value must be an object");var values=iterate(iterable);return all(C,map(values,(function(item){var itemPromise=PromiseResolve(C,item);try{return itemPromise.then((function(value){return{status:"fulfilled",value:value}}),(function(reason){return{status:"rejected",reason:reason}}))}catch(e){return reject(C,e)}})))}},"./node_modules/promise.allsettled/polyfill.js":function(module,exports,__webpack_require__){"use strict";var requirePromise=__webpack_require__("./node_modules/promise.allsettled/requirePromise.js"),implementation=__webpack_require__("./node_modules/promise.allsettled/implementation.js");module.exports=function getPolyfill(){return requirePromise(),"function"==typeof Promise.allSettled?Promise.allSettled:implementation}},"./node_modules/promise.allsettled/requirePromise.js":function(module,exports,__webpack_require__){"use strict";module.exports=function requirePromise(){if("function"!=typeof Promise)throw new TypeError("`Promise.allSettled` requires a global `Promise` be available.")}},"./node_modules/promise.allsettled/shim.js":function(module,exports,__webpack_require__){"use strict";var requirePromise=__webpack_require__("./node_modules/promise.allsettled/requirePromise.js"),getPolyfill=__webpack_require__("./node_modules/promise.allsettled/polyfill.js"),define=__webpack_require__("./node_modules/define-properties/index.js");module.exports=function shimAllSettled(){requirePromise();var polyfill=getPolyfill();return define(Promise,{allSettled:polyfill},{allSettled:function testAllSettled(){return Promise.allSettled!==polyfill}}),polyfill}},"./node_modules/promise.prototype.finally/auto.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/promise.prototype.finally/shim.js")()},"./node_modules/promise.prototype.finally/implementation.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/promise.prototype.finally/requirePromise.js")();var IsCallable=__webpack_require__("./node_modules/es-abstract/2021/IsCallable.js"),SpeciesConstructor=__webpack_require__("./node_modules/es-abstract/2021/SpeciesConstructor.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js"),promiseResolve=function PromiseResolve(C,value){return new C((function(resolve){resolve(value)}))},OriginalPromise=Promise,promiseFinally=function finally_(onFinally){if("Object"!==Type(this))throw new TypeError("receiver is not an Object");var C=SpeciesConstructor(this,OriginalPromise),thenFinally=onFinally,catchFinally=onFinally;return IsCallable(onFinally)&&(thenFinally=function CreateThenFinally(C,onFinally){return function(value){var result=onFinally();return promiseResolve(C,result).then((function(){return value}))}}(C,onFinally),catchFinally=function CreateCatchFinally(C,onFinally){return function(reason){var result=onFinally();return promiseResolve(C,result).then((function(){throw reason}))}}(C,onFinally)),this.then(thenFinally,catchFinally)};if(Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(promiseFinally,"name");descriptor&&descriptor.configurable&&Object.defineProperty(promiseFinally,"name",{configurable:!0,value:"finally"})}module.exports=promiseFinally},"./node_modules/promise.prototype.finally/polyfill.js":function(module,exports,__webpack_require__){"use strict";var requirePromise=__webpack_require__("./node_modules/promise.prototype.finally/requirePromise.js"),implementation=__webpack_require__("./node_modules/promise.prototype.finally/implementation.js");module.exports=function getPolyfill(){return requirePromise(),"function"==typeof Promise.prototype.finally?Promise.prototype.finally:implementation}},"./node_modules/promise.prototype.finally/requirePromise.js":function(module,exports,__webpack_require__){"use strict";module.exports=function requirePromise(){if("function"!=typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.")}},"./node_modules/promise.prototype.finally/shim.js":function(module,exports,__webpack_require__){"use strict";var requirePromise=__webpack_require__("./node_modules/promise.prototype.finally/requirePromise.js"),getPolyfill=__webpack_require__("./node_modules/promise.prototype.finally/polyfill.js"),define=__webpack_require__("./node_modules/define-properties/index.js");module.exports=function shimPromiseFinally(){requirePromise();var polyfill=getPolyfill();return define(Promise.prototype,{finally:polyfill},{finally:function testFinally(){return Promise.prototype.finally!==polyfill}}),polyfill}},"./node_modules/qs/lib/formats.js":function(module,exports,__webpack_require__){"use strict";var replace=String.prototype.replace,percentTwenties=/%20/g,Format_RFC1738="RFC1738",Format_RFC3986="RFC3986";module.exports={default:Format_RFC3986,formatters:{RFC1738:function(value){return replace.call(value,percentTwenties,"+")},RFC3986:function(value){return String(value)}},RFC1738:Format_RFC1738,RFC3986:Format_RFC3986}},"./node_modules/qs/lib/index.js":function(module,exports,__webpack_require__){"use strict";var stringify=__webpack_require__("./node_modules/qs/lib/stringify.js"),parse=__webpack_require__("./node_modules/qs/lib/parse.js"),formats=__webpack_require__("./node_modules/qs/lib/formats.js");module.exports={formats:formats,parse:parse,stringify:stringify}},"./node_modules/qs/lib/parse.js":function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__("./node_modules/qs/lib/utils.js"),has=Object.prototype.hasOwnProperty,isArray=Array.isArray,defaults={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(str){return str.replace(/&#(\d+);/g,(function($0,numberStr){return String.fromCharCode(parseInt(numberStr,10))}))},parseArrayValue=function(val,options){return val&&"string"==typeof val&&options.comma&&val.indexOf(",")>-1?val.split(","):val},parseKeys=function parseQueryStringKeys(givenKey,val,options,valuesParsed){if(givenKey){var key=options.allowDots?givenKey.replace(/\.([^.[]+)/g,"[$1]"):givenKey,child=/(\[[^[\]]*])/g,segment=options.depth>0&&/(\[[^[\]]*])/.exec(key),parent=segment?key.slice(0,segment.index):key,keys=[];if(parent){if(!options.plainObjects&&has.call(Object.prototype,parent)&&!options.allowPrototypes)return;keys.push(parent)}for(var i=0;options.depth>0&&null!==(segment=child.exec(key))&&i<options.depth;){if(i+=1,!options.plainObjects&&has.call(Object.prototype,segment[1].slice(1,-1))&&!options.allowPrototypes)return;keys.push(segment[1])}return segment&&keys.push("["+key.slice(segment.index)+"]"),function(chain,val,options,valuesParsed){for(var leaf=valuesParsed?val:parseArrayValue(val,options),i=chain.length-1;i>=0;--i){var obj,root=chain[i];if("[]"===root&&options.parseArrays)obj=[].concat(leaf);else{obj=options.plainObjects?Object.create(null):{};var cleanRoot="["===root.charAt(0)&&"]"===root.charAt(root.length-1)?root.slice(1,-1):root,index=parseInt(cleanRoot,10);options.parseArrays||""!==cleanRoot?!isNaN(index)&&root!==cleanRoot&&String(index)===cleanRoot&&index>=0&&options.parseArrays&&index<=options.arrayLimit?(obj=[])[index]=leaf:"__proto__"!==cleanRoot&&(obj[cleanRoot]=leaf):obj={0:leaf}}leaf=obj}return leaf}(keys,val,options,valuesParsed)}};module.exports=function(str,opts){var options=function normalizeParseOptions(opts){if(!opts)return defaults;if(null!==opts.decoder&&void 0!==opts.decoder&&"function"!=typeof opts.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==opts.charset&&"utf-8"!==opts.charset&&"iso-8859-1"!==opts.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var charset=void 0===opts.charset?defaults.charset:opts.charset;return{allowDots:void 0===opts.allowDots?defaults.allowDots:!!opts.allowDots,allowPrototypes:"boolean"==typeof opts.allowPrototypes?opts.allowPrototypes:defaults.allowPrototypes,allowSparse:"boolean"==typeof opts.allowSparse?opts.allowSparse:defaults.allowSparse,arrayLimit:"number"==typeof opts.arrayLimit?opts.arrayLimit:defaults.arrayLimit,charset:charset,charsetSentinel:"boolean"==typeof opts.charsetSentinel?opts.charsetSentinel:defaults.charsetSentinel,comma:"boolean"==typeof opts.comma?opts.comma:defaults.comma,decoder:"function"==typeof opts.decoder?opts.decoder:defaults.decoder,delimiter:"string"==typeof opts.delimiter||utils.isRegExp(opts.delimiter)?opts.delimiter:defaults.delimiter,depth:"number"==typeof opts.depth||!1===opts.depth?+opts.depth:defaults.depth,ignoreQueryPrefix:!0===opts.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof opts.interpretNumericEntities?opts.interpretNumericEntities:defaults.interpretNumericEntities,parameterLimit:"number"==typeof opts.parameterLimit?opts.parameterLimit:defaults.parameterLimit,parseArrays:!1!==opts.parseArrays,plainObjects:"boolean"==typeof opts.plainObjects?opts.plainObjects:defaults.plainObjects,strictNullHandling:"boolean"==typeof opts.strictNullHandling?opts.strictNullHandling:defaults.strictNullHandling}}(opts);if(""===str||null==str)return options.plainObjects?Object.create(null):{};for(var tempObj="string"==typeof str?function parseQueryStringValues(str,options){var i,obj={},cleanStr=options.ignoreQueryPrefix?str.replace(/^\?/,""):str,limit=options.parameterLimit===1/0?void 0:options.parameterLimit,parts=cleanStr.split(options.delimiter,limit),skipIndex=-1,charset=options.charset;if(options.charsetSentinel)for(i=0;i<parts.length;++i)0===parts[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===parts[i]?charset="utf-8":"utf8=%26%2310003%3B"===parts[i]&&(charset="iso-8859-1"),skipIndex=i,i=parts.length);for(i=0;i<parts.length;++i)if(i!==skipIndex){var key,val,part=parts[i],bracketEqualsPos=part.indexOf("]="),pos=-1===bracketEqualsPos?part.indexOf("="):bracketEqualsPos+1;-1===pos?(key=options.decoder(part,defaults.decoder,charset,"key"),val=options.strictNullHandling?null:""):(key=options.decoder(part.slice(0,pos),defaults.decoder,charset,"key"),val=utils.maybeMap(parseArrayValue(part.slice(pos+1),options),(function(encodedVal){return options.decoder(encodedVal,defaults.decoder,charset,"value")}))),val&&options.interpretNumericEntities&&"iso-8859-1"===charset&&(val=interpretNumericEntities(val)),part.indexOf("[]=")>-1&&(val=isArray(val)?[val]:val),has.call(obj,key)?obj[key]=utils.combine(obj[key],val):obj[key]=val}return obj}(str,options):str,obj=options.plainObjects?Object.create(null):{},keys=Object.keys(tempObj),i=0;i<keys.length;++i){var key=keys[i],newObj=parseKeys(key,tempObj[key],options,"string"==typeof str);obj=utils.merge(obj,newObj,options)}return!0===options.allowSparse?obj:utils.compact(obj)}},"./node_modules/qs/lib/stringify.js":function(module,exports,__webpack_require__){"use strict";var getSideChannel=__webpack_require__("./node_modules/side-channel/index.js"),utils=__webpack_require__("./node_modules/qs/lib/utils.js"),formats=__webpack_require__("./node_modules/qs/lib/formats.js"),has=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function brackets(prefix){return prefix+"[]"},comma:"comma",indices:function indices(prefix,key){return prefix+"["+key+"]"},repeat:function repeat(prefix){return prefix}},isArray=Array.isArray,split=String.prototype.split,push=Array.prototype.push,pushToArray=function(arr,valueOrArray){push.apply(arr,isArray(valueOrArray)?valueOrArray:[valueOrArray])},toISO=Date.prototype.toISOString,defaultFormat=formats.default,defaults={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats.formatters[defaultFormat],indices:!1,serializeDate:function serializeDate(date){return toISO.call(date)},skipNulls:!1,strictNullHandling:!1},sentinel={},stringify=function stringify(object,prefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,format,formatter,encodeValuesOnly,charset,sideChannel){for(var obj=object,tmpSc=sideChannel,step=0,findFlag=!1;void 0!==(tmpSc=tmpSc.get(sentinel))&&!findFlag;){var pos=tmpSc.get(object);if(step+=1,void 0!==pos){if(pos===step)throw new RangeError("Cyclic object value");findFlag=!0}void 0===tmpSc.get(sentinel)&&(step=0)}if("function"==typeof filter?obj=filter(prefix,obj):obj instanceof Date?obj=serializeDate(obj):"comma"===generateArrayPrefix&&isArray(obj)&&(obj=utils.maybeMap(obj,(function(value){return value instanceof Date?serializeDate(value):value}))),null===obj){if(strictNullHandling)return encoder&&!encodeValuesOnly?encoder(prefix,defaults.encoder,charset,"key",format):prefix;obj=""}if(function isNonNullishPrimitive(v){return"string"==typeof v||"number"==typeof v||"boolean"==typeof v||"symbol"==typeof v||"bigint"==typeof v}(obj)||utils.isBuffer(obj)){if(encoder){var keyValue=encodeValuesOnly?prefix:encoder(prefix,defaults.encoder,charset,"key",format);if("comma"===generateArrayPrefix&&encodeValuesOnly){for(var valuesArray=split.call(String(obj),","),valuesJoined="",i=0;i<valuesArray.length;++i)valuesJoined+=(0===i?"":",")+formatter(encoder(valuesArray[i],defaults.encoder,charset,"value",format));return[formatter(keyValue)+"="+valuesJoined]}return[formatter(keyValue)+"="+formatter(encoder(obj,defaults.encoder,charset,"value",format))]}return[formatter(prefix)+"="+formatter(String(obj))]}var objKeys,values=[];if(void 0===obj)return values;if("comma"===generateArrayPrefix&&isArray(obj))objKeys=[{value:obj.length>0?obj.join(",")||null:void 0}];else if(isArray(filter))objKeys=filter;else{var keys=Object.keys(obj);objKeys=sort?keys.sort(sort):keys}for(var j=0;j<objKeys.length;++j){var key=objKeys[j],value="object"==typeof key&&void 0!==key.value?key.value:obj[key];if(!skipNulls||null!==value){var keyPrefix=isArray(obj)?"function"==typeof generateArrayPrefix?generateArrayPrefix(prefix,key):prefix:prefix+(allowDots?"."+key:"["+key+"]");sideChannel.set(object,step);var valueSideChannel=getSideChannel();valueSideChannel.set(sentinel,sideChannel),pushToArray(values,stringify(value,keyPrefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,format,formatter,encodeValuesOnly,charset,valueSideChannel))}}return values};module.exports=function(object,opts){var objKeys,obj=object,options=function normalizeStringifyOptions(opts){if(!opts)return defaults;if(null!==opts.encoder&&void 0!==opts.encoder&&"function"!=typeof opts.encoder)throw new TypeError("Encoder has to be a function.");var charset=opts.charset||defaults.charset;if(void 0!==opts.charset&&"utf-8"!==opts.charset&&"iso-8859-1"!==opts.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var format=formats.default;if(void 0!==opts.format){if(!has.call(formats.formatters,opts.format))throw new TypeError("Unknown format option provided.");format=opts.format}var formatter=formats.formatters[format],filter=defaults.filter;return("function"==typeof opts.filter||isArray(opts.filter))&&(filter=opts.filter),{addQueryPrefix:"boolean"==typeof opts.addQueryPrefix?opts.addQueryPrefix:defaults.addQueryPrefix,allowDots:void 0===opts.allowDots?defaults.allowDots:!!opts.allowDots,charset:charset,charsetSentinel:"boolean"==typeof opts.charsetSentinel?opts.charsetSentinel:defaults.charsetSentinel,delimiter:void 0===opts.delimiter?defaults.delimiter:opts.delimiter,encode:"boolean"==typeof opts.encode?opts.encode:defaults.encode,encoder:"function"==typeof opts.encoder?opts.encoder:defaults.encoder,encodeValuesOnly:"boolean"==typeof opts.encodeValuesOnly?opts.encodeValuesOnly:defaults.encodeValuesOnly,filter:filter,format:format,formatter:formatter,serializeDate:"function"==typeof opts.serializeDate?opts.serializeDate:defaults.serializeDate,skipNulls:"boolean"==typeof opts.skipNulls?opts.skipNulls:defaults.skipNulls,sort:"function"==typeof opts.sort?opts.sort:null,strictNullHandling:"boolean"==typeof opts.strictNullHandling?opts.strictNullHandling:defaults.strictNullHandling}}(opts);"function"==typeof options.filter?obj=(0,options.filter)("",obj):isArray(options.filter)&&(objKeys=options.filter);var arrayFormat,keys=[];if("object"!=typeof obj||null===obj)return"";arrayFormat=opts&&opts.arrayFormat in arrayPrefixGenerators?opts.arrayFormat:opts&&"indices"in opts?opts.indices?"indices":"repeat":"indices";var generateArrayPrefix=arrayPrefixGenerators[arrayFormat];objKeys||(objKeys=Object.keys(obj)),options.sort&&objKeys.sort(options.sort);for(var sideChannel=getSideChannel(),i=0;i<objKeys.length;++i){var key=objKeys[i];options.skipNulls&&null===obj[key]||pushToArray(keys,stringify(obj[key],key,generateArrayPrefix,options.strictNullHandling,options.skipNulls,options.encode?options.encoder:null,options.filter,options.sort,options.allowDots,options.serializeDate,options.format,options.formatter,options.encodeValuesOnly,options.charset,sideChannel))}var joined=keys.join(options.delimiter),prefix=!0===options.addQueryPrefix?"?":"";return options.charsetSentinel&&("iso-8859-1"===options.charset?prefix+="utf8=%26%2310003%3B&":prefix+="utf8=%E2%9C%93&"),joined.length>0?prefix+joined:""}},"./node_modules/qs/lib/utils.js":function(module,exports,__webpack_require__){"use strict";var formats=__webpack_require__("./node_modules/qs/lib/formats.js"),has=Object.prototype.hasOwnProperty,isArray=Array.isArray,hexTable=function(){for(var array=[],i=0;i<256;++i)array.push("%"+((i<16?"0":"")+i.toString(16)).toUpperCase());return array}(),arrayToObject=function arrayToObject(source,options){for(var obj=options&&options.plainObjects?Object.create(null):{},i=0;i<source.length;++i)void 0!==source[i]&&(obj[i]=source[i]);return obj};module.exports={arrayToObject:arrayToObject,assign:function assignSingleSource(target,source){return Object.keys(source).reduce((function(acc,key){return acc[key]=source[key],acc}),target)},combine:function combine(a,b){return[].concat(a,b)},compact:function compact(value){for(var queue=[{obj:{o:value},prop:"o"}],refs=[],i=0;i<queue.length;++i)for(var item=queue[i],obj=item.obj[item.prop],keys=Object.keys(obj),j=0;j<keys.length;++j){var key=keys[j],val=obj[key];"object"==typeof val&&null!==val&&-1===refs.indexOf(val)&&(queue.push({obj:obj,prop:key}),refs.push(val))}return function compactQueue(queue){for(;queue.length>1;){var item=queue.pop(),obj=item.obj[item.prop];if(isArray(obj)){for(var compacted=[],j=0;j<obj.length;++j)void 0!==obj[j]&&compacted.push(obj[j]);item.obj[item.prop]=compacted}}}(queue),value},decode:function(str,decoder,charset){var strWithoutPlus=str.replace(/\+/g," ");if("iso-8859-1"===charset)return strWithoutPlus.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(strWithoutPlus)}catch(e){return strWithoutPlus}},encode:function encode(str,defaultEncoder,charset,kind,format){if(0===str.length)return str;var string=str;if("symbol"==typeof str?string=Symbol.prototype.toString.call(str):"string"!=typeof str&&(string=String(str)),"iso-8859-1"===charset)return escape(string).replace(/%u[0-9a-f]{4}/gi,(function($0){return"%26%23"+parseInt($0.slice(2),16)+"%3B"}));for(var out="",i=0;i<string.length;++i){var c=string.charCodeAt(i);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||format===formats.RFC1738&&(40===c||41===c)?out+=string.charAt(i):c<128?out+=hexTable[c]:c<2048?out+=hexTable[192|c>>6]+hexTable[128|63&c]:c<55296||c>=57344?out+=hexTable[224|c>>12]+hexTable[128|c>>6&63]+hexTable[128|63&c]:(i+=1,c=65536+((1023&c)<<10|1023&string.charCodeAt(i)),out+=hexTable[240|c>>18]+hexTable[128|c>>12&63]+hexTable[128|c>>6&63]+hexTable[128|63&c])}return out},isBuffer:function isBuffer(obj){return!(!obj||"object"!=typeof obj)&&!!(obj.constructor&&obj.constructor.isBuffer&&obj.constructor.isBuffer(obj))},isRegExp:function isRegExp(obj){return"[object RegExp]"===Object.prototype.toString.call(obj)},maybeMap:function maybeMap(val,fn){if(isArray(val)){for(var mapped=[],i=0;i<val.length;i+=1)mapped.push(fn(val[i]));return mapped}return fn(val)},merge:function merge(target,source,options){if(!source)return target;if("object"!=typeof source){if(isArray(target))target.push(source);else{if(!target||"object"!=typeof target)return[target,source];(options&&(options.plainObjects||options.allowPrototypes)||!has.call(Object.prototype,source))&&(target[source]=!0)}return target}if(!target||"object"!=typeof target)return[target].concat(source);var mergeTarget=target;return isArray(target)&&!isArray(source)&&(mergeTarget=arrayToObject(target,options)),isArray(target)&&isArray(source)?(source.forEach((function(item,i){if(has.call(target,i)){var targetItem=target[i];targetItem&&"object"==typeof targetItem&&item&&"object"==typeof item?target[i]=merge(targetItem,item,options):target.push(item)}else target[i]=item})),target):Object.keys(source).reduce((function(acc,key){var value=source[key];return has.call(acc,key)?acc[key]=merge(acc[key],value,options):acc[key]=value,acc}),mergeTarget)}}},"./node_modules/react/cjs/react.production.min.js":function(module,exports,__webpack_require__){"use strict";var l=__webpack_require__("./node_modules/object-assign/index.js"),n=60103,p=60106;exports.Fragment=60107,exports.StrictMode=60108,exports.Profiler=60114;var q=60109,r=60110,t=60112;exports.Suspense=60113;var u=60115,v=60116;if("function"==typeof Symbol&&Symbol.for){var w=Symbol.for;n=w("react.element"),p=w("react.portal"),exports.Fragment=w("react.fragment"),exports.StrictMode=w("react.strict_mode"),exports.Profiler=w("react.profiler"),q=w("react.provider"),r=w("react.context"),t=w("react.forward_ref"),exports.Suspense=w("react.suspense"),u=w("react.memo"),v=w("react.lazy")}var x="function"==typeof Symbol&&Symbol.iterator;function z(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};function C(a,b,c){this.props=a,this.context=b,this.refs=B,this.updater=c||A}function D(){}function E(a,b,c){this.props=a,this.context=b,this.refs=B,this.updater=c||A}C.prototype.isReactComponent={},C.prototype.setState=function(a,b){if("object"!=typeof a&&"function"!=typeof a&&null!=a)throw Error(z(85));this.updater.enqueueSetState(this,a,b,"setState")},C.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")},D.prototype=C.prototype;var F=E.prototype=new D;F.constructor=E,l(F,C.prototype),F.isPureReactComponent=!0;var G={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function J(a,b,c){var e,d={},k=null,h=null;if(null!=b)for(e in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=""+b.key),b)H.call(b,e)&&!I.hasOwnProperty(e)&&(d[e]=b[e]);var g=arguments.length-2;if(1===g)d.children=c;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];d.children=f}if(a&&a.defaultProps)for(e in g=a.defaultProps)void 0===d[e]&&(d[e]=g[e]);return{$$typeof:n,type:a,key:k,ref:h,props:d,_owner:G.current}}function L(a){return"object"==typeof a&&null!==a&&a.$$typeof===n}var M=/\/+/g;function N(a,b){return"object"==typeof a&&null!==a&&null!=a.key?function escape(a){var b={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,(function(a){return b[a]}))}(""+a.key):b.toString(36)}function O(a,b,c,e,d){var k=typeof a;"undefined"!==k&&"boolean"!==k||(a=null);var h=!1;if(null===a)h=!0;else switch(k){case"string":case"number":h=!0;break;case"object":switch(a.$$typeof){case n:case p:h=!0}}if(h)return d=d(h=a),a=""===e?"."+N(h,0):e,Array.isArray(d)?(c="",null!=a&&(c=a.replace(M,"$&/")+"/"),O(d,b,c,"",(function(a){return a}))):null!=d&&(L(d)&&(d=function K(a,b){return{$$typeof:n,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}(d,c+(!d.key||h&&h.key===d.key?"":(""+d.key).replace(M,"$&/")+"/")+a)),b.push(d)),1;if(h=0,e=""===e?".":e+":",Array.isArray(a))for(var g=0;g<a.length;g++){var f=e+N(k=a[g],g);h+=O(k,b,c,f,d)}else if(f=function y(a){return null===a||"object"!=typeof a?null:"function"==typeof(a=x&&a[x]||a["@@iterator"])?a:null}(a),"function"==typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)h+=O(k=k.value,b,c,f=e+N(k,g++),d);else if("object"===k)throw b=""+a,Error(z(31,"[object Object]"===b?"object with keys {"+Object.keys(a).join(", ")+"}":b));return h}function P(a,b,c){if(null==a)return a;var e=[],d=0;return O(a,e,"","",(function(a){return b.call(c,a,d++)})),e}function Q(a){if(-1===a._status){var b=a._result;b=b(),a._status=0,a._result=b,b.then((function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)}),(function(b){0===a._status&&(a._status=2,a._result=b)}))}if(1===a._status)return a._result;throw a._result}var R={current:null};function S(){var a=R.current;if(null===a)throw Error(z(321));return a}var T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G,IsSomeRendererActing:{current:!1},assign:l};exports.Children={map:P,forEach:function(a,b,c){P(a,(function(){b.apply(this,arguments)}),c)},count:function(a){var b=0;return P(a,(function(){b++})),b},toArray:function(a){return P(a,(function(a){return a}))||[]},only:function(a){if(!L(a))throw Error(z(143));return a}},exports.Component=C,exports.PureComponent=E,exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,exports.cloneElement=function(a,b,c){if(null==a)throw Error(z(267,a));var e=l({},a.props),d=a.key,k=a.ref,h=a._owner;if(null!=b){if(void 0!==b.ref&&(k=b.ref,h=G.current),void 0!==b.key&&(d=""+b.key),a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)H.call(b,f)&&!I.hasOwnProperty(f)&&(e[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];e.children=g}return{$$typeof:n,type:a.type,key:d,ref:k,props:e,_owner:h}},exports.createContext=function(a,b){return void 0===b&&(b=null),(a={$$typeof:r,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:q,_context:a},a.Consumer=a},exports.createElement=J,exports.createFactory=function(a){var b=J.bind(null,a);return b.type=a,b},exports.createRef=function(){return{current:null}},exports.forwardRef=function(a){return{$$typeof:t,render:a}},exports.isValidElement=L,exports.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:Q}},exports.memo=function(a,b){return{$$typeof:u,type:a,compare:void 0===b?null:b}},exports.useCallback=function(a,b){return S().useCallback(a,b)},exports.useContext=function(a,b){return S().useContext(a,b)},exports.useDebugValue=function(){},exports.useEffect=function(a,b){return S().useEffect(a,b)},exports.useImperativeHandle=function(a,b,c){return S().useImperativeHandle(a,b,c)},exports.useLayoutEffect=function(a,b){return S().useLayoutEffect(a,b)},exports.useMemo=function(a,b){return S().useMemo(a,b)},exports.useReducer=function(a,b,c){return S().useReducer(a,b,c)},exports.useRef=function(a){return S().useRef(a)},exports.useState=function(a){return S().useState(a)},exports.version="17.0.2"},"./node_modules/react/index.js":function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__("./node_modules/react/cjs/react.production.min.js")},"./node_modules/regenerator-runtime/runtime.js":function(module,exports,__webpack_require__){var runtime=function(exports){"use strict";var Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function invoke(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(undefined===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}},exports}(module.exports);try{regeneratorRuntime=runtime}catch(accidentalStrictMode){"object"==typeof globalThis?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}},"./node_modules/regexp.prototype.flags/implementation.js":function(module,exports,__webpack_require__){"use strict";var functionsHaveConfigurableNames=__webpack_require__("./node_modules/functions-have-names/index.js").functionsHaveConfigurableNames(),$Object=Object,$TypeError=TypeError;module.exports=function flags(){if(null!=this&&this!==$Object(this))throw new $TypeError("RegExp.prototype.flags getter called on non-object");var result="";return this.hasIndices&&(result+="d"),this.global&&(result+="g"),this.ignoreCase&&(result+="i"),this.multiline&&(result+="m"),this.dotAll&&(result+="s"),this.unicode&&(result+="u"),this.sticky&&(result+="y"),result},functionsHaveConfigurableNames&&Object.defineProperty&&Object.defineProperty(module.exports,"name",{value:"get flags"})},"./node_modules/regexp.prototype.flags/index.js":function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__("./node_modules/define-properties/index.js"),callBind=__webpack_require__("./node_modules/call-bind/index.js"),implementation=__webpack_require__("./node_modules/regexp.prototype.flags/implementation.js"),getPolyfill=__webpack_require__("./node_modules/regexp.prototype.flags/polyfill.js"),shim=__webpack_require__("./node_modules/regexp.prototype.flags/shim.js"),flagsBound=callBind(getPolyfill());define(flagsBound,{getPolyfill:getPolyfill,implementation:implementation,shim:shim}),module.exports=flagsBound},"./node_modules/regexp.prototype.flags/polyfill.js":function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__("./node_modules/regexp.prototype.flags/implementation.js"),supportsDescriptors=__webpack_require__("./node_modules/define-properties/index.js").supportsDescriptors,$gOPD=Object.getOwnPropertyDescriptor;module.exports=function getPolyfill(){if(supportsDescriptors&&"gim"===/a/gim.flags){var descriptor=$gOPD(RegExp.prototype,"flags");if(descriptor&&"function"==typeof descriptor.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var calls="",o={};if(Object.defineProperty(o,"hasIndices",{get:function(){calls+="d"}}),Object.defineProperty(o,"sticky",{get:function(){calls+="y"}}),"dy"===calls)return descriptor.get}}return implementation}},"./node_modules/regexp.prototype.flags/shim.js":function(module,exports,__webpack_require__){"use strict";var supportsDescriptors=__webpack_require__("./node_modules/define-properties/index.js").supportsDescriptors,getPolyfill=__webpack_require__("./node_modules/regexp.prototype.flags/polyfill.js"),gOPD=Object.getOwnPropertyDescriptor,defineProperty=Object.defineProperty,TypeErr=TypeError,getProto=Object.getPrototypeOf,regex=/a/;module.exports=function shimFlags(){if(!supportsDescriptors||!getProto)throw new TypeErr("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var polyfill=getPolyfill(),proto=getProto(regex),descriptor=gOPD(proto,"flags");return descriptor&&descriptor.get===polyfill||defineProperty(proto,"flags",{configurable:!0,enumerable:!1,get:polyfill}),polyfill}},"./node_modules/setimmediate/setImmediate.js":function(module,exports,__webpack_require__){(function(global,process){!function(global,undefined){"use strict";if(!global.setImmediate){var registerImmediate,nextHandle=1,tasksByHandle={},currentlyRunningATask=!1,doc=global.document,attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global,"[object process]"==={}.toString.call(global.process)?function installNextTickImplementation(){registerImmediate=function(handle){process.nextTick((function(){runIfPresent(handle)}))}}():!function canUsePostMessage(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;return global.onmessage=function(){postMessageIsAsynchronous=!1},global.postMessage("","*"),global.onmessage=oldOnMessage,postMessageIsAsynchronous}}()?global.MessageChannel?function installMessageChannelImplementation(){var channel=new MessageChannel;channel.port1.onmessage=function(event){runIfPresent(event.data)},registerImmediate=function(handle){channel.port2.postMessage(handle)}}():doc&&"onreadystatechange"in doc.createElement("script")?function installReadyStateChangeImplementation(){var html=doc.documentElement;registerImmediate=function(handle){var script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script)}}():function installSetTimeoutImplementation(){registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)}}():function installPostMessageImplementation(){var messagePrefix="setImmediate$"+Math.random()+"$",onGlobalMessage=function(event){event.source===global&&"string"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&runIfPresent(+event.data.slice(messagePrefix.length))};global.addEventListener?global.addEventListener("message",onGlobalMessage,!1):global.attachEvent("onmessage",onGlobalMessage),registerImmediate=function(handle){global.postMessage(messagePrefix+handle,"*")}}(),attachTo.setImmediate=function setImmediate(callback){"function"!=typeof callback&&(callback=new Function(""+callback));for(var args=new Array(arguments.length-1),i=0;i<args.length;i++)args[i]=arguments[i+1];var task={callback:callback,args:args};return tasksByHandle[nextHandle]=task,registerImmediate(nextHandle),nextHandle++},attachTo.clearImmediate=clearImmediate}function clearImmediate(handle){delete tasksByHandle[handle]}function runIfPresent(handle){if(currentlyRunningATask)setTimeout(runIfPresent,0,handle);else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{!function run(task){var callback=task.callback,args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(void 0,args)}}(task)}finally{clearImmediate(handle),currentlyRunningATask=!1}}}}}("undefined"==typeof self?void 0===global?this:global:self)}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"),__webpack_require__("./node_modules/process/browser.js"))},"./node_modules/side-channel/index.js":function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),inspect=__webpack_require__("./node_modules/object-inspect/index.js"),$TypeError=GetIntrinsic("%TypeError%"),$WeakMap=GetIntrinsic("%WeakMap%",!0),$Map=GetIntrinsic("%Map%",!0),$weakMapGet=callBound("WeakMap.prototype.get",!0),$weakMapSet=callBound("WeakMap.prototype.set",!0),$weakMapHas=callBound("WeakMap.prototype.has",!0),$mapGet=callBound("Map.prototype.get",!0),$mapSet=callBound("Map.prototype.set",!0),$mapHas=callBound("Map.prototype.has",!0),listGetNode=function(list,key){for(var curr,prev=list;null!==(curr=prev.next);prev=curr)if(curr.key===key)return prev.next=curr.next,curr.next=list.next,list.next=curr,curr};module.exports=function getSideChannel(){var $wm,$m,$o,channel={assert:function(key){if(!channel.has(key))throw new $TypeError("Side channel does not contain "+inspect(key))},get:function(key){if($WeakMap&&key&&("object"==typeof key||"function"==typeof key)){if($wm)return $weakMapGet($wm,key)}else if($Map){if($m)return $mapGet($m,key)}else if($o)return function(objects,key){var node=listGetNode(objects,key);return node&&node.value}($o,key)},has:function(key){if($WeakMap&&key&&("object"==typeof key||"function"==typeof key)){if($wm)return $weakMapHas($wm,key)}else if($Map){if($m)return $mapHas($m,key)}else if($o)return function(objects,key){return!!listGetNode(objects,key)}($o,key);return!1},set:function(key,value){$WeakMap&&key&&("object"==typeof key||"function"==typeof key)?($wm||($wm=new $WeakMap),$weakMapSet($wm,key,value)):$Map?($m||($m=new $Map),$mapSet($m,key,value)):($o||($o={key:{},next:null}),function(objects,key,value){var node=listGetNode(objects,key);node?node.value=value:objects.next={key:key,next:objects.next,value:value}}($o,key,value))}};return channel}},"./node_modules/stable/stable.js":function(module,exports,__webpack_require__){module.exports=function(){"use strict";var stable=function(arr,comp){return exec(arr.slice(),comp)};function exec(arr,comp){"function"!=typeof comp&&(comp=function(a,b){return String(a).localeCompare(b)});var len=arr.length;if(len<=1)return arr;for(var buffer=new Array(len),chk=1;chk<len;chk*=2){pass(arr,comp,chk,buffer);var tmp=arr;arr=buffer,buffer=tmp}return arr}stable.inplace=function(arr,comp){var result=exec(arr,comp);return result!==arr&&pass(result,null,arr.length,arr),arr};var pass=function(arr,comp,chk,result){var l,r,e,li,ri,len=arr.length,i=0,dbl=2*chk;for(l=0;l<len;l+=dbl)for(e=(r=l+chk)+chk,r>len&&(r=len),e>len&&(e=len),li=l,ri=r;;)if(li<r&&ri<e)comp(arr[li],arr[ri])<=0?result[i++]=arr[li++]:result[i++]=arr[ri++];else if(li<r)result[i++]=arr[li++];else{if(!(ri<e))break;result[i++]=arr[ri++]}};return stable}()},"./node_modules/string.prototype.matchall/auto.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/string.prototype.matchall/shim.js")()},"./node_modules/string.prototype.matchall/implementation.js":function(module,exports,__webpack_require__){"use strict";var Call=__webpack_require__("./node_modules/es-abstract/2021/Call.js"),Get=__webpack_require__("./node_modules/es-abstract/2021/Get.js"),GetMethod=__webpack_require__("./node_modules/es-abstract/2021/GetMethod.js"),IsRegExp=__webpack_require__("./node_modules/es-abstract/2021/IsRegExp.js"),ToString=__webpack_require__("./node_modules/es-abstract/2021/ToString.js"),RequireObjectCoercible=__webpack_require__("./node_modules/es-abstract/2021/RequireObjectCoercible.js"),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),hasSymbols=__webpack_require__("./node_modules/has-symbols/index.js")(),flagsGetter=__webpack_require__("./node_modules/regexp.prototype.flags/index.js"),$indexOf=callBound("String.prototype.indexOf"),regexpMatchAllPolyfill=__webpack_require__("./node_modules/string.prototype.matchall/polyfill-regexp-matchall.js"),getMatcher=function getMatcher(regexp){var matcherPolyfill=regexpMatchAllPolyfill();if(hasSymbols&&"symbol"==typeof Symbol.matchAll){var matcher=GetMethod(regexp,Symbol.matchAll);return matcher===RegExp.prototype[Symbol.matchAll]&&matcher!==matcherPolyfill?matcherPolyfill:matcher}if(IsRegExp(regexp))return matcherPolyfill};module.exports=function matchAll(regexp){var O=RequireObjectCoercible(this);if(null!=regexp){if(IsRegExp(regexp)){var flags="flags"in regexp?Get(regexp,"flags"):flagsGetter(regexp);if(RequireObjectCoercible(flags),$indexOf(ToString(flags),"g")<0)throw new TypeError("matchAll requires a global regular expression")}var matcher=getMatcher(regexp);if(void 0!==matcher)return Call(matcher,regexp,[O])}var S=ToString(O),rx=new RegExp(regexp,"g");return Call(getMatcher(rx),rx,[S])}},"./node_modules/string.prototype.matchall/polyfill-regexp-matchall.js":function(module,exports,__webpack_require__){"use strict";var hasSymbols=__webpack_require__("./node_modules/has-symbols/index.js")(),regexpMatchAll=__webpack_require__("./node_modules/string.prototype.matchall/regexp-matchall.js");module.exports=function getRegExpMatchAllPolyfill(){return hasSymbols&&"symbol"==typeof Symbol.matchAll&&"function"==typeof RegExp.prototype[Symbol.matchAll]?RegExp.prototype[Symbol.matchAll]:regexpMatchAll}},"./node_modules/string.prototype.matchall/polyfill.js":function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__("./node_modules/string.prototype.matchall/implementation.js");module.exports=function getPolyfill(){if(String.prototype.matchAll)try{"".matchAll(RegExp.prototype)}catch(e){return String.prototype.matchAll}return implementation}},"./node_modules/string.prototype.matchall/regexp-matchall.js":function(module,exports,__webpack_require__){"use strict";var CreateRegExpStringIterator=__webpack_require__("./node_modules/es-abstract/2021/CreateRegExpStringIterator.js"),Get=__webpack_require__("./node_modules/es-abstract/2021/Get.js"),Set=__webpack_require__("./node_modules/es-abstract/2021/Set.js"),SpeciesConstructor=__webpack_require__("./node_modules/es-abstract/2021/SpeciesConstructor.js"),ToLength=__webpack_require__("./node_modules/es-abstract/2021/ToLength.js"),ToString=__webpack_require__("./node_modules/es-abstract/2021/ToString.js"),Type=__webpack_require__("./node_modules/es-abstract/2021/Type.js"),flagsGetter=__webpack_require__("./node_modules/regexp.prototype.flags/index.js"),$indexOf=__webpack_require__("./node_modules/call-bind/callBound.js")("String.prototype.indexOf"),OrigRegExp=RegExp,supportsConstructingWithFlags="flags"in RegExp.prototype,regexMatchAll=function SymbolMatchAll(string){var R=this;if("Object"!==Type(R))throw new TypeError('"this" value must be an Object');var S=ToString(string),tmp=function constructRegex(C,R){var flags="flags"in R?Get(R,"flags"):ToString(flagsGetter(R));return{flags:flags,matcher:new C(supportsConstructingWithFlags&&"string"==typeof flags?R:C===OrigRegExp?R.source:R,flags)}}(SpeciesConstructor(R,OrigRegExp),R),flags=tmp.flags,matcher=tmp.matcher,lastIndex=ToLength(Get(R,"lastIndex"));Set(matcher,"lastIndex",lastIndex,!0);var global=$indexOf(flags,"g")>-1,fullUnicode=$indexOf(flags,"u")>-1;return CreateRegExpStringIterator(matcher,S,global,fullUnicode)},defineP=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor;if(defineP&&gOPD){var desc=gOPD(regexMatchAll,"name");desc&&desc.configurable&&defineP(regexMatchAll,"name",{value:"[Symbol.matchAll]"})}module.exports=regexMatchAll},"./node_modules/string.prototype.matchall/shim.js":function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__("./node_modules/define-properties/index.js"),hasSymbols=__webpack_require__("./node_modules/has-symbols/index.js")(),getPolyfill=__webpack_require__("./node_modules/string.prototype.matchall/polyfill.js"),regexpMatchAllPolyfill=__webpack_require__("./node_modules/string.prototype.matchall/polyfill-regexp-matchall.js"),defineP=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor;module.exports=function shimMatchAll(){var polyfill=getPolyfill();if(define(String.prototype,{matchAll:polyfill},{matchAll:function(){return String.prototype.matchAll!==polyfill}}),hasSymbols){var symbol=Symbol.matchAll||(Symbol.for?Symbol.for("Symbol.matchAll"):Symbol("Symbol.matchAll"));if(define(Symbol,{matchAll:symbol},{matchAll:function(){return Symbol.matchAll!==symbol}}),defineP&&gOPD){var desc=gOPD(Symbol,symbol);desc&&!desc.configurable||defineP(Symbol,symbol,{configurable:!1,enumerable:!1,value:symbol,writable:!1})}var regexpMatchAll=regexpMatchAllPolyfill(),func={};func[symbol]=regexpMatchAll;var predicate={};predicate[symbol]=function(){return RegExp.prototype[symbol]!==regexpMatchAll},define(RegExp.prototype,func,predicate)}return polyfill}},"./node_modules/string.prototype.padend/implementation.js":function(module,exports,__webpack_require__){"use strict";var ToLength=__webpack_require__("./node_modules/es-abstract/2021/ToLength.js"),ToString=__webpack_require__("./node_modules/es-abstract/2021/ToString.js"),RequireObjectCoercible=__webpack_require__("./node_modules/es-abstract/2021/RequireObjectCoercible.js"),$slice=__webpack_require__("./node_modules/call-bind/callBound.js")("String.prototype.slice");module.exports=function padEnd(maxLength){var fillString,O=RequireObjectCoercible(this),S=ToString(O),stringLength=ToLength(S.length);arguments.length>1&&(fillString=arguments[1]);var filler=void 0===fillString?"":ToString(fillString);""===filler&&(filler=" ");var intMaxLength=ToLength(maxLength);if(intMaxLength<=stringLength)return S;for(var fillLen=intMaxLength-stringLength;filler.length<fillLen;){var fLen=filler.length,remainingCodeUnits=fillLen-fLen;filler+=fLen>remainingCodeUnits?$slice(filler,0,remainingCodeUnits):filler}var truncatedStringFiller=filler.length>fillLen?$slice(filler,0,fillLen):filler;return S+truncatedStringFiller}},"./node_modules/string.prototype.padend/polyfill.js":function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__("./node_modules/string.prototype.padend/implementation.js");module.exports=function getPolyfill(){return"function"==typeof String.prototype.padEnd?String.prototype.padEnd:implementation}},"./node_modules/string.prototype.padend/shim.js":function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__("./node_modules/string.prototype.padend/polyfill.js"),define=__webpack_require__("./node_modules/define-properties/index.js");module.exports=function shimPadEnd(){var polyfill=getPolyfill();return define(String.prototype,{padEnd:polyfill},{padEnd:function testPadEnd(){return String.prototype.padEnd!==polyfill}}),polyfill}},"./node_modules/string.prototype.padstart/implementation.js":function(module,exports,__webpack_require__){"use strict";var ToLength=__webpack_require__("./node_modules/es-abstract/2021/ToLength.js"),ToString=__webpack_require__("./node_modules/es-abstract/2021/ToString.js"),RequireObjectCoercible=__webpack_require__("./node_modules/es-abstract/2021/RequireObjectCoercible.js"),$slice=__webpack_require__("./node_modules/call-bind/callBound.js")("String.prototype.slice");module.exports=function padStart(maxLength){var fillString,O=RequireObjectCoercible(this),S=ToString(O),stringLength=ToLength(S.length);arguments.length>1&&(fillString=arguments[1]);var filler=void 0===fillString?"":ToString(fillString);""===filler&&(filler=" ");var intMaxLength=ToLength(maxLength);if(intMaxLength<=stringLength)return S;for(var fillLen=intMaxLength-stringLength;filler.length<fillLen;){var fLen=filler.length,remainingCodeUnits=fillLen-fLen;filler+=fLen>remainingCodeUnits?$slice(filler,0,remainingCodeUnits):filler}var truncatedStringFiller=filler.length>fillLen?$slice(filler,0,fillLen):filler;return truncatedStringFiller+S}},"./node_modules/string.prototype.padstart/polyfill.js":function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__("./node_modules/string.prototype.padstart/implementation.js");module.exports=function getPolyfill(){return"function"==typeof String.prototype.padStart?String.prototype.padStart:implementation}},"./node_modules/string.prototype.padstart/shim.js":function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__("./node_modules/string.prototype.padstart/polyfill.js"),define=__webpack_require__("./node_modules/define-properties/index.js");module.exports=function shimPadStart(){var polyfill=getPolyfill();return define(String.prototype,{padStart:polyfill},{padStart:function testPadStart(){return String.prototype.padStart!==polyfill}}),polyfill}},"./node_modules/symbol.prototype.description/auto.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/symbol.prototype.description/shim.js")()},"./node_modules/symbol.prototype.description/implementation.js":function(module,exports,__webpack_require__){"use strict";var getSymbolDescription=__webpack_require__("./node_modules/get-symbol-description/index.js");module.exports=function description(){return getSymbolDescription(this)}},"./node_modules/symbol.prototype.description/polyfill.js":function(module,exports,__webpack_require__){"use strict";var hasSymbols=__webpack_require__("./node_modules/has-symbols/index.js")(),implementation=__webpack_require__("./node_modules/symbol.prototype.description/implementation.js"),gOPD=Object.getOwnPropertyDescriptor;module.exports=function descriptionPolyfill(){if(!hasSymbols||"function"!=typeof gOPD)return null;var desc=gOPD(Symbol.prototype,"description");if(!desc||"function"!=typeof desc.get)return implementation;var emptySymbolDesc=desc.get.call(Symbol());return(void 0===emptySymbolDesc||""===emptySymbolDesc)&&"a"===desc.get.call(Symbol("a"))?desc.get:implementation}},"./node_modules/symbol.prototype.description/shim.js":function(module,exports,__webpack_require__){"use strict";var hasSymbols=__webpack_require__("./node_modules/has-symbols/index.js")(),polyfill=__webpack_require__("./node_modules/symbol.prototype.description/polyfill.js"),getInferredName=__webpack_require__("./node_modules/get-symbol-description/getInferredName.js"),gOPD=Object.getOwnPropertyDescriptor,gOPDs=__webpack_require__("./node_modules/object.getownpropertydescriptors/polyfill.js")(),dP=Object.defineProperty,dPs=Object.defineProperties,setProto=Object.setPrototypeOf,define=function defineGetter(getter){dP(Symbol.prototype,"description",{configurable:!0,enumerable:!1,get:getter})};module.exports=function shimSymbolDescription(){if(!hasSymbols)return!1;var desc=gOPD(Symbol.prototype,"description"),getter=polyfill(),isMissing=!desc||"function"!=typeof desc.get,isBroken=!isMissing&&(void 0!==Symbol().description||""!==Symbol("").description);if(isMissing||isBroken){if(!getInferredName)return function shimGlobalSymbol(getter){var origSym=Function.apply.bind(Symbol),emptyStrings=Object.create?Object.create(null):{},SymNew=function Symbol(){var sym=origSym(this,arguments);return arguments.length>0&&""===arguments[0]&&(emptyStrings[sym]=!0),sym};SymNew.prototype=Symbol.prototype,setProto(SymNew,Symbol);var props=gOPDs(Symbol);delete props.length,delete props.arguments,delete props.caller,dPs(SymNew,props),Symbol=SymNew;var boundGetter=Function.call.bind(getter),wrappedGetter=function description(){var symbolDescription=boundGetter(this);return emptyStrings[this]?"":symbolDescription};return define(wrappedGetter),wrappedGetter}(getter);define(getter)}return getter}},"./node_modules/synchronous-promise/index.js":function(module,exports,__webpack_require__){"use strict";function makeArrayFrom(obj){return Array.prototype.slice.apply(obj)}function SynchronousPromise(handler){this.status="pending",this._continuations=[],this._parent=null,this._paused=!1,handler&&handler.call(this,this._continueWith.bind(this),this._failWith.bind(this))}function looksLikeAPromise(obj){return obj&&"function"==typeof obj.then}function passThrough(value){return value}function createAggregateErrorFrom(errors){return"undefined"!=typeof window&&"AggregateError"in window?new window.AggregateError(errors):{errors:errors}}if(SynchronousPromise.prototype={then:function(nextFn,catchFn){var next=SynchronousPromise.unresolved()._setParent(this);if(this._isRejected()){if(this._paused)return this._continuations.push({promise:next,nextFn:nextFn,catchFn:catchFn}),next;if(catchFn)try{var catchResult=catchFn(this._error);return looksLikeAPromise(catchResult)?(this._chainPromiseData(catchResult,next),next):SynchronousPromise.resolve(catchResult)._setParent(this)}catch(e){return SynchronousPromise.reject(e)._setParent(this)}return SynchronousPromise.reject(this._error)._setParent(this)}return this._continuations.push({promise:next,nextFn:nextFn,catchFn:catchFn}),this._runResolutions(),next},catch:function(handler){if(this._isResolved())return SynchronousPromise.resolve(this._data)._setParent(this);var next=SynchronousPromise.unresolved()._setParent(this);return this._continuations.push({promise:next,catchFn:handler}),this._runRejections(),next},finally:function(callback){var ran=!1;function runFinally(result,err){if(!ran){ran=!0,callback||(callback=passThrough);var callbackResult=callback(result);return looksLikeAPromise(callbackResult)?callbackResult.then((function(){if(err)throw err;return result})):result}}return this.then((function(result){return runFinally(result)})).catch((function(err){return runFinally(null,err)}))},pause:function(){return this._paused=!0,this},resume:function(){var firstPaused=this._findFirstPaused();return firstPaused&&(firstPaused._paused=!1,firstPaused._runResolutions(),firstPaused._runRejections()),this},_findAncestry:function(){return this._continuations.reduce((function(acc,cur){if(cur.promise){var node={promise:cur.promise,children:cur.promise._findAncestry()};acc.push(node)}return acc}),[])},_setParent:function(parent){if(this._parent)throw new Error("parent already set");return this._parent=parent,this},_continueWith:function(data){var firstPending=this._findFirstPending();firstPending&&(firstPending._data=data,firstPending._setResolved())},_findFirstPending:function(){return this._findFirstAncestor((function(test){return test._isPending&&test._isPending()}))},_findFirstPaused:function(){return this._findFirstAncestor((function(test){return test._paused}))},_findFirstAncestor:function(matching){for(var result,test=this;test;)matching(test)&&(result=test),test=test._parent;return result},_failWith:function(error){var firstRejected=this._findFirstPending();firstRejected&&(firstRejected._error=error,firstRejected._setRejected())},_takeContinuations:function(){return this._continuations.splice(0,this._continuations.length)},_runRejections:function(){if(!this._paused&&this._isRejected()){var error=this._error,continuations=this._takeContinuations(),self=this;continuations.forEach((function(cont){if(cont.catchFn)try{var catchResult=cont.catchFn(error);self._handleUserFunctionResult(catchResult,cont.promise)}catch(e){cont.promise.reject(e)}else cont.promise.reject(error)}))}},_runResolutions:function(){if(!this._paused&&this._isResolved()&&!this._isPending()){var continuations=this._takeContinuations();if(looksLikeAPromise(this._data))return this._handleWhenResolvedDataIsPromise(this._data);var data=this._data,self=this;continuations.forEach((function(cont){if(cont.nextFn)try{var result=cont.nextFn(data);self._handleUserFunctionResult(result,cont.promise)}catch(e){self._handleResolutionError(e,cont)}else cont.promise&&cont.promise.resolve(data)}))}},_handleResolutionError:function(e,continuation){if(this._setRejected(),continuation.catchFn)try{return void continuation.catchFn(e)}catch(e2){e=e2}continuation.promise&&continuation.promise.reject(e)},_handleWhenResolvedDataIsPromise:function(data){var self=this;return data.then((function(result){self._data=result,self._runResolutions()})).catch((function(error){self._error=error,self._setRejected(),self._runRejections()}))},_handleUserFunctionResult:function(data,nextSynchronousPromise){looksLikeAPromise(data)?this._chainPromiseData(data,nextSynchronousPromise):nextSynchronousPromise.resolve(data)},_chainPromiseData:function(promiseData,nextSynchronousPromise){promiseData.then((function(newData){nextSynchronousPromise.resolve(newData)})).catch((function(newError){nextSynchronousPromise.reject(newError)}))},_setResolved:function(){this.status="resolved",this._paused||this._runResolutions()},_setRejected:function(){this.status="rejected",this._paused||this._runRejections()},_isPending:function(){return"pending"===this.status},_isResolved:function(){return"resolved"===this.status},_isRejected:function(){return"rejected"===this.status}},SynchronousPromise.resolve=function(result){return new SynchronousPromise((function(resolve,reject){looksLikeAPromise(result)?result.then((function(newResult){resolve(newResult)})).catch((function(error){reject(error)})):resolve(result)}))},SynchronousPromise.reject=function(result){return new SynchronousPromise((function(resolve,reject){reject(result)}))},SynchronousPromise.unresolved=function(){return new SynchronousPromise((function(resolve,reject){this.resolve=resolve,this.reject=reject}))},SynchronousPromise.all=function(){var args=makeArrayFrom(arguments);return Array.isArray(args[0])&&(args=args[0]),args.length?new SynchronousPromise((function(resolve,reject){var allData=[],numResolved=0,rejected=!1;args.forEach((function(arg,idx){SynchronousPromise.resolve(arg).then((function(thisResult){allData[idx]=thisResult,(numResolved+=1)===args.length&&resolve(allData)})).catch((function(err){!function(err){rejected||(rejected=!0,reject(err))}(err)}))}))})):SynchronousPromise.resolve([])},SynchronousPromise.any=function(){var args=makeArrayFrom(arguments);return Array.isArray(args[0])&&(args=args[0]),args.length?new SynchronousPromise((function(resolve,reject){var allErrors=[],numRejected=0,resolved=!1;args.forEach((function(arg,idx){SynchronousPromise.resolve(arg).then((function(thisResult){var result;result=thisResult,resolved||(resolved=!0,resolve(result))})).catch((function(err){allErrors[idx]=err,(numRejected+=1)===args.length&&reject(createAggregateErrorFrom(allErrors))}))}))})):SynchronousPromise.reject(createAggregateErrorFrom([]))},SynchronousPromise.allSettled=function(){var args=makeArrayFrom(arguments);return Array.isArray(args[0])&&(args=args[0]),args.length?new SynchronousPromise((function(resolve){var allData=[],numSettled=0,doSettled=function(){(numSettled+=1)===args.length&&resolve(allData)};args.forEach((function(arg,idx){SynchronousPromise.resolve(arg).then((function(thisResult){allData[idx]={status:"fulfilled",value:thisResult},doSettled()})).catch((function(err){allData[idx]={status:"rejected",reason:err},doSettled()}))}))})):SynchronousPromise.resolve([])},Promise===SynchronousPromise)throw new Error("Please use SynchronousPromise.installGlobally() to install globally");var RealPromise=Promise;SynchronousPromise.installGlobally=function(__awaiter){if(Promise===SynchronousPromise)return __awaiter;var result=function patchAwaiterIfRequired(__awaiter){if(void 0===__awaiter||__awaiter.__patched)return __awaiter;var originalAwaiter=__awaiter;return __awaiter=function(){originalAwaiter.apply(this,makeArrayFrom(arguments))},__awaiter.__patched=!0,__awaiter}(__awaiter);return Promise=SynchronousPromise,result},SynchronousPromise.uninstallGlobally=function(){Promise===SynchronousPromise&&(Promise=RealPromise)},module.exports={SynchronousPromise:SynchronousPromise}},"./node_modules/telejson/dist/esm/dom-event.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}__webpack_require__.d(__webpack_exports__,"a",(function(){return extractEventHiddenProperties}));var eventProperties=["bubbles","cancelBubble","cancelable","composed","currentTarget","defaultPrevented","eventPhase","isTrusted","returnValue","srcElement","target","timeStamp","type"],customEventSpecificProperties=["detail"];function extractEventHiddenProperties(event){var rebuildEvent=eventProperties.filter((function(value){return void 0!==event[value]})).reduce((function(acc,value){return _objectSpread(_objectSpread({},acc),{},_defineProperty({},value,event[value]))}),{});return event instanceof CustomEvent&&customEventSpecificProperties.filter((function(value){return void 0!==event[value]})).forEach((function(value){rebuildEvent[value]=event[value]})),rebuildEvent}},"./node_modules/telejson/dist/esm/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return isJSON})),__webpack_require__.d(__webpack_exports__,"c",(function(){return stringify})),__webpack_require__.d(__webpack_exports__,"b",(function(){return parse}));var is_regex__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/is-regex/index.js"),is_regex__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(is_regex__WEBPACK_IMPORTED_MODULE_0__),is_function__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/is-function/index.js"),is_function__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(is_function__WEBPACK_IMPORTED_MODULE_1__),is_symbol__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/is-symbol/index.js"),is_symbol__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(is_symbol__WEBPACK_IMPORTED_MODULE_2__),isobject__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/telejson/node_modules/isobject/index.js"),lodash_get__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/lodash/get.js"),lodash_get__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_4__),memoizerific__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/memoizerific/memoizerific.js"),memoizerific__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(memoizerific__WEBPACK_IMPORTED_MODULE_5__),_dom_event__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/telejson/dist/esm/dom-event.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var isRunningInBrowser="undefined"!=typeof window&&void 0!==window.document,isObject=isobject__WEBPACK_IMPORTED_MODULE_3__.a,removeCodeComments=function removeCodeComments(code){var inQuoteChar=null,inBlockComment=!1,inLineComment=!1,inRegexLiteral=!1,newCode="";if(code.indexOf("//")>=0||code.indexOf("/*")>=0)for(var i=0;i<code.length;i+=1)inQuoteChar||inBlockComment||inLineComment||inRegexLiteral?(inQuoteChar&&(code[i]===inQuoteChar&&"\\"!==code[i-1]||"\n"===code[i]&&"`"!==inQuoteChar)&&(inQuoteChar=null),inRegexLiteral&&("/"===code[i]&&"\\"!==code[i-1]||"\n"===code[i])&&(inRegexLiteral=!1),inBlockComment&&"/"===code[i-1]&&"*"===code[i-2]&&(inBlockComment=!1),inLineComment&&"\n"===code[i]&&(inLineComment=!1)):'"'===code[i]||"'"===code[i]||"`"===code[i]?inQuoteChar=code[i]:"/"===code[i]&&"*"===code[i+1]?inBlockComment=!0:"/"===code[i]&&"/"===code[i+1]?inLineComment=!0:"/"===code[i]&&"/"!==code[i+1]&&(inRegexLiteral=!0),inBlockComment||inLineComment||(newCode+=code[i]);else newCode=code;return newCode},cleanCode=memoizerific__WEBPACK_IMPORTED_MODULE_5___default()(1e4)((function(code){return removeCodeComments(code).replace(/\n\s*/g,"").trim()})),convertShorthandMethods=function convertShorthandMethods(key,stringified){var fnHead=stringified.slice(0,stringified.indexOf("{")),fnBody=stringified.slice(stringified.indexOf("{"));if(fnHead.includes("=>"))return stringified;if(fnHead.includes("function"))return stringified;var modifiedHead=fnHead;return(modifiedHead=modifiedHead.replace(key,"function"))+fnBody},dateFormat=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z$/,isJSON=function isJSON(input){return input.match(/^[\[\{\"\}].*[\]\}\"]$/)};function convertUnconventionalData(data){return isRunningInBrowser&&data instanceof Event?Object(_dom_event__WEBPACK_IMPORTED_MODULE_6__.a)(data):data}var replacer=function replacer(options){var objects,stack,keys;return function replace(key,value){try{if(""===key)return keys=[],objects=new Map([[value,"[]"]]),stack=[],value;for(;stack.length&&this!==stack[0];)stack.shift(),keys.pop();if("boolean"==typeof value)return value;if(void 0===value){if(!options.allowUndefined)return;return"_undefined_"}if("number"==typeof value)return value===-1/0?"_-Infinity_":value===1/0?"_Infinity_":Number.isNaN(value)?"_NaN_":value;if("bigint"==typeof value)return"_bigint_".concat(value.toString());if("string"==typeof value){if(dateFormat.test(value)){if(!options.allowDate)return;return"_date_".concat(value)}return value}if(is_regex__WEBPACK_IMPORTED_MODULE_0___default()(value)){if(!options.allowRegExp)return;return"_regexp_".concat(value.flags,"|").concat(value.source)}if(is_function__WEBPACK_IMPORTED_MODULE_1___default()(value)){if(!options.allowFunction)return;var name=value.name,stringified=value.toString();return stringified.match(/(\[native code\]|WEBPACK_IMPORTED_MODULE|__webpack_exports__|__webpack_require__)/)?"_function_".concat(name,"|").concat(function(){}.toString()):"_function_".concat(name,"|").concat(cleanCode(convertShorthandMethods(key,stringified)))}if(is_symbol__WEBPACK_IMPORTED_MODULE_2___default()(value)){if(!options.allowSymbol)return;var globalRegistryKey=Symbol.keyFor(value);return void 0!==globalRegistryKey?"_gsymbol_".concat(globalRegistryKey):"_symbol_".concat(value.toString().slice(7,-1))}if(stack.length>=options.maxDepth)return Array.isArray(value)?"[Array(".concat(value.length,")]"):"[Object]";var found=objects.get(value);if(!found){if(value&&isObject(value)&&value.constructor&&value.constructor.name&&"Object"!==value.constructor.name){if(!options.allowClass)return;try{Object.assign(value,{"_constructor-name_":value.constructor.name})}catch(e){}}return keys.push(key),stack.unshift(value),objects.set(value,JSON.stringify(keys)),convertUnconventionalData(value)}return"_duplicate_".concat(found)}catch(e){return}}},reviver=function reviver(options){var refs=[],root;return function revive(key,value){if(""===key&&(root=value,refs.forEach((function(_ref){var target=_ref.target,container=_ref.container,replacement=_ref.replacement,replacementArr=isJSON(replacement)?JSON.parse(replacement):replacement.split(".");0===replacementArr.length?container[target]=root:container[target]=lodash_get__WEBPACK_IMPORTED_MODULE_4___default()(root,replacementArr)}))),"_constructor-name_"===key)return value;if(isObject(value)&&value["_constructor-name_"]){var name=value["_constructor-name_"];if("Object"!==name){var Fn=new Function("return function ".concat(name,"(){}"))();Object.setPrototypeOf(value,new Fn)}return delete value["_constructor-name_"],value}if("string"==typeof value&&value.startsWith("_function_")){var _ref2=value.match(/_function_([^|]*)\|(.*)/)||[],_ref3=_slicedToArray(_ref2,3),_name=_ref3[1],source=_ref3[2],sourceSanitized=source.replace(/[(\(\))|\\| |\]|`]*$/,"");if(!options.lazyEval)return eval("(".concat(sourceSanitized,")"));var result=function result(){var f=eval("(".concat(sourceSanitized,")"));return f.apply(void 0,arguments)};return Object.defineProperty(result,"toString",{value:function value(){return sourceSanitized}}),Object.defineProperty(result,"name",{value:_name}),result}if("string"==typeof value&&value.startsWith("_regexp_")){var _ref4=value.match(/_regexp_([^|]*)\|(.*)/)||[],_ref5=_slicedToArray(_ref4,3),flags=_ref5[1],_source=_ref5[2];return new RegExp(_source,flags)}return"string"==typeof value&&value.startsWith("_date_")?new Date(value.replace("_date_","")):"string"==typeof value&&value.startsWith("_duplicate_")?(refs.push({target:key,container:this,replacement:value.replace(/^_duplicate_/,"")}),null):"string"==typeof value&&value.startsWith("_symbol_")?Symbol(value.replace("_symbol_","")):"string"==typeof value&&value.startsWith("_gsymbol_")?Symbol.for(value.replace("_gsymbol_","")):"string"==typeof value&&"_-Infinity_"===value?-1/0:"string"==typeof value&&"_Infinity_"===value?1/0:"string"==typeof value&&"_NaN_"===value?NaN:"string"==typeof value&&value.startsWith("_bigint_")&&"function"==typeof BigInt?BigInt(value.replace("_bigint_","")):value}},defaultOptions={maxDepth:10,space:void 0,allowFunction:!0,allowRegExp:!0,allowDate:!0,allowClass:!0,allowUndefined:!0,allowSymbol:!0,lazyEval:!0},stringify=function stringify(data){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},mergedOptions=_objectSpread(_objectSpread({},defaultOptions),options);return JSON.stringify(convertUnconventionalData(data),replacer(mergedOptions),options.space)},mutator=function mutator(){var mutated=new Map;return function mutateUndefined(value){isObject(value)&&Object.entries(value).forEach((function(_ref6){var _ref7=_slicedToArray(_ref6,2),k=_ref7[0],v=_ref7[1];"_undefined_"===v?value[k]=void 0:mutated.get(v)||(mutated.set(v,!0),mutateUndefined(v))})),Array.isArray(value)&&value.forEach((function(v,index){mutated.set(v,!0),mutateUndefined(v),"_undefined_"===v&&(mutated.set(v,!0),value[index]=void 0)}))}},parse=function parse(data){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},mergedOptions=_objectSpread(_objectSpread({},defaultOptions),options),result=JSON.parse(data,reviver(mergedOptions));return mutator()(result),result}},"./node_modules/telejson/node_modules/isobject/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function isObject(val){return null!=val&&"object"==typeof val&&!1===Array.isArray(val)}__webpack_require__.d(__webpack_exports__,"a",(function(){return isObject}))},"./node_modules/timers-browserify/main.js":function(module,exports,__webpack_require__){(function(global){var scope=void 0!==global&&global||"undefined"!=typeof self&&self||window,apply=Function.prototype.apply;function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,scope,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,scope,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout&&timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(scope,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;msecs>=0&&(item._idleTimeoutId=setTimeout((function onTimeout(){item._onTimeout&&item._onTimeout()}),msecs))},__webpack_require__("./node_modules/setimmediate/setImmediate.js"),exports.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==global&&global.setImmediate||this&&this.setImmediate,exports.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==global&&global.clearImmediate||this&&this.clearImmediate}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"))},"./node_modules/ts-dedent/esm/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function dedent(templ){for(var values=[],_i=1;_i<arguments.length;_i++)values[_i-1]=arguments[_i];var strings=Array.from("string"==typeof templ?[templ]:templ);strings[strings.length-1]=strings[strings.length-1].replace(/\r?\n([\t ]*)$/,"");var indentLengths=strings.reduce((function(arr,str){var matches=str.match(/\n([\t ]+|(?!\s).)/g);return matches?arr.concat(matches.map((function(match){var _a,_b;return null!==(_b=null===(_a=match.match(/[\t ]/g))||void 0===_a?void 0:_a.length)&&void 0!==_b?_b:0}))):arr}),[]);if(indentLengths.length){var pattern_1=new RegExp("\n[\t ]{"+Math.min.apply(Math,indentLengths)+"}","g");strings=strings.map((function(str){return str.replace(pattern_1,"\n")}))}strings[0]=strings[0].replace(/^\r?\n/,"");var string=strings[0];return values.forEach((function(value,i){var endentations=string.match(/(?:^|\n)( *)$/),endentation=endentations?endentations[1]:"",indentedValue=value;"string"==typeof value&&value.includes("\n")&&(indentedValue=String(value).split("\n").map((function(str,i){return 0===i?str:""+endentation+str})).join("\n")),string+=indentedValue+strings[i+1]})),string}},"./node_modules/util-deprecate/browser.js":function(module,exports,__webpack_require__){(function(global){function config(name){try{if(!global.localStorage)return!1}catch(_){return!1}var val=global.localStorage[name];return null!=val&&"true"===String(val).toLowerCase()}module.exports=function deprecate(fn,msg){if(config("noDeprecation"))return fn;var warned=!1;return function deprecated(){if(!warned){if(config("throwDeprecation"))throw new Error(msg);config("traceDeprecation")?console.trace(msg):console.warn(msg),warned=!0}return fn.apply(this,arguments)}}}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"))},"./node_modules/uuid-browser/lib/bytesToUuid.js":function(module,exports){for(var byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);module.exports=function bytesToUuid(buf,offset){var i=offset||0,bth=byteToHex;return bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]}},"./node_modules/uuid-browser/lib/rng-browser.js":function(module,exports,__webpack_require__){(function(global){var rng,crypto=void 0!==global&&(global.crypto||global.msCrypto);if(crypto&&crypto.getRandomValues){var rnds8=new Uint8Array(16);rng=function whatwgRNG(){return crypto.getRandomValues(rnds8),rnds8}}if(!rng){var rnds=new Array(16);rng=function(){for(var r,i=0;i<16;i++)0==(3&i)&&(r=4294967296*Math.random()),rnds[i]=r>>>((3&i)<<3)&255;return rnds}}module.exports=rng}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"))},"./node_modules/uuid-browser/v4.js":function(module,exports,__webpack_require__){var rng=__webpack_require__("./node_modules/uuid-browser/lib/rng-browser.js"),bytesToUuid=__webpack_require__("./node_modules/uuid-browser/lib/bytesToUuid.js");module.exports=function v4(options,buf,offset){var i=buf&&offset||0;"string"==typeof options&&(buf="binary"==options?new Array(16):null,options=null);var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;ii<16;++ii)buf[i+ii]=rnds[ii];return buf||bytesToUuid(rnds)}},"./node_modules/webpack/buildin/global.js":function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){"object"==typeof window&&(g=window)}module.exports=g},"./node_modules/webpack/buildin/harmony-module.js":function(module,exports){module.exports=function(originalModule){if(!originalModule.webpackPolyfill){var module=Object.create(originalModule);module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),Object.defineProperty(module,"exports",{enumerable:!0}),module.webpackPolyfill=1}return module}},"./node_modules/webpack/buildin/module.js":function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},"./node_modules/zrender/lib/core/LRU.js":function(module,__webpack_exports__,__webpack_require__){"use strict";var Entry=function Entry(val){this.value=val},LinkedList=function(){function LinkedList(){this._len=0}return LinkedList.prototype.insert=function(val){var entry=new Entry(val);return this.insertEntry(entry),entry},LinkedList.prototype.insertEntry=function(entry){this.head?(this.tail.next=entry,entry.prev=this.tail,entry.next=null,this.tail=entry):this.head=this.tail=entry,this._len++},LinkedList.prototype.remove=function(entry){var prev=entry.prev,next=entry.next;prev?prev.next=next:this.head=next,next?next.prev=prev:this.tail=prev,entry.next=entry.prev=null,this._len--},LinkedList.prototype.len=function(){return this._len},LinkedList.prototype.clear=function(){this.head=this.tail=null,this._len=0},LinkedList}(),LRU=function(){function LRU(maxSize){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=maxSize}return LRU.prototype.put=function(key,value){var list=this._list,map=this._map,removed=null;if(null==map[key]){var len=list.len(),entry=this._lastRemovedEntry;if(len>=this._maxSize&&len>0){var leastUsedEntry=list.head;list.remove(leastUsedEntry),delete map[leastUsedEntry.key],removed=leastUsedEntry.value,this._lastRemovedEntry=leastUsedEntry}entry?entry.value=value:entry=new Entry(value),entry.key=key,list.insertEntry(entry),map[key]=entry}return removed},LRU.prototype.get=function(key){var entry=this._map[key],list=this._list;if(null!=entry)return entry!==list.tail&&(list.remove(entry),list.insertEntry(entry)),entry.value},LRU.prototype.clear=function(){this._list.clear(),this._map={}},LRU.prototype.len=function(){return this._list.len()},LRU}();__webpack_exports__.a=LRU},"./node_modules/zrender/lib/core/env.js":function(module,__webpack_exports__,__webpack_require__){"use strict";var Browser=function Browser(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},env=new function Env(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(env.wxa=!0,env.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?env.worker=!0:"undefined"==typeof navigator?(env.node=!0,env.svgSupported=!0):function detect(ua,env){var browser=env.browser,firefox=ua.match(/Firefox\/([\d.]+)/),ie=ua.match(/MSIE\s([\d.]+)/)||ua.match(/Trident\/.+?rv:(([\d.]+))/),edge=ua.match(/Edge?\/([\d.]+)/),weChat=/micromessenger/i.test(ua);firefox&&(browser.firefox=!0,browser.version=firefox[1]);ie&&(browser.ie=!0,browser.version=ie[1]);edge&&(browser.edge=!0,browser.version=edge[1],browser.newEdge=+edge[1].split(".")[0]>18);weChat&&(browser.weChat=!0);env.svgSupported="undefined"!=typeof SVGRect,env.touchEventsSupported="ontouchstart"in window&&!browser.ie&&!browser.edge,env.pointerEventsSupported="onpointerdown"in window&&(browser.edge||browser.ie&&+browser.version>=11),env.domSupported="undefined"!=typeof document;var style=document.documentElement.style;env.transform3dSupported=(browser.ie&&"transition"in style||browser.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in style)&&!("OTransition"in style),env.transformSupported=env.transform3dSupported||browser.ie&&+browser.version>=9}(navigator.userAgent,env),__webpack_exports__.a=env},"./node_modules/zrender/lib/core/platform.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return DEFAULT_FONT_SIZE})),__webpack_require__.d(__webpack_exports__,"b",(function(){return DEFAULT_FONT_FAMILY})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DEFAULT_FONT})),__webpack_require__.d(__webpack_exports__,"d",(function(){return platformApi})),__webpack_require__.d(__webpack_exports__,"e",(function(){return setPlatformAPI}));var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY;var _ctx,_cachedFont,DEFAULT_TEXT_WIDTH_MAP=function getTextWidthMap(mapStr){var map={};if("undefined"==typeof JSON)return map;for(var i=0;i<mapStr.length;i++){var char=String.fromCharCode(i+32),size=(mapStr.charCodeAt(i)-20)/100;map[char]=size}return map}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),platformApi={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(text,font){if(!_ctx){var canvas=platformApi.createCanvas();_ctx=canvas&&canvas.getContext("2d")}if(_ctx)return _cachedFont!==font&&(_cachedFont=_ctx.font=font||DEFAULT_FONT),_ctx.measureText(text);text=text||"";var res=/^([0-9]*?)px$/.exec(font=font||DEFAULT_FONT),fontSize=+(res&&res[1])||DEFAULT_FONT_SIZE,width=0;if(font.indexOf("mono")>=0)width=fontSize*text.length;else for(var i=0;i<text.length;i++){var preCalcWidth=DEFAULT_TEXT_WIDTH_MAP[text[i]];width+=null==preCalcWidth?fontSize:preCalcWidth*fontSize}return{width:width}},loadImage:function(src,onload,onerror){var image=new Image;return image.onload=onload,image.onerror=onerror,image.src=src,image}};function setPlatformAPI(newPlatformApis){for(var key in platformApi)newPlatformApis[key]&&(platformApi[key]=newPlatformApis[key])}},"./node_modules/zrender/lib/core/util.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"guid",(function(){return guid})),__webpack_require__.d(__webpack_exports__,"logError",(function(){return logError})),__webpack_require__.d(__webpack_exports__,"clone",(function(){return clone})),__webpack_require__.d(__webpack_exports__,"merge",(function(){return merge})),__webpack_require__.d(__webpack_exports__,"mergeAll",(function(){return mergeAll})),__webpack_require__.d(__webpack_exports__,"extend",(function(){return extend})),__webpack_require__.d(__webpack_exports__,"defaults",(function(){return defaults})),__webpack_require__.d(__webpack_exports__,"createCanvas",(function(){return createCanvas})),__webpack_require__.d(__webpack_exports__,"indexOf",(function(){return indexOf})),__webpack_require__.d(__webpack_exports__,"inherits",(function(){return inherits})),__webpack_require__.d(__webpack_exports__,"mixin",(function(){return mixin})),__webpack_require__.d(__webpack_exports__,"isArrayLike",(function(){return isArrayLike})),__webpack_require__.d(__webpack_exports__,"each",(function(){return each})),__webpack_require__.d(__webpack_exports__,"map",(function(){return map})),__webpack_require__.d(__webpack_exports__,"reduce",(function(){return reduce})),__webpack_require__.d(__webpack_exports__,"filter",(function(){return filter})),__webpack_require__.d(__webpack_exports__,"find",(function(){return find})),__webpack_require__.d(__webpack_exports__,"keys",(function(){return keys})),__webpack_require__.d(__webpack_exports__,"bind",(function(){return bind})),__webpack_require__.d(__webpack_exports__,"curry",(function(){return curry})),__webpack_require__.d(__webpack_exports__,"isArray",(function(){return isArray})),__webpack_require__.d(__webpack_exports__,"isFunction",(function(){return isFunction})),__webpack_require__.d(__webpack_exports__,"isString",(function(){return isString})),__webpack_require__.d(__webpack_exports__,"isStringSafe",(function(){return isStringSafe})),__webpack_require__.d(__webpack_exports__,"isNumber",(function(){return isNumber})),__webpack_require__.d(__webpack_exports__,"isObject",(function(){return isObject})),__webpack_require__.d(__webpack_exports__,"isBuiltInObject",(function(){return isBuiltInObject})),__webpack_require__.d(__webpack_exports__,"isTypedArray",(function(){return isTypedArray})),__webpack_require__.d(__webpack_exports__,"isDom",(function(){return isDom})),__webpack_require__.d(__webpack_exports__,"isGradientObject",(function(){return isGradientObject})),__webpack_require__.d(__webpack_exports__,"isImagePatternObject",(function(){return isImagePatternObject})),__webpack_require__.d(__webpack_exports__,"isRegExp",(function(){return isRegExp})),__webpack_require__.d(__webpack_exports__,"eqNaN",(function(){return eqNaN})),__webpack_require__.d(__webpack_exports__,"retrieve",(function(){return retrieve})),__webpack_require__.d(__webpack_exports__,"retrieve2",(function(){return retrieve2})),__webpack_require__.d(__webpack_exports__,"retrieve3",(function(){return retrieve3})),__webpack_require__.d(__webpack_exports__,"slice",(function(){return slice})),__webpack_require__.d(__webpack_exports__,"normalizeCssArray",(function(){return normalizeCssArray})),__webpack_require__.d(__webpack_exports__,"assert",(function(){return assert})),__webpack_require__.d(__webpack_exports__,"trim",(function(){return trim})),__webpack_require__.d(__webpack_exports__,"setAsPrimitive",(function(){return setAsPrimitive})),__webpack_require__.d(__webpack_exports__,"isPrimitive",(function(){return isPrimitive})),__webpack_require__.d(__webpack_exports__,"HashMap",(function(){return HashMap})),__webpack_require__.d(__webpack_exports__,"createHashMap",(function(){return createHashMap})),__webpack_require__.d(__webpack_exports__,"concatArray",(function(){return concatArray})),__webpack_require__.d(__webpack_exports__,"createObject",(function(){return createObject})),__webpack_require__.d(__webpack_exports__,"disableUserSelect",(function(){return disableUserSelect})),__webpack_require__.d(__webpack_exports__,"hasOwn",(function(){return hasOwn})),__webpack_require__.d(__webpack_exports__,"noop",(function(){return noop})),__webpack_require__.d(__webpack_exports__,"RADIAN_TO_DEGREE",(function(){return RADIAN_TO_DEGREE}));var _platform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/platform.js"),BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],(function(obj,val){return obj["[object "+val+"]"]=!0,obj}),{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],(function(obj,val){return obj["[object "+val+"Array]"]=!0,obj}),{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=function(){}.constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,idStart=2311;function guid(){return idStart++}function logError(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];"undefined"!=typeof console&&console.error.apply(console,args)}function clone(source){if(null==source||"object"!=typeof source)return source;var result=source,typeStr=objToString.call(source);if("[object Array]"===typeStr){if(!isPrimitive(source)){result=[];for(var i=0,len=source.length;i<len;i++)result[i]=clone(source[i])}}else if(TYPED_ARRAY[typeStr]){if(!isPrimitive(source)){var Ctor=source.constructor;if(Ctor.from)result=Ctor.from(source);else{result=new Ctor(source.length);for(i=0,len=source.length;i<len;i++)result[i]=source[i]}}}else if(!BUILTIN_OBJECT[typeStr]&&!isPrimitive(source)&&!isDom(source))for(var key in result={},source)source.hasOwnProperty(key)&&"__proto__"!==key&&(result[key]=clone(source[key]));return result}function merge(target,source,overwrite){if(!isObject(source)||!isObject(target))return overwrite?clone(source):target;for(var key in source)if(source.hasOwnProperty(key)&&"__proto__"!==key){var targetProp=target[key],sourceProp=source[key];!isObject(sourceProp)||!isObject(targetProp)||isArray(sourceProp)||isArray(targetProp)||isDom(sourceProp)||isDom(targetProp)||isBuiltInObject(sourceProp)||isBuiltInObject(targetProp)||isPrimitive(sourceProp)||isPrimitive(targetProp)?!overwrite&&key in target||(target[key]=clone(source[key])):merge(targetProp,sourceProp,overwrite)}return target}function mergeAll(targetAndSources,overwrite){for(var result=targetAndSources[0],i=1,len=targetAndSources.length;i<len;i++)result=merge(result,targetAndSources[i],overwrite);return result}function extend(target,source){if(Object.assign)Object.assign(target,source);else for(var key in source)source.hasOwnProperty(key)&&"__proto__"!==key&&(target[key]=source[key]);return target}function defaults(target,source,overlay){for(var keysArr=keys(source),i=0;i<keysArr.length;i++){var key=keysArr[i];(overlay?null!=source[key]:null==target[key])&&(target[key]=source[key])}return target}var createCanvas=_platform_js__WEBPACK_IMPORTED_MODULE_0__.d.createCanvas;function indexOf(array,value){if(array){if(array.indexOf)return array.indexOf(value);for(var i=0,len=array.length;i<len;i++)if(array[i]===value)return i}return-1}function inherits(clazz,baseClazz){var clazzPrototype=clazz.prototype;function F(){}for(var prop in F.prototype=baseClazz.prototype,clazz.prototype=new F,clazzPrototype)clazzPrototype.hasOwnProperty(prop)&&(clazz.prototype[prop]=clazzPrototype[prop]);clazz.prototype.constructor=clazz,clazz.superClass=baseClazz}function mixin(target,source,override){if(target="prototype"in target?target.prototype:target,source="prototype"in source?source.prototype:source,Object.getOwnPropertyNames)for(var keyList=Object.getOwnPropertyNames(source),i=0;i<keyList.length;i++){var key=keyList[i];"constructor"!==key&&(override?null!=source[key]:null==target[key])&&(target[key]=source[key])}else defaults(target,source,override)}function isArrayLike(data){return!!data&&("string"!=typeof data&&"number"==typeof data.length)}function each(arr,cb,context){if(arr&&cb)if(arr.forEach&&arr.forEach===nativeForEach)arr.forEach(cb,context);else if(arr.length===+arr.length)for(var i=0,len=arr.length;i<len;i++)cb.call(context,arr[i],i,arr);else for(var key in arr)arr.hasOwnProperty(key)&&cb.call(context,arr[key],key,arr)}function map(arr,cb,context){if(!arr)return[];if(!cb)return slice(arr);if(arr.map&&arr.map===nativeMap)return arr.map(cb,context);for(var result=[],i=0,len=arr.length;i<len;i++)result.push(cb.call(context,arr[i],i,arr));return result}function reduce(arr,cb,memo,context){if(arr&&cb){for(var i=0,len=arr.length;i<len;i++)memo=cb.call(context,memo,arr[i],i,arr);return memo}}function filter(arr,cb,context){if(!arr)return[];if(!cb)return slice(arr);if(arr.filter&&arr.filter===nativeFilter)return arr.filter(cb,context);for(var result=[],i=0,len=arr.length;i<len;i++)cb.call(context,arr[i],i,arr)&&result.push(arr[i]);return result}function find(arr,cb,context){if(arr&&cb)for(var i=0,len=arr.length;i<len;i++)if(cb.call(context,arr[i],i,arr))return arr[i]}function keys(obj){if(!obj)return[];if(Object.keys)return Object.keys(obj);var keyList=[];for(var key in obj)obj.hasOwnProperty(key)&&keyList.push(key);return keyList}var bind=protoFunction&&isFunction(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):function bindPolyfill(func,context){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];return function(){return func.apply(context,args.concat(nativeSlice.call(arguments)))}};function curry(func){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];return function(){return func.apply(this,args.concat(nativeSlice.call(arguments)))}}function isArray(value){return Array.isArray?Array.isArray(value):"[object Array]"===objToString.call(value)}function isFunction(value){return"function"==typeof value}function isString(value){return"string"==typeof value}function isStringSafe(value){return"[object String]"===objToString.call(value)}function isNumber(value){return"number"==typeof value}function isObject(value){var type=typeof value;return"function"===type||!!value&&"object"===type}function isBuiltInObject(value){return!!BUILTIN_OBJECT[objToString.call(value)]}function isTypedArray(value){return!!TYPED_ARRAY[objToString.call(value)]}function isDom(value){return"object"==typeof value&&"number"==typeof value.nodeType&&"object"==typeof value.ownerDocument}function isGradientObject(value){return null!=value.colorStops}function isImagePatternObject(value){return null!=value.image}function isRegExp(value){return"[object RegExp]"===objToString.call(value)}function eqNaN(value){return value!=value}function retrieve(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];for(var i=0,len=args.length;i<len;i++)if(null!=args[i])return args[i]}function retrieve2(value0,value1){return null!=value0?value0:value1}function retrieve3(value0,value1,value2){return null!=value0?value0:null!=value1?value1:value2}function slice(arr){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];return nativeSlice.apply(arr,args)}function normalizeCssArray(val){if("number"==typeof val)return[val,val,val,val];var len=val.length;return 2===len?[val[0],val[1],val[0],val[1]]:3===len?[val[0],val[1],val[2],val[1]]:val}function assert(condition,message){if(!condition)throw new Error(message)}function trim(str){return null==str?null:"function"==typeof str.trim?str.trim():str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function setAsPrimitive(obj){obj.__ec_primitive__=!0}function isPrimitive(obj){return obj.__ec_primitive__}var HashMap=function(){function HashMap(obj){this.data={};var isArr=isArray(obj);this.data={};var thisMap=this;function visit(value,key){isArr?thisMap.set(value,key):thisMap.set(key,value)}obj instanceof HashMap?obj.each(visit):obj&&each(obj,visit)}return HashMap.prototype.get=function(key){return this.data.hasOwnProperty(key)?this.data[key]:null},HashMap.prototype.set=function(key,value){return this.data[key]=value},HashMap.prototype.each=function(cb,context){for(var key in this.data)this.data.hasOwnProperty(key)&&cb.call(context,this.data[key],key)},HashMap.prototype.keys=function(){return keys(this.data)},HashMap.prototype.removeKey=function(key){delete this.data[key]},HashMap}();function createHashMap(obj){return new HashMap(obj)}function concatArray(a,b){for(var newArray=new a.constructor(a.length+b.length),i=0;i<a.length;i++)newArray[i]=a[i];var offset=a.length;for(i=0;i<b.length;i++)newArray[i+offset]=b[i];return newArray}function createObject(proto,properties){var obj;if(Object.create)obj=Object.create(proto);else{var StyleCtor=function(){};StyleCtor.prototype=proto,obj=new StyleCtor}return properties&&extend(obj,properties),obj}function disableUserSelect(dom){var domStyle=dom.style;domStyle.webkitUserSelect="none",domStyle.userSelect="none",domStyle.webkitTapHighlightColor="rgba(0,0,0,0)",domStyle["-webkit-touch-callout"]="none"}function hasOwn(own,prop){return own.hasOwnProperty(prop)}function noop(){}var RADIAN_TO_DEGREE=180/Math.PI},"./node_modules/zrender/lib/svg/helper.js":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Buffer){__webpack_require__.d(__webpack_exports__,"p",(function(){return normalizeColor})),__webpack_require__.d(__webpack_exports__,"j",(function(){return isAroundZero})),__webpack_require__.d(__webpack_exports__,"q",(function(){return round4})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getMatrixStr})),__webpack_require__.d(__webpack_exports__,"a",(function(){return TEXT_ALIGN_TO_ANCHOR})),__webpack_require__.d(__webpack_exports__,"b",(function(){return adjustTextY})),__webpack_require__.d(__webpack_exports__,"i",(function(){return hasShadow})),__webpack_require__.d(__webpack_exports__,"h",(function(){return getShadowKey})),__webpack_require__.d(__webpack_exports__,"l",(function(){return isImagePattern})),__webpack_require__.d(__webpack_exports__,"n",(function(){return isPattern})),__webpack_require__.d(__webpack_exports__,"m",(function(){return isLinearGradient})),__webpack_require__.d(__webpack_exports__,"o",(function(){return isRadialGradient})),__webpack_require__.d(__webpack_exports__,"k",(function(){return isGradient})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getIdURL})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getPathPrecision})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getSRTTransformString})),__webpack_require__.d(__webpack_exports__,"c",(function(){return encodeBase64}));var _core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_tool_color_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/tool/color.js"),_core_env_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/env.js"),mathRound=Math.round;function normalizeColor(color){var opacity;if(color&&"transparent"!==color){if("string"==typeof color&&color.indexOf("rgba")>-1){var arr=Object(_tool_color_js__WEBPACK_IMPORTED_MODULE_1__.parse)(color);arr&&(color="rgb("+arr[0]+","+arr[1]+","+arr[2]+")",opacity=arr[3])}}else color="none";return{color:color,opacity:null==opacity?1:opacity}}function isAroundZero(transform){return transform<1e-4&&transform>-1e-4}function round3(transform){return mathRound(1e3*transform)/1e3}function round4(transform){return mathRound(1e4*transform)/1e4}function getMatrixStr(m){return"matrix("+round3(m[0])+","+round3(m[1])+","+round3(m[2])+","+round3(m[3])+","+round4(m[4])+","+round4(m[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY(y,lineHeight,textBaseline){return"top"===textBaseline?y+=lineHeight/2:"bottom"===textBaseline&&(y-=lineHeight/2),y}function hasShadow(style){return style&&(style.shadowBlur||style.shadowOffsetX||style.shadowOffsetY)}function getShadowKey(displayable){var style=displayable.style,globalScale=displayable.getGlobalScale();return[style.shadowColor,(style.shadowBlur||0).toFixed(2),(style.shadowOffsetX||0).toFixed(2),(style.shadowOffsetY||0).toFixed(2),globalScale[0],globalScale[1]].join(",")}function isImagePattern(val){return val&&!!val.image}function isPattern(val){return isImagePattern(val)||function isSVGPattern(val){return val&&!!val.svgElement}(val)}function isLinearGradient(val){return"linear"===val.type}function isRadialGradient(val){return"radial"===val.type}function isGradient(val){return val&&("linear"===val.type||"radial"===val.type)}function getIdURL(id){return"url(#"+id+")"}function getPathPrecision(el){var scale=el.getGlobalScale(),size=Math.max(scale[0],scale[1]);return Math.max(Math.ceil(Math.log(size)/Math.log(10)),1)}function getSRTTransformString(transform){var x=transform.x||0,y=transform.y||0,rotation=(transform.rotation||0)*_core_util_js__WEBPACK_IMPORTED_MODULE_0__.RADIAN_TO_DEGREE,scaleX=Object(_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve2)(transform.scaleX,1),scaleY=Object(_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve2)(transform.scaleY,1),skewX=transform.skewX||0,skewY=transform.skewY||0,res=[];return(x||y)&&res.push("translate("+x+"px,"+y+"px)"),rotation&&res.push("rotate("+rotation+")"),1===scaleX&&1===scaleY||res.push("scale("+scaleX+","+scaleY+")"),(skewX||skewY)&&res.push("skew("+mathRound(skewX*_core_util_js__WEBPACK_IMPORTED_MODULE_0__.RADIAN_TO_DEGREE)+"deg, "+mathRound(skewY*_core_util_js__WEBPACK_IMPORTED_MODULE_0__.RADIAN_TO_DEGREE)+"deg)"),res.join(" ")}var encodeBase64=_core_env_js__WEBPACK_IMPORTED_MODULE_2__.a.hasGlobalWindow&&Object(_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(window.btoa)?function(str){return window.btoa(unescape(str))}:void 0!==Buffer?function(str){return Buffer.from(str).toString("base64")}:function(str){return null}}).call(this,__webpack_require__("./node_modules/buffer/index.js").Buffer)},"./node_modules/zrender/lib/tool/color.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parse",(function(){return parse})),__webpack_require__.d(__webpack_exports__,"lift",(function(){return lift})),__webpack_require__.d(__webpack_exports__,"toHex",(function(){return toHex})),__webpack_require__.d(__webpack_exports__,"fastLerp",(function(){return fastLerp})),__webpack_require__.d(__webpack_exports__,"fastMapToColor",(function(){return fastMapToColor})),__webpack_require__.d(__webpack_exports__,"lerp",(function(){return lerp})),__webpack_require__.d(__webpack_exports__,"mapToColor",(function(){return mapToColor})),__webpack_require__.d(__webpack_exports__,"modifyHSL",(function(){return modifyHSL})),__webpack_require__.d(__webpack_exports__,"modifyAlpha",(function(){return modifyAlpha})),__webpack_require__.d(__webpack_exports__,"stringify",(function(){return stringify})),__webpack_require__.d(__webpack_exports__,"lum",(function(){return lum})),__webpack_require__.d(__webpack_exports__,"random",(function(){return random}));var _core_LRU_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/LRU.js"),kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(i){return(i=Math.round(i))<0?0:i>255?255:i}function clampCssFloat(f){return f<0?0:f>1?1:f}function parseCssInt(val){var str=val;return str.length&&"%"===str.charAt(str.length-1)?clampCssByte(parseFloat(str)/100*255):clampCssByte(parseInt(str,10))}function parseCssFloat(val){var str=val;return str.length&&"%"===str.charAt(str.length-1)?clampCssFloat(parseFloat(str)/100):clampCssFloat(parseFloat(str))}function cssHueToRgb(m1,m2,h){return h<0?h+=1:h>1&&(h-=1),6*h<1?m1+(m2-m1)*h*6:2*h<1?m2:3*h<2?m1+(m2-m1)*(2/3-h)*6:m1}function lerpNumber(a,b,p){return a+(b-a)*p}function setRgba(out,r,g,b,a){return out[0]=r,out[1]=g,out[2]=b,out[3]=a,out}function copyRgba(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}var colorCache=new _core_LRU_js__WEBPACK_IMPORTED_MODULE_0__.a(20),lastRemovedArr=null;function putToCache(colorStr,rgbaArr){lastRemovedArr&&copyRgba(lastRemovedArr,rgbaArr),lastRemovedArr=colorCache.put(colorStr,lastRemovedArr||rgbaArr.slice())}function parse(colorStr,rgbaArr){if(colorStr){rgbaArr=rgbaArr||[];var cached=colorCache.get(colorStr);if(cached)return copyRgba(rgbaArr,cached);var str=(colorStr+="").replace(/ /g,"").toLowerCase();if(str in kCSSColorTable)return copyRgba(rgbaArr,kCSSColorTable[str]),putToCache(colorStr,rgbaArr),rgbaArr;var iv,strLen=str.length;if("#"===str.charAt(0))return 4===strLen||5===strLen?(iv=parseInt(str.slice(1,4),16))>=0&&iv<=4095?(setRgba(rgbaArr,(3840&iv)>>4|(3840&iv)>>8,240&iv|(240&iv)>>4,15&iv|(15&iv)<<4,5===strLen?parseInt(str.slice(4),16)/15:1),putToCache(colorStr,rgbaArr),rgbaArr):void setRgba(rgbaArr,0,0,0,1):7===strLen||9===strLen?(iv=parseInt(str.slice(1,7),16))>=0&&iv<=16777215?(setRgba(rgbaArr,(16711680&iv)>>16,(65280&iv)>>8,255&iv,9===strLen?parseInt(str.slice(7),16)/255:1),putToCache(colorStr,rgbaArr),rgbaArr):void setRgba(rgbaArr,0,0,0,1):void 0;var op=str.indexOf("("),ep=str.indexOf(")");if(-1!==op&&ep+1===strLen){var fname=str.substr(0,op),params=str.substr(op+1,ep-(op+1)).split(","),alpha=1;switch(fname){case"rgba":if(4!==params.length)return 3===params.length?setRgba(rgbaArr,+params[0],+params[1],+params[2],1):setRgba(rgbaArr,0,0,0,1);alpha=parseCssFloat(params.pop());case"rgb":return 3!==params.length?void setRgba(rgbaArr,0,0,0,1):(setRgba(rgbaArr,parseCssInt(params[0]),parseCssInt(params[1]),parseCssInt(params[2]),alpha),putToCache(colorStr,rgbaArr),rgbaArr);case"hsla":return 4!==params.length?void setRgba(rgbaArr,0,0,0,1):(params[3]=parseCssFloat(params[3]),hsla2rgba(params,rgbaArr),putToCache(colorStr,rgbaArr),rgbaArr);case"hsl":return 3!==params.length?void setRgba(rgbaArr,0,0,0,1):(hsla2rgba(params,rgbaArr),putToCache(colorStr,rgbaArr),rgbaArr);default:return}}setRgba(rgbaArr,0,0,0,1)}}function hsla2rgba(hsla,rgba){var h=(parseFloat(hsla[0])%360+360)%360/360,s=parseCssFloat(hsla[1]),l=parseCssFloat(hsla[2]),m2=l<=.5?l*(s+1):l+s-l*s,m1=2*l-m2;return setRgba(rgba=rgba||[],clampCssByte(255*cssHueToRgb(m1,m2,h+1/3)),clampCssByte(255*cssHueToRgb(m1,m2,h)),clampCssByte(255*cssHueToRgb(m1,m2,h-1/3)),1),4===hsla.length&&(rgba[3]=hsla[3]),rgba}function lift(color,level){var colorArr=parse(color);if(colorArr){for(var i=0;i<3;i++)colorArr[i]=level<0?colorArr[i]*(1-level)|0:(255-colorArr[i])*level+colorArr[i]|0,colorArr[i]>255?colorArr[i]=255:colorArr[i]<0&&(colorArr[i]=0);return stringify(colorArr,4===colorArr.length?"rgba":"rgb")}}function toHex(color){var colorArr=parse(color);if(colorArr)return((1<<24)+(colorArr[0]<<16)+(colorArr[1]<<8)+ +colorArr[2]).toString(16).slice(1)}function fastLerp(normalizedValue,colors,out){if(colors&&colors.length&&normalizedValue>=0&&normalizedValue<=1){out=out||[];var value=normalizedValue*(colors.length-1),leftIndex=Math.floor(value),rightIndex=Math.ceil(value),leftColor=colors[leftIndex],rightColor=colors[rightIndex],dv=value-leftIndex;return out[0]=clampCssByte(lerpNumber(leftColor[0],rightColor[0],dv)),out[1]=clampCssByte(lerpNumber(leftColor[1],rightColor[1],dv)),out[2]=clampCssByte(lerpNumber(leftColor[2],rightColor[2],dv)),out[3]=clampCssFloat(lerpNumber(leftColor[3],rightColor[3],dv)),out}}var fastMapToColor=fastLerp;function lerp(normalizedValue,colors,fullOutput){if(colors&&colors.length&&normalizedValue>=0&&normalizedValue<=1){var value=normalizedValue*(colors.length-1),leftIndex=Math.floor(value),rightIndex=Math.ceil(value),leftColor=parse(colors[leftIndex]),rightColor=parse(colors[rightIndex]),dv=value-leftIndex,color=stringify([clampCssByte(lerpNumber(leftColor[0],rightColor[0],dv)),clampCssByte(lerpNumber(leftColor[1],rightColor[1],dv)),clampCssByte(lerpNumber(leftColor[2],rightColor[2],dv)),clampCssFloat(lerpNumber(leftColor[3],rightColor[3],dv))],"rgba");return fullOutput?{color:color,leftIndex:leftIndex,rightIndex:rightIndex,value:value}:color}}var mapToColor=lerp;function modifyHSL(color,h,s,l){var colorArr=parse(color);if(color)return colorArr=function rgba2hsla(rgba){if(rgba){var H,S,R=rgba[0]/255,G=rgba[1]/255,B=rgba[2]/255,vMin=Math.min(R,G,B),vMax=Math.max(R,G,B),delta=vMax-vMin,L=(vMax+vMin)/2;if(0===delta)H=0,S=0;else{S=L<.5?delta/(vMax+vMin):delta/(2-vMax-vMin);var deltaR=((vMax-R)/6+delta/2)/delta,deltaG=((vMax-G)/6+delta/2)/delta,deltaB=((vMax-B)/6+delta/2)/delta;R===vMax?H=deltaB-deltaG:G===vMax?H=1/3+deltaR-deltaB:B===vMax&&(H=2/3+deltaG-deltaR),H<0&&(H+=1),H>1&&(H-=1)}var hsla=[360*H,S,L];return null!=rgba[3]&&hsla.push(rgba[3]),hsla}}(colorArr),null!=h&&(colorArr[0]=function clampCssAngle(i){return(i=Math.round(i))<0?0:i>360?360:i}(h)),null!=s&&(colorArr[1]=parseCssFloat(s)),null!=l&&(colorArr[2]=parseCssFloat(l)),stringify(hsla2rgba(colorArr),"rgba")}function modifyAlpha(color,alpha){var colorArr=parse(color);if(colorArr&&null!=alpha)return colorArr[3]=clampCssFloat(alpha),stringify(colorArr,"rgba")}function stringify(arrColor,type){if(arrColor&&arrColor.length){var colorStr=arrColor[0]+","+arrColor[1]+","+arrColor[2];return"rgba"!==type&&"hsva"!==type&&"hsla"!==type||(colorStr+=","+arrColor[3]),type+"("+colorStr+")"}}function lum(color,backgroundLum){var arr=parse(color);return arr?(.299*arr[0]+.587*arr[1]+.114*arr[2])*arr[3]/255+(1-arr[3])*backgroundLum:0}function random(){return stringify([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}}}]);
//# sourceMappingURL=vendors~main.9b6818ec.iframe.bundle.js.map